/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/google-gax";
exports.ids = ["vendor-chunks/google-gax"];
exports.modules = {

/***/ "(rsc)/./node_modules/google-gax/build/protos/iam_service.js":
/*!*************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/iam_service.js ***!
  \*************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(e=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! protobufjs/minimal */ \"(rsc)/./node_modules/protobufjs/minimal.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(o){var e,t,n,r,F,a=o.Reader,i=o.Writer,p=o.util,l=o.roots.iam_protos||(o.roots.iam_protos={});function B(e,t,n){o.rpc.Service.call(this,e,t,n)}function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function u(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function c(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function G(e){if(this.permissions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(this.bindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(this.members=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(this.bindingDeltas=[],this.auditConfigDeltas=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function L(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(this.pattern=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function q(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Y(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function z(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function W(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function X(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(this.uninterpretedOption=[],this[\".google.api.resourceDefinition\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.uninterpretedOption=[],this[\".google.api.fieldBehavior\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Q(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function K(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(this.uninterpretedOption=[],this[\".google.api.methodSignature\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Z(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function $(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ee(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return l.google=((F={}).iam=((n={}).v1=((t={}).IAMPolicy=(((B.prototype=Object.create(o.rpc.Service.prototype)).constructor=B).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(B.prototype.setIamPolicy=function e(t,n){return this.rpcCall(e,l.google.iam.v1.SetIamPolicyRequest,l.google.iam.v1.Policy,t,n)},\"name\",{value:\"SetIamPolicy\"}),Object.defineProperty(B.prototype.getIamPolicy=function e(t,n){return this.rpcCall(e,l.google.iam.v1.GetIamPolicyRequest,l.google.iam.v1.Policy,t,n)},\"name\",{value:\"GetIamPolicy\"}),Object.defineProperty(B.prototype.testIamPermissions=function e(t,n){return this.rpcCall(e,l.google.iam.v1.TestIamPermissionsRequest,l.google.iam.v1.TestIamPermissionsResponse,t,n)},\"name\",{value:\"TestIamPermissions\"}),B),t.SetIamPolicyRequest=(s.prototype.resource=\"\",s.prototype.policy=null,s.create=function(e){return new s(e)},s.encode=function(e,t){return t=t||i.create(),null!=e.resource&&Object.hasOwnProperty.call(e,\"resource\")&&t.uint32(10).string(e.resource),null!=e.policy&&Object.hasOwnProperty.call(e,\"policy\")&&l.google.iam.v1.Policy.encode(e.policy,t.uint32(18).fork()).ldelim(),t},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.SetIamPolicyRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.resource=e.string();break;case 2:o.policy=l.google.iam.v1.Policy.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},s.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},s.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.resource&&e.hasOwnProperty(\"resource\")&&!p.isString(e.resource))return\"resource: string expected\";if(null!=e.policy&&e.hasOwnProperty(\"policy\")){e=l.google.iam.v1.Policy.verify(e.policy);if(e)return\"policy.\"+e}return null},s.fromObject=function(e){if(e instanceof l.google.iam.v1.SetIamPolicyRequest)return e;var t=new l.google.iam.v1.SetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.policy){if(\"object\"!=typeof e.policy)throw TypeError(\".google.iam.v1.SetIamPolicyRequest.policy: object expected\");t.policy=l.google.iam.v1.Policy.fromObject(e.policy)}return t},s.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.resource=\"\",n.policy=null),null!=e.resource&&e.hasOwnProperty(\"resource\")&&(n.resource=e.resource),null!=e.policy&&e.hasOwnProperty(\"policy\")&&(n.policy=l.google.iam.v1.Policy.toObject(e.policy,t)),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},s),t.GetIamPolicyRequest=(u.prototype.resource=\"\",u.prototype.options=null,u.create=function(e){return new u(e)},u.encode=function(e,t){return t=t||i.create(),null!=e.resource&&Object.hasOwnProperty.call(e,\"resource\")&&t.uint32(10).string(e.resource),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.iam.v1.GetPolicyOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.GetIamPolicyRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.resource=e.string();break;case 2:o.options=l.google.iam.v1.GetPolicyOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},u.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},u.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.resource&&e.hasOwnProperty(\"resource\")&&!p.isString(e.resource))return\"resource: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.iam.v1.GetPolicyOptions.verify(e.options);if(e)return\"options.\"+e}return null},u.fromObject=function(e){if(e instanceof l.google.iam.v1.GetIamPolicyRequest)return e;var t=new l.google.iam.v1.GetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.iam.v1.GetIamPolicyRequest.options: object expected\");t.options=l.google.iam.v1.GetPolicyOptions.fromObject(e.options)}return t},u.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.resource=\"\",n.options=null),null!=e.resource&&e.hasOwnProperty(\"resource\")&&(n.resource=e.resource),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.iam.v1.GetPolicyOptions.toObject(e.options,t)),n},u.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},u),t.TestIamPermissionsRequest=(c.prototype.resource=\"\",c.prototype.permissions=p.emptyArray,c.create=function(e){return new c(e)},c.encode=function(e,t){if(t=t||i.create(),null!=e.resource&&Object.hasOwnProperty.call(e,\"resource\")&&t.uint32(10).string(e.resource),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(18).string(e.permissions[n]);return t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.TestIamPermissionsRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.resource=e.string();break;case 2:o.permissions&&o.permissions.length||(o.permissions=[]),o.permissions.push(e.string());break;default:e.skipType(7&r)}}return o},c.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},c.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.resource&&e.hasOwnProperty(\"resource\")&&!p.isString(e.resource))return\"resource: string expected\";if(null!=e.permissions&&e.hasOwnProperty(\"permissions\")){if(!Array.isArray(e.permissions))return\"permissions: array expected\";for(var t=0;t<e.permissions.length;++t)if(!p.isString(e.permissions[t]))return\"permissions: string[] expected\"}return null},c.fromObject=function(e){if(e instanceof l.google.iam.v1.TestIamPermissionsRequest)return e;var t=new l.google.iam.v1.TestIamPermissionsRequest;if(null!=e.resource&&(t.resource=String(e.resource)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(\".google.iam.v1.TestIamPermissionsRequest.permissions: array expected\");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},c.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.permissions=[]),t.defaults&&(n.resource=\"\"),null!=e.resource&&e.hasOwnProperty(\"resource\")&&(n.resource=e.resource),e.permissions&&e.permissions.length){n.permissions=[];for(var o=0;o<e.permissions.length;++o)n.permissions[o]=e.permissions[o]}return n},c.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},c),t.TestIamPermissionsResponse=(G.prototype.permissions=p.emptyArray,G.create=function(e){return new G(e)},G.encode=function(e,t){if(t=t||i.create(),null!=e.permissions&&e.permissions.length)for(var n=0;n<e.permissions.length;++n)t.uint32(10).string(e.permissions[n]);return t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.TestIamPermissionsResponse;e.pos<n;){var r=e.uint32();r>>>3==1?(o.permissions&&o.permissions.length||(o.permissions=[]),o.permissions.push(e.string())):e.skipType(7&r)}return o},G.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},G.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.permissions&&e.hasOwnProperty(\"permissions\")){if(!Array.isArray(e.permissions))return\"permissions: array expected\";for(var t=0;t<e.permissions.length;++t)if(!p.isString(e.permissions[t]))return\"permissions: string[] expected\"}return null},G.fromObject=function(e){if(e instanceof l.google.iam.v1.TestIamPermissionsResponse)return e;var t=new l.google.iam.v1.TestIamPermissionsResponse;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(\".google.iam.v1.TestIamPermissionsResponse.permissions: array expected\");t.permissions=[];for(var n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},G.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.permissions=[]),e.permissions&&e.permissions.length){n.permissions=[];for(var o=0;o<e.permissions.length;++o)n.permissions[o]=e.permissions[o]}return n},G.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},G),t.GetPolicyOptions=(U.prototype.requestedPolicyVersion=0,U.create=function(e){return new U(e)},U.encode=function(e,t){return t=t||i.create(),null!=e.requestedPolicyVersion&&Object.hasOwnProperty.call(e,\"requestedPolicyVersion\")&&t.uint32(8).int32(e.requestedPolicyVersion),t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.GetPolicyOptions;e.pos<n;){var r=e.uint32();r>>>3==1?o.requestedPolicyVersion=e.int32():e.skipType(7&r)}return o},U.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},U.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.requestedPolicyVersion&&e.hasOwnProperty(\"requestedPolicyVersion\")&&!p.isInteger(e.requestedPolicyVersion)?\"requestedPolicyVersion: integer expected\":null},U.fromObject=function(e){var t;return e instanceof l.google.iam.v1.GetPolicyOptions?e:(t=new l.google.iam.v1.GetPolicyOptions,null!=e.requestedPolicyVersion&&(t.requestedPolicyVersion=0|e.requestedPolicyVersion),t)},U.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.requestedPolicyVersion=0),null!=e.requestedPolicyVersion&&e.hasOwnProperty(\"requestedPolicyVersion\")&&(n.requestedPolicyVersion=e.requestedPolicyVersion),n},U.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},U),t.Policy=(d.prototype.version=0,d.prototype.bindings=p.emptyArray,d.prototype.etag=p.newBuffer([]),d.create=function(e){return new d(e)},d.encode=function(e,t){if(t=t||i.create(),null!=e.version&&Object.hasOwnProperty.call(e,\"version\")&&t.uint32(8).int32(e.version),null!=e.etag&&Object.hasOwnProperty.call(e,\"etag\")&&t.uint32(26).bytes(e.etag),null!=e.bindings&&e.bindings.length)for(var n=0;n<e.bindings.length;++n)l.google.iam.v1.Binding.encode(e.bindings[n],t.uint32(34).fork()).ldelim();return t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.Policy;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.version=e.int32();break;case 4:o.bindings&&o.bindings.length||(o.bindings=[]),o.bindings.push(l.google.iam.v1.Binding.decode(e,e.uint32()));break;case 3:o.etag=e.bytes();break;default:e.skipType(7&r)}}return o},d.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},d.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.version&&e.hasOwnProperty(\"version\")&&!p.isInteger(e.version))return\"version: integer expected\";if(null!=e.bindings&&e.hasOwnProperty(\"bindings\")){if(!Array.isArray(e.bindings))return\"bindings: array expected\";for(var t=0;t<e.bindings.length;++t){var n=l.google.iam.v1.Binding.verify(e.bindings[t]);if(n)return\"bindings.\"+n}}return null!=e.etag&&e.hasOwnProperty(\"etag\")&&!(e.etag&&\"number\"==typeof e.etag.length||p.isString(e.etag))?\"etag: buffer expected\":null},d.fromObject=function(e){if(e instanceof l.google.iam.v1.Policy)return e;var t=new l.google.iam.v1.Policy;if(null!=e.version&&(t.version=0|e.version),e.bindings){if(!Array.isArray(e.bindings))throw TypeError(\".google.iam.v1.Policy.bindings: array expected\");t.bindings=[];for(var n=0;n<e.bindings.length;++n){if(\"object\"!=typeof e.bindings[n])throw TypeError(\".google.iam.v1.Policy.bindings: object expected\");t.bindings[n]=l.google.iam.v1.Binding.fromObject(e.bindings[n])}}return null!=e.etag&&(\"string\"==typeof e.etag?p.base64.decode(e.etag,t.etag=p.newBuffer(p.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},d.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.bindings=[]),t.defaults&&(n.version=0,t.bytes===String?n.etag=\"\":(n.etag=[],t.bytes!==Array&&(n.etag=p.newBuffer(n.etag)))),null!=e.version&&e.hasOwnProperty(\"version\")&&(n.version=e.version),null!=e.etag&&e.hasOwnProperty(\"etag\")&&(n.etag=t.bytes===String?p.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),e.bindings&&e.bindings.length){n.bindings=[];for(var o=0;o<e.bindings.length;++o)n.bindings[o]=l.google.iam.v1.Binding.toObject(e.bindings[o],t)}return n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),t.Binding=(g.prototype.role=\"\",g.prototype.members=p.emptyArray,g.prototype.condition=null,g.create=function(e){return new g(e)},g.encode=function(e,t){if(t=t||i.create(),null!=e.role&&Object.hasOwnProperty.call(e,\"role\")&&t.uint32(10).string(e.role),null!=e.members&&e.members.length)for(var n=0;n<e.members.length;++n)t.uint32(18).string(e.members[n]);return null!=e.condition&&Object.hasOwnProperty.call(e,\"condition\")&&l.google.type.Expr.encode(e.condition,t.uint32(26).fork()).ldelim(),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.Binding;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.role=e.string();break;case 2:o.members&&o.members.length||(o.members=[]),o.members.push(e.string());break;case 3:o.condition=l.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},g.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},g.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.role&&e.hasOwnProperty(\"role\")&&!p.isString(e.role))return\"role: string expected\";if(null!=e.members&&e.hasOwnProperty(\"members\")){if(!Array.isArray(e.members))return\"members: array expected\";for(var t=0;t<e.members.length;++t)if(!p.isString(e.members[t]))return\"members: string[] expected\"}if(null!=e.condition&&e.hasOwnProperty(\"condition\")){var n=l.google.type.Expr.verify(e.condition);if(n)return\"condition.\"+n}return null},g.fromObject=function(e){if(e instanceof l.google.iam.v1.Binding)return e;var t=new l.google.iam.v1.Binding;if(null!=e.role&&(t.role=String(e.role)),e.members){if(!Array.isArray(e.members))throw TypeError(\".google.iam.v1.Binding.members: array expected\");t.members=[];for(var n=0;n<e.members.length;++n)t.members[n]=String(e.members[n])}if(null!=e.condition){if(\"object\"!=typeof e.condition)throw TypeError(\".google.iam.v1.Binding.condition: object expected\");t.condition=l.google.type.Expr.fromObject(e.condition)}return t},g.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.members=[]),t.defaults&&(n.role=\"\",n.condition=null),null!=e.role&&e.hasOwnProperty(\"role\")&&(n.role=e.role),e.members&&e.members.length){n.members=[];for(var o=0;o<e.members.length;++o)n.members[o]=e.members[o]}return null!=e.condition&&e.hasOwnProperty(\"condition\")&&(n.condition=l.google.type.Expr.toObject(e.condition,t)),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g),t.PolicyDelta=(M.prototype.bindingDeltas=p.emptyArray,M.prototype.auditConfigDeltas=p.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||i.create(),null!=e.bindingDeltas&&e.bindingDeltas.length)for(var n=0;n<e.bindingDeltas.length;++n)l.google.iam.v1.BindingDelta.encode(e.bindingDeltas[n],t.uint32(10).fork()).ldelim();if(null!=e.auditConfigDeltas&&e.auditConfigDeltas.length)for(n=0;n<e.auditConfigDeltas.length;++n)l.google.iam.v1.AuditConfigDelta.encode(e.auditConfigDeltas[n],t.uint32(18).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.PolicyDelta;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.bindingDeltas&&o.bindingDeltas.length||(o.bindingDeltas=[]),o.bindingDeltas.push(l.google.iam.v1.BindingDelta.decode(e,e.uint32()));break;case 2:o.auditConfigDeltas&&o.auditConfigDeltas.length||(o.auditConfigDeltas=[]),o.auditConfigDeltas.push(l.google.iam.v1.AuditConfigDelta.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},M.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},M.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.bindingDeltas&&e.hasOwnProperty(\"bindingDeltas\")){if(!Array.isArray(e.bindingDeltas))return\"bindingDeltas: array expected\";for(var t=0;t<e.bindingDeltas.length;++t)if(n=l.google.iam.v1.BindingDelta.verify(e.bindingDeltas[t]))return\"bindingDeltas.\"+n}if(null!=e.auditConfigDeltas&&e.hasOwnProperty(\"auditConfigDeltas\")){if(!Array.isArray(e.auditConfigDeltas))return\"auditConfigDeltas: array expected\";for(var n,t=0;t<e.auditConfigDeltas.length;++t)if(n=l.google.iam.v1.AuditConfigDelta.verify(e.auditConfigDeltas[t]))return\"auditConfigDeltas.\"+n}return null},M.fromObject=function(e){if(e instanceof l.google.iam.v1.PolicyDelta)return e;var t=new l.google.iam.v1.PolicyDelta;if(e.bindingDeltas){if(!Array.isArray(e.bindingDeltas))throw TypeError(\".google.iam.v1.PolicyDelta.bindingDeltas: array expected\");t.bindingDeltas=[];for(var n=0;n<e.bindingDeltas.length;++n){if(\"object\"!=typeof e.bindingDeltas[n])throw TypeError(\".google.iam.v1.PolicyDelta.bindingDeltas: object expected\");t.bindingDeltas[n]=l.google.iam.v1.BindingDelta.fromObject(e.bindingDeltas[n])}}if(e.auditConfigDeltas){if(!Array.isArray(e.auditConfigDeltas))throw TypeError(\".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected\");t.auditConfigDeltas=[];for(n=0;n<e.auditConfigDeltas.length;++n){if(\"object\"!=typeof e.auditConfigDeltas[n])throw TypeError(\".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected\");t.auditConfigDeltas[n]=l.google.iam.v1.AuditConfigDelta.fromObject(e.auditConfigDeltas[n])}}return t},M.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.bindingDeltas=[],n.auditConfigDeltas=[]),e.bindingDeltas&&e.bindingDeltas.length){n.bindingDeltas=[];for(var o=0;o<e.bindingDeltas.length;++o)n.bindingDeltas[o]=l.google.iam.v1.BindingDelta.toObject(e.bindingDeltas[o],t)}if(e.auditConfigDeltas&&e.auditConfigDeltas.length){n.auditConfigDeltas=[];for(o=0;o<e.auditConfigDeltas.length;++o)n.auditConfigDeltas[o]=l.google.iam.v1.AuditConfigDelta.toObject(e.auditConfigDeltas[o],t)}return n},M.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},M),t.BindingDelta=(f.prototype.action=0,f.prototype.role=\"\",f.prototype.member=\"\",f.prototype.condition=null,f.create=function(e){return new f(e)},f.encode=function(e,t){return t=t||i.create(),null!=e.action&&Object.hasOwnProperty.call(e,\"action\")&&t.uint32(8).int32(e.action),null!=e.role&&Object.hasOwnProperty.call(e,\"role\")&&t.uint32(18).string(e.role),null!=e.member&&Object.hasOwnProperty.call(e,\"member\")&&t.uint32(26).string(e.member),null!=e.condition&&Object.hasOwnProperty.call(e,\"condition\")&&l.google.type.Expr.encode(e.condition,t.uint32(34).fork()).ldelim(),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.BindingDelta;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.action=e.int32();break;case 2:o.role=e.string();break;case 3:o.member=e.string();break;case 4:o.condition=l.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},f.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},f.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.action&&e.hasOwnProperty(\"action\"))switch(e.action){default:return\"action: enum value expected\";case 0:case 1:case 2:}if(null!=e.role&&e.hasOwnProperty(\"role\")&&!p.isString(e.role))return\"role: string expected\";if(null!=e.member&&e.hasOwnProperty(\"member\")&&!p.isString(e.member))return\"member: string expected\";if(null!=e.condition&&e.hasOwnProperty(\"condition\")){e=l.google.type.Expr.verify(e.condition);if(e)return\"condition.\"+e}return null},f.fromObject=function(e){if(e instanceof l.google.iam.v1.BindingDelta)return e;var t=new l.google.iam.v1.BindingDelta;switch(e.action){case\"ACTION_UNSPECIFIED\":case 0:t.action=0;break;case\"ADD\":case 1:t.action=1;break;case\"REMOVE\":case 2:t.action=2}if(null!=e.role&&(t.role=String(e.role)),null!=e.member&&(t.member=String(e.member)),null!=e.condition){if(\"object\"!=typeof e.condition)throw TypeError(\".google.iam.v1.BindingDelta.condition: object expected\");t.condition=l.google.type.Expr.fromObject(e.condition)}return t},f.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.action=t.enums===String?\"ACTION_UNSPECIFIED\":0,n.role=\"\",n.member=\"\",n.condition=null),null!=e.action&&e.hasOwnProperty(\"action\")&&(n.action=t.enums===String?l.google.iam.v1.BindingDelta.Action[e.action]:e.action),null!=e.role&&e.hasOwnProperty(\"role\")&&(n.role=e.role),null!=e.member&&e.hasOwnProperty(\"member\")&&(n.member=e.member),null!=e.condition&&e.hasOwnProperty(\"condition\")&&(n.condition=l.google.type.Expr.toObject(e.condition,t)),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.Action=(e={},(r=Object.create(e))[e[0]=\"ACTION_UNSPECIFIED\"]=0,r[e[1]=\"ADD\"]=1,r[e[2]=\"REMOVE\"]=2,r),f),t.AuditConfigDelta=(y.prototype.action=0,y.prototype.service=\"\",y.prototype.exemptedMember=\"\",y.prototype.logType=\"\",y.create=function(e){return new y(e)},y.encode=function(e,t){return t=t||i.create(),null!=e.action&&Object.hasOwnProperty.call(e,\"action\")&&t.uint32(8).int32(e.action),null!=e.service&&Object.hasOwnProperty.call(e,\"service\")&&t.uint32(18).string(e.service),null!=e.exemptedMember&&Object.hasOwnProperty.call(e,\"exemptedMember\")&&t.uint32(26).string(e.exemptedMember),null!=e.logType&&Object.hasOwnProperty.call(e,\"logType\")&&t.uint32(34).string(e.logType),t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.AuditConfigDelta;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.action=e.int32();break;case 2:o.service=e.string();break;case 3:o.exemptedMember=e.string();break;case 4:o.logType=e.string();break;default:e.skipType(7&r)}}return o},y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},y.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.action&&e.hasOwnProperty(\"action\"))switch(e.action){default:return\"action: enum value expected\";case 0:case 1:case 2:}return null!=e.service&&e.hasOwnProperty(\"service\")&&!p.isString(e.service)?\"service: string expected\":null!=e.exemptedMember&&e.hasOwnProperty(\"exemptedMember\")&&!p.isString(e.exemptedMember)?\"exemptedMember: string expected\":null!=e.logType&&e.hasOwnProperty(\"logType\")&&!p.isString(e.logType)?\"logType: string expected\":null},y.fromObject=function(e){if(e instanceof l.google.iam.v1.AuditConfigDelta)return e;var t=new l.google.iam.v1.AuditConfigDelta;switch(e.action){case\"ACTION_UNSPECIFIED\":case 0:t.action=0;break;case\"ADD\":case 1:t.action=1;break;case\"REMOVE\":case 2:t.action=2}return null!=e.service&&(t.service=String(e.service)),null!=e.exemptedMember&&(t.exemptedMember=String(e.exemptedMember)),null!=e.logType&&(t.logType=String(e.logType)),t},y.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.action=t.enums===String?\"ACTION_UNSPECIFIED\":0,n.service=\"\",n.exemptedMember=\"\",n.logType=\"\"),null!=e.action&&e.hasOwnProperty(\"action\")&&(n.action=t.enums===String?l.google.iam.v1.AuditConfigDelta.Action[e.action]:e.action),null!=e.service&&e.hasOwnProperty(\"service\")&&(n.service=e.service),null!=e.exemptedMember&&e.hasOwnProperty(\"exemptedMember\")&&(n.exemptedMember=e.exemptedMember),null!=e.logType&&e.hasOwnProperty(\"logType\")&&(n.logType=e.logType),n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y.Action=(e={},(r=Object.create(e))[e[0]=\"ACTION_UNSPECIFIED\"]=0,r[e[1]=\"ADD\"]=1,r[e[2]=\"REMOVE\"]=2,r),y),t.logging=((e={}).AuditData=(L.prototype.policyDelta=null,L.create=function(e){return new L(e)},L.encode=function(e,t){return t=t||i.create(),null!=e.policyDelta&&Object.hasOwnProperty.call(e,\"policyDelta\")&&l.google.iam.v1.PolicyDelta.encode(e.policyDelta,t.uint32(18).fork()).ldelim(),t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.iam.v1.logging.AuditData;e.pos<n;){var r=e.uint32();r>>>3==2?o.policyDelta=l.google.iam.v1.PolicyDelta.decode(e,e.uint32()):e.skipType(7&r)}return o},L.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},L.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.policyDelta&&e.hasOwnProperty(\"policyDelta\")){e=l.google.iam.v1.PolicyDelta.verify(e.policyDelta);if(e)return\"policyDelta.\"+e}return null},L.fromObject=function(e){if(e instanceof l.google.iam.v1.logging.AuditData)return e;var t=new l.google.iam.v1.logging.AuditData;if(null!=e.policyDelta){if(\"object\"!=typeof e.policyDelta)throw TypeError(\".google.iam.v1.logging.AuditData.policyDelta: object expected\");t.policyDelta=l.google.iam.v1.PolicyDelta.fromObject(e.policyDelta)}return t},L.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.policyDelta=null),null!=e.policyDelta&&e.hasOwnProperty(\"policyDelta\")&&(n.policyDelta=l.google.iam.v1.PolicyDelta.toObject(e.policyDelta,t)),n},L.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},L),e),t),n),F.api=((r={}).Http=(J.prototype.rules=p.emptyArray,J.prototype.fullyDecodeReservedExpansion=!1,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||i.create(),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)l.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,\"fullyDecodeReservedExpansion\")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.Http;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(l.google.api.HttpRule.decode(e,e.uint32()));break;case 2:o.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&r)}}return o},J.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},J.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.rules&&e.hasOwnProperty(\"rules\")){if(!Array.isArray(e.rules))return\"rules: array expected\";for(var t=0;t<e.rules.length;++t){var n=l.google.api.HttpRule.verify(e.rules[t]);if(n)return\"rules.\"+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&\"boolean\"!=typeof e.fullyDecodeReservedExpansion?\"fullyDecodeReservedExpansion: boolean expected\":null},J.fromObject=function(e){if(e instanceof l.google.api.Http)return e;var t=new l.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(\".google.api.Http.rules: array expected\");t.rules=[];for(var n=0;n<e.rules.length;++n){if(\"object\"!=typeof e.rules[n])throw TypeError(\".google.api.Http.rules: object expected\");t.rules[n]=l.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},J.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=l.google.api.HttpRule.toObject(e.rules[o],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},J.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},J),r.HttpRule=(h.prototype.selector=\"\",h.prototype.get=\"\",h.prototype.put=\"\",h.prototype.post=\"\",h.prototype.delete=\"\",h.prototype.patch=\"\",h.prototype.custom=null,h.prototype.body=\"\",h.prototype.responseBody=\"\",h.prototype.additionalBindings=p.emptyArray,Object.defineProperty(h.prototype,\"pattern\",{get:p.oneOfGetter(e=[\"get\",\"put\",\"post\",\"delete\",\"patch\",\"custom\"]),set:p.oneOfSetter(e)}),h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||i.create(),null!=e.selector&&Object.hasOwnProperty.call(e,\"selector\")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,\"get\")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,\"put\")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,\"post\")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,\"delete\")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,\"patch\")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,\"body\")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,\"custom\")&&l.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)l.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,\"responseBody\")&&t.uint32(98).string(e.responseBody),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.HttpRule;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.selector=e.string();break;case 2:o.get=e.string();break;case 3:o.put=e.string();break;case 4:o.post=e.string();break;case 5:o.delete=e.string();break;case 6:o.patch=e.string();break;case 8:o.custom=l.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:o.body=e.string();break;case 12:o.responseBody=e.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(l.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},h.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},h.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t={};if(null!=e.selector&&e.hasOwnProperty(\"selector\")&&!p.isString(e.selector))return\"selector: string expected\";if(null!=e.get&&e.hasOwnProperty(\"get\")&&(t.pattern=1,!p.isString(e.get)))return\"get: string expected\";if(null!=e.put&&e.hasOwnProperty(\"put\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.put))return\"put: string expected\"}if(null!=e.post&&e.hasOwnProperty(\"post\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.post))return\"post: string expected\"}if(null!=e.delete&&e.hasOwnProperty(\"delete\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.delete))return\"delete: string expected\"}if(null!=e.patch&&e.hasOwnProperty(\"patch\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!p.isString(e.patch))return\"patch: string expected\"}if(null!=e.custom&&e.hasOwnProperty(\"custom\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,n=l.google.api.CustomHttpPattern.verify(e.custom))return\"custom.\"+n}if(null!=e.body&&e.hasOwnProperty(\"body\")&&!p.isString(e.body))return\"body: string expected\";if(null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&!p.isString(e.responseBody))return\"responseBody: string expected\";if(null!=e.additionalBindings&&e.hasOwnProperty(\"additionalBindings\")){if(!Array.isArray(e.additionalBindings))return\"additionalBindings: array expected\";for(var n,o=0;o<e.additionalBindings.length;++o)if(n=l.google.api.HttpRule.verify(e.additionalBindings[o]))return\"additionalBindings.\"+n}return null},h.fromObject=function(e){if(e instanceof l.google.api.HttpRule)return e;var t=new l.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if(\"object\"!=typeof e.custom)throw TypeError(\".google.api.HttpRule.custom: object expected\");t.custom=l.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(\".google.api.HttpRule.additionalBindings: array expected\");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if(\"object\"!=typeof e.additionalBindings[n])throw TypeError(\".google.api.HttpRule.additionalBindings: object expected\");t.additionalBindings[n]=l.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},h.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector=\"\",n.body=\"\",n.responseBody=\"\"),null!=e.selector&&e.hasOwnProperty(\"selector\")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty(\"get\")&&(n.get=e.get,t.oneofs)&&(n.pattern=\"get\"),null!=e.put&&e.hasOwnProperty(\"put\")&&(n.put=e.put,t.oneofs)&&(n.pattern=\"put\"),null!=e.post&&e.hasOwnProperty(\"post\")&&(n.post=e.post,t.oneofs)&&(n.pattern=\"post\"),null!=e.delete&&e.hasOwnProperty(\"delete\")&&(n.delete=e.delete,t.oneofs)&&(n.pattern=\"delete\"),null!=e.patch&&e.hasOwnProperty(\"patch\")&&(n.patch=e.patch,t.oneofs)&&(n.pattern=\"patch\"),null!=e.body&&e.hasOwnProperty(\"body\")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty(\"custom\")&&(n.custom=l.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(n.pattern=\"custom\"),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)n.additionalBindings[o]=l.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&(n.responseBody=e.responseBody),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),r.CustomHttpPattern=(_.prototype.kind=\"\",_.prototype.path=\"\",_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||i.create(),null!=e.kind&&Object.hasOwnProperty.call(e,\"kind\")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,\"path\")&&t.uint32(18).string(e.path),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.CustomHttpPattern;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.kind=e.string();break;case 2:o.path=e.string();break;default:e.skipType(7&r)}}return o},_.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},_.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.kind&&e.hasOwnProperty(\"kind\")&&!p.isString(e.kind)?\"kind: string expected\":null!=e.path&&e.hasOwnProperty(\"path\")&&!p.isString(e.path)?\"path: string expected\":null},_.fromObject=function(e){var t;return e instanceof l.google.api.CustomHttpPattern?e:(t=new l.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},_.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.kind=\"\",n.path=\"\"),null!=e.kind&&e.hasOwnProperty(\"kind\")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty(\"path\")&&(n.path=e.path),n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_),r.FieldBehavior=(e={},(t=Object.create(e))[e[0]=\"FIELD_BEHAVIOR_UNSPECIFIED\"]=0,t[e[1]=\"OPTIONAL\"]=1,t[e[2]=\"REQUIRED\"]=2,t[e[3]=\"OUTPUT_ONLY\"]=3,t[e[4]=\"INPUT_ONLY\"]=4,t[e[5]=\"IMMUTABLE\"]=5,t),r.ResourceDescriptor=(b.prototype.type=\"\",b.prototype.pattern=p.emptyArray,b.prototype.nameField=\"\",b.prototype.history=0,b.prototype.plural=\"\",b.prototype.singular=\"\",b.create=function(e){return new b(e)},b.encode=function(e,t){if(t=t||i.create(),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(10).string(e.type),null!=e.pattern&&e.pattern.length)for(var n=0;n<e.pattern.length;++n)t.uint32(18).string(e.pattern[n]);return null!=e.nameField&&Object.hasOwnProperty.call(e,\"nameField\")&&t.uint32(26).string(e.nameField),null!=e.history&&Object.hasOwnProperty.call(e,\"history\")&&t.uint32(32).int32(e.history),null!=e.plural&&Object.hasOwnProperty.call(e,\"plural\")&&t.uint32(42).string(e.plural),null!=e.singular&&Object.hasOwnProperty.call(e,\"singular\")&&t.uint32(50).string(e.singular),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.ResourceDescriptor;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type=e.string();break;case 2:o.pattern&&o.pattern.length||(o.pattern=[]),o.pattern.push(e.string());break;case 3:o.nameField=e.string();break;case 4:o.history=e.int32();break;case 5:o.plural=e.string();break;case 6:o.singular=e.string();break;default:e.skipType(7&r)}}return o},b.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},b.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.type&&e.hasOwnProperty(\"type\")&&!p.isString(e.type))return\"type: string expected\";if(null!=e.pattern&&e.hasOwnProperty(\"pattern\")){if(!Array.isArray(e.pattern))return\"pattern: array expected\";for(var t=0;t<e.pattern.length;++t)if(!p.isString(e.pattern[t]))return\"pattern: string[] expected\"}if(null!=e.nameField&&e.hasOwnProperty(\"nameField\")&&!p.isString(e.nameField))return\"nameField: string expected\";if(null!=e.history&&e.hasOwnProperty(\"history\"))switch(e.history){default:return\"history: enum value expected\";case 0:case 1:case 2:}return null!=e.plural&&e.hasOwnProperty(\"plural\")&&!p.isString(e.plural)?\"plural: string expected\":null!=e.singular&&e.hasOwnProperty(\"singular\")&&!p.isString(e.singular)?\"singular: string expected\":null},b.fromObject=function(e){if(e instanceof l.google.api.ResourceDescriptor)return e;var t=new l.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(\".google.api.ResourceDescriptor.pattern: array expected\");t.pattern=[];for(var n=0;n<e.pattern.length;++n)t.pattern[n]=String(e.pattern[n])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){case\"HISTORY_UNSPECIFIED\":case 0:t.history=0;break;case\"ORIGINALLY_SINGLE_PATTERN\":case 1:t.history=1;break;case\"FUTURE_MULTI_PATTERN\":case 2:t.history=2}return null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),t},b.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.pattern=[]),t.defaults&&(n.type=\"\",n.nameField=\"\",n.history=t.enums===String?\"HISTORY_UNSPECIFIED\":0,n.plural=\"\",n.singular=\"\"),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=e.type),e.pattern&&e.pattern.length){n.pattern=[];for(var o=0;o<e.pattern.length;++o)n.pattern[o]=e.pattern[o]}return null!=e.nameField&&e.hasOwnProperty(\"nameField\")&&(n.nameField=e.nameField),null!=e.history&&e.hasOwnProperty(\"history\")&&(n.history=t.enums===String?l.google.api.ResourceDescriptor.History[e.history]:e.history),null!=e.plural&&e.hasOwnProperty(\"plural\")&&(n.plural=e.plural),null!=e.singular&&e.hasOwnProperty(\"singular\")&&(n.singular=e.singular),n},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b.History=(e={},(t=Object.create(e))[e[0]=\"HISTORY_UNSPECIFIED\"]=0,t[e[1]=\"ORIGINALLY_SINGLE_PATTERN\"]=1,t[e[2]=\"FUTURE_MULTI_PATTERN\"]=2,t),b),r.ResourceReference=(H.prototype.type=\"\",H.prototype.childType=\"\",H.create=function(e){return new H(e)},H.encode=function(e,t){return t=t||i.create(),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(10).string(e.type),null!=e.childType&&Object.hasOwnProperty.call(e,\"childType\")&&t.uint32(18).string(e.childType),t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.api.ResourceReference;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type=e.string();break;case 2:o.childType=e.string();break;default:e.skipType(7&r)}}return o},H.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},H.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.type&&e.hasOwnProperty(\"type\")&&!p.isString(e.type)?\"type: string expected\":null!=e.childType&&e.hasOwnProperty(\"childType\")&&!p.isString(e.childType)?\"childType: string expected\":null},H.fromObject=function(e){var t;return e instanceof l.google.api.ResourceReference?e:(t=new l.google.api.ResourceReference,null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t)},H.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type=\"\",n.childType=\"\"),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=e.type),null!=e.childType&&e.hasOwnProperty(\"childType\")&&(n.childType=e.childType),n},H.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},H),r),F.protobuf=((n={}).FileDescriptorSet=(q.prototype.file=p.emptyArray,q.create=function(e){return new q(e)},q.encode=function(e,t){if(t=t||i.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)l.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(l.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},q.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.file&&e.hasOwnProperty(\"file\")){if(!Array.isArray(e.file))return\"file: array expected\";for(var t=0;t<e.file.length;++t){var n=l.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return\"file.\"+n}}return null},q.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorSet)return e;var t=new l.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(\".google.protobuf.FileDescriptorSet.file: array expected\");t.file=[];for(var n=0;n<e.file.length;++n){if(\"object\"!=typeof e.file[n])throw TypeError(\".google.protobuf.FileDescriptorSet.file: object expected\");t.file[n]=l.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},q.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var o=0;o<e.file.length;++o)n.file[o]=l.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return n},q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},q),n.FileDescriptorProto=(m.prototype.name=\"\",m.prototype.package=\"\",m.prototype.dependency=p.emptyArray,m.prototype.publicDependency=p.emptyArray,m.prototype.weakDependency=p.emptyArray,m.prototype.messageType=p.emptyArray,m.prototype.enumType=p.emptyArray,m.prototype.service=p.emptyArray,m.prototype.extension=p.emptyArray,m.prototype.options=null,m.prototype.sourceCodeInfo=null,m.prototype.syntax=\"\",m.create=function(e){return new m(e)},m.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,\"package\")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)l.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)l.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,\"sourceCodeInfo\")&&l.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,\"syntax\")&&t.uint32(98).string(e.syntax),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(l.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=l.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},m.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},m.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.package&&e.hasOwnProperty(\"package\")&&!p.isString(e.package))return\"package: string expected\";if(null!=e.dependency&&e.hasOwnProperty(\"dependency\")){if(!Array.isArray(e.dependency))return\"dependency: array expected\";for(var t=0;t<e.dependency.length;++t)if(!p.isString(e.dependency[t]))return\"dependency: string[] expected\"}if(null!=e.publicDependency&&e.hasOwnProperty(\"publicDependency\")){if(!Array.isArray(e.publicDependency))return\"publicDependency: array expected\";for(t=0;t<e.publicDependency.length;++t)if(!p.isInteger(e.publicDependency[t]))return\"publicDependency: integer[] expected\"}if(null!=e.weakDependency&&e.hasOwnProperty(\"weakDependency\")){if(!Array.isArray(e.weakDependency))return\"weakDependency: array expected\";for(t=0;t<e.weakDependency.length;++t)if(!p.isInteger(e.weakDependency[t]))return\"weakDependency: integer[] expected\"}if(null!=e.messageType&&e.hasOwnProperty(\"messageType\")){if(!Array.isArray(e.messageType))return\"messageType: array expected\";for(t=0;t<e.messageType.length;++t)if(n=l.google.protobuf.DescriptorProto.verify(e.messageType[t]))return\"messageType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.service&&e.hasOwnProperty(\"service\")){if(!Array.isArray(e.service))return\"service: array expected\";for(t=0;t<e.service.length;++t)if(n=l.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return\"service.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.FileOptions.verify(e.options)))return\"options.\"+n;if(null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n=l.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo)))return\"sourceCodeInfo.\"+n;return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&!p.isString(e.syntax)?\"syntax: string expected\":null},m.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorProto)return e;var t=new l.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(\".google.protobuf.FileDescriptorProto.dependency: array expected\");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.publicDependency: array expected\");t.publicDependency=[];for(n=0;n<e.publicDependency.length;++n)t.publicDependency[n]=0|e.publicDependency[n]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.weakDependency: array expected\");t.weakDependency=[];for(n=0;n<e.weakDependency.length;++n)t.weakDependency[n]=0|e.weakDependency[n]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: array expected\");t.messageType=[];for(n=0;n<e.messageType.length;++n){if(\"object\"!=typeof e.messageType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: object expected\");t.messageType[n]=l.google.protobuf.DescriptorProto.fromObject(e.messageType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: object expected\");t.enumType[n]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(\".google.protobuf.FileDescriptorProto.service: array expected\");t.service=[];for(n=0;n<e.service.length;++n){if(\"object\"!=typeof e.service[n])throw TypeError(\".google.protobuf.FileDescriptorProto.service: object expected\");t.service[n]=l.google.protobuf.ServiceDescriptorProto.fromObject(e.service[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.FileDescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.FileDescriptorProto.extension: object expected\");t.extension[n]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FileDescriptorProto.options: object expected\");t.options=l.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if(\"object\"!=typeof e.sourceCodeInfo)throw TypeError(\".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected\");t.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},m.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name=\"\",n.package=\"\",n.options=null,n.sourceCodeInfo=null,n.syntax=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty(\"package\")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var o=0;o<e.dependency.length;++o)n.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length){n.messageType=[];for(o=0;o<e.messageType.length;++o)n.messageType[o]=l.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.service&&e.service.length){n.service=[];for(o=0;o<e.service.length;++o)n.service[o]=l.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(o=0;o<e.publicDependency.length;++o)n.publicDependency[o]=e.publicDependency[o]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(o=0;o<e.weakDependency.length;++o)n.weakDependency[o]=e.weakDependency[o]}return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&(n.syntax=e.syntax),n},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),n.DescriptorProto=(O.prototype.name=\"\",O.prototype.field=p.emptyArray,O.prototype.extension=p.emptyArray,O.prototype.nestedType=p.emptyArray,O.prototype.enumType=p.emptyArray,O.prototype.extensionRange=p.emptyArray,O.prototype.oneofDecl=p.emptyArray,O.prototype.options=null,O.prototype.reservedRange=p.emptyArray,O.prototype.reservedName=p.emptyArray,O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)l.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)l.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)l.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)l.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(l.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(l.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=l.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(l.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},O.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},O.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.field&&e.hasOwnProperty(\"field\")){if(!Array.isArray(e.field))return\"field: array expected\";for(var t=0;t<e.field.length;++t)if(n=l.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return\"field.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}if(null!=e.nestedType&&e.hasOwnProperty(\"nestedType\")){if(!Array.isArray(e.nestedType))return\"nestedType: array expected\";for(t=0;t<e.nestedType.length;++t)if(n=l.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return\"nestedType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.extensionRange&&e.hasOwnProperty(\"extensionRange\")){if(!Array.isArray(e.extensionRange))return\"extensionRange: array expected\";for(t=0;t<e.extensionRange.length;++t)if(n=l.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return\"extensionRange.\"+n}if(null!=e.oneofDecl&&e.hasOwnProperty(\"oneofDecl\")){if(!Array.isArray(e.oneofDecl))return\"oneofDecl: array expected\";for(t=0;t<e.oneofDecl.length;++t)if(n=l.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return\"oneofDecl.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.MessageOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=l.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!p.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},O.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto)return e;var t=new l.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(\".google.protobuf.DescriptorProto.field: array expected\");t.field=[];for(var n=0;n<e.field.length;++n){if(\"object\"!=typeof e.field[n])throw TypeError(\".google.protobuf.DescriptorProto.field: object expected\");t.field[n]=l.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.DescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.DescriptorProto.extension: object expected\");t.extension[n]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(\".google.protobuf.DescriptorProto.nestedType: array expected\");t.nestedType=[];for(n=0;n<e.nestedType.length;++n){if(\"object\"!=typeof e.nestedType[n])throw TypeError(\".google.protobuf.DescriptorProto.nestedType: object expected\");t.nestedType[n]=l.google.protobuf.DescriptorProto.fromObject(e.nestedType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.DescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.DescriptorProto.enumType: object expected\");t.enumType[n]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: array expected\");t.extensionRange=[];for(n=0;n<e.extensionRange.length;++n){if(\"object\"!=typeof e.extensionRange[n])throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: object expected\");t.extensionRange[n]=l.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[n])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: array expected\");t.oneofDecl=[];for(n=0;n<e.oneofDecl.length;++n){if(\"object\"!=typeof e.oneofDecl[n])throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: object expected\");t.oneofDecl[n]=l.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.options: object expected\");t.options=l.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: object expected\");t.reservedRange[n]=l.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.DescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},O.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var o=0;o<e.field.length;++o)n.field[o]=l.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(o=0;o<e.nestedType.length;++o)n.nestedType[o]=l.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(o=0;o<e.extensionRange.length;++o)n.extensionRange[o]=l.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(o=0;o<e.oneofDecl.length;++o)n.oneofDecl[o]=l.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=l.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},O.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},O.ExtensionRange=(v.prototype.start=0,v.prototype.end=0,v.prototype.options=null,v.create=function(e){return new v(e)},v.encode=function(e,t){return t=t||i.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=l.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},v.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},v.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.start&&e.hasOwnProperty(\"start\")&&!p.isInteger(e.start))return\"start: integer expected\";if(null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end))return\"end: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.protobuf.ExtensionRangeOptions.verify(e.options);if(e)return\"options.\"+e}return null},v.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new l.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.ExtensionRange.options: object expected\");t.options=l.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},v.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0,n.options=null),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v),O.ReservedRange=(Y.prototype.start=0,Y.prototype.end=0,Y.create=function(e){return new Y(e)},Y.encode=function(e,t){return t=t||i.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},Y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},Y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Y.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!p.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end)?\"end: integer expected\":null},Y.fromObject=function(e){var t;return e instanceof l.google.protobuf.DescriptorProto.ReservedRange?e:(t=new l.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},Y.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},Y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Y),O),n.ExtensionRangeOptions=(z.prototype.uninterpretedOption=p.emptyArray,z.create=function(e){return new z(e)},z.encode=function(e,t){if(t=t||i.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},z.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},z.fromObject=function(e){if(e instanceof l.google.protobuf.ExtensionRangeOptions)return e;var t=new l.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},z.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},z.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},z),n.FieldDescriptorProto=(P.prototype.name=\"\",P.prototype.number=0,P.prototype.label=1,P.prototype.type=1,P.prototype.typeName=\"\",P.prototype.extendee=\"\",P.prototype.defaultValue=\"\",P.prototype.oneofIndex=0,P.prototype.jsonName=\"\",P.prototype.options=null,P.prototype.proto3Optional=!1,P.create=function(e){return new P(e)},P.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,\"extendee\")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,\"label\")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,\"typeName\")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,\"defaultValue\")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,\"oneofIndex\")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,\"jsonName\")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,\"proto3Optional\")&&t.uint32(136).bool(e.proto3Optional),t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=l.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:o.proto3Optional=e.bool();break;default:e.skipType(7&r)}}return o},P.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},P.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!p.isInteger(e.number))return\"number: integer expected\";if(null!=e.label&&e.hasOwnProperty(\"label\"))switch(e.label){default:return\"label: enum value expected\";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty(\"type\"))switch(e.type){default:return\"type: enum value expected\";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&!p.isString(e.typeName))return\"typeName: string expected\";if(null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&!p.isString(e.extendee))return\"extendee: string expected\";if(null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&!p.isString(e.defaultValue))return\"defaultValue: string expected\";if(null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&!p.isInteger(e.oneofIndex))return\"oneofIndex: integer expected\";if(null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&!p.isString(e.jsonName))return\"jsonName: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=l.google.protobuf.FieldOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&\"boolean\"!=typeof e.proto3Optional?\"proto3Optional: boolean expected\":null},P.fromObject=function(e){if(e instanceof l.google.protobuf.FieldDescriptorProto)return e;var t=new l.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case\"LABEL_OPTIONAL\":case 1:t.label=1;break;case\"LABEL_REQUIRED\":case 2:t.label=2;break;case\"LABEL_REPEATED\":case 3:t.label=3}switch(e.type){case\"TYPE_DOUBLE\":case 1:t.type=1;break;case\"TYPE_FLOAT\":case 2:t.type=2;break;case\"TYPE_INT64\":case 3:t.type=3;break;case\"TYPE_UINT64\":case 4:t.type=4;break;case\"TYPE_INT32\":case 5:t.type=5;break;case\"TYPE_FIXED64\":case 6:t.type=6;break;case\"TYPE_FIXED32\":case 7:t.type=7;break;case\"TYPE_BOOL\":case 8:t.type=8;break;case\"TYPE_STRING\":case 9:t.type=9;break;case\"TYPE_GROUP\":case 10:t.type=10;break;case\"TYPE_MESSAGE\":case 11:t.type=11;break;case\"TYPE_BYTES\":case 12:t.type=12;break;case\"TYPE_UINT32\":case 13:t.type=13;break;case\"TYPE_ENUM\":case 14:t.type=14;break;case\"TYPE_SFIXED32\":case 15:t.type=15;break;case\"TYPE_SFIXED64\":case 16:t.type=16;break;case\"TYPE_SINT32\":case 17:t.type=17;break;case\"TYPE_SINT64\":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FieldDescriptorProto.options: object expected\");t.options=l.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},P.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.extendee=\"\",n.number=0,n.label=t.enums===String?\"LABEL_OPTIONAL\":1,n.type=t.enums===String?\"TYPE_DOUBLE\":1,n.typeName=\"\",n.defaultValue=\"\",n.options=null,n.oneofIndex=0,n.jsonName=\"\",n.proto3Optional=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty(\"label\")&&(n.label=t.enums===String?l.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=t.enums===String?l.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&(n.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&(n.proto3Optional=e.proto3Optional),n},P.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},P.Type=(e={},(t=Object.create(e))[e[1]=\"TYPE_DOUBLE\"]=1,t[e[2]=\"TYPE_FLOAT\"]=2,t[e[3]=\"TYPE_INT64\"]=3,t[e[4]=\"TYPE_UINT64\"]=4,t[e[5]=\"TYPE_INT32\"]=5,t[e[6]=\"TYPE_FIXED64\"]=6,t[e[7]=\"TYPE_FIXED32\"]=7,t[e[8]=\"TYPE_BOOL\"]=8,t[e[9]=\"TYPE_STRING\"]=9,t[e[10]=\"TYPE_GROUP\"]=10,t[e[11]=\"TYPE_MESSAGE\"]=11,t[e[12]=\"TYPE_BYTES\"]=12,t[e[13]=\"TYPE_UINT32\"]=13,t[e[14]=\"TYPE_ENUM\"]=14,t[e[15]=\"TYPE_SFIXED32\"]=15,t[e[16]=\"TYPE_SFIXED64\"]=16,t[e[17]=\"TYPE_SINT32\"]=17,t[e[18]=\"TYPE_SINT64\"]=18,t),P.Label=(e={},(t=Object.create(e))[e[1]=\"LABEL_OPTIONAL\"]=1,t[e[2]=\"LABEL_REQUIRED\"]=2,t[e[3]=\"LABEL_REPEATED\"]=3,t),P),n.OneofDescriptorProto=(W.prototype.name=\"\",W.prototype.options=null,W.create=function(e){return new W(e)},W.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},W.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},W.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=l.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},W.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},W.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.protobuf.OneofOptions.verify(e.options);if(e)return\"options.\"+e}return null},W.fromObject=function(e){if(e instanceof l.google.protobuf.OneofDescriptorProto)return e;var t=new l.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.OneofDescriptorProto.options: object expected\");t.options=l.google.protobuf.OneofOptions.fromObject(e.options)}return t},W.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.OneofOptions.toObject(e.options,t)),n},W.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},W),n.EnumDescriptorProto=(w.prototype.name=\"\",w.prototype.value=p.emptyArray,w.prototype.options=null,w.prototype.reservedRange=p.emptyArray,w.prototype.reservedName=p.emptyArray,w.create=function(e){return new w(e)},w.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)l.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)l.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(l.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=l.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(l.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},w.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},w.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.value&&e.hasOwnProperty(\"value\")){if(!Array.isArray(e.value))return\"value: array expected\";for(var t=0;t<e.value.length;++t)if(n=l.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return\"value.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.EnumOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!p.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},w.fromObject=function(e){if(e instanceof l.google.protobuf.EnumDescriptorProto)return e;var t=new l.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(\".google.protobuf.EnumDescriptorProto.value: array expected\");t.value=[];for(var n=0;n<e.value.length;++n){if(\"object\"!=typeof e.value[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.value: object expected\");t.value[n]=l.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumDescriptorProto.options: object expected\");t.options=l.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: object expected\");t.reservedRange[n]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},w.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.value=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var o=0;o<e.value.length;++o)n.value[o]=l.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w.EnumReservedRange=(X.prototype.start=0,X.prototype.end=0,X.create=function(e){return new X(e)},X.encode=function(e,t){return t=t||i.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},X.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},X.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},X.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},X.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!p.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end)?\"end: integer expected\":null},X.fromObject=function(e){var t;return e instanceof l.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},X.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},X.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},X),w),n.EnumValueDescriptorProto=(j.prototype.name=\"\",j.prototype.number=0,j.prototype.options=null,j.create=function(e){return new j(e)},j.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=l.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},j.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},j.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!p.isInteger(e.number))return\"number: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=l.google.protobuf.EnumValueOptions.verify(e.options);if(e)return\"options.\"+e}return null},j.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueDescriptorProto)return e;var t=new l.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumValueDescriptorProto.options: object expected\");t.options=l.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},j.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},j.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},j),n.ServiceDescriptorProto=(D.prototype.name=\"\",D.prototype.method=p.emptyArray,D.prototype.options=null,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)l.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(l.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=l.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},D.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},D.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.method&&e.hasOwnProperty(\"method\")){if(!Array.isArray(e.method))return\"method: array expected\";for(var t=0;t<e.method.length;++t)if(n=l.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return\"method.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=l.google.protobuf.ServiceOptions.verify(e.options)))return\"options.\"+n;return null},D.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceDescriptorProto)return e;var t=new l.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: array expected\");t.method=[];for(var n=0;n<e.method.length;++n){if(\"object\"!=typeof e.method[n])throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: object expected\");t.method[n]=l.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.ServiceDescriptorProto.options: object expected\");t.options=l.google.protobuf.ServiceOptions.fromObject(e.options)}return t},D.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var o=0;o<e.method.length;++o)n.method[o]=l.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.ServiceOptions.toObject(e.options,t)),n},D.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},D),n.MethodDescriptorProto=(x.prototype.name=\"\",x.prototype.inputType=\"\",x.prototype.outputType=\"\",x.prototype.options=null,x.prototype.clientStreaming=!1,x.prototype.serverStreaming=!1,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,\"inputType\")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,\"outputType\")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&l.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,\"clientStreaming\")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,\"serverStreaming\")&&t.uint32(48).bool(e.serverStreaming),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=l.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},x.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},x.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!p.isString(e.name))return\"name: string expected\";if(null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&!p.isString(e.inputType))return\"inputType: string expected\";if(null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&!p.isString(e.outputType))return\"outputType: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=l.google.protobuf.MethodOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&\"boolean\"!=typeof e.clientStreaming?\"clientStreaming: boolean expected\":null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&\"boolean\"!=typeof e.serverStreaming?\"serverStreaming: boolean expected\":null},x.fromObject=function(e){if(e instanceof l.google.protobuf.MethodDescriptorProto)return e;var t=new l.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.MethodDescriptorProto.options: object expected\");t.options=l.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},x.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.inputType=\"\",n.outputType=\"\",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=l.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&(n.serverStreaming=e.serverStreaming),n},x.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},x),n.FileOptions=(S.prototype.javaPackage=\"\",S.prototype.javaOuterClassname=\"\",S.prototype.javaMultipleFiles=!1,S.prototype.javaGenerateEqualsAndHash=!1,S.prototype.javaStringCheckUtf8=!1,S.prototype.optimizeFor=1,S.prototype.goPackage=\"\",S.prototype.ccGenericServices=!1,S.prototype.javaGenericServices=!1,S.prototype.pyGenericServices=!1,S.prototype.phpGenericServices=!1,S.prototype.deprecated=!1,S.prototype.ccEnableArenas=!0,S.prototype.objcClassPrefix=\"\",S.prototype.csharpNamespace=\"\",S.prototype.swiftPrefix=\"\",S.prototype.phpClassPrefix=\"\",S.prototype.phpNamespace=\"\",S.prototype.phpMetadataNamespace=\"\",S.prototype.rubyPackage=\"\",S.prototype.uninterpretedOption=p.emptyArray,S.prototype[\".google.api.resourceDefinition\"]=p.emptyArray,S.create=function(e){return new S(e)},S.encode=function(e,t){if(t=t||i.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,\"javaPackage\")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,\"javaOuterClassname\")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,\"optimizeFor\")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,\"javaMultipleFiles\")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,\"goPackage\")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,\"ccGenericServices\")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,\"javaGenericServices\")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,\"pyGenericServices\")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,\"javaGenerateEqualsAndHash\")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,\"javaStringCheckUtf8\")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,\"ccEnableArenas\")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,\"objcClassPrefix\")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,\"csharpNamespace\")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,\"swiftPrefix\")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,\"phpClassPrefix\")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,\"phpNamespace\")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,\"phpGenericServices\")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,\"phpMetadataNamespace\")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,\"rubyPackage\")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.resourceDefinition\"]&&e[\".google.api.resourceDefinition\"].length)for(n=0;n<e[\".google.api.resourceDefinition\"].length;++n)l.google.api.ResourceDescriptor.encode(e[\".google.api.resourceDefinition\"][n],t.uint32(8426).fork()).ldelim();return t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:o[\".google.api.resourceDefinition\"]&&o[\".google.api.resourceDefinition\"].length||(o[\".google.api.resourceDefinition\"]=[]),o[\".google.api.resourceDefinition\"].push(l.google.api.ResourceDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},S.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},S.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&!p.isString(e.javaPackage))return\"javaPackage: string expected\";if(null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&!p.isString(e.javaOuterClassname))return\"javaOuterClassname: string expected\";if(null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&\"boolean\"!=typeof e.javaMultipleFiles)return\"javaMultipleFiles: boolean expected\";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&\"boolean\"!=typeof e.javaGenerateEqualsAndHash)return\"javaGenerateEqualsAndHash: boolean expected\";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&\"boolean\"!=typeof e.javaStringCheckUtf8)return\"javaStringCheckUtf8: boolean expected\";if(null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\"))switch(e.optimizeFor){default:return\"optimizeFor: enum value expected\";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&!p.isString(e.goPackage))return\"goPackage: string expected\";if(null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&\"boolean\"!=typeof e.ccGenericServices)return\"ccGenericServices: boolean expected\";if(null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&\"boolean\"!=typeof e.javaGenericServices)return\"javaGenericServices: boolean expected\";if(null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&\"boolean\"!=typeof e.pyGenericServices)return\"pyGenericServices: boolean expected\";if(null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&\"boolean\"!=typeof e.phpGenericServices)return\"phpGenericServices: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&\"boolean\"!=typeof e.ccEnableArenas)return\"ccEnableArenas: boolean expected\";if(null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&!p.isString(e.objcClassPrefix))return\"objcClassPrefix: string expected\";if(null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&!p.isString(e.csharpNamespace))return\"csharpNamespace: string expected\";if(null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&!p.isString(e.swiftPrefix))return\"swiftPrefix: string expected\";if(null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&!p.isString(e.phpClassPrefix))return\"phpClassPrefix: string expected\";if(null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&!p.isString(e.phpNamespace))return\"phpNamespace: string expected\";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&!p.isString(e.phpMetadataNamespace))return\"phpMetadataNamespace: string expected\";if(null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&!p.isString(e.rubyPackage))return\"rubyPackage: string expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}if(null!=e[\".google.api.resourceDefinition\"]&&e.hasOwnProperty(\".google.api.resourceDefinition\")){if(!Array.isArray(e[\".google.api.resourceDefinition\"]))return\".google.api.resourceDefinition: array expected\";for(var n,t=0;t<e[\".google.api.resourceDefinition\"].length;++t)if(n=l.google.api.ResourceDescriptor.verify(e[\".google.api.resourceDefinition\"][t]))return\".google.api.resourceDefinition.\"+n}return null},S.fromObject=function(e){if(e instanceof l.google.protobuf.FileOptions)return e;var t=new l.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case\"SPEED\":case 1:t.optimizeFor=1;break;case\"CODE_SIZE\":case 2:t.optimizeFor=2;break;case\"LITE_RUNTIME\":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(e[\".google.api.resourceDefinition\"]){if(!Array.isArray(e[\".google.api.resourceDefinition\"]))throw TypeError(\".google.protobuf.FileOptions..google.api.resourceDefinition: array expected\");t[\".google.api.resourceDefinition\"]=[];for(n=0;n<e[\".google.api.resourceDefinition\"].length;++n){if(\"object\"!=typeof e[\".google.api.resourceDefinition\"][n])throw TypeError(\".google.protobuf.FileOptions..google.api.resourceDefinition: object expected\");t[\".google.api.resourceDefinition\"][n]=l.google.api.ResourceDescriptor.fromObject(e[\".google.api.resourceDefinition\"][n])}}return t},S.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.resourceDefinition\"]=[]),t.defaults&&(n.javaPackage=\"\",n.javaOuterClassname=\"\",n.optimizeFor=t.enums===String?\"SPEED\":1,n.javaMultipleFiles=!1,n.goPackage=\"\",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!0,n.objcClassPrefix=\"\",n.csharpNamespace=\"\",n.swiftPrefix=\"\",n.phpClassPrefix=\"\",n.phpNamespace=\"\",n.phpGenericServices=!1,n.phpMetadataNamespace=\"\",n.rubyPackage=\"\"),null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\")&&(n.optimizeFor=t.enums===String?l.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&(n.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&(n.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&(n.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&(n.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&(n.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&(n.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&(n.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.resourceDefinition\"]&&e[\".google.api.resourceDefinition\"].length){n[\".google.api.resourceDefinition\"]=[];for(o=0;o<e[\".google.api.resourceDefinition\"].length;++o)n[\".google.api.resourceDefinition\"][o]=l.google.api.ResourceDescriptor.toObject(e[\".google.api.resourceDefinition\"][o],t)}return n},S.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},S.OptimizeMode=(e={},(t=Object.create(e))[e[1]=\"SPEED\"]=1,t[e[2]=\"CODE_SIZE\"]=2,t[e[3]=\"LITE_RUNTIME\"]=3,t),S),n.MessageOptions=(k.prototype.messageSetWireFormat=!1,k.prototype.noStandardDescriptorAccessor=!1,k.prototype.deprecated=!1,k.prototype.mapEntry=!1,k.prototype.uninterpretedOption=p.emptyArray,k.prototype[\".google.api.resource\"]=null,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||i.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,\"messageSetWireFormat\")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,\"noStandardDescriptorAccessor\")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,\"mapEntry\")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.resource\"]&&Object.hasOwnProperty.call(e,\".google.api.resource\")&&l.google.api.ResourceDescriptor.encode(e[\".google.api.resource\"],t.uint32(8426).fork()).ldelim(),t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:o[\".google.api.resource\"]=l.google.api.ResourceDescriptor.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},k.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},k.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&\"boolean\"!=typeof e.messageSetWireFormat)return\"messageSetWireFormat: boolean expected\";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&\"boolean\"!=typeof e.noStandardDescriptorAccessor)return\"noStandardDescriptorAccessor: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&\"boolean\"!=typeof e.mapEntry)return\"mapEntry: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.api.resource\"]&&e.hasOwnProperty(\".google.api.resource\")&&(n=l.google.api.ResourceDescriptor.verify(e[\".google.api.resource\"])))return\".google.api.resource.\"+n;return null},k.fromObject=function(e){if(e instanceof l.google.protobuf.MessageOptions)return e;var t=new l.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.api.resource\"]){if(\"object\"!=typeof e[\".google.api.resource\"])throw TypeError(\".google.protobuf.MessageOptions..google.api.resource: object expected\");t[\".google.api.resource\"]=l.google.api.ResourceDescriptor.fromObject(e[\".google.api.resource\"])}return t},k.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1,n[\".google.api.resource\"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.resource\"]&&e.hasOwnProperty(\".google.api.resource\")&&(n[\".google.api.resource\"]=l.google.api.ResourceDescriptor.toObject(e[\".google.api.resource\"],t)),n},k.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},k),n.FieldOptions=(T.prototype.ctype=0,T.prototype.packed=!1,T.prototype.jstype=0,T.prototype.lazy=!1,T.prototype.deprecated=!1,T.prototype.weak=!1,T.prototype.uninterpretedOption=p.emptyArray,T.prototype[\".google.api.fieldBehavior\"]=p.emptyArray,T.prototype[\".google.api.resourceReference\"]=null,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||i.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,\"ctype\")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,\"packed\")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,\"lazy\")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,\"jstype\")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,\"weak\")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.fieldBehavior\"]&&e[\".google.api.fieldBehavior\"].length){t.uint32(8418).fork();for(n=0;n<e[\".google.api.fieldBehavior\"].length;++n)t.int32(e[\".google.api.fieldBehavior\"][n]);t.ldelim()}return null!=e[\".google.api.resourceReference\"]&&Object.hasOwnProperty.call(e,\".google.api.resourceReference\")&&l.google.api.ResourceReference.encode(e[\".google.api.resourceReference\"],t.uint32(8442).fork()).ldelim(),t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1052:if(o[\".google.api.fieldBehavior\"]&&o[\".google.api.fieldBehavior\"].length||(o[\".google.api.fieldBehavior\"]=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o[\".google.api.fieldBehavior\"].push(e.int32());else o[\".google.api.fieldBehavior\"].push(e.int32());break;case 1055:o[\".google.api.resourceReference\"]=l.google.api.ResourceReference.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},T.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},T.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.ctype&&e.hasOwnProperty(\"ctype\"))switch(e.ctype){default:return\"ctype: enum value expected\";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty(\"packed\")&&\"boolean\"!=typeof e.packed)return\"packed: boolean expected\";if(null!=e.jstype&&e.hasOwnProperty(\"jstype\"))switch(e.jstype){default:return\"jstype: enum value expected\";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&\"boolean\"!=typeof e.lazy)return\"lazy: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.weak&&e.hasOwnProperty(\"weak\")&&\"boolean\"!=typeof e.weak)return\"weak: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}if(null!=e[\".google.api.fieldBehavior\"]&&e.hasOwnProperty(\".google.api.fieldBehavior\")){if(!Array.isArray(e[\".google.api.fieldBehavior\"]))return\".google.api.fieldBehavior: array expected\";for(t=0;t<e[\".google.api.fieldBehavior\"].length;++t)switch(e[\".google.api.fieldBehavior\"][t]){default:return\".google.api.fieldBehavior: enum value[] expected\";case 0:case 1:case 2:case 3:case 4:case 5:}}var n;if(null!=e[\".google.api.resourceReference\"]&&e.hasOwnProperty(\".google.api.resourceReference\")&&(n=l.google.api.ResourceReference.verify(e[\".google.api.resourceReference\"])))return\".google.api.resourceReference.\"+n;return null},T.fromObject=function(e){if(e instanceof l.google.protobuf.FieldOptions)return e;var t=new l.google.protobuf.FieldOptions;switch(e.ctype){case\"STRING\":case 0:t.ctype=0;break;case\"CORD\":case 1:t.ctype=1;break;case\"STRING_PIECE\":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case\"JS_NORMAL\":case 0:t.jstype=0;break;case\"JS_STRING\":case 1:t.jstype=1;break;case\"JS_NUMBER\":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(e[\".google.api.fieldBehavior\"]){if(!Array.isArray(e[\".google.api.fieldBehavior\"]))throw TypeError(\".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected\");t[\".google.api.fieldBehavior\"]=[];for(n=0;n<e[\".google.api.fieldBehavior\"].length;++n)switch(e[\".google.api.fieldBehavior\"][n]){default:case\"FIELD_BEHAVIOR_UNSPECIFIED\":case 0:t[\".google.api.fieldBehavior\"][n]=0;break;case\"OPTIONAL\":case 1:t[\".google.api.fieldBehavior\"][n]=1;break;case\"REQUIRED\":case 2:t[\".google.api.fieldBehavior\"][n]=2;break;case\"OUTPUT_ONLY\":case 3:t[\".google.api.fieldBehavior\"][n]=3;break;case\"INPUT_ONLY\":case 4:t[\".google.api.fieldBehavior\"][n]=4;break;case\"IMMUTABLE\":case 5:t[\".google.api.fieldBehavior\"][n]=5}}if(null!=e[\".google.api.resourceReference\"]){if(\"object\"!=typeof e[\".google.api.resourceReference\"])throw TypeError(\".google.protobuf.FieldOptions..google.api.resourceReference: object expected\");t[\".google.api.resourceReference\"]=l.google.api.ResourceReference.fromObject(e[\".google.api.resourceReference\"])}return t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.fieldBehavior\"]=[]),t.defaults&&(n.ctype=t.enums===String?\"STRING\":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?\"JS_NORMAL\":0,n.weak=!1,n[\".google.api.resourceReference\"]=null),null!=e.ctype&&e.hasOwnProperty(\"ctype\")&&(n.ctype=t.enums===String?l.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty(\"packed\")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty(\"jstype\")&&(n.jstype=t.enums===String?l.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty(\"weak\")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.fieldBehavior\"]&&e[\".google.api.fieldBehavior\"].length){n[\".google.api.fieldBehavior\"]=[];for(o=0;o<e[\".google.api.fieldBehavior\"].length;++o)n[\".google.api.fieldBehavior\"][o]=t.enums===String?l.google.api.FieldBehavior[e[\".google.api.fieldBehavior\"][o]]:e[\".google.api.fieldBehavior\"][o]}return null!=e[\".google.api.resourceReference\"]&&e.hasOwnProperty(\".google.api.resourceReference\")&&(n[\".google.api.resourceReference\"]=l.google.api.ResourceReference.toObject(e[\".google.api.resourceReference\"],t)),n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T.CType=(e={},(t=Object.create(e))[e[0]=\"STRING\"]=0,t[e[1]=\"CORD\"]=1,t[e[2]=\"STRING_PIECE\"]=2,t),T.JSType=(e={},(t=Object.create(e))[e[0]=\"JS_NORMAL\"]=0,t[e[1]=\"JS_STRING\"]=1,t[e[2]=\"JS_NUMBER\"]=2,t),T),n.OneofOptions=(Q.prototype.uninterpretedOption=p.emptyArray,Q.create=function(e){return new Q(e)},Q.encode=function(e,t){if(t=t||i.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},Q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},Q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Q.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},Q.fromObject=function(e){if(e instanceof l.google.protobuf.OneofOptions)return e;var t=new l.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},Q.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},Q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Q),n.EnumOptions=(E.prototype.allowAlias=!1,E.prototype.deprecated=!1,E.prototype.uninterpretedOption=p.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||i.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,\"allowAlias\")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},E.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},E.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&\"boolean\"!=typeof e.allowAlias)return\"allowAlias: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},E.fromObject=function(e){if(e instanceof l.google.protobuf.EnumOptions)return e;var t=new l.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},E.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E),n.EnumValueOptions=(K.prototype.deprecated=!1,K.prototype.uninterpretedOption=p.emptyArray,K.create=function(e){return new K(e)},K.encode=function(e,t){if(t=t||i.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},K.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},K.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},K.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},K.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},K.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueOptions)return e;var t=new l.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},K.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},K.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},K),n.ServiceOptions=(A.prototype.deprecated=!1,A.prototype.uninterpretedOption=p.emptyArray,A.prototype[\".google.api.defaultHost\"]=\"\",A.prototype[\".google.api.oauthScopes\"]=\"\",A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||i.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.defaultHost\"]&&Object.hasOwnProperty.call(e,\".google.api.defaultHost\")&&t.uint32(8394).string(e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&Object.hasOwnProperty.call(e,\".google.api.oauthScopes\")&&t.uint32(8402).string(e[\".google.api.oauthScopes\"]),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.api.defaultHost\"]=e.string();break;case 1050:o[\".google.api.oauthScopes\"]=e.string();break;default:e.skipType(7&r)}}return o},A.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},A.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&!p.isString(e[\".google.api.defaultHost\"])?\".google.api.defaultHost: string expected\":null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&!p.isString(e[\".google.api.oauthScopes\"])?\".google.api.oauthScopes: string expected\":null},A.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceOptions)return e;var t=new l.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[\".google.api.defaultHost\"]&&(t[\".google.api.defaultHost\"]=String(e[\".google.api.defaultHost\"])),null!=e[\".google.api.oauthScopes\"]&&(t[\".google.api.oauthScopes\"]=String(e[\".google.api.oauthScopes\"])),t},A.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[\".google.api.defaultHost\"]=\"\",n[\".google.api.oauthScopes\"]=\"\"),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&(n[\".google.api.defaultHost\"]=e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&(n[\".google.api.oauthScopes\"]=e[\".google.api.oauthScopes\"]),n},A.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},A),n.MethodOptions=(N.prototype.deprecated=!1,N.prototype.idempotencyLevel=0,N.prototype.uninterpretedOption=p.emptyArray,N.prototype[\".google.api.http\"]=null,N.prototype[\".google.api.methodSignature\"]=p.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||i.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,\"idempotencyLevel\")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length)for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t.uint32(8410).string(e[\".google.api.methodSignature\"][n]);return null!=e[\".google.api.http\"]&&Object.hasOwnProperty.call(e,\".google.api.http\")&&l.google.api.HttpRule.encode(e[\".google.api.http\"],t.uint32(578365826).fork()).ldelim(),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:o[\".google.api.http\"]=l.google.api.HttpRule.decode(e,e.uint32());break;case 1051:o[\".google.api.methodSignature\"]&&o[\".google.api.methodSignature\"].length||(o[\".google.api.methodSignature\"]=[]),o[\".google.api.methodSignature\"].push(e.string());break;default:e.skipType(7&r)}}return o},N.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},N.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\"))switch(e.idempotencyLevel){default:return\"idempotencyLevel: enum value expected\";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n=l.google.api.HttpRule.verify(e[\".google.api.http\"])))return\".google.api.http.\"+n;if(null!=e[\".google.api.methodSignature\"]&&e.hasOwnProperty(\".google.api.methodSignature\")){if(!Array.isArray(e[\".google.api.methodSignature\"]))return\".google.api.methodSignature: array expected\";for(t=0;t<e[\".google.api.methodSignature\"].length;++t)if(!p.isString(e[\".google.api.methodSignature\"][t]))return\".google.api.methodSignature: string[] expected\"}return null},N.fromObject=function(e){if(e instanceof l.google.protobuf.MethodOptions)return e;var t=new l.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case\"IDEMPOTENCY_UNKNOWN\":case 0:t.idempotencyLevel=0;break;case\"NO_SIDE_EFFECTS\":case 1:t.idempotencyLevel=1;break;case\"IDEMPOTENT\":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.api.http\"]){if(\"object\"!=typeof e[\".google.api.http\"])throw TypeError(\".google.protobuf.MethodOptions..google.api.http: object expected\");t[\".google.api.http\"]=l.google.api.HttpRule.fromObject(e[\".google.api.http\"])}if(e[\".google.api.methodSignature\"]){if(!Array.isArray(e[\".google.api.methodSignature\"]))throw TypeError(\".google.protobuf.MethodOptions..google.api.methodSignature: array expected\");t[\".google.api.methodSignature\"]=[];for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t[\".google.api.methodSignature\"][n]=String(e[\".google.api.methodSignature\"][n])}return t},N.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.methodSignature\"]=[]),t.defaults&&(n.deprecated=!1,n.idempotencyLevel=t.enums===String?\"IDEMPOTENCY_UNKNOWN\":0,n[\".google.api.http\"]=null),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\")&&(n.idempotencyLevel=t.enums===String?l.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length){n[\".google.api.methodSignature\"]=[];for(o=0;o<e[\".google.api.methodSignature\"].length;++o)n[\".google.api.methodSignature\"][o]=e[\".google.api.methodSignature\"][o]}return null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n[\".google.api.http\"]=l.google.api.HttpRule.toObject(e[\".google.api.http\"],t)),n},N.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},N.IdempotencyLevel=(e={},(t=Object.create(e))[e[0]=\"IDEMPOTENCY_UNKNOWN\"]=0,t[e[1]=\"NO_SIDE_EFFECTS\"]=1,t[e[2]=\"IDEMPOTENT\"]=2,t),N),n.UninterpretedOption=(R.prototype.name=p.emptyArray,R.prototype.identifierValue=\"\",R.prototype.positiveIntValue=p.Long?p.Long.fromBits(0,0,!0):0,R.prototype.negativeIntValue=p.Long?p.Long.fromBits(0,0,!1):0,R.prototype.doubleValue=0,R.prototype.stringValue=p.newBuffer([]),R.prototype.aggregateValue=\"\",R.create=function(e){return new R(e)},R.encode=function(e,t){if(t=t||i.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)l.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,\"identifierValue\")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,\"positiveIntValue\")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,\"negativeIntValue\")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,\"doubleValue\")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,\"stringValue\")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,\"aggregateValue\")&&t.uint32(66).string(e.aggregateValue),t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(l.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},R.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},R.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")){if(!Array.isArray(e.name))return\"name: array expected\";for(var t=0;t<e.name.length;++t){var n=l.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return\"name.\"+n}}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&!p.isString(e.identifierValue)?\"identifierValue: string expected\":null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&!(p.isInteger(e.positiveIntValue)||e.positiveIntValue&&p.isInteger(e.positiveIntValue.low)&&p.isInteger(e.positiveIntValue.high))?\"positiveIntValue: integer|Long expected\":null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&!(p.isInteger(e.negativeIntValue)||e.negativeIntValue&&p.isInteger(e.negativeIntValue.low)&&p.isInteger(e.negativeIntValue.high))?\"negativeIntValue: integer|Long expected\":null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&\"number\"!=typeof e.doubleValue?\"doubleValue: number expected\":null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&!(e.stringValue&&\"number\"==typeof e.stringValue.length||p.isString(e.stringValue))?\"stringValue: buffer expected\":null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&!p.isString(e.aggregateValue)?\"aggregateValue: string expected\":null},R.fromObject=function(e){if(e instanceof l.google.protobuf.UninterpretedOption)return e;var t=new l.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(\".google.protobuf.UninterpretedOption.name: array expected\");t.name=[];for(var n=0;n<e.name.length;++n){if(\"object\"!=typeof e.name[n])throw TypeError(\".google.protobuf.UninterpretedOption.name: object expected\");t.name[n]=l.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(p.Long?(t.positiveIntValue=p.Long.fromValue(e.positiveIntValue)).unsigned=!0:\"string\"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):\"number\"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:\"object\"==typeof e.positiveIntValue&&(t.positiveIntValue=new p.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(p.Long?(t.negativeIntValue=p.Long.fromValue(e.negativeIntValue)).unsigned=!1:\"string\"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):\"number\"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:\"object\"==typeof e.negativeIntValue&&(t.negativeIntValue=new p.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&(\"string\"==typeof e.stringValue?p.base64.decode(e.stringValue,t.stringValue=p.newBuffer(p.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},R.toObject=function(e,t){var n,o={};if(((t=t||{}).arrays||t.defaults)&&(o.name=[]),t.defaults&&(o.identifierValue=\"\",p.Long?(n=new p.Long(0,0,!0),o.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.positiveIntValue=t.longs===String?\"0\":0,p.Long?(n=new p.Long(0,0,!1),o.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.negativeIntValue=t.longs===String?\"0\":0,o.doubleValue=0,t.bytes===String?o.stringValue=\"\":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=p.newBuffer(o.stringValue))),o.aggregateValue=\"\"),e.name&&e.name.length){o.name=[];for(var r=0;r<e.name.length;++r)o.name[r]=l.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[r],t)}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&(\"number\"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?p.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new p.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&(\"number\"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?p.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new p.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&(o.stringValue=t.bytes===String?p.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&(o.aggregateValue=e.aggregateValue),o},R.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},R.NamePart=(Z.prototype.namePart=\"\",Z.prototype.isExtension=!1,Z.create=function(e){return new Z(e)},Z.encode=function(e,t){return(t=t||i.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},Z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty(\"namePart\"))throw p.ProtocolError(\"missing required 'namePart'\",{instance:o});if(o.hasOwnProperty(\"isExtension\"))return o;throw p.ProtocolError(\"missing required 'isExtension'\",{instance:o})},Z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Z.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":p.isString(e.namePart)?\"boolean\"!=typeof e.isExtension?\"isExtension: boolean expected\":null:\"namePart: string expected\"},Z.fromObject=function(e){var t;return e instanceof l.google.protobuf.UninterpretedOption.NamePart?e:(t=new l.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},Z.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.namePart=\"\",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty(\"namePart\")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty(\"isExtension\")&&(n.isExtension=e.isExtension),n},Z.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Z),R),n.SourceCodeInfo=($.prototype.location=p.emptyArray,$.create=function(e){return new $(e)},$.encode=function(e,t){if(t=t||i.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)l.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},$.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},$.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(l.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},$.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},$.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.location&&e.hasOwnProperty(\"location\")){if(!Array.isArray(e.location))return\"location: array expected\";for(var t=0;t<e.location.length;++t){var n=l.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return\"location.\"+n}}return null},$.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo)return e;var t=new l.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(\".google.protobuf.SourceCodeInfo.location: array expected\");t.location=[];for(var n=0;n<e.location.length;++n){if(\"object\"!=typeof e.location[n])throw TypeError(\".google.protobuf.SourceCodeInfo.location: object expected\");t.location[n]=l.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},$.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var o=0;o<e.location.length;++o)n.location[o]=l.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return n},$.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},$.Location=(I.prototype.path=p.emptyArray,I.prototype.span=p.emptyArray,I.prototype.leadingComments=\"\",I.prototype.trailingComments=\"\",I.prototype.leadingDetachedComments=p.emptyArray,I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||i.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,\"leadingComments\")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,\"trailingComments\")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},I.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},I.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!p.isInteger(e.path[t]))return\"path: integer[] expected\"}if(null!=e.span&&e.hasOwnProperty(\"span\")){if(!Array.isArray(e.span))return\"span: array expected\";for(t=0;t<e.span.length;++t)if(!p.isInteger(e.span[t]))return\"span: integer[] expected\"}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&!p.isString(e.leadingComments))return\"leadingComments: string expected\";if(null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&!p.isString(e.trailingComments))return\"trailingComments: string expected\";if(null!=e.leadingDetachedComments&&e.hasOwnProperty(\"leadingDetachedComments\")){if(!Array.isArray(e.leadingDetachedComments))return\"leadingDetachedComments: array expected\";for(t=0;t<e.leadingDetachedComments.length;++t)if(!p.isString(e.leadingDetachedComments[t]))return\"leadingDetachedComments: string[] expected\"}return null},I.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo.Location)return e;var t=new l.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.span: array expected\");t.span=[];for(n=0;n<e.span.length;++n)t.span[n]=0|e.span[n]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected\");t.leadingDetachedComments=[];for(n=0;n<e.leadingDetachedComments.length;++n)t.leadingDetachedComments[n]=String(e.leadingDetachedComments[n])}return t},I.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments=\"\",n.trailingComments=\"\"),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}if(e.span&&e.span.length){n.span=[];for(o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(o=0;o<e.leadingDetachedComments.length;++o)n.leadingDetachedComments[o]=e.leadingDetachedComments[o]}return n},I.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},I),$),n.GeneratedCodeInfo=(ee.prototype.annotation=p.emptyArray,ee.create=function(e){return new ee(e)},ee.encode=function(e,t){if(t=t||i.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)l.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},ee.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},ee.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(l.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},ee.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},ee.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.annotation&&e.hasOwnProperty(\"annotation\")){if(!Array.isArray(e.annotation))return\"annotation: array expected\";for(var t=0;t<e.annotation.length;++t){var n=l.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return\"annotation.\"+n}}return null},ee.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo)return e;var t=new l.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: array expected\");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if(\"object\"!=typeof e.annotation[n])throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: object expected\");t.annotation[n]=l.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},ee.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var o=0;o<e.annotation.length;++o)n.annotation[o]=l.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return n},ee.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},ee.Annotation=(C.prototype.path=p.emptyArray,C.prototype.sourceFile=\"\",C.prototype.begin=0,C.prototype.end=0,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||i.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,\"sourceFile\")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,\"begin\")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(32).int32(e.end),t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},C.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},C.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!p.isInteger(e.path[t]))return\"path: integer[] expected\"}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&!p.isString(e.sourceFile)?\"sourceFile: string expected\":null!=e.begin&&e.hasOwnProperty(\"begin\")&&!p.isInteger(e.begin)?\"begin: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!p.isInteger(e.end)?\"end: integer expected\":null},C.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new l.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},C.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile=\"\",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty(\"begin\")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},C.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},C),ee),n),F.type=((r={}).Expr=(V.prototype.expression=\"\",V.prototype.title=\"\",V.prototype.description=\"\",V.prototype.location=\"\",V.create=function(e){return new V(e)},V.encode=function(e,t){return t=t||i.create(),null!=e.expression&&Object.hasOwnProperty.call(e,\"expression\")&&t.uint32(10).string(e.expression),null!=e.title&&Object.hasOwnProperty.call(e,\"title\")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,\"description\")&&t.uint32(26).string(e.description),null!=e.location&&Object.hasOwnProperty.call(e,\"location\")&&t.uint32(34).string(e.location),t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.type.Expr;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.expression=e.string();break;case 2:o.title=e.string();break;case 3:o.description=e.string();break;case 4:o.location=e.string();break;default:e.skipType(7&r)}}return o},V.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},V.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.expression&&e.hasOwnProperty(\"expression\")&&!p.isString(e.expression)?\"expression: string expected\":null!=e.title&&e.hasOwnProperty(\"title\")&&!p.isString(e.title)?\"title: string expected\":null!=e.description&&e.hasOwnProperty(\"description\")&&!p.isString(e.description)?\"description: string expected\":null!=e.location&&e.hasOwnProperty(\"location\")&&!p.isString(e.location)?\"location: string expected\":null},V.fromObject=function(e){var t;return e instanceof l.google.type.Expr?e:(t=new l.google.type.Expr,null!=e.expression&&(t.expression=String(e.expression)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),null!=e.location&&(t.location=String(e.location)),t)},V.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.expression=\"\",n.title=\"\",n.description=\"\",n.location=\"\"),null!=e.expression&&e.hasOwnProperty(\"expression\")&&(n.expression=e.expression),null!=e.title&&e.hasOwnProperty(\"title\")&&(n.title=e.title),null!=e.description&&e.hasOwnProperty(\"description\")&&(n.description=e.description),null!=e.location&&e.hasOwnProperty(\"location\")&&(n.location=e.location),n},V.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},V),r),F),l});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9wcm90b3MvaWFtX3NlcnZpY2UuanMiLCJtYXBwaW5ncyI6IkFBQUEscUdBQUssS0FBcUMsQ0FBQyxpQ0FBTyxDQUFDLDJGQUFvQixDQUFDLG9DQUFDLENBQUM7QUFBQTtBQUFBO0FBQUEsa0dBQUMsQ0FBQyxDQUE4SCxDQUFDLGNBQWMseUZBQXlGLEVBQUUsa0JBQWtCLCtCQUErQixjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLHNEQUFzRCxXQUFXLHdDQUF3QyxjQUFjLHNEQUFzRCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLG1EQUFtRCxXQUFXLHdDQUF3QyxjQUFjLGtEQUFrRCxXQUFXLHdDQUF3QyxjQUFjLGtGQUFrRixXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGdEQUFnRCxXQUFXLHdDQUF3QyxjQUFjLDZEQUE2RCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtEQUFrRCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLCtDQUErQyxXQUFXLHdDQUF3QyxjQUFjLDRLQUE0SyxXQUFXLHdDQUF3QyxjQUFjLDBMQUEwTCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLDhEQUE4RCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLDJGQUEyRixXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLGlEQUFpRCxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLHdHQUF3RyxXQUFXLHdDQUF3QyxjQUFjLDhEQUE4RCxXQUFXLHdDQUF3QyxjQUFjLG1HQUFtRyxXQUFXLHdDQUF3QyxjQUFjLDhEQUE4RCxXQUFXLHdDQUF3QyxjQUFjLDhEQUE4RCxXQUFXLHdDQUF3QyxjQUFjLDhEQUE4RCxXQUFXLHdDQUF3QyxjQUFjLDhEQUE4RCxXQUFXLHdDQUF3QyxjQUFjLHFHQUFxRyxXQUFXLHdDQUF3QyxjQUFjLCtDQUErQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxjQUFjLG1EQUFtRCxXQUFXLHdDQUF3QyxjQUFjLDRGQUE0RixXQUFXLHdDQUF3QyxlQUFlLHFEQUFxRCxXQUFXLHdDQUF3QyxjQUFjLCtDQUErQyxXQUFXLHdDQUF3QyxjQUFjLGtDQUFrQyxXQUFXLHdDQUF3QyxzQkFBc0IsWUFBWSxXQUFXLHlHQUF5Ryx1QkFBdUIsZ0VBQWdFLHNGQUFzRixTQUFTLHFCQUFxQixpRUFBaUUsc0ZBQXNGLFNBQVMscUJBQXFCLHVFQUF1RSxnSEFBZ0gsU0FBUywyQkFBMkIsaUdBQWlHLGdCQUFnQix3QkFBd0Isa1BBQWtQLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw2RUFBNkUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLDREQUE0RCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2R0FBNkcsK0NBQStDLDBDQUEwQyx1QkFBdUIsWUFBWSwwQkFBMEIsNkRBQTZELDhDQUE4QyxxRUFBcUUsMkdBQTJHLHFEQUFxRCxTQUFTLDBCQUEwQixTQUFTLGNBQWMsdU5BQXVOLCtCQUErQiw0REFBNEQsaUdBQWlHLGdCQUFnQix3QkFBd0IsK1BBQStQLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw2RUFBNkUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLHVFQUF1RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2R0FBNkcsaURBQWlELHFEQUFxRCx3QkFBd0IsWUFBWSwwQkFBMEIsNkRBQTZELDhDQUE4QyxzRUFBc0UsNkdBQTZHLGlFQUFpRSxTQUFTLDBCQUEwQixTQUFTLGNBQWMsc09BQXNPLCtCQUErQiw0REFBNEQsbUhBQW1ILGdCQUFnQix3QkFBd0IscUtBQXFLLHVCQUF1QiwwQ0FBMEMsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsbUZBQW1GLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSw4RkFBOEYsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkdBQTZHLHlEQUF5RCxxRUFBcUUsWUFBWSx1QkFBdUIsNEVBQTRFLFlBQVksMEJBQTBCLG1FQUFtRSxvREFBb0Qsb0VBQW9FLHlIQUF5SCxpQkFBaUIsWUFBWSx1QkFBdUIsOENBQThDLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxtTEFBbUwsaUJBQWlCLFlBQVksdUJBQXVCLHNDQUFzQyxTQUFTLCtCQUErQiw0REFBNEQsNEZBQTRGLGdCQUFnQix3QkFBd0IseUVBQXlFLHVCQUF1QiwwQ0FBMEMsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msb0ZBQW9GLFFBQVEsRUFBRSxpQkFBaUIsa0hBQWtILFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlEQUF5RCxxRUFBcUUsWUFBWSx1QkFBdUIsNEVBQTRFLFlBQVksMEJBQTBCLG9FQUFvRSxxREFBcUQsa0JBQWtCLDBIQUEwSCxpQkFBaUIsWUFBWSx1QkFBdUIsOENBQThDLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwrRUFBK0UsaUJBQWlCLFlBQVksdUJBQXVCLHNDQUFzQyxTQUFTLCtCQUErQiw0REFBNEQsa0ZBQWtGLGdCQUFnQix3QkFBd0IsNkpBQTZKLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRUFBMEUsUUFBUSxFQUFFLGlCQUFpQiw0REFBNEQsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3TkFBd04sMEJBQTBCLE1BQU0sd0xBQXdMLDBCQUEwQixTQUFTLGNBQWMsMktBQTJLLCtCQUErQiw0REFBNEQsNEhBQTRILGdCQUFnQix3QkFBd0IseU9BQXlPLG9CQUFvQiwrRUFBK0UsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsZ0VBQWdFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYywyQkFBMkIsTUFBTSxvSEFBb0gsTUFBTSx3QkFBd0IsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkdBQTJHLG1EQUFtRCwrREFBK0QsWUFBWSxvQkFBb0IsS0FBSyxvREFBb0QsMEJBQTBCLDBJQUEwSSwwQkFBMEIsZ0RBQWdELGlDQUFpQyx3REFBd0QsZ0dBQWdHLGNBQWMsWUFBWSxvQkFBb0IsS0FBSyxxR0FBcUcsaUVBQWlFLHNKQUFzSiwwQkFBMEIsU0FBUyxZQUFZLDZaQUE2WixjQUFjLFlBQVksb0JBQW9CLG9FQUFvRSxTQUFTLCtCQUErQiw0REFBNEQsb0hBQW9ILGdCQUFnQix3QkFBd0IsaUpBQWlKLG1CQUFtQixzQ0FBc0MsMklBQTJJLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpRUFBaUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDhFQUE4RSxNQUFNLDJEQUEyRCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsaURBQWlELDZEQUE2RCxZQUFZLG1CQUFtQixvRUFBb0UscURBQXFELDZDQUE2QywwQkFBMEIsWUFBWSwwQkFBMEIsaURBQWlELGtDQUFrQyxvREFBb0QsK0ZBQStGLGFBQWEsWUFBWSxtQkFBbUIsc0NBQXNDLHNCQUFzQixxR0FBcUcsdURBQXVELFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxvS0FBb0ssYUFBYSxZQUFZLG1CQUFtQiw4QkFBOEIsb0hBQW9ILCtCQUErQiw0REFBNEQsMEhBQTBILGdCQUFnQix3QkFBd0IsNkVBQTZFLHlCQUF5Qix5RkFBeUYsaUVBQWlFLDZCQUE2QixpR0FBaUcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MscUVBQXFFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2SUFBNkksTUFBTSxpS0FBaUssTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkRBQTZELHlFQUF5RSxZQUFZLHlCQUF5QiwwRkFBMEYscUVBQXFFLGlGQUFpRixjQUFjLDZCQUE2QixzR0FBc0csWUFBWSwwQkFBMEIscURBQXFELHNDQUFzQyxvQkFBb0IsK0dBQStHLG1CQUFtQixZQUFZLHlCQUF5QixLQUFLLG9IQUFvSCxnRkFBZ0Ysd0JBQXdCLHVIQUF1SCx1QkFBdUIsUUFBUSw2QkFBNkIsS0FBSyw0SEFBNEgsNEZBQTRGLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSw0R0FBNEcsbUJBQW1CLFlBQVkseUJBQXlCLG1GQUFtRixvREFBb0QsdUJBQXVCLFFBQVEsNkJBQTZCLCtGQUErRixTQUFTLCtCQUErQiw0REFBNEQsbUlBQW1JLGdCQUFnQix3QkFBd0IscVpBQXFaLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxzRUFBc0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDBCQUEwQixNQUFNLHlCQUF5QixNQUFNLDJCQUEyQixNQUFNLDJEQUEyRCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwrREFBK0QsNENBQTRDLHNCQUFzQiw2RkFBNkYscUdBQXFHLHFEQUFxRCx5Q0FBeUMsMEJBQTBCLFlBQVksMEJBQTBCLHNEQUFzRCx1Q0FBdUMsaUJBQWlCLDJDQUEyQyxNQUFNLDRCQUE0QixNQUFNLCtCQUErQix3R0FBd0csMEdBQTBHLHVEQUF1RCxTQUFTLDBCQUEwQixTQUFTLGNBQWMsMGNBQTBjLCtCQUErQiw0REFBNEQsZUFBZSxzT0FBc08sZ0JBQWdCLHdCQUF3Qiw2WUFBNlksaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsMEJBQTBCLE1BQU0sNEJBQTRCLE1BQU0sbUNBQW1DLE1BQU0sNEJBQTRCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELCtEQUErRCw0Q0FBNEMsc0JBQXNCLHdVQUF3VSwwQkFBMEIsMERBQTBELDJDQUEyQyxpQkFBaUIsMkNBQTJDLE1BQU0sNEJBQTRCLE1BQU0sK0JBQStCLDJLQUEySywwQkFBMEIsU0FBUyxjQUFjLDBkQUEwZCwrQkFBK0IsNERBQTRELGVBQWUsNEdBQTRHLCtEQUErRCxnQkFBZ0Isd0JBQXdCLDBLQUEwSyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMkVBQTJFLFFBQVEsRUFBRSxpQkFBaUIsd0ZBQXdGLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlEQUF5RCxvREFBb0QsNEJBQTRCLFlBQVksMEJBQTBCLDJEQUEyRCw0Q0FBNEMsd0JBQXdCLG1IQUFtSCxvRUFBb0UsU0FBUywwQkFBMEIsU0FBUyxjQUFjLCtKQUErSiwrQkFBK0IsNERBQTRELHlCQUF5Qix3R0FBd0csZ0JBQWdCLHdCQUF3Qiw2REFBNkQsaUJBQWlCLDBFQUEwRSwrSkFBK0osaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDJEQUEyRCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsc0dBQXNHLE1BQU0sK0NBQStDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsS0FBSywrQ0FBK0MsdUJBQXVCLHNNQUFzTSwwQkFBMEIsMkNBQTJDLDRCQUE0QixZQUFZLHFGQUFxRixXQUFXLFlBQVksaUJBQWlCLEtBQUssMEZBQTBGLHlEQUF5RCx3SEFBd0gsMEJBQTBCLFNBQVMsWUFBWSw2R0FBNkcsV0FBVyxZQUFZLGlCQUFpQiw0REFBNEQsaUtBQWlLLCtCQUErQiw0REFBNEQsOFNBQThTLHlGQUF5Rix1QkFBdUIsZ0JBQWdCLHdCQUF3QiwyeEJBQTJ4Qiw4QkFBOEIsdUZBQXVGLGlIQUFpSCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0RBQStELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSx3QkFBd0IsTUFBTSx3QkFBd0IsTUFBTSx5QkFBeUIsTUFBTSwyQkFBMkIsTUFBTSwwQkFBMEIsTUFBTSxvRUFBb0UsTUFBTSx5QkFBeUIsTUFBTSxrQ0FBa0MsTUFBTSwySkFBMkosTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsU0FBUyw2R0FBNkcsdUdBQXVHLHlDQUF5QyxrREFBa0QsK0RBQStELDJDQUEyQyxrREFBa0QsaUVBQWlFLCtDQUErQyxrREFBa0QscUVBQXFFLDZDQUE2QyxrREFBa0QsbUVBQW1FLCtDQUErQyxrREFBa0QsbUZBQW1GLDZGQUE2Riw2SEFBNkgsdUVBQXVFLG1GQUFtRixjQUFjLDhCQUE4Qiw2RkFBNkYsWUFBWSwwQkFBMEIsK0NBQStDLGdDQUFnQyxzUUFBc1EsNkZBQTZGLDZEQUE2RCw2SEFBNkgsbUhBQW1ILHdCQUF3QixZQUFZLDhCQUE4QixLQUFLLHdIQUF3SCxtRkFBbUYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLG8xQkFBbzFCLHdCQUF3QixZQUFZLDhCQUE4QixzRkFBc0YsaUdBQWlHLCtCQUErQiw0REFBNEQsc0ZBQXNGLGdCQUFnQix3QkFBd0IseUxBQXlMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHlCQUF5QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLGtPQUFrTywwQkFBMEIsTUFBTSwwS0FBMEssMEJBQTBCLFNBQVMsY0FBYyxvSkFBb0osK0JBQStCLDREQUE0RCx5QkFBeUIsMFdBQTBXLGdCQUFnQix3QkFBd0IsaUpBQWlKLG1CQUFtQixzQ0FBc0Msa1hBQWtYLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx5RUFBeUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDhFQUE4RSxNQUFNLDhCQUE4QixNQUFNLDJCQUEyQixNQUFNLDJCQUEyQixNQUFNLDZCQUE2QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsaURBQWlELDZEQUE2RCxZQUFZLG1CQUFtQixvRUFBb0UsaUhBQWlILGtFQUFrRSw2Q0FBNkMsc0JBQXNCLDRNQUE0TSwwQkFBMEIseURBQXlELDBDQUEwQyxvREFBb0QsdUdBQXVHLGFBQWEsWUFBWSxtQkFBbUIsc0NBQXNDLHVFQUF1RSw2Q0FBNkMsTUFBTSxtREFBbUQsTUFBTSw4Q0FBOEMsdUdBQXVHLDBCQUEwQixTQUFTLFlBQVksK09BQStPLGFBQWEsWUFBWSxtQkFBbUIsOEJBQThCLHFXQUFxVywrQkFBK0IsNERBQTRELGdCQUFnQix3TkFBd04sZ0JBQWdCLHdCQUF3Qix3TUFBd00saUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sOEJBQThCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isc1BBQXNQLDBCQUEwQixNQUFNLHlMQUF5TCwwQkFBMEIsU0FBUyxjQUFjLDZLQUE2SywrQkFBK0IsNERBQTRELHdCQUF3Qix3RUFBd0UsZ0JBQWdCLHdCQUF3QiwyREFBMkQsZ0JBQWdCLHlGQUF5RixTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw2RUFBNkUsUUFBUSxFQUFFLGlCQUFpQixzSUFBc0ksU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixLQUFLLDhEQUE4RCxzQkFBc0IsWUFBWSwwQkFBMEIsNkRBQTZELDhDQUE4QyxXQUFXLHFHQUFxRyxVQUFVLFlBQVksZ0JBQWdCLEtBQUssMEdBQTBHLHVFQUF1RSxTQUFTLDBCQUEwQixTQUFTLFlBQVksMERBQTBELFVBQVUsWUFBWSxnQkFBZ0IsMEVBQTBFLFNBQVMsK0JBQStCLDREQUE0RCwyYUFBMmEsZ0JBQWdCLHdCQUF3QixnUEFBZ1Asc0JBQXNCLHlDQUF5QyxxREFBcUQsdUJBQXVCLDRGQUE0RiwrQ0FBK0Msb0JBQW9CLDZGQUE2Riw2Q0FBNkMsbUJBQW1CLCtGQUErRixpREFBaUQscUJBQXFCLCtGQUErRixxV0FBcVcsNEJBQTRCLDhDQUE4QywyREFBMkQsMEJBQTBCLDRDQUE0QywrRkFBK0YsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtFQUErRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sNEJBQTRCLE1BQU0sMEZBQTBGLE1BQU0sc0hBQXNILFFBQVEsb0NBQW9DLHdDQUF3QyxNQUFNLDRHQUE0RyxRQUFRLGtDQUFrQyxzQ0FBc0MsTUFBTSwwSUFBMEksTUFBTSxrSUFBa0ksTUFBTSxpSUFBaUksTUFBTSx1SUFBdUksTUFBTSxvRUFBb0UsTUFBTSw4RUFBOEUsTUFBTSw0QkFBNEIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLHlHQUF5Ryx1REFBdUQsbUVBQW1FLFlBQVksc0JBQXNCLDBFQUEwRSxtRUFBbUUsK0VBQStFLFFBQVEsNEJBQTRCLHdGQUF3RiwrREFBK0QsMkVBQTJFLFFBQVEsMEJBQTBCLG9GQUFvRix5REFBeUQscUVBQXFFLFFBQVEsdUJBQXVCLDJGQUEyRixtREFBbUQsK0RBQStELFFBQVEsb0JBQW9CLHlGQUF5RixpREFBaUQsNkRBQTZELFFBQVEsbUJBQW1CLDBGQUEwRixxREFBcUQsaUVBQWlFLFFBQVEscUJBQXFCLDRGQUE0RixNQUFNLHdIQUF3SCx1SkFBdUosd0dBQXdHLDBCQUEwQiwrREFBK0QsZ0RBQWdELHNHQUFzRyxtSEFBbUgsZ0JBQWdCLFlBQVksc0JBQXNCLDRDQUE0Qyx1QkFBdUIsK0hBQStILHNCQUFzQixRQUFRLDRCQUE0QixrREFBa0QscUJBQXFCLDJIQUEySCxvQkFBb0IsUUFBUSwwQkFBMEIsOENBQThDLGtCQUFrQixxSEFBcUgsaUJBQWlCLFFBQVEsdUJBQXVCLEtBQUssMEhBQTBILGlGQUFpRixlQUFlLCtHQUErRyxjQUFjLFFBQVEsb0JBQW9CLEtBQUssb0hBQW9ILCtFQUErRSxjQUFjLDZHQUE2RyxhQUFhLFFBQVEsbUJBQW1CLEtBQUssa0hBQWtILGdGQUFnRixnQkFBZ0IsaUhBQWlILGVBQWUsUUFBUSxxQkFBcUIsS0FBSyxzSEFBc0gsa0ZBQWtGLG9CQUFvQiwrR0FBK0csOERBQThELDJCQUEyQiw2SEFBNkgsK0VBQStFLHFEQUFxRCwwQkFBMEIsU0FBUyxZQUFZLG1ZQUFtWSxnQkFBZ0IsWUFBWSxzQkFBc0Isb0NBQW9DLHdDQUF3QyxpQkFBaUIsUUFBUSx1QkFBdUIsb0ZBQW9GLGtDQUFrQyxjQUFjLFFBQVEsb0JBQW9CLGtGQUFrRixnQ0FBZ0MsYUFBYSxRQUFRLG1CQUFtQixtRkFBbUYsb0NBQW9DLGVBQWUsUUFBUSxxQkFBcUIscUZBQXFGLDZTQUE2UyxzQkFBc0IsUUFBUSw0QkFBNEIsZ0RBQWdELDhDQUE4QyxvQkFBb0IsUUFBUSwwQkFBMEIsNENBQTRDLHlFQUF5RSwrQkFBK0IsNERBQTRELHlYQUF5WCxnQkFBZ0Isd0JBQXdCLDZJQUE2SSxpQkFBaUIsMkZBQTJGLG1EQUFtRCxzQkFBc0IsMkZBQTJGLCtDQUErQyxvQkFBb0IsNkZBQTZGLDJEQUEyRCwwQkFBMEIsOEdBQThHLGlEQUFpRCxxQkFBcUIsK0ZBQStGLDJMQUEyTCxxQkFBcUIsK0ZBQStGLHlEQUF5RCx5QkFBeUIsNEdBQTRHLHVEQUF1RCx3QkFBd0IsMkNBQTJDLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDJFQUEyRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUhBQXVILE1BQU0sdUlBQXVJLE1BQU0sc0lBQXNJLE1BQU0sa0lBQWtJLE1BQU0scUtBQXFLLE1BQU0sdUlBQXVJLE1BQU0sdUVBQXVFLE1BQU0sZ0tBQWdLLE1BQU0sbUdBQW1HLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Riw2Q0FBNkMseURBQXlELFlBQVksaUJBQWlCLG9GQUFvRixxREFBcUQsaUVBQWlFLFFBQVEscUJBQXFCLDRGQUE0Rix1REFBdUQsbUVBQW1FLFFBQVEsc0JBQXNCLHlGQUF5RixtREFBbUQsK0RBQStELFFBQVEsb0JBQW9CLHlGQUF5RiwrREFBK0QsMkVBQTJFLFFBQVEsMEJBQTBCLGdIQUFnSCxxREFBcUQsaUVBQWlFLFFBQVEscUJBQXFCLDRGQUE0RiwySEFBMkgsNkRBQTZELHlFQUF5RSxjQUFjLHlCQUF5Qiw2R0FBNkcsMkRBQTJELHVFQUF1RSxRQUFRLHdCQUF3Qiw4RUFBOEUsWUFBWSwwQkFBMEIsMkRBQTJELDRDQUE0QyxrREFBa0QscUdBQXFHLFdBQVcsWUFBWSxpQkFBaUIsS0FBSywwR0FBMEcsMEVBQTBFLGdCQUFnQiw2R0FBNkcsZUFBZSxRQUFRLHFCQUFxQixLQUFLLGtIQUFrSCxrRkFBa0YsaUJBQWlCLCtHQUErRyxnQkFBZ0IsUUFBUSxzQkFBc0IsS0FBSyxvSEFBb0gsK0VBQStFLGVBQWUsMkdBQTJHLGNBQWMsUUFBUSxvQkFBb0IsS0FBSyxnSEFBZ0gsK0VBQStFLHFCQUFxQix1SEFBdUgsb0JBQW9CLFFBQVEsMEJBQTBCLEtBQUssNEhBQTRILHNHQUFzRyxnQkFBZ0IsNkdBQTZHLGVBQWUsUUFBUSxxQkFBcUIsS0FBSyxrSEFBa0gsa0ZBQWtGLG9CQUFvQiwyR0FBMkcsaUVBQWlFLG9CQUFvQixxSEFBcUgsbUJBQW1CLFFBQVEseUJBQXlCLEtBQUssMEhBQTBILG1HQUFtRyxtQkFBbUIsbUhBQW1ILGtCQUFrQixRQUFRLHdCQUF3QixnREFBZ0QsU0FBUywwQkFBMEIsU0FBUyxZQUFZLGlSQUFpUixXQUFXLFlBQVksaUJBQWlCLDZFQUE2RSxzQ0FBc0MsZ0JBQWdCLFFBQVEsc0JBQXNCLGtGQUFrRixrQ0FBa0MsY0FBYyxRQUFRLG9CQUFvQixrRkFBa0YsOENBQThDLG9CQUFvQixRQUFRLDBCQUEwQix5R0FBeUcsb0NBQW9DLGVBQWUsUUFBUSxxQkFBcUIscUZBQXFGLHFKQUFxSixlQUFlLFFBQVEscUJBQXFCLHFGQUFxRiw0Q0FBNEMsbUJBQW1CLFFBQVEseUJBQXlCLHNHQUFzRywwQ0FBMEMsa0JBQWtCLFFBQVEsd0JBQXdCLHdDQUF3QyxTQUFTLCtCQUErQiw0REFBNEQsdUdBQXVHLGdCQUFnQix3QkFBd0IsdVVBQXVVLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRkFBMEYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLDhFQUE4RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxtR0FBbUcsMkZBQTJGLGlEQUFpRCw0REFBNEQsd0JBQXdCLFlBQVksMEJBQTBCLDBFQUEwRSwyREFBMkQsb0ZBQW9GLDBIQUEwSCx3RUFBd0UsU0FBUywwQkFBMEIsU0FBUyxjQUFjLHlSQUF5UiwrQkFBK0IsNERBQTRELGdGQUFnRixnQkFBZ0Isd0JBQXdCLHNMQUFzTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MseUZBQXlGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixzT0FBc08sMEJBQTBCLE1BQU0sZ01BQWdNLDBCQUEwQixTQUFTLGNBQWMsa0pBQWtKLCtCQUErQiw0REFBNEQsa0dBQWtHLGdCQUFnQix3QkFBd0IseUZBQXlGLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsaUZBQWlGLFFBQVEsRUFBRSxpQkFBaUIsb01BQW9NLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLGlFQUFpRSxrREFBa0QsMEJBQTBCLHVJQUF1SSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyw0SUFBNEkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1R0FBdUcseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQscVRBQXFULGdCQUFnQix3QkFBd0IsaWpDQUFpakMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGdGQUFnRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0seUJBQXlCLE1BQU0sd0JBQXdCLE1BQU0sNkJBQTZCLE1BQU0sNkJBQTZCLE1BQU0saUNBQWlDLE1BQU0sOEJBQThCLE1BQU0sOEJBQThCLE1BQU0scUVBQXFFLE1BQU0sa0NBQWtDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Rix1R0FBdUcsNERBQTRELDJDQUEyQyxzQkFBc0IseURBQXlELDBDQUEwQyx3SUFBd0ksNkdBQTZHLDZHQUE2Ryw2SEFBNkgsdUhBQXVILDZHQUE2RyxpREFBaUQsdURBQXVELHdCQUF3Qiw4SUFBOEksMEJBQTBCLGdFQUFnRSxpREFBaUQsNEZBQTRGLHNDQUFzQyxNQUFNLHNDQUFzQyxNQUFNLHNDQUFzQyxlQUFlLGtDQUFrQyxNQUFNLGlDQUFpQyxNQUFNLGlDQUFpQyxNQUFNLGtDQUFrQyxNQUFNLGlDQUFpQyxNQUFNLG1DQUFtQyxNQUFNLG1DQUFtQyxNQUFNLGdDQUFnQyxNQUFNLGtDQUFrQyxNQUFNLG1DQUFtQyxNQUFNLHFDQUFxQyxNQUFNLG1DQUFtQyxNQUFNLG9DQUFvQyxNQUFNLGtDQUFrQyxNQUFNLHNDQUFzQyxNQUFNLHNDQUFzQyxNQUFNLG9DQUFvQyxNQUFNLG9DQUFvQywwUkFBMFIsZ0hBQWdILCtEQUErRCw4RUFBOEUsMEJBQTBCLFNBQVMsY0FBYyw4cUNBQThxQywrQkFBK0IsNERBQTRELGFBQWEsb2VBQW9lLHFNQUFxTSxnQkFBZ0Isd0JBQXdCLGlQQUFpUCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsZ0ZBQWdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSxxRUFBcUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLGlEQUFpRCxtREFBbUQsd0JBQXdCLFlBQVksMEJBQTBCLGdFQUFnRSxpREFBaUQsMERBQTBELGdIQUFnSCwrREFBK0QsU0FBUywwQkFBMEIsU0FBUyxjQUFjLGdOQUFnTiwrQkFBK0IsNERBQTRELHlNQUF5TSxnQkFBZ0Isd0JBQXdCLDZJQUE2SSxpQkFBaUIsK0ZBQStGLGdNQUFnTSx5QkFBeUIsb0hBQW9ILHVEQUF1RCx3QkFBd0IsMkNBQTJDLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtFQUErRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMkhBQTJILE1BQU0sb0VBQW9FLE1BQU0sd0tBQXdLLE1BQU0sa0dBQWtHLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Riw2Q0FBNkMseURBQXlELFlBQVksaUJBQWlCLHdGQUF3Rix3SEFBd0gsNkRBQTZELHlFQUF5RSxjQUFjLHlCQUF5QixxSEFBcUgsMkRBQTJELHVFQUF1RSxRQUFRLHdCQUF3Qiw4RUFBOEUsWUFBWSwwQkFBMEIsK0RBQStELGdEQUFnRCxrREFBa0QseUdBQXlHLFdBQVcsWUFBWSxpQkFBaUIsS0FBSyw4R0FBOEcsOEVBQThFLG9CQUFvQiwrR0FBK0csOERBQThELG9CQUFvQix5SEFBeUgsbUJBQW1CLFFBQVEseUJBQXlCLEtBQUssOEhBQThILDJHQUEyRyxtQkFBbUIsdUhBQXVILGtCQUFrQixRQUFRLHdCQUF3QixnREFBZ0QsU0FBUywwQkFBMEIsU0FBUyxZQUFZLGlNQUFpTSxXQUFXLFlBQVksaUJBQWlCLGlGQUFpRiwwSkFBMEosbUJBQW1CLFFBQVEseUJBQXlCLDhHQUE4RywwQ0FBMEMsa0JBQWtCLFFBQVEsd0JBQXdCLHdDQUF3QyxTQUFTLCtCQUErQiw0REFBNEQsaUZBQWlGLGdCQUFnQix3QkFBd0Isc0xBQXNMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpR0FBaUcsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHNPQUFzTywwQkFBMEIsTUFBTSxnTkFBZ04sMEJBQTBCLFNBQVMsY0FBYyxrSkFBa0osK0JBQStCLDREQUE0RCwwSEFBMEgsZ0JBQWdCLHdCQUF3QiwwVUFBMFUsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG9GQUFvRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0seUVBQXlFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Rix1R0FBdUcsaURBQWlELHVEQUF1RCx3QkFBd0IsWUFBWSwwQkFBMEIsb0VBQW9FLHFEQUFxRCxnR0FBZ0csb0hBQW9ILG1FQUFtRSxTQUFTLDBCQUEwQixTQUFTLGNBQWMsK1JBQStSLCtCQUErQiw0REFBNEQsZ0lBQWdJLGdCQUFnQix3QkFBd0IsK0lBQStJLGtCQUFrQiw2RkFBNkYsbUpBQW1KLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxrRkFBa0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDRIQUE0SCxNQUFNLHVFQUF1RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsK0NBQStDLDJEQUEyRCxZQUFZLGtCQUFrQix1RkFBdUYsTUFBTSwySEFBMkgsWUFBWSwwQkFBMEIsa0VBQWtFLG1EQUFtRCxtREFBbUQsOEdBQThHLFlBQVksWUFBWSxrQkFBa0IsS0FBSyxtSEFBbUgsNkVBQTZFLG9CQUFvQixrSEFBa0gsaUVBQWlFLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwrSkFBK0osWUFBWSxZQUFZLGtCQUFrQixnRkFBZ0YsMEhBQTBILCtCQUErQiw0REFBNEQsZ05BQWdOLGdCQUFnQix3QkFBd0IsaXBCQUFpcEIsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlGQUFpRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sOEJBQThCLE1BQU0sK0JBQStCLE1BQU0sc0VBQXNFLE1BQU0sa0NBQWtDLE1BQU0sa0NBQWtDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpSEFBaUgscUhBQXFILGlEQUFpRCx3REFBd0Qsd0JBQXdCLHdSQUF3UiwwQkFBMEIsaUVBQWlFLGtEQUFrRCx1S0FBdUssaUhBQWlILGdFQUFnRSx5SkFBeUosMEJBQTBCLFNBQVMsY0FBYyw4bkJBQThuQiwrQkFBK0IsNERBQTRELDh2QkFBOHZCLGdCQUFnQix3QkFBd0Isa3pFQUFrekUsK0JBQStCLDBHQUEwRyxpR0FBaUcsNkNBQTZDLGtIQUFrSCxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx1RUFBdUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGdDQUFnQyxNQUFNLHVDQUF1QyxNQUFNLHFDQUFxQyxNQUFNLDZDQUE2QyxNQUFNLHVDQUF1QyxNQUFNLCtCQUErQixNQUFNLCtCQUErQixNQUFNLHFDQUFxQyxNQUFNLHVDQUF1QyxNQUFNLHFDQUFxQyxNQUFNLHNDQUFzQyxNQUFNLDhCQUE4QixNQUFNLGtDQUFrQyxNQUFNLHFDQUFxQyxNQUFNLHFDQUFxQyxNQUFNLGlDQUFpQyxNQUFNLG9DQUFvQyxNQUFNLGtDQUFrQyxNQUFNLDBDQUEwQyxNQUFNLGlDQUFpQyxNQUFNLGdMQUFnTCxNQUFNLG1PQUFtTyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5SEFBeUgscUpBQXFKLHVKQUF1Six1TEFBdUwsK0pBQStKLDhFQUE4RSxpREFBaUQsc0JBQXNCLGlIQUFpSCx1SkFBdUosK0pBQStKLHVKQUF1SiwySkFBMkosMkhBQTJILDJJQUEySSx5SUFBeUkseUlBQXlJLHlIQUF5SCxxSUFBcUksNkhBQTZILDZKQUE2Six5SEFBeUgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQiwrR0FBK0csa0dBQWtHLDhHQUE4RyxjQUFjLDZDQUE2QyxrSUFBa0ksWUFBWSwwQkFBMEIsdURBQXVELHdDQUF3Qyx5YUFBeWEsbUNBQW1DLE1BQU0sdUNBQXVDLE1BQU0sMENBQTBDLDArQkFBMCtCLDZIQUE2SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxrSUFBa0kscUdBQXFHLHdDQUF3QyxzSkFBc0osdUNBQXVDLFFBQVEsNkNBQTZDLEtBQUssMkpBQTJKLDJIQUEySCxTQUFTLDBCQUEwQixTQUFTLFlBQVksa29GQUFrb0YseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxvRkFBb0YsdUNBQXVDLFFBQVEsNkNBQTZDLDhIQUE4SCxTQUFTLCtCQUErQiw0REFBNEQscUJBQXFCLDBWQUEwVixnQkFBZ0Isd0JBQXdCLHNpQkFBc2lCLCtCQUErQiwwR0FBMEcsaU1BQWlNLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRUFBMEUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHVDQUF1QyxNQUFNLCtDQUErQyxNQUFNLDZCQUE2QixNQUFNLDJCQUEyQixNQUFNLGdMQUFnTCxNQUFNLHlGQUF5RixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxtS0FBbUssbU1BQW1NLDJIQUEySCxtSEFBbUgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQiwrR0FBK0csTUFBTSxvTEFBb0wsWUFBWSwwQkFBMEIsMERBQTBELDJDQUEyQyw0VUFBNFUsZ0lBQWdJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHFJQUFxSSxxR0FBcUcsb0NBQW9DLHVJQUF1SSxnR0FBZ0csU0FBUywwQkFBMEIsU0FBUyxZQUFZLHNwQkFBc3BCLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csc0xBQXNMLCtCQUErQiw0REFBNEQsK1RBQStULGdCQUFnQix3QkFBd0IsK2tCQUEra0IsK0JBQStCLDBHQUEwRyxnRkFBZ0Ysc0JBQXNCLFFBQVEsd0NBQXdDLCtDQUErQyxXQUFXLDJOQUEyTixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx5QkFBeUIsTUFBTSwwQkFBMEIsTUFBTSx1QkFBdUIsTUFBTSw2QkFBNkIsTUFBTSx3QkFBd0IsTUFBTSxnTEFBZ0wsTUFBTSw0SkFBNEosUUFBUSxnREFBZ0Qsb0RBQW9ELE1BQU0saUdBQWlHLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDREQUE0RCwyQ0FBMkMsc0JBQXNCLDJHQUEyRywrREFBK0QsNENBQTRDLHNCQUFzQixtR0FBbUcsMkhBQTJILG1HQUFtRyx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLCtHQUErRyx3RkFBd0Ysb0dBQW9HLFFBQVEsd0NBQXdDLDhDQUE4QyxpRUFBaUUsNENBQTRDLE1BQU0sdU5BQXVOLFlBQVksMEJBQTBCLHdEQUF3RCx5Q0FBeUMsZ0JBQWdCLDhCQUE4QixNQUFNLDRCQUE0QixNQUFNLG9DQUFvQyw4REFBOEQsa0NBQWtDLE1BQU0sa0NBQWtDLE1BQU0sa0NBQWtDLGlLQUFpSyw4SEFBOEgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssbUlBQW1JLHFHQUFxRyxtQ0FBbUMsNklBQTZJLGtDQUFrQyxRQUFRLHdDQUF3Qyw4Q0FBOEMsb0ZBQW9GLE1BQU0sMERBQTBELE1BQU0sMERBQTBELE1BQU0sNkRBQTZELE1BQU0sNERBQTRELE1BQU0sNERBQTRELDZDQUE2Qyx1SkFBdUosaUhBQWlILFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1ekJBQXV6Qix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLDBFQUEwRSxrQ0FBa0MsUUFBUSx3Q0FBd0MsdUpBQXVKLHlOQUF5TiwrQkFBK0IsNERBQTRELGNBQWMsa0dBQWtHLDhLQUE4SyxnQkFBZ0Isd0JBQXdCLHlGQUF5RiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLG9NQUFvTSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix3REFBd0QseUNBQXlDLDBCQUEwQiw4SEFBOEgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssbUlBQW1JLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksdUdBQXVHLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHlJQUF5SSxnQkFBZ0Isd0JBQXdCLHlSQUF5UiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHVFQUF1RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sNkJBQTZCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsdURBQXVELHdDQUF3Qyw0SUFBNEksNkhBQTZILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLGtJQUFrSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHFUQUFxVCx5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxvSEFBb0gsZ0JBQWdCLHdCQUF3Qix3TEFBd0wsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw0RUFBNEUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsNERBQTRELDZDQUE2QyxtRkFBbUYsa0lBQWtJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHVJQUF1SSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHFOQUFxTix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxzTUFBc00sZ0JBQWdCLHdCQUF3QiwwTEFBMEwsK0JBQStCLDBHQUEwRywyU0FBMlMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsOEJBQThCLE1BQU0sZ0xBQWdMLE1BQU0sa0RBQWtELE1BQU0sa0RBQWtELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyx3VkFBd1YsMEJBQTBCLDBEQUEwRCwyQ0FBMkMsbUZBQW1GLGdJQUFnSSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxxSUFBcUkscUdBQXFHLHlOQUF5TiwwQkFBMEIsU0FBUyxZQUFZLHFSQUFxUix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLG1TQUFtUywrQkFBK0IsNERBQTRELDZPQUE2TyxnQkFBZ0Isd0JBQXdCLDhTQUE4UywrQkFBK0IsMEdBQTBHLDJGQUEyRiwwQ0FBMEMsK0RBQStELGdMQUFnTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MseUVBQXlFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw4QkFBOEIsTUFBTSxxQ0FBcUMsTUFBTSxnTEFBZ0wsTUFBTSwrRUFBK0UsTUFBTSw2S0FBNkssTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILDZGQUE2RixzREFBc0Qsc0JBQXNCLHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsK0dBQStHLE1BQU0sMEpBQTBKLDRGQUE0Rix3R0FBd0csUUFBUSwwQ0FBMEMsK0dBQStHLFlBQVksMEJBQTBCLHlEQUF5RCwwQ0FBMEMsb0ZBQW9GLHNEQUFzRCxNQUFNLGtEQUFrRCxNQUFNLDZDQUE2QywwQkFBMEIsK0hBQStILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLG9JQUFvSSxxR0FBcUcsZ0NBQWdDLDhIQUE4SCw4RUFBOEUscUNBQXFDLGtKQUFrSixvQ0FBb0MsUUFBUSwwQ0FBMEMsb0ZBQW9GLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSw4Z0JBQThnQix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLDhFQUE4RSxvQ0FBb0MsUUFBUSwwQ0FBMEMsNEVBQTRFLDRKQUE0SiwrQkFBK0IsNERBQTRELHlCQUF5QixrYkFBa2IsZ0JBQWdCLHdCQUF3QiwyREFBMkQsZ0JBQWdCLGtHQUFrRyx3cEJBQXdwQixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYywySEFBMkgsTUFBTSxvQ0FBb0MsTUFBTSxxQ0FBcUMsTUFBTSxvQ0FBb0MsTUFBTSxnQ0FBZ0MsTUFBTSwrQkFBK0IsTUFBTSxtQ0FBbUMsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixLQUFLLHVFQUF1RSxzQkFBc0IsNC9CQUE0L0IsMEJBQTBCLCtEQUErRCxnREFBZ0QsV0FBVyx1R0FBdUcsVUFBVSxZQUFZLGdCQUFnQixLQUFLLDRHQUE0RyxnRkFBZ0Ysa3NDQUFrc0MsMEJBQTBCLFdBQVcsWUFBWSxvaUJBQW9pQixVQUFVLFlBQVksZ0JBQWdCLG1GQUFtRix5ekNBQXl6QywrQkFBK0IsNERBQTRELHFGQUFxRixnQkFBZ0Isd0JBQXdCLHlGQUF5RixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0ZBQXdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSw4QkFBOEIsTUFBTSx5QkFBeUIsc0ZBQXNGLFdBQVcsRUFBRSw0Q0FBNEMsd0RBQXdELFdBQVcsRUFBRSwrQkFBK0IsOERBQThELHNCQUFzQiw2S0FBNkssMEJBQTBCLE1BQU0sNE9BQTRPLDBCQUEwQixTQUFTLGNBQWMsMk1BQTJNLCtCQUErQiw0REFBNEQsZ0ZBQWdGLGdCQUFnQix3QkFBd0IsbUVBQW1FLG9CQUFvQixpR0FBaUcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsMEpBQTBKLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1EQUFtRCwrREFBK0QsWUFBWSxvQkFBb0IsS0FBSyxzRUFBc0UsMEJBQTBCLFlBQVksMEJBQTBCLDBEQUEwRCwyQ0FBMkMsZUFBZSwwR0FBMEcsY0FBYyxZQUFZLG9CQUFvQixLQUFLLCtHQUErRyxtRkFBbUYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHNFQUFzRSxjQUFjLFlBQVksb0JBQW9CLHNGQUFzRixTQUFTLCtCQUErQiw0REFBNEQsOE1BQThNLGdCQUFnQix3QkFBd0IsZ0RBQWdELG9CQUFvQixZQUFZLGdCQUFnQix1QkFBdUIsV0FBVyxnQ0FBZ0Msb0JBQW9CLFFBQVEsZ0JBQWdCLHVCQUF1QixXQUFXLGtUQUFrVCxtQ0FBbUMsc0RBQXNELFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG1GQUFtRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUZBQWlGLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLDZFQUE2RSxRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSxvQ0FBb0MsTUFBTSxxQ0FBcUMsTUFBTSw4SUFBOEksTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixnRUFBZ0UsMkNBQTJDLHVEQUF1RCxRQUFRLGdCQUFnQixnRUFBZ0UseUlBQXlJLDZJQUE2SSxpRkFBaUYsNkZBQTZGLFFBQVEsbUNBQW1DLG9HQUFvRyxZQUFZLDBCQUEwQixtRUFBbUUsb0RBQW9ELFdBQVcsMkdBQTJHLFVBQVUsWUFBWSxnQkFBZ0IsMEJBQTBCLFdBQVcsMkdBQTJHLFVBQVUsUUFBUSxnQkFBZ0IsMEJBQTBCLCtLQUErSyxpSkFBaUosNkJBQTZCLFFBQVEsbUNBQW1DLHNFQUFzRSxTQUFTLDBCQUEwQixTQUFTLFlBQVksMEpBQTBKLFVBQVUsWUFBWSxnQkFBZ0Isd0JBQXdCLDBCQUEwQixVQUFVLFFBQVEsZ0JBQWdCLHdCQUF3Qiw0UUFBNFEsNkJBQTZCLFFBQVEsbUNBQW1DLDhEQUE4RCxTQUFTLCtCQUErQiw0REFBNEQsdUZBQXVGLGlCQUFpQix5QkFBeUIsdUVBQXVFLHNCQUFzQix3R0FBd0csU0FBUyxrQ0FBa0MsaUNBQWlDLHlCQUF5QixnQ0FBZ0MsNkVBQTZFLFFBQVEsRUFBRSxpQkFBaUIsdUtBQXVLLFNBQVMsZ0NBQWdDLDhEQUE4RCx1QkFBdUIsd0RBQXdELHVEQUF1RCxtRUFBbUUsWUFBWSxzQkFBc0IsS0FBSyw2RUFBNkUsNEJBQTRCLFlBQVksMkJBQTJCLDZEQUE2RCw4Q0FBOEMsaUJBQWlCLGlIQUFpSCxnQkFBZ0IsWUFBWSxzQkFBc0IsS0FBSyxzSEFBc0gsNEZBQTRGLFNBQVMsMkJBQTJCLFNBQVMsWUFBWSw0RUFBNEUsZ0JBQWdCLFlBQVksc0JBQXNCLCtGQUErRixTQUFTLGdDQUFnQyw0REFBNEQsbUlBQW1JLGdCQUFnQix3QkFBd0IsZ0RBQWdELG9CQUFvQixZQUFZLGdCQUFnQix1QkFBdUIsV0FBVyx5UUFBeVEsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdGQUF3RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUZBQWlGLFFBQVEsd0JBQXdCLDRCQUE0QixNQUFNLCtCQUErQixNQUFNLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLGdFQUFnRSxvU0FBb1MsMEJBQTBCLHdFQUF3RSx5REFBeUQsV0FBVyxnSEFBZ0gsVUFBVSxZQUFZLGdCQUFnQiwwQkFBMEIsaUlBQWlJLDBCQUEwQixTQUFTLFlBQVksMEdBQTBHLFVBQVUsWUFBWSxnQkFBZ0Isd0JBQXdCLHlNQUF5TSwrQkFBK0IsNERBQTRELHdCQUF3QiwrSEFBK0gsZ0JBQWdCLHdCQUF3QiwrWUFBK1ksaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDREQUE0RCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsK0JBQStCLE1BQU0sMEJBQTBCLE1BQU0sZ0NBQWdDLE1BQU0sNkJBQTZCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isa2RBQWtkLDBCQUEwQixNQUFNLG9SQUFvUiwwQkFBMEIsU0FBUyxjQUFjLGtYQUFrWCwrQkFBK0IsNERBQTRELFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9wcm90b3MvaWFtX3NlcnZpY2UuanM/YzY5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIoZT0+e1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicHJvdG9idWZqcy9taW5pbWFsXCJdLGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJwcm90b2J1ZmpzL21pbmltYWxcIikpKX0pKGZ1bmN0aW9uKG8pe3ZhciBlLHQsbixyLEYsYT1vLlJlYWRlcixpPW8uV3JpdGVyLHA9by51dGlsLGw9by5yb290cy5pYW1fcHJvdG9zfHwoby5yb290cy5pYW1fcHJvdG9zPXt9KTtmdW5jdGlvbiBCKGUsdCxuKXtvLnJwYy5TZXJ2aWNlLmNhbGwodGhpcyxlLHQsbil9ZnVuY3Rpb24gcyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gdShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gYyhlKXtpZih0aGlzLnBlcm1pc3Npb25zPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBHKGUpe2lmKHRoaXMucGVybWlzc2lvbnM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGQoZSl7aWYodGhpcy5iaW5kaW5ncz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZyhlKXtpZih0aGlzLm1lbWJlcnM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE0oZSl7aWYodGhpcy5iaW5kaW5nRGVsdGFzPVtdLHRoaXMuYXVkaXRDb25maWdEZWx0YXM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGYoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHkoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEwoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEooZSl7aWYodGhpcy5ydWxlcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gaChlKXtpZih0aGlzLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gXyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gYihlKXtpZih0aGlzLnBhdHRlcm49W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHEoZSl7aWYodGhpcy5maWxlPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBtKGUpe2lmKHRoaXMuZGVwZW5kZW5jeT1bXSx0aGlzLnB1YmxpY0RlcGVuZGVuY3k9W10sdGhpcy53ZWFrRGVwZW5kZW5jeT1bXSx0aGlzLm1lc3NhZ2VUeXBlPVtdLHRoaXMuZW51bVR5cGU9W10sdGhpcy5zZXJ2aWNlPVtdLHRoaXMuZXh0ZW5zaW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBPKGUpe2lmKHRoaXMuZmllbGQ9W10sdGhpcy5leHRlbnNpb249W10sdGhpcy5uZXN0ZWRUeXBlPVtdLHRoaXMuZW51bVR5cGU9W10sdGhpcy5leHRlbnNpb25SYW5nZT1bXSx0aGlzLm9uZW9mRGVjbD1bXSx0aGlzLnJlc2VydmVkUmFuZ2U9W10sdGhpcy5yZXNlcnZlZE5hbWU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHYoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFkoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHooZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBQKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBXKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB3KGUpe2lmKHRoaXMudmFsdWU9W10sdGhpcy5yZXNlcnZlZFJhbmdlPVtdLHRoaXMucmVzZXJ2ZWROYW1lPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBYKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBqKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBEKGUpe2lmKHRoaXMubWV0aG9kPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB4KGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBTKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSx0aGlzW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBrKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVChlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sdGhpc1tcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl09W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFEoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBFKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSyhlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEEoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBOKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSx0aGlzW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBSKGUpe2lmKHRoaXMubmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gWihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gJChlKXtpZih0aGlzLmxvY2F0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBJKGUpe2lmKHRoaXMucGF0aD1bXSx0aGlzLnNwYW49W10sdGhpcy5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZWUoZSl7aWYodGhpcy5hbm5vdGF0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBDKGUpe2lmKHRoaXMucGF0aD1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIGwuZ29vZ2xlPSgoRj17fSkuaWFtPSgobj17fSkudjE9KCh0PXt9KS5JQU1Qb2xpY3k9KCgoQi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnJwYy5TZXJ2aWNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPUIpLmNyZWF0ZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyB0aGlzKGUsdCxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEIucHJvdG90eXBlLnNldElhbVBvbGljeT1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLGwuZ29vZ2xlLmlhbS52MS5TZXRJYW1Qb2xpY3lSZXF1ZXN0LGwuZ29vZ2xlLmlhbS52MS5Qb2xpY3ksdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiU2V0SWFtUG9saWN5XCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQi5wcm90b3R5cGUuZ2V0SWFtUG9saWN5PWZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gdGhpcy5ycGNDYWxsKGUsbC5nb29nbGUuaWFtLnYxLkdldElhbVBvbGljeVJlcXVlc3QsbC5nb29nbGUuaWFtLnYxLlBvbGljeSx0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJHZXRJYW1Qb2xpY3lcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCLnByb3RvdHlwZS50ZXN0SWFtUGVybWlzc2lvbnM9ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxsLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdCxsLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UsdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiVGVzdElhbVBlcm1pc3Npb25zXCJ9KSxCKSx0LlNldElhbVBvbGljeVJlcXVlc3Q9KHMucHJvdG90eXBlLnJlc291cmNlPVwiXCIscy5wcm90b3R5cGUucG9saWN5PW51bGwscy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzKGUpfSxzLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5yZXNvdXJjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc291cmNlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUucmVzb3VyY2UpLG51bGwhPWUucG9saWN5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicG9saWN5XCIpJiZsLmdvb2dsZS5pYW0udjEuUG9saWN5LmVuY29kZShlLnBvbGljeSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxzLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxzLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5pYW0udjEuU2V0SWFtUG9saWN5UmVxdWVzdDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnJlc291cmNlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ucG9saWN5PWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3kuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxzLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxzLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJlc291cmNlJiZlLmhhc093blByb3BlcnR5KFwicmVzb3VyY2VcIikmJiFwLmlzU3RyaW5nKGUucmVzb3VyY2UpKXJldHVyblwicmVzb3VyY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucG9saWN5JiZlLmhhc093blByb3BlcnR5KFwicG9saWN5XCIpKXtlPWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3kudmVyaWZ5KGUucG9saWN5KTtpZihlKXJldHVyblwicG9saWN5LlwiK2V9cmV0dXJuIG51bGx9LHMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLlNldElhbVBvbGljeVJlcXVlc3QpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5TZXRJYW1Qb2xpY3lSZXF1ZXN0O2lmKG51bGwhPWUucmVzb3VyY2UmJih0LnJlc291cmNlPVN0cmluZyhlLnJlc291cmNlKSksbnVsbCE9ZS5wb2xpY3kpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnBvbGljeSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmlhbS52MS5TZXRJYW1Qb2xpY3lSZXF1ZXN0LnBvbGljeTogb2JqZWN0IGV4cGVjdGVkXCIpO3QucG9saWN5PWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3kuZnJvbU9iamVjdChlLnBvbGljeSl9cmV0dXJuIHR9LHMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnJlc291cmNlPVwiXCIsbi5wb2xpY3k9bnVsbCksbnVsbCE9ZS5yZXNvdXJjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc291cmNlXCIpJiYobi5yZXNvdXJjZT1lLnJlc291cmNlKSxudWxsIT1lLnBvbGljeSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvbGljeVwiKSYmKG4ucG9saWN5PWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3kudG9PYmplY3QoZS5wb2xpY3ksdCkpLG59LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxzKSx0LkdldElhbVBvbGljeVJlcXVlc3Q9KHUucHJvdG90eXBlLnJlc291cmNlPVwiXCIsdS5wcm90b3R5cGUub3B0aW9ucz1udWxsLHUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdShlKX0sdS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucmVzb3VyY2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXNvdXJjZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnJlc291cmNlKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5pYW0udjEuR2V0UG9saWN5T3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LHUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5HZXRJYW1Qb2xpY3lSZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucmVzb3VyY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5vcHRpb25zPWwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5yZXNvdXJjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc291cmNlXCIpJiYhcC5pc1N0cmluZyhlLnJlc291cmNlKSlyZXR1cm5cInJlc291cmNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPWwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LHUuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLkdldElhbVBvbGljeVJlcXVlc3QpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmlhbS52MS5HZXRJYW1Qb2xpY3lSZXF1ZXN0O2lmKG51bGwhPWUucmVzb3VyY2UmJih0LnJlc291cmNlPVN0cmluZyhlLnJlc291cmNlKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLkdldElhbVBvbGljeVJlcXVlc3Qub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5pYW0udjEuR2V0UG9saWN5T3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LHUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnJlc291cmNlPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUucmVzb3VyY2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNvdXJjZVwiKSYmKG4ucmVzb3VyY2U9ZS5yZXNvdXJjZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5pYW0udjEuR2V0UG9saWN5T3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LHUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx1KSx0LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3Q9KGMucHJvdG90eXBlLnJlc291cmNlPVwiXCIsYy5wcm90b3R5cGUucGVybWlzc2lvbnM9cC5lbXB0eUFycmF5LGMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYyhlKX0sYy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5yZXNvdXJjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc291cmNlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUucmVzb3VyY2UpLG51bGwhPWUucGVybWlzc2lvbnMmJmUucGVybWlzc2lvbnMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5wZXJtaXNzaW9ucy5sZW5ndGg7KytuKXQudWludDMyKDE4KS5zdHJpbmcoZS5wZXJtaXNzaW9uc1tuXSk7cmV0dXJuIHR9LGMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucmVzb3VyY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wZXJtaXNzaW9ucyYmby5wZXJtaXNzaW9ucy5sZW5ndGh8fChvLnBlcm1pc3Npb25zPVtdKSxvLnBlcm1pc3Npb25zLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxjLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxjLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJlc291cmNlJiZlLmhhc093blByb3BlcnR5KFwicmVzb3VyY2VcIikmJiFwLmlzU3RyaW5nKGUucmVzb3VyY2UpKXJldHVyblwicmVzb3VyY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGVybWlzc2lvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJwZXJtaXNzaW9uc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wZXJtaXNzaW9ucykpcmV0dXJuXCJwZXJtaXNzaW9uczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucGVybWlzc2lvbnMubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLnBlcm1pc3Npb25zW3RdKSlyZXR1cm5cInBlcm1pc3Npb25zOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxjLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0KXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdDtpZihudWxsIT1lLnJlc291cmNlJiYodC5yZXNvdXJjZT1TdHJpbmcoZS5yZXNvdXJjZSkpLGUucGVybWlzc2lvbnMpe2lmKCFBcnJheS5pc0FycmF5KGUucGVybWlzc2lvbnMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3QucGVybWlzc2lvbnM6IGFycmF5IGV4cGVjdGVkXCIpO3QucGVybWlzc2lvbnM9W107Zm9yKHZhciBuPTA7bjxlLnBlcm1pc3Npb25zLmxlbmd0aDsrK24pdC5wZXJtaXNzaW9uc1tuXT1TdHJpbmcoZS5wZXJtaXNzaW9uc1tuXSl9cmV0dXJuIHR9LGMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBlcm1pc3Npb25zPVtdKSx0LmRlZmF1bHRzJiYobi5yZXNvdXJjZT1cIlwiKSxudWxsIT1lLnJlc291cmNlJiZlLmhhc093blByb3BlcnR5KFwicmVzb3VyY2VcIikmJihuLnJlc291cmNlPWUucmVzb3VyY2UpLGUucGVybWlzc2lvbnMmJmUucGVybWlzc2lvbnMubGVuZ3RoKXtuLnBlcm1pc3Npb25zPVtdO2Zvcih2YXIgbz0wO288ZS5wZXJtaXNzaW9ucy5sZW5ndGg7KytvKW4ucGVybWlzc2lvbnNbb109ZS5wZXJtaXNzaW9uc1tvXX1yZXR1cm4gbn0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGMpLHQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2U9KEcucHJvdG90eXBlLnBlcm1pc3Npb25zPXAuZW1wdHlBcnJheSxHLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEcoZSl9LEcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucGVybWlzc2lvbnMmJmUucGVybWlzc2lvbnMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5wZXJtaXNzaW9ucy5sZW5ndGg7KytuKXQudWludDMyKDEwKS5zdHJpbmcoZS5wZXJtaXNzaW9uc1tuXSk7cmV0dXJuIHR9LEcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5wZXJtaXNzaW9ucyYmby5wZXJtaXNzaW9ucy5sZW5ndGh8fChvLnBlcm1pc3Npb25zPVtdKSxvLnBlcm1pc3Npb25zLnB1c2goZS5zdHJpbmcoKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sRy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sRy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wZXJtaXNzaW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcInBlcm1pc3Npb25zXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnBlcm1pc3Npb25zKSlyZXR1cm5cInBlcm1pc3Npb25zOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wZXJtaXNzaW9ucy5sZW5ndGg7Kyt0KWlmKCFwLmlzU3RyaW5nKGUucGVybWlzc2lvbnNbdF0pKXJldHVyblwicGVybWlzc2lvbnM6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LEcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLlRlc3RJYW1QZXJtaXNzaW9uc1Jlc3BvbnNlKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2U7aWYoZS5wZXJtaXNzaW9ucyl7aWYoIUFycmF5LmlzQXJyYXkoZS5wZXJtaXNzaW9ucykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2UucGVybWlzc2lvbnM6IGFycmF5IGV4cGVjdGVkXCIpO3QucGVybWlzc2lvbnM9W107Zm9yKHZhciBuPTA7bjxlLnBlcm1pc3Npb25zLmxlbmd0aDsrK24pdC5wZXJtaXNzaW9uc1tuXT1TdHJpbmcoZS5wZXJtaXNzaW9uc1tuXSl9cmV0dXJuIHR9LEcudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBlcm1pc3Npb25zPVtdKSxlLnBlcm1pc3Npb25zJiZlLnBlcm1pc3Npb25zLmxlbmd0aCl7bi5wZXJtaXNzaW9ucz1bXTtmb3IodmFyIG89MDtvPGUucGVybWlzc2lvbnMubGVuZ3RoOysrbyluLnBlcm1pc3Npb25zW29dPWUucGVybWlzc2lvbnNbb119cmV0dXJuIG59LEcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxHKSx0LkdldFBvbGljeU9wdGlvbnM9KFUucHJvdG90eXBlLnJlcXVlc3RlZFBvbGljeVZlcnNpb249MCxVLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFUoZSl9LFUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnJlcXVlc3RlZFBvbGljeVZlcnNpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnJlcXVlc3RlZFBvbGljeVZlcnNpb24pLHR9LFUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5HZXRQb2xpY3lPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xP28ucmVxdWVzdGVkUG9saWN5VmVyc2lvbj1lLmludDMyKCk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxVLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxVLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnJlcXVlc3RlZFBvbGljeVZlcnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCIpJiYhcC5pc0ludGVnZXIoZS5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uKT9cInJlcXVlc3RlZFBvbGljeVZlcnNpb246IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxVLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuR2V0UG9saWN5T3B0aW9ucz9lOih0PW5ldyBsLmdvb2dsZS5pYW0udjEuR2V0UG9saWN5T3B0aW9ucyxudWxsIT1lLnJlcXVlc3RlZFBvbGljeVZlcnNpb24mJih0LnJlcXVlc3RlZFBvbGljeVZlcnNpb249MHxlLnJlcXVlc3RlZFBvbGljeVZlcnNpb24pLHQpfSxVLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uPTApLG51bGwhPWUucmVxdWVzdGVkUG9saWN5VmVyc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInJlcXVlc3RlZFBvbGljeVZlcnNpb25cIikmJihuLnJlcXVlc3RlZFBvbGljeVZlcnNpb249ZS5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uKSxufSxVLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sVSksdC5Qb2xpY3k9KGQucHJvdG90eXBlLnZlcnNpb249MCxkLnByb3RvdHlwZS5iaW5kaW5ncz1wLmVtcHR5QXJyYXksZC5wcm90b3R5cGUuZXRhZz1wLm5ld0J1ZmZlcihbXSksZC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkKGUpfSxkLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnZlcnNpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ2ZXJzaW9uXCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnZlcnNpb24pLG51bGwhPWUuZXRhZyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImV0YWdcIikmJnQudWludDMyKDI2KS5ieXRlcyhlLmV0YWcpLG51bGwhPWUuYmluZGluZ3MmJmUuYmluZGluZ3MubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5iaW5kaW5ncy5sZW5ndGg7KytuKWwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nLmVuY29kZShlLmJpbmRpbmdzW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxkLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxkLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5pYW0udjEuUG9saWN5O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8udmVyc2lvbj1lLmludDMyKCk7YnJlYWs7Y2FzZSA0Om8uYmluZGluZ3MmJm8uYmluZGluZ3MubGVuZ3RofHwoby5iaW5kaW5ncz1bXSksby5iaW5kaW5ncy5wdXNoKGwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5ldGFnPWUuYnl0ZXMoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGQudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUudmVyc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInZlcnNpb25cIikmJiFwLmlzSW50ZWdlcihlLnZlcnNpb24pKXJldHVyblwidmVyc2lvbjogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUuYmluZGluZ3MmJmUuaGFzT3duUHJvcGVydHkoXCJiaW5kaW5nc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5iaW5kaW5ncykpcmV0dXJuXCJiaW5kaW5nczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuYmluZGluZ3MubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUuaWFtLnYxLkJpbmRpbmcudmVyaWZ5KGUuYmluZGluZ3NbdF0pO2lmKG4pcmV0dXJuXCJiaW5kaW5ncy5cIitufX1yZXR1cm4gbnVsbCE9ZS5ldGFnJiZlLmhhc093blByb3BlcnR5KFwiZXRhZ1wiKSYmIShlLmV0YWcmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmV0YWcubGVuZ3RofHxwLmlzU3RyaW5nKGUuZXRhZykpP1wiZXRhZzogYnVmZmVyIGV4cGVjdGVkXCI6bnVsbH0sZC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuUG9saWN5KXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuUG9saWN5O2lmKG51bGwhPWUudmVyc2lvbiYmKHQudmVyc2lvbj0wfGUudmVyc2lvbiksZS5iaW5kaW5ncyl7aWYoIUFycmF5LmlzQXJyYXkoZS5iaW5kaW5ncykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuUG9saWN5LmJpbmRpbmdzOiBhcnJheSBleHBlY3RlZFwiKTt0LmJpbmRpbmdzPVtdO2Zvcih2YXIgbj0wO248ZS5iaW5kaW5ncy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5iaW5kaW5nc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmlhbS52MS5Qb2xpY3kuYmluZGluZ3M6IG9iamVjdCBleHBlY3RlZFwiKTt0LmJpbmRpbmdzW25dPWwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nLmZyb21PYmplY3QoZS5iaW5kaW5nc1tuXSl9fXJldHVybiBudWxsIT1lLmV0YWcmJihcInN0cmluZ1wiPT10eXBlb2YgZS5ldGFnP3AuYmFzZTY0LmRlY29kZShlLmV0YWcsdC5ldGFnPXAubmV3QnVmZmVyKHAuYmFzZTY0Lmxlbmd0aChlLmV0YWcpKSwwKTplLmV0YWcubGVuZ3RoJiYodC5ldGFnPWUuZXRhZykpLHR9LGQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmJpbmRpbmdzPVtdKSx0LmRlZmF1bHRzJiYobi52ZXJzaW9uPTAsdC5ieXRlcz09PVN0cmluZz9uLmV0YWc9XCJcIjoobi5ldGFnPVtdLHQuYnl0ZXMhPT1BcnJheSYmKG4uZXRhZz1wLm5ld0J1ZmZlcihuLmV0YWcpKSkpLG51bGwhPWUudmVyc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInZlcnNpb25cIikmJihuLnZlcnNpb249ZS52ZXJzaW9uKSxudWxsIT1lLmV0YWcmJmUuaGFzT3duUHJvcGVydHkoXCJldGFnXCIpJiYobi5ldGFnPXQuYnl0ZXM9PT1TdHJpbmc/cC5iYXNlNjQuZW5jb2RlKGUuZXRhZywwLGUuZXRhZy5sZW5ndGgpOnQuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLmV0YWcpOmUuZXRhZyksZS5iaW5kaW5ncyYmZS5iaW5kaW5ncy5sZW5ndGgpe24uYmluZGluZ3M9W107Zm9yKHZhciBvPTA7bzxlLmJpbmRpbmdzLmxlbmd0aDsrK28pbi5iaW5kaW5nc1tvXT1sLmdvb2dsZS5pYW0udjEuQmluZGluZy50b09iamVjdChlLmJpbmRpbmdzW29dLHQpfXJldHVybiBufSxkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZCksdC5CaW5kaW5nPShnLnByb3RvdHlwZS5yb2xlPVwiXCIsZy5wcm90b3R5cGUubWVtYmVycz1wLmVtcHR5QXJyYXksZy5wcm90b3R5cGUuY29uZGl0aW9uPW51bGwsZy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBnKGUpfSxnLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnJvbGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyb2xlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUucm9sZSksbnVsbCE9ZS5tZW1iZXJzJiZlLm1lbWJlcnMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5tZW1iZXJzLmxlbmd0aDsrK24pdC51aW50MzIoMTgpLnN0cmluZyhlLm1lbWJlcnNbbl0pO3JldHVybiBudWxsIT1lLmNvbmRpdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNvbmRpdGlvblwiKSYmbC5nb29nbGUudHlwZS5FeHByLmVuY29kZShlLmNvbmRpdGlvbix0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxnLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxnLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5pYW0udjEuQmluZGluZztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnJvbGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5tZW1iZXJzJiZvLm1lbWJlcnMubGVuZ3RofHwoby5tZW1iZXJzPVtdKSxvLm1lbWJlcnMucHVzaChlLnN0cmluZygpKTticmVhaztjYXNlIDM6by5jb25kaXRpb249bC5nb29nbGUudHlwZS5FeHByLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sZy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sZy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5yb2xlJiZlLmhhc093blByb3BlcnR5KFwicm9sZVwiKSYmIXAuaXNTdHJpbmcoZS5yb2xlKSlyZXR1cm5cInJvbGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubWVtYmVycyYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lbWJlcnNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubWVtYmVycykpcmV0dXJuXCJtZW1iZXJzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5tZW1iZXJzLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZS5tZW1iZXJzW3RdKSlyZXR1cm5cIm1lbWJlcnM6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5jb25kaXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJjb25kaXRpb25cIikpe3ZhciBuPWwuZ29vZ2xlLnR5cGUuRXhwci52ZXJpZnkoZS5jb25kaXRpb24pO2lmKG4pcmV0dXJuXCJjb25kaXRpb24uXCIrbn1yZXR1cm4gbnVsbH0sZy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5pYW0udjEuQmluZGluZylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuaWFtLnYxLkJpbmRpbmc7aWYobnVsbCE9ZS5yb2xlJiYodC5yb2xlPVN0cmluZyhlLnJvbGUpKSxlLm1lbWJlcnMpe2lmKCFBcnJheS5pc0FycmF5KGUubWVtYmVycykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5pYW0udjEuQmluZGluZy5tZW1iZXJzOiBhcnJheSBleHBlY3RlZFwiKTt0Lm1lbWJlcnM9W107Zm9yKHZhciBuPTA7bjxlLm1lbWJlcnMubGVuZ3RoOysrbil0Lm1lbWJlcnNbbl09U3RyaW5nKGUubWVtYmVyc1tuXSl9aWYobnVsbCE9ZS5jb25kaXRpb24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmNvbmRpdGlvbil0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmlhbS52MS5CaW5kaW5nLmNvbmRpdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuY29uZGl0aW9uPWwuZ29vZ2xlLnR5cGUuRXhwci5mcm9tT2JqZWN0KGUuY29uZGl0aW9uKX1yZXR1cm4gdH0sZy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ubWVtYmVycz1bXSksdC5kZWZhdWx0cyYmKG4ucm9sZT1cIlwiLG4uY29uZGl0aW9uPW51bGwpLG51bGwhPWUucm9sZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJvbGVcIikmJihuLnJvbGU9ZS5yb2xlKSxlLm1lbWJlcnMmJmUubWVtYmVycy5sZW5ndGgpe24ubWVtYmVycz1bXTtmb3IodmFyIG89MDtvPGUubWVtYmVycy5sZW5ndGg7KytvKW4ubWVtYmVyc1tvXT1lLm1lbWJlcnNbb119cmV0dXJuIG51bGwhPWUuY29uZGl0aW9uJiZlLmhhc093blByb3BlcnR5KFwiY29uZGl0aW9uXCIpJiYobi5jb25kaXRpb249bC5nb29nbGUudHlwZS5FeHByLnRvT2JqZWN0KGUuY29uZGl0aW9uLHQpKSxufSxnLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZyksdC5Qb2xpY3lEZWx0YT0oTS5wcm90b3R5cGUuYmluZGluZ0RlbHRhcz1wLmVtcHR5QXJyYXksTS5wcm90b3R5cGUuYXVkaXRDb25maWdEZWx0YXM9cC5lbXB0eUFycmF5LE0uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTShlKX0sTS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5iaW5kaW5nRGVsdGFzJiZlLmJpbmRpbmdEZWx0YXMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5iaW5kaW5nRGVsdGFzLmxlbmd0aDsrK24pbC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YS5lbmNvZGUoZS5iaW5kaW5nRGVsdGFzW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuYXVkaXRDb25maWdEZWx0YXMmJmUuYXVkaXRDb25maWdEZWx0YXMubGVuZ3RoKWZvcihuPTA7bjxlLmF1ZGl0Q29uZmlnRGVsdGFzLmxlbmd0aDsrK24pbC5nb29nbGUuaWFtLnYxLkF1ZGl0Q29uZmlnRGVsdGEuZW5jb2RlKGUuYXVkaXRDb25maWdEZWx0YXNbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LE0uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LE0uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5Qb2xpY3lEZWx0YTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmJpbmRpbmdEZWx0YXMmJm8uYmluZGluZ0RlbHRhcy5sZW5ndGh8fChvLmJpbmRpbmdEZWx0YXM9W10pLG8uYmluZGluZ0RlbHRhcy5wdXNoKGwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nRGVsdGEuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpvLmF1ZGl0Q29uZmlnRGVsdGFzJiZvLmF1ZGl0Q29uZmlnRGVsdGFzLmxlbmd0aHx8KG8uYXVkaXRDb25maWdEZWx0YXM9W10pLG8uYXVkaXRDb25maWdEZWx0YXMucHVzaChsLmdvb2dsZS5pYW0udjEuQXVkaXRDb25maWdEZWx0YS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxNLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxNLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmJpbmRpbmdEZWx0YXMmJmUuaGFzT3duUHJvcGVydHkoXCJiaW5kaW5nRGVsdGFzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmJpbmRpbmdEZWx0YXMpKXJldHVyblwiYmluZGluZ0RlbHRhczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuYmluZGluZ0RlbHRhcy5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YS52ZXJpZnkoZS5iaW5kaW5nRGVsdGFzW3RdKSlyZXR1cm5cImJpbmRpbmdEZWx0YXMuXCIrbn1pZihudWxsIT1lLmF1ZGl0Q29uZmlnRGVsdGFzJiZlLmhhc093blByb3BlcnR5KFwiYXVkaXRDb25maWdEZWx0YXNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuYXVkaXRDb25maWdEZWx0YXMpKXJldHVyblwiYXVkaXRDb25maWdEZWx0YXM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLHQ9MDt0PGUuYXVkaXRDb25maWdEZWx0YXMubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLmlhbS52MS5BdWRpdENvbmZpZ0RlbHRhLnZlcmlmeShlLmF1ZGl0Q29uZmlnRGVsdGFzW3RdKSlyZXR1cm5cImF1ZGl0Q29uZmlnRGVsdGFzLlwiK259cmV0dXJuIG51bGx9LE0uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGE7aWYoZS5iaW5kaW5nRGVsdGFzKXtpZighQXJyYXkuaXNBcnJheShlLmJpbmRpbmdEZWx0YXMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhLmJpbmRpbmdEZWx0YXM6IGFycmF5IGV4cGVjdGVkXCIpO3QuYmluZGluZ0RlbHRhcz1bXTtmb3IodmFyIG49MDtuPGUuYmluZGluZ0RlbHRhcy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5iaW5kaW5nRGVsdGFzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhLmJpbmRpbmdEZWx0YXM6IG9iamVjdCBleHBlY3RlZFwiKTt0LmJpbmRpbmdEZWx0YXNbbl09bC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YS5mcm9tT2JqZWN0KGUuYmluZGluZ0RlbHRhc1tuXSl9fWlmKGUuYXVkaXRDb25maWdEZWx0YXMpe2lmKCFBcnJheS5pc0FycmF5KGUuYXVkaXRDb25maWdEZWx0YXMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhLmF1ZGl0Q29uZmlnRGVsdGFzOiBhcnJheSBleHBlY3RlZFwiKTt0LmF1ZGl0Q29uZmlnRGVsdGFzPVtdO2ZvcihuPTA7bjxlLmF1ZGl0Q29uZmlnRGVsdGFzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmF1ZGl0Q29uZmlnRGVsdGFzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhLmF1ZGl0Q29uZmlnRGVsdGFzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hdWRpdENvbmZpZ0RlbHRhc1tuXT1sLmdvb2dsZS5pYW0udjEuQXVkaXRDb25maWdEZWx0YS5mcm9tT2JqZWN0KGUuYXVkaXRDb25maWdEZWx0YXNbbl0pfX1yZXR1cm4gdH0sTS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uYmluZGluZ0RlbHRhcz1bXSxuLmF1ZGl0Q29uZmlnRGVsdGFzPVtdKSxlLmJpbmRpbmdEZWx0YXMmJmUuYmluZGluZ0RlbHRhcy5sZW5ndGgpe24uYmluZGluZ0RlbHRhcz1bXTtmb3IodmFyIG89MDtvPGUuYmluZGluZ0RlbHRhcy5sZW5ndGg7KytvKW4uYmluZGluZ0RlbHRhc1tvXT1sLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhLnRvT2JqZWN0KGUuYmluZGluZ0RlbHRhc1tvXSx0KX1pZihlLmF1ZGl0Q29uZmlnRGVsdGFzJiZlLmF1ZGl0Q29uZmlnRGVsdGFzLmxlbmd0aCl7bi5hdWRpdENvbmZpZ0RlbHRhcz1bXTtmb3Iobz0wO288ZS5hdWRpdENvbmZpZ0RlbHRhcy5sZW5ndGg7KytvKW4uYXVkaXRDb25maWdEZWx0YXNbb109bC5nb29nbGUuaWFtLnYxLkF1ZGl0Q29uZmlnRGVsdGEudG9PYmplY3QoZS5hdWRpdENvbmZpZ0RlbHRhc1tvXSx0KX1yZXR1cm4gbn0sTS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LE0pLHQuQmluZGluZ0RlbHRhPShmLnByb3RvdHlwZS5hY3Rpb249MCxmLnByb3RvdHlwZS5yb2xlPVwiXCIsZi5wcm90b3R5cGUubWVtYmVyPVwiXCIsZi5wcm90b3R5cGUuY29uZGl0aW9uPW51bGwsZi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBmKGUpfSxmLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5hY3Rpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhY3Rpb25cIikmJnQudWludDMyKDgpLmludDMyKGUuYWN0aW9uKSxudWxsIT1lLnJvbGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyb2xlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUucm9sZSksbnVsbCE9ZS5tZW1iZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZW1iZXJcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5tZW1iZXIpLG51bGwhPWUuY29uZGl0aW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY29uZGl0aW9uXCIpJiZsLmdvb2dsZS50eXBlLkV4cHIuZW5jb2RlKGUuY29uZGl0aW9uLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5CaW5kaW5nRGVsdGE7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5hY3Rpb249ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLnJvbGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5tZW1iZXI9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5jb25kaXRpb249bC5nb29nbGUudHlwZS5FeHByLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sZi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sZi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hY3Rpb24mJmUuaGFzT3duUHJvcGVydHkoXCJhY3Rpb25cIikpc3dpdGNoKGUuYWN0aW9uKXtkZWZhdWx0OnJldHVyblwiYWN0aW9uOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fWlmKG51bGwhPWUucm9sZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJvbGVcIikmJiFwLmlzU3RyaW5nKGUucm9sZSkpcmV0dXJuXCJyb2xlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1lbWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lbWJlclwiKSYmIXAuaXNTdHJpbmcoZS5tZW1iZXIpKXJldHVyblwibWVtYmVyOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNvbmRpdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImNvbmRpdGlvblwiKSl7ZT1sLmdvb2dsZS50eXBlLkV4cHIudmVyaWZ5KGUuY29uZGl0aW9uKTtpZihlKXJldHVyblwiY29uZGl0aW9uLlwiK2V9cmV0dXJuIG51bGx9LGYuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YSlyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YTtzd2l0Y2goZS5hY3Rpb24pe2Nhc2VcIkFDVElPTl9VTlNQRUNJRklFRFwiOmNhc2UgMDp0LmFjdGlvbj0wO2JyZWFrO2Nhc2VcIkFERFwiOmNhc2UgMTp0LmFjdGlvbj0xO2JyZWFrO2Nhc2VcIlJFTU9WRVwiOmNhc2UgMjp0LmFjdGlvbj0yfWlmKG51bGwhPWUucm9sZSYmKHQucm9sZT1TdHJpbmcoZS5yb2xlKSksbnVsbCE9ZS5tZW1iZXImJih0Lm1lbWJlcj1TdHJpbmcoZS5tZW1iZXIpKSxudWxsIT1lLmNvbmRpdGlvbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuY29uZGl0aW9uKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLkJpbmRpbmdEZWx0YS5jb25kaXRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmNvbmRpdGlvbj1sLmdvb2dsZS50eXBlLkV4cHIuZnJvbU9iamVjdChlLmNvbmRpdGlvbil9cmV0dXJuIHR9LGYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLmFjdGlvbj10LmVudW1zPT09U3RyaW5nP1wiQUNUSU9OX1VOU1BFQ0lGSUVEXCI6MCxuLnJvbGU9XCJcIixuLm1lbWJlcj1cIlwiLG4uY29uZGl0aW9uPW51bGwpLG51bGwhPWUuYWN0aW9uJiZlLmhhc093blByb3BlcnR5KFwiYWN0aW9uXCIpJiYobi5hY3Rpb249dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5pYW0udjEuQmluZGluZ0RlbHRhLkFjdGlvbltlLmFjdGlvbl06ZS5hY3Rpb24pLG51bGwhPWUucm9sZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJvbGVcIikmJihuLnJvbGU9ZS5yb2xlKSxudWxsIT1lLm1lbWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lbWJlclwiKSYmKG4ubWVtYmVyPWUubWVtYmVyKSxudWxsIT1lLmNvbmRpdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImNvbmRpdGlvblwiKSYmKG4uY29uZGl0aW9uPWwuZ29vZ2xlLnR5cGUuRXhwci50b09iamVjdChlLmNvbmRpdGlvbix0KSksbn0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGYuQWN0aW9uPShlPXt9LChyPU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJBQ1RJT05fVU5TUEVDSUZJRURcIl09MCxyW2VbMV09XCJBRERcIl09MSxyW2VbMl09XCJSRU1PVkVcIl09MixyKSxmKSx0LkF1ZGl0Q29uZmlnRGVsdGE9KHkucHJvdG90eXBlLmFjdGlvbj0wLHkucHJvdG90eXBlLnNlcnZpY2U9XCJcIix5LnByb3RvdHlwZS5leGVtcHRlZE1lbWJlcj1cIlwiLHkucHJvdG90eXBlLmxvZ1R5cGU9XCJcIix5LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHkoZSl9LHkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmFjdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFjdGlvblwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5hY3Rpb24pLG51bGwhPWUuc2VydmljZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlcnZpY2VcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5zZXJ2aWNlKSxudWxsIT1lLmV4ZW1wdGVkTWVtYmVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXhlbXB0ZWRNZW1iZXJcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5leGVtcHRlZE1lbWJlciksbnVsbCE9ZS5sb2dUeXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibG9nVHlwZVwiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLmxvZ1R5cGUpLHR9LHkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5BdWRpdENvbmZpZ0RlbHRhO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uYWN0aW9uPWUuaW50MzIoKTticmVhaztjYXNlIDI6by5zZXJ2aWNlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8uZXhlbXB0ZWRNZW1iZXI9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5sb2dUeXBlPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx5LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx5LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFjdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvblwiKSlzd2l0Y2goZS5hY3Rpb24pe2RlZmF1bHQ6cmV0dXJuXCJhY3Rpb246IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9cmV0dXJuIG51bGwhPWUuc2VydmljZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZpY2VcIikmJiFwLmlzU3RyaW5nKGUuc2VydmljZSk/XCJzZXJ2aWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmV4ZW1wdGVkTWVtYmVyJiZlLmhhc093blByb3BlcnR5KFwiZXhlbXB0ZWRNZW1iZXJcIikmJiFwLmlzU3RyaW5nKGUuZXhlbXB0ZWRNZW1iZXIpP1wiZXhlbXB0ZWRNZW1iZXI6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUubG9nVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImxvZ1R5cGVcIikmJiFwLmlzU3RyaW5nKGUubG9nVHlwZSk/XCJsb2dUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSx5LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmlhbS52MS5BdWRpdENvbmZpZ0RlbHRhKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5pYW0udjEuQXVkaXRDb25maWdEZWx0YTtzd2l0Y2goZS5hY3Rpb24pe2Nhc2VcIkFDVElPTl9VTlNQRUNJRklFRFwiOmNhc2UgMDp0LmFjdGlvbj0wO2JyZWFrO2Nhc2VcIkFERFwiOmNhc2UgMTp0LmFjdGlvbj0xO2JyZWFrO2Nhc2VcIlJFTU9WRVwiOmNhc2UgMjp0LmFjdGlvbj0yfXJldHVybiBudWxsIT1lLnNlcnZpY2UmJih0LnNlcnZpY2U9U3RyaW5nKGUuc2VydmljZSkpLG51bGwhPWUuZXhlbXB0ZWRNZW1iZXImJih0LmV4ZW1wdGVkTWVtYmVyPVN0cmluZyhlLmV4ZW1wdGVkTWVtYmVyKSksbnVsbCE9ZS5sb2dUeXBlJiYodC5sb2dUeXBlPVN0cmluZyhlLmxvZ1R5cGUpKSx0fSx5LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5hY3Rpb249dC5lbnVtcz09PVN0cmluZz9cIkFDVElPTl9VTlNQRUNJRklFRFwiOjAsbi5zZXJ2aWNlPVwiXCIsbi5leGVtcHRlZE1lbWJlcj1cIlwiLG4ubG9nVHlwZT1cIlwiKSxudWxsIT1lLmFjdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImFjdGlvblwiKSYmKG4uYWN0aW9uPXQuZW51bXM9PT1TdHJpbmc/bC5nb29nbGUuaWFtLnYxLkF1ZGl0Q29uZmlnRGVsdGEuQWN0aW9uW2UuYWN0aW9uXTplLmFjdGlvbiksbnVsbCE9ZS5zZXJ2aWNlJiZlLmhhc093blByb3BlcnR5KFwic2VydmljZVwiKSYmKG4uc2VydmljZT1lLnNlcnZpY2UpLG51bGwhPWUuZXhlbXB0ZWRNZW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJleGVtcHRlZE1lbWJlclwiKSYmKG4uZXhlbXB0ZWRNZW1iZXI9ZS5leGVtcHRlZE1lbWJlciksbnVsbCE9ZS5sb2dUeXBlJiZlLmhhc093blByb3BlcnR5KFwibG9nVHlwZVwiKSYmKG4ubG9nVHlwZT1lLmxvZ1R5cGUpLG59LHkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx5LkFjdGlvbj0oZT17fSwocj1PYmplY3QuY3JlYXRlKGUpKVtlWzBdPVwiQUNUSU9OX1VOU1BFQ0lGSUVEXCJdPTAscltlWzFdPVwiQUREXCJdPTEscltlWzJdPVwiUkVNT1ZFXCJdPTIscikseSksdC5sb2dnaW5nPSgoZT17fSkuQXVkaXREYXRhPShMLnByb3RvdHlwZS5wb2xpY3lEZWx0YT1udWxsLEwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTChlKX0sTC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucG9saWN5RGVsdGEmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwb2xpY3lEZWx0YVwiKSYmbC5nb29nbGUuaWFtLnYxLlBvbGljeURlbHRhLmVuY29kZShlLnBvbGljeURlbHRhLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LEwuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEwuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmlhbS52MS5sb2dnaW5nLkF1ZGl0RGF0YTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09Mj9vLnBvbGljeURlbHRhPWwuZ29vZ2xlLmlhbS52MS5Qb2xpY3lEZWx0YS5kZWNvZGUoZSxlLnVpbnQzMigpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LEwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucG9saWN5RGVsdGEmJmUuaGFzT3duUHJvcGVydHkoXCJwb2xpY3lEZWx0YVwiKSl7ZT1sLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEudmVyaWZ5KGUucG9saWN5RGVsdGEpO2lmKGUpcmV0dXJuXCJwb2xpY3lEZWx0YS5cIitlfXJldHVybiBudWxsfSxMLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmlhbS52MS5sb2dnaW5nLkF1ZGl0RGF0YSlyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuaWFtLnYxLmxvZ2dpbmcuQXVkaXREYXRhO2lmKG51bGwhPWUucG9saWN5RGVsdGEpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnBvbGljeURlbHRhKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuaWFtLnYxLmxvZ2dpbmcuQXVkaXREYXRhLnBvbGljeURlbHRhOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5wb2xpY3lEZWx0YT1sLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEuZnJvbU9iamVjdChlLnBvbGljeURlbHRhKX1yZXR1cm4gdH0sTC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ucG9saWN5RGVsdGE9bnVsbCksbnVsbCE9ZS5wb2xpY3lEZWx0YSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvbGljeURlbHRhXCIpJiYobi5wb2xpY3lEZWx0YT1sLmdvb2dsZS5pYW0udjEuUG9saWN5RGVsdGEudG9PYmplY3QoZS5wb2xpY3lEZWx0YSx0KSksbn0sTC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEwpLGUpLHQpLG4pLEYuYXBpPSgocj17fSkuSHR0cD0oSi5wcm90b3R5cGUucnVsZXM9cC5lbXB0eUFycmF5LEoucHJvdG90eXBlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ITEsSi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBKKGUpfSxKLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnJ1bGVzJiZlLnJ1bGVzLmxlbmd0aClmb3IodmFyIG49MDtuPGUucnVsZXMubGVuZ3RoOysrbilsLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZW5jb2RlKGUucnVsZXNbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb25cIikmJnQudWludDMyKDE2KS5ib29sKGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiksdH0sSi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sSi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuYXBpLkh0dHA7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5ydWxlcyYmby5ydWxlcy5sZW5ndGh8fChvLnJ1bGVzPVtdKSxvLnJ1bGVzLnB1c2gobC5nb29nbGUuYXBpLkh0dHBSdWxlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDI6by5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sSi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sSi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ydWxlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInJ1bGVzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJ1bGVzKSlyZXR1cm5cInJ1bGVzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5ydWxlcy5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUudmVyaWZ5KGUucnVsZXNbdF0pO2lmKG4pcmV0dXJuXCJydWxlcy5cIitufX1yZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvblwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24/XCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbH0sSi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5hcGkuSHR0cClyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUuYXBpLkh0dHA7aWYoZS5ydWxlcyl7aWYoIUFycmF5LmlzQXJyYXkoZS5ydWxlcykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cC5ydWxlczogYXJyYXkgZXhwZWN0ZWRcIik7dC5ydWxlcz1bXTtmb3IodmFyIG49MDtuPGUucnVsZXMubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucnVsZXNbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cC5ydWxlczogb2JqZWN0IGV4cGVjdGVkXCIpO3QucnVsZXNbbl09bC5nb29nbGUuYXBpLkh0dHBSdWxlLmZyb21PYmplY3QoZS5ydWxlc1tuXSl9fXJldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJih0LmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249Qm9vbGVhbihlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24pKSx0fSxKLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5ydWxlcz1bXSksdC5kZWZhdWx0cyYmKG4uZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj0hMSksZS5ydWxlcyYmZS5ydWxlcy5sZW5ndGgpe24ucnVsZXM9W107Zm9yKHZhciBvPTA7bzxlLnJ1bGVzLmxlbmd0aDsrK28pbi5ydWxlc1tvXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUudG9PYmplY3QoZS5ydWxlc1tvXSx0KX1yZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvblwiKSYmKG4uZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24pLG59LEoucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxKKSxyLkh0dHBSdWxlPShoLnByb3RvdHlwZS5zZWxlY3Rvcj1cIlwiLGgucHJvdG90eXBlLmdldD1cIlwiLGgucHJvdG90eXBlLnB1dD1cIlwiLGgucHJvdG90eXBlLnBvc3Q9XCJcIixoLnByb3RvdHlwZS5kZWxldGU9XCJcIixoLnByb3RvdHlwZS5wYXRjaD1cIlwiLGgucHJvdG90eXBlLmN1c3RvbT1udWxsLGgucHJvdG90eXBlLmJvZHk9XCJcIixoLnByb3RvdHlwZS5yZXNwb25zZUJvZHk9XCJcIixoLnByb3RvdHlwZS5hZGRpdGlvbmFsQmluZGluZ3M9cC5lbXB0eUFycmF5LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLnByb3RvdHlwZSxcInBhdHRlcm5cIix7Z2V0OnAub25lT2ZHZXR0ZXIoZT1bXCJnZXRcIixcInB1dFwiLFwicG9zdFwiLFwiZGVsZXRlXCIsXCJwYXRjaFwiLFwiY3VzdG9tXCJdKSxzZXQ6cC5vbmVPZlNldHRlcihlKX0pLGguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaChlKX0saC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5zZWxlY3RvciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlbGVjdG9yXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuc2VsZWN0b3IpLG51bGwhPWUuZ2V0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZ2V0XCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuZ2V0KSxudWxsIT1lLnB1dCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInB1dFwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLnB1dCksbnVsbCE9ZS5wb3N0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicG9zdFwiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLnBvc3QpLG51bGwhPWUuZGVsZXRlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVsZXRlXCIpJiZ0LnVpbnQzMig0Mikuc3RyaW5nKGUuZGVsZXRlKSxudWxsIT1lLnBhdGNoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGF0Y2hcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS5wYXRjaCksbnVsbCE9ZS5ib2R5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYm9keVwiKSYmdC51aW50MzIoNTgpLnN0cmluZyhlLmJvZHkpLG51bGwhPWUuY3VzdG9tJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3VzdG9tXCIpJiZsLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4uZW5jb2RlKGUuY3VzdG9tLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuYWRkaXRpb25hbEJpbmRpbmdzJiZlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytuKWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS5lbmNvZGUoZS5hZGRpdGlvbmFsQmluZGluZ3Nbbl0sdC51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUucmVzcG9uc2VCb2R5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicmVzcG9uc2VCb2R5XCIpJiZ0LnVpbnQzMig5OCkuc3RyaW5nKGUucmVzcG9uc2VCb2R5KSx0fSxoLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxoLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5hcGkuSHR0cFJ1bGU7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zZWxlY3Rvcj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmdldD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLnB1dD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLnBvc3Q9ZS5zdHJpbmcoKTticmVhaztjYXNlIDU6by5kZWxldGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDY6by5wYXRjaD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgODpvLmN1c3RvbT1sLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA3Om8uYm9keT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTI6by5yZXNwb25zZUJvZHk9ZS5zdHJpbmcoKTticmVhaztjYXNlIDExOm8uYWRkaXRpb25hbEJpbmRpbmdzJiZvLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGh8fChvLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSksby5hZGRpdGlvbmFsQmluZGluZ3MucHVzaChsLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30saC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0saC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7dmFyIHQ9e307aWYobnVsbCE9ZS5zZWxlY3RvciYmZS5oYXNPd25Qcm9wZXJ0eShcInNlbGVjdG9yXCIpJiYhcC5pc1N0cmluZyhlLnNlbGVjdG9yKSlyZXR1cm5cInNlbGVjdG9yOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmdldCYmZS5oYXNPd25Qcm9wZXJ0eShcImdldFwiKSYmKHQucGF0dGVybj0xLCFwLmlzU3RyaW5nKGUuZ2V0KSkpcmV0dXJuXCJnZXQ6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucHV0JiZlLmhhc093blByb3BlcnR5KFwicHV0XCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXAuaXNTdHJpbmcoZS5wdXQpKXJldHVyblwicHV0OiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLnBvc3QmJmUuaGFzT3duUHJvcGVydHkoXCJwb3N0XCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXAuaXNTdHJpbmcoZS5wb3N0KSlyZXR1cm5cInBvc3Q6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUuZGVsZXRlJiZlLmhhc093blByb3BlcnR5KFwiZGVsZXRlXCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXAuaXNTdHJpbmcoZS5kZWxldGUpKXJldHVyblwiZGVsZXRlOiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLnBhdGNoJiZlLmhhc093blByb3BlcnR5KFwicGF0Y2hcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhcC5pc1N0cmluZyhlLnBhdGNoKSlyZXR1cm5cInBhdGNoOiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLmN1c3RvbSYmZS5oYXNPd25Qcm9wZXJ0eShcImN1c3RvbVwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLG49bC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLnZlcmlmeShlLmN1c3RvbSkpcmV0dXJuXCJjdXN0b20uXCIrbn1pZihudWxsIT1lLmJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJib2R5XCIpJiYhcC5pc1N0cmluZyhlLmJvZHkpKXJldHVyblwiYm9keTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5yZXNwb25zZUJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNwb25zZUJvZHlcIikmJiFwLmlzU3RyaW5nKGUucmVzcG9uc2VCb2R5KSlyZXR1cm5cInJlc3BvbnNlQm9keTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hZGRpdGlvbmFsQmluZGluZ3MmJmUuaGFzT3duUHJvcGVydHkoXCJhZGRpdGlvbmFsQmluZGluZ3NcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuYWRkaXRpb25hbEJpbmRpbmdzKSlyZXR1cm5cImFkZGl0aW9uYWxCaW5kaW5nczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sbz0wO288ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbylpZihuPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZS5hZGRpdGlvbmFsQmluZGluZ3Nbb10pKXJldHVyblwiYWRkaXRpb25hbEJpbmRpbmdzLlwiK259cmV0dXJuIG51bGx9LGguZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUuYXBpLkh0dHBSdWxlKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5hcGkuSHR0cFJ1bGU7aWYobnVsbCE9ZS5zZWxlY3RvciYmKHQuc2VsZWN0b3I9U3RyaW5nKGUuc2VsZWN0b3IpKSxudWxsIT1lLmdldCYmKHQuZ2V0PVN0cmluZyhlLmdldCkpLG51bGwhPWUucHV0JiYodC5wdXQ9U3RyaW5nKGUucHV0KSksbnVsbCE9ZS5wb3N0JiYodC5wb3N0PVN0cmluZyhlLnBvc3QpKSxudWxsIT1lLmRlbGV0ZSYmKHQuZGVsZXRlPVN0cmluZyhlLmRlbGV0ZSkpLG51bGwhPWUucGF0Y2gmJih0LnBhdGNoPVN0cmluZyhlLnBhdGNoKSksbnVsbCE9ZS5jdXN0b20pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmN1c3RvbSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwUnVsZS5jdXN0b206IG9iamVjdCBleHBlY3RlZFwiKTt0LmN1c3RvbT1sLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4uZnJvbU9iamVjdChlLmN1c3RvbSl9aWYobnVsbCE9ZS5ib2R5JiYodC5ib2R5PVN0cmluZyhlLmJvZHkpKSxudWxsIT1lLnJlc3BvbnNlQm9keSYmKHQucmVzcG9uc2VCb2R5PVN0cmluZyhlLnJlc3BvbnNlQm9keSkpLGUuYWRkaXRpb25hbEJpbmRpbmdzKXtpZighQXJyYXkuaXNBcnJheShlLmFkZGl0aW9uYWxCaW5kaW5ncykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cFJ1bGUuYWRkaXRpb25hbEJpbmRpbmdzOiBhcnJheSBleHBlY3RlZFwiKTt0LmFkZGl0aW9uYWxCaW5kaW5ncz1bXTtmb3IodmFyIG49MDtuPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmFkZGl0aW9uYWxCaW5kaW5nc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwUnVsZS5hZGRpdGlvbmFsQmluZGluZ3M6IG9iamVjdCBleHBlY3RlZFwiKTt0LmFkZGl0aW9uYWxCaW5kaW5nc1tuXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZnJvbU9iamVjdChlLmFkZGl0aW9uYWxCaW5kaW5nc1tuXSl9fXJldHVybiB0fSxoLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5hZGRpdGlvbmFsQmluZGluZ3M9W10pLHQuZGVmYXVsdHMmJihuLnNlbGVjdG9yPVwiXCIsbi5ib2R5PVwiXCIsbi5yZXNwb25zZUJvZHk9XCJcIiksbnVsbCE9ZS5zZWxlY3RvciYmZS5oYXNPd25Qcm9wZXJ0eShcInNlbGVjdG9yXCIpJiYobi5zZWxlY3Rvcj1lLnNlbGVjdG9yKSxudWxsIT1lLmdldCYmZS5oYXNPd25Qcm9wZXJ0eShcImdldFwiKSYmKG4uZ2V0PWUuZ2V0LHQub25lb2ZzKSYmKG4ucGF0dGVybj1cImdldFwiKSxudWxsIT1lLnB1dCYmZS5oYXNPd25Qcm9wZXJ0eShcInB1dFwiKSYmKG4ucHV0PWUucHV0LHQub25lb2ZzKSYmKG4ucGF0dGVybj1cInB1dFwiKSxudWxsIT1lLnBvc3QmJmUuaGFzT3duUHJvcGVydHkoXCJwb3N0XCIpJiYobi5wb3N0PWUucG9zdCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJwb3N0XCIpLG51bGwhPWUuZGVsZXRlJiZlLmhhc093blByb3BlcnR5KFwiZGVsZXRlXCIpJiYobi5kZWxldGU9ZS5kZWxldGUsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwiZGVsZXRlXCIpLG51bGwhPWUucGF0Y2gmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRjaFwiKSYmKG4ucGF0Y2g9ZS5wYXRjaCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJwYXRjaFwiKSxudWxsIT1lLmJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJib2R5XCIpJiYobi5ib2R5PWUuYm9keSksbnVsbCE9ZS5jdXN0b20mJmUuaGFzT3duUHJvcGVydHkoXCJjdXN0b21cIikmJihuLmN1c3RvbT1sLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4udG9PYmplY3QoZS5jdXN0b20sdCksdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwiY3VzdG9tXCIpLGUuYWRkaXRpb25hbEJpbmRpbmdzJiZlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGgpe24uYWRkaXRpb25hbEJpbmRpbmdzPVtdO2Zvcih2YXIgbz0wO288ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbyluLmFkZGl0aW9uYWxCaW5kaW5nc1tvXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUudG9PYmplY3QoZS5hZGRpdGlvbmFsQmluZGluZ3Nbb10sdCl9cmV0dXJuIG51bGwhPWUucmVzcG9uc2VCb2R5JiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VCb2R5XCIpJiYobi5yZXNwb25zZUJvZHk9ZS5yZXNwb25zZUJvZHkpLG59LGgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxoKSxyLkN1c3RvbUh0dHBQYXR0ZXJuPShfLnByb3RvdHlwZS5raW5kPVwiXCIsXy5wcm90b3R5cGUucGF0aD1cIlwiLF8uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgXyhlKX0sXy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUua2luZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImtpbmRcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5raW5kKSxudWxsIT1lLnBhdGgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYXRoXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUucGF0aCksdH0sXy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sXy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ua2luZD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBhdGg9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LF8uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LF8udmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUua2luZCYmZS5oYXNPd25Qcm9wZXJ0eShcImtpbmRcIikmJiFwLmlzU3RyaW5nKGUua2luZCk/XCJraW5kOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpJiYhcC5pc1N0cmluZyhlLnBhdGgpP1wicGF0aDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sXy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgbC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuP2U6KHQ9bmV3IGwuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybixudWxsIT1lLmtpbmQmJih0LmtpbmQ9U3RyaW5nKGUua2luZCkpLG51bGwhPWUucGF0aCYmKHQucGF0aD1TdHJpbmcoZS5wYXRoKSksdCl9LF8udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLmtpbmQ9XCJcIixuLnBhdGg9XCJcIiksbnVsbCE9ZS5raW5kJiZlLmhhc093blByb3BlcnR5KFwia2luZFwiKSYmKG4ua2luZD1lLmtpbmQpLG51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikmJihuLnBhdGg9ZS5wYXRoKSxufSxfLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sXyksci5GaWVsZEJlaGF2aW9yPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJGSUVMRF9CRUhBVklPUl9VTlNQRUNJRklFRFwiXT0wLHRbZVsxXT1cIk9QVElPTkFMXCJdPTEsdFtlWzJdPVwiUkVRVUlSRURcIl09Mix0W2VbM109XCJPVVRQVVRfT05MWVwiXT0zLHRbZVs0XT1cIklOUFVUX09OTFlcIl09NCx0W2VbNV09XCJJTU1VVEFCTEVcIl09NSx0KSxyLlJlc291cmNlRGVzY3JpcHRvcj0oYi5wcm90b3R5cGUudHlwZT1cIlwiLGIucHJvdG90eXBlLnBhdHRlcm49cC5lbXB0eUFycmF5LGIucHJvdG90eXBlLm5hbWVGaWVsZD1cIlwiLGIucHJvdG90eXBlLmhpc3Rvcnk9MCxiLnByb3RvdHlwZS5wbHVyYWw9XCJcIixiLnByb3RvdHlwZS5zaW5ndWxhcj1cIlwiLGIuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYihlKX0sYi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS50eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHlwZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnR5cGUpLG51bGwhPWUucGF0dGVybiYmZS5wYXR0ZXJuLmxlbmd0aClmb3IodmFyIG49MDtuPGUucGF0dGVybi5sZW5ndGg7KytuKXQudWludDMyKDE4KS5zdHJpbmcoZS5wYXR0ZXJuW25dKTtyZXR1cm4gbnVsbCE9ZS5uYW1lRmllbGQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lRmllbGRcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5uYW1lRmllbGQpLG51bGwhPWUuaGlzdG9yeSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImhpc3RvcnlcIikmJnQudWludDMyKDMyKS5pbnQzMihlLmhpc3RvcnkpLG51bGwhPWUucGx1cmFsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGx1cmFsXCIpJiZ0LnVpbnQzMig0Mikuc3RyaW5nKGUucGx1cmFsKSxudWxsIT1lLnNpbmd1bGFyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2luZ3VsYXJcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS5zaW5ndWxhciksdH0sYi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sYi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvcjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wYXR0ZXJuJiZvLnBhdHRlcm4ubGVuZ3RofHwoby5wYXR0ZXJuPVtdKSxvLnBhdHRlcm4ucHVzaChlLnN0cmluZygpKTticmVhaztjYXNlIDM6by5uYW1lRmllbGQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5oaXN0b3J5PWUuaW50MzIoKTticmVhaztjYXNlIDU6by5wbHVyYWw9ZS5zdHJpbmcoKTticmVhaztjYXNlIDY6by5zaW5ndWxhcj1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sYi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sYi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmIXAuaXNTdHJpbmcoZS50eXBlKSlyZXR1cm5cInR5cGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGF0dGVybiYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdHRlcm5cIikpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0dGVybikpcmV0dXJuXCJwYXR0ZXJuOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wYXR0ZXJuLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZS5wYXR0ZXJuW3RdKSlyZXR1cm5cInBhdHRlcm46IHN0cmluZ1tdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5uYW1lRmllbGQmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lRmllbGRcIikmJiFwLmlzU3RyaW5nKGUubmFtZUZpZWxkKSlyZXR1cm5cIm5hbWVGaWVsZDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5oaXN0b3J5JiZlLmhhc093blByb3BlcnR5KFwiaGlzdG9yeVwiKSlzd2l0Y2goZS5oaXN0b3J5KXtkZWZhdWx0OnJldHVyblwiaGlzdG9yeTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1yZXR1cm4gbnVsbCE9ZS5wbHVyYWwmJmUuaGFzT3duUHJvcGVydHkoXCJwbHVyYWxcIikmJiFwLmlzU3RyaW5nKGUucGx1cmFsKT9cInBsdXJhbDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5zaW5ndWxhciYmZS5oYXNPd25Qcm9wZXJ0eShcInNpbmd1bGFyXCIpJiYhcC5pc1N0cmluZyhlLnNpbmd1bGFyKT9cInNpbmd1bGFyOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxiLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3I7aWYobnVsbCE9ZS50eXBlJiYodC50eXBlPVN0cmluZyhlLnR5cGUpKSxlLnBhdHRlcm4pe2lmKCFBcnJheS5pc0FycmF5KGUucGF0dGVybikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLnBhdHRlcm46IGFycmF5IGV4cGVjdGVkXCIpO3QucGF0dGVybj1bXTtmb3IodmFyIG49MDtuPGUucGF0dGVybi5sZW5ndGg7KytuKXQucGF0dGVybltuXT1TdHJpbmcoZS5wYXR0ZXJuW25dKX1zd2l0Y2gobnVsbCE9ZS5uYW1lRmllbGQmJih0Lm5hbWVGaWVsZD1TdHJpbmcoZS5uYW1lRmllbGQpKSxlLmhpc3Rvcnkpe2Nhc2VcIkhJU1RPUllfVU5TUEVDSUZJRURcIjpjYXNlIDA6dC5oaXN0b3J5PTA7YnJlYWs7Y2FzZVwiT1JJR0lOQUxMWV9TSU5HTEVfUEFUVEVSTlwiOmNhc2UgMTp0Lmhpc3Rvcnk9MTticmVhaztjYXNlXCJGVVRVUkVfTVVMVElfUEFUVEVSTlwiOmNhc2UgMjp0Lmhpc3Rvcnk9Mn1yZXR1cm4gbnVsbCE9ZS5wbHVyYWwmJih0LnBsdXJhbD1TdHJpbmcoZS5wbHVyYWwpKSxudWxsIT1lLnNpbmd1bGFyJiYodC5zaW5ndWxhcj1TdHJpbmcoZS5zaW5ndWxhcikpLHR9LGIudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBhdHRlcm49W10pLHQuZGVmYXVsdHMmJihuLnR5cGU9XCJcIixuLm5hbWVGaWVsZD1cIlwiLG4uaGlzdG9yeT10LmVudW1zPT09U3RyaW5nP1wiSElTVE9SWV9VTlNQRUNJRklFRFwiOjAsbi5wbHVyYWw9XCJcIixuLnNpbmd1bGFyPVwiXCIpLG51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikmJihuLnR5cGU9ZS50eXBlKSxlLnBhdHRlcm4mJmUucGF0dGVybi5sZW5ndGgpe24ucGF0dGVybj1bXTtmb3IodmFyIG89MDtvPGUucGF0dGVybi5sZW5ndGg7KytvKW4ucGF0dGVybltvXT1lLnBhdHRlcm5bb119cmV0dXJuIG51bGwhPWUubmFtZUZpZWxkJiZlLmhhc093blByb3BlcnR5KFwibmFtZUZpZWxkXCIpJiYobi5uYW1lRmllbGQ9ZS5uYW1lRmllbGQpLG51bGwhPWUuaGlzdG9yeSYmZS5oYXNPd25Qcm9wZXJ0eShcImhpc3RvcnlcIikmJihuLmhpc3Rvcnk9dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLkhpc3RvcnlbZS5oaXN0b3J5XTplLmhpc3RvcnkpLG51bGwhPWUucGx1cmFsJiZlLmhhc093blByb3BlcnR5KFwicGx1cmFsXCIpJiYobi5wbHVyYWw9ZS5wbHVyYWwpLG51bGwhPWUuc2luZ3VsYXImJmUuaGFzT3duUHJvcGVydHkoXCJzaW5ndWxhclwiKSYmKG4uc2luZ3VsYXI9ZS5zaW5ndWxhciksbn0sYi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGIuSGlzdG9yeT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzBdPVwiSElTVE9SWV9VTlNQRUNJRklFRFwiXT0wLHRbZVsxXT1cIk9SSUdJTkFMTFlfU0lOR0xFX1BBVFRFUk5cIl09MSx0W2VbMl09XCJGVVRVUkVfTVVMVElfUEFUVEVSTlwiXT0yLHQpLGIpLHIuUmVzb3VyY2VSZWZlcmVuY2U9KEgucHJvdG90eXBlLnR5cGU9XCJcIixILnByb3RvdHlwZS5jaGlsZFR5cGU9XCJcIixILmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEgoZSl9LEguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUudHlwZSksbnVsbCE9ZS5jaGlsZFR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjaGlsZFR5cGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5jaGlsZFR5cGUpLHR9LEguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLmFwaS5SZXNvdXJjZVJlZmVyZW5jZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5jaGlsZFR5cGU9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEgudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikmJiFwLmlzU3RyaW5nKGUudHlwZSk/XCJ0eXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmNoaWxkVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNoaWxkVHlwZVwiKSYmIXAuaXNTdHJpbmcoZS5jaGlsZFR5cGUpP1wiY2hpbGRUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxILmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5hcGkuUmVzb3VyY2VSZWZlcmVuY2U/ZToodD1uZXcgbC5nb29nbGUuYXBpLlJlc291cmNlUmVmZXJlbmNlLG51bGwhPWUudHlwZSYmKHQudHlwZT1TdHJpbmcoZS50eXBlKSksbnVsbCE9ZS5jaGlsZFR5cGUmJih0LmNoaWxkVHlwZT1TdHJpbmcoZS5jaGlsZFR5cGUpKSx0KX0sSC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4udHlwZT1cIlwiLG4uY2hpbGRUeXBlPVwiXCIpLG51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikmJihuLnR5cGU9ZS50eXBlKSxudWxsIT1lLmNoaWxkVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNoaWxkVHlwZVwiKSYmKG4uY2hpbGRUeXBlPWUuY2hpbGRUeXBlKSxufSxILnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSCksciksRi5wcm90b2J1Zj0oKG49e30pLkZpbGVEZXNjcmlwdG9yU2V0PShxLnByb3RvdHlwZS5maWxlPXAuZW1wdHlBcnJheSxxLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHEoZSl9LHEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuZmlsZSYmZS5maWxlLmxlbmd0aClmb3IodmFyIG49MDtuPGUuZmlsZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZmlsZVtuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0scS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0scS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQ7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/KG8uZmlsZSYmby5maWxlLmxlbmd0aHx8KG8uZmlsZT1bXSksby5maWxlLnB1c2gobC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30scS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0scS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5maWxlJiZlLmhhc093blByb3BlcnR5KFwiZmlsZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWxlKSlyZXR1cm5cImZpbGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmZpbGUubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5maWxlW3RdKTtpZihuKXJldHVyblwiZmlsZS5cIitufX1yZXR1cm4gbnVsbH0scS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldClyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQ7aWYoZS5maWxlKXtpZighQXJyYXkuaXNBcnJheShlLmZpbGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQuZmlsZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5maWxlPVtdO2Zvcih2YXIgbj0wO248ZS5maWxlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmZpbGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldC5maWxlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5maWxlW25dPWwuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmZpbGVbbl0pfX1yZXR1cm4gdH0scS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZmlsZT1bXSksZS5maWxlJiZlLmZpbGUubGVuZ3RoKXtuLmZpbGU9W107Zm9yKHZhciBvPTA7bzxlLmZpbGUubGVuZ3RoOysrbyluLmZpbGVbb109bC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by50b09iamVjdChlLmZpbGVbb10sdCl9cmV0dXJuIG59LHEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxxKSxuLkZpbGVEZXNjcmlwdG9yUHJvdG89KG0ucHJvdG90eXBlLm5hbWU9XCJcIixtLnByb3RvdHlwZS5wYWNrYWdlPVwiXCIsbS5wcm90b3R5cGUuZGVwZW5kZW5jeT1wLmVtcHR5QXJyYXksbS5wcm90b3R5cGUucHVibGljRGVwZW5kZW5jeT1wLmVtcHR5QXJyYXksbS5wcm90b3R5cGUud2Vha0RlcGVuZGVuY3k9cC5lbXB0eUFycmF5LG0ucHJvdG90eXBlLm1lc3NhZ2VUeXBlPXAuZW1wdHlBcnJheSxtLnByb3RvdHlwZS5lbnVtVHlwZT1wLmVtcHR5QXJyYXksbS5wcm90b3R5cGUuc2VydmljZT1wLmVtcHR5QXJyYXksbS5wcm90b3R5cGUuZXh0ZW5zaW9uPXAuZW1wdHlBcnJheSxtLnByb3RvdHlwZS5vcHRpb25zPW51bGwsbS5wcm90b3R5cGUuc291cmNlQ29kZUluZm89bnVsbCxtLnByb3RvdHlwZS5zeW50YXg9XCJcIixtLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG0oZSl9LG0uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLnBhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYWNrYWdlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUucGFja2FnZSksbnVsbCE9ZS5kZXBlbmRlbmN5JiZlLmRlcGVuZGVuY3kubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC51aW50MzIoMjYpLnN0cmluZyhlLmRlcGVuZGVuY3lbbl0pO2lmKG51bGwhPWUubWVzc2FnZVR5cGUmJmUubWVzc2FnZVR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm1lc3NhZ2VUeXBlW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5lbnVtVHlwZVtuXSx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnNlcnZpY2UmJmUuc2VydmljZS5sZW5ndGgpZm9yKG49MDtuPGUuc2VydmljZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuc2VydmljZVtuXSx0LnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKWZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmV4dGVuc2lvbltuXSx0LnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuc291cmNlQ29kZUluZm8mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzb3VyY2VDb2RlSW5mb1wiKSYmbC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uZW5jb2RlKGUuc291cmNlQ29kZUluZm8sdC51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5wdWJsaWNEZXBlbmRlbmN5JiZlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoKWZvcihuPTA7bjxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LnVpbnQzMig4MCkuaW50MzIoZS5wdWJsaWNEZXBlbmRlbmN5W25dKTtpZihudWxsIT1lLndlYWtEZXBlbmRlbmN5JiZlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aClmb3Iobj0wO248ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQudWludDMyKDg4KS5pbnQzMihlLndlYWtEZXBlbmRlbmN5W25dKTtyZXR1cm4gbnVsbCE9ZS5zeW50YXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzeW50YXhcIikmJnQudWludDMyKDk4KS5zdHJpbmcoZS5zeW50YXgpLHR9LG0uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LG0uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ucGFja2FnZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLmRlcGVuZGVuY3kmJm8uZGVwZW5kZW5jeS5sZW5ndGh8fChvLmRlcGVuZGVuY3k9W10pLG8uZGVwZW5kZW5jeS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2Nhc2UgMTA6aWYoby5wdWJsaWNEZXBlbmRlbmN5JiZvLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RofHwoby5wdWJsaWNEZXBlbmRlbmN5PVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnB1YmxpY0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2Vsc2Ugby5wdWJsaWNEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDExOmlmKG8ud2Vha0RlcGVuZGVuY3kmJm8ud2Vha0RlcGVuZGVuY3kubGVuZ3RofHwoby53ZWFrRGVwZW5kZW5jeT1bXSksMj09KDcmcikpZm9yKGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLndlYWtEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTtlbHNlIG8ud2Vha0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLm1lc3NhZ2VUeXBlJiZvLm1lc3NhZ2VUeXBlLmxlbmd0aHx8KG8ubWVzc2FnZVR5cGU9W10pLG8ubWVzc2FnZVR5cGUucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNTpvLmVudW1UeXBlJiZvLmVudW1UeXBlLmxlbmd0aHx8KG8uZW51bVR5cGU9W10pLG8uZW51bVR5cGUucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDY6by5zZXJ2aWNlJiZvLnNlcnZpY2UubGVuZ3RofHwoby5zZXJ2aWNlPVtdKSxvLnNlcnZpY2UucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDc6by5leHRlbnNpb24mJm8uZXh0ZW5zaW9uLmxlbmd0aHx8KG8uZXh0ZW5zaW9uPVtdKSxvLmV4dGVuc2lvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDg6by5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgOTpvLnNvdXJjZUNvZGVJbmZvPWwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMTI6by5zeW50YXg9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LG0uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LG0udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFwLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrYWdlXCIpJiYhcC5pc1N0cmluZyhlLnBhY2thZ2UpKXJldHVyblwicGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXBlbmRlbmN5JiZlLmhhc093blByb3BlcnR5KFwiZGVwZW5kZW5jeVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5kZXBlbmRlbmN5KSlyZXR1cm5cImRlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmRlcGVuZGVuY3kubGVuZ3RoOysrdClpZighcC5pc1N0cmluZyhlLmRlcGVuZGVuY3lbdF0pKXJldHVyblwiZGVwZW5kZW5jeTogc3RyaW5nW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLnB1YmxpY0RlcGVuZGVuY3kmJmUuaGFzT3duUHJvcGVydHkoXCJwdWJsaWNEZXBlbmRlbmN5XCIpKXtpZighQXJyYXkuaXNBcnJheShlLnB1YmxpY0RlcGVuZGVuY3kpKXJldHVyblwicHVibGljRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK3QpaWYoIXAuaXNJbnRlZ2VyKGUucHVibGljRGVwZW5kZW5jeVt0XSkpcmV0dXJuXCJwdWJsaWNEZXBlbmRlbmN5OiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLndlYWtEZXBlbmRlbmN5JiZlLmhhc093blByb3BlcnR5KFwid2Vha0RlcGVuZGVuY3lcIikpe2lmKCFBcnJheS5pc0FycmF5KGUud2Vha0RlcGVuZGVuY3kpKXJldHVyblwid2Vha0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrdClpZighcC5pc0ludGVnZXIoZS53ZWFrRGVwZW5kZW5jeVt0XSkpcmV0dXJuXCJ3ZWFrRGVwZW5kZW5jeTogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5tZXNzYWdlVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VUeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm1lc3NhZ2VUeXBlKSlyZXR1cm5cIm1lc3NhZ2VUeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUubWVzc2FnZVR5cGVbdF0pKXJldHVyblwibWVzc2FnZVR5cGUuXCIrbn1pZihudWxsIT1lLmVudW1UeXBlJiZlLmhhc093blByb3BlcnR5KFwiZW51bVR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXJldHVyblwiZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZW51bVR5cGUubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZW51bVR5cGVbdF0pKXJldHVyblwiZW51bVR5cGUuXCIrbn1pZihudWxsIT1lLnNlcnZpY2UmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2aWNlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnNlcnZpY2UpKXJldHVyblwic2VydmljZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5zZXJ2aWNlLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLnNlcnZpY2VbdF0pKXJldHVyblwic2VydmljZS5cIitufWlmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5zaW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpcmV0dXJuXCJleHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZXh0ZW5zaW9uLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5leHRlbnNpb25bdF0pKXJldHVyblwiZXh0ZW5zaW9uLlwiK259dmFyIG47aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49bC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO2lmKG51bGwhPWUuc291cmNlQ29kZUluZm8mJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VDb2RlSW5mb1wiKSYmKG49bC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8udmVyaWZ5KGUuc291cmNlQ29kZUluZm8pKSlyZXR1cm5cInNvdXJjZUNvZGVJbmZvLlwiK247cmV0dXJuIG51bGwhPWUuc3ludGF4JiZlLmhhc093blByb3BlcnR5KFwic3ludGF4XCIpJiYhcC5pc1N0cmluZyhlLnN5bnRheCk/XCJzeW50YXg6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LG0uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUucGFja2FnZSYmKHQucGFja2FnZT1TdHJpbmcoZS5wYWNrYWdlKSksZS5kZXBlbmRlbmN5KXtpZighQXJyYXkuaXNBcnJheShlLmRlcGVuZGVuY3kpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5kZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiKTt0LmRlcGVuZGVuY3k9W107Zm9yKHZhciBuPTA7bjxlLmRlcGVuZGVuY3kubGVuZ3RoOysrbil0LmRlcGVuZGVuY3lbbl09U3RyaW5nKGUuZGVwZW5kZW5jeVtuXSl9aWYoZS5wdWJsaWNEZXBlbmRlbmN5KXtpZighQXJyYXkuaXNBcnJheShlLnB1YmxpY0RlcGVuZGVuY3kpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5wdWJsaWNEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiKTt0LnB1YmxpY0RlcGVuZGVuY3k9W107Zm9yKG49MDtuPGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQucHVibGljRGVwZW5kZW5jeVtuXT0wfGUucHVibGljRGVwZW5kZW5jeVtuXX1pZihlLndlYWtEZXBlbmRlbmN5KXtpZighQXJyYXkuaXNBcnJheShlLndlYWtEZXBlbmRlbmN5KSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ud2Vha0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCIpO3Qud2Vha0RlcGVuZGVuY3k9W107Zm9yKG49MDtuPGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LndlYWtEZXBlbmRlbmN5W25dPTB8ZS53ZWFrRGVwZW5kZW5jeVtuXX1pZihlLm1lc3NhZ2VUeXBlKXtpZighQXJyYXkuaXNBcnJheShlLm1lc3NhZ2VUeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ubWVzc2FnZVR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QubWVzc2FnZVR5cGU9W107Zm9yKG49MDtuPGUubWVzc2FnZVR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubWVzc2FnZVR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLm1lc3NhZ2VUeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5tZXNzYWdlVHlwZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm1lc3NhZ2VUeXBlW25dKX19aWYoZS5lbnVtVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0LmVudW1UeXBlPVtdO2ZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmVudW1UeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZW51bVR5cGVbbl09bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZW51bVR5cGVbbl0pfX1pZihlLnNlcnZpY2Upe2lmKCFBcnJheS5pc0FycmF5KGUuc2VydmljZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnNlcnZpY2U6IGFycmF5IGV4cGVjdGVkXCIpO3Quc2VydmljZT1bXTtmb3Iobj0wO248ZS5zZXJ2aWNlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnNlcnZpY2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnNlcnZpY2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnNlcnZpY2Vbbl09bC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuc2VydmljZVtuXSl9fWlmKGUuZXh0ZW5zaW9uKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5leHRlbnNpb249W107Zm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmV4dGVuc2lvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25bbl09bC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmV4dGVuc2lvbltuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9aWYobnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuc291cmNlQ29kZUluZm8pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnNvdXJjZUNvZGVJbmZvOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5zb3VyY2VDb2RlSW5mbz1sLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5mcm9tT2JqZWN0KGUuc291cmNlQ29kZUluZm8pfXJldHVybiBudWxsIT1lLnN5bnRheCYmKHQuc3ludGF4PVN0cmluZyhlLnN5bnRheCkpLHR9LG0udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmRlcGVuZGVuY3k9W10sbi5tZXNzYWdlVHlwZT1bXSxuLmVudW1UeXBlPVtdLG4uc2VydmljZT1bXSxuLmV4dGVuc2lvbj1bXSxuLnB1YmxpY0RlcGVuZGVuY3k9W10sbi53ZWFrRGVwZW5kZW5jeT1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ucGFja2FnZT1cIlwiLG4ub3B0aW9ucz1udWxsLG4uc291cmNlQ29kZUluZm89bnVsbCxuLnN5bnRheD1cIlwiKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5wYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicGFja2FnZVwiKSYmKG4ucGFja2FnZT1lLnBhY2thZ2UpLGUuZGVwZW5kZW5jeSYmZS5kZXBlbmRlbmN5Lmxlbmd0aCl7bi5kZXBlbmRlbmN5PVtdO2Zvcih2YXIgbz0wO288ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK28pbi5kZXBlbmRlbmN5W29dPWUuZGVwZW5kZW5jeVtvXX1pZihlLm1lc3NhZ2VUeXBlJiZlLm1lc3NhZ2VUeXBlLmxlbmd0aCl7bi5tZXNzYWdlVHlwZT1bXTtmb3Iobz0wO288ZS5tZXNzYWdlVHlwZS5sZW5ndGg7KytvKW4ubWVzc2FnZVR5cGVbb109bC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUubWVzc2FnZVR5cGVbb10sdCl9aWYoZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpe24uZW51bVR5cGU9W107Zm9yKG89MDtvPGUuZW51bVR5cGUubGVuZ3RoOysrbyluLmVudW1UeXBlW29dPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5lbnVtVHlwZVtvXSx0KX1pZihlLnNlcnZpY2UmJmUuc2VydmljZS5sZW5ndGgpe24uc2VydmljZT1bXTtmb3Iobz0wO288ZS5zZXJ2aWNlLmxlbmd0aDsrK28pbi5zZXJ2aWNlW29dPWwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5zZXJ2aWNlW29dLHQpfWlmKGUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpe24uZXh0ZW5zaW9uPVtdO2ZvcihvPTA7bzxlLmV4dGVuc2lvbi5sZW5ndGg7KytvKW4uZXh0ZW5zaW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZXh0ZW5zaW9uW29dLHQpfWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxudWxsIT1lLnNvdXJjZUNvZGVJbmZvJiZlLmhhc093blByb3BlcnR5KFwic291cmNlQ29kZUluZm9cIikmJihuLnNvdXJjZUNvZGVJbmZvPWwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLnRvT2JqZWN0KGUuc291cmNlQ29kZUluZm8sdCkpLGUucHVibGljRGVwZW5kZW5jeSYmZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aCl7bi5wdWJsaWNEZXBlbmRlbmN5PVtdO2ZvcihvPTA7bzxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrbyluLnB1YmxpY0RlcGVuZGVuY3lbb109ZS5wdWJsaWNEZXBlbmRlbmN5W29dfWlmKGUud2Vha0RlcGVuZGVuY3kmJmUud2Vha0RlcGVuZGVuY3kubGVuZ3RoKXtuLndlYWtEZXBlbmRlbmN5PVtdO2ZvcihvPTA7bzxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK28pbi53ZWFrRGVwZW5kZW5jeVtvXT1lLndlYWtEZXBlbmRlbmN5W29dfXJldHVybiBudWxsIT1lLnN5bnRheCYmZS5oYXNPd25Qcm9wZXJ0eShcInN5bnRheFwiKSYmKG4uc3ludGF4PWUuc3ludGF4KSxufSxtLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sbSksbi5EZXNjcmlwdG9yUHJvdG89KE8ucHJvdG90eXBlLm5hbWU9XCJcIixPLnByb3RvdHlwZS5maWVsZD1wLmVtcHR5QXJyYXksTy5wcm90b3R5cGUuZXh0ZW5zaW9uPXAuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5uZXN0ZWRUeXBlPXAuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5lbnVtVHlwZT1wLmVtcHR5QXJyYXksTy5wcm90b3R5cGUuZXh0ZW5zaW9uUmFuZ2U9cC5lbXB0eUFycmF5LE8ucHJvdG90eXBlLm9uZW9mRGVjbD1wLmVtcHR5QXJyYXksTy5wcm90b3R5cGUub3B0aW9ucz1udWxsLE8ucHJvdG90eXBlLnJlc2VydmVkUmFuZ2U9cC5lbXB0eUFycmF5LE8ucHJvdG90eXBlLnJlc2VydmVkTmFtZT1wLmVtcHR5QXJyYXksTy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBPKGUpfSxPLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5maWVsZCYmZS5maWVsZC5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmZpZWxkLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZmllbGRbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5uZXN0ZWRUeXBlJiZlLm5lc3RlZFR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLm5lc3RlZFR5cGUubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUubmVzdGVkVHlwZVtuXSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aClmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZW51bVR5cGVbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5leHRlbnNpb25SYW5nZSYmZS5leHRlbnNpb25SYW5nZS5sZW5ndGgpZm9yKG49MDtuPGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuZW5jb2RlKGUuZXh0ZW5zaW9uUmFuZ2Vbbl0sdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aClmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5leHRlbnNpb25bbl0sdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmbC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLm9uZW9mRGVjbCYmZS5vbmVvZkRlY2wubGVuZ3RoKWZvcihuPTA7bjxlLm9uZW9mRGVjbC5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm9uZW9mRGVjbFtuXSx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLmVuY29kZShlLnJlc2VydmVkUmFuZ2Vbbl0sdC51aW50MzIoNzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnVpbnQzMig4Mikuc3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKTtyZXR1cm4gdH0sTy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmZpZWxkJiZvLmZpZWxkLmxlbmd0aHx8KG8uZmllbGQ9W10pLG8uZmllbGQucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA2Om8uZXh0ZW5zaW9uJiZvLmV4dGVuc2lvbi5sZW5ndGh8fChvLmV4dGVuc2lvbj1bXSksby5leHRlbnNpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8ubmVzdGVkVHlwZSYmby5uZXN0ZWRUeXBlLmxlbmd0aHx8KG8ubmVzdGVkVHlwZT1bXSksby5uZXN0ZWRUeXBlLnB1c2gobC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDQ6by5lbnVtVHlwZSYmby5lbnVtVHlwZS5sZW5ndGh8fChvLmVudW1UeXBlPVtdKSxvLmVudW1UeXBlLnB1c2gobC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA1Om8uZXh0ZW5zaW9uUmFuZ2UmJm8uZXh0ZW5zaW9uUmFuZ2UubGVuZ3RofHwoby5leHRlbnNpb25SYW5nZT1bXSksby5leHRlbnNpb25SYW5nZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA4Om8ub25lb2ZEZWNsJiZvLm9uZW9mRGVjbC5sZW5ndGh8fChvLm9uZW9mRGVjbD1bXSksby5vbmVvZkRlY2wucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA3Om8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDk6by5yZXNlcnZlZFJhbmdlJiZvLnJlc2VydmVkUmFuZ2UubGVuZ3RofHwoby5yZXNlcnZlZFJhbmdlPVtdKSxvLnJlc2VydmVkUmFuZ2UucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMDpvLnJlc2VydmVkTmFtZSYmby5yZXNlcnZlZE5hbWUubGVuZ3RofHwoby5yZXNlcnZlZE5hbWU9W10pLG8ucmVzZXJ2ZWROYW1lLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxPLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxPLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhcC5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5maWVsZCYmZS5oYXNPd25Qcm9wZXJ0eShcImZpZWxkXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmZpZWxkKSlyZXR1cm5cImZpZWxkOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5maWVsZC5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZmllbGRbdF0pKXJldHVyblwiZmllbGQuXCIrbn1pZihudWxsIT1lLmV4dGVuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuc2lvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXJldHVyblwiZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmV4dGVuc2lvbi5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZXh0ZW5zaW9uW3RdKSlyZXR1cm5cImV4dGVuc2lvbi5cIitufWlmKG51bGwhPWUubmVzdGVkVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5lc3RlZFR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubmVzdGVkVHlwZSkpcmV0dXJuXCJuZXN0ZWRUeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLm5lc3RlZFR5cGUubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5uZXN0ZWRUeXBlW3RdKSlyZXR1cm5cIm5lc3RlZFR5cGUuXCIrbn1pZihudWxsIT1lLmVudW1UeXBlJiZlLmhhc093blByb3BlcnR5KFwiZW51bVR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXJldHVyblwiZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZW51bVR5cGUubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZW51bVR5cGVbdF0pKXJldHVyblwiZW51bVR5cGUuXCIrbn1pZihudWxsIT1lLmV4dGVuc2lvblJhbmdlJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5zaW9uUmFuZ2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uUmFuZ2UpKXJldHVyblwiZXh0ZW5zaW9uUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS52ZXJpZnkoZS5leHRlbnNpb25SYW5nZVt0XSkpcmV0dXJuXCJleHRlbnNpb25SYW5nZS5cIitufWlmKG51bGwhPWUub25lb2ZEZWNsJiZlLmhhc093blByb3BlcnR5KFwib25lb2ZEZWNsXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm9uZW9mRGVjbCkpcmV0dXJuXCJvbmVvZkRlY2w6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUub25lb2ZEZWNsLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5vbmVvZkRlY2xbdF0pKXJldHVyblwib25lb2ZEZWNsLlwiK259aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49bC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO2lmKG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkUmFuZ2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbix0PTA7dDxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLnZlcmlmeShlLnJlc2VydmVkUmFuZ2VbdF0pKXJldHVyblwicmVzZXJ2ZWRSYW5nZS5cIitufWlmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWROYW1lXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZS5yZXNlcnZlZE5hbWVbdF0pKXJldHVyblwicmVzZXJ2ZWROYW1lOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxPLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksZS5maWVsZCl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWVsZCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZmllbGQ6IGFycmF5IGV4cGVjdGVkXCIpO3QuZmllbGQ9W107Zm9yKHZhciBuPTA7bjxlLmZpZWxkLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmZpZWxkW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZpZWxkOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5maWVsZFtuXT1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZmllbGRbbl0pfX1pZihlLmV4dGVuc2lvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5leHRlbnNpb249W107Zm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmV4dGVuc2lvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZXh0ZW5zaW9uW25dKX19aWYoZS5uZXN0ZWRUeXBlKXtpZighQXJyYXkuaXNBcnJheShlLm5lc3RlZFR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm5lc3RlZFR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QubmVzdGVkVHlwZT1bXTtmb3Iobj0wO248ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm5lc3RlZFR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ubmVzdGVkVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QubmVzdGVkVHlwZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm5lc3RlZFR5cGVbbl0pfX1pZihlLmVudW1UeXBlKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZT1bXTtmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5lbnVtVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZW51bVR5cGVbbl09bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZW51bVR5cGVbbl0pfX1pZihlLmV4dGVuc2lvblJhbmdlKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvblJhbmdlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb25SYW5nZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25SYW5nZT1bXTtmb3Iobj0wO248ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5leHRlbnNpb25SYW5nZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb25SYW5nZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uUmFuZ2Vbbl09bC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLmZyb21PYmplY3QoZS5leHRlbnNpb25SYW5nZVtuXSl9fWlmKGUub25lb2ZEZWNsKXtpZighQXJyYXkuaXNBcnJheShlLm9uZW9mRGVjbCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ub25lb2ZEZWNsOiBhcnJheSBleHBlY3RlZFwiKTt0Lm9uZW9mRGVjbD1bXTtmb3Iobj0wO248ZS5vbmVvZkRlY2wubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub25lb2ZEZWNsW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm9uZW9mRGVjbDogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub25lb2ZEZWNsW25dPWwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5vbmVvZkRlY2xbbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9aWYoZS5yZXNlcnZlZFJhbmdlKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJlc2VydmVkUmFuZ2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5mcm9tT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtuXSl9fWlmKGUucmVzZXJ2ZWROYW1lKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkTmFtZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnJlc2VydmVkTmFtZVtuXT1TdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pfXJldHVybiB0fSxPLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5maWVsZD1bXSxuLm5lc3RlZFR5cGU9W10sbi5lbnVtVHlwZT1bXSxuLmV4dGVuc2lvblJhbmdlPVtdLG4uZXh0ZW5zaW9uPVtdLG4ub25lb2ZEZWNsPVtdLG4ucmVzZXJ2ZWRSYW5nZT1bXSxuLnJlc2VydmVkTmFtZT1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksZS5maWVsZCYmZS5maWVsZC5sZW5ndGgpe24uZmllbGQ9W107Zm9yKHZhciBvPTA7bzxlLmZpZWxkLmxlbmd0aDsrK28pbi5maWVsZFtvXT1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLmZpZWxkW29dLHQpfWlmKGUubmVzdGVkVHlwZSYmZS5uZXN0ZWRUeXBlLmxlbmd0aCl7bi5uZXN0ZWRUeXBlPVtdO2ZvcihvPTA7bzxlLm5lc3RlZFR5cGUubGVuZ3RoOysrbyluLm5lc3RlZFR5cGVbb109bC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUubmVzdGVkVHlwZVtvXSx0KX1pZihlLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aCl7bi5lbnVtVHlwZT1bXTtmb3Iobz0wO288ZS5lbnVtVHlwZS5sZW5ndGg7KytvKW4uZW51bVR5cGVbb109bC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by50b09iamVjdChlLmVudW1UeXBlW29dLHQpfWlmKGUuZXh0ZW5zaW9uUmFuZ2UmJmUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoKXtuLmV4dGVuc2lvblJhbmdlPVtdO2ZvcihvPTA7bzxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK28pbi5leHRlbnNpb25SYW5nZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UudG9PYmplY3QoZS5leHRlbnNpb25SYW5nZVtvXSx0KX1pZihlLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKXtuLmV4dGVuc2lvbj1bXTtmb3Iobz0wO288ZS5leHRlbnNpb24ubGVuZ3RoOysrbyluLmV4dGVuc2lvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLmV4dGVuc2lvbltvXSx0KX1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksZS5vbmVvZkRlY2wmJmUub25lb2ZEZWNsLmxlbmd0aCl7bi5vbmVvZkRlY2w9W107Zm9yKG89MDtvPGUub25lb2ZEZWNsLmxlbmd0aDsrK28pbi5vbmVvZkRlY2xbb109bC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5vbmVvZkRlY2xbb10sdCl9aWYoZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKXtuLnJlc2VydmVkUmFuZ2U9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWRSYW5nZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS50b09iamVjdChlLnJlc2VydmVkUmFuZ2Vbb10sdCl9aWYoZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aCl7bi5yZXNlcnZlZE5hbWU9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK28pbi5yZXNlcnZlZE5hbWVbb109ZS5yZXNlcnZlZE5hbWVbb119cmV0dXJuIG59LE8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxPLkV4dGVuc2lvblJhbmdlPSh2LnByb3RvdHlwZS5zdGFydD0wLHYucHJvdG90eXBlLmVuZD0wLHYucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx2LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHYoZSl9LHYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnN0YXJ0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RhcnRcIikmJnQudWludDMyKDgpLmludDMyKGUuc3RhcnQpLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5lbmQpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmwuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LHYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnN0YXJ0PWUuaW50MzIoKTticmVhaztjYXNlIDI6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYhcC5pc0ludGVnZXIoZS5zdGFydCkpcmV0dXJuXCJzdGFydDogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhcC5pc0ludGVnZXIoZS5lbmQpKXJldHVyblwiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7ZT1sLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0sdi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZTtpZihudWxsIT1lLnN0YXJ0JiYodC5zdGFydD0wfGUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sdi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uc3RhcnQ9MCxuLmVuZD0wLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJihuLnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sdi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHYpLE8uUmVzZXJ2ZWRSYW5nZT0oWS5wcm90b3R5cGUuc3RhcnQ9MCxZLnByb3RvdHlwZS5lbmQ9MCxZLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFkoZSl9LFkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnN0YXJ0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RhcnRcIikmJnQudWludDMyKDgpLmludDMyKGUuc3RhcnQpLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5lbmQpLHR9LFkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc3RhcnQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLmVuZD1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxZLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxZLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJiFwLmlzSW50ZWdlcihlLnN0YXJ0KT9cInN0YXJ0OiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiFwLmlzSW50ZWdlcihlLmVuZCk/XCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxZLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZT9lOih0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZSxudWxsIT1lLnN0YXJ0JiYodC5zdGFydD0wfGUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksdCl9LFkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnN0YXJ0PTAsbi5lbmQ9MCksbnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYobi5zdGFydD1lLnN0YXJ0KSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxufSxZLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sWSksTyksbi5FeHRlbnNpb25SYW5nZU9wdGlvbnM9KHoucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249cC5lbXB0eUFycmF5LHouY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeihlKX0sei5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LHouZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHouZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09OTk5PyhvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LHouZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHoudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LHouZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnM7aWYoZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSx6LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sei5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHopLG4uRmllbGREZXNjcmlwdG9yUHJvdG89KFAucHJvdG90eXBlLm5hbWU9XCJcIixQLnByb3RvdHlwZS5udW1iZXI9MCxQLnByb3RvdHlwZS5sYWJlbD0xLFAucHJvdG90eXBlLnR5cGU9MSxQLnByb3RvdHlwZS50eXBlTmFtZT1cIlwiLFAucHJvdG90eXBlLmV4dGVuZGVlPVwiXCIsUC5wcm90b3R5cGUuZGVmYXVsdFZhbHVlPVwiXCIsUC5wcm90b3R5cGUub25lb2ZJbmRleD0wLFAucHJvdG90eXBlLmpzb25OYW1lPVwiXCIsUC5wcm90b3R5cGUub3B0aW9ucz1udWxsLFAucHJvdG90eXBlLnByb3RvM09wdGlvbmFsPSExLFAuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUChlKX0sUC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmV4dGVuZGVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXh0ZW5kZWVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5leHRlbmRlZSksbnVsbCE9ZS5udW1iZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJudW1iZXJcIikmJnQudWludDMyKDI0KS5pbnQzMihlLm51bWJlciksbnVsbCE9ZS5sYWJlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxhYmVsXCIpJiZ0LnVpbnQzMigzMikuaW50MzIoZS5sYWJlbCksbnVsbCE9ZS50eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHlwZVwiKSYmdC51aW50MzIoNDApLmludDMyKGUudHlwZSksbnVsbCE9ZS50eXBlTmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVOYW1lXCIpJiZ0LnVpbnQzMig1MCkuc3RyaW5nKGUudHlwZU5hbWUpLG51bGwhPWUuZGVmYXVsdFZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFZhbHVlXCIpJiZ0LnVpbnQzMig1OCkuc3RyaW5nKGUuZGVmYXVsdFZhbHVlKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLm9uZW9mSW5kZXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvbmVvZkluZGV4XCIpJiZ0LnVpbnQzMig3MikuaW50MzIoZS5vbmVvZkluZGV4KSxudWxsIT1lLmpzb25OYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwianNvbk5hbWVcIikmJnQudWludDMyKDgyKS5zdHJpbmcoZS5qc29uTmFtZSksbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInByb3RvM09wdGlvbmFsXCIpJiZ0LnVpbnQzMigxMzYpLmJvb2woZS5wcm90bzNPcHRpb25hbCksdH0sUC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ubnVtYmVyPWUuaW50MzIoKTticmVhaztjYXNlIDQ6by5sYWJlbD1lLmludDMyKCk7YnJlYWs7Y2FzZSA1Om8udHlwZT1lLmludDMyKCk7YnJlYWs7Y2FzZSA2Om8udHlwZU5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5leHRlbmRlZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNzpvLmRlZmF1bHRWYWx1ZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgOTpvLm9uZW9mSW5kZXg9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMTA6by5qc29uTmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgODpvLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMTc6by5wcm90bzNPcHRpb25hbD1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFAuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFAudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFwLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmIXAuaXNJbnRlZ2VyKGUubnVtYmVyKSlyZXR1cm5cIm51bWJlcjogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUubGFiZWwmJmUuaGFzT3duUHJvcGVydHkoXCJsYWJlbFwiKSlzd2l0Y2goZS5sYWJlbCl7ZGVmYXVsdDpyZXR1cm5cImxhYmVsOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6fWlmKG51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpc3dpdGNoKGUudHlwZSl7ZGVmYXVsdDpyZXR1cm5cInR5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNjpjYXNlIDc6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMTE6Y2FzZSAxMjpjYXNlIDEzOmNhc2UgMTQ6Y2FzZSAxNTpjYXNlIDE2OmNhc2UgMTc6Y2FzZSAxODp9aWYobnVsbCE9ZS50eXBlTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVOYW1lXCIpJiYhcC5pc1N0cmluZyhlLnR5cGVOYW1lKSlyZXR1cm5cInR5cGVOYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmV4dGVuZGVlJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5kZWVcIikmJiFwLmlzU3RyaW5nKGUuZXh0ZW5kZWUpKXJldHVyblwiZXh0ZW5kZWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVmYXVsdFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFZhbHVlXCIpJiYhcC5pc1N0cmluZyhlLmRlZmF1bHRWYWx1ZSkpcmV0dXJuXCJkZWZhdWx0VmFsdWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub25lb2ZJbmRleCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9uZW9mSW5kZXhcIikmJiFwLmlzSW50ZWdlcihlLm9uZW9mSW5kZXgpKXJldHVyblwib25lb2ZJbmRleDogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUuanNvbk5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqc29uTmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5qc29uTmFtZSkpcmV0dXJuXCJqc29uTmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7dmFyIHQ9bC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKHQpcmV0dXJuXCJvcHRpb25zLlwiK3R9cmV0dXJuIG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJmUuaGFzT3duUHJvcGVydHkoXCJwcm90bzNPcHRpb25hbFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnByb3RvM09wdGlvbmFsP1wicHJvdG8zT3B0aW9uYWw6IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsfSxQLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90bztzd2l0Y2gobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLm51bWJlciYmKHQubnVtYmVyPTB8ZS5udW1iZXIpLGUubGFiZWwpe2Nhc2VcIkxBQkVMX09QVElPTkFMXCI6Y2FzZSAxOnQubGFiZWw9MTticmVhaztjYXNlXCJMQUJFTF9SRVFVSVJFRFwiOmNhc2UgMjp0LmxhYmVsPTI7YnJlYWs7Y2FzZVwiTEFCRUxfUkVQRUFURURcIjpjYXNlIDM6dC5sYWJlbD0zfXN3aXRjaChlLnR5cGUpe2Nhc2VcIlRZUEVfRE9VQkxFXCI6Y2FzZSAxOnQudHlwZT0xO2JyZWFrO2Nhc2VcIlRZUEVfRkxPQVRcIjpjYXNlIDI6dC50eXBlPTI7YnJlYWs7Y2FzZVwiVFlQRV9JTlQ2NFwiOmNhc2UgMzp0LnR5cGU9MzticmVhaztjYXNlXCJUWVBFX1VJTlQ2NFwiOmNhc2UgNDp0LnR5cGU9NDticmVhaztjYXNlXCJUWVBFX0lOVDMyXCI6Y2FzZSA1OnQudHlwZT01O2JyZWFrO2Nhc2VcIlRZUEVfRklYRUQ2NFwiOmNhc2UgNjp0LnR5cGU9NjticmVhaztjYXNlXCJUWVBFX0ZJWEVEMzJcIjpjYXNlIDc6dC50eXBlPTc7YnJlYWs7Y2FzZVwiVFlQRV9CT09MXCI6Y2FzZSA4OnQudHlwZT04O2JyZWFrO2Nhc2VcIlRZUEVfU1RSSU5HXCI6Y2FzZSA5OnQudHlwZT05O2JyZWFrO2Nhc2VcIlRZUEVfR1JPVVBcIjpjYXNlIDEwOnQudHlwZT0xMDticmVhaztjYXNlXCJUWVBFX01FU1NBR0VcIjpjYXNlIDExOnQudHlwZT0xMTticmVhaztjYXNlXCJUWVBFX0JZVEVTXCI6Y2FzZSAxMjp0LnR5cGU9MTI7YnJlYWs7Y2FzZVwiVFlQRV9VSU5UMzJcIjpjYXNlIDEzOnQudHlwZT0xMzticmVhaztjYXNlXCJUWVBFX0VOVU1cIjpjYXNlIDE0OnQudHlwZT0xNDticmVhaztjYXNlXCJUWVBFX1NGSVhFRDMyXCI6Y2FzZSAxNTp0LnR5cGU9MTU7YnJlYWs7Y2FzZVwiVFlQRV9TRklYRUQ2NFwiOmNhc2UgMTY6dC50eXBlPTE2O2JyZWFrO2Nhc2VcIlRZUEVfU0lOVDMyXCI6Y2FzZSAxNzp0LnR5cGU9MTc7YnJlYWs7Y2FzZVwiVFlQRV9TSU5UNjRcIjpjYXNlIDE4OnQudHlwZT0xOH1pZihudWxsIT1lLnR5cGVOYW1lJiYodC50eXBlTmFtZT1TdHJpbmcoZS50eXBlTmFtZSkpLG51bGwhPWUuZXh0ZW5kZWUmJih0LmV4dGVuZGVlPVN0cmluZyhlLmV4dGVuZGVlKSksbnVsbCE9ZS5kZWZhdWx0VmFsdWUmJih0LmRlZmF1bHRWYWx1ZT1TdHJpbmcoZS5kZWZhdWx0VmFsdWUpKSxudWxsIT1lLm9uZW9mSW5kZXgmJih0Lm9uZW9mSW5kZXg9MHxlLm9uZW9mSW5kZXgpLG51bGwhPWUuanNvbk5hbWUmJih0Lmpzb25OYW1lPVN0cmluZyhlLmpzb25OYW1lKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiBudWxsIT1lLnByb3RvM09wdGlvbmFsJiYodC5wcm90bzNPcHRpb25hbD1Cb29sZWFuKGUucHJvdG8zT3B0aW9uYWwpKSx0fSxQLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5leHRlbmRlZT1cIlwiLG4ubnVtYmVyPTAsbi5sYWJlbD10LmVudW1zPT09U3RyaW5nP1wiTEFCRUxfT1BUSU9OQUxcIjoxLG4udHlwZT10LmVudW1zPT09U3RyaW5nP1wiVFlQRV9ET1VCTEVcIjoxLG4udHlwZU5hbWU9XCJcIixuLmRlZmF1bHRWYWx1ZT1cIlwiLG4ub3B0aW9ucz1udWxsLG4ub25lb2ZJbmRleD0wLG4uanNvbk5hbWU9XCJcIixuLnByb3RvM09wdGlvbmFsPSExKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5leHRlbmRlZSYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuZGVlXCIpJiYobi5leHRlbmRlZT1lLmV4dGVuZGVlKSxudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmKG4ubnVtYmVyPWUubnVtYmVyKSxudWxsIT1lLmxhYmVsJiZlLmhhc093blByb3BlcnR5KFwibGFiZWxcIikmJihuLmxhYmVsPXQuZW51bXM9PT1TdHJpbmc/bC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uTGFiZWxbZS5sYWJlbF06ZS5sYWJlbCksbnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmKG4udHlwZT10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGVbZS50eXBlXTplLnR5cGUpLG51bGwhPWUudHlwZU5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlTmFtZVwiKSYmKG4udHlwZU5hbWU9ZS50eXBlTmFtZSksbnVsbCE9ZS5kZWZhdWx0VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikmJihuLmRlZmF1bHRWYWx1ZT1lLmRlZmF1bHRWYWx1ZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxudWxsIT1lLm9uZW9mSW5kZXgmJmUuaGFzT3duUHJvcGVydHkoXCJvbmVvZkluZGV4XCIpJiYobi5vbmVvZkluZGV4PWUub25lb2ZJbmRleCksbnVsbCE9ZS5qc29uTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzb25OYW1lXCIpJiYobi5qc29uTmFtZT1lLmpzb25OYW1lKSxudWxsIT1lLnByb3RvM09wdGlvbmFsJiZlLmhhc093blByb3BlcnR5KFwicHJvdG8zT3B0aW9uYWxcIikmJihuLnByb3RvM09wdGlvbmFsPWUucHJvdG8zT3B0aW9uYWwpLG59LFAucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxQLlR5cGU9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVsxXT1cIlRZUEVfRE9VQkxFXCJdPTEsdFtlWzJdPVwiVFlQRV9GTE9BVFwiXT0yLHRbZVszXT1cIlRZUEVfSU5UNjRcIl09Myx0W2VbNF09XCJUWVBFX1VJTlQ2NFwiXT00LHRbZVs1XT1cIlRZUEVfSU5UMzJcIl09NSx0W2VbNl09XCJUWVBFX0ZJWEVENjRcIl09Nix0W2VbN109XCJUWVBFX0ZJWEVEMzJcIl09Nyx0W2VbOF09XCJUWVBFX0JPT0xcIl09OCx0W2VbOV09XCJUWVBFX1NUUklOR1wiXT05LHRbZVsxMF09XCJUWVBFX0dST1VQXCJdPTEwLHRbZVsxMV09XCJUWVBFX01FU1NBR0VcIl09MTEsdFtlWzEyXT1cIlRZUEVfQllURVNcIl09MTIsdFtlWzEzXT1cIlRZUEVfVUlOVDMyXCJdPTEzLHRbZVsxNF09XCJUWVBFX0VOVU1cIl09MTQsdFtlWzE1XT1cIlRZUEVfU0ZJWEVEMzJcIl09MTUsdFtlWzE2XT1cIlRZUEVfU0ZJWEVENjRcIl09MTYsdFtlWzE3XT1cIlRZUEVfU0lOVDMyXCJdPTE3LHRbZVsxOF09XCJUWVBFX1NJTlQ2NFwiXT0xOCx0KSxQLkxhYmVsPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMV09XCJMQUJFTF9PUFRJT05BTFwiXT0xLHRbZVsyXT1cIkxBQkVMX1JFUVVJUkVEXCJdPTIsdFtlWzNdPVwiTEFCRUxfUkVQRUFURURcIl09Myx0KSxQKSxuLk9uZW9mRGVzY3JpcHRvclByb3RvPShXLnByb3RvdHlwZS5uYW1lPVwiXCIsVy5wcm90b3R5cGUub3B0aW9ucz1udWxsLFcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVyhlKX0sVy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKSx0fSxXLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxXLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFcuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFcudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFwLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPWwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZihlKXJldHVyblwib3B0aW9ucy5cIitlfXJldHVybiBudWxsfSxXLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sVy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSxXLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sVyksbi5FbnVtRGVzY3JpcHRvclByb3RvPSh3LnByb3RvdHlwZS5uYW1lPVwiXCIsdy5wcm90b3R5cGUudmFsdWU9cC5lbXB0eUFycmF5LHcucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx3LnByb3RvdHlwZS5yZXNlcnZlZFJhbmdlPXAuZW1wdHlBcnJheSx3LnByb3RvdHlwZS5yZXNlcnZlZE5hbWU9cC5lbXB0eUFycmF5LHcuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdyhlKX0sdy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUudmFsdWUmJmUudmFsdWUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS52YWx1ZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS52YWx1ZVtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5lbmNvZGUoZS5yZXNlcnZlZFJhbmdlW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC51aW50MzIoNDIpLnN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSk7cmV0dXJuIHR9LHcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8udmFsdWUmJm8udmFsdWUubGVuZ3RofHwoby52YWx1ZT1bXSksby52YWx1ZS5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDQ6by5yZXNlcnZlZFJhbmdlJiZvLnJlc2VydmVkUmFuZ2UubGVuZ3RofHwoby5yZXNlcnZlZFJhbmdlPVtdKSxvLnJlc2VydmVkUmFuZ2UucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDU6by5yZXNlcnZlZE5hbWUmJm8ucmVzZXJ2ZWROYW1lLmxlbmd0aHx8KG8ucmVzZXJ2ZWROYW1lPVtdKSxvLnJlc2VydmVkTmFtZS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS52YWx1ZSkpcmV0dXJuXCJ2YWx1ZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudmFsdWUubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS52YWx1ZVt0XSkpcmV0dXJuXCJ2YWx1ZS5cIitufWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtpZihudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZFJhbmdlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXJldHVyblwicmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sdD0wO3Q8ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLnZlcmlmeShlLnJlc2VydmVkUmFuZ2VbdF0pKXJldHVyblwicmVzZXJ2ZWRSYW5nZS5cIitufWlmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWROYW1lXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZS5yZXNlcnZlZE5hbWVbdF0pKXJldHVyblwicmVzZXJ2ZWROYW1lOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSx3LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLnZhbHVlKXtpZighQXJyYXkuaXNBcnJheShlLnZhbHVlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmFsdWU6IGFycmF5IGV4cGVjdGVkXCIpO3QudmFsdWU9W107Zm9yKHZhciBuPTA7bjxlLnZhbHVlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnZhbHVlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52YWx1ZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QudmFsdWVbbl09bC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS52YWx1ZVtuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9aWYoZS5yZXNlcnZlZFJhbmdlKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2U9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5yZXNlcnZlZFJhbmdlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlW25dPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuZnJvbU9iamVjdChlLnJlc2VydmVkUmFuZ2Vbbl0pfX1pZihlLnJlc2VydmVkTmFtZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5yZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWROYW1lPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQucmVzZXJ2ZWROYW1lW25dPVN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSl9cmV0dXJuIHR9LHcudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnZhbHVlPVtdLG4ucmVzZXJ2ZWRSYW5nZT1bXSxuLnJlc2VydmVkTmFtZT1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksZS52YWx1ZSYmZS52YWx1ZS5sZW5ndGgpe24udmFsdWU9W107Zm9yKHZhciBvPTA7bzxlLnZhbHVlLmxlbmd0aDsrK28pbi52YWx1ZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS52YWx1ZVtvXSx0KX1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKXtuLnJlc2VydmVkUmFuZ2U9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWRSYW5nZVtvXT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLnRvT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtvXSx0KX1pZihlLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKXtuLnJlc2VydmVkTmFtZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbyluLnJlc2VydmVkTmFtZVtvXT1lLnJlc2VydmVkTmFtZVtvXX1yZXR1cm4gbn0sdy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHcuRW51bVJlc2VydmVkUmFuZ2U9KFgucHJvdG90eXBlLnN0YXJ0PTAsWC5wcm90b3R5cGUuZW5kPTAsWC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBYKGUpfSxYLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5zdGFydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0YXJ0XCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnN0YXJ0KSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMTYpLmludDMyKGUuZW5kKSx0fSxYLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxYLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc3RhcnQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLmVuZD1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxYLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxYLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJiFwLmlzSW50ZWdlcihlLnN0YXJ0KT9cInN0YXJ0OiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiFwLmlzSW50ZWdlcihlLmVuZCk/XCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxYLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlP2U6KHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UsbnVsbCE9ZS5zdGFydCYmKHQuc3RhcnQ9MHxlLnN0YXJ0KSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLHQpfSxYLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5zdGFydD0wLG4uZW5kPTApLG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmKG4uc3RhcnQ9ZS5zdGFydCksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbn0sWC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFgpLHcpLG4uRW51bVZhbHVlRGVzY3JpcHRvclByb3RvPShqLnByb3RvdHlwZS5uYW1lPVwiXCIsai5wcm90b3R5cGUubnVtYmVyPTAsai5wcm90b3R5cGUub3B0aW9ucz1udWxsLGouY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaihlKX0sai5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm51bWJlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm51bWJlclwiKSYmdC51aW50MzIoMTYpLmludDMyKGUubnVtYmVyKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sai5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sai5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm51bWJlcj1lLmludDMyKCk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sai5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sai52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYhcC5pc0ludGVnZXIoZS5udW1iZXIpKXJldHVyblwibnVtYmVyOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7ZT1sLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LGouZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLm51bWJlciYmKHQubnVtYmVyPTB8ZS5udW1iZXIpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSxqLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5udW1iZXI9MCxuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYobi5udW1iZXI9ZS5udW1iZXIpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LGoucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxqKSxuLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG89KEQucHJvdG90eXBlLm5hbWU9XCJcIixELnByb3RvdHlwZS5tZXRob2Q9cC5lbXB0eUFycmF5LEQucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxELmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEQoZSl9LEQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLm1ldGhvZCYmZS5tZXRob2QubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5tZXRob2QubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUubWV0aG9kW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZsLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LEQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubWV0aG9kJiZvLm1ldGhvZC5sZW5ndGh8fChvLm1ldGhvZD1bXSksby5tZXRob2QucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxELmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxELnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhcC5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tZXRob2QmJmUuaGFzT3duUHJvcGVydHkoXCJtZXRob2RcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubWV0aG9kKSlyZXR1cm5cIm1ldGhvZDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUubWV0aG9kLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUubWV0aG9kW3RdKSlyZXR1cm5cIm1ldGhvZC5cIitufXZhciBuO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPWwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtyZXR1cm4gbnVsbH0sRC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksZS5tZXRob2Qpe2lmKCFBcnJheS5pc0FycmF5KGUubWV0aG9kKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8ubWV0aG9kOiBhcnJheSBleHBlY3RlZFwiKTt0Lm1ldGhvZD1bXTtmb3IodmFyIG49MDtuPGUubWV0aG9kLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm1ldGhvZFtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8ubWV0aG9kOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5tZXRob2Rbbl09bC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5tZXRob2Rbbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSxELnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5tZXRob2Q9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLGUubWV0aG9kJiZlLm1ldGhvZC5sZW5ndGgpe24ubWV0aG9kPVtdO2Zvcih2YXIgbz0wO288ZS5tZXRob2QubGVuZ3RoOysrbyluLm1ldGhvZFtvXT1sLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5tZXRob2Rbb10sdCl9cmV0dXJuIG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSxELnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sRCksbi5NZXRob2REZXNjcmlwdG9yUHJvdG89KHgucHJvdG90eXBlLm5hbWU9XCJcIix4LnByb3RvdHlwZS5pbnB1dFR5cGU9XCJcIix4LnByb3RvdHlwZS5vdXRwdXRUeXBlPVwiXCIseC5wcm90b3R5cGUub3B0aW9ucz1udWxsLHgucHJvdG90eXBlLmNsaWVudFN0cmVhbWluZz0hMSx4LnByb3RvdHlwZS5zZXJ2ZXJTdHJlYW1pbmc9ITEseC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB4KGUpfSx4LmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuaW5wdXRUeXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaW5wdXRUeXBlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuaW5wdXRUeXBlKSxudWxsIT1lLm91dHB1dFR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvdXRwdXRUeXBlXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUub3V0cHV0VHlwZSksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmbC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2xpZW50U3RyZWFtaW5nXCIpJiZ0LnVpbnQzMig0MCkuYm9vbChlLmNsaWVudFN0cmVhbWluZyksbnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZXJ2ZXJTdHJlYW1pbmdcIikmJnQudWludDMyKDQ4KS5ib29sKGUuc2VydmVyU3RyZWFtaW5nKSx0fSx4LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx4LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uaW5wdXRUeXBlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ub3V0cHV0VHlwZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLm9wdGlvbnM9bC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDU6by5jbGllbnRTdHJlYW1pbmc9ZS5ib29sKCk7YnJlYWs7Y2FzZSA2Om8uc2VydmVyU3RyZWFtaW5nPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30seC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0seC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXAuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuaW5wdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwiaW5wdXRUeXBlXCIpJiYhcC5pc1N0cmluZyhlLmlucHV0VHlwZSkpcmV0dXJuXCJpbnB1dFR5cGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3V0cHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm91dHB1dFR5cGVcIikmJiFwLmlzU3RyaW5nKGUub3V0cHV0VHlwZSkpcmV0dXJuXCJvdXRwdXRUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXt2YXIgdD1sLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKHQpcmV0dXJuXCJvcHRpb25zLlwiK3R9cmV0dXJuIG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwiY2xpZW50U3RyZWFtaW5nXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuY2xpZW50U3RyZWFtaW5nP1wiY2xpZW50U3RyZWFtaW5nOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2ZXJTdHJlYW1pbmdcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5zZXJ2ZXJTdHJlYW1pbmc/XCJzZXJ2ZXJTdHJlYW1pbmc6IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsfSx4LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5pbnB1dFR5cGUmJih0LmlucHV0VHlwZT1TdHJpbmcoZS5pbnB1dFR5cGUpKSxudWxsIT1lLm91dHB1dFR5cGUmJih0Lm91dHB1dFR5cGU9U3RyaW5nKGUub3V0cHV0VHlwZSkpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiBudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmKHQuY2xpZW50U3RyZWFtaW5nPUJvb2xlYW4oZS5jbGllbnRTdHJlYW1pbmcpKSxudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmKHQuc2VydmVyU3RyZWFtaW5nPUJvb2xlYW4oZS5zZXJ2ZXJTdHJlYW1pbmcpKSx0fSx4LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5pbnB1dFR5cGU9XCJcIixuLm91dHB1dFR5cGU9XCJcIixuLm9wdGlvbnM9bnVsbCxuLmNsaWVudFN0cmVhbWluZz0hMSxuLnNlcnZlclN0cmVhbWluZz0hMSksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUuaW5wdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwiaW5wdXRUeXBlXCIpJiYobi5pbnB1dFR5cGU9ZS5pbnB1dFR5cGUpLG51bGwhPWUub3V0cHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm91dHB1dFR5cGVcIikmJihuLm91dHB1dFR5cGU9ZS5vdXRwdXRUeXBlKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudFN0cmVhbWluZ1wiKSYmKG4uY2xpZW50U3RyZWFtaW5nPWUuY2xpZW50U3RyZWFtaW5nKSxudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZlclN0cmVhbWluZ1wiKSYmKG4uc2VydmVyU3RyZWFtaW5nPWUuc2VydmVyU3RyZWFtaW5nKSxufSx4LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0seCksbi5GaWxlT3B0aW9ucz0oUy5wcm90b3R5cGUuamF2YVBhY2thZ2U9XCJcIixTLnByb3RvdHlwZS5qYXZhT3V0ZXJDbGFzc25hbWU9XCJcIixTLnByb3RvdHlwZS5qYXZhTXVsdGlwbGVGaWxlcz0hMSxTLnByb3RvdHlwZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPSExLFMucHJvdG90eXBlLmphdmFTdHJpbmdDaGVja1V0Zjg9ITEsUy5wcm90b3R5cGUub3B0aW1pemVGb3I9MSxTLnByb3RvdHlwZS5nb1BhY2thZ2U9XCJcIixTLnByb3RvdHlwZS5jY0dlbmVyaWNTZXJ2aWNlcz0hMSxTLnByb3RvdHlwZS5qYXZhR2VuZXJpY1NlcnZpY2VzPSExLFMucHJvdG90eXBlLnB5R2VuZXJpY1NlcnZpY2VzPSExLFMucHJvdG90eXBlLnBocEdlbmVyaWNTZXJ2aWNlcz0hMSxTLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLFMucHJvdG90eXBlLmNjRW5hYmxlQXJlbmFzPSEwLFMucHJvdG90eXBlLm9iamNDbGFzc1ByZWZpeD1cIlwiLFMucHJvdG90eXBlLmNzaGFycE5hbWVzcGFjZT1cIlwiLFMucHJvdG90eXBlLnN3aWZ0UHJlZml4PVwiXCIsUy5wcm90b3R5cGUucGhwQ2xhc3NQcmVmaXg9XCJcIixTLnByb3RvdHlwZS5waHBOYW1lc3BhY2U9XCJcIixTLnByb3RvdHlwZS5waHBNZXRhZGF0YU5hbWVzcGFjZT1cIlwiLFMucHJvdG90eXBlLnJ1YnlQYWNrYWdlPVwiXCIsUy5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksUy5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl09cC5lbXB0eUFycmF5LFMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUyhlKX0sUy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5qYXZhUGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFQYWNrYWdlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuamF2YVBhY2thZ2UpLG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YU91dGVyQ2xhc3NuYW1lXCIpJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSxudWxsIT1lLm9wdGltaXplRm9yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW1pemVGb3JcIikmJnQudWludDMyKDcyKS5pbnQzMihlLm9wdGltaXplRm9yKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YU11bHRpcGxlRmlsZXNcIikmJnQudWludDMyKDgwKS5ib29sKGUuamF2YU11bHRpcGxlRmlsZXMpLG51bGwhPWUuZ29QYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZ29QYWNrYWdlXCIpJiZ0LnVpbnQzMig5MCkuc3RyaW5nKGUuZ29QYWNrYWdlKSxudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2NHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDEyOCkuYm9vbChlLmNjR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiZ0LnVpbnQzMigxMzYpLmJvb2woZS5qYXZhR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHlHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDE0NCkuYm9vbChlLnB5R2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiZ0LnVpbnQzMigxNjApLmJvb2woZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigxODQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhU3RyaW5nQ2hlY2tVdGY4XCIpJiZ0LnVpbnQzMigyMTYpLmJvb2woZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2NFbmFibGVBcmVuYXNcIikmJnQudWludDMyKDI0OCkuYm9vbChlLmNjRW5hYmxlQXJlbmFzKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9iamNDbGFzc1ByZWZpeFwiKSYmdC51aW50MzIoMjkwKS5zdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3NoYXJwTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigyOTgpLnN0cmluZyhlLmNzaGFycE5hbWVzcGFjZSksbnVsbCE9ZS5zd2lmdFByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN3aWZ0UHJlZml4XCIpJiZ0LnVpbnQzMigzMTQpLnN0cmluZyhlLnN3aWZ0UHJlZml4KSxudWxsIT1lLnBocENsYXNzUHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwQ2xhc3NQcmVmaXhcIikmJnQudWludDMyKDMyMikuc3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpLG51bGwhPWUucGhwTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigzMzApLnN0cmluZyhlLnBocE5hbWVzcGFjZSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDMzNikuYm9vbChlLnBocEdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigzNTQpLnN0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicnVieVBhY2thZ2VcIikmJnQudWludDMyKDM2Mikuc3RyaW5nKGUucnVieVBhY2thZ2UpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0mJmVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ubGVuZ3RoKWZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdLmxlbmd0aDsrK24pbC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvci5lbmNvZGUoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXVtuXSx0LnVpbnQzMig4NDI2KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxTLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxTLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmphdmFQYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8uamF2YU91dGVyQ2xhc3NuYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDpvLmphdmFNdWx0aXBsZUZpbGVzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjA6by5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjc6by5qYXZhU3RyaW5nQ2hlY2tVdGY4PWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTpvLm9wdGltaXplRm9yPWUuaW50MzIoKTticmVhaztjYXNlIDExOm8uZ29QYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxNjpvLmNjR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTc6by5qYXZhR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTg6by5weUdlbmVyaWNTZXJ2aWNlcz1lLmJvb2woKTticmVhaztjYXNlIDQyOm8ucGhwR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzE6by5jY0VuYWJsZUFyZW5hcz1lLmJvb2woKTticmVhaztjYXNlIDM2Om8ub2JqY0NsYXNzUHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzNzpvLmNzaGFycE5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzk6by5zd2lmdFByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDA6by5waHBDbGFzc1ByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDE6by5waHBOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ0Om8ucGhwTWV0YWRhdGFOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ1Om8ucnVieVBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA1MzpvW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdJiZvW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdLmxlbmd0aHx8KG9bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl09W10pLG9bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ucHVzaChsLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhUGFja2FnZVwiKSYmIXAuaXNTdHJpbmcoZS5qYXZhUGFja2FnZSkpcmV0dXJuXCJqYXZhUGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhT3V0ZXJDbGFzc25hbWVcIikmJiFwLmlzU3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSlyZXR1cm5cImphdmFPdXRlckNsYXNzbmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhTXVsdGlwbGVGaWxlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFNdWx0aXBsZUZpbGVzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuamF2YU11bHRpcGxlRmlsZXMpcmV0dXJuXCJqYXZhTXVsdGlwbGVGaWxlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2hcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKXJldHVyblwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KXJldHVyblwiamF2YVN0cmluZ0NoZWNrVXRmODogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW1pemVGb3ImJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpbWl6ZUZvclwiKSlzd2l0Y2goZS5vcHRpbWl6ZUZvcil7ZGVmYXVsdDpyZXR1cm5cIm9wdGltaXplRm9yOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6fWlmKG51bGwhPWUuZ29QYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwiZ29QYWNrYWdlXCIpJiYhcC5pc1N0cmluZyhlLmdvUGFja2FnZSkpcmV0dXJuXCJnb1BhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0dlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNjR2VuZXJpY1NlcnZpY2VzKXJldHVyblwiY2NHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuamF2YUdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cImphdmFHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwicHlHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5weUdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cInB5R2VuZXJpY1NlcnZpY2VzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5waHBHZW5lcmljU2VydmljZXMpcmV0dXJuXCJwaHBHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZlLmhhc093blByb3BlcnR5KFwiY2NFbmFibGVBcmVuYXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5jY0VuYWJsZUFyZW5hcylyZXR1cm5cImNjRW5hYmxlQXJlbmFzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vYmpjQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJvYmpjQ2xhc3NQcmVmaXhcIikmJiFwLmlzU3RyaW5nKGUub2JqY0NsYXNzUHJlZml4KSlyZXR1cm5cIm9iamNDbGFzc1ByZWZpeDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJjc2hhcnBOYW1lc3BhY2VcIikmJiFwLmlzU3RyaW5nKGUuY3NoYXJwTmFtZXNwYWNlKSlyZXR1cm5cImNzaGFycE5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5zd2lmdFByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInN3aWZ0UHJlZml4XCIpJiYhcC5pc1N0cmluZyhlLnN3aWZ0UHJlZml4KSlyZXR1cm5cInN3aWZ0UHJlZml4OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocENsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwicGhwQ2xhc3NQcmVmaXhcIikmJiFwLmlzU3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpKXJldHVyblwicGhwQ2xhc3NQcmVmaXg6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTmFtZXNwYWNlXCIpJiYhcC5pc1N0cmluZyhlLnBocE5hbWVzcGFjZSkpcmV0dXJuXCJwaHBOYW1lc3BhY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBNZXRhZGF0YU5hbWVzcGFjZVwiKSYmIXAuaXNTdHJpbmcoZS5waHBNZXRhZGF0YU5hbWVzcGFjZSkpcmV0dXJuXCJwaHBNZXRhZGF0YU5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ydWJ5UGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJ1YnlQYWNrYWdlXCIpJiYhcC5pc1N0cmluZyhlLnJ1YnlQYWNrYWdlKSlyZXR1cm5cInJ1YnlQYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn1pZihudWxsIT1lW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdKSlyZXR1cm5cIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sdD0wO3Q8ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXS5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvci52ZXJpZnkoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXVt0XSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb24uXCIrbn1yZXR1cm4gbnVsbH0sUy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnM7c3dpdGNoKG51bGwhPWUuamF2YVBhY2thZ2UmJih0LmphdmFQYWNrYWdlPVN0cmluZyhlLmphdmFQYWNrYWdlKSksbnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJih0LmphdmFPdXRlckNsYXNzbmFtZT1TdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiYodC5qYXZhTXVsdGlwbGVGaWxlcz1Cb29sZWFuKGUuamF2YU11bHRpcGxlRmlsZXMpKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJih0LmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9Qm9vbGVhbihlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJih0LmphdmFTdHJpbmdDaGVja1V0Zjg9Qm9vbGVhbihlLmphdmFTdHJpbmdDaGVja1V0ZjgpKSxlLm9wdGltaXplRm9yKXtjYXNlXCJTUEVFRFwiOmNhc2UgMTp0Lm9wdGltaXplRm9yPTE7YnJlYWs7Y2FzZVwiQ09ERV9TSVpFXCI6Y2FzZSAyOnQub3B0aW1pemVGb3I9MjticmVhaztjYXNlXCJMSVRFX1JVTlRJTUVcIjpjYXNlIDM6dC5vcHRpbWl6ZUZvcj0zfWlmKG51bGwhPWUuZ29QYWNrYWdlJiYodC5nb1BhY2thZ2U9U3RyaW5nKGUuZ29QYWNrYWdlKSksbnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmKHQuY2NHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLmNjR2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzJiYodC5qYXZhR2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5qYXZhR2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmKHQucHlHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLnB5R2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJih0LnBocEdlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUucGhwR2VuZXJpY1NlcnZpY2VzKSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksbnVsbCE9ZS5jY0VuYWJsZUFyZW5hcyYmKHQuY2NFbmFibGVBcmVuYXM9Qm9vbGVhbihlLmNjRW5hYmxlQXJlbmFzKSksbnVsbCE9ZS5vYmpjQ2xhc3NQcmVmaXgmJih0Lm9iamNDbGFzc1ByZWZpeD1TdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpKSxudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmKHQuY3NoYXJwTmFtZXNwYWNlPVN0cmluZyhlLmNzaGFycE5hbWVzcGFjZSkpLG51bGwhPWUuc3dpZnRQcmVmaXgmJih0LnN3aWZ0UHJlZml4PVN0cmluZyhlLnN3aWZ0UHJlZml4KSksbnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmKHQucGhwQ2xhc3NQcmVmaXg9U3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpKSxudWxsIT1lLnBocE5hbWVzcGFjZSYmKHQucGhwTmFtZXNwYWNlPVN0cmluZyhlLnBocE5hbWVzcGFjZSkpLG51bGwhPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UmJih0LnBocE1ldGFkYXRhTmFtZXNwYWNlPVN0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSksbnVsbCE9ZS5ydWJ5UGFja2FnZSYmKHQucnVieVBhY2thZ2U9U3RyaW5nKGUucnVieVBhY2thZ2UpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fWlmKGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0pe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdPVtdO2ZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXVtuXT1sLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLmZyb21PYmplY3QoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXVtuXSl9fXJldHVybiB0fSxTLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdLG5bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl09W10pLHQuZGVmYXVsdHMmJihuLmphdmFQYWNrYWdlPVwiXCIsbi5qYXZhT3V0ZXJDbGFzc25hbWU9XCJcIixuLm9wdGltaXplRm9yPXQuZW51bXM9PT1TdHJpbmc/XCJTUEVFRFwiOjEsbi5qYXZhTXVsdGlwbGVGaWxlcz0hMSxuLmdvUGFja2FnZT1cIlwiLG4uY2NHZW5lcmljU2VydmljZXM9ITEsbi5qYXZhR2VuZXJpY1NlcnZpY2VzPSExLG4ucHlHZW5lcmljU2VydmljZXM9ITEsbi5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPSExLG4uZGVwcmVjYXRlZD0hMSxuLmphdmFTdHJpbmdDaGVja1V0Zjg9ITEsbi5jY0VuYWJsZUFyZW5hcz0hMCxuLm9iamNDbGFzc1ByZWZpeD1cIlwiLG4uY3NoYXJwTmFtZXNwYWNlPVwiXCIsbi5zd2lmdFByZWZpeD1cIlwiLG4ucGhwQ2xhc3NQcmVmaXg9XCJcIixuLnBocE5hbWVzcGFjZT1cIlwiLG4ucGhwR2VuZXJpY1NlcnZpY2VzPSExLG4ucGhwTWV0YWRhdGFOYW1lc3BhY2U9XCJcIixuLnJ1YnlQYWNrYWdlPVwiXCIpLG51bGwhPWUuamF2YVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhUGFja2FnZVwiKSYmKG4uamF2YVBhY2thZ2U9ZS5qYXZhUGFja2FnZSksbnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhT3V0ZXJDbGFzc25hbWVcIikmJihuLmphdmFPdXRlckNsYXNzbmFtZT1lLmphdmFPdXRlckNsYXNzbmFtZSksbnVsbCE9ZS5vcHRpbWl6ZUZvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGltaXplRm9yXCIpJiYobi5vcHRpbWl6ZUZvcj10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLk9wdGltaXplTW9kZVtlLm9wdGltaXplRm9yXTplLm9wdGltaXplRm9yKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZlLmhhc093blByb3BlcnR5KFwiamF2YU11bHRpcGxlRmlsZXNcIikmJihuLmphdmFNdWx0aXBsZUZpbGVzPWUuamF2YU11bHRpcGxlRmlsZXMpLG51bGwhPWUuZ29QYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwiZ29QYWNrYWdlXCIpJiYobi5nb1BhY2thZ2U9ZS5nb1BhY2thZ2UpLG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0dlbmVyaWNTZXJ2aWNlc1wiKSYmKG4uY2NHZW5lcmljU2VydmljZXM9ZS5jY0dlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4uamF2YUdlbmVyaWNTZXJ2aWNlcz1lLmphdmFHZW5lcmljU2VydmljZXMpLG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4ucHlHZW5lcmljU2VydmljZXM9ZS5weUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaFwiKSYmKG4uamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhU3RyaW5nQ2hlY2tVdGY4XCIpJiYobi5qYXZhU3RyaW5nQ2hlY2tVdGY4PWUuamF2YVN0cmluZ0NoZWNrVXRmOCksbnVsbCE9ZS5jY0VuYWJsZUFyZW5hcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjRW5hYmxlQXJlbmFzXCIpJiYobi5jY0VuYWJsZUFyZW5hcz1lLmNjRW5hYmxlQXJlbmFzKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9iamNDbGFzc1ByZWZpeFwiKSYmKG4ub2JqY0NsYXNzUHJlZml4PWUub2JqY0NsYXNzUHJlZml4KSxudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNzaGFycE5hbWVzcGFjZVwiKSYmKG4uY3NoYXJwTmFtZXNwYWNlPWUuY3NoYXJwTmFtZXNwYWNlKSxudWxsIT1lLnN3aWZ0UHJlZml4JiZlLmhhc093blByb3BlcnR5KFwic3dpZnRQcmVmaXhcIikmJihuLnN3aWZ0UHJlZml4PWUuc3dpZnRQcmVmaXgpLG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBDbGFzc1ByZWZpeFwiKSYmKG4ucGhwQ2xhc3NQcmVmaXg9ZS5waHBDbGFzc1ByZWZpeCksbnVsbCE9ZS5waHBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBOYW1lc3BhY2VcIikmJihuLnBocE5hbWVzcGFjZT1lLnBocE5hbWVzcGFjZSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBHZW5lcmljU2VydmljZXNcIikmJihuLnBocEdlbmVyaWNTZXJ2aWNlcz1lLnBocEdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiYobi5waHBNZXRhZGF0YU5hbWVzcGFjZT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicnVieVBhY2thZ2VcIikmJihuLnJ1YnlQYWNrYWdlPWUucnVieVBhY2thZ2UpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfWlmKGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0mJmVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl0ubGVuZ3RoKXtuW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdPVtdO2ZvcihvPTA7bzxlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VEZWZpbml0aW9uXCJdLmxlbmd0aDsrK28pbltcIi5nb29nbGUuYXBpLnJlc291cmNlRGVmaW5pdGlvblwiXVtvXT1sLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLnRvT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZURlZmluaXRpb25cIl1bb10sdCl9cmV0dXJuIG59LFMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxTLk9wdGltaXplTW9kZT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzFdPVwiU1BFRURcIl09MSx0W2VbMl09XCJDT0RFX1NJWkVcIl09Mix0W2VbM109XCJMSVRFX1JVTlRJTUVcIl09Myx0KSxTKSxuLk1lc3NhZ2VPcHRpb25zPShrLnByb3RvdHlwZS5tZXNzYWdlU2V0V2lyZUZvcm1hdD0hMSxrLnByb3RvdHlwZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPSExLGsucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsay5wcm90b3R5cGUubWFwRW50cnk9ITEsay5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksay5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXT1udWxsLGsuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgayhlKX0say5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1lc3NhZ2VTZXRXaXJlRm9ybWF0XCIpJiZ0LnVpbnQzMig4KS5ib29sKGUubWVzc2FnZVNldFdpcmVGb3JtYXQpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3JcIikmJnQudWludDMyKDE2KS5ib29sKGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLm1hcEVudHJ5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWFwRW50cnlcIikmJnQudWludDMyKDU2KS5ib29sKGUubWFwRW50cnkpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiKSYmbC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvci5lbmNvZGUoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdLHQudWludDMyKDg0MjYpLmZvcmsoKSkubGRlbGltKCksdH0say5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0say5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5tZXNzYWdlU2V0V2lyZUZvcm1hdD1lLmJvb2woKTticmVhaztjYXNlIDI6by5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA3Om8ubWFwRW50cnk9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwNTM6b1tcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxrLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxrLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5tZXNzYWdlU2V0V2lyZUZvcm1hdClyZXR1cm5cIm1lc3NhZ2VTZXRXaXJlRm9ybWF0OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZlLmhhc093blByb3BlcnR5KFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3IpcmV0dXJuXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tYXBFbnRyeSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1hcEVudHJ5XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubWFwRW50cnkpcmV0dXJuXCJtYXBFbnRyeTogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3QpaWYobj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufXZhciBuO2lmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLnJlc291cmNlXCIpJiYobj1sLmdvb2dsZS5hcGkuUmVzb3VyY2VEZXNjcmlwdG9yLnZlcmlmeShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl0pKSlyZXR1cm5cIi5nb29nbGUuYXBpLnJlc291cmNlLlwiK247cmV0dXJuIG51bGx9LGsuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zO2lmKG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJih0Lm1lc3NhZ2VTZXRXaXJlRm9ybWF0PUJvb2xlYW4oZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCkpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmKHQubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj1Cb29sZWFuKGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvcikpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUubWFwRW50cnkmJih0Lm1hcEVudHJ5PUJvb2xlYW4oZS5tYXBFbnRyeSkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuLmdvb2dsZS5hcGkucmVzb3VyY2U6IG9iamVjdCBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl09bC5nb29nbGUuYXBpLlJlc291cmNlRGVzY3JpcHRvci5mcm9tT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXSl9cmV0dXJuIHR9LGsudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PSExLG4ubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj0hMSxuLmRlcHJlY2F0ZWQ9ITEsbi5tYXBFbnRyeT0hMSxuW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VcIl09bnVsbCksbnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VTZXRXaXJlRm9ybWF0XCIpJiYobi5tZXNzYWdlU2V0V2lyZUZvcm1hdD1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KSxudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJmUuaGFzT3duUHJvcGVydHkoXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yXCIpJiYobi5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUubWFwRW50cnkmJmUuaGFzT3duUHJvcGVydHkoXCJtYXBFbnRyeVwiKSYmKG4ubWFwRW50cnk9ZS5tYXBFbnRyeSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLnJlc291cmNlXCIpJiYobltcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZURlc2NyaXB0b3IudG9PYmplY3QoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlXCJdLHQpKSxufSxrLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sayksbi5GaWVsZE9wdGlvbnM9KFQucHJvdG90eXBlLmN0eXBlPTAsVC5wcm90b3R5cGUucGFja2VkPSExLFQucHJvdG90eXBlLmpzdHlwZT0wLFQucHJvdG90eXBlLmxhenk9ITEsVC5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxULnByb3RvdHlwZS53ZWFrPSExLFQucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249cC5lbXB0eUFycmF5LFQucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXT1wLmVtcHR5QXJyYXksVC5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXT1udWxsLFQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVChlKX0sVC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5jdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImN0eXBlXCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLmN0eXBlKSxudWxsIT1lLnBhY2tlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhY2tlZFwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5wYWNrZWQpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS5sYXp5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGF6eVwiKSYmdC51aW50MzIoNDApLmJvb2woZS5sYXp5KSxudWxsIT1lLmpzdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImpzdHlwZVwiKSYmdC51aW50MzIoNDgpLmludDMyKGUuanN0eXBlKSxudWxsIT1lLndlYWsmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ3ZWFrXCIpJiZ0LnVpbnQzMig4MCkuYm9vbChlLndlYWspLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdJiZlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGgpe3QudWludDMyKDg0MTgpLmZvcmsoKTtmb3Iobj0wO248ZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0ubGVuZ3RoOysrbil0LmludDMyKGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW25dKTt0LmxkZWxpbSgpfXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiKSYmbC5nb29nbGUuYXBpLlJlc291cmNlUmVmZXJlbmNlLmVuY29kZShlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0sdC51aW50MzIoODQ0MikuZm9yaygpKS5sZGVsaW0oKSx0fSxULmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxULmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5jdHlwZT1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8ucGFja2VkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNjpvLmpzdHlwZT1lLmludDMyKCk7YnJlYWs7Y2FzZSA1Om8ubGF6eT1lLmJvb2woKTticmVhaztjYXNlIDM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTA6by53ZWFrPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMDUyOmlmKG9bXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdJiZvW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGh8fChvW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXT1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspb1tcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0ucHVzaChlLmludDMyKCkpO2Vsc2Ugb1tcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0ucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMTA1NTpvW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl09bC5nb29nbGUuYXBpLlJlc291cmNlUmVmZXJlbmNlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sVC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sVC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImN0eXBlXCIpKXN3aXRjaChlLmN0eXBlKXtkZWZhdWx0OnJldHVyblwiY3R5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS5wYWNrZWQmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5wYWNrZWQpcmV0dXJuXCJwYWNrZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmpzdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzdHlwZVwiKSlzd2l0Y2goZS5qc3R5cGUpe2RlZmF1bHQ6cmV0dXJuXCJqc3R5cGU6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS5sYXp5JiZlLmhhc093blByb3BlcnR5KFwibGF6eVwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmxhenkpcmV0dXJuXCJsYXp5OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS53ZWFrJiZlLmhhc093blByb3BlcnR5KFwid2Vha1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLndlYWspcmV0dXJuXCJ3ZWFrOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdClpZihuPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSkpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCIpKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGg7Kyt0KXN3aXRjaChlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXVt0XSl7ZGVmYXVsdDpyZXR1cm5cIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3I6IGVudW0gdmFsdWVbXSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1On19dmFyIG47aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIikmJihuPWwuZ29vZ2xlLmFwaS5SZXNvdXJjZVJlZmVyZW5jZS52ZXJpZnkoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdKSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZS5cIituO3JldHVybiBudWxsfSxULmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zO3N3aXRjaChlLmN0eXBlKXtjYXNlXCJTVFJJTkdcIjpjYXNlIDA6dC5jdHlwZT0wO2JyZWFrO2Nhc2VcIkNPUkRcIjpjYXNlIDE6dC5jdHlwZT0xO2JyZWFrO2Nhc2VcIlNUUklOR19QSUVDRVwiOmNhc2UgMjp0LmN0eXBlPTJ9c3dpdGNoKG51bGwhPWUucGFja2VkJiYodC5wYWNrZWQ9Qm9vbGVhbihlLnBhY2tlZCkpLGUuanN0eXBlKXtjYXNlXCJKU19OT1JNQUxcIjpjYXNlIDA6dC5qc3R5cGU9MDticmVhaztjYXNlXCJKU19TVFJJTkdcIjpjYXNlIDE6dC5qc3R5cGU9MTticmVhaztjYXNlXCJKU19OVU1CRVJcIjpjYXNlIDI6dC5qc3R5cGU9Mn1pZihudWxsIT1lLmxhenkmJih0Lmxhenk9Qm9vbGVhbihlLmxhenkpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxudWxsIT1lLndlYWsmJih0LndlYWs9Qm9vbGVhbihlLndlYWspKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19aWYoZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0pe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy4uZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yOiBhcnJheSBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXT1bXTtmb3Iobj0wO248ZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl0ubGVuZ3RoOysrbilzd2l0Y2goZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl0pe2RlZmF1bHQ6Y2FzZVwiRklFTERfQkVIQVZJT1JfVU5TUEVDSUZJRURcIjpjYXNlIDA6dFtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl09MDticmVhaztjYXNlXCJPUFRJT05BTFwiOmNhc2UgMTp0W1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXVtuXT0xO2JyZWFrO2Nhc2VcIlJFUVVJUkVEXCI6Y2FzZSAyOnRbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW25dPTI7YnJlYWs7Y2FzZVwiT1VUUFVUX09OTFlcIjpjYXNlIDM6dFtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bbl09MzticmVhaztjYXNlXCJJTlBVVF9PTkxZXCI6Y2FzZSA0OnRbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW25dPTQ7YnJlYWs7Y2FzZVwiSU1NVVRBQkxFXCI6Y2FzZSA1OnRbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW25dPTV9fWlmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGVbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy4uZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZTogb2JqZWN0IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXT1sLmdvb2dsZS5hcGkuUmVzb3VyY2VSZWZlcmVuY2UuZnJvbU9iamVjdChlW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0pfXJldHVybiB0fSxULnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdLG5bXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdPVtdKSx0LmRlZmF1bHRzJiYobi5jdHlwZT10LmVudW1zPT09U3RyaW5nP1wiU1RSSU5HXCI6MCxuLnBhY2tlZD0hMSxuLmRlcHJlY2F0ZWQ9ITEsbi5sYXp5PSExLG4uanN0eXBlPXQuZW51bXM9PT1TdHJpbmc/XCJKU19OT1JNQUxcIjowLG4ud2Vhaz0hMSxuW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl09bnVsbCksbnVsbCE9ZS5jdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImN0eXBlXCIpJiYobi5jdHlwZT10LmVudW1zPT09U3RyaW5nP2wuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5DVHlwZVtlLmN0eXBlXTplLmN0eXBlKSxudWxsIT1lLnBhY2tlZCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2tlZFwiKSYmKG4ucGFja2VkPWUucGFja2VkKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksbnVsbCE9ZS5sYXp5JiZlLmhhc093blByb3BlcnR5KFwibGF6eVwiKSYmKG4ubGF6eT1lLmxhenkpLG51bGwhPWUuanN0eXBlJiZlLmhhc093blByb3BlcnR5KFwianN0eXBlXCIpJiYobi5qc3R5cGU9dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuSlNUeXBlW2UuanN0eXBlXTplLmpzdHlwZSksbnVsbCE9ZS53ZWFrJiZlLmhhc093blByb3BlcnR5KFwid2Vha1wiKSYmKG4ud2Vhaz1lLndlYWspLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfWlmKGVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdJiZlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGgpe25bXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdPVtdO2ZvcihvPTA7bzxlW1wiLmdvb2dsZS5hcGkuZmllbGRCZWhhdmlvclwiXS5sZW5ndGg7KytvKW5bXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW29dPXQuZW51bXM9PT1TdHJpbmc/bC5nb29nbGUuYXBpLkZpZWxkQmVoYXZpb3JbZVtcIi5nb29nbGUuYXBpLmZpZWxkQmVoYXZpb3JcIl1bb11dOmVbXCIuZ29vZ2xlLmFwaS5maWVsZEJlaGF2aW9yXCJdW29dfXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkucmVzb3VyY2VSZWZlcmVuY2VcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiKSYmKG5bXCIuZ29vZ2xlLmFwaS5yZXNvdXJjZVJlZmVyZW5jZVwiXT1sLmdvb2dsZS5hcGkuUmVzb3VyY2VSZWZlcmVuY2UudG9PYmplY3QoZVtcIi5nb29nbGUuYXBpLnJlc291cmNlUmVmZXJlbmNlXCJdLHQpKSxufSxULnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sVC5DVHlwZT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzBdPVwiU1RSSU5HXCJdPTAsdFtlWzFdPVwiQ09SRFwiXT0xLHRbZVsyXT1cIlNUUklOR19QSUVDRVwiXT0yLHQpLFQuSlNUeXBlPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJKU19OT1JNQUxcIl09MCx0W2VbMV09XCJKU19TVFJJTkdcIl09MSx0W2VbMl09XCJKU19OVU1CRVJcIl09Mix0KSxUKSxuLk9uZW9mT3B0aW9ucz0oUS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksUS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBRKGUpfSxRLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sUS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT05OTk/KG8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sUS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sUS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucztpZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LFEudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxRLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sUSksbi5FbnVtT3B0aW9ucz0oRS5wcm90b3R5cGUuYWxsb3dBbGlhcz0hMSxFLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLEUucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249cC5lbXB0eUFycmF5LEUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRShlKX0sRS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5hbGxvd0FsaWFzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYWxsb3dBbGlhc1wiKSYmdC51aW50MzIoMTYpLmJvb2woZS5hbGxvd0FsaWFzKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxFLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxFLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMjpvLmFsbG93QWxpYXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sRS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sRS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hbGxvd0FsaWFzJiZlLmhhc093blByb3BlcnR5KFwiYWxsb3dBbGlhc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmFsbG93QWxpYXMpcmV0dXJuXCJhbGxvd0FsaWFzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sRS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnM7aWYobnVsbCE9ZS5hbGxvd0FsaWFzJiYodC5hbGxvd0FsaWFzPUJvb2xlYW4oZS5hbGxvd0FsaWFzKSksbnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sRS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uYWxsb3dBbGlhcz0hMSxuLmRlcHJlY2F0ZWQ9ITEpLG51bGwhPWUuYWxsb3dBbGlhcyYmZS5oYXNPd25Qcm9wZXJ0eShcImFsbG93QWxpYXNcIikmJihuLmFsbG93QWxpYXM9ZS5hbGxvd0FsaWFzKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LEUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxFKSxuLkVudW1WYWx1ZU9wdGlvbnM9KEsucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsSy5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksSy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLKGUpfSxLLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMig4KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEsuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEsuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxLLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxLLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxLLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnM7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LEsudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmRlcHJlY2F0ZWQ9ITEpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sSy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEspLG4uU2VydmljZU9wdGlvbnM9KEEucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsQS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1wLmVtcHR5QXJyYXksQS5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1cIlwiLEEucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09XCJcIixBLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEEoZSl9LEEuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI2NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiKSYmdC51aW50MzIoODM5NCkuc3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIikmJnQudWludDMyKDg0MDIpLnN0cmluZyhlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pLHR9LEEuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEEuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAzMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwNDk6b1tcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDUwOm9bXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sQS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sQS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIikmJiFwLmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSk/XCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIikmJiFwLmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSk/XCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blczogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sQS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnM7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiYodC5kZXByZWNhdGVkPUJvb2xlYW4oZS5kZXByZWNhdGVkKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiYodFtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPVN0cmluZyhlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pKSxudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJih0W1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09U3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSkpLHR9LEEudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmRlcHJlY2F0ZWQ9ITEsbltcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPVwiXCIsbltcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPVwiXCIpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIikmJihuW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKSxudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiKSYmKG5bXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pLG59LEEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxBKSxuLk1ldGhvZE9wdGlvbnM9KE4ucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsTi5wcm90b3R5cGUuaWRlbXBvdGVuY3lMZXZlbD0wLE4ucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249cC5lbXB0eUFycmF5LE4ucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1udWxsLE4ucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPXAuZW1wdHlBcnJheSxOLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE4oZSl9LE4uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI2NCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlkZW1wb3RlbmN5TGV2ZWxcIikmJnQudWludDMyKDI3MikuaW50MzIoZS5pZGVtcG90ZW5jeUxldmVsKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aClmb3Iobj0wO248ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7KytuKXQudWludDMyKDg0MTApLnN0cmluZyhlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW25dKTtyZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5odHRwXCIpJiZsLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZW5jb2RlKGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdLHQudWludDMyKDU3ODM2NTgyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxOLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxOLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAzMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzNDpvLmlkZW1wb3RlbmN5TGV2ZWw9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gobC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA3MjI5NTcyODpvW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMDUxOm9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJm9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RofHwob1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXSksb1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sTi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5pZGVtcG90ZW5jeUxldmVsJiZlLmhhc093blByb3BlcnR5KFwiaWRlbXBvdGVuY3lMZXZlbFwiKSlzd2l0Y2goZS5pZGVtcG90ZW5jeUxldmVsKXtkZWZhdWx0OnJldHVyblwiaWRlbXBvdGVuY3lMZXZlbDogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KWlmKG49bC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn12YXIgbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmh0dHBcIikmJihuPWwuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pKSlyZXR1cm5cIi5nb29nbGUuYXBpLmh0dHAuXCIrbjtpZihudWxsIT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCIpKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKSlyZXR1cm5cIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7Kyt0KWlmKCFwLmlzU3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bdF0pKXJldHVyblwiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxOLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnM7c3dpdGNoKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUuaWRlbXBvdGVuY3lMZXZlbCl7Y2FzZVwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiOmNhc2UgMDp0LmlkZW1wb3RlbmN5TGV2ZWw9MDticmVhaztjYXNlXCJOT19TSURFX0VGRkVDVFNcIjpjYXNlIDE6dC5pZGVtcG90ZW5jeUxldmVsPTE7YnJlYWs7Y2FzZVwiSURFTVBPVEVOVFwiOmNhc2UgMjp0LmlkZW1wb3RlbmN5TGV2ZWw9Mn1pZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1pZihudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy4uZ29vZ2xlLmFwaS5odHRwOiBvYmplY3QgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUuYXBpLmh0dHBcIl09bC5nb29nbGUuYXBpLkh0dHBSdWxlLmZyb21PYmplY3QoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pfWlmKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0pe2lmKCFBcnJheS5pc0FycmF5KGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy4uZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmU6IGFycmF5IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W107Zm9yKG49MDtuPGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrbil0W1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW25dPVN0cmluZyhlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW25dKX1yZXR1cm4gdH0sTi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSxuW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdKSx0LmRlZmF1bHRzJiYobi5kZXByZWNhdGVkPSExLG4uaWRlbXBvdGVuY3lMZXZlbD10LmVudW1zPT09U3RyaW5nP1wiSURFTVBPVEVOQ1lfVU5LTk9XTlwiOjAsbltcIi5nb29nbGUuYXBpLmh0dHBcIl09bnVsbCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW1wb3RlbmN5TGV2ZWxcIikmJihuLmlkZW1wb3RlbmN5TGV2ZWw9dC5lbnVtcz09PVN0cmluZz9sLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWxbZS5pZGVtcG90ZW5jeUxldmVsXTplLmlkZW1wb3RlbmN5TGV2ZWwpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfWlmKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJmVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoKXtuW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdO2ZvcihvPTA7bzxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK28pbltcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtvXT1lW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW29dfXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmh0dHBcIikmJihuW1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1sLmdvb2dsZS5hcGkuSHR0cFJ1bGUudG9PYmplY3QoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0sdCkpLG59LE4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxOLklkZW1wb3RlbmN5TGV2ZWw9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVswXT1cIklERU1QT1RFTkNZX1VOS05PV05cIl09MCx0W2VbMV09XCJOT19TSURFX0VGRkVDVFNcIl09MSx0W2VbMl09XCJJREVNUE9URU5UXCJdPTIsdCksTiksbi5VbmludGVycHJldGVkT3B0aW9uPShSLnByb3RvdHlwZS5uYW1lPXAuZW1wdHlBcnJheSxSLnByb3RvdHlwZS5pZGVudGlmaWVyVmFsdWU9XCJcIixSLnByb3RvdHlwZS5wb3NpdGl2ZUludFZhbHVlPXAuTG9uZz9wLkxvbmcuZnJvbUJpdHMoMCwwLCEwKTowLFIucHJvdG90eXBlLm5lZ2F0aXZlSW50VmFsdWU9cC5Mb25nP3AuTG9uZy5mcm9tQml0cygwLDAsITEpOjAsUi5wcm90b3R5cGUuZG91YmxlVmFsdWU9MCxSLnByb3RvdHlwZS5zdHJpbmdWYWx1ZT1wLm5ld0J1ZmZlcihbXSksUi5wcm90b3R5cGUuYWdncmVnYXRlVmFsdWU9XCJcIixSLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFIoZSl9LFIuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmZS5uYW1lLmxlbmd0aClmb3IodmFyIG49MDtuPGUubmFtZS5sZW5ndGg7KytuKWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuZW5jb2RlKGUubmFtZVtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpZGVudGlmaWVyVmFsdWVcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5pZGVudGlmaWVyVmFsdWUpLG51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBvc2l0aXZlSW50VmFsdWVcIikmJnQudWludDMyKDMyKS51aW50NjQoZS5wb3NpdGl2ZUludFZhbHVlKSxudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuZWdhdGl2ZUludFZhbHVlXCIpJiZ0LnVpbnQzMig0MCkuaW50NjQoZS5uZWdhdGl2ZUludFZhbHVlKSxudWxsIT1lLmRvdWJsZVZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZG91YmxlVmFsdWVcIikmJnQudWludDMyKDQ5KS5kb3VibGUoZS5kb3VibGVWYWx1ZSksbnVsbCE9ZS5zdHJpbmdWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0cmluZ1ZhbHVlXCIpJiZ0LnVpbnQzMig1OCkuYnl0ZXMoZS5zdHJpbmdWYWx1ZSksbnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFnZ3JlZ2F0ZVZhbHVlXCIpJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuYWdncmVnYXRlVmFsdWUpLHR9LFIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFIuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDI6by5uYW1lJiZvLm5hbWUubGVuZ3RofHwoby5uYW1lPVtdKSxvLm5hbWUucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5pZGVudGlmaWVyVmFsdWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5wb3NpdGl2ZUludFZhbHVlPWUudWludDY0KCk7YnJlYWs7Y2FzZSA1Om8ubmVnYXRpdmVJbnRWYWx1ZT1lLmludDY0KCk7YnJlYWs7Y2FzZSA2Om8uZG91YmxlVmFsdWU9ZS5kb3VibGUoKTticmVhaztjYXNlIDc6by5zdHJpbmdWYWx1ZT1lLmJ5dGVzKCk7YnJlYWs7Y2FzZSA4Om8uYWdncmVnYXRlVmFsdWU9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFIuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFIudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubmFtZSkpcmV0dXJuXCJuYW1lOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5uYW1lLmxlbmd0aDsrK3Qpe3ZhciBuPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQudmVyaWZ5KGUubmFtZVt0XSk7aWYobilyZXR1cm5cIm5hbWUuXCIrbn19cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiaWRlbnRpZmllclZhbHVlXCIpJiYhcC5pc1N0cmluZyhlLmlkZW50aWZpZXJWYWx1ZSk/XCJpZGVudGlmaWVyVmFsdWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc2l0aXZlSW50VmFsdWVcIikmJiEocC5pc0ludGVnZXIoZS5wb3NpdGl2ZUludFZhbHVlKXx8ZS5wb3NpdGl2ZUludFZhbHVlJiZwLmlzSW50ZWdlcihlLnBvc2l0aXZlSW50VmFsdWUubG93KSYmcC5pc0ludGVnZXIoZS5wb3NpdGl2ZUludFZhbHVlLmhpZ2gpKT9cInBvc2l0aXZlSW50VmFsdWU6IGludGVnZXJ8TG9uZyBleHBlY3RlZFwiOm51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5lZ2F0aXZlSW50VmFsdWVcIikmJiEocC5pc0ludGVnZXIoZS5uZWdhdGl2ZUludFZhbHVlKXx8ZS5uZWdhdGl2ZUludFZhbHVlJiZwLmlzSW50ZWdlcihlLm5lZ2F0aXZlSW50VmFsdWUubG93KSYmcC5pc0ludGVnZXIoZS5uZWdhdGl2ZUludFZhbHVlLmhpZ2gpKT9cIm5lZ2F0aXZlSW50VmFsdWU6IGludGVnZXJ8TG9uZyBleHBlY3RlZFwiOm51bGwhPWUuZG91YmxlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkb3VibGVWYWx1ZVwiKSYmXCJudW1iZXJcIiE9dHlwZW9mIGUuZG91YmxlVmFsdWU/XCJkb3VibGVWYWx1ZTogbnVtYmVyIGV4cGVjdGVkXCI6bnVsbCE9ZS5zdHJpbmdWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInN0cmluZ1ZhbHVlXCIpJiYhKGUuc3RyaW5nVmFsdWUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnN0cmluZ1ZhbHVlLmxlbmd0aHx8cC5pc1N0cmluZyhlLnN0cmluZ1ZhbHVlKSk/XCJzdHJpbmdWYWx1ZTogYnVmZmVyIGV4cGVjdGVkXCI6bnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImFnZ3JlZ2F0ZVZhbHVlXCIpJiYhcC5pc1N0cmluZyhlLmFnZ3JlZ2F0ZVZhbHVlKT9cImFnZ3JlZ2F0ZVZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxSLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb247aWYoZS5uYW1lKXtpZighQXJyYXkuaXNBcnJheShlLm5hbWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5uYW1lOiBhcnJheSBleHBlY3RlZFwiKTt0Lm5hbWU9W107Zm9yKHZhciBuPTA7bjxlLm5hbWUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubmFtZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24ubmFtZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QubmFtZVtuXT1sLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LmZyb21PYmplY3QoZS5uYW1lW25dKX19cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiYodC5pZGVudGlmaWVyVmFsdWU9U3RyaW5nKGUuaWRlbnRpZmllclZhbHVlKSksbnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiYocC5Mb25nPyh0LnBvc2l0aXZlSW50VmFsdWU9cC5Mb25nLmZyb21WYWx1ZShlLnBvc2l0aXZlSW50VmFsdWUpKS51bnNpZ25lZD0hMDpcInN0cmluZ1wiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlP3QucG9zaXRpdmVJbnRWYWx1ZT1wYXJzZUludChlLnBvc2l0aXZlSW50VmFsdWUsMTApOlwibnVtYmVyXCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWU/dC5wb3NpdGl2ZUludFZhbHVlPWUucG9zaXRpdmVJbnRWYWx1ZTpcIm9iamVjdFwiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlJiYodC5wb3NpdGl2ZUludFZhbHVlPW5ldyBwLkxvbmdCaXRzKGUucG9zaXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUucG9zaXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoITApKSksbnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiYocC5Mb25nPyh0Lm5lZ2F0aXZlSW50VmFsdWU9cC5Mb25nLmZyb21WYWx1ZShlLm5lZ2F0aXZlSW50VmFsdWUpKS51bnNpZ25lZD0hMTpcInN0cmluZ1wiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlP3QubmVnYXRpdmVJbnRWYWx1ZT1wYXJzZUludChlLm5lZ2F0aXZlSW50VmFsdWUsMTApOlwibnVtYmVyXCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWU/dC5uZWdhdGl2ZUludFZhbHVlPWUubmVnYXRpdmVJbnRWYWx1ZTpcIm9iamVjdFwiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlJiYodC5uZWdhdGl2ZUludFZhbHVlPW5ldyBwLkxvbmdCaXRzKGUubmVnYXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUubmVnYXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoKSkpLG51bGwhPWUuZG91YmxlVmFsdWUmJih0LmRvdWJsZVZhbHVlPU51bWJlcihlLmRvdWJsZVZhbHVlKSksbnVsbCE9ZS5zdHJpbmdWYWx1ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlLnN0cmluZ1ZhbHVlP3AuYmFzZTY0LmRlY29kZShlLnN0cmluZ1ZhbHVlLHQuc3RyaW5nVmFsdWU9cC5uZXdCdWZmZXIocC5iYXNlNjQubGVuZ3RoKGUuc3RyaW5nVmFsdWUpKSwwKTplLnN0cmluZ1ZhbHVlLmxlbmd0aCYmKHQuc3RyaW5nVmFsdWU9ZS5zdHJpbmdWYWx1ZSkpLG51bGwhPWUuYWdncmVnYXRlVmFsdWUmJih0LmFnZ3JlZ2F0ZVZhbHVlPVN0cmluZyhlLmFnZ3JlZ2F0ZVZhbHVlKSksdH0sUi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuLG89e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYoby5uYW1lPVtdKSx0LmRlZmF1bHRzJiYoby5pZGVudGlmaWVyVmFsdWU9XCJcIixwLkxvbmc/KG49bmV3IHAuTG9uZygwLDAsITApLG8ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP24udG9TdHJpbmcoKTp0LmxvbmdzPT09TnVtYmVyP24udG9OdW1iZXIoKTpuKTpvLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9cIjBcIjowLHAuTG9uZz8obj1uZXcgcC5Mb25nKDAsMCwhMSksby5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/bi50b1N0cmluZygpOnQubG9uZ3M9PT1OdW1iZXI/bi50b051bWJlcigpOm4pOm8ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1wiMFwiOjAsby5kb3VibGVWYWx1ZT0wLHQuYnl0ZXM9PT1TdHJpbmc/by5zdHJpbmdWYWx1ZT1cIlwiOihvLnN0cmluZ1ZhbHVlPVtdLHQuYnl0ZXMhPT1BcnJheSYmKG8uc3RyaW5nVmFsdWU9cC5uZXdCdWZmZXIoby5zdHJpbmdWYWx1ZSkpKSxvLmFnZ3JlZ2F0ZVZhbHVlPVwiXCIpLGUubmFtZSYmZS5uYW1lLmxlbmd0aCl7by5uYW1lPVtdO2Zvcih2YXIgcj0wO3I8ZS5uYW1lLmxlbmd0aDsrK3Ipby5uYW1lW3JdPWwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQudG9PYmplY3QoZS5uYW1lW3JdLHQpfXJldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW50aWZpZXJWYWx1ZVwiKSYmKG8uaWRlbnRpZmllclZhbHVlPWUuaWRlbnRpZmllclZhbHVlKSxudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJwb3NpdGl2ZUludFZhbHVlXCIpJiYoXCJudW1iZXJcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZT9vLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5wb3NpdGl2ZUludFZhbHVlKTplLnBvc2l0aXZlSW50VmFsdWU6by5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/cC5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUucG9zaXRpdmVJbnRWYWx1ZSk6dC5sb25ncz09PU51bWJlcj9uZXcgcC5Mb25nQml0cyhlLnBvc2l0aXZlSW50VmFsdWUubG93Pj4+MCxlLnBvc2l0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCEwKTplLnBvc2l0aXZlSW50VmFsdWUpLG51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5lZ2F0aXZlSW50VmFsdWVcIikmJihcIm51bWJlclwiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlP28ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLm5lZ2F0aXZlSW50VmFsdWUpOmUubmVnYXRpdmVJbnRWYWx1ZTpvLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9wLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5uZWdhdGl2ZUludFZhbHVlKTp0LmxvbmdzPT09TnVtYmVyP25ldyBwLkxvbmdCaXRzKGUubmVnYXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUubmVnYXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoKTplLm5lZ2F0aXZlSW50VmFsdWUpLG51bGwhPWUuZG91YmxlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkb3VibGVWYWx1ZVwiKSYmKG8uZG91YmxlVmFsdWU9dC5qc29uJiYhaXNGaW5pdGUoZS5kb3VibGVWYWx1ZSk/U3RyaW5nKGUuZG91YmxlVmFsdWUpOmUuZG91YmxlVmFsdWUpLG51bGwhPWUuc3RyaW5nVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJzdHJpbmdWYWx1ZVwiKSYmKG8uc3RyaW5nVmFsdWU9dC5ieXRlcz09PVN0cmluZz9wLmJhc2U2NC5lbmNvZGUoZS5zdHJpbmdWYWx1ZSwwLGUuc3RyaW5nVmFsdWUubGVuZ3RoKTp0LmJ5dGVzPT09QXJyYXk/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5zdHJpbmdWYWx1ZSk6ZS5zdHJpbmdWYWx1ZSksbnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImFnZ3JlZ2F0ZVZhbHVlXCIpJiYoby5hZ2dyZWdhdGVWYWx1ZT1lLmFnZ3JlZ2F0ZVZhbHVlKSxvfSxSLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sUi5OYW1lUGFydD0oWi5wcm90b3R5cGUubmFtZVBhcnQ9XCJcIixaLnByb3RvdHlwZS5pc0V4dGVuc2lvbj0hMSxaLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFooZSl9LFouZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8aS5jcmVhdGUoKSkudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lUGFydCksdC51aW50MzIoMTYpLmJvb2woZS5pc0V4dGVuc2lvbiksdH0sWi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sWi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWVQYXJ0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uaXNFeHRlbnNpb249ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fWlmKCFvLmhhc093blByb3BlcnR5KFwibmFtZVBhcnRcIikpdGhyb3cgcC5Qcm90b2NvbEVycm9yKFwibWlzc2luZyByZXF1aXJlZCAnbmFtZVBhcnQnXCIse2luc3RhbmNlOm99KTtpZihvLmhhc093blByb3BlcnR5KFwiaXNFeHRlbnNpb25cIikpcmV0dXJuIG87dGhyb3cgcC5Qcm90b2NvbEVycm9yKFwibWlzc2luZyByZXF1aXJlZCAnaXNFeHRlbnNpb24nXCIse2luc3RhbmNlOm99KX0sWi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sWi52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6cC5pc1N0cmluZyhlLm5hbWVQYXJ0KT9cImJvb2xlYW5cIiE9dHlwZW9mIGUuaXNFeHRlbnNpb24/XCJpc0V4dGVuc2lvbjogYm9vbGVhbiBleHBlY3RlZFwiOm51bGw6XCJuYW1lUGFydDogc3RyaW5nIGV4cGVjdGVkXCJ9LFouZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQ/ZToodD1uZXcgbC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydCxudWxsIT1lLm5hbWVQYXJ0JiYodC5uYW1lUGFydD1TdHJpbmcoZS5uYW1lUGFydCkpLG51bGwhPWUuaXNFeHRlbnNpb24mJih0LmlzRXh0ZW5zaW9uPUJvb2xlYW4oZS5pc0V4dGVuc2lvbikpLHQpfSxaLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lUGFydD1cIlwiLG4uaXNFeHRlbnNpb249ITEpLG51bGwhPWUubmFtZVBhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lUGFydFwiKSYmKG4ubmFtZVBhcnQ9ZS5uYW1lUGFydCksbnVsbCE9ZS5pc0V4dGVuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImlzRXh0ZW5zaW9uXCIpJiYobi5pc0V4dGVuc2lvbj1lLmlzRXh0ZW5zaW9uKSxufSxaLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sWiksUiksbi5Tb3VyY2VDb2RlSW5mbz0oJC5wcm90b3R5cGUubG9jYXRpb249cC5lbXB0eUFycmF5LCQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgJChlKX0sJC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmxvY2F0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uZW5jb2RlKGUubG9jYXRpb25bbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LCQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LCQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLmxvY2F0aW9uJiZvLmxvY2F0aW9uLmxlbmd0aHx8KG8ubG9jYXRpb249W10pLG8ubG9jYXRpb24ucHVzaChsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sJC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sJC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sb2NhdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmxvY2F0aW9uKSlyZXR1cm5cImxvY2F0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5sb2NhdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1sLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi52ZXJpZnkoZS5sb2NhdGlvblt0XSk7aWYobilyZXR1cm5cImxvY2F0aW9uLlwiK259fXJldHVybiBudWxsfSwkLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGwuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvKXJldHVybiBlO3ZhciB0PW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mbztpZihlLmxvY2F0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLmxvY2F0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmxvY2F0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmxvY2F0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS5sb2NhdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5sb2NhdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmxvY2F0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5sb2NhdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5mcm9tT2JqZWN0KGUubG9jYXRpb25bbl0pfX1yZXR1cm4gdH0sJC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ubG9jYXRpb249W10pLGUubG9jYXRpb24mJmUubG9jYXRpb24ubGVuZ3RoKXtuLmxvY2F0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS5sb2NhdGlvbi5sZW5ndGg7KytvKW4ubG9jYXRpb25bb109bC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24udG9PYmplY3QoZS5sb2NhdGlvbltvXSx0KX1yZXR1cm4gbn0sJC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LCQuTG9jYXRpb249KEkucHJvdG90eXBlLnBhdGg9cC5lbXB0eUFycmF5LEkucHJvdG90eXBlLnNwYW49cC5lbXB0eUFycmF5LEkucHJvdG90eXBlLmxlYWRpbmdDb21tZW50cz1cIlwiLEkucHJvdG90eXBlLnRyYWlsaW5nQ29tbWVudHM9XCJcIixJLnByb3RvdHlwZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1wLmVtcHR5QXJyYXksSS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBJKGUpfSxJLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8aS5jcmVhdGUoKSxudWxsIT1lLnBhdGgmJmUucGF0aC5sZW5ndGgpe3QudWludDMyKDEwKS5mb3JrKCk7Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LmludDMyKGUucGF0aFtuXSk7dC5sZGVsaW0oKX1pZihudWxsIT1lLnNwYW4mJmUuc3Bhbi5sZW5ndGgpe3QudWludDMyKDE4KS5mb3JrKCk7Zm9yKG49MDtuPGUuc3Bhbi5sZW5ndGg7KytuKXQuaW50MzIoZS5zcGFuW25dKTt0LmxkZWxpbSgpfWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGVhZGluZ0NvbW1lbnRzXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUubGVhZGluZ0NvbW1lbnRzKSxudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0cmFpbGluZ0NvbW1lbnRzXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUudHJhaWxpbmdDb21tZW50cyksbnVsbCE9ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGgpZm9yKG49MDtuPGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrbil0LnVpbnQzMig1MCkuc3RyaW5nKGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbbl0pO3JldHVybiB0fSxJLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxJLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTppZihvLnBhdGgmJm8ucGF0aC5sZW5ndGh8fChvLnBhdGg9W10pLDI9PSg3JnIpKWZvcih2YXIgaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ucGF0aC5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnBhdGgucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMjppZihvLnNwYW4mJm8uc3Bhbi5sZW5ndGh8fChvLnNwYW49W10pLDI9PSg3JnIpKWZvcihpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5zcGFuLnB1c2goZS5pbnQzMigpKTtlbHNlIG8uc3Bhbi5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAzOm8ubGVhZGluZ0NvbW1lbnRzPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8udHJhaWxpbmdDb21tZW50cz1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aHx8KG8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W10pLG8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHMucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEkudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpcmV0dXJuXCJwYXRoOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wYXRoLmxlbmd0aDsrK3QpaWYoIXAuaXNJbnRlZ2VyKGUucGF0aFt0XSkpcmV0dXJuXCJwYXRoOiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLnNwYW4mJmUuaGFzT3duUHJvcGVydHkoXCJzcGFuXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnNwYW4pKXJldHVyblwic3BhbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5zcGFuLmxlbmd0aDsrK3QpaWYoIXAuaXNJbnRlZ2VyKGUuc3Bhblt0XSkpcmV0dXJuXCJzcGFuOiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcImxlYWRpbmdDb21tZW50c1wiKSYmIXAuaXNTdHJpbmcoZS5sZWFkaW5nQ29tbWVudHMpKXJldHVyblwibGVhZGluZ0NvbW1lbnRzOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJ0cmFpbGluZ0NvbW1lbnRzXCIpJiYhcC5pc1N0cmluZyhlLnRyYWlsaW5nQ29tbWVudHMpKXJldHVyblwidHJhaWxpbmdDb21tZW50czogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcImxlYWRpbmdEZXRhY2hlZENvbW1lbnRzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzKSlyZXR1cm5cImxlYWRpbmdEZXRhY2hlZENvbW1lbnRzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK3QpaWYoIXAuaXNTdHJpbmcoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1t0XSkpcmV0dXJuXCJsZWFkaW5nRGV0YWNoZWRDb21tZW50czogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sSS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBsLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb247aWYoZS5wYXRoKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24ucGF0aDogYXJyYXkgZXhwZWN0ZWRcIik7dC5wYXRoPVtdO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5wYXRoW25dPTB8ZS5wYXRoW25dfWlmKGUuc3Bhbil7aWYoIUFycmF5LmlzQXJyYXkoZS5zcGFuKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnNwYW46IGFycmF5IGV4cGVjdGVkXCIpO3Quc3Bhbj1bXTtmb3Iobj0wO248ZS5zcGFuLmxlbmd0aDsrK24pdC5zcGFuW25dPTB8ZS5zcGFuW25dfWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiYodC5sZWFkaW5nQ29tbWVudHM9U3RyaW5nKGUubGVhZGluZ0NvbW1lbnRzKSksbnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiYodC50cmFpbGluZ0NvbW1lbnRzPVN0cmluZyhlLnRyYWlsaW5nQ29tbWVudHMpKSxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzKXtpZighQXJyYXkuaXNBcnJheShlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzOiBhcnJheSBleHBlY3RlZFwiKTt0LmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdO2ZvcihuPTA7bjxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK24pdC5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tuXT1TdHJpbmcoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tuXSl9cmV0dXJuIHR9LEkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBhdGg9W10sbi5zcGFuPVtdLG4ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W10pLHQuZGVmYXVsdHMmJihuLmxlYWRpbmdDb21tZW50cz1cIlwiLG4udHJhaWxpbmdDb21tZW50cz1cIlwiKSxlLnBhdGgmJmUucGF0aC5sZW5ndGgpe24ucGF0aD1bXTtmb3IodmFyIG89MDtvPGUucGF0aC5sZW5ndGg7KytvKW4ucGF0aFtvXT1lLnBhdGhbb119aWYoZS5zcGFuJiZlLnNwYW4ubGVuZ3RoKXtuLnNwYW49W107Zm9yKG89MDtvPGUuc3Bhbi5sZW5ndGg7KytvKW4uc3BhbltvXT1lLnNwYW5bb119aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJsZWFkaW5nQ29tbWVudHNcIikmJihuLmxlYWRpbmdDb21tZW50cz1lLmxlYWRpbmdDb21tZW50cyksbnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwidHJhaWxpbmdDb21tZW50c1wiKSYmKG4udHJhaWxpbmdDb21tZW50cz1lLnRyYWlsaW5nQ29tbWVudHMpLGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJmUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoKXtuLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdO2ZvcihvPTA7bzxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK28pbi5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tvXT1lLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW29dfXJldHVybiBufSxJLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSSksJCksbi5HZW5lcmF0ZWRDb2RlSW5mbz0oZWUucHJvdG90eXBlLmFubm90YXRpb249cC5lbXB0eUFycmF5LGVlLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGVlKGUpfSxlZS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fGkuY3JlYXRlKCksbnVsbCE9ZS5hbm5vdGF0aW9uJiZlLmFubm90YXRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK24pbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5lbmNvZGUoZS5hbm5vdGF0aW9uW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxlZS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sZWUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLmFubm90YXRpb24mJm8uYW5ub3RhdGlvbi5sZW5ndGh8fChvLmFubm90YXRpb249W10pLG8uYW5ub3RhdGlvbi5wdXNoKGwuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LGVlLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxlZS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hbm5vdGF0aW9uJiZlLmhhc093blByb3BlcnR5KFwiYW5ub3RhdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5hbm5vdGF0aW9uKSlyZXR1cm5cImFubm90YXRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmFubm90YXRpb24ubGVuZ3RoOysrdCl7dmFyIG49bC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi52ZXJpZnkoZS5hbm5vdGF0aW9uW3RdKTtpZihuKXJldHVyblwiYW5ub3RhdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sZWUuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8pcmV0dXJuIGU7dmFyIHQ9bmV3IGwuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvO2lmKGUuYW5ub3RhdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5hbm5vdGF0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLmFubm90YXRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QuYW5ub3RhdGlvbj1bXTtmb3IodmFyIG49MDtuPGUuYW5ub3RhdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5hbm5vdGF0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uYW5ub3RhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYW5ub3RhdGlvbltuXT1sLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLmZyb21PYmplY3QoZS5hbm5vdGF0aW9uW25dKX19cmV0dXJuIHR9LGVlLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5hbm5vdGF0aW9uPVtdKSxlLmFubm90YXRpb24mJmUuYW5ub3RhdGlvbi5sZW5ndGgpe24uYW5ub3RhdGlvbj1bXTtmb3IodmFyIG89MDtvPGUuYW5ub3RhdGlvbi5sZW5ndGg7KytvKW4uYW5ub3RhdGlvbltvXT1sLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnRvT2JqZWN0KGUuYW5ub3RhdGlvbltvXSx0KX1yZXR1cm4gbn0sZWUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxlZS5Bbm5vdGF0aW9uPShDLnByb3RvdHlwZS5wYXRoPXAuZW1wdHlBcnJheSxDLnByb3RvdHlwZS5zb3VyY2VGaWxlPVwiXCIsQy5wcm90b3R5cGUuYmVnaW49MCxDLnByb3RvdHlwZS5lbmQ9MCxDLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEMoZSl9LEMuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxpLmNyZWF0ZSgpLG51bGwhPWUucGF0aCYmZS5wYXRoLmxlbmd0aCl7dC51aW50MzIoMTApLmZvcmsoKTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQuaW50MzIoZS5wYXRoW25dKTt0LmxkZWxpbSgpfXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzb3VyY2VGaWxlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuc291cmNlRmlsZSksbnVsbCE9ZS5iZWdpbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImJlZ2luXCIpJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5iZWdpbiksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDMyKS5pbnQzMihlLmVuZCksdH0sQy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sQy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTppZihvLnBhdGgmJm8ucGF0aC5sZW5ndGh8fChvLnBhdGg9W10pLDI9PSg3JnIpKWZvcih2YXIgaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ucGF0aC5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnBhdGgucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMjpvLnNvdXJjZUZpbGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5iZWdpbj1lLmludDMyKCk7YnJlYWs7Y2FzZSA0Om8uZW5kPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpcmV0dXJuXCJwYXRoOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5wYXRoLmxlbmd0aDsrK3QpaWYoIXAuaXNJbnRlZ2VyKGUucGF0aFt0XSkpcmV0dXJuXCJwYXRoOiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiZlLmhhc093blByb3BlcnR5KFwic291cmNlRmlsZVwiKSYmIXAuaXNTdHJpbmcoZS5zb3VyY2VGaWxlKT9cInNvdXJjZUZpbGU6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUuYmVnaW4mJmUuaGFzT3duUHJvcGVydHkoXCJiZWdpblwiKSYmIXAuaXNJbnRlZ2VyKGUuYmVnaW4pP1wiYmVnaW46IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIXAuaXNJbnRlZ2VyKGUuZW5kKT9cImVuZDogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LEMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgbC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbjtpZihlLnBhdGgpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnBhdGg6IGFycmF5IGV4cGVjdGVkXCIpO3QucGF0aD1bXTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQucGF0aFtuXT0wfGUucGF0aFtuXX1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiYodC5zb3VyY2VGaWxlPVN0cmluZyhlLnNvdXJjZUZpbGUpKSxudWxsIT1lLmJlZ2luJiYodC5iZWdpbj0wfGUuYmVnaW4pLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksdH0sQy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGF0aD1bXSksdC5kZWZhdWx0cyYmKG4uc291cmNlRmlsZT1cIlwiLG4uYmVnaW49MCxuLmVuZD0wKSxlLnBhdGgmJmUucGF0aC5sZW5ndGgpe24ucGF0aD1bXTtmb3IodmFyIG89MDtvPGUucGF0aC5sZW5ndGg7KytvKW4ucGF0aFtvXT1lLnBhdGhbb119cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUZpbGVcIikmJihuLnNvdXJjZUZpbGU9ZS5zb3VyY2VGaWxlKSxudWxsIT1lLmJlZ2luJiZlLmhhc093blByb3BlcnR5KFwiYmVnaW5cIikmJihuLmJlZ2luPWUuYmVnaW4pLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG59LEMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxDKSxlZSksbiksRi50eXBlPSgocj17fSkuRXhwcj0oVi5wcm90b3R5cGUuZXhwcmVzc2lvbj1cIlwiLFYucHJvdG90eXBlLnRpdGxlPVwiXCIsVi5wcm90b3R5cGUuZGVzY3JpcHRpb249XCJcIixWLnByb3RvdHlwZS5sb2NhdGlvbj1cIlwiLFYuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVihlKX0sVi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxpLmNyZWF0ZSgpLG51bGwhPWUuZXhwcmVzc2lvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImV4cHJlc3Npb25cIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5leHByZXNzaW9uKSxudWxsIT1lLnRpdGxlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidGl0bGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS50aXRsZSksbnVsbCE9ZS5kZXNjcmlwdGlvbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlc2NyaXB0aW9uXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUuZGVzY3JpcHRpb24pLG51bGwhPWUubG9jYXRpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsb2NhdGlvblwiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLmxvY2F0aW9uKSx0fSxWLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxWLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBsLmdvb2dsZS50eXBlLkV4cHI7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5leHByZXNzaW9uPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8udGl0bGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5kZXNjcmlwdGlvbj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLmxvY2F0aW9uPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxWLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxWLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLmV4cHJlc3Npb24mJmUuaGFzT3duUHJvcGVydHkoXCJleHByZXNzaW9uXCIpJiYhcC5pc1N0cmluZyhlLmV4cHJlc3Npb24pP1wiZXhwcmVzc2lvbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS50aXRsZSYmZS5oYXNPd25Qcm9wZXJ0eShcInRpdGxlXCIpJiYhcC5pc1N0cmluZyhlLnRpdGxlKT9cInRpdGxlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmRlc2NyaXB0aW9uJiZlLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikmJiFwLmlzU3RyaW5nKGUuZGVzY3JpcHRpb24pP1wiZGVzY3JpcHRpb246IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUubG9jYXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSYmIXAuaXNTdHJpbmcoZS5sb2NhdGlvbik/XCJsb2NhdGlvbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sVi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgbC5nb29nbGUudHlwZS5FeHByP2U6KHQ9bmV3IGwuZ29vZ2xlLnR5cGUuRXhwcixudWxsIT1lLmV4cHJlc3Npb24mJih0LmV4cHJlc3Npb249U3RyaW5nKGUuZXhwcmVzc2lvbikpLG51bGwhPWUudGl0bGUmJih0LnRpdGxlPVN0cmluZyhlLnRpdGxlKSksbnVsbCE9ZS5kZXNjcmlwdGlvbiYmKHQuZGVzY3JpcHRpb249U3RyaW5nKGUuZGVzY3JpcHRpb24pKSxudWxsIT1lLmxvY2F0aW9uJiYodC5sb2NhdGlvbj1TdHJpbmcoZS5sb2NhdGlvbikpLHQpfSxWLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5leHByZXNzaW9uPVwiXCIsbi50aXRsZT1cIlwiLG4uZGVzY3JpcHRpb249XCJcIixuLmxvY2F0aW9uPVwiXCIpLG51bGwhPWUuZXhwcmVzc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImV4cHJlc3Npb25cIikmJihuLmV4cHJlc3Npb249ZS5leHByZXNzaW9uKSxudWxsIT1lLnRpdGxlJiZlLmhhc093blByb3BlcnR5KFwidGl0bGVcIikmJihuLnRpdGxlPWUudGl0bGUpLG51bGwhPWUuZGVzY3JpcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSYmKG4uZGVzY3JpcHRpb249ZS5kZXNjcmlwdGlvbiksbnVsbCE9ZS5sb2NhdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uXCIpJiYobi5sb2NhdGlvbj1lLmxvY2F0aW9uKSxufSxWLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sViksciksRiksbH0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/protos/iam_service.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/protos/locations.js":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/protos/locations.js ***!
  \***********************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(e=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! protobufjs/minimal */ \"(rsc)/./node_modules/protobufjs/minimal.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(o){var e,t,n,F,s=o.Reader,r=o.Writer,u=o.util,c=o.roots.locations_protos||(o.roots.locations_protos={});function L(e,t,n){o.rpc.Service.call(this,e,t,n)}function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function a(e){if(this.locations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function G(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function p(e){if(this.labels={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function l(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function B(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(this.uninterpretedOption=[],this[\".google.api.methodSignature\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return c.google=((F={}).cloud=((n={}).location=((e={}).Locations=(((L.prototype=Object.create(o.rpc.Service.prototype)).constructor=L).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(L.prototype.listLocations=function e(t,n){return this.rpcCall(e,c.google.cloud.location.ListLocationsRequest,c.google.cloud.location.ListLocationsResponse,t,n)},\"name\",{value:\"ListLocations\"}),Object.defineProperty(L.prototype.getLocation=function e(t,n){return this.rpcCall(e,c.google.cloud.location.GetLocationRequest,c.google.cloud.location.Location,t,n)},\"name\",{value:\"GetLocation\"}),L),e.ListLocationsRequest=(i.prototype.name=\"\",i.prototype.filter=\"\",i.prototype.pageSize=0,i.prototype.pageToken=\"\",i.create=function(e){return new i(e)},i.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.filter&&Object.hasOwnProperty.call(e,\"filter\")&&t.uint32(18).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,\"pageSize\")&&t.uint32(24).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,\"pageToken\")&&t.uint32(34).string(e.pageToken),t},i.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},i.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.ListLocationsRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.filter=e.string();break;case 3:o.pageSize=e.int32();break;case 4:o.pageToken=e.string();break;default:e.skipType(7&r)}}return o},i.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},i.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name)?\"name: string expected\":null!=e.filter&&e.hasOwnProperty(\"filter\")&&!u.isString(e.filter)?\"filter: string expected\":null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&!u.isInteger(e.pageSize)?\"pageSize: integer expected\":null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&!u.isString(e.pageToken)?\"pageToken: string expected\":null},i.fromObject=function(e){var t;return e instanceof c.google.cloud.location.ListLocationsRequest?e:(t=new c.google.cloud.location.ListLocationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},i.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.filter=\"\",n.pageSize=0,n.pageToken=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.filter&&e.hasOwnProperty(\"filter\")&&(n.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&(n.pageToken=e.pageToken),n},i.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},i),e.ListLocationsResponse=(a.prototype.locations=u.emptyArray,a.prototype.nextPageToken=\"\",a.create=function(e){return new a(e)},a.encode=function(e,t){if(t=t||r.create(),null!=e.locations&&e.locations.length)for(var n=0;n<e.locations.length;++n)c.google.cloud.location.Location.encode(e.locations[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,\"nextPageToken\")&&t.uint32(18).string(e.nextPageToken),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.ListLocationsResponse;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.locations&&o.locations.length||(o.locations=[]),o.locations.push(c.google.cloud.location.Location.decode(e,e.uint32()));break;case 2:o.nextPageToken=e.string();break;default:e.skipType(7&r)}}return o},a.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},a.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.locations&&e.hasOwnProperty(\"locations\")){if(!Array.isArray(e.locations))return\"locations: array expected\";for(var t=0;t<e.locations.length;++t){var n=c.google.cloud.location.Location.verify(e.locations[t]);if(n)return\"locations.\"+n}}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&!u.isString(e.nextPageToken)?\"nextPageToken: string expected\":null},a.fromObject=function(e){if(e instanceof c.google.cloud.location.ListLocationsResponse)return e;var t=new c.google.cloud.location.ListLocationsResponse;if(e.locations){if(!Array.isArray(e.locations))throw TypeError(\".google.cloud.location.ListLocationsResponse.locations: array expected\");t.locations=[];for(var n=0;n<e.locations.length;++n){if(\"object\"!=typeof e.locations[n])throw TypeError(\".google.cloud.location.ListLocationsResponse.locations: object expected\");t.locations[n]=c.google.cloud.location.Location.fromObject(e.locations[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},a.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.locations=[]),t.defaults&&(n.nextPageToken=\"\"),e.locations&&e.locations.length){n.locations=[];for(var o=0;o<e.locations.length;++o)n.locations[o]=c.google.cloud.location.Location.toObject(e.locations[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&(n.nextPageToken=e.nextPageToken),n},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a),e.GetLocationRequest=(G.prototype.name=\"\",G.create=function(e){return new G(e)},G.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.GetLocationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},G.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},G.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name)?\"name: string expected\":null},G.fromObject=function(e){var t;return e instanceof c.google.cloud.location.GetLocationRequest?e:(t=new c.google.cloud.location.GetLocationRequest,null!=e.name&&(t.name=String(e.name)),t)},G.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},G.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},G),e.Location=(p.prototype.name=\"\",p.prototype.locationId=\"\",p.prototype.displayName=\"\",p.prototype.labels=u.emptyObject,p.prototype.metadata=null,p.create=function(e){return new p(e)},p.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.labels&&Object.hasOwnProperty.call(e,\"labels\"))for(var n=Object.keys(e.labels),o=0;o<n.length;++o)t.uint32(18).fork().uint32(10).string(n[o]).uint32(18).string(e.labels[n[o]]).ldelim();return null!=e.metadata&&Object.hasOwnProperty.call(e,\"metadata\")&&c.google.protobuf.Any.encode(e.metadata,t.uint32(26).fork()).ldelim(),null!=e.locationId&&Object.hasOwnProperty.call(e,\"locationId\")&&t.uint32(34).string(e.locationId),null!=e.displayName&&Object.hasOwnProperty.call(e,\"displayName\")&&t.uint32(42).string(e.displayName),t},p.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},p.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.cloud.location.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 4:o.locationId=e.string();break;case 5:o.displayName=e.string();break;case 2:o.labels===u.emptyObject&&(o.labels={});for(var i=e.uint32()+e.pos,a=\"\",p=\"\";e.pos<i;){var l=e.uint32();switch(l>>>3){case 1:a=e.string();break;case 2:p=e.string();break;default:e.skipType(7&l)}}o.labels[a]=p;break;case 3:o.metadata=c.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},p.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},p.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.locationId&&e.hasOwnProperty(\"locationId\")&&!u.isString(e.locationId))return\"locationId: string expected\";if(null!=e.displayName&&e.hasOwnProperty(\"displayName\")&&!u.isString(e.displayName))return\"displayName: string expected\";if(null!=e.labels&&e.hasOwnProperty(\"labels\")){if(!u.isObject(e.labels))return\"labels: object expected\";for(var t=Object.keys(e.labels),n=0;n<t.length;++n)if(!u.isString(e.labels[t[n]]))return\"labels: string{k:string} expected\"}if(null!=e.metadata&&e.hasOwnProperty(\"metadata\")){var o=c.google.protobuf.Any.verify(e.metadata);if(o)return\"metadata.\"+o}return null},p.fromObject=function(e){if(e instanceof c.google.cloud.location.Location)return e;var t=new c.google.cloud.location.Location;if(null!=e.name&&(t.name=String(e.name)),null!=e.locationId&&(t.locationId=String(e.locationId)),null!=e.displayName&&(t.displayName=String(e.displayName)),e.labels){if(\"object\"!=typeof e.labels)throw TypeError(\".google.cloud.location.Location.labels: object expected\");t.labels={};for(var n=Object.keys(e.labels),o=0;o<n.length;++o)t.labels[n[o]]=String(e.labels[n[o]])}if(null!=e.metadata){if(\"object\"!=typeof e.metadata)throw TypeError(\".google.cloud.location.Location.metadata: object expected\");t.metadata=c.google.protobuf.Any.fromObject(e.metadata)}return t},p.toObject=function(e,t){var n,o={};if(((t=t||{}).objects||t.defaults)&&(o.labels={}),t.defaults&&(o.name=\"\",o.metadata=null,o.locationId=\"\",o.displayName=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(o.name=e.name),e.labels&&(n=Object.keys(e.labels)).length){o.labels={};for(var r=0;r<n.length;++r)o.labels[n[r]]=e.labels[n[r]]}return null!=e.metadata&&e.hasOwnProperty(\"metadata\")&&(o.metadata=c.google.protobuf.Any.toObject(e.metadata,t)),null!=e.locationId&&e.hasOwnProperty(\"locationId\")&&(o.locationId=e.locationId),null!=e.displayName&&e.hasOwnProperty(\"displayName\")&&(o.displayName=e.displayName),o},p.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},p),e),n),F.api=((e={}).Http=(l.prototype.rules=u.emptyArray,l.prototype.fullyDecodeReservedExpansion=!1,l.create=function(e){return new l(e)},l.encode=function(e,t){if(t=t||r.create(),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)c.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,\"fullyDecodeReservedExpansion\")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.api.Http;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(c.google.api.HttpRule.decode(e,e.uint32()));break;case 2:o.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&r)}}return o},l.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},l.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.rules&&e.hasOwnProperty(\"rules\")){if(!Array.isArray(e.rules))return\"rules: array expected\";for(var t=0;t<e.rules.length;++t){var n=c.google.api.HttpRule.verify(e.rules[t]);if(n)return\"rules.\"+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&\"boolean\"!=typeof e.fullyDecodeReservedExpansion?\"fullyDecodeReservedExpansion: boolean expected\":null},l.fromObject=function(e){if(e instanceof c.google.api.Http)return e;var t=new c.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(\".google.api.Http.rules: array expected\");t.rules=[];for(var n=0;n<e.rules.length;++n){if(\"object\"!=typeof e.rules[n])throw TypeError(\".google.api.Http.rules: object expected\");t.rules[n]=c.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},l.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=c.google.api.HttpRule.toObject(e.rules[o],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},l),e.HttpRule=(d.prototype.selector=\"\",d.prototype.get=null,d.prototype.put=null,d.prototype.post=null,d.prototype.delete=null,d.prototype.patch=null,d.prototype.custom=null,d.prototype.body=\"\",d.prototype.responseBody=\"\",d.prototype.additionalBindings=u.emptyArray,Object.defineProperty(d.prototype,\"pattern\",{get:u.oneOfGetter(n=[\"get\",\"put\",\"post\",\"delete\",\"patch\",\"custom\"]),set:u.oneOfSetter(n)}),d.create=function(e){return new d(e)},d.encode=function(e,t){if(t=t||r.create(),null!=e.selector&&Object.hasOwnProperty.call(e,\"selector\")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,\"get\")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,\"put\")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,\"post\")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,\"delete\")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,\"patch\")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,\"body\")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,\"custom\")&&c.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)c.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,\"responseBody\")&&t.uint32(98).string(e.responseBody),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.api.HttpRule;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.selector=e.string();break;case 2:o.get=e.string();break;case 3:o.put=e.string();break;case 4:o.post=e.string();break;case 5:o.delete=e.string();break;case 6:o.patch=e.string();break;case 8:o.custom=c.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:o.body=e.string();break;case 12:o.responseBody=e.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(c.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},d.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},d.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t={};if(null!=e.selector&&e.hasOwnProperty(\"selector\")&&!u.isString(e.selector))return\"selector: string expected\";if(null!=e.get&&e.hasOwnProperty(\"get\")&&(t.pattern=1,!u.isString(e.get)))return\"get: string expected\";if(null!=e.put&&e.hasOwnProperty(\"put\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.put))return\"put: string expected\"}if(null!=e.post&&e.hasOwnProperty(\"post\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.post))return\"post: string expected\"}if(null!=e.delete&&e.hasOwnProperty(\"delete\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.delete))return\"delete: string expected\"}if(null!=e.patch&&e.hasOwnProperty(\"patch\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!u.isString(e.patch))return\"patch: string expected\"}if(null!=e.custom&&e.hasOwnProperty(\"custom\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,n=c.google.api.CustomHttpPattern.verify(e.custom))return\"custom.\"+n}if(null!=e.body&&e.hasOwnProperty(\"body\")&&!u.isString(e.body))return\"body: string expected\";if(null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&!u.isString(e.responseBody))return\"responseBody: string expected\";if(null!=e.additionalBindings&&e.hasOwnProperty(\"additionalBindings\")){if(!Array.isArray(e.additionalBindings))return\"additionalBindings: array expected\";for(var n,o=0;o<e.additionalBindings.length;++o)if(n=c.google.api.HttpRule.verify(e.additionalBindings[o]))return\"additionalBindings.\"+n}return null},d.fromObject=function(e){if(e instanceof c.google.api.HttpRule)return e;var t=new c.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if(\"object\"!=typeof e.custom)throw TypeError(\".google.api.HttpRule.custom: object expected\");t.custom=c.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(\".google.api.HttpRule.additionalBindings: array expected\");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if(\"object\"!=typeof e.additionalBindings[n])throw TypeError(\".google.api.HttpRule.additionalBindings: object expected\");t.additionalBindings[n]=c.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},d.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector=\"\",n.body=\"\",n.responseBody=\"\"),null!=e.selector&&e.hasOwnProperty(\"selector\")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty(\"get\")&&(n.get=e.get,t.oneofs)&&(n.pattern=\"get\"),null!=e.put&&e.hasOwnProperty(\"put\")&&(n.put=e.put,t.oneofs)&&(n.pattern=\"put\"),null!=e.post&&e.hasOwnProperty(\"post\")&&(n.post=e.post,t.oneofs)&&(n.pattern=\"post\"),null!=e.delete&&e.hasOwnProperty(\"delete\")&&(n.delete=e.delete,t.oneofs)&&(n.pattern=\"delete\"),null!=e.patch&&e.hasOwnProperty(\"patch\")&&(n.patch=e.patch,t.oneofs)&&(n.pattern=\"patch\"),null!=e.body&&e.hasOwnProperty(\"body\")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty(\"custom\")&&(n.custom=c.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(n.pattern=\"custom\"),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)n.additionalBindings[o]=c.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&(n.responseBody=e.responseBody),n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),e.CustomHttpPattern=(g.prototype.kind=\"\",g.prototype.path=\"\",g.create=function(e){return new g(e)},g.encode=function(e,t){return t=t||r.create(),null!=e.kind&&Object.hasOwnProperty.call(e,\"kind\")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,\"path\")&&t.uint32(18).string(e.path),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.api.CustomHttpPattern;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.kind=e.string();break;case 2:o.path=e.string();break;default:e.skipType(7&r)}}return o},g.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},g.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.kind&&e.hasOwnProperty(\"kind\")&&!u.isString(e.kind)?\"kind: string expected\":null!=e.path&&e.hasOwnProperty(\"path\")&&!u.isString(e.path)?\"path: string expected\":null},g.fromObject=function(e){var t;return e instanceof c.google.api.CustomHttpPattern?e:(t=new c.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},g.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.kind=\"\",n.path=\"\"),null!=e.kind&&e.hasOwnProperty(\"kind\")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty(\"path\")&&(n.path=e.path),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g),e),F.protobuf=((n={}).FileDescriptorSet=(B.prototype.file=u.emptyArray,B.create=function(e){return new B(e)},B.encode=function(e,t){if(t=t||r.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)c.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(c.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},B.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},B.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.file&&e.hasOwnProperty(\"file\")){if(!Array.isArray(e.file))return\"file: array expected\";for(var t=0;t<e.file.length;++t){var n=c.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return\"file.\"+n}}return null},B.fromObject=function(e){if(e instanceof c.google.protobuf.FileDescriptorSet)return e;var t=new c.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(\".google.protobuf.FileDescriptorSet.file: array expected\");t.file=[];for(var n=0;n<e.file.length;++n){if(\"object\"!=typeof e.file[n])throw TypeError(\".google.protobuf.FileDescriptorSet.file: object expected\");t.file[n]=c.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},B.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var o=0;o<e.file.length;++o)n.file[o]=c.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return n},B.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},B),n.FileDescriptorProto=(f.prototype.name=\"\",f.prototype.package=\"\",f.prototype.dependency=u.emptyArray,f.prototype.publicDependency=u.emptyArray,f.prototype.weakDependency=u.emptyArray,f.prototype.messageType=u.emptyArray,f.prototype.enumType=u.emptyArray,f.prototype.service=u.emptyArray,f.prototype.extension=u.emptyArray,f.prototype.options=null,f.prototype.sourceCodeInfo=null,f.prototype.syntax=\"\",f.create=function(e){return new f(e)},f.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,\"package\")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)c.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)c.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)c.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)c.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,\"sourceCodeInfo\")&&c.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,\"syntax\")&&t.uint32(98).string(e.syntax),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(c.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(c.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(c.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(c.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=c.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=c.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},f.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},f.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.package&&e.hasOwnProperty(\"package\")&&!u.isString(e.package))return\"package: string expected\";if(null!=e.dependency&&e.hasOwnProperty(\"dependency\")){if(!Array.isArray(e.dependency))return\"dependency: array expected\";for(var t=0;t<e.dependency.length;++t)if(!u.isString(e.dependency[t]))return\"dependency: string[] expected\"}if(null!=e.publicDependency&&e.hasOwnProperty(\"publicDependency\")){if(!Array.isArray(e.publicDependency))return\"publicDependency: array expected\";for(t=0;t<e.publicDependency.length;++t)if(!u.isInteger(e.publicDependency[t]))return\"publicDependency: integer[] expected\"}if(null!=e.weakDependency&&e.hasOwnProperty(\"weakDependency\")){if(!Array.isArray(e.weakDependency))return\"weakDependency: array expected\";for(t=0;t<e.weakDependency.length;++t)if(!u.isInteger(e.weakDependency[t]))return\"weakDependency: integer[] expected\"}if(null!=e.messageType&&e.hasOwnProperty(\"messageType\")){if(!Array.isArray(e.messageType))return\"messageType: array expected\";for(t=0;t<e.messageType.length;++t)if(n=c.google.protobuf.DescriptorProto.verify(e.messageType[t]))return\"messageType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=c.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.service&&e.hasOwnProperty(\"service\")){if(!Array.isArray(e.service))return\"service: array expected\";for(t=0;t<e.service.length;++t)if(n=c.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return\"service.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=c.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.FileOptions.verify(e.options)))return\"options.\"+n;if(null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n=c.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo)))return\"sourceCodeInfo.\"+n;return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&!u.isString(e.syntax)?\"syntax: string expected\":null},f.fromObject=function(e){if(e instanceof c.google.protobuf.FileDescriptorProto)return e;var t=new c.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(\".google.protobuf.FileDescriptorProto.dependency: array expected\");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.publicDependency: array expected\");t.publicDependency=[];for(n=0;n<e.publicDependency.length;++n)t.publicDependency[n]=0|e.publicDependency[n]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.weakDependency: array expected\");t.weakDependency=[];for(n=0;n<e.weakDependency.length;++n)t.weakDependency[n]=0|e.weakDependency[n]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: array expected\");t.messageType=[];for(n=0;n<e.messageType.length;++n){if(\"object\"!=typeof e.messageType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: object expected\");t.messageType[n]=c.google.protobuf.DescriptorProto.fromObject(e.messageType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: object expected\");t.enumType[n]=c.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(\".google.protobuf.FileDescriptorProto.service: array expected\");t.service=[];for(n=0;n<e.service.length;++n){if(\"object\"!=typeof e.service[n])throw TypeError(\".google.protobuf.FileDescriptorProto.service: object expected\");t.service[n]=c.google.protobuf.ServiceDescriptorProto.fromObject(e.service[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.FileDescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.FileDescriptorProto.extension: object expected\");t.extension[n]=c.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FileDescriptorProto.options: object expected\");t.options=c.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if(\"object\"!=typeof e.sourceCodeInfo)throw TypeError(\".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected\");t.sourceCodeInfo=c.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},f.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name=\"\",n.package=\"\",n.options=null,n.sourceCodeInfo=null,n.syntax=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty(\"package\")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var o=0;o<e.dependency.length;++o)n.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length){n.messageType=[];for(o=0;o<e.messageType.length;++o)n.messageType[o]=c.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=c.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.service&&e.service.length){n.service=[];for(o=0;o<e.service.length;++o)n.service[o]=c.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=c.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n.sourceCodeInfo=c.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(o=0;o<e.publicDependency.length;++o)n.publicDependency[o]=e.publicDependency[o]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(o=0;o<e.weakDependency.length;++o)n.weakDependency[o]=e.weakDependency[o]}return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&(n.syntax=e.syntax),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f),n.DescriptorProto=(y.prototype.name=\"\",y.prototype.field=u.emptyArray,y.prototype.extension=u.emptyArray,y.prototype.nestedType=u.emptyArray,y.prototype.enumType=u.emptyArray,y.prototype.extensionRange=u.emptyArray,y.prototype.oneofDecl=u.emptyArray,y.prototype.options=null,y.prototype.reservedRange=u.emptyArray,y.prototype.reservedName=u.emptyArray,y.create=function(e){return new y(e)},y.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)c.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)c.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)c.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)c.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)c.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)c.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)c.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(c.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(c.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(c.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(c.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(c.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(c.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=c.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(c.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},y.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},y.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.field&&e.hasOwnProperty(\"field\")){if(!Array.isArray(e.field))return\"field: array expected\";for(var t=0;t<e.field.length;++t)if(n=c.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return\"field.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=c.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}if(null!=e.nestedType&&e.hasOwnProperty(\"nestedType\")){if(!Array.isArray(e.nestedType))return\"nestedType: array expected\";for(t=0;t<e.nestedType.length;++t)if(n=c.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return\"nestedType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=c.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.extensionRange&&e.hasOwnProperty(\"extensionRange\")){if(!Array.isArray(e.extensionRange))return\"extensionRange: array expected\";for(t=0;t<e.extensionRange.length;++t)if(n=c.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return\"extensionRange.\"+n}if(null!=e.oneofDecl&&e.hasOwnProperty(\"oneofDecl\")){if(!Array.isArray(e.oneofDecl))return\"oneofDecl: array expected\";for(t=0;t<e.oneofDecl.length;++t)if(n=c.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return\"oneofDecl.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.MessageOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=c.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!u.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},y.fromObject=function(e){if(e instanceof c.google.protobuf.DescriptorProto)return e;var t=new c.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(\".google.protobuf.DescriptorProto.field: array expected\");t.field=[];for(var n=0;n<e.field.length;++n){if(\"object\"!=typeof e.field[n])throw TypeError(\".google.protobuf.DescriptorProto.field: object expected\");t.field[n]=c.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.DescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.DescriptorProto.extension: object expected\");t.extension[n]=c.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(\".google.protobuf.DescriptorProto.nestedType: array expected\");t.nestedType=[];for(n=0;n<e.nestedType.length;++n){if(\"object\"!=typeof e.nestedType[n])throw TypeError(\".google.protobuf.DescriptorProto.nestedType: object expected\");t.nestedType[n]=c.google.protobuf.DescriptorProto.fromObject(e.nestedType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.DescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.DescriptorProto.enumType: object expected\");t.enumType[n]=c.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: array expected\");t.extensionRange=[];for(n=0;n<e.extensionRange.length;++n){if(\"object\"!=typeof e.extensionRange[n])throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: object expected\");t.extensionRange[n]=c.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[n])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: array expected\");t.oneofDecl=[];for(n=0;n<e.oneofDecl.length;++n){if(\"object\"!=typeof e.oneofDecl[n])throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: object expected\");t.oneofDecl[n]=c.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.options: object expected\");t.options=c.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: object expected\");t.reservedRange[n]=c.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.DescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},y.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var o=0;o<e.field.length;++o)n.field[o]=c.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(o=0;o<e.nestedType.length;++o)n.nestedType[o]=c.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=c.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(o=0;o<e.extensionRange.length;++o)n.extensionRange[o]=c.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=c.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(o=0;o<e.oneofDecl.length;++o)n.oneofDecl[o]=c.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=c.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y.ExtensionRange=(h.prototype.start=0,h.prototype.end=0,h.prototype.options=null,h.create=function(e){return new h(e)},h.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=c.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},h.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},h.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.start&&e.hasOwnProperty(\"start\")&&!u.isInteger(e.start))return\"start: integer expected\";if(null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end))return\"end: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=c.google.protobuf.ExtensionRangeOptions.verify(e.options);if(e)return\"options.\"+e}return null},h.fromObject=function(e){if(e instanceof c.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new c.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.ExtensionRange.options: object expected\");t.options=c.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},h.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0,n.options=null),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),y.ReservedRange=(b.prototype.start=0,b.prototype.end=0,b.create=function(e){return new b(e)},b.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},b.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},b.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!u.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end)?\"end: integer expected\":null},b.fromObject=function(e){var t;return e instanceof c.google.protobuf.DescriptorProto.ReservedRange?e:(t=new c.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},b.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b),y),n.ExtensionRangeOptions=(U.prototype.uninterpretedOption=u.emptyArray,U.create=function(e){return new U(e)},U.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},U.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},U.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},U.fromObject=function(e){if(e instanceof c.google.protobuf.ExtensionRangeOptions)return e;var t=new c.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},U.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},U.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},U),n.FieldDescriptorProto=(O.prototype.name=\"\",O.prototype.number=0,O.prototype.label=1,O.prototype.type=1,O.prototype.typeName=\"\",O.prototype.extendee=\"\",O.prototype.defaultValue=\"\",O.prototype.oneofIndex=0,O.prototype.jsonName=\"\",O.prototype.options=null,O.prototype.proto3Optional=!1,O.create=function(e){return new O(e)},O.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,\"extendee\")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,\"label\")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,\"typeName\")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,\"defaultValue\")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,\"oneofIndex\")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,\"jsonName\")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,\"proto3Optional\")&&t.uint32(136).bool(e.proto3Optional),t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=c.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:o.proto3Optional=e.bool();break;default:e.skipType(7&r)}}return o},O.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},O.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!u.isInteger(e.number))return\"number: integer expected\";if(null!=e.label&&e.hasOwnProperty(\"label\"))switch(e.label){default:return\"label: enum value expected\";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty(\"type\"))switch(e.type){default:return\"type: enum value expected\";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&!u.isString(e.typeName))return\"typeName: string expected\";if(null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&!u.isString(e.extendee))return\"extendee: string expected\";if(null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&!u.isString(e.defaultValue))return\"defaultValue: string expected\";if(null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&!u.isInteger(e.oneofIndex))return\"oneofIndex: integer expected\";if(null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&!u.isString(e.jsonName))return\"jsonName: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=c.google.protobuf.FieldOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&\"boolean\"!=typeof e.proto3Optional?\"proto3Optional: boolean expected\":null},O.fromObject=function(e){if(e instanceof c.google.protobuf.FieldDescriptorProto)return e;var t=new c.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case\"LABEL_OPTIONAL\":case 1:t.label=1;break;case\"LABEL_REQUIRED\":case 2:t.label=2;break;case\"LABEL_REPEATED\":case 3:t.label=3}switch(e.type){case\"TYPE_DOUBLE\":case 1:t.type=1;break;case\"TYPE_FLOAT\":case 2:t.type=2;break;case\"TYPE_INT64\":case 3:t.type=3;break;case\"TYPE_UINT64\":case 4:t.type=4;break;case\"TYPE_INT32\":case 5:t.type=5;break;case\"TYPE_FIXED64\":case 6:t.type=6;break;case\"TYPE_FIXED32\":case 7:t.type=7;break;case\"TYPE_BOOL\":case 8:t.type=8;break;case\"TYPE_STRING\":case 9:t.type=9;break;case\"TYPE_GROUP\":case 10:t.type=10;break;case\"TYPE_MESSAGE\":case 11:t.type=11;break;case\"TYPE_BYTES\":case 12:t.type=12;break;case\"TYPE_UINT32\":case 13:t.type=13;break;case\"TYPE_ENUM\":case 14:t.type=14;break;case\"TYPE_SFIXED32\":case 15:t.type=15;break;case\"TYPE_SFIXED64\":case 16:t.type=16;break;case\"TYPE_SINT32\":case 17:t.type=17;break;case\"TYPE_SINT64\":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FieldDescriptorProto.options: object expected\");t.options=c.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},O.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.extendee=\"\",n.number=0,n.label=t.enums===String?\"LABEL_OPTIONAL\":1,n.type=t.enums===String?\"TYPE_DOUBLE\":1,n.typeName=\"\",n.defaultValue=\"\",n.options=null,n.oneofIndex=0,n.jsonName=\"\",n.proto3Optional=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty(\"label\")&&(n.label=t.enums===String?c.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=t.enums===String?c.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&(n.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&(n.proto3Optional=e.proto3Optional),n},O.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},O.Type=(e={},(t=Object.create(e))[e[1]=\"TYPE_DOUBLE\"]=1,t[e[2]=\"TYPE_FLOAT\"]=2,t[e[3]=\"TYPE_INT64\"]=3,t[e[4]=\"TYPE_UINT64\"]=4,t[e[5]=\"TYPE_INT32\"]=5,t[e[6]=\"TYPE_FIXED64\"]=6,t[e[7]=\"TYPE_FIXED32\"]=7,t[e[8]=\"TYPE_BOOL\"]=8,t[e[9]=\"TYPE_STRING\"]=9,t[e[10]=\"TYPE_GROUP\"]=10,t[e[11]=\"TYPE_MESSAGE\"]=11,t[e[12]=\"TYPE_BYTES\"]=12,t[e[13]=\"TYPE_UINT32\"]=13,t[e[14]=\"TYPE_ENUM\"]=14,t[e[15]=\"TYPE_SFIXED32\"]=15,t[e[16]=\"TYPE_SFIXED64\"]=16,t[e[17]=\"TYPE_SINT32\"]=17,t[e[18]=\"TYPE_SINT64\"]=18,t),O.Label=(e={},(t=Object.create(e))[e[1]=\"LABEL_OPTIONAL\"]=1,t[e[2]=\"LABEL_REQUIRED\"]=2,t[e[3]=\"LABEL_REPEATED\"]=3,t),O),n.OneofDescriptorProto=(m.prototype.name=\"\",m.prototype.options=null,m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=c.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},m.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},m.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=c.google.protobuf.OneofOptions.verify(e.options);if(e)return\"options.\"+e}return null},m.fromObject=function(e){if(e instanceof c.google.protobuf.OneofDescriptorProto)return e;var t=new c.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.OneofDescriptorProto.options: object expected\");t.options=c.google.protobuf.OneofOptions.fromObject(e.options)}return t},m.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.OneofOptions.toObject(e.options,t)),n},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),n.EnumDescriptorProto=(v.prototype.name=\"\",v.prototype.value=u.emptyArray,v.prototype.options=null,v.prototype.reservedRange=u.emptyArray,v.prototype.reservedName=u.emptyArray,v.create=function(e){return new v(e)},v.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)c.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)c.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(c.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=c.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(c.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},v.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},v.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.value&&e.hasOwnProperty(\"value\")){if(!Array.isArray(e.value))return\"value: array expected\";for(var t=0;t<e.value.length;++t)if(n=c.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return\"value.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.EnumOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=c.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!u.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},v.fromObject=function(e){if(e instanceof c.google.protobuf.EnumDescriptorProto)return e;var t=new c.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(\".google.protobuf.EnumDescriptorProto.value: array expected\");t.value=[];for(var n=0;n<e.value.length;++n){if(\"object\"!=typeof e.value[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.value: object expected\");t.value[n]=c.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumDescriptorProto.options: object expected\");t.options=c.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: object expected\");t.reservedRange[n]=c.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},v.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.value=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var o=0;o<e.value.length;++o)n.value[o]=c.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=c.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v.EnumReservedRange=(P.prototype.start=0,P.prototype.end=0,P.create=function(e){return new P(e)},P.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},P.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},P.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!u.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end)?\"end: integer expected\":null},P.fromObject=function(e){var t;return e instanceof c.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new c.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},P.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},P.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},P),v),n.EnumValueDescriptorProto=(w.prototype.name=\"\",w.prototype.number=0,w.prototype.options=null,w.create=function(e){return new w(e)},w.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=c.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},w.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},w.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!u.isInteger(e.number))return\"number: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=c.google.protobuf.EnumValueOptions.verify(e.options);if(e)return\"options.\"+e}return null},w.fromObject=function(e){if(e instanceof c.google.protobuf.EnumValueDescriptorProto)return e;var t=new c.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumValueDescriptorProto.options: object expected\");t.options=c.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},w.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w),n.ServiceDescriptorProto=(j.prototype.name=\"\",j.prototype.method=u.emptyArray,j.prototype.options=null,j.create=function(e){return new j(e)},j.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)c.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(c.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=c.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},j.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},j.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.method&&e.hasOwnProperty(\"method\")){if(!Array.isArray(e.method))return\"method: array expected\";for(var t=0;t<e.method.length;++t)if(n=c.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return\"method.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=c.google.protobuf.ServiceOptions.verify(e.options)))return\"options.\"+n;return null},j.fromObject=function(e){if(e instanceof c.google.protobuf.ServiceDescriptorProto)return e;var t=new c.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: array expected\");t.method=[];for(var n=0;n<e.method.length;++n){if(\"object\"!=typeof e.method[n])throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: object expected\");t.method[n]=c.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.ServiceDescriptorProto.options: object expected\");t.options=c.google.protobuf.ServiceOptions.fromObject(e.options)}return t},j.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var o=0;o<e.method.length;++o)n.method[o]=c.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.ServiceOptions.toObject(e.options,t)),n},j.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},j),n.MethodDescriptorProto=(x.prototype.name=\"\",x.prototype.inputType=\"\",x.prototype.outputType=\"\",x.prototype.options=null,x.prototype.clientStreaming=!1,x.prototype.serverStreaming=!1,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,\"inputType\")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,\"outputType\")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&c.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,\"clientStreaming\")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,\"serverStreaming\")&&t.uint32(48).bool(e.serverStreaming),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=c.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},x.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},x.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!u.isString(e.name))return\"name: string expected\";if(null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&!u.isString(e.inputType))return\"inputType: string expected\";if(null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&!u.isString(e.outputType))return\"outputType: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=c.google.protobuf.MethodOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&\"boolean\"!=typeof e.clientStreaming?\"clientStreaming: boolean expected\":null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&\"boolean\"!=typeof e.serverStreaming?\"serverStreaming: boolean expected\":null},x.fromObject=function(e){if(e instanceof c.google.protobuf.MethodDescriptorProto)return e;var t=new c.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.MethodDescriptorProto.options: object expected\");t.options=c.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},x.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.inputType=\"\",n.outputType=\"\",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=c.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&(n.serverStreaming=e.serverStreaming),n},x.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},x),n.FileOptions=(S.prototype.javaPackage=\"\",S.prototype.javaOuterClassname=\"\",S.prototype.javaMultipleFiles=!1,S.prototype.javaGenerateEqualsAndHash=!1,S.prototype.javaStringCheckUtf8=!1,S.prototype.optimizeFor=1,S.prototype.goPackage=\"\",S.prototype.ccGenericServices=!1,S.prototype.javaGenericServices=!1,S.prototype.pyGenericServices=!1,S.prototype.phpGenericServices=!1,S.prototype.deprecated=!1,S.prototype.ccEnableArenas=!0,S.prototype.objcClassPrefix=\"\",S.prototype.csharpNamespace=\"\",S.prototype.swiftPrefix=\"\",S.prototype.phpClassPrefix=\"\",S.prototype.phpNamespace=\"\",S.prototype.phpMetadataNamespace=\"\",S.prototype.rubyPackage=\"\",S.prototype.uninterpretedOption=u.emptyArray,S.create=function(e){return new S(e)},S.encode=function(e,t){if(t=t||r.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,\"javaPackage\")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,\"javaOuterClassname\")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,\"optimizeFor\")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,\"javaMultipleFiles\")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,\"goPackage\")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,\"ccGenericServices\")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,\"javaGenericServices\")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,\"pyGenericServices\")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,\"javaGenerateEqualsAndHash\")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,\"javaStringCheckUtf8\")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,\"ccEnableArenas\")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,\"objcClassPrefix\")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,\"csharpNamespace\")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,\"swiftPrefix\")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,\"phpClassPrefix\")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,\"phpNamespace\")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,\"phpGenericServices\")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,\"phpMetadataNamespace\")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,\"rubyPackage\")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},S.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},S.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&!u.isString(e.javaPackage))return\"javaPackage: string expected\";if(null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&!u.isString(e.javaOuterClassname))return\"javaOuterClassname: string expected\";if(null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&\"boolean\"!=typeof e.javaMultipleFiles)return\"javaMultipleFiles: boolean expected\";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&\"boolean\"!=typeof e.javaGenerateEqualsAndHash)return\"javaGenerateEqualsAndHash: boolean expected\";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&\"boolean\"!=typeof e.javaStringCheckUtf8)return\"javaStringCheckUtf8: boolean expected\";if(null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\"))switch(e.optimizeFor){default:return\"optimizeFor: enum value expected\";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&!u.isString(e.goPackage))return\"goPackage: string expected\";if(null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&\"boolean\"!=typeof e.ccGenericServices)return\"ccGenericServices: boolean expected\";if(null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&\"boolean\"!=typeof e.javaGenericServices)return\"javaGenericServices: boolean expected\";if(null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&\"boolean\"!=typeof e.pyGenericServices)return\"pyGenericServices: boolean expected\";if(null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&\"boolean\"!=typeof e.phpGenericServices)return\"phpGenericServices: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&\"boolean\"!=typeof e.ccEnableArenas)return\"ccEnableArenas: boolean expected\";if(null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&!u.isString(e.objcClassPrefix))return\"objcClassPrefix: string expected\";if(null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&!u.isString(e.csharpNamespace))return\"csharpNamespace: string expected\";if(null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&!u.isString(e.swiftPrefix))return\"swiftPrefix: string expected\";if(null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&!u.isString(e.phpClassPrefix))return\"phpClassPrefix: string expected\";if(null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&!u.isString(e.phpNamespace))return\"phpNamespace: string expected\";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&!u.isString(e.phpMetadataNamespace))return\"phpMetadataNamespace: string expected\";if(null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&!u.isString(e.rubyPackage))return\"rubyPackage: string expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},S.fromObject=function(e){if(e instanceof c.google.protobuf.FileOptions)return e;var t=new c.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case\"SPEED\":case 1:t.optimizeFor=1;break;case\"CODE_SIZE\":case 2:t.optimizeFor=2;break;case\"LITE_RUNTIME\":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},S.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.javaPackage=\"\",n.javaOuterClassname=\"\",n.optimizeFor=t.enums===String?\"SPEED\":1,n.javaMultipleFiles=!1,n.goPackage=\"\",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!0,n.objcClassPrefix=\"\",n.csharpNamespace=\"\",n.swiftPrefix=\"\",n.phpClassPrefix=\"\",n.phpNamespace=\"\",n.phpGenericServices=!1,n.phpMetadataNamespace=\"\",n.rubyPackage=\"\"),null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\")&&(n.optimizeFor=t.enums===String?c.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&(n.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&(n.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&(n.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&(n.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&(n.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&(n.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&(n.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},S.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},S.OptimizeMode=(e={},(t=Object.create(e))[e[1]=\"SPEED\"]=1,t[e[2]=\"CODE_SIZE\"]=2,t[e[3]=\"LITE_RUNTIME\"]=3,t),S),n.MessageOptions=(k.prototype.messageSetWireFormat=!1,k.prototype.noStandardDescriptorAccessor=!1,k.prototype.deprecated=!1,k.prototype.mapEntry=!1,k.prototype.uninterpretedOption=u.emptyArray,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||r.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,\"messageSetWireFormat\")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,\"noStandardDescriptorAccessor\")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,\"mapEntry\")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},k.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},k.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&\"boolean\"!=typeof e.messageSetWireFormat)return\"messageSetWireFormat: boolean expected\";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&\"boolean\"!=typeof e.noStandardDescriptorAccessor)return\"noStandardDescriptorAccessor: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&\"boolean\"!=typeof e.mapEntry)return\"mapEntry: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},k.fromObject=function(e){if(e instanceof c.google.protobuf.MessageOptions)return e;var t=new c.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},k.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},k.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},k),n.FieldOptions=(D.prototype.ctype=0,D.prototype.packed=!1,D.prototype.jstype=0,D.prototype.lazy=!1,D.prototype.deprecated=!1,D.prototype.weak=!1,D.prototype.uninterpretedOption=u.emptyArray,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||r.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,\"ctype\")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,\"packed\")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,\"lazy\")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,\"jstype\")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,\"weak\")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},D.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},D.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.ctype&&e.hasOwnProperty(\"ctype\"))switch(e.ctype){default:return\"ctype: enum value expected\";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty(\"packed\")&&\"boolean\"!=typeof e.packed)return\"packed: boolean expected\";if(null!=e.jstype&&e.hasOwnProperty(\"jstype\"))switch(e.jstype){default:return\"jstype: enum value expected\";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&\"boolean\"!=typeof e.lazy)return\"lazy: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.weak&&e.hasOwnProperty(\"weak\")&&\"boolean\"!=typeof e.weak)return\"weak: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},D.fromObject=function(e){if(e instanceof c.google.protobuf.FieldOptions)return e;var t=new c.google.protobuf.FieldOptions;switch(e.ctype){case\"STRING\":case 0:t.ctype=0;break;case\"CORD\":case 1:t.ctype=1;break;case\"STRING_PIECE\":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case\"JS_NORMAL\":case 0:t.jstype=0;break;case\"JS_STRING\":case 1:t.jstype=1;break;case\"JS_NUMBER\":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},D.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.ctype=t.enums===String?\"STRING\":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?\"JS_NORMAL\":0,n.weak=!1),null!=e.ctype&&e.hasOwnProperty(\"ctype\")&&(n.ctype=t.enums===String?c.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty(\"packed\")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty(\"jstype\")&&(n.jstype=t.enums===String?c.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty(\"weak\")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},D.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},D.CType=(e={},(t=Object.create(e))[e[0]=\"STRING\"]=0,t[e[1]=\"CORD\"]=1,t[e[2]=\"STRING_PIECE\"]=2,t),D.JSType=(e={},(t=Object.create(e))[e[0]=\"JS_NORMAL\"]=0,t[e[1]=\"JS_STRING\"]=1,t[e[2]=\"JS_NUMBER\"]=2,t),D),n.OneofOptions=(M.prototype.uninterpretedOption=u.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},M.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},M.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},M.fromObject=function(e){if(e instanceof c.google.protobuf.OneofOptions)return e;var t=new c.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},M.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},M.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},M),n.EnumOptions=(T.prototype.allowAlias=!1,T.prototype.deprecated=!1,T.prototype.uninterpretedOption=u.emptyArray,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||r.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,\"allowAlias\")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},T.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},T.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&\"boolean\"!=typeof e.allowAlias)return\"allowAlias: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},T.fromObject=function(e){if(e instanceof c.google.protobuf.EnumOptions)return e;var t=new c.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T),n.EnumValueOptions=(E.prototype.deprecated=!1,E.prototype.uninterpretedOption=u.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},E.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},E.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},E.fromObject=function(e){if(e instanceof c.google.protobuf.EnumValueOptions)return e;var t=new c.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},E.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E),n.ServiceOptions=(A.prototype.deprecated=!1,A.prototype.uninterpretedOption=u.emptyArray,A.prototype[\".google.api.defaultHost\"]=\"\",A.prototype[\".google.api.oauthScopes\"]=\"\",A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.defaultHost\"]&&Object.hasOwnProperty.call(e,\".google.api.defaultHost\")&&t.uint32(8394).string(e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&Object.hasOwnProperty.call(e,\".google.api.oauthScopes\")&&t.uint32(8402).string(e[\".google.api.oauthScopes\"]),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.api.defaultHost\"]=e.string();break;case 1050:o[\".google.api.oauthScopes\"]=e.string();break;default:e.skipType(7&r)}}return o},A.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},A.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&!u.isString(e[\".google.api.defaultHost\"])?\".google.api.defaultHost: string expected\":null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&!u.isString(e[\".google.api.oauthScopes\"])?\".google.api.oauthScopes: string expected\":null},A.fromObject=function(e){if(e instanceof c.google.protobuf.ServiceOptions)return e;var t=new c.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[\".google.api.defaultHost\"]&&(t[\".google.api.defaultHost\"]=String(e[\".google.api.defaultHost\"])),null!=e[\".google.api.oauthScopes\"]&&(t[\".google.api.oauthScopes\"]=String(e[\".google.api.oauthScopes\"])),t},A.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[\".google.api.defaultHost\"]=\"\",n[\".google.api.oauthScopes\"]=\"\"),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&(n[\".google.api.defaultHost\"]=e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&(n[\".google.api.oauthScopes\"]=e[\".google.api.oauthScopes\"]),n},A.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},A),n.MethodOptions=(N.prototype.deprecated=!1,N.prototype.idempotencyLevel=0,N.prototype.uninterpretedOption=u.emptyArray,N.prototype[\".google.api.http\"]=null,N.prototype[\".google.api.methodSignature\"]=u.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,\"idempotencyLevel\")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)c.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length)for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t.uint32(8410).string(e[\".google.api.methodSignature\"][n]);return null!=e[\".google.api.http\"]&&Object.hasOwnProperty.call(e,\".google.api.http\")&&c.google.api.HttpRule.encode(e[\".google.api.http\"],t.uint32(578365826).fork()).ldelim(),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(c.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:o[\".google.api.http\"]=c.google.api.HttpRule.decode(e,e.uint32());break;case 1051:o[\".google.api.methodSignature\"]&&o[\".google.api.methodSignature\"].length||(o[\".google.api.methodSignature\"]=[]),o[\".google.api.methodSignature\"].push(e.string());break;default:e.skipType(7&r)}}return o},N.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},N.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\"))switch(e.idempotencyLevel){default:return\"idempotencyLevel: enum value expected\";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=c.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n=c.google.api.HttpRule.verify(e[\".google.api.http\"])))return\".google.api.http.\"+n;if(null!=e[\".google.api.methodSignature\"]&&e.hasOwnProperty(\".google.api.methodSignature\")){if(!Array.isArray(e[\".google.api.methodSignature\"]))return\".google.api.methodSignature: array expected\";for(t=0;t<e[\".google.api.methodSignature\"].length;++t)if(!u.isString(e[\".google.api.methodSignature\"][t]))return\".google.api.methodSignature: string[] expected\"}return null},N.fromObject=function(e){if(e instanceof c.google.protobuf.MethodOptions)return e;var t=new c.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case\"IDEMPOTENCY_UNKNOWN\":case 0:t.idempotencyLevel=0;break;case\"NO_SIDE_EFFECTS\":case 1:t.idempotencyLevel=1;break;case\"IDEMPOTENT\":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=c.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.api.http\"]){if(\"object\"!=typeof e[\".google.api.http\"])throw TypeError(\".google.protobuf.MethodOptions..google.api.http: object expected\");t[\".google.api.http\"]=c.google.api.HttpRule.fromObject(e[\".google.api.http\"])}if(e[\".google.api.methodSignature\"]){if(!Array.isArray(e[\".google.api.methodSignature\"]))throw TypeError(\".google.protobuf.MethodOptions..google.api.methodSignature: array expected\");t[\".google.api.methodSignature\"]=[];for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t[\".google.api.methodSignature\"][n]=String(e[\".google.api.methodSignature\"][n])}return t},N.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.methodSignature\"]=[]),t.defaults&&(n.deprecated=!1,n.idempotencyLevel=t.enums===String?\"IDEMPOTENCY_UNKNOWN\":0,n[\".google.api.http\"]=null),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\")&&(n.idempotencyLevel=t.enums===String?c.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=c.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length){n[\".google.api.methodSignature\"]=[];for(o=0;o<e[\".google.api.methodSignature\"].length;++o)n[\".google.api.methodSignature\"][o]=e[\".google.api.methodSignature\"][o]}return null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n[\".google.api.http\"]=c.google.api.HttpRule.toObject(e[\".google.api.http\"],t)),n},N.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},N.IdempotencyLevel=(e={},(t=Object.create(e))[e[0]=\"IDEMPOTENCY_UNKNOWN\"]=0,t[e[1]=\"NO_SIDE_EFFECTS\"]=1,t[e[2]=\"IDEMPOTENT\"]=2,t),N),n.UninterpretedOption=(I.prototype.name=u.emptyArray,I.prototype.identifierValue=\"\",I.prototype.positiveIntValue=u.Long?u.Long.fromBits(0,0,!0):0,I.prototype.negativeIntValue=u.Long?u.Long.fromBits(0,0,!1):0,I.prototype.doubleValue=0,I.prototype.stringValue=u.newBuffer([]),I.prototype.aggregateValue=\"\",I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||r.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)c.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,\"identifierValue\")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,\"positiveIntValue\")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,\"negativeIntValue\")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,\"doubleValue\")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,\"stringValue\")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,\"aggregateValue\")&&t.uint32(66).string(e.aggregateValue),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(c.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},I.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},I.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")){if(!Array.isArray(e.name))return\"name: array expected\";for(var t=0;t<e.name.length;++t){var n=c.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return\"name.\"+n}}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&!u.isString(e.identifierValue)?\"identifierValue: string expected\":null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&!(u.isInteger(e.positiveIntValue)||e.positiveIntValue&&u.isInteger(e.positiveIntValue.low)&&u.isInteger(e.positiveIntValue.high))?\"positiveIntValue: integer|Long expected\":null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&!(u.isInteger(e.negativeIntValue)||e.negativeIntValue&&u.isInteger(e.negativeIntValue.low)&&u.isInteger(e.negativeIntValue.high))?\"negativeIntValue: integer|Long expected\":null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&\"number\"!=typeof e.doubleValue?\"doubleValue: number expected\":null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&!(e.stringValue&&\"number\"==typeof e.stringValue.length||u.isString(e.stringValue))?\"stringValue: buffer expected\":null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&!u.isString(e.aggregateValue)?\"aggregateValue: string expected\":null},I.fromObject=function(e){if(e instanceof c.google.protobuf.UninterpretedOption)return e;var t=new c.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(\".google.protobuf.UninterpretedOption.name: array expected\");t.name=[];for(var n=0;n<e.name.length;++n){if(\"object\"!=typeof e.name[n])throw TypeError(\".google.protobuf.UninterpretedOption.name: object expected\");t.name[n]=c.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(u.Long?(t.positiveIntValue=u.Long.fromValue(e.positiveIntValue)).unsigned=!0:\"string\"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):\"number\"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:\"object\"==typeof e.positiveIntValue&&(t.positiveIntValue=new u.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(u.Long?(t.negativeIntValue=u.Long.fromValue(e.negativeIntValue)).unsigned=!1:\"string\"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):\"number\"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:\"object\"==typeof e.negativeIntValue&&(t.negativeIntValue=new u.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&(\"string\"==typeof e.stringValue?u.base64.decode(e.stringValue,t.stringValue=u.newBuffer(u.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},I.toObject=function(e,t){var n,o={};if(((t=t||{}).arrays||t.defaults)&&(o.name=[]),t.defaults&&(o.identifierValue=\"\",u.Long?(n=new u.Long(0,0,!0),o.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.positiveIntValue=t.longs===String?\"0\":0,u.Long?(n=new u.Long(0,0,!1),o.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.negativeIntValue=t.longs===String?\"0\":0,o.doubleValue=0,t.bytes===String?o.stringValue=\"\":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=u.newBuffer(o.stringValue))),o.aggregateValue=\"\"),e.name&&e.name.length){o.name=[];for(var r=0;r<e.name.length;++r)o.name[r]=c.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[r],t)}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&(\"number\"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?u.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new u.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&(\"number\"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?u.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new u.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&(o.stringValue=t.bytes===String?u.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&(o.aggregateValue=e.aggregateValue),o},I.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},I.NamePart=(R.prototype.namePart=\"\",R.prototype.isExtension=!1,R.create=function(e){return new R(e)},R.encode=function(e,t){return(t=t||r.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty(\"namePart\"))throw u.ProtocolError(\"missing required 'namePart'\",{instance:o});if(o.hasOwnProperty(\"isExtension\"))return o;throw u.ProtocolError(\"missing required 'isExtension'\",{instance:o})},R.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},R.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":u.isString(e.namePart)?\"boolean\"!=typeof e.isExtension?\"isExtension: boolean expected\":null:\"namePart: string expected\"},R.fromObject=function(e){var t;return e instanceof c.google.protobuf.UninterpretedOption.NamePart?e:(t=new c.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},R.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.namePart=\"\",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty(\"namePart\")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty(\"isExtension\")&&(n.isExtension=e.isExtension),n},R.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},R),I),n.SourceCodeInfo=(_.prototype.location=u.emptyArray,_.create=function(e){return new _(e)},_.encode=function(e,t){if(t=t||r.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)c.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(c.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},_.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},_.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.location&&e.hasOwnProperty(\"location\")){if(!Array.isArray(e.location))return\"location: array expected\";for(var t=0;t<e.location.length;++t){var n=c.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return\"location.\"+n}}return null},_.fromObject=function(e){if(e instanceof c.google.protobuf.SourceCodeInfo)return e;var t=new c.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(\".google.protobuf.SourceCodeInfo.location: array expected\");t.location=[];for(var n=0;n<e.location.length;++n){if(\"object\"!=typeof e.location[n])throw TypeError(\".google.protobuf.SourceCodeInfo.location: object expected\");t.location[n]=c.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},_.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var o=0;o<e.location.length;++o)n.location[o]=c.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_.Location=(C.prototype.path=u.emptyArray,C.prototype.span=u.emptyArray,C.prototype.leadingComments=\"\",C.prototype.trailingComments=\"\",C.prototype.leadingDetachedComments=u.emptyArray,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,\"leadingComments\")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,\"trailingComments\")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},C.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},C.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!u.isInteger(e.path[t]))return\"path: integer[] expected\"}if(null!=e.span&&e.hasOwnProperty(\"span\")){if(!Array.isArray(e.span))return\"span: array expected\";for(t=0;t<e.span.length;++t)if(!u.isInteger(e.span[t]))return\"span: integer[] expected\"}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&!u.isString(e.leadingComments))return\"leadingComments: string expected\";if(null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&!u.isString(e.trailingComments))return\"trailingComments: string expected\";if(null!=e.leadingDetachedComments&&e.hasOwnProperty(\"leadingDetachedComments\")){if(!Array.isArray(e.leadingDetachedComments))return\"leadingDetachedComments: array expected\";for(t=0;t<e.leadingDetachedComments.length;++t)if(!u.isString(e.leadingDetachedComments[t]))return\"leadingDetachedComments: string[] expected\"}return null},C.fromObject=function(e){if(e instanceof c.google.protobuf.SourceCodeInfo.Location)return e;var t=new c.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.span: array expected\");t.span=[];for(n=0;n<e.span.length;++n)t.span[n]=0|e.span[n]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected\");t.leadingDetachedComments=[];for(n=0;n<e.leadingDetachedComments.length;++n)t.leadingDetachedComments[n]=String(e.leadingDetachedComments[n])}return t},C.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments=\"\",n.trailingComments=\"\"),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}if(e.span&&e.span.length){n.span=[];for(o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(o=0;o<e.leadingDetachedComments.length;++o)n.leadingDetachedComments[o]=e.leadingDetachedComments[o]}return n},C.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},C),_),n.GeneratedCodeInfo=(J.prototype.annotation=u.emptyArray,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||r.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)c.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(c.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},J.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},J.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.annotation&&e.hasOwnProperty(\"annotation\")){if(!Array.isArray(e.annotation))return\"annotation: array expected\";for(var t=0;t<e.annotation.length;++t){var n=c.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return\"annotation.\"+n}}return null},J.fromObject=function(e){if(e instanceof c.google.protobuf.GeneratedCodeInfo)return e;var t=new c.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: array expected\");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if(\"object\"!=typeof e.annotation[n])throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: object expected\");t.annotation[n]=c.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},J.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var o=0;o<e.annotation.length;++o)n.annotation[o]=c.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return n},J.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},J.Annotation=(V.prototype.path=u.emptyArray,V.prototype.sourceFile=\"\",V.prototype.begin=0,V.prototype.end=0,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,\"sourceFile\")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,\"begin\")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(32).int32(e.end),t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},V.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},V.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!u.isInteger(e.path[t]))return\"path: integer[] expected\"}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&!u.isString(e.sourceFile)?\"sourceFile: string expected\":null!=e.begin&&e.hasOwnProperty(\"begin\")&&!u.isInteger(e.begin)?\"begin: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!u.isInteger(e.end)?\"end: integer expected\":null},V.fromObject=function(e){if(e instanceof c.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new c.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},V.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile=\"\",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty(\"begin\")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},V.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},V),J),n.Any=(H.prototype.type_url=\"\",H.prototype.value=u.newBuffer([]),H.create=function(e){return new H(e)},H.encode=function(e,t){return t=t||r.create(),null!=e.type_url&&Object.hasOwnProperty.call(e,\"type_url\")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,\"value\")&&t.uint32(18).bytes(e.value),t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new c.google.protobuf.Any;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type_url=e.string();break;case 2:o.value=e.bytes();break;default:e.skipType(7&r)}}return o},H.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},H.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&!u.isString(e.type_url)?\"type_url: string expected\":null!=e.value&&e.hasOwnProperty(\"value\")&&!(e.value&&\"number\"==typeof e.value.length||u.isString(e.value))?\"value: buffer expected\":null},H.fromObject=function(e){var t;return e instanceof c.google.protobuf.Any?e:(t=new c.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&(\"string\"==typeof e.value?u.base64.decode(e.value,t.value=u.newBuffer(u.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t)},H.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type_url=\"\",t.bytes===String?n.value=\"\":(n.value=[],t.bytes!==Array&&(n.value=u.newBuffer(n.value)))),null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&(n.type_url=e.type_url),null!=e.value&&e.hasOwnProperty(\"value\")&&(n.value=t.bytes===String?u.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},H.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},H),n),F),c});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9wcm90b3MvbG9jYXRpb25zLmpzIiwibWFwcGluZ3MiOiJBQUFBLHFHQUFLLEtBQXFDLENBQUMsaUNBQU8sQ0FBQywyRkFBb0IsQ0FBQyxvQ0FBQyxDQUFDO0FBQUE7QUFBQTtBQUFBLGtHQUFDLENBQUMsQ0FBOEgsQ0FBQyxjQUFjLG1HQUFtRyxFQUFFLGtCQUFrQiwrQkFBK0IsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxvREFBb0QsV0FBVyx3Q0FBd0MsY0FBYyxrQ0FBa0MsV0FBVyx3Q0FBd0MsY0FBYyxpQkFBaUIsZ0NBQWdDLFdBQVcsd0NBQXdDLGNBQWMsZ0RBQWdELFdBQVcsd0NBQXdDLGNBQWMsNkRBQTZELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsNEtBQTRLLFdBQVcsd0NBQXdDLGNBQWMsMExBQTBMLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsMkZBQTJGLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsaURBQWlELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMscUdBQXFHLFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsbURBQW1ELFdBQVcsd0NBQXdDLGNBQWMsNEZBQTRGLFdBQVcsd0NBQXdDLGNBQWMscURBQXFELFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLHNCQUFzQixjQUFjLGlCQUFpQix5R0FBeUcsdUJBQXVCLGlFQUFpRSxzSEFBc0gsU0FBUyxzQkFBc0IsZ0VBQWdFLHVHQUF1RyxTQUFTLG9CQUFvQiw0SUFBNEksZ0JBQWdCLHdCQUF3Qix5WEFBeVgsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHNGQUFzRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMkJBQTJCLE1BQU0sNEJBQTRCLE1BQU0sOEJBQThCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd2JBQXdiLDBCQUEwQixNQUFNLDZTQUE2UywwQkFBMEIsU0FBUyxjQUFjLDhVQUE4VSwrQkFBK0IsNERBQTRELGtIQUFrSCxnQkFBZ0Isd0JBQXdCLHFFQUFxRSxxQkFBcUIseUZBQXlGLG9IQUFvSCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsdUZBQXVGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxpSUFBaUksTUFBTSxrQ0FBa0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QscURBQXFELGlFQUFpRSxZQUFZLHFCQUFxQixLQUFLLDhEQUE4RCwyQkFBMkIsb0lBQW9JLDBCQUEwQix1RUFBdUUsd0RBQXdELGdCQUFnQix5SEFBeUgsZUFBZSxZQUFZLHFCQUFxQixLQUFLLDhIQUE4SCw0RUFBNEUsMEVBQTBFLDBCQUEwQixTQUFTLFlBQVksMEdBQTBHLGVBQWUsWUFBWSxxQkFBcUIsK0VBQStFLHFHQUFxRywrQkFBK0IsNERBQTRELG1FQUFtRSxnQkFBZ0Isd0JBQXdCLHlHQUF5RyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msb0ZBQW9GLFFBQVEsRUFBRSxpQkFBaUIsMkNBQTJDLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0IsOElBQThJLDBCQUEwQixNQUFNLDRKQUE0SiwwQkFBMEIsU0FBUyxjQUFjLGtGQUFrRiwrQkFBK0IsNERBQTRELHlLQUF5SyxnQkFBZ0Isd0JBQXdCLDhMQUE4TCxXQUFXLDJGQUEyRixrVkFBa1YsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sK0JBQStCLE1BQU0sZ0NBQWdDLE1BQU0sNkNBQTZDLEVBQUUscUNBQXFDLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxvQkFBb0IsTUFBTSxvQkFBb0IsTUFBTSx5QkFBeUIsY0FBYyxNQUFNLDZEQUE2RCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYscUhBQXFILHlIQUF5SCwrQ0FBK0MseURBQXlELG9DQUFvQyxXQUFXLHlEQUF5RCxVQUFVLFVBQVUsbURBQW1ELCtDQUErQyx5QkFBeUIsWUFBWSwwQkFBMEIsMERBQTBELDJDQUEyQyxzS0FBc0ssd0dBQXdHLFlBQVksb0NBQW9DLFdBQVcsMENBQTBDLHFCQUFxQiw0R0FBNEcsd0RBQXdELFNBQVMsMEJBQTBCLFdBQVcsWUFBWSxvQ0FBb0MsK0tBQStLLFlBQVksWUFBWSxXQUFXLGtDQUFrQyx1UkFBdVIsK0JBQStCLDREQUE0RCxzQkFBc0Isd0dBQXdHLGdCQUFnQix3QkFBd0IsNkRBQTZELGlCQUFpQiwwRUFBMEUsK0pBQStKLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywyREFBMkQsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHNHQUFzRyxNQUFNLCtDQUErQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2Q0FBNkMseURBQXlELFlBQVksaUJBQWlCLEtBQUssK0NBQStDLHVCQUF1QixzTUFBc00sMEJBQTBCLDJDQUEyQyw0QkFBNEIsWUFBWSxxRkFBcUYsV0FBVyxZQUFZLGlCQUFpQixLQUFLLDBGQUEwRix5REFBeUQsd0hBQXdILDBCQUEwQixTQUFTLFlBQVksNkdBQTZHLFdBQVcsWUFBWSxpQkFBaUIsNERBQTRELGlLQUFpSywrQkFBK0IsNERBQTRELHdUQUF3VCx5RkFBeUYsdUJBQXVCLGdCQUFnQix3QkFBd0IsMnhCQUEyeEIsOEJBQThCLHVGQUF1RixpSEFBaUgsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtEQUErRCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sd0JBQXdCLE1BQU0sd0JBQXdCLE1BQU0seUJBQXlCLE1BQU0sMkJBQTJCLE1BQU0sMEJBQTBCLE1BQU0sb0VBQW9FLE1BQU0seUJBQXlCLE1BQU0sa0NBQWtDLE1BQU0sMkpBQTJKLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELFNBQVMsNkdBQTZHLHVHQUF1Ryx5Q0FBeUMsa0RBQWtELCtEQUErRCwyQ0FBMkMsa0RBQWtELGlFQUFpRSwrQ0FBK0Msa0RBQWtELHFFQUFxRSw2Q0FBNkMsa0RBQWtELG1FQUFtRSwrQ0FBK0Msa0RBQWtELG1GQUFtRiw2RkFBNkYsNkhBQTZILHVFQUF1RSxtRkFBbUYsY0FBYyw4QkFBOEIsNkZBQTZGLFlBQVksMEJBQTBCLCtDQUErQyxnQ0FBZ0Msc1FBQXNRLDZGQUE2Riw2REFBNkQsNkhBQTZILG1IQUFtSCx3QkFBd0IsWUFBWSw4QkFBOEIsS0FBSyx3SEFBd0gsbUZBQW1GLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxvMUJBQW8xQix3QkFBd0IsWUFBWSw4QkFBOEIsc0ZBQXNGLGlHQUFpRywrQkFBK0IsNERBQTRELHNGQUFzRixnQkFBZ0Isd0JBQXdCLHlMQUF5TCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx5QkFBeUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixrT0FBa08sMEJBQTBCLE1BQU0sMEtBQTBLLDBCQUEwQixTQUFTLGNBQWMsb0pBQW9KLCtCQUErQiw0REFBNEQsd0JBQXdCLHdFQUF3RSxnQkFBZ0Isd0JBQXdCLDJEQUEyRCxnQkFBZ0IseUZBQXlGLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZFQUE2RSxRQUFRLEVBQUUsaUJBQWlCLHNJQUFzSSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwyQ0FBMkMsdURBQXVELFlBQVksZ0JBQWdCLEtBQUssOERBQThELHNCQUFzQixZQUFZLDBCQUEwQiw2REFBNkQsOENBQThDLFdBQVcscUdBQXFHLFVBQVUsWUFBWSxnQkFBZ0IsS0FBSywwR0FBMEcsdUVBQXVFLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSwwREFBMEQsVUFBVSxZQUFZLGdCQUFnQiwwRUFBMEUsU0FBUywrQkFBK0IsNERBQTRELDJhQUEyYSxnQkFBZ0Isd0JBQXdCLGdQQUFnUCxzQkFBc0IseUNBQXlDLHFEQUFxRCx1QkFBdUIsNEZBQTRGLCtDQUErQyxvQkFBb0IsNkZBQTZGLDZDQUE2QyxtQkFBbUIsK0ZBQStGLGlEQUFpRCxxQkFBcUIsK0ZBQStGLHFXQUFxVyw0QkFBNEIsOENBQThDLDJEQUEyRCwwQkFBMEIsNENBQTRDLCtGQUErRixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw0QkFBNEIsTUFBTSwwRkFBMEYsTUFBTSxzSEFBc0gsUUFBUSxvQ0FBb0Msd0NBQXdDLE1BQU0sNEdBQTRHLFFBQVEsa0NBQWtDLHNDQUFzQyxNQUFNLDBJQUEwSSxNQUFNLGtJQUFrSSxNQUFNLGlJQUFpSSxNQUFNLHVJQUF1SSxNQUFNLG9FQUFvRSxNQUFNLDhFQUE4RSxNQUFNLDRCQUE0QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYseUdBQXlHLHVEQUF1RCxtRUFBbUUsWUFBWSxzQkFBc0IsMEVBQTBFLG1FQUFtRSwrRUFBK0UsUUFBUSw0QkFBNEIsd0ZBQXdGLCtEQUErRCwyRUFBMkUsUUFBUSwwQkFBMEIsb0ZBQW9GLHlEQUF5RCxxRUFBcUUsUUFBUSx1QkFBdUIsMkZBQTJGLG1EQUFtRCwrREFBK0QsUUFBUSxvQkFBb0IseUZBQXlGLGlEQUFpRCw2REFBNkQsUUFBUSxtQkFBbUIsMEZBQTBGLHFEQUFxRCxpRUFBaUUsUUFBUSxxQkFBcUIsNEZBQTRGLE1BQU0sd0hBQXdILHVKQUF1Six3R0FBd0csMEJBQTBCLCtEQUErRCxnREFBZ0Qsc0dBQXNHLG1IQUFtSCxnQkFBZ0IsWUFBWSxzQkFBc0IsNENBQTRDLHVCQUF1QiwrSEFBK0gsc0JBQXNCLFFBQVEsNEJBQTRCLGtEQUFrRCxxQkFBcUIsMkhBQTJILG9CQUFvQixRQUFRLDBCQUEwQiw4Q0FBOEMsa0JBQWtCLHFIQUFxSCxpQkFBaUIsUUFBUSx1QkFBdUIsS0FBSywwSEFBMEgsaUZBQWlGLGVBQWUsK0dBQStHLGNBQWMsUUFBUSxvQkFBb0IsS0FBSyxvSEFBb0gsK0VBQStFLGNBQWMsNkdBQTZHLGFBQWEsUUFBUSxtQkFBbUIsS0FBSyxrSEFBa0gsZ0ZBQWdGLGdCQUFnQixpSEFBaUgsZUFBZSxRQUFRLHFCQUFxQixLQUFLLHNIQUFzSCxrRkFBa0Ysb0JBQW9CLCtHQUErRyw4REFBOEQsMkJBQTJCLDZIQUE2SCwrRUFBK0UscURBQXFELDBCQUEwQixTQUFTLFlBQVksbVlBQW1ZLGdCQUFnQixZQUFZLHNCQUFzQixvQ0FBb0Msd0NBQXdDLGlCQUFpQixRQUFRLHVCQUF1QixvRkFBb0Ysa0NBQWtDLGNBQWMsUUFBUSxvQkFBb0Isa0ZBQWtGLGdDQUFnQyxhQUFhLFFBQVEsbUJBQW1CLG1GQUFtRixvQ0FBb0MsZUFBZSxRQUFRLHFCQUFxQixxRkFBcUYsNlNBQTZTLHNCQUFzQixRQUFRLDRCQUE0QixnREFBZ0QsOENBQThDLG9CQUFvQixRQUFRLDBCQUEwQiw0Q0FBNEMseUVBQXlFLCtCQUErQiw0REFBNEQseVhBQXlYLGdCQUFnQix3QkFBd0IsNklBQTZJLGlCQUFpQiwyRkFBMkYsbURBQW1ELHNCQUFzQiwyRkFBMkYsK0NBQStDLG9CQUFvQiw2RkFBNkYsMkRBQTJELDBCQUEwQiw4R0FBOEcsaURBQWlELHFCQUFxQiwrRkFBK0YsMkxBQTJMLHFCQUFxQiwrRkFBK0YseURBQXlELHlCQUF5Qiw0R0FBNEcsdURBQXVELHdCQUF3QiwyQ0FBMkMsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMkVBQTJFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1SEFBdUgsTUFBTSx1SUFBdUksTUFBTSxzSUFBc0ksTUFBTSxrSUFBa0ksTUFBTSxxS0FBcUssTUFBTSx1SUFBdUksTUFBTSx1RUFBdUUsTUFBTSxnS0FBZ0ssTUFBTSxtR0FBbUcsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsb0ZBQW9GLHFEQUFxRCxpRUFBaUUsUUFBUSxxQkFBcUIsNEZBQTRGLHVEQUF1RCxtRUFBbUUsUUFBUSxzQkFBc0IseUZBQXlGLG1EQUFtRCwrREFBK0QsUUFBUSxvQkFBb0IseUZBQXlGLCtEQUErRCwyRUFBMkUsUUFBUSwwQkFBMEIsZ0hBQWdILHFEQUFxRCxpRUFBaUUsUUFBUSxxQkFBcUIsNEZBQTRGLDJIQUEySCw2REFBNkQseUVBQXlFLGNBQWMseUJBQXlCLDZHQUE2RywyREFBMkQsdUVBQXVFLFFBQVEsd0JBQXdCLDhFQUE4RSxZQUFZLDBCQUEwQiwyREFBMkQsNENBQTRDLGtEQUFrRCxxR0FBcUcsV0FBVyxZQUFZLGlCQUFpQixLQUFLLDBHQUEwRywwRUFBMEUsZ0JBQWdCLDZHQUE2RyxlQUFlLFFBQVEscUJBQXFCLEtBQUssa0hBQWtILGtGQUFrRixpQkFBaUIsK0dBQStHLGdCQUFnQixRQUFRLHNCQUFzQixLQUFLLG9IQUFvSCwrRUFBK0UsZUFBZSwyR0FBMkcsY0FBYyxRQUFRLG9CQUFvQixLQUFLLGdIQUFnSCwrRUFBK0UscUJBQXFCLHVIQUF1SCxvQkFBb0IsUUFBUSwwQkFBMEIsS0FBSyw0SEFBNEgsc0dBQXNHLGdCQUFnQiw2R0FBNkcsZUFBZSxRQUFRLHFCQUFxQixLQUFLLGtIQUFrSCxrRkFBa0Ysb0JBQW9CLDJHQUEyRyxpRUFBaUUsb0JBQW9CLHFIQUFxSCxtQkFBbUIsUUFBUSx5QkFBeUIsS0FBSywwSEFBMEgsbUdBQW1HLG1CQUFtQixtSEFBbUgsa0JBQWtCLFFBQVEsd0JBQXdCLGdEQUFnRCxTQUFTLDBCQUEwQixTQUFTLFlBQVksaVJBQWlSLFdBQVcsWUFBWSxpQkFBaUIsNkVBQTZFLHNDQUFzQyxnQkFBZ0IsUUFBUSxzQkFBc0Isa0ZBQWtGLGtDQUFrQyxjQUFjLFFBQVEsb0JBQW9CLGtGQUFrRiw4Q0FBOEMsb0JBQW9CLFFBQVEsMEJBQTBCLHlHQUF5RyxvQ0FBb0MsZUFBZSxRQUFRLHFCQUFxQixxRkFBcUYscUpBQXFKLGVBQWUsUUFBUSxxQkFBcUIscUZBQXFGLDRDQUE0QyxtQkFBbUIsUUFBUSx5QkFBeUIsc0dBQXNHLDBDQUEwQyxrQkFBa0IsUUFBUSx3QkFBd0Isd0NBQXdDLFNBQVMsK0JBQStCLDREQUE0RCx1R0FBdUcsZ0JBQWdCLHdCQUF3Qix1VUFBdVUsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBGQUEwRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0sOEVBQThFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1HQUFtRywyRkFBMkYsaURBQWlELDREQUE0RCx3QkFBd0IsWUFBWSwwQkFBMEIsMEVBQTBFLDJEQUEyRCxvRkFBb0YsMEhBQTBILHdFQUF3RSxTQUFTLDBCQUEwQixTQUFTLGNBQWMseVJBQXlSLCtCQUErQiw0REFBNEQsZ0ZBQWdGLGdCQUFnQix3QkFBd0Isc0xBQXNMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx5RkFBeUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVCQUF1QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHNPQUFzTywwQkFBMEIsTUFBTSxnTUFBZ00sMEJBQTBCLFNBQVMsY0FBYyxrSkFBa0osK0JBQStCLDREQUE0RCxrR0FBa0csZ0JBQWdCLHdCQUF3Qix5RkFBeUYsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpRkFBaUYsUUFBUSxFQUFFLGlCQUFpQixvTUFBb00sU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsaUVBQWlFLGtEQUFrRCwwQkFBMEIsdUlBQXVJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLDRJQUE0SSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHVHQUF1Ryx5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxxVEFBcVQsZ0JBQWdCLHdCQUF3QixpakNBQWlqQyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsZ0ZBQWdGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwwQkFBMEIsTUFBTSx5QkFBeUIsTUFBTSx3QkFBd0IsTUFBTSw2QkFBNkIsTUFBTSw2QkFBNkIsTUFBTSxpQ0FBaUMsTUFBTSw4QkFBOEIsTUFBTSw4QkFBOEIsTUFBTSxxRUFBcUUsTUFBTSxrQ0FBa0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLHVHQUF1Ryw0REFBNEQsMkNBQTJDLHNCQUFzQix5REFBeUQsMENBQTBDLHdJQUF3SSw2R0FBNkcsNkdBQTZHLDZIQUE2SCx1SEFBdUgsNkdBQTZHLGlEQUFpRCx1REFBdUQsd0JBQXdCLDhJQUE4SSwwQkFBMEIsZ0VBQWdFLGlEQUFpRCw0RkFBNEYsc0NBQXNDLE1BQU0sc0NBQXNDLE1BQU0sc0NBQXNDLGVBQWUsa0NBQWtDLE1BQU0saUNBQWlDLE1BQU0saUNBQWlDLE1BQU0sa0NBQWtDLE1BQU0saUNBQWlDLE1BQU0sbUNBQW1DLE1BQU0sbUNBQW1DLE1BQU0sZ0NBQWdDLE1BQU0sa0NBQWtDLE1BQU0sbUNBQW1DLE1BQU0scUNBQXFDLE1BQU0sbUNBQW1DLE1BQU0sb0NBQW9DLE1BQU0sa0NBQWtDLE1BQU0sc0NBQXNDLE1BQU0sc0NBQXNDLE1BQU0sb0NBQW9DLE1BQU0sb0NBQW9DLDBSQUEwUixnSEFBZ0gsK0RBQStELDhFQUE4RSwwQkFBMEIsU0FBUyxjQUFjLDhxQ0FBOHFDLCtCQUErQiw0REFBNEQsYUFBYSxvZUFBb2UscU1BQXFNLGdCQUFnQix3QkFBd0IsaVBBQWlQLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxnRkFBZ0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHFFQUFxRSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsaURBQWlELG1EQUFtRCx3QkFBd0IsWUFBWSwwQkFBMEIsZ0VBQWdFLGlEQUFpRCwwREFBMEQsZ0hBQWdILCtEQUErRCxTQUFTLDBCQUEwQixTQUFTLGNBQWMsZ05BQWdOLCtCQUErQiw0REFBNEQseU1BQXlNLGdCQUFnQix3QkFBd0IsNklBQTZJLGlCQUFpQiwrRkFBK0YsZ01BQWdNLHlCQUF5QixvSEFBb0gsdURBQXVELHdCQUF3QiwyQ0FBMkMsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0VBQStFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwySEFBMkgsTUFBTSxvRUFBb0UsTUFBTSx3S0FBd0ssTUFBTSxrR0FBa0csTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsd0ZBQXdGLHdIQUF3SCw2REFBNkQseUVBQXlFLGNBQWMseUJBQXlCLHFIQUFxSCwyREFBMkQsdUVBQXVFLFFBQVEsd0JBQXdCLDhFQUE4RSxZQUFZLDBCQUEwQiwrREFBK0QsZ0RBQWdELGtEQUFrRCx5R0FBeUcsV0FBVyxZQUFZLGlCQUFpQixLQUFLLDhHQUE4Ryw4RUFBOEUsb0JBQW9CLCtHQUErRyw4REFBOEQsb0JBQW9CLHlIQUF5SCxtQkFBbUIsUUFBUSx5QkFBeUIsS0FBSyw4SEFBOEgsMkdBQTJHLG1CQUFtQix1SEFBdUgsa0JBQWtCLFFBQVEsd0JBQXdCLGdEQUFnRCxTQUFTLDBCQUEwQixTQUFTLFlBQVksaU1BQWlNLFdBQVcsWUFBWSxpQkFBaUIsaUZBQWlGLDBKQUEwSixtQkFBbUIsUUFBUSx5QkFBeUIsOEdBQThHLDBDQUEwQyxrQkFBa0IsUUFBUSx3QkFBd0Isd0NBQXdDLFNBQVMsK0JBQStCLDREQUE0RCxpRkFBaUYsZ0JBQWdCLHdCQUF3QixzTEFBc0wsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlHQUFpRyxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isc09BQXNPLDBCQUEwQixNQUFNLGdOQUFnTiwwQkFBMEIsU0FBUyxjQUFjLGtKQUFrSiwrQkFBK0IsNERBQTRELDBIQUEwSCxnQkFBZ0Isd0JBQXdCLDBVQUEwVSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msb0ZBQW9GLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSwwQkFBMEIsTUFBTSx5RUFBeUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLHVHQUF1RyxpREFBaUQsdURBQXVELHdCQUF3QixZQUFZLDBCQUEwQixvRUFBb0UscURBQXFELGdHQUFnRyxvSEFBb0gsbUVBQW1FLFNBQVMsMEJBQTBCLFNBQVMsY0FBYywrUkFBK1IsK0JBQStCLDREQUE0RCxnSUFBZ0ksZ0JBQWdCLHdCQUF3QiwrSUFBK0ksa0JBQWtCLDZGQUE2RixtSkFBbUosaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGtGQUFrRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sNEhBQTRILE1BQU0sdUVBQXVFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RiwrQ0FBK0MsMkRBQTJELFlBQVksa0JBQWtCLHVGQUF1RixNQUFNLDJIQUEySCxZQUFZLDBCQUEwQixrRUFBa0UsbURBQW1ELG1EQUFtRCw4R0FBOEcsWUFBWSxZQUFZLGtCQUFrQixLQUFLLG1IQUFtSCw2RUFBNkUsb0JBQW9CLGtIQUFrSCxpRUFBaUUsU0FBUywwQkFBMEIsU0FBUyxZQUFZLCtKQUErSixZQUFZLFlBQVksa0JBQWtCLGdGQUFnRiwwSEFBMEgsK0JBQStCLDREQUE0RCxnTkFBZ04sZ0JBQWdCLHdCQUF3QixpcEJBQWlwQixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsaUZBQWlGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw4QkFBOEIsTUFBTSwrQkFBK0IsTUFBTSxzRUFBc0UsTUFBTSxrQ0FBa0MsTUFBTSxrQ0FBa0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLGlIQUFpSCxxSEFBcUgsaURBQWlELHdEQUF3RCx3QkFBd0Isd1JBQXdSLDBCQUEwQixpRUFBaUUsa0RBQWtELHVLQUF1SyxpSEFBaUgsZ0VBQWdFLHlKQUF5SiwwQkFBMEIsU0FBUyxjQUFjLDhuQkFBOG5CLCtCQUErQiw0REFBNEQsbXNCQUFtc0IsZ0JBQWdCLHdCQUF3QixrekVBQWt6RSwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHVFQUF1RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsZ0NBQWdDLE1BQU0sdUNBQXVDLE1BQU0scUNBQXFDLE1BQU0sNkNBQTZDLE1BQU0sdUNBQXVDLE1BQU0sK0JBQStCLE1BQU0sK0JBQStCLE1BQU0scUNBQXFDLE1BQU0sdUNBQXVDLE1BQU0scUNBQXFDLE1BQU0sc0NBQXNDLE1BQU0sOEJBQThCLE1BQU0sa0NBQWtDLE1BQU0scUNBQXFDLE1BQU0scUNBQXFDLE1BQU0saUNBQWlDLE1BQU0sb0NBQW9DLE1BQU0sa0NBQWtDLE1BQU0sMENBQTBDLE1BQU0saUNBQWlDLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELHlIQUF5SCxxSkFBcUosdUpBQXVKLHVMQUF1TCwrSkFBK0osOEVBQThFLGlEQUFpRCxzQkFBc0IsaUhBQWlILHVKQUF1SiwrSkFBK0osdUpBQXVKLDJKQUEySiwySEFBMkgsMklBQTJJLHlJQUF5SSx5SUFBeUkseUhBQXlILHFJQUFxSSw2SEFBNkgsNkpBQTZKLHlIQUF5SCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix1REFBdUQsd0NBQXdDLHlhQUF5YSxtQ0FBbUMsTUFBTSx1Q0FBdUMsTUFBTSwwQ0FBMEMsMCtCQUEwK0IsNkhBQTZILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLGtJQUFrSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDJsRkFBMmxGLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHFCQUFxQixpVEFBaVQsZ0JBQWdCLHdCQUF3QixzaUJBQXNpQiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsdUNBQXVDLE1BQU0sK0NBQStDLE1BQU0sNkJBQTZCLE1BQU0sMkJBQTJCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELG1LQUFtSyxtTUFBbU0sMkhBQTJILG1IQUFtSCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQiwwREFBMEQsMkNBQTJDLDRVQUE0VSxnSUFBZ0kseUJBQXlCLFlBQVksK0JBQStCLEtBQUsscUlBQXFJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksdW5CQUF1bkIseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQsdU5BQXVOLGdCQUFnQix3QkFBd0IsK2tCQUEra0IsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHlCQUF5QixNQUFNLDBCQUEwQixNQUFNLHVCQUF1QixNQUFNLDZCQUE2QixNQUFNLHdCQUF3QixNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw0REFBNEQsMkNBQTJDLHNCQUFzQiwyR0FBMkcsK0RBQStELDRDQUE0QyxzQkFBc0IsbUdBQW1HLDJIQUEySCxtR0FBbUcseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsd0RBQXdELHlDQUF5QyxnQkFBZ0IsOEJBQThCLE1BQU0sNEJBQTRCLE1BQU0sb0NBQW9DLDhEQUE4RCxrQ0FBa0MsTUFBTSxrQ0FBa0MsTUFBTSxrQ0FBa0MsaUtBQWlLLDhIQUE4SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxtSUFBbUkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSw2dUJBQTZ1Qix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxjQUFjLGtHQUFrRyw4S0FBOEssZ0JBQWdCLHdCQUF3Qix5RkFBeUYsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixvTUFBb00sU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsd0RBQXdELHlDQUF5QywwQkFBMEIsOEhBQThILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLG1JQUFtSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHVHQUF1Ryx5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCx5SUFBeUksZ0JBQWdCLHdCQUF3Qix5UkFBeVIsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx1RUFBdUUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLDZCQUE2QixNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgsMkhBQTJILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLHVEQUF1RCx3Q0FBd0MsNElBQTRJLDZIQUE2SCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxrSUFBa0kscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxxVEFBcVQseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQsb0hBQW9ILGdCQUFnQix3QkFBd0Isd0xBQXdMLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNEVBQTRFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLDREQUE0RCw2Q0FBNkMsbUZBQW1GLGtJQUFrSSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyx1SUFBdUkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxxTkFBcU4seUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQsc01BQXNNLGdCQUFnQix3QkFBd0IsMExBQTBMLCtCQUErQiwwR0FBMEcsMlNBQTJTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywwRUFBMEUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDhCQUE4QixNQUFNLGdMQUFnTCxNQUFNLGtEQUFrRCxNQUFNLGtEQUFrRCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsd1ZBQXdWLDBCQUEwQiwwREFBMEQsMkNBQTJDLG1GQUFtRixnSUFBZ0kseUJBQXlCLFlBQVksK0JBQStCLEtBQUsscUlBQXFJLHFHQUFxRyx5TkFBeU4sMEJBQTBCLFNBQVMsWUFBWSxxUkFBcVIseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxtU0FBbVMsK0JBQStCLDREQUE0RCw2T0FBNk8sZ0JBQWdCLHdCQUF3Qiw4U0FBOFMsK0JBQStCLDBHQUEwRywyRkFBMkYsMENBQTBDLCtEQUErRCxnTEFBZ0wsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHlFQUF5RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsOEJBQThCLE1BQU0scUNBQXFDLE1BQU0sZ0xBQWdMLE1BQU0sK0VBQStFLE1BQU0sNktBQTZLLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCw2RkFBNkYsc0RBQXNELHNCQUFzQix5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLCtHQUErRyxNQUFNLDBKQUEwSiw0RkFBNEYsd0dBQXdHLFFBQVEsMENBQTBDLCtHQUErRyxZQUFZLDBCQUEwQix5REFBeUQsMENBQTBDLG9GQUFvRixzREFBc0QsTUFBTSxrREFBa0QsTUFBTSw2Q0FBNkMsMEJBQTBCLCtIQUErSCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxvSUFBb0kscUdBQXFHLGdDQUFnQyw4SEFBOEgsOEVBQThFLHFDQUFxQyxrSkFBa0osb0NBQW9DLFFBQVEsMENBQTBDLG9GQUFvRixTQUFTLDBCQUEwQixTQUFTLFlBQVksOGdCQUE4Z0IseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3Ryw4RUFBOEUsb0NBQW9DLFFBQVEsMENBQTBDLDRFQUE0RSw0SkFBNEosK0JBQStCLDREQUE0RCx5QkFBeUIsa2JBQWtiLGdCQUFnQix3QkFBd0IsMkRBQTJELGdCQUFnQixrR0FBa0csd3BCQUF3cEIsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtFQUErRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsMkhBQTJILE1BQU0sb0NBQW9DLE1BQU0scUNBQXFDLE1BQU0sb0NBQW9DLE1BQU0sZ0NBQWdDLE1BQU0sK0JBQStCLE1BQU0sbUNBQW1DLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsS0FBSyx1RUFBdUUsc0JBQXNCLDQvQkFBNC9CLDBCQUEwQiwrREFBK0QsZ0RBQWdELFdBQVcsdUdBQXVHLFVBQVUsWUFBWSxnQkFBZ0IsS0FBSyw0R0FBNEcsZ0ZBQWdGLGtzQ0FBa3NDLDBCQUEwQixXQUFXLFlBQVksb2lCQUFvaUIsVUFBVSxZQUFZLGdCQUFnQixtRkFBbUYseXpDQUF5ekMsK0JBQStCLDREQUE0RCxxRkFBcUYsZ0JBQWdCLHdCQUF3Qix5RkFBeUYsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdGQUF3RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sOEJBQThCLE1BQU0seUJBQXlCLHNGQUFzRixXQUFXLEVBQUUsNENBQTRDLHdEQUF3RCxXQUFXLEVBQUUsK0JBQStCLDhEQUE4RCxzQkFBc0IsNktBQTZLLDBCQUEwQixNQUFNLDRPQUE0TywwQkFBMEIsU0FBUyxjQUFjLDJNQUEyTSwrQkFBK0IsNERBQTRELGdGQUFnRixnQkFBZ0Isd0JBQXdCLG1FQUFtRSxvQkFBb0IsaUdBQWlHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLDBKQUEwSixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxtREFBbUQsK0RBQStELFlBQVksb0JBQW9CLEtBQUssc0VBQXNFLDBCQUEwQixZQUFZLDBCQUEwQiwwREFBMEQsMkNBQTJDLGVBQWUsMEdBQTBHLGNBQWMsWUFBWSxvQkFBb0IsS0FBSywrR0FBK0csbUZBQW1GLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxzRUFBc0UsY0FBYyxZQUFZLG9CQUFvQixzRkFBc0YsU0FBUywrQkFBK0IsNERBQTRELDhNQUE4TSxnQkFBZ0Isd0JBQXdCLGdEQUFnRCxvQkFBb0IsWUFBWSxnQkFBZ0IsdUJBQXVCLFdBQVcsZ0NBQWdDLG9CQUFvQixRQUFRLGdCQUFnQix1QkFBdUIsV0FBVyxrVEFBa1QsbUNBQW1DLHNEQUFzRCxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxtRkFBbUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGlGQUFpRixRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSw2RUFBNkUsUUFBUSx3QkFBd0IsNEJBQTRCLE1BQU0sb0NBQW9DLE1BQU0scUNBQXFDLE1BQU0sOElBQThJLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsZ0VBQWdFLDJDQUEyQyx1REFBdUQsUUFBUSxnQkFBZ0IsZ0VBQWdFLHlJQUF5SSw2SUFBNkksaUZBQWlGLDZGQUE2RixRQUFRLG1DQUFtQyxvR0FBb0csWUFBWSwwQkFBMEIsbUVBQW1FLG9EQUFvRCxXQUFXLDJHQUEyRyxVQUFVLFlBQVksZ0JBQWdCLDBCQUEwQixXQUFXLDJHQUEyRyxVQUFVLFFBQVEsZ0JBQWdCLDBCQUEwQiwrS0FBK0ssaUpBQWlKLDZCQUE2QixRQUFRLG1DQUFtQyxzRUFBc0UsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDBKQUEwSixVQUFVLFlBQVksZ0JBQWdCLHdCQUF3QiwwQkFBMEIsVUFBVSxRQUFRLGdCQUFnQix3QkFBd0IsNFFBQTRRLDZCQUE2QixRQUFRLG1DQUFtQyw4REFBOEQsU0FBUywrQkFBK0IsNERBQTRELHFGQUFxRixnQkFBZ0Isd0JBQXdCLHVFQUF1RSxzQkFBc0Isd0dBQXdHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZFQUE2RSxRQUFRLEVBQUUsaUJBQWlCLHVLQUF1SyxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx1REFBdUQsbUVBQW1FLFlBQVksc0JBQXNCLEtBQUssNkVBQTZFLDRCQUE0QixZQUFZLDBCQUEwQiw2REFBNkQsOENBQThDLGlCQUFpQixpSEFBaUgsZ0JBQWdCLFlBQVksc0JBQXNCLEtBQUssc0hBQXNILDRGQUE0RixTQUFTLDBCQUEwQixTQUFTLFlBQVksNEVBQTRFLGdCQUFnQixZQUFZLHNCQUFzQiwrRkFBK0YsU0FBUywrQkFBK0IsNERBQTRELGtJQUFrSSxnQkFBZ0Isd0JBQXdCLGdEQUFnRCxvQkFBb0IsWUFBWSxnQkFBZ0IsdUJBQXVCLFdBQVcseVFBQXlRLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RkFBd0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGlGQUFpRixRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSwrQkFBK0IsTUFBTSx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixnRUFBZ0Usb1NBQW9TLDBCQUEwQix3RUFBd0UseURBQXlELFdBQVcsZ0hBQWdILFVBQVUsWUFBWSxnQkFBZ0IsMEJBQTBCLGlJQUFpSSwwQkFBMEIsU0FBUyxZQUFZLDBHQUEwRyxVQUFVLFlBQVksZ0JBQWdCLHdCQUF3Qix5TUFBeU0sK0JBQStCLDREQUE0RCw2RkFBNkYsZ0JBQWdCLHdCQUF3Qix1TUFBdU0saUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtEQUErRCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0seUJBQXlCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isa1NBQWtTLDBCQUEwQixNQUFNLG1SQUFtUiwwQkFBMEIsU0FBUyxjQUFjLDBXQUEwVywrQkFBK0IsNERBQTRELFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9wcm90b3MvbG9jYXRpb25zLmpzP2QwM2IiXSwic291cmNlc0NvbnRlbnQiOlsiKGU9PntcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcInByb3RvYnVmanMvbWluaW1hbFwiXSxlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwicHJvdG9idWZqcy9taW5pbWFsXCIpKSl9KShmdW5jdGlvbihvKXt2YXIgZSx0LG4sRixzPW8uUmVhZGVyLHI9by5Xcml0ZXIsdT1vLnV0aWwsYz1vLnJvb3RzLmxvY2F0aW9uc19wcm90b3N8fChvLnJvb3RzLmxvY2F0aW9uc19wcm90b3M9e30pO2Z1bmN0aW9uIEwoZSx0LG4pe28ucnBjLlNlcnZpY2UuY2FsbCh0aGlzLGUsdCxuKX1mdW5jdGlvbiBpKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBhKGUpe2lmKHRoaXMubG9jYXRpb25zPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBHKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBwKGUpe2lmKHRoaXMubGFiZWxzPXt9LGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBsKGUpe2lmKHRoaXMucnVsZXM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGQoZSl7aWYodGhpcy5hZGRpdGlvbmFsQmluZGluZ3M9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGcoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEIoZSl7aWYodGhpcy5maWxlPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBmKGUpe2lmKHRoaXMuZGVwZW5kZW5jeT1bXSx0aGlzLnB1YmxpY0RlcGVuZGVuY3k9W10sdGhpcy53ZWFrRGVwZW5kZW5jeT1bXSx0aGlzLm1lc3NhZ2VUeXBlPVtdLHRoaXMuZW51bVR5cGU9W10sdGhpcy5zZXJ2aWNlPVtdLHRoaXMuZXh0ZW5zaW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB5KGUpe2lmKHRoaXMuZmllbGQ9W10sdGhpcy5leHRlbnNpb249W10sdGhpcy5uZXN0ZWRUeXBlPVtdLHRoaXMuZW51bVR5cGU9W10sdGhpcy5leHRlbnNpb25SYW5nZT1bXSx0aGlzLm9uZW9mRGVjbD1bXSx0aGlzLnJlc2VydmVkUmFuZ2U9W10sdGhpcy5yZXNlcnZlZE5hbWU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGIoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFUoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBPKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBtKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB2KGUpe2lmKHRoaXMudmFsdWU9W10sdGhpcy5yZXNlcnZlZFJhbmdlPVtdLHRoaXMucmVzZXJ2ZWROYW1lPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBQKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB3KGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBqKGUpe2lmKHRoaXMubWV0aG9kPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiB4KGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBTKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gayhlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEQoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBNKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVChlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEUoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBBKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gTihlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sdGhpc1tcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSShlKXtpZih0aGlzLm5hbWU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFIoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIF8oZSl7aWYodGhpcy5sb2NhdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gQyhlKXtpZih0aGlzLnBhdGg9W10sdGhpcy5zcGFuPVtdLHRoaXMubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEooZSl7aWYodGhpcy5hbm5vdGF0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBWKGUpe2lmKHRoaXMucGF0aD1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIGMuZ29vZ2xlPSgoRj17fSkuY2xvdWQ9KChuPXt9KS5sb2NhdGlvbj0oKGU9e30pLkxvY2F0aW9ucz0oKChMLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucnBjLlNlcnZpY2UucHJvdG90eXBlKSkuY29uc3RydWN0b3I9TCkuY3JlYXRlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IHRoaXMoZSx0LG4pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTC5wcm90b3R5cGUubGlzdExvY2F0aW9ucz1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXF1ZXN0LGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXNwb25zZSx0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJMaXN0TG9jYXRpb25zXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTC5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5HZXRMb2NhdGlvblJlcXVlc3QsYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24sdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiR2V0TG9jYXRpb25cIn0pLEwpLGUuTGlzdExvY2F0aW9uc1JlcXVlc3Q9KGkucHJvdG90eXBlLm5hbWU9XCJcIixpLnByb3RvdHlwZS5maWx0ZXI9XCJcIixpLnByb3RvdHlwZS5wYWdlU2l6ZT0wLGkucHJvdG90eXBlLnBhZ2VUb2tlbj1cIlwiLGkuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaShlKX0saS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmZpbHRlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImZpbHRlclwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmZpbHRlciksbnVsbCE9ZS5wYWdlU2l6ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhZ2VTaXplXCIpJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5wYWdlU2l6ZSksbnVsbCE9ZS5wYWdlVG9rZW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYWdlVG9rZW5cIikmJnQudWludDMyKDM0KS5zdHJpbmcoZS5wYWdlVG9rZW4pLHR9LGkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmZpbHRlcj1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLnBhZ2VTaXplPWUuaW50MzIoKTticmVhaztjYXNlIDQ6by5wYWdlVG9rZW49ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGkuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGkudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSk/XCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmZpbHRlciYmZS5oYXNPd25Qcm9wZXJ0eShcImZpbHRlclwiKSYmIXUuaXNTdHJpbmcoZS5maWx0ZXIpP1wiZmlsdGVyOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnBhZ2VTaXplJiZlLmhhc093blByb3BlcnR5KFwicGFnZVNpemVcIikmJiF1LmlzSW50ZWdlcihlLnBhZ2VTaXplKT9cInBhZ2VTaXplOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5wYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlVG9rZW5cIikmJiF1LmlzU3RyaW5nKGUucGFnZVRva2VuKT9cInBhZ2VUb2tlbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0saS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1JlcXVlc3Q/ZToodD1uZXcgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1JlcXVlc3QsbnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLmZpbHRlciYmKHQuZmlsdGVyPVN0cmluZyhlLmZpbHRlcikpLG51bGwhPWUucGFnZVNpemUmJih0LnBhZ2VTaXplPTB8ZS5wYWdlU2l6ZSksbnVsbCE9ZS5wYWdlVG9rZW4mJih0LnBhZ2VUb2tlbj1TdHJpbmcoZS5wYWdlVG9rZW4pKSx0KX0saS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4uZmlsdGVyPVwiXCIsbi5wYWdlU2l6ZT0wLG4ucGFnZVRva2VuPVwiXCIpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLmZpbHRlciYmZS5oYXNPd25Qcm9wZXJ0eShcImZpbHRlclwiKSYmKG4uZmlsdGVyPWUuZmlsdGVyKSxudWxsIT1lLnBhZ2VTaXplJiZlLmhhc093blByb3BlcnR5KFwicGFnZVNpemVcIikmJihuLnBhZ2VTaXplPWUucGFnZVNpemUpLG51bGwhPWUucGFnZVRva2VuJiZlLmhhc093blByb3BlcnR5KFwicGFnZVRva2VuXCIpJiYobi5wYWdlVG9rZW49ZS5wYWdlVG9rZW4pLG59LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxpKSxlLkxpc3RMb2NhdGlvbnNSZXNwb25zZT0oYS5wcm90b3R5cGUubG9jYXRpb25zPXUuZW1wdHlBcnJheSxhLnByb3RvdHlwZS5uZXh0UGFnZVRva2VuPVwiXCIsYS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBhKGUpfSxhLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmxvY2F0aW9ucyYmZS5sb2NhdGlvbnMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5sb2NhdGlvbnMubGVuZ3RoOysrbiljLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbi5lbmNvZGUoZS5sb2NhdGlvbnNbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5leHRQYWdlVG9rZW5cIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5uZXh0UGFnZVRva2VuKSx0fSxhLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxhLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5MaXN0TG9jYXRpb25zUmVzcG9uc2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5sb2NhdGlvbnMmJm8ubG9jYXRpb25zLmxlbmd0aHx8KG8ubG9jYXRpb25zPVtdKSxvLmxvY2F0aW9ucy5wdXNoKGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDI6by5uZXh0UGFnZVRva2VuPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxhLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxhLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxvY2F0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5sb2NhdGlvbnMpKXJldHVyblwibG9jYXRpb25zOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5sb2NhdGlvbnMubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24udmVyaWZ5KGUubG9jYXRpb25zW3RdKTtpZihuKXJldHVyblwibG9jYXRpb25zLlwiK259fXJldHVybiBudWxsIT1lLm5leHRQYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJuZXh0UGFnZVRva2VuXCIpJiYhdS5pc1N0cmluZyhlLm5leHRQYWdlVG9rZW4pP1wibmV4dFBhZ2VUb2tlbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sYS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5MaXN0TG9jYXRpb25zUmVzcG9uc2UpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxpc3RMb2NhdGlvbnNSZXNwb25zZTtpZihlLmxvY2F0aW9ucyl7aWYoIUFycmF5LmlzQXJyYXkoZS5sb2NhdGlvbnMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuY2xvdWQubG9jYXRpb24uTGlzdExvY2F0aW9uc1Jlc3BvbnNlLmxvY2F0aW9uczogYXJyYXkgZXhwZWN0ZWRcIik7dC5sb2NhdGlvbnM9W107Zm9yKHZhciBuPTA7bjxlLmxvY2F0aW9ucy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5sb2NhdGlvbnNbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5MaXN0TG9jYXRpb25zUmVzcG9uc2UubG9jYXRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5sb2NhdGlvbnNbbl09Yy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24uZnJvbU9iamVjdChlLmxvY2F0aW9uc1tuXSl9fXJldHVybiBudWxsIT1lLm5leHRQYWdlVG9rZW4mJih0Lm5leHRQYWdlVG9rZW49U3RyaW5nKGUubmV4dFBhZ2VUb2tlbikpLHR9LGEudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmxvY2F0aW9ucz1bXSksdC5kZWZhdWx0cyYmKG4ubmV4dFBhZ2VUb2tlbj1cIlwiKSxlLmxvY2F0aW9ucyYmZS5sb2NhdGlvbnMubGVuZ3RoKXtuLmxvY2F0aW9ucz1bXTtmb3IodmFyIG89MDtvPGUubG9jYXRpb25zLmxlbmd0aDsrK28pbi5sb2NhdGlvbnNbb109Yy5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24udG9PYmplY3QoZS5sb2NhdGlvbnNbb10sdCl9cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmZS5oYXNPd25Qcm9wZXJ0eShcIm5leHRQYWdlVG9rZW5cIikmJihuLm5leHRQYWdlVG9rZW49ZS5uZXh0UGFnZVRva2VuKSxufSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sYSksZS5HZXRMb2NhdGlvblJlcXVlc3Q9KEcucHJvdG90eXBlLm5hbWU9XCJcIixHLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEcoZSl9LEcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksdH0sRy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sRy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUuY2xvdWQubG9jYXRpb24uR2V0TG9jYXRpb25SZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xP28ubmFtZT1lLnN0cmluZygpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sRy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sRy52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKT9cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkdldExvY2F0aW9uUmVxdWVzdD9lOih0PW5ldyBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5HZXRMb2NhdGlvblJlcXVlc3QsbnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSx0KX0sRy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbn0sRy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEcpLGUuTG9jYXRpb249KHAucHJvdG90eXBlLm5hbWU9XCJcIixwLnByb3RvdHlwZS5sb2NhdGlvbklkPVwiXCIscC5wcm90b3R5cGUuZGlzcGxheU5hbWU9XCJcIixwLnByb3RvdHlwZS5sYWJlbHM9dS5lbXB0eU9iamVjdCxwLnByb3RvdHlwZS5tZXRhZGF0YT1udWxsLHAuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcChlKX0scC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUubGFiZWxzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGFiZWxzXCIpKWZvcih2YXIgbj1PYmplY3Qua2V5cyhlLmxhYmVscyksbz0wO288bi5sZW5ndGg7KytvKXQudWludDMyKDE4KS5mb3JrKCkudWludDMyKDEwKS5zdHJpbmcobltvXSkudWludDMyKDE4KS5zdHJpbmcoZS5sYWJlbHNbbltvXV0pLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLm1ldGFkYXRhJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWV0YWRhdGFcIikmJmMuZ29vZ2xlLnByb3RvYnVmLkFueS5lbmNvZGUoZS5tZXRhZGF0YSx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLmxvY2F0aW9uSWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsb2NhdGlvbklkXCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUubG9jYXRpb25JZCksbnVsbCE9ZS5kaXNwbGF5TmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRpc3BsYXlOYW1lXCIpJiZ0LnVpbnQzMig0Mikuc3RyaW5nKGUuZGlzcGxheU5hbWUpLHR9LHAuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHAuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLmxvY2F0aW9uSWQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDU6by5kaXNwbGF5TmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmxhYmVscz09PXUuZW1wdHlPYmplY3QmJihvLmxhYmVscz17fSk7Zm9yKHZhciBpPWUudWludDMyKCkrZS5wb3MsYT1cIlwiLHA9XCJcIjtlLnBvczxpOyl7dmFyIGw9ZS51aW50MzIoKTtzd2l0Y2gobD4+PjMpe2Nhc2UgMTphPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOnA9ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZsKX19by5sYWJlbHNbYV09cDticmVhaztjYXNlIDM6by5tZXRhZGF0YT1jLmdvb2dsZS5wcm90b2J1Zi5BbnkuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxwLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxwLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sb2NhdGlvbklkJiZlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25JZFwiKSYmIXUuaXNTdHJpbmcoZS5sb2NhdGlvbklkKSlyZXR1cm5cImxvY2F0aW9uSWQ6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGlzcGxheU5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5TmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5kaXNwbGF5TmFtZSkpcmV0dXJuXCJkaXNwbGF5TmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sYWJlbHMmJmUuaGFzT3duUHJvcGVydHkoXCJsYWJlbHNcIikpe2lmKCF1LmlzT2JqZWN0KGUubGFiZWxzKSlyZXR1cm5cImxhYmVsczogb2JqZWN0IGV4cGVjdGVkXCI7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGUubGFiZWxzKSxuPTA7bjx0Lmxlbmd0aDsrK24paWYoIXUuaXNTdHJpbmcoZS5sYWJlbHNbdFtuXV0pKXJldHVyblwibGFiZWxzOiBzdHJpbmd7azpzdHJpbmd9IGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5tZXRhZGF0YSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGFkYXRhXCIpKXt2YXIgbz1jLmdvb2dsZS5wcm90b2J1Zi5BbnkudmVyaWZ5KGUubWV0YWRhdGEpO2lmKG8pcmV0dXJuXCJtZXRhZGF0YS5cIitvfXJldHVybiBudWxsfSxwLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbjtpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUubG9jYXRpb25JZCYmKHQubG9jYXRpb25JZD1TdHJpbmcoZS5sb2NhdGlvbklkKSksbnVsbCE9ZS5kaXNwbGF5TmFtZSYmKHQuZGlzcGxheU5hbWU9U3RyaW5nKGUuZGlzcGxheU5hbWUpKSxlLmxhYmVscyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubGFiZWxzKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb24ubGFiZWxzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5sYWJlbHM9e307Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUubGFiZWxzKSxvPTA7bzxuLmxlbmd0aDsrK28pdC5sYWJlbHNbbltvXV09U3RyaW5nKGUubGFiZWxzW25bb11dKX1pZihudWxsIT1lLm1ldGFkYXRhKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5tZXRhZGF0YSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9uLm1ldGFkYXRhOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5tZXRhZGF0YT1jLmdvb2dsZS5wcm90b2J1Zi5BbnkuZnJvbU9iamVjdChlLm1ldGFkYXRhKX1yZXR1cm4gdH0scC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuLG89e307aWYoKCh0PXR8fHt9KS5vYmplY3RzfHx0LmRlZmF1bHRzKSYmKG8ubGFiZWxzPXt9KSx0LmRlZmF1bHRzJiYoby5uYW1lPVwiXCIsby5tZXRhZGF0YT1udWxsLG8ubG9jYXRpb25JZD1cIlwiLG8uZGlzcGxheU5hbWU9XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG8ubmFtZT1lLm5hbWUpLGUubGFiZWxzJiYobj1PYmplY3Qua2V5cyhlLmxhYmVscykpLmxlbmd0aCl7by5sYWJlbHM9e307Zm9yKHZhciByPTA7cjxuLmxlbmd0aDsrK3Ipby5sYWJlbHNbbltyXV09ZS5sYWJlbHNbbltyXV19cmV0dXJuIG51bGwhPWUubWV0YWRhdGEmJmUuaGFzT3duUHJvcGVydHkoXCJtZXRhZGF0YVwiKSYmKG8ubWV0YWRhdGE9Yy5nb29nbGUucHJvdG9idWYuQW55LnRvT2JqZWN0KGUubWV0YWRhdGEsdCkpLG51bGwhPWUubG9jYXRpb25JZCYmZS5oYXNPd25Qcm9wZXJ0eShcImxvY2F0aW9uSWRcIikmJihvLmxvY2F0aW9uSWQ9ZS5sb2NhdGlvbklkKSxudWxsIT1lLmRpc3BsYXlOYW1lJiZlLmhhc093blByb3BlcnR5KFwiZGlzcGxheU5hbWVcIikmJihvLmRpc3BsYXlOYW1lPWUuZGlzcGxheU5hbWUpLG99LHAucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxwKSxlKSxuKSxGLmFwaT0oKGU9e30pLkh0dHA9KGwucHJvdG90eXBlLnJ1bGVzPXUuZW1wdHlBcnJheSxsLnByb3RvdHlwZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPSExLGwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbChlKX0sbC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5ydWxlcyYmZS5ydWxlcy5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnJ1bGVzLmxlbmd0aDsrK24pYy5nb29nbGUuYXBpLkh0dHBSdWxlLmVuY29kZShlLnJ1bGVzW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24pLHR9LGwuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGwuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLmFwaS5IdHRwO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucnVsZXMmJm8ucnVsZXMubGVuZ3RofHwoby5ydWxlcz1bXSksby5ydWxlcy5wdXNoKGMuZ29vZ2xlLmFwaS5IdHRwUnVsZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOm8uZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGwuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGwudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUucnVsZXMmJmUuaGFzT3duUHJvcGVydHkoXCJydWxlc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5ydWxlcykpcmV0dXJuXCJydWxlczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucnVsZXMubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUuYXBpLkh0dHBSdWxlLnZlcmlmeShlLnJ1bGVzW3RdKTtpZihuKXJldHVyblwicnVsZXMuXCIrbn19cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb25cIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uP1wiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbjogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LGwuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUuYXBpLkh0dHApcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLmFwaS5IdHRwO2lmKGUucnVsZXMpe2lmKCFBcnJheS5pc0FycmF5KGUucnVsZXMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHAucnVsZXM6IGFycmF5IGV4cGVjdGVkXCIpO3QucnVsZXM9W107Zm9yKHZhciBuPTA7bjxlLnJ1bGVzLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJ1bGVzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHAucnVsZXM6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJ1bGVzW25dPWMuZ29vZ2xlLmFwaS5IdHRwUnVsZS5mcm9tT2JqZWN0KGUucnVsZXNbbl0pfX1yZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiYodC5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPUJvb2xlYW4oZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uKSksdH0sbC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucnVsZXM9W10pLHQuZGVmYXVsdHMmJihuLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ITEpLGUucnVsZXMmJmUucnVsZXMubGVuZ3RoKXtuLnJ1bGVzPVtdO2Zvcih2YXIgbz0wO288ZS5ydWxlcy5sZW5ndGg7KytvKW4ucnVsZXNbb109Yy5nb29nbGUuYXBpLkh0dHBSdWxlLnRvT2JqZWN0KGUucnVsZXNbb10sdCl9cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb25cIikmJihuLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uKSxufSxsLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sbCksZS5IdHRwUnVsZT0oZC5wcm90b3R5cGUuc2VsZWN0b3I9XCJcIixkLnByb3RvdHlwZS5nZXQ9bnVsbCxkLnByb3RvdHlwZS5wdXQ9bnVsbCxkLnByb3RvdHlwZS5wb3N0PW51bGwsZC5wcm90b3R5cGUuZGVsZXRlPW51bGwsZC5wcm90b3R5cGUucGF0Y2g9bnVsbCxkLnByb3RvdHlwZS5jdXN0b209bnVsbCxkLnByb3RvdHlwZS5ib2R5PVwiXCIsZC5wcm90b3R5cGUucmVzcG9uc2VCb2R5PVwiXCIsZC5wcm90b3R5cGUuYWRkaXRpb25hbEJpbmRpbmdzPXUuZW1wdHlBcnJheSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsXCJwYXR0ZXJuXCIse2dldDp1Lm9uZU9mR2V0dGVyKG49W1wiZ2V0XCIsXCJwdXRcIixcInBvc3RcIixcImRlbGV0ZVwiLFwicGF0Y2hcIixcImN1c3RvbVwiXSksc2V0OnUub25lT2ZTZXR0ZXIobil9KSxkLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGQoZSl9LGQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc2VsZWN0b3ImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZWxlY3RvclwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnNlbGVjdG9yKSxudWxsIT1lLmdldCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImdldFwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmdldCksbnVsbCE9ZS5wdXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwdXRcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5wdXQpLG51bGwhPWUucG9zdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBvc3RcIikmJnQudWludDMyKDM0KS5zdHJpbmcoZS5wb3N0KSxudWxsIT1lLmRlbGV0ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlbGV0ZVwiKSYmdC51aW50MzIoNDIpLnN0cmluZyhlLmRlbGV0ZSksbnVsbCE9ZS5wYXRjaCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhdGNoXCIpJiZ0LnVpbnQzMig1MCkuc3RyaW5nKGUucGF0Y2gpLG51bGwhPWUuYm9keSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImJvZHlcIikmJnQudWludDMyKDU4KS5zdHJpbmcoZS5ib2R5KSxudWxsIT1lLmN1c3RvbSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImN1c3RvbVwiKSYmYy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLmVuY29kZShlLmN1c3RvbSx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLmFkZGl0aW9uYWxCaW5kaW5ncyYmZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbiljLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZW5jb2RlKGUuYWRkaXRpb25hbEJpbmRpbmdzW25dLHQudWludDMyKDkwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLnJlc3BvbnNlQm9keSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc3BvbnNlQm9keVwiKSYmdC51aW50MzIoOTgpLnN0cmluZyhlLnJlc3BvbnNlQm9keSksdH0sZC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sZC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUuYXBpLkh0dHBSdWxlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc2VsZWN0b3I9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5nZXQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5wdXQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5wb3N0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA1Om8uZGVsZXRlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2Om8ucGF0Y2g9ZS5zdHJpbmcoKTticmVhaztjYXNlIDg6by5jdXN0b209Yy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNzpvLmJvZHk9ZS5zdHJpbmcoKTticmVhaztjYXNlIDEyOm8ucmVzcG9uc2VCb2R5PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMTpvLmFkZGl0aW9uYWxCaW5kaW5ncyYmby5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RofHwoby5hZGRpdGlvbmFsQmluZGluZ3M9W10pLG8uYWRkaXRpb25hbEJpbmRpbmdzLnB1c2goYy5nb29nbGUuYXBpLkh0dHBSdWxlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGQudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO3ZhciB0PXt9O2lmKG51bGwhPWUuc2VsZWN0b3ImJmUuaGFzT3duUHJvcGVydHkoXCJzZWxlY3RvclwiKSYmIXUuaXNTdHJpbmcoZS5zZWxlY3RvcikpcmV0dXJuXCJzZWxlY3Rvcjogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5nZXQmJmUuaGFzT3duUHJvcGVydHkoXCJnZXRcIikmJih0LnBhdHRlcm49MSwhdS5pc1N0cmluZyhlLmdldCkpKXJldHVyblwiZ2V0OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnB1dCYmZS5oYXNPd25Qcm9wZXJ0eShcInB1dFwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCF1LmlzU3RyaW5nKGUucHV0KSlyZXR1cm5cInB1dDogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5wb3N0JiZlLmhhc093blByb3BlcnR5KFwicG9zdFwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCF1LmlzU3RyaW5nKGUucG9zdCkpcmV0dXJuXCJwb3N0OiBzdHJpbmcgZXhwZWN0ZWRcIn1pZihudWxsIT1lLmRlbGV0ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlbGV0ZVwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCF1LmlzU3RyaW5nKGUuZGVsZXRlKSlyZXR1cm5cImRlbGV0ZTogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5wYXRjaCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGNoXCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsIXUuaXNTdHJpbmcoZS5wYXRjaCkpcmV0dXJuXCJwYXRjaDogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5jdXN0b20mJmUuaGFzT3duUHJvcGVydHkoXCJjdXN0b21cIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSxuPWMuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi52ZXJpZnkoZS5jdXN0b20pKXJldHVyblwiY3VzdG9tLlwiK259aWYobnVsbCE9ZS5ib2R5JiZlLmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmIXUuaXNTdHJpbmcoZS5ib2R5KSlyZXR1cm5cImJvZHk6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucmVzcG9uc2VCb2R5JiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VCb2R5XCIpJiYhdS5pc1N0cmluZyhlLnJlc3BvbnNlQm9keSkpcmV0dXJuXCJyZXNwb25zZUJvZHk6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuYWRkaXRpb25hbEJpbmRpbmdzJiZlLmhhc093blByb3BlcnR5KFwiYWRkaXRpb25hbEJpbmRpbmdzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmFkZGl0aW9uYWxCaW5kaW5ncykpcmV0dXJuXCJhZGRpdGlvbmFsQmluZGluZ3M6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLG89MDtvPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK28paWYobj1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUudmVyaWZ5KGUuYWRkaXRpb25hbEJpbmRpbmdzW29dKSlyZXR1cm5cImFkZGl0aW9uYWxCaW5kaW5ncy5cIitufXJldHVybiBudWxsfSxkLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLmFwaS5IdHRwUnVsZSlyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUuYXBpLkh0dHBSdWxlO2lmKG51bGwhPWUuc2VsZWN0b3ImJih0LnNlbGVjdG9yPVN0cmluZyhlLnNlbGVjdG9yKSksbnVsbCE9ZS5nZXQmJih0LmdldD1TdHJpbmcoZS5nZXQpKSxudWxsIT1lLnB1dCYmKHQucHV0PVN0cmluZyhlLnB1dCkpLG51bGwhPWUucG9zdCYmKHQucG9zdD1TdHJpbmcoZS5wb3N0KSksbnVsbCE9ZS5kZWxldGUmJih0LmRlbGV0ZT1TdHJpbmcoZS5kZWxldGUpKSxudWxsIT1lLnBhdGNoJiYodC5wYXRjaD1TdHJpbmcoZS5wYXRjaCkpLG51bGwhPWUuY3VzdG9tKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5jdXN0b20pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cFJ1bGUuY3VzdG9tOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5jdXN0b209Yy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLmZyb21PYmplY3QoZS5jdXN0b20pfWlmKG51bGwhPWUuYm9keSYmKHQuYm9keT1TdHJpbmcoZS5ib2R5KSksbnVsbCE9ZS5yZXNwb25zZUJvZHkmJih0LnJlc3BvbnNlQm9keT1TdHJpbmcoZS5yZXNwb25zZUJvZHkpKSxlLmFkZGl0aW9uYWxCaW5kaW5ncyl7aWYoIUFycmF5LmlzQXJyYXkoZS5hZGRpdGlvbmFsQmluZGluZ3MpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHBSdWxlLmFkZGl0aW9uYWxCaW5kaW5nczogYXJyYXkgZXhwZWN0ZWRcIik7dC5hZGRpdGlvbmFsQmluZGluZ3M9W107Zm9yKHZhciBuPTA7bjxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5hZGRpdGlvbmFsQmluZGluZ3Nbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5hcGkuSHR0cFJ1bGUuYWRkaXRpb25hbEJpbmRpbmdzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hZGRpdGlvbmFsQmluZGluZ3Nbbl09Yy5nb29nbGUuYXBpLkh0dHBSdWxlLmZyb21PYmplY3QoZS5hZGRpdGlvbmFsQmluZGluZ3Nbbl0pfX1yZXR1cm4gdH0sZC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uYWRkaXRpb25hbEJpbmRpbmdzPVtdKSx0LmRlZmF1bHRzJiYobi5zZWxlY3Rvcj1cIlwiLG4uYm9keT1cIlwiLG4ucmVzcG9uc2VCb2R5PVwiXCIpLG51bGwhPWUuc2VsZWN0b3ImJmUuaGFzT3duUHJvcGVydHkoXCJzZWxlY3RvclwiKSYmKG4uc2VsZWN0b3I9ZS5zZWxlY3RvciksbnVsbCE9ZS5nZXQmJmUuaGFzT3duUHJvcGVydHkoXCJnZXRcIikmJihuLmdldD1lLmdldCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJnZXRcIiksbnVsbCE9ZS5wdXQmJmUuaGFzT3duUHJvcGVydHkoXCJwdXRcIikmJihuLnB1dD1lLnB1dCx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJwdXRcIiksbnVsbCE9ZS5wb3N0JiZlLmhhc093blByb3BlcnR5KFwicG9zdFwiKSYmKG4ucG9zdD1lLnBvc3QsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwicG9zdFwiKSxudWxsIT1lLmRlbGV0ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlbGV0ZVwiKSYmKG4uZGVsZXRlPWUuZGVsZXRlLHQub25lb2ZzKSYmKG4ucGF0dGVybj1cImRlbGV0ZVwiKSxudWxsIT1lLnBhdGNoJiZlLmhhc093blByb3BlcnR5KFwicGF0Y2hcIikmJihuLnBhdGNoPWUucGF0Y2gsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwicGF0Y2hcIiksbnVsbCE9ZS5ib2R5JiZlLmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmKG4uYm9keT1lLmJvZHkpLG51bGwhPWUuY3VzdG9tJiZlLmhhc093blByb3BlcnR5KFwiY3VzdG9tXCIpJiYobi5jdXN0b209Yy5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLnRvT2JqZWN0KGUuY3VzdG9tLHQpLHQub25lb2ZzKSYmKG4ucGF0dGVybj1cImN1c3RvbVwiKSxlLmFkZGl0aW9uYWxCaW5kaW5ncyYmZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoKXtuLmFkZGl0aW9uYWxCaW5kaW5ncz1bXTtmb3IodmFyIG89MDtvPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK28pbi5hZGRpdGlvbmFsQmluZGluZ3Nbb109Yy5nb29nbGUuYXBpLkh0dHBSdWxlLnRvT2JqZWN0KGUuYWRkaXRpb25hbEJpbmRpbmdzW29dLHQpfXJldHVybiBudWxsIT1lLnJlc3BvbnNlQm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlQm9keVwiKSYmKG4ucmVzcG9uc2VCb2R5PWUucmVzcG9uc2VCb2R5KSxufSxkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZCksZS5DdXN0b21IdHRwUGF0dGVybj0oZy5wcm90b3R5cGUua2luZD1cIlwiLGcucHJvdG90eXBlLnBhdGg9XCJcIixnLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGcoZSl9LGcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmtpbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJraW5kXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUua2luZCksbnVsbCE9ZS5wYXRoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGF0aFwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnBhdGgpLHR9LGcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmtpbmQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wYXRoPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxnLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxnLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLmtpbmQmJmUuaGFzT3duUHJvcGVydHkoXCJraW5kXCIpJiYhdS5pc1N0cmluZyhlLmtpbmQpP1wia2luZDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSYmIXUuaXNTdHJpbmcoZS5wYXRoKT9cInBhdGg6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LGcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybj9lOih0PW5ldyBjLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4sbnVsbCE9ZS5raW5kJiYodC5raW5kPVN0cmluZyhlLmtpbmQpKSxudWxsIT1lLnBhdGgmJih0LnBhdGg9U3RyaW5nKGUucGF0aCkpLHQpfSxnLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5raW5kPVwiXCIsbi5wYXRoPVwiXCIpLG51bGwhPWUua2luZCYmZS5oYXNPd25Qcm9wZXJ0eShcImtpbmRcIikmJihuLmtpbmQ9ZS5raW5kKSxudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpJiYobi5wYXRoPWUucGF0aCksbn0sZy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGcpLGUpLEYucHJvdG9idWY9KChuPXt9KS5GaWxlRGVzY3JpcHRvclNldD0oQi5wcm90b3R5cGUuZmlsZT11LmVtcHR5QXJyYXksQi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBCKGUpfSxCLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmZpbGUmJmUuZmlsZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmZpbGUubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmZpbGVbbl0sdC51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEIuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xPyhvLmZpbGUmJm8uZmlsZS5sZW5ndGh8fChvLmZpbGU9W10pLG8uZmlsZS5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LEIuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEIudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZmlsZSYmZS5oYXNPd25Qcm9wZXJ0eShcImZpbGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZmlsZSkpcmV0dXJuXCJmaWxlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5maWxlLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZmlsZVt0XSk7aWYobilyZXR1cm5cImZpbGUuXCIrbn19cmV0dXJuIG51bGx9LEIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0O2lmKGUuZmlsZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWxlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0LmZpbGU6IGFycmF5IGV4cGVjdGVkXCIpO3QuZmlsZT1bXTtmb3IodmFyIG49MDtuPGUuZmlsZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5maWxlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JTZXQuZmlsZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZmlsZVtuXT1jLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5maWxlW25dKX19cmV0dXJuIHR9LEIudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmZpbGU9W10pLGUuZmlsZSYmZS5maWxlLmxlbmd0aCl7bi5maWxlPVtdO2Zvcih2YXIgbz0wO288ZS5maWxlLmxlbmd0aDsrK28pbi5maWxlW29dPWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5maWxlW29dLHQpfXJldHVybiBufSxCLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sQiksbi5GaWxlRGVzY3JpcHRvclByb3RvPShmLnByb3RvdHlwZS5uYW1lPVwiXCIsZi5wcm90b3R5cGUucGFja2FnZT1cIlwiLGYucHJvdG90eXBlLmRlcGVuZGVuY3k9dS5lbXB0eUFycmF5LGYucHJvdG90eXBlLnB1YmxpY0RlcGVuZGVuY3k9dS5lbXB0eUFycmF5LGYucHJvdG90eXBlLndlYWtEZXBlbmRlbmN5PXUuZW1wdHlBcnJheSxmLnByb3RvdHlwZS5tZXNzYWdlVHlwZT11LmVtcHR5QXJyYXksZi5wcm90b3R5cGUuZW51bVR5cGU9dS5lbXB0eUFycmF5LGYucHJvdG90eXBlLnNlcnZpY2U9dS5lbXB0eUFycmF5LGYucHJvdG90eXBlLmV4dGVuc2lvbj11LmVtcHR5QXJyYXksZi5wcm90b3R5cGUub3B0aW9ucz1udWxsLGYucHJvdG90eXBlLnNvdXJjZUNvZGVJbmZvPW51bGwsZi5wcm90b3R5cGUuc3ludGF4PVwiXCIsZi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBmKGUpfSxmLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5wYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFja2FnZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnBhY2thZ2UpLG51bGwhPWUuZGVwZW5kZW5jeSYmZS5kZXBlbmRlbmN5Lmxlbmd0aClmb3IodmFyIG49MDtuPGUuZGVwZW5kZW5jeS5sZW5ndGg7KytuKXQudWludDMyKDI2KS5zdHJpbmcoZS5kZXBlbmRlbmN5W25dKTtpZihudWxsIT1lLm1lc3NhZ2VUeXBlJiZlLm1lc3NhZ2VUeXBlLmxlbmd0aClmb3Iobj0wO248ZS5tZXNzYWdlVHlwZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5tZXNzYWdlVHlwZVtuXSx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aClmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZW51bVR5cGVbbl0sdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5zZXJ2aWNlJiZlLnNlcnZpY2UubGVuZ3RoKWZvcihuPTA7bjxlLnNlcnZpY2UubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLmVuY29kZShlLnNlcnZpY2Vbbl0sdC51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aClmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5leHRlbnNpb25bbl0sdC51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnNvdXJjZUNvZGVJbmZvJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic291cmNlQ29kZUluZm9cIikmJmMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmVuY29kZShlLnNvdXJjZUNvZGVJbmZvLHQudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUucHVibGljRGVwZW5kZW5jeSYmZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aClmb3Iobj0wO248ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC51aW50MzIoODApLmludDMyKGUucHVibGljRGVwZW5kZW5jeVtuXSk7aWYobnVsbCE9ZS53ZWFrRGVwZW5kZW5jeSYmZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGgpZm9yKG49MDtuPGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LnVpbnQzMig4OCkuaW50MzIoZS53ZWFrRGVwZW5kZW5jeVtuXSk7cmV0dXJuIG51bGwhPWUuc3ludGF4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3ludGF4XCIpJiZ0LnVpbnQzMig5OCkuc3RyaW5nKGUuc3ludGF4KSx0fSxmLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxmLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5kZXBlbmRlbmN5JiZvLmRlcGVuZGVuY3kubGVuZ3RofHwoby5kZXBlbmRlbmN5PVtdKSxvLmRlcGVuZGVuY3kucHVzaChlLnN0cmluZygpKTticmVhaztjYXNlIDEwOmlmKG8ucHVibGljRGVwZW5kZW5jeSYmby5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aHx8KG8ucHVibGljRGVwZW5kZW5jeT1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5wdWJsaWNEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTtlbHNlIG8ucHVibGljRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAxMTppZihvLndlYWtEZXBlbmRlbmN5JiZvLndlYWtEZXBlbmRlbmN5Lmxlbmd0aHx8KG8ud2Vha0RlcGVuZGVuY3k9W10pLDI9PSg3JnIpKWZvcihpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby53ZWFrRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLndlYWtEZXBlbmRlbmN5LnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDQ6by5tZXNzYWdlVHlwZSYmby5tZXNzYWdlVHlwZS5sZW5ndGh8fChvLm1lc3NhZ2VUeXBlPVtdKSxvLm1lc3NhZ2VUeXBlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDU6by5lbnVtVHlwZSYmby5lbnVtVHlwZS5sZW5ndGh8fChvLmVudW1UeXBlPVtdKSxvLmVudW1UeXBlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA2Om8uc2VydmljZSYmby5zZXJ2aWNlLmxlbmd0aHx8KG8uc2VydmljZT1bXSksby5zZXJ2aWNlLnB1c2goYy5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA3Om8uZXh0ZW5zaW9uJiZvLmV4dGVuc2lvbi5sZW5ndGh8fChvLmV4dGVuc2lvbj1bXSksby5leHRlbnNpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA4Om8ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDk6by5zb3VyY2VDb2RlSW5mbz1jLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDEyOm8uc3ludGF4PWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxmLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxmLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicGFja2FnZVwiKSYmIXUuaXNTdHJpbmcoZS5wYWNrYWdlKSlyZXR1cm5cInBhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwZW5kZW5jeSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcGVuZGVuY3lcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZGVwZW5kZW5jeSkpcmV0dXJuXCJkZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK3QpaWYoIXUuaXNTdHJpbmcoZS5kZXBlbmRlbmN5W3RdKSlyZXR1cm5cImRlcGVuZGVuY3k6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5wdWJsaWNEZXBlbmRlbmN5JiZlLmhhc093blByb3BlcnR5KFwicHVibGljRGVwZW5kZW5jeVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wdWJsaWNEZXBlbmRlbmN5KSlyZXR1cm5cInB1YmxpY0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7Kyt0KWlmKCF1LmlzSW50ZWdlcihlLnB1YmxpY0RlcGVuZGVuY3lbdF0pKXJldHVyblwicHVibGljRGVwZW5kZW5jeTogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS53ZWFrRGVwZW5kZW5jeSYmZS5oYXNPd25Qcm9wZXJ0eShcIndlYWtEZXBlbmRlbmN5XCIpKXtpZighQXJyYXkuaXNBcnJheShlLndlYWtEZXBlbmRlbmN5KSlyZXR1cm5cIndlYWtEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK3QpaWYoIXUuaXNJbnRlZ2VyKGUud2Vha0RlcGVuZGVuY3lbdF0pKXJldHVyblwid2Vha0RlcGVuZGVuY3k6IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUubWVzc2FnZVR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJtZXNzYWdlVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXNzYWdlVHlwZSkpcmV0dXJuXCJtZXNzYWdlVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5tZXNzYWdlVHlwZS5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm1lc3NhZ2VUeXBlW3RdKSlyZXR1cm5cIm1lc3NhZ2VUeXBlLlwiK259aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImVudW1UeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSlyZXR1cm5cImVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmVudW1UeXBlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmVudW1UeXBlW3RdKSlyZXR1cm5cImVudW1UeXBlLlwiK259aWYobnVsbCE9ZS5zZXJ2aWNlJiZlLmhhc093blByb3BlcnR5KFwic2VydmljZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zZXJ2aWNlKSlyZXR1cm5cInNlcnZpY2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuc2VydmljZS5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5zZXJ2aWNlW3RdKSlyZXR1cm5cInNlcnZpY2UuXCIrbn1pZihudWxsIT1lLmV4dGVuc2lvbiYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuc2lvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXJldHVyblwiZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmV4dGVuc2lvbi5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuZXh0ZW5zaW9uW3RdKSlyZXR1cm5cImV4dGVuc2lvbi5cIitufXZhciBuO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtpZihudWxsIT1lLnNvdXJjZUNvZGVJbmZvJiZlLmhhc093blByb3BlcnR5KFwic291cmNlQ29kZUluZm9cIikmJihuPWMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLnZlcmlmeShlLnNvdXJjZUNvZGVJbmZvKSkpcmV0dXJuXCJzb3VyY2VDb2RlSW5mby5cIituO3JldHVybiBudWxsIT1lLnN5bnRheCYmZS5oYXNPd25Qcm9wZXJ0eShcInN5bnRheFwiKSYmIXUuaXNTdHJpbmcoZS5zeW50YXgpP1wic3ludGF4OiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxmLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLnBhY2thZ2UmJih0LnBhY2thZ2U9U3RyaW5nKGUucGFja2FnZSkpLGUuZGVwZW5kZW5jeSl7aWYoIUFycmF5LmlzQXJyYXkoZS5kZXBlbmRlbmN5KSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIik7dC5kZXBlbmRlbmN5PVtdO2Zvcih2YXIgbj0wO248ZS5kZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC5kZXBlbmRlbmN5W25dPVN0cmluZyhlLmRlcGVuZGVuY3lbbl0pfWlmKGUucHVibGljRGVwZW5kZW5jeSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wdWJsaWNEZXBlbmRlbmN5KSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ucHVibGljRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIik7dC5wdWJsaWNEZXBlbmRlbmN5PVtdO2ZvcihuPTA7bjxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrbil0LnB1YmxpY0RlcGVuZGVuY3lbbl09MHxlLnB1YmxpY0RlcGVuZGVuY3lbbl19aWYoZS53ZWFrRGVwZW5kZW5jeSl7aWYoIUFycmF5LmlzQXJyYXkoZS53ZWFrRGVwZW5kZW5jeSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLndlYWtEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiKTt0LndlYWtEZXBlbmRlbmN5PVtdO2ZvcihuPTA7bjxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC53ZWFrRGVwZW5kZW5jeVtuXT0wfGUud2Vha0RlcGVuZGVuY3lbbl19aWYoZS5tZXNzYWdlVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXNzYWdlVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLm1lc3NhZ2VUeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0Lm1lc3NhZ2VUeXBlPVtdO2ZvcihuPTA7bjxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm1lc3NhZ2VUeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5tZXNzYWdlVHlwZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QubWVzc2FnZVR5cGVbbl09Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5tZXNzYWdlVHlwZVtuXSl9fWlmKGUuZW51bVR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5lbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZT1bXTtmb3Iobj0wO248ZS5lbnVtVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5lbnVtVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmVudW1UeXBlW25dPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmVudW1UeXBlW25dKX19aWYoZS5zZXJ2aWNlKXtpZighQXJyYXkuaXNBcnJheShlLnNlcnZpY2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5zZXJ2aWNlOiBhcnJheSBleHBlY3RlZFwiKTt0LnNlcnZpY2U9W107Zm9yKG49MDtuPGUuc2VydmljZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5zZXJ2aWNlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5zZXJ2aWNlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5zZXJ2aWNlW25dPWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLnNlcnZpY2Vbbl0pfX1pZihlLmV4dGVuc2lvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5leHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uPVtdO2ZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5leHRlbnNpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5leHRlbnNpb25bbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfWlmKG51bGwhPWUuc291cmNlQ29kZUluZm8pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnNvdXJjZUNvZGVJbmZvKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5zb3VyY2VDb2RlSW5mbzogb2JqZWN0IGV4cGVjdGVkXCIpO3Quc291cmNlQ29kZUluZm89Yy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uZnJvbU9iamVjdChlLnNvdXJjZUNvZGVJbmZvKX1yZXR1cm4gbnVsbCE9ZS5zeW50YXgmJih0LnN5bnRheD1TdHJpbmcoZS5zeW50YXgpKSx0fSxmLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5kZXBlbmRlbmN5PVtdLG4ubWVzc2FnZVR5cGU9W10sbi5lbnVtVHlwZT1bXSxuLnNlcnZpY2U9W10sbi5leHRlbnNpb249W10sbi5wdWJsaWNEZXBlbmRlbmN5PVtdLG4ud2Vha0RlcGVuZGVuY3k9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLnBhY2thZ2U9XCJcIixuLm9wdGlvbnM9bnVsbCxuLnNvdXJjZUNvZGVJbmZvPW51bGwsbi5zeW50YXg9XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUucGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2thZ2VcIikmJihuLnBhY2thZ2U9ZS5wYWNrYWdlKSxlLmRlcGVuZGVuY3kmJmUuZGVwZW5kZW5jeS5sZW5ndGgpe24uZGVwZW5kZW5jeT1bXTtmb3IodmFyIG89MDtvPGUuZGVwZW5kZW5jeS5sZW5ndGg7KytvKW4uZGVwZW5kZW5jeVtvXT1lLmRlcGVuZGVuY3lbb119aWYoZS5tZXNzYWdlVHlwZSYmZS5tZXNzYWdlVHlwZS5sZW5ndGgpe24ubWVzc2FnZVR5cGU9W107Zm9yKG89MDtvPGUubWVzc2FnZVR5cGUubGVuZ3RoOysrbyluLm1lc3NhZ2VUeXBlW29dPWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by50b09iamVjdChlLm1lc3NhZ2VUeXBlW29dLHQpfWlmKGUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKXtuLmVudW1UeXBlPVtdO2ZvcihvPTA7bzxlLmVudW1UeXBlLmxlbmd0aDsrK28pbi5lbnVtVHlwZVtvXT1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZW51bVR5cGVbb10sdCl9aWYoZS5zZXJ2aWNlJiZlLnNlcnZpY2UubGVuZ3RoKXtuLnNlcnZpY2U9W107Zm9yKG89MDtvPGUuc2VydmljZS5sZW5ndGg7KytvKW4uc2VydmljZVtvXT1jLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuc2VydmljZVtvXSx0KX1pZihlLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKXtuLmV4dGVuc2lvbj1bXTtmb3Iobz0wO288ZS5leHRlbnNpb24ubGVuZ3RoOysrbyluLmV4dGVuc2lvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLmV4dGVuc2lvbltvXSx0KX1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUNvZGVJbmZvXCIpJiYobi5zb3VyY2VDb2RlSW5mbz1jLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby50b09iamVjdChlLnNvdXJjZUNvZGVJbmZvLHQpKSxlLnB1YmxpY0RlcGVuZGVuY3kmJmUucHVibGljRGVwZW5kZW5jeS5sZW5ndGgpe24ucHVibGljRGVwZW5kZW5jeT1bXTtmb3Iobz0wO288ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK28pbi5wdWJsaWNEZXBlbmRlbmN5W29dPWUucHVibGljRGVwZW5kZW5jeVtvXX1pZihlLndlYWtEZXBlbmRlbmN5JiZlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aCl7bi53ZWFrRGVwZW5kZW5jeT1bXTtmb3Iobz0wO288ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7KytvKW4ud2Vha0RlcGVuZGVuY3lbb109ZS53ZWFrRGVwZW5kZW5jeVtvXX1yZXR1cm4gbnVsbCE9ZS5zeW50YXgmJmUuaGFzT3duUHJvcGVydHkoXCJzeW50YXhcIikmJihuLnN5bnRheD1lLnN5bnRheCksbn0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGYpLG4uRGVzY3JpcHRvclByb3RvPSh5LnByb3RvdHlwZS5uYW1lPVwiXCIseS5wcm90b3R5cGUuZmllbGQ9dS5lbXB0eUFycmF5LHkucHJvdG90eXBlLmV4dGVuc2lvbj11LmVtcHR5QXJyYXkseS5wcm90b3R5cGUubmVzdGVkVHlwZT11LmVtcHR5QXJyYXkseS5wcm90b3R5cGUuZW51bVR5cGU9dS5lbXB0eUFycmF5LHkucHJvdG90eXBlLmV4dGVuc2lvblJhbmdlPXUuZW1wdHlBcnJheSx5LnByb3RvdHlwZS5vbmVvZkRlY2w9dS5lbXB0eUFycmF5LHkucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx5LnByb3RvdHlwZS5yZXNlcnZlZFJhbmdlPXUuZW1wdHlBcnJheSx5LnByb3RvdHlwZS5yZXNlcnZlZE5hbWU9dS5lbXB0eUFycmF5LHkuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeShlKX0seS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuZmllbGQmJmUuZmllbGQubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5maWVsZC5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmZpZWxkW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUubmVzdGVkVHlwZSYmZS5uZXN0ZWRUeXBlLmxlbmd0aClmb3Iobj0wO248ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm5lc3RlZFR5cGVbbl0sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmVudW1UeXBlW25dLHQudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZXh0ZW5zaW9uUmFuZ2UmJmUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoKWZvcihuPTA7bjxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLmVuY29kZShlLmV4dGVuc2lvblJhbmdlW25dLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpZm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZXh0ZW5zaW9uW25dLHQudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmMuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5vbmVvZkRlY2wmJmUub25lb2ZEZWNsLmxlbmd0aClmb3Iobj0wO248ZS5vbmVvZkRlY2wubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5vbmVvZkRlY2xbbl0sdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS5lbmNvZGUoZS5yZXNlcnZlZFJhbmdlW25dLHQudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC51aW50MzIoODIpLnN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSk7cmV0dXJuIHR9LHkuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5maWVsZCYmby5maWVsZC5sZW5ndGh8fChvLmZpZWxkPVtdKSxvLmZpZWxkLnB1c2goYy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNjpvLmV4dGVuc2lvbiYmby5leHRlbnNpb24ubGVuZ3RofHwoby5leHRlbnNpb249W10pLG8uZXh0ZW5zaW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLm5lc3RlZFR5cGUmJm8ubmVzdGVkVHlwZS5sZW5ndGh8fChvLm5lc3RlZFR5cGU9W10pLG8ubmVzdGVkVHlwZS5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA0Om8uZW51bVR5cGUmJm8uZW51bVR5cGUubGVuZ3RofHwoby5lbnVtVHlwZT1bXSksby5lbnVtVHlwZS5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNTpvLmV4dGVuc2lvblJhbmdlJiZvLmV4dGVuc2lvblJhbmdlLmxlbmd0aHx8KG8uZXh0ZW5zaW9uUmFuZ2U9W10pLG8uZXh0ZW5zaW9uUmFuZ2UucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgODpvLm9uZW9mRGVjbCYmby5vbmVvZkRlY2wubGVuZ3RofHwoby5vbmVvZkRlY2w9W10pLG8ub25lb2ZEZWNsLnB1c2goYy5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNzpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA5Om8ucmVzZXJ2ZWRSYW5nZSYmby5yZXNlcnZlZFJhbmdlLmxlbmd0aHx8KG8ucmVzZXJ2ZWRSYW5nZT1bXSksby5yZXNlcnZlZFJhbmdlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA6by5yZXNlcnZlZE5hbWUmJm8ucmVzZXJ2ZWROYW1lLmxlbmd0aHx8KG8ucmVzZXJ2ZWROYW1lPVtdKSxvLnJlc2VydmVkTmFtZS5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30seS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0seS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZmllbGQmJmUuaGFzT3duUHJvcGVydHkoXCJmaWVsZFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5maWVsZCkpcmV0dXJuXCJmaWVsZDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZmllbGQubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmZpZWxkW3RdKSlyZXR1cm5cImZpZWxkLlwiK259aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbnNpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSlyZXR1cm5cImV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5leHRlbnNpb24ubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmV4dGVuc2lvblt0XSkpcmV0dXJuXCJleHRlbnNpb24uXCIrbn1pZihudWxsIT1lLm5lc3RlZFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJuZXN0ZWRUeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm5lc3RlZFR5cGUpKXJldHVyblwibmVzdGVkVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUubmVzdGVkVHlwZVt0XSkpcmV0dXJuXCJuZXN0ZWRUeXBlLlwiK259aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImVudW1UeXBlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSlyZXR1cm5cImVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmVudW1UeXBlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmVudW1UeXBlW3RdKSlyZXR1cm5cImVudW1UeXBlLlwiK259aWYobnVsbCE9ZS5leHRlbnNpb25SYW5nZSYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuc2lvblJhbmdlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvblJhbmdlKSlyZXR1cm5cImV4dGVuc2lvblJhbmdlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UudmVyaWZ5KGUuZXh0ZW5zaW9uUmFuZ2VbdF0pKXJldHVyblwiZXh0ZW5zaW9uUmFuZ2UuXCIrbn1pZihudWxsIT1lLm9uZW9mRGVjbCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9uZW9mRGVjbFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5vbmVvZkRlY2wpKXJldHVyblwib25lb2ZEZWNsOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLm9uZW9mRGVjbC5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUub25lb2ZEZWNsW3RdKSlyZXR1cm5cIm9uZW9mRGVjbC5cIitufWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuPWMuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpKSlyZXR1cm5cIm9wdGlvbnMuXCIrbjtpZihudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZFJhbmdlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkUmFuZ2UpKXJldHVyblwicmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIG4sdD0wO3Q8ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZS52ZXJpZnkoZS5yZXNlcnZlZFJhbmdlW3RdKSlyZXR1cm5cInJlc2VydmVkUmFuZ2UuXCIrbn1pZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkTmFtZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXJldHVyblwicmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnJlc2VydmVkTmFtZS5sZW5ndGg7Kyt0KWlmKCF1LmlzU3RyaW5nKGUucmVzZXJ2ZWROYW1lW3RdKSlyZXR1cm5cInJlc2VydmVkTmFtZTogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0seS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLGUuZmllbGQpe2lmKCFBcnJheS5pc0FycmF5KGUuZmllbGQpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZpZWxkOiBhcnJheSBleHBlY3RlZFwiKTt0LmZpZWxkPVtdO2Zvcih2YXIgbj0wO248ZS5maWVsZC5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5maWVsZFtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5maWVsZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZmllbGRbbl09Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmZpZWxkW25dKX19aWYoZS5leHRlbnNpb24pe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5leHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uPVtdO2ZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5leHRlbnNpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25bbl09Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmV4dGVuc2lvbltuXSl9fWlmKGUubmVzdGVkVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uZXN0ZWRUeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5uZXN0ZWRUeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0Lm5lc3RlZFR5cGU9W107Zm9yKG49MDtuPGUubmVzdGVkVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5uZXN0ZWRUeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm5lc3RlZFR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm5lc3RlZFR5cGVbbl09Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5uZXN0ZWRUeXBlW25dKX19aWYoZS5lbnVtVHlwZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QuZW51bVR5cGU9W107Zm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZW51bVR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmVudW1UeXBlW25dPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLmVudW1UeXBlW25dKX19aWYoZS5leHRlbnNpb25SYW5nZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb25SYW5nZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uUmFuZ2U9W107Zm9yKG49MDtuPGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZXh0ZW5zaW9uUmFuZ2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uUmFuZ2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LmV4dGVuc2lvblJhbmdlW25dPWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5mcm9tT2JqZWN0KGUuZXh0ZW5zaW9uUmFuZ2Vbbl0pfX1pZihlLm9uZW9mRGVjbCl7aWYoIUFycmF5LmlzQXJyYXkoZS5vbmVvZkRlY2wpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm9uZW9mRGVjbDogYXJyYXkgZXhwZWN0ZWRcIik7dC5vbmVvZkRlY2w9W107Zm9yKG49MDtuPGUub25lb2ZEZWNsLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9uZW9mRGVjbFtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5vbmVvZkRlY2w6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9uZW9mRGVjbFtuXT1jLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUub25lb2ZEZWNsW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfWlmKGUucmVzZXJ2ZWRSYW5nZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2U9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5yZXNlcnZlZFJhbmdlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2Vbbl09Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuZnJvbU9iamVjdChlLnJlc2VydmVkUmFuZ2Vbbl0pfX1pZihlLnJlc2VydmVkTmFtZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZE5hbWU9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC5yZXNlcnZlZE5hbWVbbl09U3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKX1yZXR1cm4gdH0seS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZmllbGQ9W10sbi5uZXN0ZWRUeXBlPVtdLG4uZW51bVR5cGU9W10sbi5leHRlbnNpb25SYW5nZT1bXSxuLmV4dGVuc2lvbj1bXSxuLm9uZW9mRGVjbD1bXSxuLnJlc2VydmVkUmFuZ2U9W10sbi5yZXNlcnZlZE5hbWU9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLGUuZmllbGQmJmUuZmllbGQubGVuZ3RoKXtuLmZpZWxkPVtdO2Zvcih2YXIgbz0wO288ZS5maWVsZC5sZW5ndGg7KytvKW4uZmllbGRbb109Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5maWVsZFtvXSx0KX1pZihlLm5lc3RlZFR5cGUmJmUubmVzdGVkVHlwZS5sZW5ndGgpe24ubmVzdGVkVHlwZT1bXTtmb3Iobz0wO288ZS5uZXN0ZWRUeXBlLmxlbmd0aDsrK28pbi5uZXN0ZWRUeXBlW29dPWMuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by50b09iamVjdChlLm5lc3RlZFR5cGVbb10sdCl9aWYoZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpe24uZW51bVR5cGU9W107Zm9yKG89MDtvPGUuZW51bVR5cGUubGVuZ3RoOysrbyluLmVudW1UeXBlW29dPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5lbnVtVHlwZVtvXSx0KX1pZihlLmV4dGVuc2lvblJhbmdlJiZlLmV4dGVuc2lvblJhbmdlLmxlbmd0aCl7bi5leHRlbnNpb25SYW5nZT1bXTtmb3Iobz0wO288ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7KytvKW4uZXh0ZW5zaW9uUmFuZ2Vbb109Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLnRvT2JqZWN0KGUuZXh0ZW5zaW9uUmFuZ2Vbb10sdCl9aWYoZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aCl7bi5leHRlbnNpb249W107Zm9yKG89MDtvPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK28pbi5leHRlbnNpb25bb109Yy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5leHRlbnNpb25bb10sdCl9aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLGUub25lb2ZEZWNsJiZlLm9uZW9mRGVjbC5sZW5ndGgpe24ub25lb2ZEZWNsPVtdO2ZvcihvPTA7bzxlLm9uZW9mRGVjbC5sZW5ndGg7KytvKW4ub25lb2ZEZWNsW29dPWMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUub25lb2ZEZWNsW29dLHQpfWlmKGUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aCl7bi5yZXNlcnZlZFJhbmdlPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbyluLnJlc2VydmVkUmFuZ2Vbb109Yy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UudG9PYmplY3QoZS5yZXNlcnZlZFJhbmdlW29dLHQpfWlmKGUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpe24ucmVzZXJ2ZWROYW1lPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWROYW1lW29dPWUucmVzZXJ2ZWROYW1lW29dfXJldHVybiBufSx5LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0seS5FeHRlbnNpb25SYW5nZT0oaC5wcm90b3R5cGUuc3RhcnQ9MCxoLnByb3RvdHlwZS5lbmQ9MCxoLnByb3RvdHlwZS5vcHRpb25zPW51bGwsaC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBoKGUpfSxoLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5zdGFydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0YXJ0XCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnN0YXJ0KSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMTYpLmludDMyKGUuZW5kKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZjLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxoLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxoLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zdGFydD1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8uZW5kPWUuaW50MzIoKTticmVhaztjYXNlIDM6by5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGgudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmIXUuaXNJbnRlZ2VyKGUuc3RhcnQpKXJldHVyblwic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIXUuaXNJbnRlZ2VyKGUuZW5kKSlyZXR1cm5cImVuZDogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9Yy5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LGguZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2U7aWYobnVsbCE9ZS5zdGFydCYmKHQuc3RhcnQ9MHxlLnN0YXJ0KSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LGgudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnN0YXJ0PTAsbi5lbmQ9MCxuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYobi5zdGFydD1lLnN0YXJ0KSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LGgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxoKSx5LlJlc2VydmVkUmFuZ2U9KGIucHJvdG90eXBlLnN0YXJ0PTAsYi5wcm90b3R5cGUuZW5kPTAsYi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBiKGUpfSxiLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5zdGFydCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN0YXJ0XCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLnN0YXJ0KSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMTYpLmludDMyKGUuZW5kKSx0fSxiLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxiLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uUmVzZXJ2ZWRSYW5nZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnN0YXJ0PWUuaW50MzIoKTticmVhaztjYXNlIDI6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sYi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sYi52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYhdS5pc0ludGVnZXIoZS5zdGFydCk/XCJzdGFydDogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhdS5pc0ludGVnZXIoZS5lbmQpP1wiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sYi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2U/ZToodD1uZXcgYy5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UsbnVsbCE9ZS5zdGFydCYmKHQuc3RhcnQ9MHxlLnN0YXJ0KSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLHQpfSxiLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5zdGFydD0wLG4uZW5kPTApLG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmKG4uc3RhcnQ9ZS5zdGFydCksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbn0sYi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGIpLHkpLG4uRXh0ZW5zaW9uUmFuZ2VPcHRpb25zPShVLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXUuZW1wdHlBcnJheSxVLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFUoZSl9LFUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxVLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxVLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTk5OT8oby51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxVLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxVLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxVLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zO2lmKGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sVS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LFUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxVKSxuLkZpZWxkRGVzY3JpcHRvclByb3RvPShPLnByb3RvdHlwZS5uYW1lPVwiXCIsTy5wcm90b3R5cGUubnVtYmVyPTAsTy5wcm90b3R5cGUubGFiZWw9MSxPLnByb3RvdHlwZS50eXBlPTEsTy5wcm90b3R5cGUudHlwZU5hbWU9XCJcIixPLnByb3RvdHlwZS5leHRlbmRlZT1cIlwiLE8ucHJvdG90eXBlLmRlZmF1bHRWYWx1ZT1cIlwiLE8ucHJvdG90eXBlLm9uZW9mSW5kZXg9MCxPLnByb3RvdHlwZS5qc29uTmFtZT1cIlwiLE8ucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxPLnByb3RvdHlwZS5wcm90bzNPcHRpb25hbD0hMSxPLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE8oZSl9LE8uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5leHRlbmRlZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImV4dGVuZGVlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUuZXh0ZW5kZWUpLG51bGwhPWUubnVtYmVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibnVtYmVyXCIpJiZ0LnVpbnQzMigyNCkuaW50MzIoZS5udW1iZXIpLG51bGwhPWUubGFiZWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsYWJlbFwiKSYmdC51aW50MzIoMzIpLmludDMyKGUubGFiZWwpLG51bGwhPWUudHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInR5cGVcIikmJnQudWludDMyKDQwKS5pbnQzMihlLnR5cGUpLG51bGwhPWUudHlwZU5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlTmFtZVwiKSYmdC51aW50MzIoNTApLnN0cmluZyhlLnR5cGVOYW1lKSxudWxsIT1lLmRlZmF1bHRWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlZmF1bHRWYWx1ZVwiKSYmdC51aW50MzIoNTgpLnN0cmluZyhlLmRlZmF1bHRWYWx1ZSksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5vbmVvZkluZGV4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib25lb2ZJbmRleFwiKSYmdC51aW50MzIoNzIpLmludDMyKGUub25lb2ZJbmRleCksbnVsbCE9ZS5qc29uTmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImpzb25OYW1lXCIpJiZ0LnVpbnQzMig4Mikuc3RyaW5nKGUuanNvbk5hbWUpLG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwcm90bzNPcHRpb25hbFwiKSYmdC51aW50MzIoMTM2KS5ib29sKGUucHJvdG8zT3B0aW9uYWwpLHR9LE8uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LE8uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLm51bWJlcj1lLmludDMyKCk7YnJlYWs7Y2FzZSA0Om8ubGFiZWw9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNTpvLnR5cGU9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNjpvLnR5cGVOYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZXh0ZW5kZWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDc6by5kZWZhdWx0VmFsdWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDk6by5vbmVvZkluZGV4PWUuaW50MzIoKTticmVhaztjYXNlIDEwOm8uanNvbk5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDg6by5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDE3Om8ucHJvdG8zT3B0aW9uYWw9ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxPLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxPLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJiF1LmlzSW50ZWdlcihlLm51bWJlcikpcmV0dXJuXCJudW1iZXI6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxhYmVsJiZlLmhhc093blByb3BlcnR5KFwibGFiZWxcIikpc3dpdGNoKGUubGFiZWwpe2RlZmF1bHQ6cmV0dXJuXCJsYWJlbDogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOn1pZihudWxsIT1lLnR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpKXN3aXRjaChlLnR5cGUpe2RlZmF1bHQ6cmV0dXJuXCJ0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpjYXNlIDY6Y2FzZSA3OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAxNjpjYXNlIDE3OmNhc2UgMTg6fWlmKG51bGwhPWUudHlwZU5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlTmFtZVwiKSYmIXUuaXNTdHJpbmcoZS50eXBlTmFtZSkpcmV0dXJuXCJ0eXBlTmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5leHRlbmRlZSYmZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVuZGVlXCIpJiYhdS5pc1N0cmluZyhlLmV4dGVuZGVlKSlyZXR1cm5cImV4dGVuZGVlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlZmF1bHRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmIXUuaXNTdHJpbmcoZS5kZWZhdWx0VmFsdWUpKXJldHVyblwiZGVmYXVsdFZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9uZW9mSW5kZXgmJmUuaGFzT3duUHJvcGVydHkoXCJvbmVvZkluZGV4XCIpJiYhdS5pc0ludGVnZXIoZS5vbmVvZkluZGV4KSlyZXR1cm5cIm9uZW9mSW5kZXg6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmpzb25OYW1lJiZlLmhhc093blByb3BlcnR5KFwianNvbk5hbWVcIikmJiF1LmlzU3RyaW5nKGUuanNvbk5hbWUpKXJldHVyblwianNvbk5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe3ZhciB0PWMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZih0KXJldHVyblwib3B0aW9ucy5cIit0fXJldHVybiBudWxsIT1lLnByb3RvM09wdGlvbmFsJiZlLmhhc093blByb3BlcnR5KFwicHJvdG8zT3B0aW9uYWxcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5wcm90bzNPcHRpb25hbD9cInByb3RvM09wdGlvbmFsOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbH0sTy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG87c3dpdGNoKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5udW1iZXImJih0Lm51bWJlcj0wfGUubnVtYmVyKSxlLmxhYmVsKXtjYXNlXCJMQUJFTF9PUFRJT05BTFwiOmNhc2UgMTp0LmxhYmVsPTE7YnJlYWs7Y2FzZVwiTEFCRUxfUkVRVUlSRURcIjpjYXNlIDI6dC5sYWJlbD0yO2JyZWFrO2Nhc2VcIkxBQkVMX1JFUEVBVEVEXCI6Y2FzZSAzOnQubGFiZWw9M31zd2l0Y2goZS50eXBlKXtjYXNlXCJUWVBFX0RPVUJMRVwiOmNhc2UgMTp0LnR5cGU9MTticmVhaztjYXNlXCJUWVBFX0ZMT0FUXCI6Y2FzZSAyOnQudHlwZT0yO2JyZWFrO2Nhc2VcIlRZUEVfSU5UNjRcIjpjYXNlIDM6dC50eXBlPTM7YnJlYWs7Y2FzZVwiVFlQRV9VSU5UNjRcIjpjYXNlIDQ6dC50eXBlPTQ7YnJlYWs7Y2FzZVwiVFlQRV9JTlQzMlwiOmNhc2UgNTp0LnR5cGU9NTticmVhaztjYXNlXCJUWVBFX0ZJWEVENjRcIjpjYXNlIDY6dC50eXBlPTY7YnJlYWs7Y2FzZVwiVFlQRV9GSVhFRDMyXCI6Y2FzZSA3OnQudHlwZT03O2JyZWFrO2Nhc2VcIlRZUEVfQk9PTFwiOmNhc2UgODp0LnR5cGU9ODticmVhaztjYXNlXCJUWVBFX1NUUklOR1wiOmNhc2UgOTp0LnR5cGU9OTticmVhaztjYXNlXCJUWVBFX0dST1VQXCI6Y2FzZSAxMDp0LnR5cGU9MTA7YnJlYWs7Y2FzZVwiVFlQRV9NRVNTQUdFXCI6Y2FzZSAxMTp0LnR5cGU9MTE7YnJlYWs7Y2FzZVwiVFlQRV9CWVRFU1wiOmNhc2UgMTI6dC50eXBlPTEyO2JyZWFrO2Nhc2VcIlRZUEVfVUlOVDMyXCI6Y2FzZSAxMzp0LnR5cGU9MTM7YnJlYWs7Y2FzZVwiVFlQRV9FTlVNXCI6Y2FzZSAxNDp0LnR5cGU9MTQ7YnJlYWs7Y2FzZVwiVFlQRV9TRklYRUQzMlwiOmNhc2UgMTU6dC50eXBlPTE1O2JyZWFrO2Nhc2VcIlRZUEVfU0ZJWEVENjRcIjpjYXNlIDE2OnQudHlwZT0xNjticmVhaztjYXNlXCJUWVBFX1NJTlQzMlwiOmNhc2UgMTc6dC50eXBlPTE3O2JyZWFrO2Nhc2VcIlRZUEVfU0lOVDY0XCI6Y2FzZSAxODp0LnR5cGU9MTh9aWYobnVsbCE9ZS50eXBlTmFtZSYmKHQudHlwZU5hbWU9U3RyaW5nKGUudHlwZU5hbWUpKSxudWxsIT1lLmV4dGVuZGVlJiYodC5leHRlbmRlZT1TdHJpbmcoZS5leHRlbmRlZSkpLG51bGwhPWUuZGVmYXVsdFZhbHVlJiYodC5kZWZhdWx0VmFsdWU9U3RyaW5nKGUuZGVmYXVsdFZhbHVlKSksbnVsbCE9ZS5vbmVvZkluZGV4JiYodC5vbmVvZkluZGV4PTB8ZS5vbmVvZkluZGV4KSxudWxsIT1lLmpzb25OYW1lJiYodC5qc29uTmFtZT1TdHJpbmcoZS5qc29uTmFtZSkpLG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmKHQucHJvdG8zT3B0aW9uYWw9Qm9vbGVhbihlLnByb3RvM09wdGlvbmFsKSksdH0sTy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4uZXh0ZW5kZWU9XCJcIixuLm51bWJlcj0wLG4ubGFiZWw9dC5lbnVtcz09PVN0cmluZz9cIkxBQkVMX09QVElPTkFMXCI6MSxuLnR5cGU9dC5lbnVtcz09PVN0cmluZz9cIlRZUEVfRE9VQkxFXCI6MSxuLnR5cGVOYW1lPVwiXCIsbi5kZWZhdWx0VmFsdWU9XCJcIixuLm9wdGlvbnM9bnVsbCxuLm9uZW9mSW5kZXg9MCxuLmpzb25OYW1lPVwiXCIsbi5wcm90bzNPcHRpb25hbD0hMSksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUuZXh0ZW5kZWUmJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbmRlZVwiKSYmKG4uZXh0ZW5kZWU9ZS5leHRlbmRlZSksbnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJihuLm51bWJlcj1lLm51bWJlciksbnVsbCE9ZS5sYWJlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxhYmVsXCIpJiYobi5sYWJlbD10LmVudW1zPT09U3RyaW5nP2MuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsW2UubGFiZWxdOmUubGFiZWwpLG51bGwhPWUudHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikmJihuLnR5cGU9dC5lbnVtcz09PVN0cmluZz9jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5UeXBlW2UudHlwZV06ZS50eXBlKSxudWxsIT1lLnR5cGVOYW1lJiZlLmhhc093blByb3BlcnR5KFwidHlwZU5hbWVcIikmJihuLnR5cGVOYW1lPWUudHlwZU5hbWUpLG51bGwhPWUuZGVmYXVsdFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFZhbHVlXCIpJiYobi5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbnVsbCE9ZS5vbmVvZkluZGV4JiZlLmhhc093blByb3BlcnR5KFwib25lb2ZJbmRleFwiKSYmKG4ub25lb2ZJbmRleD1lLm9uZW9mSW5kZXgpLG51bGwhPWUuanNvbk5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqc29uTmFtZVwiKSYmKG4uanNvbk5hbWU9ZS5qc29uTmFtZSksbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmZS5oYXNPd25Qcm9wZXJ0eShcInByb3RvM09wdGlvbmFsXCIpJiYobi5wcm90bzNPcHRpb25hbD1lLnByb3RvM09wdGlvbmFsKSxufSxPLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTy5UeXBlPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMV09XCJUWVBFX0RPVUJMRVwiXT0xLHRbZVsyXT1cIlRZUEVfRkxPQVRcIl09Mix0W2VbM109XCJUWVBFX0lOVDY0XCJdPTMsdFtlWzRdPVwiVFlQRV9VSU5UNjRcIl09NCx0W2VbNV09XCJUWVBFX0lOVDMyXCJdPTUsdFtlWzZdPVwiVFlQRV9GSVhFRDY0XCJdPTYsdFtlWzddPVwiVFlQRV9GSVhFRDMyXCJdPTcsdFtlWzhdPVwiVFlQRV9CT09MXCJdPTgsdFtlWzldPVwiVFlQRV9TVFJJTkdcIl09OSx0W2VbMTBdPVwiVFlQRV9HUk9VUFwiXT0xMCx0W2VbMTFdPVwiVFlQRV9NRVNTQUdFXCJdPTExLHRbZVsxMl09XCJUWVBFX0JZVEVTXCJdPTEyLHRbZVsxM109XCJUWVBFX1VJTlQzMlwiXT0xMyx0W2VbMTRdPVwiVFlQRV9FTlVNXCJdPTE0LHRbZVsxNV09XCJUWVBFX1NGSVhFRDMyXCJdPTE1LHRbZVsxNl09XCJUWVBFX1NGSVhFRDY0XCJdPTE2LHRbZVsxN109XCJUWVBFX1NJTlQzMlwiXT0xNyx0W2VbMThdPVwiVFlQRV9TSU5UNjRcIl09MTgsdCksTy5MYWJlbD0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzFdPVwiTEFCRUxfT1BUSU9OQUxcIl09MSx0W2VbMl09XCJMQUJFTF9SRVFVSVJFRFwiXT0yLHRbZVszXT1cIkxBQkVMX1JFUEVBVEVEXCJdPTMsdCksTyksbi5PbmVvZkRlc2NyaXB0b3JQcm90bz0obS5wcm90b3R5cGUubmFtZT1cIlwiLG0ucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxtLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG0oZSl9LG0uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksdH0sbS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxtLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxtLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhdS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7ZT1jLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0sbS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LG0udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sbS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LG0pLG4uRW51bURlc2NyaXB0b3JQcm90bz0odi5wcm90b3R5cGUubmFtZT1cIlwiLHYucHJvdG90eXBlLnZhbHVlPXUuZW1wdHlBcnJheSx2LnByb3RvdHlwZS5vcHRpb25zPW51bGwsdi5wcm90b3R5cGUucmVzZXJ2ZWRSYW5nZT11LmVtcHR5QXJyYXksdi5wcm90b3R5cGUucmVzZXJ2ZWROYW1lPXUuZW1wdHlBcnJheSx2LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHYoZSl9LHYuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLnZhbHVlJiZlLnZhbHVlLmxlbmd0aClmb3IodmFyIG49MDtuPGUudmFsdWUubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUudmFsdWVbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpZm9yKG49MDtuPGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuZW5jb2RlKGUucmVzZXJ2ZWRSYW5nZVtuXSx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQudWludDMyKDQyKS5zdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pO3JldHVybiB0fSx2LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx2LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnZhbHVlJiZvLnZhbHVlLmxlbmd0aHx8KG8udmFsdWU9W10pLG8udmFsdWUucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA0Om8ucmVzZXJ2ZWRSYW5nZSYmby5yZXNlcnZlZFJhbmdlLmxlbmd0aHx8KG8ucmVzZXJ2ZWRSYW5nZT1bXSksby5yZXNlcnZlZFJhbmdlLnB1c2goYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA1Om8ucmVzZXJ2ZWROYW1lJiZvLnJlc2VydmVkTmFtZS5sZW5ndGh8fChvLnJlc2VydmVkTmFtZT1bXSksby5yZXNlcnZlZE5hbWUucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHYuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHYudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnZhbHVlJiZlLmhhc093blByb3BlcnR5KFwidmFsdWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUudmFsdWUpKXJldHVyblwidmFsdWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnZhbHVlLmxlbmd0aDsrK3QpaWYobj1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUudmFsdWVbdF0pKXJldHVyblwidmFsdWUuXCIrbn1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247aWYobnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWRSYW5nZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSlyZXR1cm5cInJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLHQ9MDt0PGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS52ZXJpZnkoZS5yZXNlcnZlZFJhbmdlW3RdKSlyZXR1cm5cInJlc2VydmVkUmFuZ2UuXCIrbn1pZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkTmFtZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZE5hbWUpKXJldHVyblwicmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnJlc2VydmVkTmFtZS5sZW5ndGg7Kyt0KWlmKCF1LmlzU3RyaW5nKGUucmVzZXJ2ZWROYW1lW3RdKSlyZXR1cm5cInJlc2VydmVkTmFtZTogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sdi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksZS52YWx1ZSl7aWYoIUFycmF5LmlzQXJyYXkoZS52YWx1ZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZhbHVlOiBhcnJheSBleHBlY3RlZFwiKTt0LnZhbHVlPVtdO2Zvcih2YXIgbj0wO248ZS52YWx1ZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS52YWx1ZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8udmFsdWU6IG9iamVjdCBleHBlY3RlZFwiKTt0LnZhbHVlW25dPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUudmFsdWVbbl0pfX1pZihudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfWlmKGUucmVzZXJ2ZWRSYW5nZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucmVzZXJ2ZWRSYW5nZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogb2JqZWN0IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZVtuXT1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLmZyb21PYmplY3QoZS5yZXNlcnZlZFJhbmdlW25dKX19aWYoZS5yZXNlcnZlZE5hbWUpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWROYW1lOiBhcnJheSBleHBlY3RlZFwiKTt0LnJlc2VydmVkTmFtZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnJlc2VydmVkTmFtZVtuXT1TdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pfXJldHVybiB0fSx2LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi52YWx1ZT1bXSxuLnJlc2VydmVkUmFuZ2U9W10sbi5yZXNlcnZlZE5hbWU9W10pLHQuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm9wdGlvbnM9bnVsbCksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLGUudmFsdWUmJmUudmFsdWUubGVuZ3RoKXtuLnZhbHVlPVtdO2Zvcih2YXIgbz0wO288ZS52YWx1ZS5sZW5ndGg7KytvKW4udmFsdWVbb109Yy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUudmFsdWVbb10sdCl9aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLGUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aCl7bi5yZXNlcnZlZFJhbmdlPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbyluLnJlc2VydmVkUmFuZ2Vbb109Yy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS50b09iamVjdChlLnJlc2VydmVkUmFuZ2Vbb10sdCl9aWYoZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aCl7bi5yZXNlcnZlZE5hbWU9W107Zm9yKG89MDtvPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK28pbi5yZXNlcnZlZE5hbWVbb109ZS5yZXNlcnZlZE5hbWVbb119cmV0dXJuIG59LHYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx2LkVudW1SZXNlcnZlZFJhbmdlPShQLnByb3RvdHlwZS5zdGFydD0wLFAucHJvdG90eXBlLmVuZD0wLFAuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUChlKX0sUC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdGFydFwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5zdGFydCksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDE2KS5pbnQzMihlLmVuZCksdH0sUC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnN0YXJ0PWUuaW50MzIoKTticmVhaztjYXNlIDI6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUC52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYhdS5pc0ludGVnZXIoZS5zdGFydCk/XCJzdGFydDogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhdS5pc0ludGVnZXIoZS5lbmQpP1wiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sUC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZT9lOih0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PTB8ZS5zdGFydCksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSx0KX0sUC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uc3RhcnQ9MCxuLmVuZD0wKSxudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJihuLnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG59LFAucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxQKSx2KSxuLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bz0ody5wcm90b3R5cGUubmFtZT1cIlwiLHcucHJvdG90eXBlLm51bWJlcj0wLHcucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx3LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHcoZSl9LHcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5udW1iZXImJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJudW1iZXJcIikmJnQudWludDMyKDE2KS5pbnQzMihlLm51bWJlciksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LHcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5udW1iZXI9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMzpvLm9wdGlvbnM9Yy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHcuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHcudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmIXUuaXNJbnRlZ2VyKGUubnVtYmVyKSlyZXR1cm5cIm51bWJlcjogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9Yy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZihlKXJldHVyblwib3B0aW9ucy5cIitlfXJldHVybiBudWxsfSx3LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5udW1iZXImJih0Lm51bWJlcj0wfGUubnVtYmVyKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sdy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ubnVtYmVyPTAsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLm51bWJlciYmZS5oYXNPd25Qcm9wZXJ0eShcIm51bWJlclwiKSYmKG4ubnVtYmVyPWUubnVtYmVyKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSx3LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sdyksbi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvPShqLnByb3RvdHlwZS5uYW1lPVwiXCIsai5wcm90b3R5cGUubWV0aG9kPXUuZW1wdHlBcnJheSxqLnByb3RvdHlwZS5vcHRpb25zPW51bGwsai5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBqKGUpfSxqLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5tZXRob2QmJmUubWV0aG9kLmxlbmd0aClmb3IodmFyIG49MDtuPGUubWV0aG9kLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLmVuY29kZShlLm1ldGhvZFtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmYy5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxqLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxqLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm1ldGhvZCYmby5tZXRob2QubGVuZ3RofHwoby5tZXRob2Q9W10pLG8ubWV0aG9kLnB1c2goYy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sai5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sai52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubWV0aG9kJiZlLmhhc093blByb3BlcnR5KFwibWV0aG9kXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm1ldGhvZCkpcmV0dXJuXCJtZXRob2Q6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLm1ldGhvZC5sZW5ndGg7Kyt0KWlmKG49Yy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm1ldGhvZFt0XSkpcmV0dXJuXCJtZXRob2QuXCIrbn12YXIgbjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1jLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247cmV0dXJuIG51bGx9LGouZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLGUubWV0aG9kKXtpZighQXJyYXkuaXNBcnJheShlLm1ldGhvZCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLm1ldGhvZDogYXJyYXkgZXhwZWN0ZWRcIik7dC5tZXRob2Q9W107Zm9yKHZhciBuPTA7bjxlLm1ldGhvZC5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5tZXRob2Rbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLm1ldGhvZDogb2JqZWN0IGV4cGVjdGVkXCIpO3QubWV0aG9kW25dPWMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUubWV0aG9kW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gdH0sai50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ubWV0aG9kPVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxlLm1ldGhvZCYmZS5tZXRob2QubGVuZ3RoKXtuLm1ldGhvZD1bXTtmb3IodmFyIG89MDtvPGUubWV0aG9kLmxlbmd0aDsrK28pbi5tZXRob2Rbb109Yy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUubWV0aG9kW29dLHQpfXJldHVybiBudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sai5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGopLG4uTWV0aG9kRGVzY3JpcHRvclByb3RvPSh4LnByb3RvdHlwZS5uYW1lPVwiXCIseC5wcm90b3R5cGUuaW5wdXRUeXBlPVwiXCIseC5wcm90b3R5cGUub3V0cHV0VHlwZT1cIlwiLHgucHJvdG90eXBlLm9wdGlvbnM9bnVsbCx4LnByb3RvdHlwZS5jbGllbnRTdHJlYW1pbmc9ITEseC5wcm90b3R5cGUuc2VydmVyU3RyZWFtaW5nPSExLHguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeChlKX0seC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmlucHV0VHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlucHV0VHlwZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmlucHV0VHlwZSksbnVsbCE9ZS5vdXRwdXRUeXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3V0cHV0VHlwZVwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLm91dHB1dFR5cGUpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJmMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNsaWVudFN0cmVhbWluZ1wiKSYmdC51aW50MzIoNDApLmJvb2woZS5jbGllbnRTdHJlYW1pbmcpLG51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VydmVyU3RyZWFtaW5nXCIpJiZ0LnVpbnQzMig0OCkuYm9vbChlLnNlcnZlclN0cmVhbWluZyksdH0seC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0seC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmlucHV0VHlwZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLm91dHB1dFR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by5vcHRpb25zPWMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA1Om8uY2xpZW50U3RyZWFtaW5nPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNjpvLnNlcnZlclN0cmVhbWluZz1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHgudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiF1LmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmlucHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlucHV0VHlwZVwiKSYmIXUuaXNTdHJpbmcoZS5pbnB1dFR5cGUpKXJldHVyblwiaW5wdXRUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm91dHB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJvdXRwdXRUeXBlXCIpJiYhdS5pc1N0cmluZyhlLm91dHB1dFR5cGUpKXJldHVyblwib3V0cHV0VHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSl7dmFyIHQ9Yy5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZih0KXJldHVyblwib3B0aW9ucy5cIit0fXJldHVybiBudWxsIT1lLmNsaWVudFN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudFN0cmVhbWluZ1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNsaWVudFN0cmVhbWluZz9cImNsaWVudFN0cmVhbWluZzogYm9vbGVhbiBleHBlY3RlZFwiOm51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwic2VydmVyU3RyZWFtaW5nXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuc2VydmVyU3RyZWFtaW5nP1wic2VydmVyU3RyZWFtaW5nOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbH0seC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUuaW5wdXRUeXBlJiYodC5pbnB1dFR5cGU9U3RyaW5nKGUuaW5wdXRUeXBlKSksbnVsbCE9ZS5vdXRwdXRUeXBlJiYodC5vdXRwdXRUeXBlPVN0cmluZyhlLm91dHB1dFR5cGUpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1yZXR1cm4gbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJih0LmNsaWVudFN0cmVhbWluZz1Cb29sZWFuKGUuY2xpZW50U3RyZWFtaW5nKSksbnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJih0LnNlcnZlclN0cmVhbWluZz1Cb29sZWFuKGUuc2VydmVyU3RyZWFtaW5nKSksdH0seC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4uaW5wdXRUeXBlPVwiXCIsbi5vdXRwdXRUeXBlPVwiXCIsbi5vcHRpb25zPW51bGwsbi5jbGllbnRTdHJlYW1pbmc9ITEsbi5zZXJ2ZXJTdHJlYW1pbmc9ITEpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLmlucHV0VHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlucHV0VHlwZVwiKSYmKG4uaW5wdXRUeXBlPWUuaW5wdXRUeXBlKSxudWxsIT1lLm91dHB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJvdXRwdXRUeXBlXCIpJiYobi5vdXRwdXRUeXBlPWUub3V0cHV0VHlwZSksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1jLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJjbGllbnRTdHJlYW1pbmdcIikmJihuLmNsaWVudFN0cmVhbWluZz1lLmNsaWVudFN0cmVhbWluZyksbnVsbCE9ZS5zZXJ2ZXJTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJzZXJ2ZXJTdHJlYW1pbmdcIikmJihuLnNlcnZlclN0cmVhbWluZz1lLnNlcnZlclN0cmVhbWluZyksbn0seC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHgpLG4uRmlsZU9wdGlvbnM9KFMucHJvdG90eXBlLmphdmFQYWNrYWdlPVwiXCIsUy5wcm90b3R5cGUuamF2YU91dGVyQ2xhc3NuYW1lPVwiXCIsUy5wcm90b3R5cGUuamF2YU11bHRpcGxlRmlsZXM9ITEsUy5wcm90b3R5cGUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD0hMSxTLnByb3RvdHlwZS5qYXZhU3RyaW5nQ2hlY2tVdGY4PSExLFMucHJvdG90eXBlLm9wdGltaXplRm9yPTEsUy5wcm90b3R5cGUuZ29QYWNrYWdlPVwiXCIsUy5wcm90b3R5cGUuY2NHZW5lcmljU2VydmljZXM9ITEsUy5wcm90b3R5cGUuamF2YUdlbmVyaWNTZXJ2aWNlcz0hMSxTLnByb3RvdHlwZS5weUdlbmVyaWNTZXJ2aWNlcz0hMSxTLnByb3RvdHlwZS5waHBHZW5lcmljU2VydmljZXM9ITEsUy5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxTLnByb3RvdHlwZS5jY0VuYWJsZUFyZW5hcz0hMCxTLnByb3RvdHlwZS5vYmpjQ2xhc3NQcmVmaXg9XCJcIixTLnByb3RvdHlwZS5jc2hhcnBOYW1lc3BhY2U9XCJcIixTLnByb3RvdHlwZS5zd2lmdFByZWZpeD1cIlwiLFMucHJvdG90eXBlLnBocENsYXNzUHJlZml4PVwiXCIsUy5wcm90b3R5cGUucGhwTmFtZXNwYWNlPVwiXCIsUy5wcm90b3R5cGUucGhwTWV0YWRhdGFOYW1lc3BhY2U9XCJcIixTLnByb3RvdHlwZS5ydWJ5UGFja2FnZT1cIlwiLFMucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LFMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUyhlKX0sUy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5qYXZhUGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFQYWNrYWdlXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuamF2YVBhY2thZ2UpLG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YU91dGVyQ2xhc3NuYW1lXCIpJiZ0LnVpbnQzMig2Nikuc3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSxudWxsIT1lLm9wdGltaXplRm9yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW1pemVGb3JcIikmJnQudWludDMyKDcyKS5pbnQzMihlLm9wdGltaXplRm9yKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YU11bHRpcGxlRmlsZXNcIikmJnQudWludDMyKDgwKS5ib29sKGUuamF2YU11bHRpcGxlRmlsZXMpLG51bGwhPWUuZ29QYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZ29QYWNrYWdlXCIpJiZ0LnVpbnQzMig5MCkuc3RyaW5nKGUuZ29QYWNrYWdlKSxudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2NHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDEyOCkuYm9vbChlLmNjR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiZ0LnVpbnQzMigxMzYpLmJvb2woZS5qYXZhR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHlHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDE0NCkuYm9vbChlLnB5R2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiZ0LnVpbnQzMigxNjApLmJvb2woZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigxODQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhU3RyaW5nQ2hlY2tVdGY4XCIpJiZ0LnVpbnQzMigyMTYpLmJvb2woZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY2NFbmFibGVBcmVuYXNcIikmJnQudWludDMyKDI0OCkuYm9vbChlLmNjRW5hYmxlQXJlbmFzKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9iamNDbGFzc1ByZWZpeFwiKSYmdC51aW50MzIoMjkwKS5zdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3NoYXJwTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigyOTgpLnN0cmluZyhlLmNzaGFycE5hbWVzcGFjZSksbnVsbCE9ZS5zd2lmdFByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN3aWZ0UHJlZml4XCIpJiZ0LnVpbnQzMigzMTQpLnN0cmluZyhlLnN3aWZ0UHJlZml4KSxudWxsIT1lLnBocENsYXNzUHJlZml4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwQ2xhc3NQcmVmaXhcIikmJnQudWludDMyKDMyMikuc3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpLG51bGwhPWUucGhwTmFtZXNwYWNlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigzMzApLnN0cmluZyhlLnBocE5hbWVzcGFjZSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBHZW5lcmljU2VydmljZXNcIikmJnQudWludDMyKDMzNikuYm9vbChlLnBocEdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiZ0LnVpbnQzMigzNTQpLnN0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicnVieVBhY2thZ2VcIikmJnQudWludDMyKDM2Mikuc3RyaW5nKGUucnVieVBhY2thZ2UpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxTLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxTLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmphdmFQYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8uamF2YU91dGVyQ2xhc3NuYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMDpvLmphdmFNdWx0aXBsZUZpbGVzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjA6by5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjc6by5qYXZhU3RyaW5nQ2hlY2tVdGY4PWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTpvLm9wdGltaXplRm9yPWUuaW50MzIoKTticmVhaztjYXNlIDExOm8uZ29QYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxNjpvLmNjR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTc6by5qYXZhR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTg6by5weUdlbmVyaWNTZXJ2aWNlcz1lLmJvb2woKTticmVhaztjYXNlIDQyOm8ucGhwR2VuZXJpY1NlcnZpY2VzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzE6by5jY0VuYWJsZUFyZW5hcz1lLmJvb2woKTticmVhaztjYXNlIDM2Om8ub2JqY0NsYXNzUHJlZml4PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzNzpvLmNzaGFycE5hbWVzcGFjZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzk6by5zd2lmdFByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDA6by5waHBDbGFzc1ByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDE6by5waHBOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ0Om8ucGhwTWV0YWRhdGFOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ1Om8ucnVieVBhY2thZ2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFQYWNrYWdlXCIpJiYhdS5pc1N0cmluZyhlLmphdmFQYWNrYWdlKSlyZXR1cm5cImphdmFQYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmIXUuaXNTdHJpbmcoZS5qYXZhT3V0ZXJDbGFzc25hbWUpKXJldHVyblwiamF2YU91dGVyQ2xhc3NuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZlLmhhc093blByb3BlcnR5KFwiamF2YU11bHRpcGxlRmlsZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhTXVsdGlwbGVGaWxlcylyZXR1cm5cImphdmFNdWx0aXBsZUZpbGVzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpcmV0dXJuXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiZlLmhhc093blByb3BlcnR5KFwiamF2YVN0cmluZ0NoZWNrVXRmOFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmphdmFTdHJpbmdDaGVja1V0ZjgpcmV0dXJuXCJqYXZhU3RyaW5nQ2hlY2tVdGY4OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcHRpbWl6ZUZvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGltaXplRm9yXCIpKXN3aXRjaChlLm9wdGltaXplRm9yKXtkZWZhdWx0OnJldHVyblwib3B0aW1pemVGb3I6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzp9aWYobnVsbCE9ZS5nb1BhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJnb1BhY2thZ2VcIikmJiF1LmlzU3RyaW5nKGUuZ29QYWNrYWdlKSlyZXR1cm5cImdvUGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuY2NHZW5lcmljU2VydmljZXMpcmV0dXJuXCJjY0dlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhR2VuZXJpY1NlcnZpY2VzKXJldHVyblwiamF2YUdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnB5R2VuZXJpY1NlcnZpY2VzKXJldHVyblwicHlHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnBocEdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cInBocEdlbmVyaWNTZXJ2aWNlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0VuYWJsZUFyZW5hc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNjRW5hYmxlQXJlbmFzKXJldHVyblwiY2NFbmFibGVBcmVuYXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9iamNDbGFzc1ByZWZpeFwiKSYmIXUuaXNTdHJpbmcoZS5vYmpjQ2xhc3NQcmVmaXgpKXJldHVyblwib2JqY0NsYXNzUHJlZml4OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNzaGFycE5hbWVzcGFjZVwiKSYmIXUuaXNTdHJpbmcoZS5jc2hhcnBOYW1lc3BhY2UpKXJldHVyblwiY3NoYXJwTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnN3aWZ0UHJlZml4JiZlLmhhc093blByb3BlcnR5KFwic3dpZnRQcmVmaXhcIikmJiF1LmlzU3RyaW5nKGUuc3dpZnRQcmVmaXgpKXJldHVyblwic3dpZnRQcmVmaXg6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBDbGFzc1ByZWZpeFwiKSYmIXUuaXNTdHJpbmcoZS5waHBDbGFzc1ByZWZpeCkpcmV0dXJuXCJwaHBDbGFzc1ByZWZpeDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBOYW1lc3BhY2VcIikmJiF1LmlzU3RyaW5nKGUucGhwTmFtZXNwYWNlKSlyZXR1cm5cInBocE5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiYhdS5pc1N0cmluZyhlLnBocE1ldGFkYXRhTmFtZXNwYWNlKSlyZXR1cm5cInBocE1ldGFkYXRhTmFtZXNwYWNlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJ1YnlQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicnVieVBhY2thZ2VcIikmJiF1LmlzU3RyaW5nKGUucnVieVBhY2thZ2UpKXJldHVyblwicnVieVBhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LFMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zO3N3aXRjaChudWxsIT1lLmphdmFQYWNrYWdlJiYodC5qYXZhUGFja2FnZT1TdHJpbmcoZS5qYXZhUGFja2FnZSkpLG51bGwhPWUuamF2YU91dGVyQ2xhc3NuYW1lJiYodC5qYXZhT3V0ZXJDbGFzc25hbWU9U3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSksbnVsbCE9ZS5qYXZhTXVsdGlwbGVGaWxlcyYmKHQuamF2YU11bHRpcGxlRmlsZXM9Qm9vbGVhbihlLmphdmFNdWx0aXBsZUZpbGVzKSksbnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiYodC5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPUJvb2xlYW4oZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKSksbnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiYodC5qYXZhU3RyaW5nQ2hlY2tVdGY4PUJvb2xlYW4oZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSksZS5vcHRpbWl6ZUZvcil7Y2FzZVwiU1BFRURcIjpjYXNlIDE6dC5vcHRpbWl6ZUZvcj0xO2JyZWFrO2Nhc2VcIkNPREVfU0laRVwiOmNhc2UgMjp0Lm9wdGltaXplRm9yPTI7YnJlYWs7Y2FzZVwiTElURV9SVU5USU1FXCI6Y2FzZSAzOnQub3B0aW1pemVGb3I9M31pZihudWxsIT1lLmdvUGFja2FnZSYmKHQuZ29QYWNrYWdlPVN0cmluZyhlLmdvUGFja2FnZSkpLG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJih0LmNjR2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5jY0dlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyYmKHQuamF2YUdlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUuamF2YUdlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJih0LnB5R2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5weUdlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUucGhwR2VuZXJpY1NlcnZpY2VzJiYodC5waHBHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLnBocEdlbmVyaWNTZXJ2aWNlcykpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUuY2NFbmFibGVBcmVuYXMmJih0LmNjRW5hYmxlQXJlbmFzPUJvb2xlYW4oZS5jY0VuYWJsZUFyZW5hcykpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiYodC5vYmpjQ2xhc3NQcmVmaXg9U3RyaW5nKGUub2JqY0NsYXNzUHJlZml4KSksbnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJih0LmNzaGFycE5hbWVzcGFjZT1TdHJpbmcoZS5jc2hhcnBOYW1lc3BhY2UpKSxudWxsIT1lLnN3aWZ0UHJlZml4JiYodC5zd2lmdFByZWZpeD1TdHJpbmcoZS5zd2lmdFByZWZpeCkpLG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJih0LnBocENsYXNzUHJlZml4PVN0cmluZyhlLnBocENsYXNzUHJlZml4KSksbnVsbCE9ZS5waHBOYW1lc3BhY2UmJih0LnBocE5hbWVzcGFjZT1TdHJpbmcoZS5waHBOYW1lc3BhY2UpKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiYodC5waHBNZXRhZGF0YU5hbWVzcGFjZT1TdHJpbmcoZS5waHBNZXRhZGF0YU5hbWVzcGFjZSkpLG51bGwhPWUucnVieVBhY2thZ2UmJih0LnJ1YnlQYWNrYWdlPVN0cmluZyhlLnJ1YnlQYWNrYWdlKSksZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sUy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uamF2YVBhY2thZ2U9XCJcIixuLmphdmFPdXRlckNsYXNzbmFtZT1cIlwiLG4ub3B0aW1pemVGb3I9dC5lbnVtcz09PVN0cmluZz9cIlNQRUVEXCI6MSxuLmphdmFNdWx0aXBsZUZpbGVzPSExLG4uZ29QYWNrYWdlPVwiXCIsbi5jY0dlbmVyaWNTZXJ2aWNlcz0hMSxuLmphdmFHZW5lcmljU2VydmljZXM9ITEsbi5weUdlbmVyaWNTZXJ2aWNlcz0hMSxuLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ITEsbi5kZXByZWNhdGVkPSExLG4uamF2YVN0cmluZ0NoZWNrVXRmOD0hMSxuLmNjRW5hYmxlQXJlbmFzPSEwLG4ub2JqY0NsYXNzUHJlZml4PVwiXCIsbi5jc2hhcnBOYW1lc3BhY2U9XCJcIixuLnN3aWZ0UHJlZml4PVwiXCIsbi5waHBDbGFzc1ByZWZpeD1cIlwiLG4ucGhwTmFtZXNwYWNlPVwiXCIsbi5waHBHZW5lcmljU2VydmljZXM9ITEsbi5waHBNZXRhZGF0YU5hbWVzcGFjZT1cIlwiLG4ucnVieVBhY2thZ2U9XCJcIiksbnVsbCE9ZS5qYXZhUGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFQYWNrYWdlXCIpJiYobi5qYXZhUGFja2FnZT1lLmphdmFQYWNrYWdlKSxudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmKG4uamF2YU91dGVyQ2xhc3NuYW1lPWUuamF2YU91dGVyQ2xhc3NuYW1lKSxudWxsIT1lLm9wdGltaXplRm9yJiZlLmhhc093blByb3BlcnR5KFwib3B0aW1pemVGb3JcIikmJihuLm9wdGltaXplRm9yPXQuZW51bXM9PT1TdHJpbmc/Yy5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlW2Uub3B0aW1pemVGb3JdOmUub3B0aW1pemVGb3IpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhTXVsdGlwbGVGaWxlc1wiKSYmKG4uamF2YU11bHRpcGxlRmlsZXM9ZS5qYXZhTXVsdGlwbGVGaWxlcyksbnVsbCE9ZS5nb1BhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJnb1BhY2thZ2VcIikmJihuLmdvUGFja2FnZT1lLmdvUGFja2FnZSksbnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5jY0dlbmVyaWNTZXJ2aWNlcz1lLmNjR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiYobi5qYXZhR2VuZXJpY1NlcnZpY2VzPWUuamF2YUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInB5R2VuZXJpY1NlcnZpY2VzXCIpJiYobi5weUdlbmVyaWNTZXJ2aWNlcz1lLnB5R2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoXCIpJiYobi5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJihuLmphdmFTdHJpbmdDaGVja1V0Zjg9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZlLmhhc093blByb3BlcnR5KFwiY2NFbmFibGVBcmVuYXNcIikmJihuLmNjRW5hYmxlQXJlbmFzPWUuY2NFbmFibGVBcmVuYXMpLG51bGwhPWUub2JqY0NsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwib2JqY0NsYXNzUHJlZml4XCIpJiYobi5vYmpjQ2xhc3NQcmVmaXg9ZS5vYmpjQ2xhc3NQcmVmaXgpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwiY3NoYXJwTmFtZXNwYWNlXCIpJiYobi5jc2hhcnBOYW1lc3BhY2U9ZS5jc2hhcnBOYW1lc3BhY2UpLG51bGwhPWUuc3dpZnRQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJzd2lmdFByZWZpeFwiKSYmKG4uc3dpZnRQcmVmaXg9ZS5zd2lmdFByZWZpeCksbnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInBocENsYXNzUHJlZml4XCIpJiYobi5waHBDbGFzc1ByZWZpeD1lLnBocENsYXNzUHJlZml4KSxudWxsIT1lLnBocE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE5hbWVzcGFjZVwiKSYmKG4ucGhwTmFtZXNwYWNlPWUucGhwTmFtZXNwYWNlKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmZS5oYXNPd25Qcm9wZXJ0eShcInBocEdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4ucGhwR2VuZXJpY1NlcnZpY2VzPWUucGhwR2VuZXJpY1NlcnZpY2VzKSxudWxsIT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTWV0YWRhdGFOYW1lc3BhY2VcIikmJihuLnBocE1ldGFkYXRhTmFtZXNwYWNlPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UpLG51bGwhPWUucnVieVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJydWJ5UGFja2FnZVwiKSYmKG4ucnVieVBhY2thZ2U9ZS5ydWJ5UGFja2FnZSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LFMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxTLk9wdGltaXplTW9kZT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzFdPVwiU1BFRURcIl09MSx0W2VbMl09XCJDT0RFX1NJWkVcIl09Mix0W2VbM109XCJMSVRFX1JVTlRJTUVcIl09Myx0KSxTKSxuLk1lc3NhZ2VPcHRpb25zPShrLnByb3RvdHlwZS5tZXNzYWdlU2V0V2lyZUZvcm1hdD0hMSxrLnByb3RvdHlwZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPSExLGsucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsay5wcm90b3R5cGUubWFwRW50cnk9ITEsay5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj11LmVtcHR5QXJyYXksay5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBrKGUpfSxrLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJnQudWludDMyKDgpLmJvb2woZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCksbnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUubWFwRW50cnkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtYXBFbnRyeVwiKSYmdC51aW50MzIoNTYpLmJvb2woZS5tYXBFbnRyeSksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LGsuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGsuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubWVzc2FnZVNldFdpcmVGb3JtYXQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAyOm8ubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj1lLmJvb2woKTticmVhaztjYXNlIDM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNzpvLm1hcEVudHJ5PWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxrLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxrLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVNldFdpcmVGb3JtYXRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5tZXNzYWdlU2V0V2lyZUZvcm1hdClyZXR1cm5cIm1lc3NhZ2VTZXRXaXJlRm9ybWF0OiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZlLmhhc093blByb3BlcnR5KFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3IpcmV0dXJuXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tYXBFbnRyeSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1hcEVudHJ5XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubWFwRW50cnkpcmV0dXJuXCJtYXBFbnRyeTogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LGsuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zO2lmKG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJih0Lm1lc3NhZ2VTZXRXaXJlRm9ybWF0PUJvb2xlYW4oZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCkpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmKHQubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj1Cb29sZWFuKGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvcikpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUubWFwRW50cnkmJih0Lm1hcEVudHJ5PUJvb2xlYW4oZS5tYXBFbnRyeSkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LGsudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PSExLG4ubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj0hMSxuLmRlcHJlY2F0ZWQ9ITEsbi5tYXBFbnRyeT0hMSksbnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VTZXRXaXJlRm9ybWF0XCIpJiYobi5tZXNzYWdlU2V0V2lyZUZvcm1hdD1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0KSxudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJmUuaGFzT3duUHJvcGVydHkoXCJub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yXCIpJiYobi5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUubWFwRW50cnkmJmUuaGFzT3duUHJvcGVydHkoXCJtYXBFbnRyeVwiKSYmKG4ubWFwRW50cnk9ZS5tYXBFbnRyeSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LGsucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxrKSxuLkZpZWxkT3B0aW9ucz0oRC5wcm90b3R5cGUuY3R5cGU9MCxELnByb3RvdHlwZS5wYWNrZWQ9ITEsRC5wcm90b3R5cGUuanN0eXBlPTAsRC5wcm90b3R5cGUubGF6eT0hMSxELnByb3RvdHlwZS5kZXByZWNhdGVkPSExLEQucHJvdG90eXBlLndlYWs9ITEsRC5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj11LmVtcHR5QXJyYXksRC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBEKGUpfSxELmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmN0eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY3R5cGVcIikmJnQudWludDMyKDgpLmludDMyKGUuY3R5cGUpLG51bGwhPWUucGFja2VkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFja2VkXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLnBhY2tlZCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmxhenkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsYXp5XCIpJiZ0LnVpbnQzMig0MCkuYm9vbChlLmxhenkpLG51bGwhPWUuanN0eXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwianN0eXBlXCIpJiZ0LnVpbnQzMig0OCkuaW50MzIoZS5qc3R5cGUpLG51bGwhPWUud2VhayYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIndlYWtcIikmJnQudWludDMyKDgwKS5ib29sKGUud2VhayksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEQuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEQuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmN0eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDI6by5wYWNrZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA2Om8uanN0eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDU6by5sYXp5PWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSAxMDpvLndlYWs9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEQudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuY3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJjdHlwZVwiKSlzd2l0Y2goZS5jdHlwZSl7ZGVmYXVsdDpyZXR1cm5cImN0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fWlmKG51bGwhPWUucGFja2VkJiZlLmhhc093blByb3BlcnR5KFwicGFja2VkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUucGFja2VkKXJldHVyblwicGFja2VkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qc3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJqc3R5cGVcIikpc3dpdGNoKGUuanN0eXBlKXtkZWZhdWx0OnJldHVyblwianN0eXBlOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAwOmNhc2UgMTpjYXNlIDI6fWlmKG51bGwhPWUubGF6eSYmZS5oYXNPd25Qcm9wZXJ0eShcImxhenlcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5sYXp5KXJldHVyblwibGF6eTogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUud2VhayYmZS5oYXNPd25Qcm9wZXJ0eShcIndlYWtcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS53ZWFrKXJldHVyblwid2VhazogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LEQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnM7c3dpdGNoKGUuY3R5cGUpe2Nhc2VcIlNUUklOR1wiOmNhc2UgMDp0LmN0eXBlPTA7YnJlYWs7Y2FzZVwiQ09SRFwiOmNhc2UgMTp0LmN0eXBlPTE7YnJlYWs7Y2FzZVwiU1RSSU5HX1BJRUNFXCI6Y2FzZSAyOnQuY3R5cGU9Mn1zd2l0Y2gobnVsbCE9ZS5wYWNrZWQmJih0LnBhY2tlZD1Cb29sZWFuKGUucGFja2VkKSksZS5qc3R5cGUpe2Nhc2VcIkpTX05PUk1BTFwiOmNhc2UgMDp0LmpzdHlwZT0wO2JyZWFrO2Nhc2VcIkpTX1NUUklOR1wiOmNhc2UgMTp0LmpzdHlwZT0xO2JyZWFrO2Nhc2VcIkpTX05VTUJFUlwiOmNhc2UgMjp0LmpzdHlwZT0yfWlmKG51bGwhPWUubGF6eSYmKHQubGF6eT1Cb29sZWFuKGUubGF6eSkpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLG51bGwhPWUud2VhayYmKHQud2Vhaz1Cb29sZWFuKGUud2VhaykpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sRC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uY3R5cGU9dC5lbnVtcz09PVN0cmluZz9cIlNUUklOR1wiOjAsbi5wYWNrZWQ9ITEsbi5kZXByZWNhdGVkPSExLG4ubGF6eT0hMSxuLmpzdHlwZT10LmVudW1zPT09U3RyaW5nP1wiSlNfTk9STUFMXCI6MCxuLndlYWs9ITEpLG51bGwhPWUuY3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJjdHlwZVwiKSYmKG4uY3R5cGU9dC5lbnVtcz09PVN0cmluZz9jLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuQ1R5cGVbZS5jdHlwZV06ZS5jdHlwZSksbnVsbCE9ZS5wYWNrZWQmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrZWRcIikmJihuLnBhY2tlZD1lLnBhY2tlZCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUubGF6eSYmZS5oYXNPd25Qcm9wZXJ0eShcImxhenlcIikmJihuLmxhenk9ZS5sYXp5KSxudWxsIT1lLmpzdHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzdHlwZVwiKSYmKG4uanN0eXBlPXQuZW51bXM9PT1TdHJpbmc/Yy5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkpTVHlwZVtlLmpzdHlwZV06ZS5qc3R5cGUpLG51bGwhPWUud2VhayYmZS5oYXNPd25Qcm9wZXJ0eShcIndlYWtcIikmJihuLndlYWs9ZS53ZWFrKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sRC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEQuQ1R5cGU9KGU9e30sKHQ9T2JqZWN0LmNyZWF0ZShlKSlbZVswXT1cIlNUUklOR1wiXT0wLHRbZVsxXT1cIkNPUkRcIl09MSx0W2VbMl09XCJTVFJJTkdfUElFQ0VcIl09Mix0KSxELkpTVHlwZT0oZT17fSwodD1PYmplY3QuY3JlYXRlKGUpKVtlWzBdPVwiSlNfTk9STUFMXCJdPTAsdFtlWzFdPVwiSlNfU1RSSU5HXCJdPTEsdFtlWzJdPVwiSlNfTlVNQkVSXCJdPTIsdCksRCksbi5PbmVvZk9wdGlvbnM9KE0ucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LE0uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTShlKX0sTS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LE0uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LE0uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09OTk5PyhvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LE0uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE0udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LE0uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnM7aWYoZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxNLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sTS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LE0pLG4uRW51bU9wdGlvbnM9KFQucHJvdG90eXBlLmFsbG93QWxpYXM9ITEsVC5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxULnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXUuZW1wdHlBcnJheSxULmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFQoZSl9LFQuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuYWxsb3dBbGlhcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImFsbG93QWxpYXNcIikmJnQudWludDMyKDE2KS5ib29sKGUuYWxsb3dBbGlhcyksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sVC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sVC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDI6by5hbGxvd0FsaWFzPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFQuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFQudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuYWxsb3dBbGlhcyYmZS5oYXNPd25Qcm9wZXJ0eShcImFsbG93QWxpYXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5hbGxvd0FsaWFzKXJldHVyblwiYWxsb3dBbGlhczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LFQuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zO2lmKG51bGwhPWUuYWxsb3dBbGlhcyYmKHQuYWxsb3dBbGlhcz1Cb29sZWFuKGUuYWxsb3dBbGlhcykpLG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LFQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmFsbG93QWxpYXM9ITEsbi5kZXByZWNhdGVkPSExKSxudWxsIT1lLmFsbG93QWxpYXMmJmUuaGFzT3duUHJvcGVydHkoXCJhbGxvd0FsaWFzXCIpJiYobi5hbGxvd0FsaWFzPWUuYWxsb3dBbGlhcyksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxULnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sVCksbi5FbnVtVmFsdWVPcHRpb25zPShFLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLEUucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LEUuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRShlKX0sRS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoOCkuYm9vbChlLmRlcHJlY2F0ZWQpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxFLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxFLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sRS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBzfHwoZT1uZXcgcyhlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sRS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRlcHJlY2F0ZWQpcmV0dXJuXCJkZXByZWNhdGVkOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sRS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxFLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5kZXByZWNhdGVkPSExKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LEUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxFKSxuLlNlcnZpY2VPcHRpb25zPShBLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLEEucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249dS5lbXB0eUFycmF5LEEucHJvdG90eXBlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09XCJcIixBLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPVwiXCIsQS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBBKGUpfSxBLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIikmJnQudWludDMyKDgzOTQpLnN0cmluZyhlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCIpJiZ0LnVpbnQzMig4NDAyKS5zdHJpbmcoZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKSx0fSxBLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxBLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMzM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAxMDQ5Om9bXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTA1MDpvW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09ZS5zdHJpbmcoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEEuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEEudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCIpJiYhdS5pc1N0cmluZyhlW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pP1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3Q6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCIpJiYhdS5pc1N0cmluZyhlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pP1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXM6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEEuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmKHQuZGVwcmVjYXRlZD1Cb29sZWFuKGUuZGVwcmVjYXRlZCkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmKHRbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1TdHJpbmcoZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKSksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiYodFtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPVN0cmluZyhlW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0pKSx0fSxBLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5kZXByZWNhdGVkPSExLG5bXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1cIlwiLG5bXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1cIlwiKSxudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiYobi5kZXByZWNhdGVkPWUuZGVwcmVjYXRlZCksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCIpJiYobltcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSksbnVsbCE9ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIikmJihuW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09ZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKSxufSxBLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sQSksbi5NZXRob2RPcHRpb25zPShOLnByb3RvdHlwZS5kZXByZWNhdGVkPSExLE4ucHJvdG90eXBlLmlkZW1wb3RlbmN5TGV2ZWw9MCxOLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPXUuZW1wdHlBcnJheSxOLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLmh0dHBcIl09bnVsbCxOLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT11LmVtcHR5QXJyYXksTi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBOKGUpfSxOLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmlkZW1wb3RlbmN5TGV2ZWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpZGVtcG90ZW5jeUxldmVsXCIpJiZ0LnVpbnQzMigyNzIpLmludDMyKGUuaWRlbXBvdGVuY3lMZXZlbCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGgpZm9yKG49MDtuPGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrbil0LnVpbnQzMig4NDEwKS5zdHJpbmcoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtuXSk7cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiLmdvb2dsZS5hcGkuaHR0cFwiKSYmYy5nb29nbGUuYXBpLkh0dHBSdWxlLmVuY29kZShlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSx0LnVpbnQzMig1NzgzNjU4MjYpLmZvcmsoKSkubGRlbGltKCksdH0sTi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMzM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMzQ6by5pZGVtcG90ZW5jeUxldmVsPWUuaW50MzIoKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNzIyOTU3Mjg6b1tcIi5nb29nbGUuYXBpLmh0dHBcIl09Yy5nb29nbGUuYXBpLkh0dHBSdWxlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMTA1MTpvW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZvW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aHx8KG9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W10pLG9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LE4uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE4udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW1wb3RlbmN5TGV2ZWxcIikpc3dpdGNoKGUuaWRlbXBvdGVuY3lMZXZlbCl7ZGVmYXVsdDpyZXR1cm5cImlkZW1wb3RlbmN5TGV2ZWw6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdClpZihuPWMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSkpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259dmFyIG47aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5odHRwXCIpJiYobj1jLmdvb2dsZS5hcGkuSHR0cFJ1bGUudmVyaWZ5KGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5odHRwLlwiK247aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrdClpZighdS5pc1N0cmluZyhlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW3RdKSlyZXR1cm5cIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sTi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zO3N3aXRjaChudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLmlkZW1wb3RlbmN5TGV2ZWwpe2Nhc2VcIklERU1QT1RFTkNZX1VOS05PV05cIjpjYXNlIDA6dC5pZGVtcG90ZW5jeUxldmVsPTA7YnJlYWs7Y2FzZVwiTk9fU0lERV9FRkZFQ1RTXCI6Y2FzZSAxOnQuaWRlbXBvdGVuY3lMZXZlbD0xO2JyZWFrO2Nhc2VcIklERU1QT1RFTlRcIjpjYXNlIDI6dC5pZGVtcG90ZW5jeUxldmVsPTJ9aWYoZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuLmdvb2dsZS5hcGkuaHR0cDogb2JqZWN0IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmFwaS5odHRwXCJdPWMuZ29vZ2xlLmFwaS5IdHRwUnVsZS5mcm9tT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKX1pZihlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKXtpZighQXJyYXkuaXNBcnJheShlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMuLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlOiBhcnJheSBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdO2ZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK24pdFtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtuXT1TdHJpbmcoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtuXSl9cmV0dXJuIHR9LE4udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sbltcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXSksdC5kZWZhdWx0cyYmKG4uZGVwcmVjYXRlZD0hMSxuLmlkZW1wb3RlbmN5TGV2ZWw9dC5lbnVtcz09PVN0cmluZz9cIklERU1QT1RFTkNZX1VOS05PV05cIjowLG5bXCIuZ29vZ2xlLmFwaS5odHRwXCJdPW51bGwpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxudWxsIT1lLmlkZW1wb3RlbmN5TGV2ZWwmJmUuaGFzT3duUHJvcGVydHkoXCJpZGVtcG90ZW5jeUxldmVsXCIpJiYobi5pZGVtcG90ZW5jeUxldmVsPXQuZW51bXM9PT1TdHJpbmc/Yy5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5JZGVtcG90ZW5jeUxldmVsW2UuaWRlbXBvdGVuY3lMZXZlbF06ZS5pZGVtcG90ZW5jeUxldmVsKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1pZihlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aCl7bltcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXTtmb3Iobz0wO288ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7KytvKW5bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bb109ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXVtvXX1yZXR1cm4gbnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5odHRwXCIpJiYobltcIi5nb29nbGUuYXBpLmh0dHBcIl09Yy5nb29nbGUuYXBpLkh0dHBSdWxlLnRvT2JqZWN0KGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdLHQpKSxufSxOLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTi5JZGVtcG90ZW5jeUxldmVsPShlPXt9LCh0PU9iamVjdC5jcmVhdGUoZSkpW2VbMF09XCJJREVNUE9URU5DWV9VTktOT1dOXCJdPTAsdFtlWzFdPVwiTk9fU0lERV9FRkZFQ1RTXCJdPTEsdFtlWzJdPVwiSURFTVBPVEVOVFwiXT0yLHQpLE4pLG4uVW5pbnRlcnByZXRlZE9wdGlvbj0oSS5wcm90b3R5cGUubmFtZT11LmVtcHR5QXJyYXksSS5wcm90b3R5cGUuaWRlbnRpZmllclZhbHVlPVwiXCIsSS5wcm90b3R5cGUucG9zaXRpdmVJbnRWYWx1ZT11Lkxvbmc/dS5Mb25nLmZyb21CaXRzKDAsMCwhMCk6MCxJLnByb3RvdHlwZS5uZWdhdGl2ZUludFZhbHVlPXUuTG9uZz91LkxvbmcuZnJvbUJpdHMoMCwwLCExKTowLEkucHJvdG90eXBlLmRvdWJsZVZhbHVlPTAsSS5wcm90b3R5cGUuc3RyaW5nVmFsdWU9dS5uZXdCdWZmZXIoW10pLEkucHJvdG90eXBlLmFnZ3JlZ2F0ZVZhbHVlPVwiXCIsSS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBJKGUpfSxJLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJmUubmFtZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLm5hbWUubGVuZ3RoOysrbiljLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LmVuY29kZShlLm5hbWVbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiaWRlbnRpZmllclZhbHVlXCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUuaWRlbnRpZmllclZhbHVlKSxudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwb3NpdGl2ZUludFZhbHVlXCIpJiZ0LnVpbnQzMigzMikudWludDY0KGUucG9zaXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmVnYXRpdmVJbnRWYWx1ZVwiKSYmdC51aW50MzIoNDApLmludDY0KGUubmVnYXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5kb3VibGVWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRvdWJsZVZhbHVlXCIpJiZ0LnVpbnQzMig0OSkuZG91YmxlKGUuZG91YmxlVmFsdWUpLG51bGwhPWUuc3RyaW5nVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdHJpbmdWYWx1ZVwiKSYmdC51aW50MzIoNTgpLmJ5dGVzKGUuc3RyaW5nVmFsdWUpLG51bGwhPWUuYWdncmVnYXRlVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhZ2dyZWdhdGVWYWx1ZVwiKSYmdC51aW50MzIoNjYpLnN0cmluZyhlLmFnZ3JlZ2F0ZVZhbHVlKSx0fSxJLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxJLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAyOm8ubmFtZSYmby5uYW1lLmxlbmd0aHx8KG8ubmFtZT1bXSksby5uYW1lLnB1c2goYy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8uaWRlbnRpZmllclZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ucG9zaXRpdmVJbnRWYWx1ZT1lLnVpbnQ2NCgpO2JyZWFrO2Nhc2UgNTpvLm5lZ2F0aXZlSW50VmFsdWU9ZS5pbnQ2NCgpO2JyZWFrO2Nhc2UgNjpvLmRvdWJsZVZhbHVlPWUuZG91YmxlKCk7YnJlYWs7Y2FzZSA3Om8uc3RyaW5nVmFsdWU9ZS5ieXRlcygpO2JyZWFrO2Nhc2UgODpvLmFnZ3JlZ2F0ZVZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxJLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxJLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKXtpZighQXJyYXkuaXNBcnJheShlLm5hbWUpKXJldHVyblwibmFtZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUubmFtZS5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LnZlcmlmeShlLm5hbWVbdF0pO2lmKG4pcmV0dXJuXCJuYW1lLlwiK259fXJldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW50aWZpZXJWYWx1ZVwiKSYmIXUuaXNTdHJpbmcoZS5pZGVudGlmaWVyVmFsdWUpP1wiaWRlbnRpZmllclZhbHVlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJwb3NpdGl2ZUludFZhbHVlXCIpJiYhKHUuaXNJbnRlZ2VyKGUucG9zaXRpdmVJbnRWYWx1ZSl8fGUucG9zaXRpdmVJbnRWYWx1ZSYmdS5pc0ludGVnZXIoZS5wb3NpdGl2ZUludFZhbHVlLmxvdykmJnUuaXNJbnRlZ2VyKGUucG9zaXRpdmVJbnRWYWx1ZS5oaWdoKSk/XCJwb3NpdGl2ZUludFZhbHVlOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjpudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJuZWdhdGl2ZUludFZhbHVlXCIpJiYhKHUuaXNJbnRlZ2VyKGUubmVnYXRpdmVJbnRWYWx1ZSl8fGUubmVnYXRpdmVJbnRWYWx1ZSYmdS5pc0ludGVnZXIoZS5uZWdhdGl2ZUludFZhbHVlLmxvdykmJnUuaXNJbnRlZ2VyKGUubmVnYXRpdmVJbnRWYWx1ZS5oaWdoKSk/XCJuZWdhdGl2ZUludFZhbHVlOiBpbnRlZ2VyfExvbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmRvdWJsZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZG91YmxlVmFsdWVcIikmJlwibnVtYmVyXCIhPXR5cGVvZiBlLmRvdWJsZVZhbHVlP1wiZG91YmxlVmFsdWU6IG51bWJlciBleHBlY3RlZFwiOm51bGwhPWUuc3RyaW5nVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJzdHJpbmdWYWx1ZVwiKSYmIShlLnN0cmluZ1ZhbHVlJiZcIm51bWJlclwiPT10eXBlb2YgZS5zdHJpbmdWYWx1ZS5sZW5ndGh8fHUuaXNTdHJpbmcoZS5zdHJpbmdWYWx1ZSkpP1wic3RyaW5nVmFsdWU6IGJ1ZmZlciBleHBlY3RlZFwiOm51bGwhPWUuYWdncmVnYXRlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJhZ2dyZWdhdGVWYWx1ZVwiKSYmIXUuaXNTdHJpbmcoZS5hZ2dyZWdhdGVWYWx1ZSk/XCJhZ2dyZWdhdGVWYWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sSS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uO2lmKGUubmFtZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uYW1lKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24ubmFtZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5uYW1lPVtdO2Zvcih2YXIgbj0wO248ZS5uYW1lLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm5hbWVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLm5hbWU6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm5hbWVbbl09Yy5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5mcm9tT2JqZWN0KGUubmFtZVtuXSl9fXJldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmKHQuaWRlbnRpZmllclZhbHVlPVN0cmluZyhlLmlkZW50aWZpZXJWYWx1ZSkpLG51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmKHUuTG9uZz8odC5wb3NpdGl2ZUludFZhbHVlPXUuTG9uZy5mcm9tVmFsdWUoZS5wb3NpdGl2ZUludFZhbHVlKSkudW5zaWduZWQ9ITA6XCJzdHJpbmdcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZT90LnBvc2l0aXZlSW50VmFsdWU9cGFyc2VJbnQoZS5wb3NpdGl2ZUludFZhbHVlLDEwKTpcIm51bWJlclwiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlP3QucG9zaXRpdmVJbnRWYWx1ZT1lLnBvc2l0aXZlSW50VmFsdWU6XCJvYmplY3RcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZSYmKHQucG9zaXRpdmVJbnRWYWx1ZT1uZXcgdS5Mb25nQml0cyhlLnBvc2l0aXZlSW50VmFsdWUubG93Pj4+MCxlLnBvc2l0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCEwKSkpLG51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmKHUuTG9uZz8odC5uZWdhdGl2ZUludFZhbHVlPXUuTG9uZy5mcm9tVmFsdWUoZS5uZWdhdGl2ZUludFZhbHVlKSkudW5zaWduZWQ9ITE6XCJzdHJpbmdcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZT90Lm5lZ2F0aXZlSW50VmFsdWU9cGFyc2VJbnQoZS5uZWdhdGl2ZUludFZhbHVlLDEwKTpcIm51bWJlclwiPT10eXBlb2YgZS5uZWdhdGl2ZUludFZhbHVlP3QubmVnYXRpdmVJbnRWYWx1ZT1lLm5lZ2F0aXZlSW50VmFsdWU6XCJvYmplY3RcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZSYmKHQubmVnYXRpdmVJbnRWYWx1ZT1uZXcgdS5Mb25nQml0cyhlLm5lZ2F0aXZlSW50VmFsdWUubG93Pj4+MCxlLm5lZ2F0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCkpKSxudWxsIT1lLmRvdWJsZVZhbHVlJiYodC5kb3VibGVWYWx1ZT1OdW1iZXIoZS5kb3VibGVWYWx1ZSkpLG51bGwhPWUuc3RyaW5nVmFsdWUmJihcInN0cmluZ1wiPT10eXBlb2YgZS5zdHJpbmdWYWx1ZT91LmJhc2U2NC5kZWNvZGUoZS5zdHJpbmdWYWx1ZSx0LnN0cmluZ1ZhbHVlPXUubmV3QnVmZmVyKHUuYmFzZTY0Lmxlbmd0aChlLnN0cmluZ1ZhbHVlKSksMCk6ZS5zdHJpbmdWYWx1ZS5sZW5ndGgmJih0LnN0cmluZ1ZhbHVlPWUuc3RyaW5nVmFsdWUpKSxudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiYodC5hZ2dyZWdhdGVWYWx1ZT1TdHJpbmcoZS5hZ2dyZWdhdGVWYWx1ZSkpLHR9LEkudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbixvPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG8ubmFtZT1bXSksdC5kZWZhdWx0cyYmKG8uaWRlbnRpZmllclZhbHVlPVwiXCIsdS5Mb25nPyhuPW5ldyB1LkxvbmcoMCwwLCEwKSxvLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6dC5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6bik6by5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/XCIwXCI6MCx1Lkxvbmc/KG49bmV3IHUuTG9uZygwLDAsITEpLG8ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP24udG9TdHJpbmcoKTp0LmxvbmdzPT09TnVtYmVyP24udG9OdW1iZXIoKTpuKTpvLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9cIjBcIjowLG8uZG91YmxlVmFsdWU9MCx0LmJ5dGVzPT09U3RyaW5nP28uc3RyaW5nVmFsdWU9XCJcIjooby5zdHJpbmdWYWx1ZT1bXSx0LmJ5dGVzIT09QXJyYXkmJihvLnN0cmluZ1ZhbHVlPXUubmV3QnVmZmVyKG8uc3RyaW5nVmFsdWUpKSksby5hZ2dyZWdhdGVWYWx1ZT1cIlwiKSxlLm5hbWUmJmUubmFtZS5sZW5ndGgpe28ubmFtZT1bXTtmb3IodmFyIHI9MDtyPGUubmFtZS5sZW5ndGg7KytyKW8ubmFtZVtyXT1jLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LnRvT2JqZWN0KGUubmFtZVtyXSx0KX1yZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJpZGVudGlmaWVyVmFsdWVcIikmJihvLmlkZW50aWZpZXJWYWx1ZT1lLmlkZW50aWZpZXJWYWx1ZSksbnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwicG9zaXRpdmVJbnRWYWx1ZVwiKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWU/by5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUucG9zaXRpdmVJbnRWYWx1ZSk6ZS5wb3NpdGl2ZUludFZhbHVlOm8ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP3UuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLnBvc2l0aXZlSW50VmFsdWUpOnQubG9uZ3M9PT1OdW1iZXI/bmV3IHUuTG9uZ0JpdHMoZS5wb3NpdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5wb3NpdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcighMCk6ZS5wb3NpdGl2ZUludFZhbHVlKSxudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJuZWdhdGl2ZUludFZhbHVlXCIpJiYoXCJudW1iZXJcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZT9vLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9TdHJpbmcoZS5uZWdhdGl2ZUludFZhbHVlKTplLm5lZ2F0aXZlSW50VmFsdWU6by5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/dS5Mb25nLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUubmVnYXRpdmVJbnRWYWx1ZSk6dC5sb25ncz09PU51bWJlcj9uZXcgdS5Mb25nQml0cyhlLm5lZ2F0aXZlSW50VmFsdWUubG93Pj4+MCxlLm5lZ2F0aXZlSW50VmFsdWUuaGlnaD4+PjApLnRvTnVtYmVyKCk6ZS5uZWdhdGl2ZUludFZhbHVlKSxudWxsIT1lLmRvdWJsZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiZG91YmxlVmFsdWVcIikmJihvLmRvdWJsZVZhbHVlPXQuanNvbiYmIWlzRmluaXRlKGUuZG91YmxlVmFsdWUpP1N0cmluZyhlLmRvdWJsZVZhbHVlKTplLmRvdWJsZVZhbHVlKSxudWxsIT1lLnN0cmluZ1ZhbHVlJiZlLmhhc093blByb3BlcnR5KFwic3RyaW5nVmFsdWVcIikmJihvLnN0cmluZ1ZhbHVlPXQuYnl0ZXM9PT1TdHJpbmc/dS5iYXNlNjQuZW5jb2RlKGUuc3RyaW5nVmFsdWUsMCxlLnN0cmluZ1ZhbHVlLmxlbmd0aCk6dC5ieXRlcz09PUFycmF5P0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuc3RyaW5nVmFsdWUpOmUuc3RyaW5nVmFsdWUpLG51bGwhPWUuYWdncmVnYXRlVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJhZ2dyZWdhdGVWYWx1ZVwiKSYmKG8uYWdncmVnYXRlVmFsdWU9ZS5hZ2dyZWdhdGVWYWx1ZSksb30sSS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEkuTmFtZVBhcnQ9KFIucHJvdG90eXBlLm5hbWVQYXJ0PVwiXCIsUi5wcm90b3R5cGUuaXNFeHRlbnNpb249ITEsUi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBSKGUpfSxSLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHIuY3JlYXRlKCkpLnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZVBhcnQpLHQudWludDMyKDE2KS5ib29sKGUuaXNFeHRlbnNpb24pLHR9LFIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFIuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQ7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lUGFydD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmlzRXh0ZW5zaW9uPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1pZighby5oYXNPd25Qcm9wZXJ0eShcIm5hbWVQYXJ0XCIpKXRocm93IHUuUHJvdG9jb2xFcnJvcihcIm1pc3NpbmcgcmVxdWlyZWQgJ25hbWVQYXJ0J1wiLHtpbnN0YW5jZTpvfSk7aWYoby5oYXNPd25Qcm9wZXJ0eShcImlzRXh0ZW5zaW9uXCIpKXJldHVybiBvO3Rocm93IHUuUHJvdG9jb2xFcnJvcihcIm1pc3NpbmcgcmVxdWlyZWQgJ2lzRXh0ZW5zaW9uJ1wiLHtpbnN0YW5jZTpvfSl9LFIuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFIudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOnUuaXNTdHJpbmcoZS5uYW1lUGFydCk/XCJib29sZWFuXCIhPXR5cGVvZiBlLmlzRXh0ZW5zaW9uP1wiaXNFeHRlbnNpb246IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsOlwibmFtZVBhcnQ6IHN0cmluZyBleHBlY3RlZFwifSxSLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0P2U6KHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQsbnVsbCE9ZS5uYW1lUGFydCYmKHQubmFtZVBhcnQ9U3RyaW5nKGUubmFtZVBhcnQpKSxudWxsIT1lLmlzRXh0ZW5zaW9uJiYodC5pc0V4dGVuc2lvbj1Cb29sZWFuKGUuaXNFeHRlbnNpb24pKSx0KX0sUi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZVBhcnQ9XCJcIixuLmlzRXh0ZW5zaW9uPSExKSxudWxsIT1lLm5hbWVQYXJ0JiZlLmhhc093blByb3BlcnR5KFwibmFtZVBhcnRcIikmJihuLm5hbWVQYXJ0PWUubmFtZVBhcnQpLG51bGwhPWUuaXNFeHRlbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJpc0V4dGVuc2lvblwiKSYmKG4uaXNFeHRlbnNpb249ZS5pc0V4dGVuc2lvbiksbn0sUi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFIpLEkpLG4uU291cmNlQ29kZUluZm89KF8ucHJvdG90eXBlLmxvY2F0aW9uPXUuZW1wdHlBcnJheSxfLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IF8oZSl9LF8uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubG9jYXRpb24mJmUubG9jYXRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5sb2NhdGlvbi5sZW5ndGg7KytuKWMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmVuY29kZShlLmxvY2F0aW9uW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxfLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxfLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mbztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5sb2NhdGlvbiYmby5sb2NhdGlvbi5sZW5ndGh8fChvLmxvY2F0aW9uPVtdKSxvLmxvY2F0aW9uLnB1c2goYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpKTplLnNraXBUeXBlKDcmcil9cmV0dXJuIG99LF8uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LF8udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubG9jYXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJsb2NhdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5sb2NhdGlvbikpcmV0dXJuXCJsb2NhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUubG9jYXRpb24ubGVuZ3RoOysrdCl7dmFyIG49Yy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24udmVyaWZ5KGUubG9jYXRpb25bdF0pO2lmKG4pcmV0dXJuXCJsb2NhdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sXy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBjLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mbylyZXR1cm4gZTt2YXIgdD1uZXcgYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm87aWYoZS5sb2NhdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS5sb2NhdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5sb2NhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5sb2NhdGlvbj1bXTtmb3IodmFyIG49MDtuPGUubG9jYXRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubG9jYXRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5sb2NhdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QubG9jYXRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uZnJvbU9iamVjdChlLmxvY2F0aW9uW25dKX19cmV0dXJuIHR9LF8udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmxvY2F0aW9uPVtdKSxlLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmxlbmd0aCl7bi5sb2NhdGlvbj1bXTtmb3IodmFyIG89MDtvPGUubG9jYXRpb24ubGVuZ3RoOysrbyluLmxvY2F0aW9uW29dPWMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnRvT2JqZWN0KGUubG9jYXRpb25bb10sdCl9cmV0dXJuIG59LF8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxfLkxvY2F0aW9uPShDLnByb3RvdHlwZS5wYXRoPXUuZW1wdHlBcnJheSxDLnByb3RvdHlwZS5zcGFuPXUuZW1wdHlBcnJheSxDLnByb3RvdHlwZS5sZWFkaW5nQ29tbWVudHM9XCJcIixDLnByb3RvdHlwZS50cmFpbGluZ0NvbW1lbnRzPVwiXCIsQy5wcm90b3R5cGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9dS5lbXB0eUFycmF5LEMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQyhlKX0sQy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXt0LnVpbnQzMigxMCkuZm9yaygpO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5pbnQzMihlLnBhdGhbbl0pO3QubGRlbGltKCl9aWYobnVsbCE9ZS5zcGFuJiZlLnNwYW4ubGVuZ3RoKXt0LnVpbnQzMigxOCkuZm9yaygpO2ZvcihuPTA7bjxlLnNwYW4ubGVuZ3RoOysrbil0LmludDMyKGUuc3BhbltuXSk7dC5sZGVsaW0oKX1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImxlYWRpbmdDb21tZW50c1wiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLmxlYWRpbmdDb21tZW50cyksbnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHJhaWxpbmdDb21tZW50c1wiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLnRyYWlsaW5nQ29tbWVudHMpLG51bGwhPWUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJmUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoKWZvcihuPTA7bjxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aDsrK24pdC51aW50MzIoNTApLnN0cmluZyhlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW25dKTtyZXR1cm4gdH0sQy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sQy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2Ygc3x8KGU9cy5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6aWYoby5wYXRoJiZvLnBhdGgubGVuZ3RofHwoby5wYXRoPVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnBhdGgucHVzaChlLmludDMyKCkpO2Vsc2Ugby5wYXRoLnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDI6aWYoby5zcGFuJiZvLnNwYW4ubGVuZ3RofHwoby5zcGFuPVtdKSwyPT0oNyZyKSlmb3IoaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8uc3Bhbi5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnNwYW4ucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMzpvLmxlYWRpbmdDb21tZW50cz1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLnRyYWlsaW5nQ29tbWVudHM9ZS5zdHJpbmcoKTticmVhaztjYXNlIDY6by5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmby5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGh8fChvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdKSxvLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxDLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxDLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXJldHVyblwicGF0aDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucGF0aC5sZW5ndGg7Kyt0KWlmKCF1LmlzSW50ZWdlcihlLnBhdGhbdF0pKXJldHVyblwicGF0aDogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5zcGFuJiZlLmhhc093blByb3BlcnR5KFwic3BhblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zcGFuKSlyZXR1cm5cInNwYW46IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuc3Bhbi5sZW5ndGg7Kyt0KWlmKCF1LmlzSW50ZWdlcihlLnNwYW5bdF0pKXJldHVyblwic3BhbjogaW50ZWdlcltdIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJsZWFkaW5nQ29tbWVudHNcIikmJiF1LmlzU3RyaW5nKGUubGVhZGluZ0NvbW1lbnRzKSlyZXR1cm5cImxlYWRpbmdDb21tZW50czogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS50cmFpbGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwidHJhaWxpbmdDb21tZW50c1wiKSYmIXUuaXNTdHJpbmcoZS50cmFpbGluZ0NvbW1lbnRzKSlyZXR1cm5cInRyYWlsaW5nQ29tbWVudHM6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJsZWFkaW5nRGV0YWNoZWRDb21tZW50c1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cykpcmV0dXJuXCJsZWFkaW5nRGV0YWNoZWRDb21tZW50czogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7Kyt0KWlmKCF1LmlzU3RyaW5nKGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbdF0pKXJldHVyblwibGVhZGluZ0RldGFjaGVkQ29tbWVudHM6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LEMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uO2lmKGUucGF0aCl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnBhdGg6IGFycmF5IGV4cGVjdGVkXCIpO3QucGF0aD1bXTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQucGF0aFtuXT0wfGUucGF0aFtuXX1pZihlLnNwYW4pe2lmKCFBcnJheS5pc0FycmF5KGUuc3BhbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5zcGFuOiBhcnJheSBleHBlY3RlZFwiKTt0LnNwYW49W107Zm9yKG49MDtuPGUuc3Bhbi5sZW5ndGg7KytuKXQuc3BhbltuXT0wfGUuc3BhbltuXX1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmKHQubGVhZGluZ0NvbW1lbnRzPVN0cmluZyhlLmxlYWRpbmdDb21tZW50cykpLG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmKHQudHJhaWxpbmdDb21tZW50cz1TdHJpbmcoZS50cmFpbGluZ0NvbW1lbnRzKSksZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyl7aWYoIUFycmF5LmlzQXJyYXkoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cykpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5sZWFkaW5nRGV0YWNoZWRDb21tZW50czogYXJyYXkgZXhwZWN0ZWRcIik7dC5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXTtmb3Iobj0wO248ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7KytuKXQubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbbl09U3RyaW5nKGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbbl0pfXJldHVybiB0fSxDLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5wYXRoPVtdLG4uc3Bhbj1bXSxuLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPVtdKSx0LmRlZmF1bHRzJiYobi5sZWFkaW5nQ29tbWVudHM9XCJcIixuLnRyYWlsaW5nQ29tbWVudHM9XCJcIiksZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXtuLnBhdGg9W107Zm9yKHZhciBvPTA7bzxlLnBhdGgubGVuZ3RoOysrbyluLnBhdGhbb109ZS5wYXRoW29dfWlmKGUuc3BhbiYmZS5zcGFuLmxlbmd0aCl7bi5zcGFuPVtdO2ZvcihvPTA7bzxlLnNwYW4ubGVuZ3RoOysrbyluLnNwYW5bb109ZS5zcGFuW29dfWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwibGVhZGluZ0NvbW1lbnRzXCIpJiYobi5sZWFkaW5nQ29tbWVudHM9ZS5sZWFkaW5nQ29tbWVudHMpLG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcInRyYWlsaW5nQ29tbWVudHNcIikmJihuLnRyYWlsaW5nQ29tbWVudHM9ZS50cmFpbGluZ0NvbW1lbnRzKSxlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aCl7bi5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXTtmb3Iobz0wO288ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7KytvKW4ubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbb109ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tvXX1yZXR1cm4gbn0sQy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEMpLF8pLG4uR2VuZXJhdGVkQ29kZUluZm89KEoucHJvdG90eXBlLmFubm90YXRpb249dS5lbXB0eUFycmF5LEouY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSihlKX0sSi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5hbm5vdGF0aW9uJiZlLmFubm90YXRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK24pYy5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5lbmNvZGUoZS5hbm5vdGF0aW9uW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxKLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxKLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mbztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5hbm5vdGF0aW9uJiZvLmFubm90YXRpb24ubGVuZ3RofHwoby5hbm5vdGF0aW9uPVtdKSxvLmFubm90YXRpb24ucHVzaChjLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxKLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxKLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFubm90YXRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJhbm5vdGF0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmFubm90YXRpb24pKXJldHVyblwiYW5ub3RhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuYW5ub3RhdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1jLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnZlcmlmeShlLmFubm90YXRpb25bdF0pO2lmKG4pcmV0dXJuXCJhbm5vdGF0aW9uLlwiK259fXJldHVybiBudWxsfSxKLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvKXJldHVybiBlO3ZhciB0PW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mbztpZihlLmFubm90YXRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUuYW5ub3RhdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5hbm5vdGF0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmFubm90YXRpb249W107Zm9yKHZhciBuPTA7bjxlLmFubm90YXRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuYW5ub3RhdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLmFubm90YXRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmFubm90YXRpb25bbl09Yy5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5mcm9tT2JqZWN0KGUuYW5ub3RhdGlvbltuXSl9fXJldHVybiB0fSxKLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5hbm5vdGF0aW9uPVtdKSxlLmFubm90YXRpb24mJmUuYW5ub3RhdGlvbi5sZW5ndGgpe24uYW5ub3RhdGlvbj1bXTtmb3IodmFyIG89MDtvPGUuYW5ub3RhdGlvbi5sZW5ndGg7KytvKW4uYW5ub3RhdGlvbltvXT1jLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uLnRvT2JqZWN0KGUuYW5ub3RhdGlvbltvXSx0KX1yZXR1cm4gbn0sSi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEouQW5ub3RhdGlvbj0oVi5wcm90b3R5cGUucGF0aD11LmVtcHR5QXJyYXksVi5wcm90b3R5cGUuc291cmNlRmlsZT1cIlwiLFYucHJvdG90eXBlLmJlZ2luPTAsVi5wcm90b3R5cGUuZW5kPTAsVi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBWKGUpfSxWLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnBhdGgmJmUucGF0aC5sZW5ndGgpe3QudWludDMyKDEwKS5mb3JrKCk7Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LmludDMyKGUucGF0aFtuXSk7dC5sZGVsaW0oKX1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic291cmNlRmlsZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLnNvdXJjZUZpbGUpLG51bGwhPWUuYmVnaW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJiZWdpblwiKSYmdC51aW50MzIoMjQpLmludDMyKGUuYmVnaW4pLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigzMikuaW50MzIoZS5lbmQpLHR9LFYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIHN8fChlPXMuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb247ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6aWYoby5wYXRoJiZvLnBhdGgubGVuZ3RofHwoby5wYXRoPVtdKSwyPT0oNyZyKSlmb3IodmFyIGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnBhdGgucHVzaChlLmludDMyKCkpO2Vsc2Ugby5wYXRoLnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDI6by5zb3VyY2VGaWxlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8uYmVnaW49ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNDpvLmVuZD1lLmludDMyKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxWLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHN8fChlPW5ldyBzKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxWLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBhdGgmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXJldHVyblwicGF0aDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUucGF0aC5sZW5ndGg7Kyt0KWlmKCF1LmlzSW50ZWdlcihlLnBhdGhbdF0pKXJldHVyblwicGF0aDogaW50ZWdlcltdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUZpbGVcIikmJiF1LmlzU3RyaW5nKGUuc291cmNlRmlsZSk/XCJzb3VyY2VGaWxlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLmJlZ2luJiZlLmhhc093blByb3BlcnR5KFwiYmVnaW5cIikmJiF1LmlzSW50ZWdlcihlLmJlZ2luKT9cImJlZ2luOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiF1LmlzSW50ZWdlcihlLmVuZCk/XCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsfSxWLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb247aWYoZS5wYXRoKXtpZighQXJyYXkuaXNBcnJheShlLnBhdGgpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5wYXRoOiBhcnJheSBleHBlY3RlZFwiKTt0LnBhdGg9W107Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LnBhdGhbbl09MHxlLnBhdGhbbl19cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmKHQuc291cmNlRmlsZT1TdHJpbmcoZS5zb3VyY2VGaWxlKSksbnVsbCE9ZS5iZWdpbiYmKHQuYmVnaW49MHxlLmJlZ2luKSxudWxsIT1lLmVuZCYmKHQuZW5kPTB8ZS5lbmQpLHR9LFYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnBhdGg9W10pLHQuZGVmYXVsdHMmJihuLnNvdXJjZUZpbGU9XCJcIixuLmJlZ2luPTAsbi5lbmQ9MCksZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXtuLnBhdGg9W107Zm9yKHZhciBvPTA7bzxlLnBhdGgubGVuZ3RoOysrbyluLnBhdGhbb109ZS5wYXRoW29dfXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VGaWxlXCIpJiYobi5zb3VyY2VGaWxlPWUuc291cmNlRmlsZSksbnVsbCE9ZS5iZWdpbiYmZS5oYXNPd25Qcm9wZXJ0eShcImJlZ2luXCIpJiYobi5iZWdpbj1lLmJlZ2luKSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxufSxWLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sViksSiksbi5Bbnk9KEgucHJvdG90eXBlLnR5cGVfdXJsPVwiXCIsSC5wcm90b3R5cGUudmFsdWU9dS5uZXdCdWZmZXIoW10pLEguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSChlKX0sSC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUudHlwZV91cmwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlX3VybFwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLnR5cGVfdXJsKSxudWxsIT1lLnZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidmFsdWVcIikmJnQudWludDMyKDE4KS5ieXRlcyhlLnZhbHVlKSx0fSxILmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxILmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBzfHwoZT1zLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBjLmdvb2dsZS5wcm90b2J1Zi5Bbnk7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by50eXBlX3VybD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnZhbHVlPWUuYnl0ZXMoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LEguZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3x8KGU9bmV3IHMoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LEgudmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUudHlwZV91cmwmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlX3VybFwiKSYmIXUuaXNTdHJpbmcoZS50eXBlX3VybCk/XCJ0eXBlX3VybDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYhKGUudmFsdWUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnZhbHVlLmxlbmd0aHx8dS5pc1N0cmluZyhlLnZhbHVlKSk/XCJ2YWx1ZTogYnVmZmVyIGV4cGVjdGVkXCI6bnVsbH0sSC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgYy5nb29nbGUucHJvdG9idWYuQW55P2U6KHQ9bmV3IGMuZ29vZ2xlLnByb3RvYnVmLkFueSxudWxsIT1lLnR5cGVfdXJsJiYodC50eXBlX3VybD1TdHJpbmcoZS50eXBlX3VybCkpLG51bGwhPWUudmFsdWUmJihcInN0cmluZ1wiPT10eXBlb2YgZS52YWx1ZT91LmJhc2U2NC5kZWNvZGUoZS52YWx1ZSx0LnZhbHVlPXUubmV3QnVmZmVyKHUuYmFzZTY0Lmxlbmd0aChlLnZhbHVlKSksMCk6ZS52YWx1ZS5sZW5ndGgmJih0LnZhbHVlPWUudmFsdWUpKSx0KX0sSC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4udHlwZV91cmw9XCJcIix0LmJ5dGVzPT09U3RyaW5nP24udmFsdWU9XCJcIjoobi52YWx1ZT1bXSx0LmJ5dGVzIT09QXJyYXkmJihuLnZhbHVlPXUubmV3QnVmZmVyKG4udmFsdWUpKSkpLG51bGwhPWUudHlwZV91cmwmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlX3VybFwiKSYmKG4udHlwZV91cmw9ZS50eXBlX3VybCksbnVsbCE9ZS52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpJiYobi52YWx1ZT10LmJ5dGVzPT09U3RyaW5nP3UuYmFzZTY0LmVuY29kZShlLnZhbHVlLDAsZS52YWx1ZS5sZW5ndGgpOnQuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnZhbHVlKTplLnZhbHVlKSxufSxILnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSCksbiksRiksY30pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/protos/locations.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/protos/operations.js":
/*!************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/operations.js ***!
  \************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(e=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! protobufjs/minimal */ \"(rsc)/./node_modules/protobufjs/minimal.js\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0})(function(o){var e,t,n,F,a=o.Reader,r=o.Writer,i=o.util,p=o.roots.operations_protos||(o.roots.operations_protos={});function G(e,t,n){o.rpc.Service.call(this,e,t,n)}function l(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function B(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function s(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function u(e){if(this.operations=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function L(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function c(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function z(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(this.uninterpretedOption=[],this[\".google.api.methodSignature\"]=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function q(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Y(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function W(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function X(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function K(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Q(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(this.details=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return p.google=((F={}).longrunning=((t={}).Operations=(((G.prototype=Object.create(o.rpc.Service.prototype)).constructor=G).create=function(e,t,n){return new this(e,t,n)},Object.defineProperty(G.prototype.listOperations=function e(t,n){return this.rpcCall(e,p.google.longrunning.ListOperationsRequest,p.google.longrunning.ListOperationsResponse,t,n)},\"name\",{value:\"ListOperations\"}),Object.defineProperty(G.prototype.getOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.GetOperationRequest,p.google.longrunning.Operation,t,n)},\"name\",{value:\"GetOperation\"}),Object.defineProperty(G.prototype.deleteOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.DeleteOperationRequest,p.google.protobuf.Empty,t,n)},\"name\",{value:\"DeleteOperation\"}),Object.defineProperty(G.prototype.cancelOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.CancelOperationRequest,p.google.protobuf.Empty,t,n)},\"name\",{value:\"CancelOperation\"}),Object.defineProperty(G.prototype.waitOperation=function e(t,n){return this.rpcCall(e,p.google.longrunning.WaitOperationRequest,p.google.longrunning.Operation,t,n)},\"name\",{value:\"WaitOperation\"}),G),t.Operation=(l.prototype.name=\"\",l.prototype.metadata=null,l.prototype.done=!1,l.prototype.error=null,l.prototype.response=null,Object.defineProperty(l.prototype,\"result\",{get:i.oneOfGetter(n=[\"error\",\"response\"]),set:i.oneOfSetter(n)}),l.create=function(e){return new l(e)},l.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.metadata&&Object.hasOwnProperty.call(e,\"metadata\")&&p.google.protobuf.Any.encode(e.metadata,t.uint32(18).fork()).ldelim(),null!=e.done&&Object.hasOwnProperty.call(e,\"done\")&&t.uint32(24).bool(e.done),null!=e.error&&Object.hasOwnProperty.call(e,\"error\")&&p.google.rpc.Status.encode(e.error,t.uint32(34).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,\"response\")&&p.google.protobuf.Any.encode(e.response,t.uint32(42).fork()).ldelim(),t},l.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},l.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.Operation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.metadata=p.google.protobuf.Any.decode(e,e.uint32());break;case 3:o.done=e.bool();break;case 4:o.error=p.google.rpc.Status.decode(e,e.uint32());break;case 5:o.response=p.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},l.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},l.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t,n={};if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.metadata&&e.hasOwnProperty(\"metadata\")&&(t=p.google.protobuf.Any.verify(e.metadata)))return\"metadata.\"+t;if(null!=e.done&&e.hasOwnProperty(\"done\")&&\"boolean\"!=typeof e.done)return\"done: boolean expected\";if(null!=e.error&&e.hasOwnProperty(\"error\")&&(n.result=1,t=p.google.rpc.Status.verify(e.error)))return\"error.\"+t;if(null!=e.response&&e.hasOwnProperty(\"response\")){if(1===n.result)return\"result: multiple values\";if(n.result=1,t=p.google.protobuf.Any.verify(e.response))return\"response.\"+t}return null},l.fromObject=function(e){if(e instanceof p.google.longrunning.Operation)return e;var t=new p.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if(\"object\"!=typeof e.metadata)throw TypeError(\".google.longrunning.Operation.metadata: object expected\");t.metadata=p.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if(\"object\"!=typeof e.error)throw TypeError(\".google.longrunning.Operation.error: object expected\");t.error=p.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if(\"object\"!=typeof e.response)throw TypeError(\".google.longrunning.Operation.response: object expected\");t.response=p.google.protobuf.Any.fromObject(e.response)}return t},l.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.metadata=null,n.done=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.metadata&&e.hasOwnProperty(\"metadata\")&&(n.metadata=p.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty(\"done\")&&(n.done=e.done),null!=e.error&&e.hasOwnProperty(\"error\")&&(n.error=p.google.rpc.Status.toObject(e.error,t),t.oneofs)&&(n.result=\"error\"),null!=e.response&&e.hasOwnProperty(\"response\")&&(n.response=p.google.protobuf.Any.toObject(e.response,t),t.oneofs)&&(n.result=\"response\"),n},l.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},l),t.GetOperationRequest=(B.prototype.name=\"\",B.create=function(e){return new B(e)},B.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.GetOperationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},B.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},B.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null},B.fromObject=function(e){var t;return e instanceof p.google.longrunning.GetOperationRequest?e:(t=new p.google.longrunning.GetOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},B.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},B.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},B),t.ListOperationsRequest=(s.prototype.name=\"\",s.prototype.filter=\"\",s.prototype.pageSize=0,s.prototype.pageToken=\"\",s.create=function(e){return new s(e)},s.encode=function(e,t){return t=t||r.create(),null!=e.filter&&Object.hasOwnProperty.call(e,\"filter\")&&t.uint32(10).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,\"pageSize\")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,\"pageToken\")&&t.uint32(26).string(e.pageToken),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(34).string(e.name),t},s.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},s.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.ListOperationsRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 4:o.name=e.string();break;case 1:o.filter=e.string();break;case 2:o.pageSize=e.int32();break;case 3:o.pageToken=e.string();break;default:e.skipType(7&r)}}return o},s.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},s.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null!=e.filter&&e.hasOwnProperty(\"filter\")&&!i.isString(e.filter)?\"filter: string expected\":null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&!i.isInteger(e.pageSize)?\"pageSize: integer expected\":null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&!i.isString(e.pageToken)?\"pageToken: string expected\":null},s.fromObject=function(e){var t;return e instanceof p.google.longrunning.ListOperationsRequest?e:(t=new p.google.longrunning.ListOperationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},s.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.filter=\"\",n.pageSize=0,n.pageToken=\"\",n.name=\"\"),null!=e.filter&&e.hasOwnProperty(\"filter\")&&(n.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty(\"pageSize\")&&(n.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty(\"pageToken\")&&(n.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},s.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},s),t.ListOperationsResponse=(u.prototype.operations=i.emptyArray,u.prototype.nextPageToken=\"\",u.create=function(e){return new u(e)},u.encode=function(e,t){if(t=t||r.create(),null!=e.operations&&e.operations.length)for(var n=0;n<e.operations.length;++n)p.google.longrunning.Operation.encode(e.operations[n],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,\"nextPageToken\")&&t.uint32(18).string(e.nextPageToken),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.ListOperationsResponse;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.operations&&o.operations.length||(o.operations=[]),o.operations.push(p.google.longrunning.Operation.decode(e,e.uint32()));break;case 2:o.nextPageToken=e.string();break;default:e.skipType(7&r)}}return o},u.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},u.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.operations&&e.hasOwnProperty(\"operations\")){if(!Array.isArray(e.operations))return\"operations: array expected\";for(var t=0;t<e.operations.length;++t){var n=p.google.longrunning.Operation.verify(e.operations[t]);if(n)return\"operations.\"+n}}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&!i.isString(e.nextPageToken)?\"nextPageToken: string expected\":null},u.fromObject=function(e){if(e instanceof p.google.longrunning.ListOperationsResponse)return e;var t=new p.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(\".google.longrunning.ListOperationsResponse.operations: array expected\");t.operations=[];for(var n=0;n<e.operations.length;++n){if(\"object\"!=typeof e.operations[n])throw TypeError(\".google.longrunning.ListOperationsResponse.operations: object expected\");t.operations[n]=p.google.longrunning.Operation.fromObject(e.operations[n])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},u.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.operations=[]),t.defaults&&(n.nextPageToken=\"\"),e.operations&&e.operations.length){n.operations=[];for(var o=0;o<e.operations.length;++o)n.operations[o]=p.google.longrunning.Operation.toObject(e.operations[o],t)}return null!=e.nextPageToken&&e.hasOwnProperty(\"nextPageToken\")&&(n.nextPageToken=e.nextPageToken),n},u.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},u),t.CancelOperationRequest=(L.prototype.name=\"\",L.create=function(e){return new L(e)},L.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.CancelOperationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},L.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},L.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null},L.fromObject=function(e){var t;return e instanceof p.google.longrunning.CancelOperationRequest?e:(t=new p.google.longrunning.CancelOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},L.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},L.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},L),t.DeleteOperationRequest=(U.prototype.name=\"\",U.create=function(e){return new U(e)},U.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.DeleteOperationRequest;e.pos<n;){var r=e.uint32();r>>>3==1?o.name=e.string():e.skipType(7&r)}return o},U.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},U.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name)?\"name: string expected\":null},U.fromObject=function(e){var t;return e instanceof p.google.longrunning.DeleteOperationRequest?e:(t=new p.google.longrunning.DeleteOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},U.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),n},U.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},U),t.WaitOperationRequest=(c.prototype.name=\"\",c.prototype.timeout=null,c.create=function(e){return new c(e)},c.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.timeout&&Object.hasOwnProperty.call(e,\"timeout\")&&p.google.protobuf.Duration.encode(e.timeout,t.uint32(18).fork()).ldelim(),t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.WaitOperationRequest;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.timeout=p.google.protobuf.Duration.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},c.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},c.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.timeout&&e.hasOwnProperty(\"timeout\")){e=p.google.protobuf.Duration.verify(e.timeout);if(e)return\"timeout.\"+e}return null},c.fromObject=function(e){if(e instanceof p.google.longrunning.WaitOperationRequest)return e;var t=new p.google.longrunning.WaitOperationRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.timeout){if(\"object\"!=typeof e.timeout)throw TypeError(\".google.longrunning.WaitOperationRequest.timeout: object expected\");t.timeout=p.google.protobuf.Duration.fromObject(e.timeout)}return t},c.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.timeout=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.timeout&&e.hasOwnProperty(\"timeout\")&&(n.timeout=p.google.protobuf.Duration.toObject(e.timeout,t)),n},c.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},c),t.OperationInfo=(d.prototype.responseType=\"\",d.prototype.metadataType=\"\",d.create=function(e){return new d(e)},d.encode=function(e,t){return t=t||r.create(),null!=e.responseType&&Object.hasOwnProperty.call(e,\"responseType\")&&t.uint32(10).string(e.responseType),null!=e.metadataType&&Object.hasOwnProperty.call(e,\"metadataType\")&&t.uint32(18).string(e.metadataType),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.longrunning.OperationInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.responseType=e.string();break;case 2:o.metadataType=e.string();break;default:e.skipType(7&r)}}return o},d.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},d.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.responseType&&e.hasOwnProperty(\"responseType\")&&!i.isString(e.responseType)?\"responseType: string expected\":null!=e.metadataType&&e.hasOwnProperty(\"metadataType\")&&!i.isString(e.metadataType)?\"metadataType: string expected\":null},d.fromObject=function(e){var t;return e instanceof p.google.longrunning.OperationInfo?e:(t=new p.google.longrunning.OperationInfo,null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t)},d.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.responseType=\"\",n.metadataType=\"\"),null!=e.responseType&&e.hasOwnProperty(\"responseType\")&&(n.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty(\"metadataType\")&&(n.metadataType=e.metadataType),n},d.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},d),t),F.api=((n={}).Http=(g.prototype.rules=i.emptyArray,g.prototype.fullyDecodeReservedExpansion=!1,g.create=function(e){return new g(e)},g.encode=function(e,t){if(t=t||r.create(),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)p.google.api.HttpRule.encode(e.rules[n],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,\"fullyDecodeReservedExpansion\")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.api.Http;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.rules&&o.rules.length||(o.rules=[]),o.rules.push(p.google.api.HttpRule.decode(e,e.uint32()));break;case 2:o.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&r)}}return o},g.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},g.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.rules&&e.hasOwnProperty(\"rules\")){if(!Array.isArray(e.rules))return\"rules: array expected\";for(var t=0;t<e.rules.length;++t){var n=p.google.api.HttpRule.verify(e.rules[t]);if(n)return\"rules.\"+n}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&\"boolean\"!=typeof e.fullyDecodeReservedExpansion?\"fullyDecodeReservedExpansion: boolean expected\":null},g.fromObject=function(e){if(e instanceof p.google.api.Http)return e;var t=new p.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(\".google.api.Http.rules: array expected\");t.rules=[];for(var n=0;n<e.rules.length;++n){if(\"object\"!=typeof e.rules[n])throw TypeError(\".google.api.Http.rules: object expected\");t.rules[n]=p.google.api.HttpRule.fromObject(e.rules[n])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},g.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){n.rules=[];for(var o=0;o<e.rules.length;++o)n.rules[o]=p.google.api.HttpRule.toObject(e.rules[o],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty(\"fullyDecodeReservedExpansion\")&&(n.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),n},g.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},g),n.HttpRule=(f.prototype.selector=\"\",f.prototype.get=\"\",f.prototype.put=\"\",f.prototype.post=\"\",f.prototype.delete=\"\",f.prototype.patch=\"\",f.prototype.custom=null,f.prototype.body=\"\",f.prototype.responseBody=\"\",f.prototype.additionalBindings=i.emptyArray,Object.defineProperty(f.prototype,\"pattern\",{get:i.oneOfGetter(t=[\"get\",\"put\",\"post\",\"delete\",\"patch\",\"custom\"]),set:i.oneOfSetter(t)}),f.create=function(e){return new f(e)},f.encode=function(e,t){if(t=t||r.create(),null!=e.selector&&Object.hasOwnProperty.call(e,\"selector\")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,\"get\")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,\"put\")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,\"post\")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,\"delete\")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,\"patch\")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,\"body\")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,\"custom\")&&p.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var n=0;n<e.additionalBindings.length;++n)p.google.api.HttpRule.encode(e.additionalBindings[n],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,\"responseBody\")&&t.uint32(98).string(e.responseBody),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.api.HttpRule;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.selector=e.string();break;case 2:o.get=e.string();break;case 3:o.put=e.string();break;case 4:o.post=e.string();break;case 5:o.delete=e.string();break;case 6:o.patch=e.string();break;case 8:o.custom=p.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:o.body=e.string();break;case 12:o.responseBody=e.string();break;case 11:o.additionalBindings&&o.additionalBindings.length||(o.additionalBindings=[]),o.additionalBindings.push(p.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},f.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},f.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";var t={};if(null!=e.selector&&e.hasOwnProperty(\"selector\")&&!i.isString(e.selector))return\"selector: string expected\";if(null!=e.get&&e.hasOwnProperty(\"get\")&&(t.pattern=1,!i.isString(e.get)))return\"get: string expected\";if(null!=e.put&&e.hasOwnProperty(\"put\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.put))return\"put: string expected\"}if(null!=e.post&&e.hasOwnProperty(\"post\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.post))return\"post: string expected\"}if(null!=e.delete&&e.hasOwnProperty(\"delete\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.delete))return\"delete: string expected\"}if(null!=e.patch&&e.hasOwnProperty(\"patch\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,!i.isString(e.patch))return\"patch: string expected\"}if(null!=e.custom&&e.hasOwnProperty(\"custom\")){if(1===t.pattern)return\"pattern: multiple values\";if(t.pattern=1,n=p.google.api.CustomHttpPattern.verify(e.custom))return\"custom.\"+n}if(null!=e.body&&e.hasOwnProperty(\"body\")&&!i.isString(e.body))return\"body: string expected\";if(null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&!i.isString(e.responseBody))return\"responseBody: string expected\";if(null!=e.additionalBindings&&e.hasOwnProperty(\"additionalBindings\")){if(!Array.isArray(e.additionalBindings))return\"additionalBindings: array expected\";for(var n,o=0;o<e.additionalBindings.length;++o)if(n=p.google.api.HttpRule.verify(e.additionalBindings[o]))return\"additionalBindings.\"+n}return null},f.fromObject=function(e){if(e instanceof p.google.api.HttpRule)return e;var t=new p.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if(\"object\"!=typeof e.custom)throw TypeError(\".google.api.HttpRule.custom: object expected\");t.custom=p.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(\".google.api.HttpRule.additionalBindings: array expected\");t.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n){if(\"object\"!=typeof e.additionalBindings[n])throw TypeError(\".google.api.HttpRule.additionalBindings: object expected\");t.additionalBindings[n]=p.google.api.HttpRule.fromObject(e.additionalBindings[n])}}return t},f.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.additionalBindings=[]),t.defaults&&(n.selector=\"\",n.body=\"\",n.responseBody=\"\"),null!=e.selector&&e.hasOwnProperty(\"selector\")&&(n.selector=e.selector),null!=e.get&&e.hasOwnProperty(\"get\")&&(n.get=e.get,t.oneofs)&&(n.pattern=\"get\"),null!=e.put&&e.hasOwnProperty(\"put\")&&(n.put=e.put,t.oneofs)&&(n.pattern=\"put\"),null!=e.post&&e.hasOwnProperty(\"post\")&&(n.post=e.post,t.oneofs)&&(n.pattern=\"post\"),null!=e.delete&&e.hasOwnProperty(\"delete\")&&(n.delete=e.delete,t.oneofs)&&(n.pattern=\"delete\"),null!=e.patch&&e.hasOwnProperty(\"patch\")&&(n.patch=e.patch,t.oneofs)&&(n.pattern=\"patch\"),null!=e.body&&e.hasOwnProperty(\"body\")&&(n.body=e.body),null!=e.custom&&e.hasOwnProperty(\"custom\")&&(n.custom=p.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(n.pattern=\"custom\"),e.additionalBindings&&e.additionalBindings.length){n.additionalBindings=[];for(var o=0;o<e.additionalBindings.length;++o)n.additionalBindings[o]=p.google.api.HttpRule.toObject(e.additionalBindings[o],t)}return null!=e.responseBody&&e.hasOwnProperty(\"responseBody\")&&(n.responseBody=e.responseBody),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f),n.CustomHttpPattern=(y.prototype.kind=\"\",y.prototype.path=\"\",y.create=function(e){return new y(e)},y.encode=function(e,t){return t=t||r.create(),null!=e.kind&&Object.hasOwnProperty.call(e,\"kind\")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,\"path\")&&t.uint32(18).string(e.path),t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.api.CustomHttpPattern;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.kind=e.string();break;case 2:o.path=e.string();break;default:e.skipType(7&r)}}return o},y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},y.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.kind&&e.hasOwnProperty(\"kind\")&&!i.isString(e.kind)?\"kind: string expected\":null!=e.path&&e.hasOwnProperty(\"path\")&&!i.isString(e.path)?\"path: string expected\":null},y.fromObject=function(e){var t;return e instanceof p.google.api.CustomHttpPattern?e:(t=new p.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},y.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.kind=\"\",n.path=\"\"),null!=e.kind&&e.hasOwnProperty(\"kind\")&&(n.kind=e.kind),null!=e.path&&e.hasOwnProperty(\"path\")&&(n.path=e.path),n},y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},y),n),F.protobuf=((t={}).FileDescriptorSet=(J.prototype.file=i.emptyArray,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||r.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)p.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(p.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},J.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},J.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.file&&e.hasOwnProperty(\"file\")){if(!Array.isArray(e.file))return\"file: array expected\";for(var t=0;t<e.file.length;++t){var n=p.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(n)return\"file.\"+n}}return null},J.fromObject=function(e){if(e instanceof p.google.protobuf.FileDescriptorSet)return e;var t=new p.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(\".google.protobuf.FileDescriptorSet.file: array expected\");t.file=[];for(var n=0;n<e.file.length;++n){if(\"object\"!=typeof e.file[n])throw TypeError(\".google.protobuf.FileDescriptorSet.file: object expected\");t.file[n]=p.google.protobuf.FileDescriptorProto.fromObject(e.file[n])}}return t},J.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.file=[]),e.file&&e.file.length){n.file=[];for(var o=0;o<e.file.length;++o)n.file[o]=p.google.protobuf.FileDescriptorProto.toObject(e.file[o],t)}return n},J.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},J),t.FileDescriptorProto=(h.prototype.name=\"\",h.prototype.package=\"\",h.prototype.dependency=i.emptyArray,h.prototype.publicDependency=i.emptyArray,h.prototype.weakDependency=i.emptyArray,h.prototype.messageType=i.emptyArray,h.prototype.enumType=i.emptyArray,h.prototype.service=i.emptyArray,h.prototype.extension=i.emptyArray,h.prototype.options=null,h.prototype.sourceCodeInfo=null,h.prototype.syntax=\"\",h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,\"package\")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)p.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)p.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)p.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)p.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,\"sourceCodeInfo\")&&p.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,\"syntax\")&&t.uint32(98).string(e.syntax),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(p.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(p.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(p.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=p.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},h.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},h.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.package&&e.hasOwnProperty(\"package\")&&!i.isString(e.package))return\"package: string expected\";if(null!=e.dependency&&e.hasOwnProperty(\"dependency\")){if(!Array.isArray(e.dependency))return\"dependency: array expected\";for(var t=0;t<e.dependency.length;++t)if(!i.isString(e.dependency[t]))return\"dependency: string[] expected\"}if(null!=e.publicDependency&&e.hasOwnProperty(\"publicDependency\")){if(!Array.isArray(e.publicDependency))return\"publicDependency: array expected\";for(t=0;t<e.publicDependency.length;++t)if(!i.isInteger(e.publicDependency[t]))return\"publicDependency: integer[] expected\"}if(null!=e.weakDependency&&e.hasOwnProperty(\"weakDependency\")){if(!Array.isArray(e.weakDependency))return\"weakDependency: array expected\";for(t=0;t<e.weakDependency.length;++t)if(!i.isInteger(e.weakDependency[t]))return\"weakDependency: integer[] expected\"}if(null!=e.messageType&&e.hasOwnProperty(\"messageType\")){if(!Array.isArray(e.messageType))return\"messageType: array expected\";for(t=0;t<e.messageType.length;++t)if(n=p.google.protobuf.DescriptorProto.verify(e.messageType[t]))return\"messageType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=p.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.service&&e.hasOwnProperty(\"service\")){if(!Array.isArray(e.service))return\"service: array expected\";for(t=0;t<e.service.length;++t)if(n=p.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return\"service.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=p.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.FileOptions.verify(e.options)))return\"options.\"+n;if(null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n=p.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo)))return\"sourceCodeInfo.\"+n;return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&!i.isString(e.syntax)?\"syntax: string expected\":null},h.fromObject=function(e){if(e instanceof p.google.protobuf.FileDescriptorProto)return e;var t=new p.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(\".google.protobuf.FileDescriptorProto.dependency: array expected\");t.dependency=[];for(var n=0;n<e.dependency.length;++n)t.dependency[n]=String(e.dependency[n])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.publicDependency: array expected\");t.publicDependency=[];for(n=0;n<e.publicDependency.length;++n)t.publicDependency[n]=0|e.publicDependency[n]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(\".google.protobuf.FileDescriptorProto.weakDependency: array expected\");t.weakDependency=[];for(n=0;n<e.weakDependency.length;++n)t.weakDependency[n]=0|e.weakDependency[n]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: array expected\");t.messageType=[];for(n=0;n<e.messageType.length;++n){if(\"object\"!=typeof e.messageType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.messageType: object expected\");t.messageType[n]=p.google.protobuf.DescriptorProto.fromObject(e.messageType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.FileDescriptorProto.enumType: object expected\");t.enumType[n]=p.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(\".google.protobuf.FileDescriptorProto.service: array expected\");t.service=[];for(n=0;n<e.service.length;++n){if(\"object\"!=typeof e.service[n])throw TypeError(\".google.protobuf.FileDescriptorProto.service: object expected\");t.service[n]=p.google.protobuf.ServiceDescriptorProto.fromObject(e.service[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.FileDescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.FileDescriptorProto.extension: object expected\");t.extension[n]=p.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FileDescriptorProto.options: object expected\");t.options=p.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if(\"object\"!=typeof e.sourceCodeInfo)throw TypeError(\".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected\");t.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},h.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.dependency=[],n.messageType=[],n.enumType=[],n.service=[],n.extension=[],n.publicDependency=[],n.weakDependency=[]),t.defaults&&(n.name=\"\",n.package=\"\",n.options=null,n.sourceCodeInfo=null,n.syntax=\"\"),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.package&&e.hasOwnProperty(\"package\")&&(n.package=e.package),e.dependency&&e.dependency.length){n.dependency=[];for(var o=0;o<e.dependency.length;++o)n.dependency[o]=e.dependency[o]}if(e.messageType&&e.messageType.length){n.messageType=[];for(o=0;o<e.messageType.length;++o)n.messageType[o]=p.google.protobuf.DescriptorProto.toObject(e.messageType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=p.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.service&&e.service.length){n.service=[];for(o=0;o<e.service.length;++o)n.service[o]=p.google.protobuf.ServiceDescriptorProto.toObject(e.service[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=p.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty(\"sourceCodeInfo\")&&(n.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length){n.publicDependency=[];for(o=0;o<e.publicDependency.length;++o)n.publicDependency[o]=e.publicDependency[o]}if(e.weakDependency&&e.weakDependency.length){n.weakDependency=[];for(o=0;o<e.weakDependency.length;++o)n.weakDependency[o]=e.weakDependency[o]}return null!=e.syntax&&e.hasOwnProperty(\"syntax\")&&(n.syntax=e.syntax),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},h),t.DescriptorProto=(O.prototype.name=\"\",O.prototype.field=i.emptyArray,O.prototype.extension=i.emptyArray,O.prototype.nestedType=i.emptyArray,O.prototype.enumType=i.emptyArray,O.prototype.extensionRange=i.emptyArray,O.prototype.oneofDecl=i.emptyArray,O.prototype.options=null,O.prototype.reservedRange=i.emptyArray,O.prototype.reservedName=i.emptyArray,O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)p.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)p.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)p.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)p.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)p.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)p.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)p.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(p.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(p.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(p.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(p.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=p.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(p.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},O.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},O.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.field&&e.hasOwnProperty(\"field\")){if(!Array.isArray(e.field))return\"field: array expected\";for(var t=0;t<e.field.length;++t)if(n=p.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return\"field.\"+n}if(null!=e.extension&&e.hasOwnProperty(\"extension\")){if(!Array.isArray(e.extension))return\"extension: array expected\";for(t=0;t<e.extension.length;++t)if(n=p.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return\"extension.\"+n}if(null!=e.nestedType&&e.hasOwnProperty(\"nestedType\")){if(!Array.isArray(e.nestedType))return\"nestedType: array expected\";for(t=0;t<e.nestedType.length;++t)if(n=p.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return\"nestedType.\"+n}if(null!=e.enumType&&e.hasOwnProperty(\"enumType\")){if(!Array.isArray(e.enumType))return\"enumType: array expected\";for(t=0;t<e.enumType.length;++t)if(n=p.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return\"enumType.\"+n}if(null!=e.extensionRange&&e.hasOwnProperty(\"extensionRange\")){if(!Array.isArray(e.extensionRange))return\"extensionRange: array expected\";for(t=0;t<e.extensionRange.length;++t)if(n=p.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return\"extensionRange.\"+n}if(null!=e.oneofDecl&&e.hasOwnProperty(\"oneofDecl\")){if(!Array.isArray(e.oneofDecl))return\"oneofDecl: array expected\";for(t=0;t<e.oneofDecl.length;++t)if(n=p.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return\"oneofDecl.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.MessageOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=p.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!i.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},O.fromObject=function(e){if(e instanceof p.google.protobuf.DescriptorProto)return e;var t=new p.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(\".google.protobuf.DescriptorProto.field: array expected\");t.field=[];for(var n=0;n<e.field.length;++n){if(\"object\"!=typeof e.field[n])throw TypeError(\".google.protobuf.DescriptorProto.field: object expected\");t.field[n]=p.google.protobuf.FieldDescriptorProto.fromObject(e.field[n])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(\".google.protobuf.DescriptorProto.extension: array expected\");t.extension=[];for(n=0;n<e.extension.length;++n){if(\"object\"!=typeof e.extension[n])throw TypeError(\".google.protobuf.DescriptorProto.extension: object expected\");t.extension[n]=p.google.protobuf.FieldDescriptorProto.fromObject(e.extension[n])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(\".google.protobuf.DescriptorProto.nestedType: array expected\");t.nestedType=[];for(n=0;n<e.nestedType.length;++n){if(\"object\"!=typeof e.nestedType[n])throw TypeError(\".google.protobuf.DescriptorProto.nestedType: object expected\");t.nestedType[n]=p.google.protobuf.DescriptorProto.fromObject(e.nestedType[n])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(\".google.protobuf.DescriptorProto.enumType: array expected\");t.enumType=[];for(n=0;n<e.enumType.length;++n){if(\"object\"!=typeof e.enumType[n])throw TypeError(\".google.protobuf.DescriptorProto.enumType: object expected\");t.enumType[n]=p.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[n])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: array expected\");t.extensionRange=[];for(n=0;n<e.extensionRange.length;++n){if(\"object\"!=typeof e.extensionRange[n])throw TypeError(\".google.protobuf.DescriptorProto.extensionRange: object expected\");t.extensionRange[n]=p.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[n])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: array expected\");t.oneofDecl=[];for(n=0;n<e.oneofDecl.length;++n){if(\"object\"!=typeof e.oneofDecl[n])throw TypeError(\".google.protobuf.DescriptorProto.oneofDecl: object expected\");t.oneofDecl[n]=p.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.options: object expected\");t.options=p.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.DescriptorProto.reservedRange: object expected\");t.reservedRange[n]=p.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.DescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},O.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.field=[],n.nestedType=[],n.enumType=[],n.extensionRange=[],n.extension=[],n.oneofDecl=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.field&&e.field.length){n.field=[];for(var o=0;o<e.field.length;++o)n.field[o]=p.google.protobuf.FieldDescriptorProto.toObject(e.field[o],t)}if(e.nestedType&&e.nestedType.length){n.nestedType=[];for(o=0;o<e.nestedType.length;++o)n.nestedType[o]=p.google.protobuf.DescriptorProto.toObject(e.nestedType[o],t)}if(e.enumType&&e.enumType.length){n.enumType=[];for(o=0;o<e.enumType.length;++o)n.enumType[o]=p.google.protobuf.EnumDescriptorProto.toObject(e.enumType[o],t)}if(e.extensionRange&&e.extensionRange.length){n.extensionRange=[];for(o=0;o<e.extensionRange.length;++o)n.extensionRange[o]=p.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[o],t)}if(e.extension&&e.extension.length){n.extension=[];for(o=0;o<e.extension.length;++o)n.extension[o]=p.google.protobuf.FieldDescriptorProto.toObject(e.extension[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length){n.oneofDecl=[];for(o=0;o<e.oneofDecl.length;++o)n.oneofDecl[o]=p.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[o],t)}if(e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=p.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},O.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},O.ExtensionRange=(b.prototype.start=0,b.prototype.end=0,b.prototype.options=null,b.create=function(e){return new b(e)},b.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=p.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},b.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},b.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.start&&e.hasOwnProperty(\"start\")&&!i.isInteger(e.start))return\"start: integer expected\";if(null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end))return\"end: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=p.google.protobuf.ExtensionRangeOptions.verify(e.options);if(e)return\"options.\"+e}return null},b.fromObject=function(e){if(e instanceof p.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new p.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.DescriptorProto.ExtensionRange.options: object expected\");t.options=p.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},b.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0,n.options=null),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),n},b.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},b),O.ReservedRange=(m.prototype.start=0,m.prototype.end=0,m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},m.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},m.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!i.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end)?\"end: integer expected\":null},m.fromObject=function(e){var t;return e instanceof p.google.protobuf.DescriptorProto.ReservedRange?e:(t=new p.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},m.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},m.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},m),O),t.ExtensionRangeOptions=(M.prototype.uninterpretedOption=i.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},M.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},M.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},M.fromObject=function(e){if(e instanceof p.google.protobuf.ExtensionRangeOptions)return e;var t=new p.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},M.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},M.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},M),t.FieldDescriptorProto=(v.prototype.name=\"\",v.prototype.number=0,v.prototype.label=1,v.prototype.type=1,v.prototype.typeName=\"\",v.prototype.extendee=\"\",v.prototype.defaultValue=\"\",v.prototype.oneofIndex=0,v.prototype.jsonName=\"\",v.prototype.options=null,v.prototype.proto3Optional=!1,v.create=function(e){return new v(e)},v.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,\"extendee\")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,\"label\")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,\"type\")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,\"typeName\")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,\"defaultValue\")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,\"oneofIndex\")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,\"jsonName\")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,\"proto3Optional\")&&t.uint32(136).bool(e.proto3Optional),t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=p.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:o.proto3Optional=e.bool();break;default:e.skipType(7&r)}}return o},v.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},v.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!i.isInteger(e.number))return\"number: integer expected\";if(null!=e.label&&e.hasOwnProperty(\"label\"))switch(e.label){default:return\"label: enum value expected\";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty(\"type\"))switch(e.type){default:return\"type: enum value expected\";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&!i.isString(e.typeName))return\"typeName: string expected\";if(null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&!i.isString(e.extendee))return\"extendee: string expected\";if(null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&!i.isString(e.defaultValue))return\"defaultValue: string expected\";if(null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&!i.isInteger(e.oneofIndex))return\"oneofIndex: integer expected\";if(null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&!i.isString(e.jsonName))return\"jsonName: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=p.google.protobuf.FieldOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&\"boolean\"!=typeof e.proto3Optional?\"proto3Optional: boolean expected\":null},v.fromObject=function(e){if(e instanceof p.google.protobuf.FieldDescriptorProto)return e;var t=new p.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case\"LABEL_OPTIONAL\":case 1:t.label=1;break;case\"LABEL_REQUIRED\":case 2:t.label=2;break;case\"LABEL_REPEATED\":case 3:t.label=3}switch(e.type){case\"TYPE_DOUBLE\":case 1:t.type=1;break;case\"TYPE_FLOAT\":case 2:t.type=2;break;case\"TYPE_INT64\":case 3:t.type=3;break;case\"TYPE_UINT64\":case 4:t.type=4;break;case\"TYPE_INT32\":case 5:t.type=5;break;case\"TYPE_FIXED64\":case 6:t.type=6;break;case\"TYPE_FIXED32\":case 7:t.type=7;break;case\"TYPE_BOOL\":case 8:t.type=8;break;case\"TYPE_STRING\":case 9:t.type=9;break;case\"TYPE_GROUP\":case 10:t.type=10;break;case\"TYPE_MESSAGE\":case 11:t.type=11;break;case\"TYPE_BYTES\":case 12:t.type=12;break;case\"TYPE_UINT32\":case 13:t.type=13;break;case\"TYPE_ENUM\":case 14:t.type=14;break;case\"TYPE_SFIXED32\":case 15:t.type=15;break;case\"TYPE_SFIXED64\":case 16:t.type=16;break;case\"TYPE_SINT32\":case 17:t.type=17;break;case\"TYPE_SINT64\":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.FieldDescriptorProto.options: object expected\");t.options=p.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},v.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.extendee=\"\",n.number=0,n.label=t.enums===String?\"LABEL_OPTIONAL\":1,n.type=t.enums===String?\"TYPE_DOUBLE\":1,n.typeName=\"\",n.defaultValue=\"\",n.options=null,n.oneofIndex=0,n.jsonName=\"\",n.proto3Optional=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.extendee&&e.hasOwnProperty(\"extendee\")&&(n.extendee=e.extendee),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.label&&e.hasOwnProperty(\"label\")&&(n.label=t.enums===String?p.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty(\"type\")&&(n.type=t.enums===String?p.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty(\"typeName\")&&(n.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty(\"defaultValue\")&&(n.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty(\"oneofIndex\")&&(n.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty(\"jsonName\")&&(n.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty(\"proto3Optional\")&&(n.proto3Optional=e.proto3Optional),n},v.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},v.Type=(n={},(e=Object.create(n))[n[1]=\"TYPE_DOUBLE\"]=1,e[n[2]=\"TYPE_FLOAT\"]=2,e[n[3]=\"TYPE_INT64\"]=3,e[n[4]=\"TYPE_UINT64\"]=4,e[n[5]=\"TYPE_INT32\"]=5,e[n[6]=\"TYPE_FIXED64\"]=6,e[n[7]=\"TYPE_FIXED32\"]=7,e[n[8]=\"TYPE_BOOL\"]=8,e[n[9]=\"TYPE_STRING\"]=9,e[n[10]=\"TYPE_GROUP\"]=10,e[n[11]=\"TYPE_MESSAGE\"]=11,e[n[12]=\"TYPE_BYTES\"]=12,e[n[13]=\"TYPE_UINT32\"]=13,e[n[14]=\"TYPE_ENUM\"]=14,e[n[15]=\"TYPE_SFIXED32\"]=15,e[n[16]=\"TYPE_SFIXED64\"]=16,e[n[17]=\"TYPE_SINT32\"]=17,e[n[18]=\"TYPE_SINT64\"]=18,e),v.Label=(n={},(e=Object.create(n))[n[1]=\"LABEL_OPTIONAL\"]=1,e[n[2]=\"LABEL_REQUIRED\"]=2,e[n[3]=\"LABEL_REPEATED\"]=3,e),v),t.OneofDescriptorProto=(w.prototype.name=\"\",w.prototype.options=null,w.create=function(e){return new w(e)},w.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=p.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},w.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},w.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=p.google.protobuf.OneofOptions.verify(e.options);if(e)return\"options.\"+e}return null},w.fromObject=function(e){if(e instanceof p.google.protobuf.OneofDescriptorProto)return e;var t=new p.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.OneofDescriptorProto.options: object expected\");t.options=p.google.protobuf.OneofOptions.fromObject(e.options)}return t},w.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.OneofOptions.toObject(e.options,t)),n},w.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},w),t.EnumDescriptorProto=(P.prototype.name=\"\",P.prototype.value=i.emptyArray,P.prototype.options=null,P.prototype.reservedRange=i.emptyArray,P.prototype.reservedName=i.emptyArray,P.create=function(e){return new P(e)},P.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)p.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)p.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(p.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=p.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(p.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},P.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},P.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.value&&e.hasOwnProperty(\"value\")){if(!Array.isArray(e.value))return\"value: array expected\";for(var t=0;t<e.value.length;++t)if(n=p.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return\"value.\"+n}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.EnumOptions.verify(e.options)))return\"options.\"+n;if(null!=e.reservedRange&&e.hasOwnProperty(\"reservedRange\")){if(!Array.isArray(e.reservedRange))return\"reservedRange: array expected\";for(var n,t=0;t<e.reservedRange.length;++t)if(n=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return\"reservedRange.\"+n}if(null!=e.reservedName&&e.hasOwnProperty(\"reservedName\")){if(!Array.isArray(e.reservedName))return\"reservedName: array expected\";for(t=0;t<e.reservedName.length;++t)if(!i.isString(e.reservedName[t]))return\"reservedName: string[] expected\"}return null},P.fromObject=function(e){if(e instanceof p.google.protobuf.EnumDescriptorProto)return e;var t=new p.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(\".google.protobuf.EnumDescriptorProto.value: array expected\");t.value=[];for(var n=0;n<e.value.length;++n){if(\"object\"!=typeof e.value[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.value: object expected\");t.value[n]=p.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumDescriptorProto.options: object expected\");t.options=p.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: array expected\");t.reservedRange=[];for(n=0;n<e.reservedRange.length;++n){if(\"object\"!=typeof e.reservedRange[n])throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedRange: object expected\");t.reservedRange[n]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[n])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(\".google.protobuf.EnumDescriptorProto.reservedName: array expected\");t.reservedName=[];for(n=0;n<e.reservedName.length;++n)t.reservedName[n]=String(e.reservedName[n])}return t},P.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.value=[],n.reservedRange=[],n.reservedName=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.value&&e.value.length){n.value=[];for(var o=0;o<e.value.length;++o)n.value[o]=p.google.protobuf.EnumValueDescriptorProto.toObject(e.value[o],t)}if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length){n.reservedRange=[];for(o=0;o<e.reservedRange.length;++o)n.reservedRange[o]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[o],t)}if(e.reservedName&&e.reservedName.length){n.reservedName=[];for(o=0;o<e.reservedName.length;++o)n.reservedName[o]=e.reservedName[o]}return n},P.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},P.EnumReservedRange=(_.prototype.start=0,_.prototype.end=0,_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,\"start\")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(16).int32(e.end),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},_.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},_.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.start&&e.hasOwnProperty(\"start\")&&!i.isInteger(e.start)?\"start: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end)?\"end: integer expected\":null},_.fromObject=function(e){var t;return e instanceof p.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},_.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start=0,n.end=0),null!=e.start&&e.hasOwnProperty(\"start\")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},_.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},_),P),t.EnumValueDescriptorProto=(j.prototype.name=\"\",j.prototype.number=0,j.prototype.options=null,j.create=function(e){return new j(e)},j.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,\"number\")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=p.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},j.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},j.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.number&&e.hasOwnProperty(\"number\")&&!i.isInteger(e.number))return\"number: integer expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){e=p.google.protobuf.EnumValueOptions.verify(e.options);if(e)return\"options.\"+e}return null},j.fromObject=function(e){if(e instanceof p.google.protobuf.EnumValueDescriptorProto)return e;var t=new p.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.EnumValueDescriptorProto.options: object expected\");t.options=p.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},j.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.number=0,n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.number&&e.hasOwnProperty(\"number\")&&(n.number=e.number),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.EnumValueOptions.toObject(e.options,t)),n},j.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},j),t.ServiceDescriptorProto=(S.prototype.name=\"\",S.prototype.method=i.emptyArray,S.prototype.options=null,S.create=function(e){return new S(e)},S.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)p.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(p.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=p.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},S.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},S.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.method&&e.hasOwnProperty(\"method\")){if(!Array.isArray(e.method))return\"method: array expected\";for(var t=0;t<e.method.length;++t)if(n=p.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return\"method.\"+n}var n;if(null!=e.options&&e.hasOwnProperty(\"options\")&&(n=p.google.protobuf.ServiceOptions.verify(e.options)))return\"options.\"+n;return null},S.fromObject=function(e){if(e instanceof p.google.protobuf.ServiceDescriptorProto)return e;var t=new p.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: array expected\");t.method=[];for(var n=0;n<e.method.length;++n){if(\"object\"!=typeof e.method[n])throw TypeError(\".google.protobuf.ServiceDescriptorProto.method: object expected\");t.method[n]=p.google.protobuf.MethodDescriptorProto.fromObject(e.method[n])}}if(null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.ServiceDescriptorProto.options: object expected\");t.options=p.google.protobuf.ServiceOptions.fromObject(e.options)}return t},S.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.method=[]),t.defaults&&(n.name=\"\",n.options=null),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),e.method&&e.method.length){n.method=[];for(var o=0;o<e.method.length;++o)n.method[o]=p.google.protobuf.MethodDescriptorProto.toObject(e.method[o],t)}return null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.ServiceOptions.toObject(e.options,t)),n},S.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},S),t.MethodDescriptorProto=(x.prototype.name=\"\",x.prototype.inputType=\"\",x.prototype.outputType=\"\",x.prototype.options=null,x.prototype.clientStreaming=!1,x.prototype.serverStreaming=!1,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,\"name\")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,\"inputType\")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,\"outputType\")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,\"options\")&&p.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,\"clientStreaming\")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,\"serverStreaming\")&&t.uint32(48).bool(e.serverStreaming),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=p.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},x.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},x.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")&&!i.isString(e.name))return\"name: string expected\";if(null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&!i.isString(e.inputType))return\"inputType: string expected\";if(null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&!i.isString(e.outputType))return\"outputType: string expected\";if(null!=e.options&&e.hasOwnProperty(\"options\")){var t=p.google.protobuf.MethodOptions.verify(e.options);if(t)return\"options.\"+t}return null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&\"boolean\"!=typeof e.clientStreaming?\"clientStreaming: boolean expected\":null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&\"boolean\"!=typeof e.serverStreaming?\"serverStreaming: boolean expected\":null},x.fromObject=function(e){if(e instanceof p.google.protobuf.MethodDescriptorProto)return e;var t=new p.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if(\"object\"!=typeof e.options)throw TypeError(\".google.protobuf.MethodDescriptorProto.options: object expected\");t.options=p.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},x.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.name=\"\",n.inputType=\"\",n.outputType=\"\",n.options=null,n.clientStreaming=!1,n.serverStreaming=!1),null!=e.name&&e.hasOwnProperty(\"name\")&&(n.name=e.name),null!=e.inputType&&e.hasOwnProperty(\"inputType\")&&(n.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty(\"outputType\")&&(n.outputType=e.outputType),null!=e.options&&e.hasOwnProperty(\"options\")&&(n.options=p.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty(\"clientStreaming\")&&(n.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty(\"serverStreaming\")&&(n.serverStreaming=e.serverStreaming),n},x.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},x),t.FileOptions=(k.prototype.javaPackage=\"\",k.prototype.javaOuterClassname=\"\",k.prototype.javaMultipleFiles=!1,k.prototype.javaGenerateEqualsAndHash=!1,k.prototype.javaStringCheckUtf8=!1,k.prototype.optimizeFor=1,k.prototype.goPackage=\"\",k.prototype.ccGenericServices=!1,k.prototype.javaGenericServices=!1,k.prototype.pyGenericServices=!1,k.prototype.phpGenericServices=!1,k.prototype.deprecated=!1,k.prototype.ccEnableArenas=!0,k.prototype.objcClassPrefix=\"\",k.prototype.csharpNamespace=\"\",k.prototype.swiftPrefix=\"\",k.prototype.phpClassPrefix=\"\",k.prototype.phpNamespace=\"\",k.prototype.phpMetadataNamespace=\"\",k.prototype.rubyPackage=\"\",k.prototype.uninterpretedOption=i.emptyArray,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||r.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,\"javaPackage\")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,\"javaOuterClassname\")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,\"optimizeFor\")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,\"javaMultipleFiles\")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,\"goPackage\")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,\"ccGenericServices\")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,\"javaGenericServices\")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,\"pyGenericServices\")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,\"javaGenerateEqualsAndHash\")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,\"javaStringCheckUtf8\")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,\"ccEnableArenas\")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,\"objcClassPrefix\")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,\"csharpNamespace\")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,\"swiftPrefix\")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,\"phpClassPrefix\")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,\"phpNamespace\")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,\"phpGenericServices\")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,\"phpMetadataNamespace\")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,\"rubyPackage\")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},k.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},k.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&!i.isString(e.javaPackage))return\"javaPackage: string expected\";if(null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&!i.isString(e.javaOuterClassname))return\"javaOuterClassname: string expected\";if(null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&\"boolean\"!=typeof e.javaMultipleFiles)return\"javaMultipleFiles: boolean expected\";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&\"boolean\"!=typeof e.javaGenerateEqualsAndHash)return\"javaGenerateEqualsAndHash: boolean expected\";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&\"boolean\"!=typeof e.javaStringCheckUtf8)return\"javaStringCheckUtf8: boolean expected\";if(null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\"))switch(e.optimizeFor){default:return\"optimizeFor: enum value expected\";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&!i.isString(e.goPackage))return\"goPackage: string expected\";if(null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&\"boolean\"!=typeof e.ccGenericServices)return\"ccGenericServices: boolean expected\";if(null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&\"boolean\"!=typeof e.javaGenericServices)return\"javaGenericServices: boolean expected\";if(null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&\"boolean\"!=typeof e.pyGenericServices)return\"pyGenericServices: boolean expected\";if(null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&\"boolean\"!=typeof e.phpGenericServices)return\"phpGenericServices: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&\"boolean\"!=typeof e.ccEnableArenas)return\"ccEnableArenas: boolean expected\";if(null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&!i.isString(e.objcClassPrefix))return\"objcClassPrefix: string expected\";if(null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&!i.isString(e.csharpNamespace))return\"csharpNamespace: string expected\";if(null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&!i.isString(e.swiftPrefix))return\"swiftPrefix: string expected\";if(null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&!i.isString(e.phpClassPrefix))return\"phpClassPrefix: string expected\";if(null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&!i.isString(e.phpNamespace))return\"phpNamespace: string expected\";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&!i.isString(e.phpMetadataNamespace))return\"phpMetadataNamespace: string expected\";if(null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&!i.isString(e.rubyPackage))return\"rubyPackage: string expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},k.fromObject=function(e){if(e instanceof p.google.protobuf.FileOptions)return e;var t=new p.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case\"SPEED\":case 1:t.optimizeFor=1;break;case\"CODE_SIZE\":case 2:t.optimizeFor=2;break;case\"LITE_RUNTIME\":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FileOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},k.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.javaPackage=\"\",n.javaOuterClassname=\"\",n.optimizeFor=t.enums===String?\"SPEED\":1,n.javaMultipleFiles=!1,n.goPackage=\"\",n.ccGenericServices=!1,n.javaGenericServices=!1,n.pyGenericServices=!1,n.javaGenerateEqualsAndHash=!1,n.deprecated=!1,n.javaStringCheckUtf8=!1,n.ccEnableArenas=!0,n.objcClassPrefix=\"\",n.csharpNamespace=\"\",n.swiftPrefix=\"\",n.phpClassPrefix=\"\",n.phpNamespace=\"\",n.phpGenericServices=!1,n.phpMetadataNamespace=\"\",n.rubyPackage=\"\"),null!=e.javaPackage&&e.hasOwnProperty(\"javaPackage\")&&(n.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty(\"javaOuterClassname\")&&(n.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty(\"optimizeFor\")&&(n.optimizeFor=t.enums===String?p.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty(\"javaMultipleFiles\")&&(n.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty(\"goPackage\")&&(n.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty(\"ccGenericServices\")&&(n.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty(\"javaGenericServices\")&&(n.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty(\"pyGenericServices\")&&(n.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty(\"javaGenerateEqualsAndHash\")&&(n.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty(\"javaStringCheckUtf8\")&&(n.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty(\"ccEnableArenas\")&&(n.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty(\"objcClassPrefix\")&&(n.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty(\"csharpNamespace\")&&(n.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty(\"swiftPrefix\")&&(n.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty(\"phpClassPrefix\")&&(n.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty(\"phpNamespace\")&&(n.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty(\"phpGenericServices\")&&(n.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty(\"phpMetadataNamespace\")&&(n.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty(\"rubyPackage\")&&(n.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},k.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},k.OptimizeMode=(n={},(e=Object.create(n))[n[1]=\"SPEED\"]=1,e[n[2]=\"CODE_SIZE\"]=2,e[n[3]=\"LITE_RUNTIME\"]=3,e),k),t.MessageOptions=(D.prototype.messageSetWireFormat=!1,D.prototype.noStandardDescriptorAccessor=!1,D.prototype.deprecated=!1,D.prototype.mapEntry=!1,D.prototype.uninterpretedOption=i.emptyArray,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||r.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,\"messageSetWireFormat\")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,\"noStandardDescriptorAccessor\")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,\"mapEntry\")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},D.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},D.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&\"boolean\"!=typeof e.messageSetWireFormat)return\"messageSetWireFormat: boolean expected\";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&\"boolean\"!=typeof e.noStandardDescriptorAccessor)return\"noStandardDescriptorAccessor: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&\"boolean\"!=typeof e.mapEntry)return\"mapEntry: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},D.fromObject=function(e){if(e instanceof p.google.protobuf.MessageOptions)return e;var t=new p.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MessageOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},D.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.messageSetWireFormat=!1,n.noStandardDescriptorAccessor=!1,n.deprecated=!1,n.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty(\"messageSetWireFormat\")&&(n.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty(\"noStandardDescriptorAccessor\")&&(n.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty(\"mapEntry\")&&(n.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},D.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},D),t.FieldOptions=(T.prototype.ctype=0,T.prototype.packed=!1,T.prototype.jstype=0,T.prototype.lazy=!1,T.prototype.deprecated=!1,T.prototype.weak=!1,T.prototype.uninterpretedOption=i.emptyArray,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||r.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,\"ctype\")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,\"packed\")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,\"lazy\")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,\"jstype\")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,\"weak\")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},T.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},T.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.ctype&&e.hasOwnProperty(\"ctype\"))switch(e.ctype){default:return\"ctype: enum value expected\";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty(\"packed\")&&\"boolean\"!=typeof e.packed)return\"packed: boolean expected\";if(null!=e.jstype&&e.hasOwnProperty(\"jstype\"))switch(e.jstype){default:return\"jstype: enum value expected\";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&\"boolean\"!=typeof e.lazy)return\"lazy: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.weak&&e.hasOwnProperty(\"weak\")&&\"boolean\"!=typeof e.weak)return\"weak: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},T.fromObject=function(e){if(e instanceof p.google.protobuf.FieldOptions)return e;var t=new p.google.protobuf.FieldOptions;switch(e.ctype){case\"STRING\":case 0:t.ctype=0;break;case\"CORD\":case 1:t.ctype=1;break;case\"STRING_PIECE\":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case\"JS_NORMAL\":case 0:t.jstype=0;break;case\"JS_STRING\":case 1:t.jstype=1;break;case\"JS_NUMBER\":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.FieldOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},T.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.ctype=t.enums===String?\"STRING\":0,n.packed=!1,n.deprecated=!1,n.lazy=!1,n.jstype=t.enums===String?\"JS_NORMAL\":0,n.weak=!1),null!=e.ctype&&e.hasOwnProperty(\"ctype\")&&(n.ctype=t.enums===String?p.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty(\"packed\")&&(n.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty(\"lazy\")&&(n.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty(\"jstype\")&&(n.jstype=t.enums===String?p.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty(\"weak\")&&(n.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},T.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},T.CType=(n={},(e=Object.create(n))[n[0]=\"STRING\"]=0,e[n[1]=\"CORD\"]=1,e[n[2]=\"STRING_PIECE\"]=2,e),T.JSType=(n={},(e=Object.create(n))[n[0]=\"JS_NORMAL\"]=0,e[n[1]=\"JS_STRING\"]=1,e[n[2]=\"JS_NUMBER\"]=2,e),T),t.OneofOptions=(H.prototype.uninterpretedOption=i.emptyArray,H.create=function(e){return new H(e)},H.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},H.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},H.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},H.fromObject=function(e){if(e instanceof p.google.protobuf.OneofOptions)return e;var t=new p.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.OneofOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},H.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},H.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},H),t.EnumOptions=(E.prototype.allowAlias=!1,E.prototype.deprecated=!1,E.prototype.uninterpretedOption=i.emptyArray,E.create=function(e){return new E(e)},E.encode=function(e,t){if(t=t||r.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,\"allowAlias\")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},E.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},E.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&\"boolean\"!=typeof e.allowAlias)return\"allowAlias: boolean expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},E.fromObject=function(e){if(e instanceof p.google.protobuf.EnumOptions)return e;var t=new p.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},E.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.allowAlias=!1,n.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty(\"allowAlias\")&&(n.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},E.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},E),t.EnumValueOptions=(z.prototype.deprecated=!1,z.prototype.uninterpretedOption=i.emptyArray,z.create=function(e){return new z(e)},z.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},z.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null},z.fromObject=function(e){if(e instanceof p.google.protobuf.EnumValueOptions)return e;var t=new p.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.EnumValueOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return t},z.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return n},z.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},z),t.ServiceOptions=(A.prototype.deprecated=!1,A.prototype.uninterpretedOption=i.emptyArray,A.prototype[\".google.api.defaultHost\"]=\"\",A.prototype[\".google.api.oauthScopes\"]=\"\",A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return null!=e[\".google.api.defaultHost\"]&&Object.hasOwnProperty.call(e,\".google.api.defaultHost\")&&t.uint32(8394).string(e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&Object.hasOwnProperty.call(e,\".google.api.oauthScopes\")&&t.uint32(8402).string(e[\".google.api.oauthScopes\"]),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.api.defaultHost\"]=e.string();break;case 1050:o[\".google.api.oauthScopes\"]=e.string();break;default:e.skipType(7&r)}}return o},A.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},A.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t){var n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(n)return\"uninterpretedOption.\"+n}}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&!i.isString(e[\".google.api.defaultHost\"])?\".google.api.defaultHost: string expected\":null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&!i.isString(e[\".google.api.oauthScopes\"])?\".google.api.oauthScopes: string expected\":null},A.fromObject=function(e){if(e instanceof p.google.protobuf.ServiceOptions)return e;var t=new p.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.ServiceOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}return null!=e[\".google.api.defaultHost\"]&&(t[\".google.api.defaultHost\"]=String(e[\".google.api.defaultHost\"])),null!=e[\".google.api.oauthScopes\"]&&(t[\".google.api.oauthScopes\"]=String(e[\".google.api.oauthScopes\"])),t},A.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[]),t.defaults&&(n.deprecated=!1,n[\".google.api.defaultHost\"]=\"\",n[\".google.api.oauthScopes\"]=\"\"),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}return null!=e[\".google.api.defaultHost\"]&&e.hasOwnProperty(\".google.api.defaultHost\")&&(n[\".google.api.defaultHost\"]=e[\".google.api.defaultHost\"]),null!=e[\".google.api.oauthScopes\"]&&e.hasOwnProperty(\".google.api.oauthScopes\")&&(n[\".google.api.oauthScopes\"]=e[\".google.api.oauthScopes\"]),n},A.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},A),t.MethodOptions=(N.prototype.deprecated=!1,N.prototype.idempotencyLevel=0,N.prototype.uninterpretedOption=i.emptyArray,N.prototype[\".google.longrunning.operationInfo\"]=null,N.prototype[\".google.api.http\"]=null,N.prototype[\".google.api.methodSignature\"]=i.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,\"deprecated\")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,\"idempotencyLevel\")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();if(null!=e[\".google.longrunning.operationInfo\"]&&Object.hasOwnProperty.call(e,\".google.longrunning.operationInfo\")&&p.google.longrunning.OperationInfo.encode(e[\".google.longrunning.operationInfo\"],t.uint32(8394).fork()).ldelim(),null!=e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length)for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t.uint32(8410).string(e[\".google.api.methodSignature\"][n]);return null!=e[\".google.api.http\"]&&Object.hasOwnProperty.call(e,\".google.api.http\")&&p.google.api.HttpRule.encode(e[\".google.api.http\"],t.uint32(578365826).fork()).ldelim(),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:o[\".google.longrunning.operationInfo\"]=p.google.longrunning.OperationInfo.decode(e,e.uint32());break;case 72295728:o[\".google.api.http\"]=p.google.api.HttpRule.decode(e,e.uint32());break;case 1051:o[\".google.api.methodSignature\"]&&o[\".google.api.methodSignature\"].length||(o[\".google.api.methodSignature\"]=[]),o[\".google.api.methodSignature\"].push(e.string());break;default:e.skipType(7&r)}}return o},N.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},N.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&\"boolean\"!=typeof e.deprecated)return\"deprecated: boolean expected\";if(null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\"))switch(e.idempotencyLevel){default:return\"idempotencyLevel: enum value expected\";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty(\"uninterpretedOption\")){if(!Array.isArray(e.uninterpretedOption))return\"uninterpretedOption: array expected\";for(var t=0;t<e.uninterpretedOption.length;++t)if(n=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return\"uninterpretedOption.\"+n}var n;if(null!=e[\".google.longrunning.operationInfo\"]&&e.hasOwnProperty(\".google.longrunning.operationInfo\")&&(n=p.google.longrunning.OperationInfo.verify(e[\".google.longrunning.operationInfo\"])))return\".google.longrunning.operationInfo.\"+n;if(null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n=p.google.api.HttpRule.verify(e[\".google.api.http\"])))return\".google.api.http.\"+n;if(null!=e[\".google.api.methodSignature\"]&&e.hasOwnProperty(\".google.api.methodSignature\")){if(!Array.isArray(e[\".google.api.methodSignature\"]))return\".google.api.methodSignature: array expected\";for(t=0;t<e[\".google.api.methodSignature\"].length;++t)if(!i.isString(e[\".google.api.methodSignature\"][t]))return\".google.api.methodSignature: string[] expected\"}return null},N.fromObject=function(e){if(e instanceof p.google.protobuf.MethodOptions)return e;var t=new p.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case\"IDEMPOTENCY_UNKNOWN\":case 0:t.idempotencyLevel=0;break;case\"NO_SIDE_EFFECTS\":case 1:t.idempotencyLevel=1;break;case\"IDEMPOTENT\":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: array expected\");t.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n){if(\"object\"!=typeof e.uninterpretedOption[n])throw TypeError(\".google.protobuf.MethodOptions.uninterpretedOption: object expected\");t.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[n])}}if(null!=e[\".google.longrunning.operationInfo\"]){if(\"object\"!=typeof e[\".google.longrunning.operationInfo\"])throw TypeError(\".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected\");t[\".google.longrunning.operationInfo\"]=p.google.longrunning.OperationInfo.fromObject(e[\".google.longrunning.operationInfo\"])}if(null!=e[\".google.api.http\"]){if(\"object\"!=typeof e[\".google.api.http\"])throw TypeError(\".google.protobuf.MethodOptions..google.api.http: object expected\");t[\".google.api.http\"]=p.google.api.HttpRule.fromObject(e[\".google.api.http\"])}if(e[\".google.api.methodSignature\"]){if(!Array.isArray(e[\".google.api.methodSignature\"]))throw TypeError(\".google.protobuf.MethodOptions..google.api.methodSignature: array expected\");t[\".google.api.methodSignature\"]=[];for(n=0;n<e[\".google.api.methodSignature\"].length;++n)t[\".google.api.methodSignature\"][n]=String(e[\".google.api.methodSignature\"][n])}return t},N.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.uninterpretedOption=[],n[\".google.api.methodSignature\"]=[]),t.defaults&&(n.deprecated=!1,n.idempotencyLevel=t.enums===String?\"IDEMPOTENCY_UNKNOWN\":0,n[\".google.longrunning.operationInfo\"]=null,n[\".google.api.http\"]=null),null!=e.deprecated&&e.hasOwnProperty(\"deprecated\")&&(n.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty(\"idempotencyLevel\")&&(n.idempotencyLevel=t.enums===String?p.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){n.uninterpretedOption=[];for(var o=0;o<e.uninterpretedOption.length;++o)n.uninterpretedOption[o]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[o],t)}if(null!=e[\".google.longrunning.operationInfo\"]&&e.hasOwnProperty(\".google.longrunning.operationInfo\")&&(n[\".google.longrunning.operationInfo\"]=p.google.longrunning.OperationInfo.toObject(e[\".google.longrunning.operationInfo\"],t)),e[\".google.api.methodSignature\"]&&e[\".google.api.methodSignature\"].length){n[\".google.api.methodSignature\"]=[];for(o=0;o<e[\".google.api.methodSignature\"].length;++o)n[\".google.api.methodSignature\"][o]=e[\".google.api.methodSignature\"][o]}return null!=e[\".google.api.http\"]&&e.hasOwnProperty(\".google.api.http\")&&(n[\".google.api.http\"]=p.google.api.HttpRule.toObject(e[\".google.api.http\"],t)),n},N.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},N.IdempotencyLevel=(n={},(e=Object.create(n))[n[0]=\"IDEMPOTENCY_UNKNOWN\"]=0,e[n[1]=\"NO_SIDE_EFFECTS\"]=1,e[n[2]=\"IDEMPOTENT\"]=2,e),N),t.UninterpretedOption=(I.prototype.name=i.emptyArray,I.prototype.identifierValue=\"\",I.prototype.positiveIntValue=i.Long?i.Long.fromBits(0,0,!0):0,I.prototype.negativeIntValue=i.Long?i.Long.fromBits(0,0,!1):0,I.prototype.doubleValue=0,I.prototype.stringValue=i.newBuffer([]),I.prototype.aggregateValue=\"\",I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||r.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)p.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,\"identifierValue\")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,\"positiveIntValue\")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,\"negativeIntValue\")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,\"doubleValue\")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,\"stringValue\")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,\"aggregateValue\")&&t.uint32(66).string(e.aggregateValue),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(p.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},I.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},I.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.name&&e.hasOwnProperty(\"name\")){if(!Array.isArray(e.name))return\"name: array expected\";for(var t=0;t<e.name.length;++t){var n=p.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(n)return\"name.\"+n}}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&!i.isString(e.identifierValue)?\"identifierValue: string expected\":null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&!(i.isInteger(e.positiveIntValue)||e.positiveIntValue&&i.isInteger(e.positiveIntValue.low)&&i.isInteger(e.positiveIntValue.high))?\"positiveIntValue: integer|Long expected\":null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&!(i.isInteger(e.negativeIntValue)||e.negativeIntValue&&i.isInteger(e.negativeIntValue.low)&&i.isInteger(e.negativeIntValue.high))?\"negativeIntValue: integer|Long expected\":null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&\"number\"!=typeof e.doubleValue?\"doubleValue: number expected\":null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&!(e.stringValue&&\"number\"==typeof e.stringValue.length||i.isString(e.stringValue))?\"stringValue: buffer expected\":null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&!i.isString(e.aggregateValue)?\"aggregateValue: string expected\":null},I.fromObject=function(e){if(e instanceof p.google.protobuf.UninterpretedOption)return e;var t=new p.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(\".google.protobuf.UninterpretedOption.name: array expected\");t.name=[];for(var n=0;n<e.name.length;++n){if(\"object\"!=typeof e.name[n])throw TypeError(\".google.protobuf.UninterpretedOption.name: object expected\");t.name[n]=p.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[n])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(i.Long?(t.positiveIntValue=i.Long.fromValue(e.positiveIntValue)).unsigned=!0:\"string\"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):\"number\"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:\"object\"==typeof e.positiveIntValue&&(t.positiveIntValue=new i.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(i.Long?(t.negativeIntValue=i.Long.fromValue(e.negativeIntValue)).unsigned=!1:\"string\"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):\"number\"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:\"object\"==typeof e.negativeIntValue&&(t.negativeIntValue=new i.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&(\"string\"==typeof e.stringValue?i.base64.decode(e.stringValue,t.stringValue=i.newBuffer(i.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},I.toObject=function(e,t){var n,o={};if(((t=t||{}).arrays||t.defaults)&&(o.name=[]),t.defaults&&(o.identifierValue=\"\",i.Long?(n=new i.Long(0,0,!0),o.positiveIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.positiveIntValue=t.longs===String?\"0\":0,i.Long?(n=new i.Long(0,0,!1),o.negativeIntValue=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.negativeIntValue=t.longs===String?\"0\":0,o.doubleValue=0,t.bytes===String?o.stringValue=\"\":(o.stringValue=[],t.bytes!==Array&&(o.stringValue=i.newBuffer(o.stringValue))),o.aggregateValue=\"\"),e.name&&e.name.length){o.name=[];for(var r=0;r<e.name.length;++r)o.name[r]=p.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[r],t)}return null!=e.identifierValue&&e.hasOwnProperty(\"identifierValue\")&&(o.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty(\"positiveIntValue\")&&(\"number\"==typeof e.positiveIntValue?o.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:o.positiveIntValue=t.longs===String?i.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new i.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty(\"negativeIntValue\")&&(\"number\"==typeof e.negativeIntValue?o.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:o.negativeIntValue=t.longs===String?i.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new i.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty(\"doubleValue\")&&(o.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty(\"stringValue\")&&(o.stringValue=t.bytes===String?i.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty(\"aggregateValue\")&&(o.aggregateValue=e.aggregateValue),o},I.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},I.NamePart=(q.prototype.namePart=\"\",q.prototype.isExtension=!1,q.create=function(e){return new q(e)},q.encode=function(e,t){return(t=t||r.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty(\"namePart\"))throw i.ProtocolError(\"missing required 'namePart'\",{instance:o});if(o.hasOwnProperty(\"isExtension\"))return o;throw i.ProtocolError(\"missing required 'isExtension'\",{instance:o})},q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},q.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":i.isString(e.namePart)?\"boolean\"!=typeof e.isExtension?\"isExtension: boolean expected\":null:\"namePart: string expected\"},q.fromObject=function(e){var t;return e instanceof p.google.protobuf.UninterpretedOption.NamePart?e:(t=new p.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},q.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.namePart=\"\",n.isExtension=!1),null!=e.namePart&&e.hasOwnProperty(\"namePart\")&&(n.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty(\"isExtension\")&&(n.isExtension=e.isExtension),n},q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},q),I),t.SourceCodeInfo=(Y.prototype.location=i.emptyArray,Y.create=function(e){return new Y(e)},Y.encode=function(e,t){if(t=t||r.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)p.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},Y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(p.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},Y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Y.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.location&&e.hasOwnProperty(\"location\")){if(!Array.isArray(e.location))return\"location: array expected\";for(var t=0;t<e.location.length;++t){var n=p.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(n)return\"location.\"+n}}return null},Y.fromObject=function(e){if(e instanceof p.google.protobuf.SourceCodeInfo)return e;var t=new p.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(\".google.protobuf.SourceCodeInfo.location: array expected\");t.location=[];for(var n=0;n<e.location.length;++n){if(\"object\"!=typeof e.location[n])throw TypeError(\".google.protobuf.SourceCodeInfo.location: object expected\");t.location[n]=p.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[n])}}return t},Y.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.location=[]),e.location&&e.location.length){n.location=[];for(var o=0;o<e.location.length;++o)n.location[o]=p.google.protobuf.SourceCodeInfo.Location.toObject(e.location[o],t)}return n},Y.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Y.Location=(R.prototype.path=i.emptyArray,R.prototype.span=i.emptyArray,R.prototype.leadingComments=\"\",R.prototype.trailingComments=\"\",R.prototype.leadingDetachedComments=i.emptyArray,R.create=function(e){return new R(e)},R.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){t.uint32(18).fork();for(n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,\"leadingComments\")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,\"trailingComments\")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},R.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},R.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!i.isInteger(e.path[t]))return\"path: integer[] expected\"}if(null!=e.span&&e.hasOwnProperty(\"span\")){if(!Array.isArray(e.span))return\"span: array expected\";for(t=0;t<e.span.length;++t)if(!i.isInteger(e.span[t]))return\"span: integer[] expected\"}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&!i.isString(e.leadingComments))return\"leadingComments: string expected\";if(null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&!i.isString(e.trailingComments))return\"trailingComments: string expected\";if(null!=e.leadingDetachedComments&&e.hasOwnProperty(\"leadingDetachedComments\")){if(!Array.isArray(e.leadingDetachedComments))return\"leadingDetachedComments: array expected\";for(t=0;t<e.leadingDetachedComments.length;++t)if(!i.isString(e.leadingDetachedComments[t]))return\"leadingDetachedComments: string[] expected\"}return null},R.fromObject=function(e){if(e instanceof p.google.protobuf.SourceCodeInfo.Location)return e;var t=new p.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}if(e.span){if(!Array.isArray(e.span))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.span: array expected\");t.span=[];for(n=0;n<e.span.length;++n)t.span[n]=0|e.span[n]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(\".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected\");t.leadingDetachedComments=[];for(n=0;n<e.leadingDetachedComments.length;++n)t.leadingDetachedComments[n]=String(e.leadingDetachedComments[n])}return t},R.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[],n.span=[],n.leadingDetachedComments=[]),t.defaults&&(n.leadingComments=\"\",n.trailingComments=\"\"),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}if(e.span&&e.span.length){n.span=[];for(o=0;o<e.span.length;++o)n.span[o]=e.span[o]}if(null!=e.leadingComments&&e.hasOwnProperty(\"leadingComments\")&&(n.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty(\"trailingComments\")&&(n.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length){n.leadingDetachedComments=[];for(o=0;o<e.leadingDetachedComments.length;++o)n.leadingDetachedComments[o]=e.leadingDetachedComments[o]}return n},R.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},R),Y),t.GeneratedCodeInfo=(W.prototype.annotation=i.emptyArray,W.create=function(e){return new W(e)},W.encode=function(e,t){if(t=t||r.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)p.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},W.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},W.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(p.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},W.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},W.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.annotation&&e.hasOwnProperty(\"annotation\")){if(!Array.isArray(e.annotation))return\"annotation: array expected\";for(var t=0;t<e.annotation.length;++t){var n=p.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(n)return\"annotation.\"+n}}return null},W.fromObject=function(e){if(e instanceof p.google.protobuf.GeneratedCodeInfo)return e;var t=new p.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: array expected\");t.annotation=[];for(var n=0;n<e.annotation.length;++n){if(\"object\"!=typeof e.annotation[n])throw TypeError(\".google.protobuf.GeneratedCodeInfo.annotation: object expected\");t.annotation[n]=p.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[n])}}return t},W.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.annotation=[]),e.annotation&&e.annotation.length){n.annotation=[];for(var o=0;o<e.annotation.length;++o)n.annotation[o]=p.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[o],t)}return n},W.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},W.Annotation=(C.prototype.path=i.emptyArray,C.prototype.sourceFile=\"\",C.prototype.begin=0,C.prototype.end=0,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,\"sourceFile\")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,\"begin\")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,\"end\")&&t.uint32(32).int32(e.end),t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},C.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},C.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.path&&e.hasOwnProperty(\"path\")){if(!Array.isArray(e.path))return\"path: array expected\";for(var t=0;t<e.path.length;++t)if(!i.isInteger(e.path[t]))return\"path: integer[] expected\"}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&!i.isString(e.sourceFile)?\"sourceFile: string expected\":null!=e.begin&&e.hasOwnProperty(\"begin\")&&!i.isInteger(e.begin)?\"begin: integer expected\":null!=e.end&&e.hasOwnProperty(\"end\")&&!i.isInteger(e.end)?\"end: integer expected\":null},C.fromObject=function(e){if(e instanceof p.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new p.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(\".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected\");t.path=[];for(var n=0;n<e.path.length;++n)t.path[n]=0|e.path[n]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},C.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.path=[]),t.defaults&&(n.sourceFile=\"\",n.begin=0,n.end=0),e.path&&e.path.length){n.path=[];for(var o=0;o<e.path.length;++o)n.path[o]=e.path[o]}return null!=e.sourceFile&&e.hasOwnProperty(\"sourceFile\")&&(n.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty(\"begin\")&&(n.begin=e.begin),null!=e.end&&e.hasOwnProperty(\"end\")&&(n.end=e.end),n},C.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},C),W),t.Any=(X.prototype.type_url=\"\",X.prototype.value=i.newBuffer([]),X.create=function(e){return new X(e)},X.encode=function(e,t){return t=t||r.create(),null!=e.type_url&&Object.hasOwnProperty.call(e,\"type_url\")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,\"value\")&&t.uint32(18).bytes(e.value),t},X.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},X.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.Any;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.type_url=e.string();break;case 2:o.value=e.bytes();break;default:e.skipType(7&r)}}return o},X.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},X.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&!i.isString(e.type_url)?\"type_url: string expected\":null!=e.value&&e.hasOwnProperty(\"value\")&&!(e.value&&\"number\"==typeof e.value.length||i.isString(e.value))?\"value: buffer expected\":null},X.fromObject=function(e){var t;return e instanceof p.google.protobuf.Any?e:(t=new p.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&(\"string\"==typeof e.value?i.base64.decode(e.value,t.value=i.newBuffer(i.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t)},X.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.type_url=\"\",t.bytes===String?n.value=\"\":(n.value=[],t.bytes!==Array&&(n.value=i.newBuffer(n.value)))),null!=e.type_url&&e.hasOwnProperty(\"type_url\")&&(n.type_url=e.type_url),null!=e.value&&e.hasOwnProperty(\"value\")&&(n.value=t.bytes===String?i.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},X.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},X),t.Duration=(K.prototype.seconds=i.Long?i.Long.fromBits(0,0,!1):0,K.prototype.nanos=0,K.create=function(e){return new K(e)},K.encode=function(e,t){return t=t||r.create(),null!=e.seconds&&Object.hasOwnProperty.call(e,\"seconds\")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,\"nanos\")&&t.uint32(16).int32(e.nanos),t},K.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},K.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.protobuf.Duration;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.seconds=e.int64();break;case 2:o.nanos=e.int32();break;default:e.skipType(7&r)}}return o},K.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},K.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null!=e.seconds&&e.hasOwnProperty(\"seconds\")&&!(i.isInteger(e.seconds)||e.seconds&&i.isInteger(e.seconds.low)&&i.isInteger(e.seconds.high))?\"seconds: integer|Long expected\":null!=e.nanos&&e.hasOwnProperty(\"nanos\")&&!i.isInteger(e.nanos)?\"nanos: integer expected\":null},K.fromObject=function(e){var t;return e instanceof p.google.protobuf.Duration?e:(t=new p.google.protobuf.Duration,null!=e.seconds&&(i.Long?(t.seconds=i.Long.fromValue(e.seconds)).unsigned=!1:\"string\"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):\"number\"==typeof e.seconds?t.seconds=e.seconds:\"object\"==typeof e.seconds&&(t.seconds=new i.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t)},K.toObject=function(e,t){var n,o={};return(t=t||{}).defaults&&(i.Long?(n=new i.Long(0,0,!1),o.seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):o.seconds=t.longs===String?\"0\":0,o.nanos=0),null!=e.seconds&&e.hasOwnProperty(\"seconds\")&&(\"number\"==typeof e.seconds?o.seconds=t.longs===String?String(e.seconds):e.seconds:o.seconds=t.longs===String?i.Long.prototype.toString.call(e.seconds):t.longs===Number?new i.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty(\"nanos\")&&(o.nanos=e.nanos),o},K.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},K),t.Empty=(Q.create=function(e){return new Q(e)},Q.encode=function(e,t){return t=t||r.create()},Q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new p.google.protobuf.Empty;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},Q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Q.verify=function(e){return\"object\"!=typeof e||null===e?\"object expected\":null},Q.fromObject=function(e){return e instanceof p.google.protobuf.Empty?e:new p.google.protobuf.Empty},Q.toObject=function(){return{}},Q.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},Q),t),F.rpc=((n={}).Status=(V.prototype.code=0,V.prototype.message=\"\",V.prototype.details=i.emptyArray,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||r.create(),null!=e.code&&Object.hasOwnProperty.call(e,\"code\")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,\"message\")&&t.uint32(18).string(e.message),null!=e.details&&e.details.length)for(var n=0;n<e.details.length;++n)p.google.protobuf.Any.encode(e.details[n],t.uint32(26).fork()).ldelim();return t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new p.google.rpc.Status;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.code=e.int32();break;case 2:o.message=e.string();break;case 3:o.details&&o.details.length||(o.details=[]),o.details.push(p.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},V.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},V.verify=function(e){if(\"object\"!=typeof e||null===e)return\"object expected\";if(null!=e.code&&e.hasOwnProperty(\"code\")&&!i.isInteger(e.code))return\"code: integer expected\";if(null!=e.message&&e.hasOwnProperty(\"message\")&&!i.isString(e.message))return\"message: string expected\";if(null!=e.details&&e.hasOwnProperty(\"details\")){if(!Array.isArray(e.details))return\"details: array expected\";for(var t=0;t<e.details.length;++t){var n=p.google.protobuf.Any.verify(e.details[t]);if(n)return\"details.\"+n}}return null},V.fromObject=function(e){if(e instanceof p.google.rpc.Status)return e;var t=new p.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(\".google.rpc.Status.details: array expected\");t.details=[];for(var n=0;n<e.details.length;++n){if(\"object\"!=typeof e.details[n])throw TypeError(\".google.rpc.Status.details: object expected\");t.details[n]=p.google.protobuf.Any.fromObject(e.details[n])}}return t},V.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.details=[]),t.defaults&&(n.code=0,n.message=\"\"),null!=e.code&&e.hasOwnProperty(\"code\")&&(n.code=e.code),null!=e.message&&e.hasOwnProperty(\"message\")&&(n.message=e.message),e.details&&e.details.length){n.details=[];for(var o=0;o<e.details.length;++o)n.details[o]=p.google.protobuf.Any.toObject(e.details[o],t)}return n},V.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},V),n),F),p});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9wcm90b3Mvb3BlcmF0aW9ucy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxxR0FBSyxLQUFxQyxDQUFDLGlDQUFPLENBQUMsMkZBQW9CLENBQUMsb0NBQUMsQ0FBQztBQUFBO0FBQUE7QUFBQSxrR0FBQyxDQUFDLENBQThILENBQUMsY0FBYyxxR0FBcUcsRUFBRSxrQkFBa0IsK0JBQStCLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMscURBQXFELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsZ0RBQWdELFdBQVcsd0NBQXdDLGNBQWMsNkRBQTZELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsNEtBQTRLLFdBQVcsd0NBQXdDLGNBQWMsMExBQTBMLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsMkZBQTJGLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsaURBQWlELFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMsOERBQThELFdBQVcsd0NBQXdDLGNBQWMscUdBQXFHLFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsbURBQW1ELFdBQVcsd0NBQXdDLGNBQWMsNEZBQTRGLFdBQVcsd0NBQXdDLGNBQWMscURBQXFELFdBQVcsd0NBQXdDLGNBQWMsK0NBQStDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0NBQWtDLFdBQVcsd0NBQXdDLGNBQWMsa0RBQWtELFdBQVcsd0NBQXdDLHNCQUFzQixvQkFBb0IsMEdBQTBHLHVCQUF1QixrRUFBa0Usa0hBQWtILFNBQVMsdUJBQXVCLGlFQUFpRSxtR0FBbUcsU0FBUyxxQkFBcUIsb0VBQW9FLCtGQUErRixTQUFTLHdCQUF3QixvRUFBb0UsK0ZBQStGLFNBQVMsd0JBQXdCLGtFQUFrRSxvR0FBb0csU0FBUyxzQkFBc0IsaUxBQWlMLCtEQUErRCx1QkFBdUIsZ0JBQWdCLHdCQUF3QixrakJBQWtqQixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msd0VBQXdFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw2REFBNkQsTUFBTSx1QkFBdUIsTUFBTSx3REFBd0QsTUFBTSw2REFBNkQsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsV0FBVyw2RkFBNkYsb0hBQW9ILG1HQUFtRyxpSEFBaUgsbURBQW1ELGdEQUFnRCw2RUFBNkUsWUFBWSwwQkFBMEIsd0RBQXdELHlDQUF5QywyREFBMkQsMEdBQTBHLHdEQUF3RCx5REFBeUQsb0dBQW9HLGdEQUFnRCxxQkFBcUIsMEdBQTBHLHdEQUF3RCxTQUFTLDBCQUEwQixTQUFTLGNBQWMsaWhCQUFpaEIsK0JBQStCLDREQUE0RCxvRUFBb0UsZ0JBQWdCLHdCQUF3Qix5R0FBeUcsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGtGQUFrRixRQUFRLEVBQUUsaUJBQWlCLDJDQUEyQyxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLDhJQUE4SSwwQkFBMEIsTUFBTSx3SkFBd0osMEJBQTBCLFNBQVMsY0FBYyxrRkFBa0YsK0JBQStCLDREQUE0RCw0SUFBNEksZ0JBQWdCLHdCQUF3Qix5WEFBeVgsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG9GQUFvRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sMkJBQTJCLE1BQU0sNEJBQTRCLE1BQU0sOEJBQThCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd2JBQXdiLDBCQUEwQixNQUFNLHlTQUF5UywwQkFBMEIsU0FBUyxjQUFjLDhVQUE4VSwrQkFBK0IsNERBQTRELG9IQUFvSCxnQkFBZ0Isd0JBQXdCLHVFQUF1RSxzQkFBc0Isd0ZBQXdGLG9IQUFvSCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MscUZBQXFGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxtSUFBbUksTUFBTSxrQ0FBa0MsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsdURBQXVELG1FQUFtRSxZQUFZLHNCQUFzQixLQUFLLDZEQUE2RCw0QkFBNEIsb0lBQW9JLDBCQUEwQixxRUFBcUUsc0RBQXNELGlCQUFpQix5SEFBeUgsZ0JBQWdCLFlBQVksc0JBQXNCLEtBQUssOEhBQThILDRFQUE0RSwwRUFBMEUsMEJBQTBCLFNBQVMsWUFBWSw2R0FBNkcsZ0JBQWdCLFlBQVksc0JBQXNCLCtFQUErRSxxR0FBcUcsK0JBQStCLDREQUE0RCx1RUFBdUUsZ0JBQWdCLHdCQUF3Qix5R0FBeUcsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHFGQUFxRixRQUFRLEVBQUUsaUJBQWlCLDJDQUEyQyxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLDhJQUE4SSwwQkFBMEIsTUFBTSw4SkFBOEosMEJBQTBCLFNBQVMsY0FBYyxrRkFBa0YsK0JBQStCLDREQUE0RCx1RUFBdUUsZ0JBQWdCLHdCQUF3Qix5R0FBeUcsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHFGQUFxRixRQUFRLEVBQUUsaUJBQWlCLDJDQUEyQyxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLDhJQUE4SSwwQkFBMEIsTUFBTSw4SkFBOEosMEJBQTBCLFNBQVMsY0FBYyxrRkFBa0YsK0JBQStCLDREQUE0RCw4RkFBOEYsZ0JBQWdCLHdCQUF3Qiw2T0FBNk8saUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLG1GQUFtRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0saUVBQWlFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpREFBaUQsK0NBQStDLHdCQUF3QixZQUFZLDBCQUEwQixtRUFBbUUsb0RBQW9ELDBEQUEwRCxtSEFBbUgsMkRBQTJELFNBQVMsMEJBQTBCLFNBQVMsY0FBYyw0TUFBNE0sK0JBQStCLDREQUE0RCxrR0FBa0csZ0JBQWdCLHdCQUF3Qix5T0FBeU8saUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDRFQUE0RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsaUNBQWlDLE1BQU0saUNBQWlDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isa1NBQWtTLDBCQUEwQixNQUFNLGtPQUFrTywwQkFBMEIsU0FBUyxjQUFjLG9PQUFvTywrQkFBK0IsNERBQTRELG1CQUFtQix3R0FBd0csZ0JBQWdCLHdCQUF3Qiw2REFBNkQsaUJBQWlCLDBFQUEwRSwrSkFBK0osaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDJEQUEyRCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsc0dBQXNHLE1BQU0sK0NBQStDLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZDQUE2Qyx5REFBeUQsWUFBWSxpQkFBaUIsS0FBSywrQ0FBK0MsdUJBQXVCLHNNQUFzTSwwQkFBMEIsMkNBQTJDLDRCQUE0QixZQUFZLHFGQUFxRixXQUFXLFlBQVksaUJBQWlCLEtBQUssMEZBQTBGLHlEQUF5RCx3SEFBd0gsMEJBQTBCLFNBQVMsWUFBWSw2R0FBNkcsV0FBVyxZQUFZLGlCQUFpQiw0REFBNEQsaUtBQWlLLCtCQUErQiw0REFBNEQsOFNBQThTLHlGQUF5Rix1QkFBdUIsZ0JBQWdCLHdCQUF3QiwyeEJBQTJ4Qiw4QkFBOEIsdUZBQXVGLGlIQUFpSCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsK0RBQStELFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw2QkFBNkIsTUFBTSx3QkFBd0IsTUFBTSx3QkFBd0IsTUFBTSx5QkFBeUIsTUFBTSwyQkFBMkIsTUFBTSwwQkFBMEIsTUFBTSxvRUFBb0UsTUFBTSx5QkFBeUIsTUFBTSxrQ0FBa0MsTUFBTSwySkFBMkosTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsU0FBUyw2R0FBNkcsdUdBQXVHLHlDQUF5QyxrREFBa0QsK0RBQStELDJDQUEyQyxrREFBa0QsaUVBQWlFLCtDQUErQyxrREFBa0QscUVBQXFFLDZDQUE2QyxrREFBa0QsbUVBQW1FLCtDQUErQyxrREFBa0QsbUZBQW1GLDZGQUE2Riw2SEFBNkgsdUVBQXVFLG1GQUFtRixjQUFjLDhCQUE4Qiw2RkFBNkYsWUFBWSwwQkFBMEIsK0NBQStDLGdDQUFnQyxzUUFBc1EsNkZBQTZGLDZEQUE2RCw2SEFBNkgsbUhBQW1ILHdCQUF3QixZQUFZLDhCQUE4QixLQUFLLHdIQUF3SCxtRkFBbUYsU0FBUywwQkFBMEIsU0FBUyxZQUFZLG8xQkFBbzFCLHdCQUF3QixZQUFZLDhCQUE4QixzRkFBc0YsaUdBQWlHLCtCQUErQiw0REFBNEQsc0ZBQXNGLGdCQUFnQix3QkFBd0IseUxBQXlMLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RUFBd0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHlCQUF5QixNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLGtPQUFrTywwQkFBMEIsTUFBTSwwS0FBMEssMEJBQTBCLFNBQVMsY0FBYyxvSkFBb0osK0JBQStCLDREQUE0RCx3QkFBd0Isd0VBQXdFLGdCQUFnQix3QkFBd0IsMkRBQTJELGdCQUFnQix5RkFBeUYsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsNkVBQTZFLFFBQVEsRUFBRSxpQkFBaUIsc0lBQXNJLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsS0FBSyw4REFBOEQsc0JBQXNCLFlBQVksMEJBQTBCLDZEQUE2RCw4Q0FBOEMsV0FBVyxxR0FBcUcsVUFBVSxZQUFZLGdCQUFnQixLQUFLLDBHQUEwRyx1RUFBdUUsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDBEQUEwRCxVQUFVLFlBQVksZ0JBQWdCLDBFQUEwRSxTQUFTLCtCQUErQiw0REFBNEQsMmFBQTJhLGdCQUFnQix3QkFBd0IsZ1BBQWdQLHNCQUFzQix5Q0FBeUMscURBQXFELHVCQUF1Qiw0RkFBNEYsK0NBQStDLG9CQUFvQiw2RkFBNkYsNkNBQTZDLG1CQUFtQiwrRkFBK0YsaURBQWlELHFCQUFxQiwrRkFBK0YscVdBQXFXLDRCQUE0Qiw4Q0FBOEMsMkRBQTJELDBCQUEwQiw0Q0FBNEMsK0ZBQStGLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrRUFBK0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDRCQUE0QixNQUFNLDBGQUEwRixNQUFNLHNIQUFzSCxRQUFRLG9DQUFvQyx3Q0FBd0MsTUFBTSw0R0FBNEcsUUFBUSxrQ0FBa0Msc0NBQXNDLE1BQU0sMElBQTBJLE1BQU0sa0lBQWtJLE1BQU0saUlBQWlJLE1BQU0sdUlBQXVJLE1BQU0sb0VBQW9FLE1BQU0sOEVBQThFLE1BQU0sNEJBQTRCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2Rix5R0FBeUcsdURBQXVELG1FQUFtRSxZQUFZLHNCQUFzQiwwRUFBMEUsbUVBQW1FLCtFQUErRSxRQUFRLDRCQUE0Qix3RkFBd0YsK0RBQStELDJFQUEyRSxRQUFRLDBCQUEwQixvRkFBb0YseURBQXlELHFFQUFxRSxRQUFRLHVCQUF1QiwyRkFBMkYsbURBQW1ELCtEQUErRCxRQUFRLG9CQUFvQix5RkFBeUYsaURBQWlELDZEQUE2RCxRQUFRLG1CQUFtQiwwRkFBMEYscURBQXFELGlFQUFpRSxRQUFRLHFCQUFxQiw0RkFBNEYsTUFBTSx3SEFBd0gsdUpBQXVKLHdHQUF3RywwQkFBMEIsK0RBQStELGdEQUFnRCxzR0FBc0csbUhBQW1ILGdCQUFnQixZQUFZLHNCQUFzQiw0Q0FBNEMsdUJBQXVCLCtIQUErSCxzQkFBc0IsUUFBUSw0QkFBNEIsa0RBQWtELHFCQUFxQiwySEFBMkgsb0JBQW9CLFFBQVEsMEJBQTBCLDhDQUE4QyxrQkFBa0IscUhBQXFILGlCQUFpQixRQUFRLHVCQUF1QixLQUFLLDBIQUEwSCxpRkFBaUYsZUFBZSwrR0FBK0csY0FBYyxRQUFRLG9CQUFvQixLQUFLLG9IQUFvSCwrRUFBK0UsY0FBYyw2R0FBNkcsYUFBYSxRQUFRLG1CQUFtQixLQUFLLGtIQUFrSCxnRkFBZ0YsZ0JBQWdCLGlIQUFpSCxlQUFlLFFBQVEscUJBQXFCLEtBQUssc0hBQXNILGtGQUFrRixvQkFBb0IsK0dBQStHLDhEQUE4RCwyQkFBMkIsNkhBQTZILCtFQUErRSxxREFBcUQsMEJBQTBCLFNBQVMsWUFBWSxtWUFBbVksZ0JBQWdCLFlBQVksc0JBQXNCLG9DQUFvQyx3Q0FBd0MsaUJBQWlCLFFBQVEsdUJBQXVCLG9GQUFvRixrQ0FBa0MsY0FBYyxRQUFRLG9CQUFvQixrRkFBa0YsZ0NBQWdDLGFBQWEsUUFBUSxtQkFBbUIsbUZBQW1GLG9DQUFvQyxlQUFlLFFBQVEscUJBQXFCLHFGQUFxRiw2U0FBNlMsc0JBQXNCLFFBQVEsNEJBQTRCLGdEQUFnRCw4Q0FBOEMsb0JBQW9CLFFBQVEsMEJBQTBCLDRDQUE0Qyx5RUFBeUUsK0JBQStCLDREQUE0RCx5WEFBeVgsZ0JBQWdCLHdCQUF3Qiw2SUFBNkksaUJBQWlCLDJGQUEyRixtREFBbUQsc0JBQXNCLDJGQUEyRiwrQ0FBK0Msb0JBQW9CLDZGQUE2RiwyREFBMkQsMEJBQTBCLDhHQUE4RyxpREFBaUQscUJBQXFCLCtGQUErRiwyTEFBMkwscUJBQXFCLCtGQUErRix5REFBeUQseUJBQXlCLDRHQUE0Ryx1REFBdUQsd0JBQXdCLDJDQUEyQyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywyRUFBMkUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLHVIQUF1SCxNQUFNLHVJQUF1SSxNQUFNLHNJQUFzSSxNQUFNLGtJQUFrSSxNQUFNLHFLQUFxSyxNQUFNLHVJQUF1SSxNQUFNLHVFQUF1RSxNQUFNLGdLQUFnSyxNQUFNLG1HQUFtRyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsNkNBQTZDLHlEQUF5RCxZQUFZLGlCQUFpQixvRkFBb0YscURBQXFELGlFQUFpRSxRQUFRLHFCQUFxQiw0RkFBNEYsdURBQXVELG1FQUFtRSxRQUFRLHNCQUFzQix5RkFBeUYsbURBQW1ELCtEQUErRCxRQUFRLG9CQUFvQix5RkFBeUYsK0RBQStELDJFQUEyRSxRQUFRLDBCQUEwQixnSEFBZ0gscURBQXFELGlFQUFpRSxRQUFRLHFCQUFxQiw0RkFBNEYsMkhBQTJILDZEQUE2RCx5RUFBeUUsY0FBYyx5QkFBeUIsNkdBQTZHLDJEQUEyRCx1RUFBdUUsUUFBUSx3QkFBd0IsOEVBQThFLFlBQVksMEJBQTBCLDJEQUEyRCw0Q0FBNEMsa0RBQWtELHFHQUFxRyxXQUFXLFlBQVksaUJBQWlCLEtBQUssMEdBQTBHLDBFQUEwRSxnQkFBZ0IsNkdBQTZHLGVBQWUsUUFBUSxxQkFBcUIsS0FBSyxrSEFBa0gsa0ZBQWtGLGlCQUFpQiwrR0FBK0csZ0JBQWdCLFFBQVEsc0JBQXNCLEtBQUssb0hBQW9ILCtFQUErRSxlQUFlLDJHQUEyRyxjQUFjLFFBQVEsb0JBQW9CLEtBQUssZ0hBQWdILCtFQUErRSxxQkFBcUIsdUhBQXVILG9CQUFvQixRQUFRLDBCQUEwQixLQUFLLDRIQUE0SCxzR0FBc0csZ0JBQWdCLDZHQUE2RyxlQUFlLFFBQVEscUJBQXFCLEtBQUssa0hBQWtILGtGQUFrRixvQkFBb0IsMkdBQTJHLGlFQUFpRSxvQkFBb0IscUhBQXFILG1CQUFtQixRQUFRLHlCQUF5QixLQUFLLDBIQUEwSCxtR0FBbUcsbUJBQW1CLG1IQUFtSCxrQkFBa0IsUUFBUSx3QkFBd0IsZ0RBQWdELFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxpUkFBaVIsV0FBVyxZQUFZLGlCQUFpQiw2RUFBNkUsc0NBQXNDLGdCQUFnQixRQUFRLHNCQUFzQixrRkFBa0Ysa0NBQWtDLGNBQWMsUUFBUSxvQkFBb0Isa0ZBQWtGLDhDQUE4QyxvQkFBb0IsUUFBUSwwQkFBMEIseUdBQXlHLG9DQUFvQyxlQUFlLFFBQVEscUJBQXFCLHFGQUFxRixxSkFBcUosZUFBZSxRQUFRLHFCQUFxQixxRkFBcUYsNENBQTRDLG1CQUFtQixRQUFRLHlCQUF5QixzR0FBc0csMENBQTBDLGtCQUFrQixRQUFRLHdCQUF3Qix3Q0FBd0MsU0FBUywrQkFBK0IsNERBQTRELHVHQUF1RyxnQkFBZ0Isd0JBQXdCLHVVQUF1VSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEZBQTBGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSw4RUFBOEUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsbUdBQW1HLDJGQUEyRixpREFBaUQsNERBQTRELHdCQUF3QixZQUFZLDBCQUEwQiwwRUFBMEUsMkRBQTJELG9GQUFvRiwwSEFBMEgsd0VBQXdFLFNBQVMsMEJBQTBCLFNBQVMsY0FBYyx5UkFBeVIsK0JBQStCLDREQUE0RCxnRkFBZ0YsZ0JBQWdCLHdCQUF3QixzTEFBc0wsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHlGQUF5RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0sdUJBQXVCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isc09BQXNPLDBCQUEwQixNQUFNLGdNQUFnTSwwQkFBMEIsU0FBUyxjQUFjLGtKQUFrSiwrQkFBK0IsNERBQTRELGtHQUFrRyxnQkFBZ0Isd0JBQXdCLHlGQUF5RiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGlGQUFpRixRQUFRLEVBQUUsaUJBQWlCLG9NQUFvTSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQixpRUFBaUUsa0RBQWtELDBCQUEwQix1SUFBdUkseUJBQXlCLFlBQVksK0JBQStCLEtBQUssNElBQTRJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksdUdBQXVHLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHFUQUFxVCxnQkFBZ0Isd0JBQXdCLGlqQ0FBaWpDLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxnRkFBZ0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDBCQUEwQixNQUFNLHlCQUF5QixNQUFNLHdCQUF3QixNQUFNLDZCQUE2QixNQUFNLDZCQUE2QixNQUFNLGlDQUFpQyxNQUFNLDhCQUE4QixNQUFNLDhCQUE4QixNQUFNLHFFQUFxRSxNQUFNLGtDQUFrQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsdUdBQXVHLDREQUE0RCwyQ0FBMkMsc0JBQXNCLHlEQUF5RCwwQ0FBMEMsd0lBQXdJLDZHQUE2Ryw2R0FBNkcsNkhBQTZILHVIQUF1SCw2R0FBNkcsaURBQWlELHVEQUF1RCx3QkFBd0IsOElBQThJLDBCQUEwQixnRUFBZ0UsaURBQWlELDRGQUE0RixzQ0FBc0MsTUFBTSxzQ0FBc0MsTUFBTSxzQ0FBc0MsZUFBZSxrQ0FBa0MsTUFBTSxpQ0FBaUMsTUFBTSxpQ0FBaUMsTUFBTSxrQ0FBa0MsTUFBTSxpQ0FBaUMsTUFBTSxtQ0FBbUMsTUFBTSxtQ0FBbUMsTUFBTSxnQ0FBZ0MsTUFBTSxrQ0FBa0MsTUFBTSxtQ0FBbUMsTUFBTSxxQ0FBcUMsTUFBTSxtQ0FBbUMsTUFBTSxvQ0FBb0MsTUFBTSxrQ0FBa0MsTUFBTSxzQ0FBc0MsTUFBTSxzQ0FBc0MsTUFBTSxvQ0FBb0MsTUFBTSxvQ0FBb0MsMFJBQTBSLGdIQUFnSCwrREFBK0QsOEVBQThFLDBCQUEwQixTQUFTLGNBQWMsOHFDQUE4cUMsK0JBQStCLDREQUE0RCxhQUFhLG9lQUFvZSxxTUFBcU0sZ0JBQWdCLHdCQUF3QixpUEFBaVAsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLGdGQUFnRixRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0scUVBQXFFLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDZGQUE2RixpREFBaUQsbURBQW1ELHdCQUF3QixZQUFZLDBCQUEwQixnRUFBZ0UsaURBQWlELDBEQUEwRCxnSEFBZ0gsK0RBQStELFNBQVMsMEJBQTBCLFNBQVMsY0FBYyxnTkFBZ04sK0JBQStCLDREQUE0RCx5TUFBeU0sZ0JBQWdCLHdCQUF3Qiw2SUFBNkksaUJBQWlCLCtGQUErRixnTUFBZ00seUJBQXlCLG9IQUFvSCx1REFBdUQsd0JBQXdCLDJDQUEyQyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQywrRUFBK0UsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDJIQUEySCxNQUFNLG9FQUFvRSxNQUFNLHdLQUF3SyxNQUFNLGtHQUFrRyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsNkNBQTZDLHlEQUF5RCxZQUFZLGlCQUFpQix3RkFBd0Ysd0hBQXdILDZEQUE2RCx5RUFBeUUsY0FBYyx5QkFBeUIscUhBQXFILDJEQUEyRCx1RUFBdUUsUUFBUSx3QkFBd0IsOEVBQThFLFlBQVksMEJBQTBCLCtEQUErRCxnREFBZ0Qsa0RBQWtELHlHQUF5RyxXQUFXLFlBQVksaUJBQWlCLEtBQUssOEdBQThHLDhFQUE4RSxvQkFBb0IsK0dBQStHLDhEQUE4RCxvQkFBb0IseUhBQXlILG1CQUFtQixRQUFRLHlCQUF5QixLQUFLLDhIQUE4SCwyR0FBMkcsbUJBQW1CLHVIQUF1SCxrQkFBa0IsUUFBUSx3QkFBd0IsZ0RBQWdELFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxpTUFBaU0sV0FBVyxZQUFZLGlCQUFpQixpRkFBaUYsMEpBQTBKLG1CQUFtQixRQUFRLHlCQUF5Qiw4R0FBOEcsMENBQTBDLGtCQUFrQixRQUFRLHdCQUF3Qix3Q0FBd0MsU0FBUywrQkFBK0IsNERBQTRELGlGQUFpRixnQkFBZ0Isd0JBQXdCLHNMQUFzTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsaUdBQWlHLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixzT0FBc08sMEJBQTBCLE1BQU0sZ05BQWdOLDBCQUEwQixTQUFTLGNBQWMsa0pBQWtKLCtCQUErQiw0REFBNEQsMEhBQTBILGdCQUFnQix3QkFBd0IsMFVBQTBVLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxvRkFBb0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDBCQUEwQixNQUFNLHlFQUF5RSxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsdUdBQXVHLGlEQUFpRCx1REFBdUQsd0JBQXdCLFlBQVksMEJBQTBCLG9FQUFvRSxxREFBcUQsZ0dBQWdHLG9IQUFvSCxtRUFBbUUsU0FBUywwQkFBMEIsU0FBUyxjQUFjLCtSQUErUiwrQkFBK0IsNERBQTRELGdJQUFnSSxnQkFBZ0Isd0JBQXdCLCtJQUErSSxrQkFBa0IsNkZBQTZGLG1KQUFtSixpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msa0ZBQWtGLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx5QkFBeUIsTUFBTSw0SEFBNEgsTUFBTSx1RUFBdUUsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsNkZBQTZGLCtDQUErQywyREFBMkQsWUFBWSxrQkFBa0IsdUZBQXVGLE1BQU0sMkhBQTJILFlBQVksMEJBQTBCLGtFQUFrRSxtREFBbUQsbURBQW1ELDhHQUE4RyxZQUFZLFlBQVksa0JBQWtCLEtBQUssbUhBQW1ILDZFQUE2RSxvQkFBb0Isa0hBQWtILGlFQUFpRSxTQUFTLDBCQUEwQixTQUFTLFlBQVksK0pBQStKLFlBQVksWUFBWSxrQkFBa0IsZ0ZBQWdGLDBIQUEwSCwrQkFBK0IsNERBQTRELGdOQUFnTixnQkFBZ0Isd0JBQXdCLGlwQkFBaXBCLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpRkFBaUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHlCQUF5QixNQUFNLDhCQUE4QixNQUFNLCtCQUErQixNQUFNLHNFQUFzRSxNQUFNLGtDQUFrQyxNQUFNLGtDQUFrQyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCw2RkFBNkYsaUhBQWlILHFIQUFxSCxpREFBaUQsd0RBQXdELHdCQUF3Qix3UkFBd1IsMEJBQTBCLGlFQUFpRSxrREFBa0QsdUtBQXVLLGlIQUFpSCxnRUFBZ0UseUpBQXlKLDBCQUEwQixTQUFTLGNBQWMsOG5CQUE4bkIsK0JBQStCLDREQUE0RCxtc0JBQW1zQixnQkFBZ0Isd0JBQXdCLGt6RUFBa3pFLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsdUVBQXVFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyxnQ0FBZ0MsTUFBTSx1Q0FBdUMsTUFBTSxxQ0FBcUMsTUFBTSw2Q0FBNkMsTUFBTSx1Q0FBdUMsTUFBTSwrQkFBK0IsTUFBTSwrQkFBK0IsTUFBTSxxQ0FBcUMsTUFBTSx1Q0FBdUMsTUFBTSxxQ0FBcUMsTUFBTSxzQ0FBc0MsTUFBTSw4QkFBOEIsTUFBTSxrQ0FBa0MsTUFBTSxxQ0FBcUMsTUFBTSxxQ0FBcUMsTUFBTSxpQ0FBaUMsTUFBTSxvQ0FBb0MsTUFBTSxrQ0FBa0MsTUFBTSwwQ0FBMEMsTUFBTSxpQ0FBaUMsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QseUhBQXlILHFKQUFxSix1SkFBdUosdUxBQXVMLCtKQUErSiw4RUFBOEUsaURBQWlELHNCQUFzQixpSEFBaUgsdUpBQXVKLCtKQUErSix1SkFBdUosMkpBQTJKLDJIQUEySCwySUFBMkkseUlBQXlJLHlJQUF5SSx5SEFBeUgscUlBQXFJLDZIQUE2SCw2SkFBNkoseUhBQXlILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLHVEQUF1RCx3Q0FBd0MseWFBQXlhLG1DQUFtQyxNQUFNLHVDQUF1QyxNQUFNLDBDQUEwQywwK0JBQTArQiw2SEFBNkgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssa0lBQWtJLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksMmxGQUEybEYseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxTQUFTLCtCQUErQiw0REFBNEQscUJBQXFCLGlUQUFpVCxnQkFBZ0Isd0JBQXdCLHNpQkFBc2lCLCtCQUErQiwwR0FBMEcsU0FBUyxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MsMEVBQTBFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyx1Q0FBdUMsTUFBTSwrQ0FBK0MsTUFBTSw2QkFBNkIsTUFBTSwyQkFBMkIsTUFBTSxnTEFBZ0wsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsbUtBQW1LLG1NQUFtTSwySEFBMkgsbUhBQW1ILHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsS0FBSyw2RUFBNkUscUNBQXFDLFlBQVksMEJBQTBCLDBEQUEwRCwyQ0FBMkMsNFVBQTRVLGdJQUFnSSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxxSUFBcUkscUdBQXFHLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSx1bkJBQXVuQix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCx1TkFBdU4sZ0JBQWdCLHdCQUF3Qiwra0JBQStrQiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMseUJBQXlCLE1BQU0seUJBQXlCLE1BQU0sMEJBQTBCLE1BQU0sdUJBQXVCLE1BQU0sNkJBQTZCLE1BQU0sd0JBQXdCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDREQUE0RCwyQ0FBMkMsc0JBQXNCLDJHQUEyRywrREFBK0QsNENBQTRDLHNCQUFzQixtR0FBbUcsMkhBQTJILG1HQUFtRyx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix3REFBd0QseUNBQXlDLGdCQUFnQiw4QkFBOEIsTUFBTSw0QkFBNEIsTUFBTSxvQ0FBb0MsOERBQThELGtDQUFrQyxNQUFNLGtDQUFrQyxNQUFNLGtDQUFrQyxpS0FBaUssOEhBQThILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLG1JQUFtSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDZ1QkFBNnVCLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELGNBQWMsa0dBQWtHLDhLQUE4SyxnQkFBZ0Isd0JBQXdCLHlGQUF5RiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdFQUF3RSxRQUFRLEVBQUUsaUJBQWlCLG9NQUFvTSxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyxZQUFZLDBCQUEwQix3REFBd0QseUNBQXlDLDBCQUEwQiw4SEFBOEgseUJBQXlCLFlBQVksK0JBQStCLEtBQUssbUlBQW1JLHFHQUFxRyxTQUFTLDBCQUEwQixTQUFTLFlBQVksdUdBQXVHLHlCQUF5QixZQUFZLCtCQUErQix3R0FBd0csU0FBUywrQkFBK0IsNERBQTRELHlJQUF5SSxnQkFBZ0Isd0JBQXdCLHlSQUF5UiwrQkFBK0IsMEdBQTBHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHVFQUF1RSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sNkJBQTZCLE1BQU0sZ0xBQWdMLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsdURBQXVELHdDQUF3Qyw0SUFBNEksNkhBQTZILHlCQUF5QixZQUFZLCtCQUErQixLQUFLLGtJQUFrSSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHFUQUFxVCx5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxvSEFBb0gsZ0JBQWdCLHdCQUF3Qix3TEFBd0wsK0JBQStCLDBHQUEwRyxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw0RUFBNEUsUUFBUSxFQUFFLGlCQUFpQixjQUFjLDZCQUE2QixNQUFNLGdMQUFnTCxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwySEFBMkgseUVBQXlFLHFGQUFxRixZQUFZLCtCQUErQixLQUFLLDZFQUE2RSxxQ0FBcUMsWUFBWSwwQkFBMEIsNERBQTRELDZDQUE2QyxtRkFBbUYsa0lBQWtJLHlCQUF5QixZQUFZLCtCQUErQixLQUFLLHVJQUF1SSxxR0FBcUcsU0FBUywwQkFBMEIsU0FBUyxZQUFZLHFOQUFxTix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLFNBQVMsK0JBQStCLDREQUE0RCxzTUFBc00sZ0JBQWdCLHdCQUF3QiwwTEFBMEwsK0JBQStCLDBHQUEwRywyU0FBMlMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsOEJBQThCLE1BQU0sZ0xBQWdMLE1BQU0sa0RBQWtELE1BQU0sa0RBQWtELE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJIQUEySCx5RUFBeUUscUZBQXFGLFlBQVksK0JBQStCLEtBQUssNkVBQTZFLHFDQUFxQyx3VkFBd1YsMEJBQTBCLDBEQUEwRCwyQ0FBMkMsbUZBQW1GLGdJQUFnSSx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxxSUFBcUkscUdBQXFHLHlOQUF5TiwwQkFBMEIsU0FBUyxZQUFZLHFSQUFxUix5QkFBeUIsWUFBWSwrQkFBK0Isd0dBQXdHLG1TQUFtUywrQkFBK0IsNERBQTRELG1TQUFtUyxnQkFBZ0Isd0JBQXdCLDhTQUE4UywrQkFBK0IsMEdBQTBHLDZUQUE2VCwwQ0FBMEMsK0RBQStELGdMQUFnTCxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0MseUVBQXlFLFFBQVEsRUFBRSxpQkFBaUIsY0FBYyw4QkFBOEIsTUFBTSxxQ0FBcUMsTUFBTSxnTEFBZ0wsTUFBTSx5R0FBeUcsTUFBTSwrRUFBK0UsTUFBTSw2S0FBNkssTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkhBQTJILDZGQUE2RixzREFBc0Qsc0JBQXNCLHlFQUF5RSxxRkFBcUYsWUFBWSwrQkFBK0IsK0dBQStHLE1BQU0sMk9BQTJPLDBKQUEwSiw0RkFBNEYsd0dBQXdHLFFBQVEsMENBQTBDLCtHQUErRyxZQUFZLDBCQUEwQix5REFBeUQsMENBQTBDLG9GQUFvRixzREFBc0QsTUFBTSxrREFBa0QsTUFBTSw2Q0FBNkMsMEJBQTBCLCtIQUErSCx5QkFBeUIsWUFBWSwrQkFBK0IsS0FBSyxvSUFBb0kscUdBQXFHLGlEQUFpRCxnS0FBZ0ssNkhBQTZILGdDQUFnQyw4SEFBOEgsOEVBQThFLHFDQUFxQyxrSkFBa0osb0NBQW9DLFFBQVEsMENBQTBDLG9GQUFvRixTQUFTLDBCQUEwQixTQUFTLFlBQVksMGpCQUEwakIseUJBQXlCLFlBQVksK0JBQStCLHdHQUF3RyxrVEFBa1Qsb0NBQW9DLFFBQVEsMENBQTBDLDRFQUE0RSw0SkFBNEosK0JBQStCLDREQUE0RCx5QkFBeUIsa2JBQWtiLGdCQUFnQix3QkFBd0IsMkRBQTJELGdCQUFnQixrR0FBa0csd3BCQUF3cEIsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtFQUErRSxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsMkhBQTJILE1BQU0sb0NBQW9DLE1BQU0scUNBQXFDLE1BQU0sb0NBQW9DLE1BQU0sZ0NBQWdDLE1BQU0sK0JBQStCLE1BQU0sbUNBQW1DLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsS0FBSyx1RUFBdUUsc0JBQXNCLDQvQkFBNC9CLDBCQUEwQiwrREFBK0QsZ0RBQWdELFdBQVcsdUdBQXVHLFVBQVUsWUFBWSxnQkFBZ0IsS0FBSyw0R0FBNEcsZ0ZBQWdGLGtzQ0FBa3NDLDBCQUEwQixXQUFXLFlBQVksb2lCQUFvaUIsVUFBVSxZQUFZLGdCQUFnQixtRkFBbUYseXpDQUF5ekMsK0JBQStCLDREQUE0RCxxRkFBcUYsZ0JBQWdCLHdCQUF3Qix5RkFBeUYsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLHdGQUF3RixRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0sOEJBQThCLE1BQU0seUJBQXlCLHNGQUFzRixXQUFXLEVBQUUsNENBQTRDLHdEQUF3RCxXQUFXLEVBQUUsK0JBQStCLDhEQUE4RCxzQkFBc0IsNktBQTZLLDBCQUEwQixNQUFNLDRPQUE0TywwQkFBMEIsU0FBUyxjQUFjLDJNQUEyTSwrQkFBK0IsNERBQTRELGdGQUFnRixnQkFBZ0Isd0JBQXdCLG1FQUFtRSxvQkFBb0IsaUdBQWlHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDBFQUEwRSxRQUFRLEVBQUUsaUJBQWlCLDBKQUEwSixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCxtREFBbUQsK0RBQStELFlBQVksb0JBQW9CLEtBQUssc0VBQXNFLDBCQUEwQixZQUFZLDBCQUEwQiwwREFBMEQsMkNBQTJDLGVBQWUsMEdBQTBHLGNBQWMsWUFBWSxvQkFBb0IsS0FBSywrR0FBK0csbUZBQW1GLFNBQVMsMEJBQTBCLFNBQVMsWUFBWSxzRUFBc0UsY0FBYyxZQUFZLG9CQUFvQixzRkFBc0YsU0FBUywrQkFBK0IsNERBQTRELDhNQUE4TSxnQkFBZ0Isd0JBQXdCLGdEQUFnRCxvQkFBb0IsWUFBWSxnQkFBZ0IsdUJBQXVCLFdBQVcsZ0NBQWdDLG9CQUFvQixRQUFRLGdCQUFnQix1QkFBdUIsV0FBVyxrVEFBa1QsbUNBQW1DLHNEQUFzRCxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxtRkFBbUYsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGlGQUFpRixRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSw2RUFBNkUsUUFBUSx3QkFBd0IsNEJBQTRCLE1BQU0sb0NBQW9DLE1BQU0scUNBQXFDLE1BQU0sOElBQThJLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isd0RBQXdELDJDQUEyQyx1REFBdUQsWUFBWSxnQkFBZ0IsZ0VBQWdFLDJDQUEyQyx1REFBdUQsUUFBUSxnQkFBZ0IsZ0VBQWdFLHlJQUF5SSw2SUFBNkksaUZBQWlGLDZGQUE2RixRQUFRLG1DQUFtQyxvR0FBb0csWUFBWSwwQkFBMEIsbUVBQW1FLG9EQUFvRCxXQUFXLDJHQUEyRyxVQUFVLFlBQVksZ0JBQWdCLDBCQUEwQixXQUFXLDJHQUEyRyxVQUFVLFFBQVEsZ0JBQWdCLDBCQUEwQiwrS0FBK0ssaUpBQWlKLDZCQUE2QixRQUFRLG1DQUFtQyxzRUFBc0UsU0FBUywwQkFBMEIsU0FBUyxZQUFZLDBKQUEwSixVQUFVLFlBQVksZ0JBQWdCLHdCQUF3QiwwQkFBMEIsVUFBVSxRQUFRLGdCQUFnQix3QkFBd0IsNFFBQTRRLDZCQUE2QixRQUFRLG1DQUFtQyw4REFBOEQsU0FBUywrQkFBK0IsNERBQTRELHFGQUFxRixnQkFBZ0Isd0JBQXdCLHVFQUF1RSxzQkFBc0Isd0dBQXdHLFNBQVMsaUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLDZFQUE2RSxRQUFRLEVBQUUsaUJBQWlCLHVLQUF1SyxTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCx1REFBdUQsbUVBQW1FLFlBQVksc0JBQXNCLEtBQUssNkVBQTZFLDRCQUE0QixZQUFZLDBCQUEwQiw2REFBNkQsOENBQThDLGlCQUFpQixpSEFBaUgsZ0JBQWdCLFlBQVksc0JBQXNCLEtBQUssc0hBQXNILDRGQUE0RixTQUFTLDBCQUEwQixTQUFTLFlBQVksNEVBQTRFLGdCQUFnQixZQUFZLHNCQUFzQiwrRkFBK0YsU0FBUywrQkFBK0IsNERBQTRELGtJQUFrSSxnQkFBZ0Isd0JBQXdCLGdEQUFnRCxvQkFBb0IsWUFBWSxnQkFBZ0IsdUJBQXVCLFdBQVcseVFBQXlRLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyx3RkFBd0YsUUFBUSxFQUFFLGlCQUFpQixjQUFjLGlGQUFpRixRQUFRLHdCQUF3Qiw0QkFBNEIsTUFBTSwrQkFBK0IsTUFBTSx5QkFBeUIsTUFBTSx1QkFBdUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQix3REFBd0QsMkNBQTJDLHVEQUF1RCxZQUFZLGdCQUFnQixnRUFBZ0Usb1NBQW9TLDBCQUEwQix3RUFBd0UseURBQXlELFdBQVcsZ0hBQWdILFVBQVUsWUFBWSxnQkFBZ0IsMEJBQTBCLGlJQUFpSSwwQkFBMEIsU0FBUyxZQUFZLDBHQUEwRyxVQUFVLFlBQVksZ0JBQWdCLHdCQUF3Qix5TUFBeU0sK0JBQStCLDREQUE0RCw2RkFBNkYsZ0JBQWdCLHdCQUF3Qix1TUFBdU0saUNBQWlDLGlDQUFpQyx3QkFBd0IsZ0NBQWdDLCtEQUErRCxRQUFRLEVBQUUsaUJBQWlCLGNBQWMsNkJBQTZCLE1BQU0seUJBQXlCLE1BQU0seUJBQXlCLFNBQVMsK0JBQStCLDhEQUE4RCxzQkFBc0Isa1NBQWtTLDBCQUEwQixNQUFNLG1SQUFtUiwwQkFBMEIsU0FBUyxjQUFjLDBXQUEwVywrQkFBK0IsNERBQTRELDhHQUE4RyxnQkFBZ0Isd0JBQXdCLGtNQUFrTSxpQ0FBaUMsaUNBQWlDLHdCQUF3QixnQ0FBZ0Msb0VBQW9FLFFBQVEsRUFBRSxpQkFBaUIsY0FBYywyQkFBMkIsTUFBTSx5QkFBeUIsTUFBTSx5QkFBeUIsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQixpVUFBaVUsMEJBQTBCLE1BQU0sMFpBQTBaLDBCQUEwQixXQUFXLGNBQWMsK2ZBQStmLCtCQUErQiw0REFBNEQsa0NBQWtDLGdCQUFnQix3QkFBd0IsdUJBQXVCLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyxpRUFBaUUsUUFBUSxFQUFFLGlCQUFpQixnQkFBZ0IsU0FBUywrQkFBK0IsOERBQThELHNCQUFzQiwwREFBMEQsMEJBQTBCLDBFQUEwRSx1QkFBdUIsU0FBUywrQkFBK0IsNERBQTRELG1CQUFtQiwwR0FBMEcsZ0JBQWdCLHdCQUF3Qix3T0FBd08sbUJBQW1CLDRFQUE0RSxTQUFTLGlDQUFpQyxpQ0FBaUMsd0JBQXdCLGdDQUFnQyw2REFBNkQsUUFBUSxFQUFFLGlCQUFpQixjQUFjLHdCQUF3QixNQUFNLDRCQUE0QixNQUFNLDhHQUE4RyxNQUFNLHlCQUF5QixTQUFTLCtCQUErQiw4REFBOEQsc0JBQXNCLHdEQUF3RCwrRkFBK0YseUdBQXlHLGlEQUFpRCw2REFBNkQsWUFBWSxtQkFBbUIsS0FBSyxpREFBaUQseUJBQXlCLFlBQVksMEJBQTBCLDZDQUE2Qyw4QkFBOEIsNkZBQTZGLDJGQUEyRixhQUFhLFlBQVksbUJBQW1CLEtBQUssZ0dBQWdHLDZEQUE2RCxTQUFTLDBCQUEwQixTQUFTLFlBQVksbU9BQW1PLGFBQWEsWUFBWSxtQkFBbUIsZ0VBQWdFLFNBQVMsK0JBQStCLDREQUE0RCxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvcHJvdG9zL29wZXJhdGlvbnMuanM/YzMzNCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZT0+e1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicHJvdG9idWZqcy9taW5pbWFsXCJdLGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCJwcm90b2J1ZmpzL21pbmltYWxcIikpKX0pKGZ1bmN0aW9uKG8pe3ZhciBlLHQsbixGLGE9by5SZWFkZXIscj1vLldyaXRlcixpPW8udXRpbCxwPW8ucm9vdHMub3BlcmF0aW9uc19wcm90b3N8fChvLnJvb3RzLm9wZXJhdGlvbnNfcHJvdG9zPXt9KTtmdW5jdGlvbiBHKGUsdCxuKXtvLnJwYy5TZXJ2aWNlLmNhbGwodGhpcyxlLHQsbil9ZnVuY3Rpb24gbChlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gQihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gcyhlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gdShlKXtpZih0aGlzLm9wZXJhdGlvbnM9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEwoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFUoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGMoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGQoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGcoZSl7aWYodGhpcy5ydWxlcz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gZihlKXtpZih0aGlzLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24geShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gSihlKXtpZih0aGlzLmZpbGU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGgoZSl7aWYodGhpcy5kZXBlbmRlbmN5PVtdLHRoaXMucHVibGljRGVwZW5kZW5jeT1bXSx0aGlzLndlYWtEZXBlbmRlbmN5PVtdLHRoaXMubWVzc2FnZVR5cGU9W10sdGhpcy5lbnVtVHlwZT1bXSx0aGlzLnNlcnZpY2U9W10sdGhpcy5leHRlbnNpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIE8oZSl7aWYodGhpcy5maWVsZD1bXSx0aGlzLmV4dGVuc2lvbj1bXSx0aGlzLm5lc3RlZFR5cGU9W10sdGhpcy5lbnVtVHlwZT1bXSx0aGlzLmV4dGVuc2lvblJhbmdlPVtdLHRoaXMub25lb2ZEZWNsPVtdLHRoaXMucmVzZXJ2ZWRSYW5nZT1bXSx0aGlzLnJlc2VydmVkTmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gYihlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gbShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gTShlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHYoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHcoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFAoZSl7aWYodGhpcy52YWx1ZT1bXSx0aGlzLnJlc2VydmVkUmFuZ2U9W10sdGhpcy5yZXNlcnZlZE5hbWU9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIF8oZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGooZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIFMoZSl7aWYodGhpcy5tZXRob2Q9W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIHgoZSl7aWYoZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIGsoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBEKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVChlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEgoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBFKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24geihlKXtpZih0aGlzLnVuaW50ZXJwcmV0ZWRPcHRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEEoZSl7aWYodGhpcy51bmludGVycHJldGVkT3B0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBOKGUpe2lmKHRoaXMudW5pbnRlcnByZXRlZE9wdGlvbj1bXSx0aGlzW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBJKGUpe2lmKHRoaXMubmFtZT1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gcShlKXtpZihlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gWShlKXtpZih0aGlzLmxvY2F0aW9uPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBSKGUpe2lmKHRoaXMucGF0aD1bXSx0aGlzLnNwYW49W10sdGhpcy5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9ZnVuY3Rpb24gVyhlKXtpZih0aGlzLmFubm90YXRpb249W10sZSlmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7KytuKW51bGwhPWVbdFtuXV0mJih0aGlzW3Rbbl1dPWVbdFtuXV0pfWZ1bmN0aW9uIEMoZSl7aWYodGhpcy5wYXRoPVtdLGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBYKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBLKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBRKGUpe2lmKGUpZm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLG49MDtuPHQubGVuZ3RoOysrbiludWxsIT1lW3Rbbl1dJiYodGhpc1t0W25dXT1lW3Rbbl1dKX1mdW5jdGlvbiBWKGUpe2lmKHRoaXMuZGV0YWlscz1bXSxlKWZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDsrK24pbnVsbCE9ZVt0W25dXSYmKHRoaXNbdFtuXV09ZVt0W25dXSl9cmV0dXJuIHAuZ29vZ2xlPSgoRj17fSkubG9uZ3J1bm5pbmc9KCh0PXt9KS5PcGVyYXRpb25zPSgoKEcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5ycGMuU2VydmljZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1HKS5jcmVhdGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgdGhpcyhlLHQsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHLnByb3RvdHlwZS5saXN0T3BlcmF0aW9ucz1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHRoaXMucnBjQ2FsbChlLHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVxdWVzdCxwLmdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLHQsbil9LFwibmFtZVwiLHt2YWx1ZTpcIkxpc3RPcGVyYXRpb25zXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRy5wcm90b3R5cGUuZ2V0T3BlcmF0aW9uPWZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gdGhpcy5ycGNDYWxsKGUscC5nb29nbGUubG9uZ3J1bm5pbmcuR2V0T3BlcmF0aW9uUmVxdWVzdCxwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24sdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiR2V0T3BlcmF0aW9uXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRy5wcm90b3R5cGUuZGVsZXRlT3BlcmF0aW9uPWZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gdGhpcy5ycGNDYWxsKGUscC5nb29nbGUubG9uZ3J1bm5pbmcuRGVsZXRlT3BlcmF0aW9uUmVxdWVzdCxwLmdvb2dsZS5wcm90b2J1Zi5FbXB0eSx0LG4pfSxcIm5hbWVcIix7dmFsdWU6XCJEZWxldGVPcGVyYXRpb25cIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHLnByb3RvdHlwZS5jYW5jZWxPcGVyYXRpb249ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxwLmdvb2dsZS5sb25ncnVubmluZy5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0LHAuZ29vZ2xlLnByb3RvYnVmLkVtcHR5LHQsbil9LFwibmFtZVwiLHt2YWx1ZTpcIkNhbmNlbE9wZXJhdGlvblwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEcucHJvdG90eXBlLndhaXRPcGVyYXRpb249ZnVuY3Rpb24gZSh0LG4pe3JldHVybiB0aGlzLnJwY0NhbGwoZSxwLmdvb2dsZS5sb25ncnVubmluZy5XYWl0T3BlcmF0aW9uUmVxdWVzdCxwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24sdCxuKX0sXCJuYW1lXCIse3ZhbHVlOlwiV2FpdE9wZXJhdGlvblwifSksRyksdC5PcGVyYXRpb249KGwucHJvdG90eXBlLm5hbWU9XCJcIixsLnByb3RvdHlwZS5tZXRhZGF0YT1udWxsLGwucHJvdG90eXBlLmRvbmU9ITEsbC5wcm90b3R5cGUuZXJyb3I9bnVsbCxsLnByb3RvdHlwZS5yZXNwb25zZT1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLnByb3RvdHlwZSxcInJlc3VsdFwiLHtnZXQ6aS5vbmVPZkdldHRlcihuPVtcImVycm9yXCIsXCJyZXNwb25zZVwiXSksc2V0Omkub25lT2ZTZXR0ZXIobil9KSxsLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGwoZSl9LGwuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5tZXRhZGF0YSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1ldGFkYXRhXCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5BbnkuZW5jb2RlKGUubWV0YWRhdGEsdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5kb25lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZG9uZVwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kb25lKSxudWxsIT1lLmVycm9yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZXJyb3JcIikmJnAuZ29vZ2xlLnJwYy5TdGF0dXMuZW5jb2RlKGUuZXJyb3IsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5yZXNwb25zZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJlc3BvbnNlXCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5BbnkuZW5jb2RlKGUucmVzcG9uc2UsdC51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCksdH0sbC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm1ldGFkYXRhPXAuZ29vZ2xlLnByb3RvYnVmLkFueS5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDM6by5kb25lPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNDpvLmVycm9yPXAuZ29vZ2xlLnJwYy5TdGF0dXMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA1Om8ucmVzcG9uc2U9cC5nb29nbGUucHJvdG9idWYuQW55LmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sbC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sbC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7dmFyIHQsbj17fTtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tZXRhZGF0YSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGFkYXRhXCIpJiYodD1wLmdvb2dsZS5wcm90b2J1Zi5BbnkudmVyaWZ5KGUubWV0YWRhdGEpKSlyZXR1cm5cIm1ldGFkYXRhLlwiK3Q7aWYobnVsbCE9ZS5kb25lJiZlLmhhc093blByb3BlcnR5KFwiZG9uZVwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmRvbmUpcmV0dXJuXCJkb25lOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5lcnJvciYmZS5oYXNPd25Qcm9wZXJ0eShcImVycm9yXCIpJiYobi5yZXN1bHQ9MSx0PXAuZ29vZ2xlLnJwYy5TdGF0dXMudmVyaWZ5KGUuZXJyb3IpKSlyZXR1cm5cImVycm9yLlwiK3Q7aWYobnVsbCE9ZS5yZXNwb25zZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlXCIpKXtpZigxPT09bi5yZXN1bHQpcmV0dXJuXCJyZXN1bHQ6IG11bHRpcGxlIHZhbHVlc1wiO2lmKG4ucmVzdWx0PTEsdD1wLmdvb2dsZS5wcm90b2J1Zi5BbnkudmVyaWZ5KGUucmVzcG9uc2UpKXJldHVyblwicmVzcG9uc2UuXCIrdH1yZXR1cm4gbnVsbH0sbC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbjtpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUubWV0YWRhdGEpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm1ldGFkYXRhKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLm1ldGFkYXRhOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5tZXRhZGF0YT1wLmdvb2dsZS5wcm90b2J1Zi5BbnkuZnJvbU9iamVjdChlLm1ldGFkYXRhKX1pZihudWxsIT1lLmRvbmUmJih0LmRvbmU9Qm9vbGVhbihlLmRvbmUpKSxudWxsIT1lLmVycm9yKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5lcnJvcil0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbi5lcnJvcjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXJyb3I9cC5nb29nbGUucnBjLlN0YXR1cy5mcm9tT2JqZWN0KGUuZXJyb3IpfWlmKG51bGwhPWUucmVzcG9uc2Upe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJlc3BvbnNlKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLnJlc3BvbnNlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5yZXNwb25zZT1wLmdvb2dsZS5wcm90b2J1Zi5BbnkuZnJvbU9iamVjdChlLnJlc3BvbnNlKX1yZXR1cm4gdH0sbC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ubWV0YWRhdGE9bnVsbCxuLmRvbmU9ITEpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLm1ldGFkYXRhJiZlLmhhc093blByb3BlcnR5KFwibWV0YWRhdGFcIikmJihuLm1ldGFkYXRhPXAuZ29vZ2xlLnByb3RvYnVmLkFueS50b09iamVjdChlLm1ldGFkYXRhLHQpKSxudWxsIT1lLmRvbmUmJmUuaGFzT3duUHJvcGVydHkoXCJkb25lXCIpJiYobi5kb25lPWUuZG9uZSksbnVsbCE9ZS5lcnJvciYmZS5oYXNPd25Qcm9wZXJ0eShcImVycm9yXCIpJiYobi5lcnJvcj1wLmdvb2dsZS5ycGMuU3RhdHVzLnRvT2JqZWN0KGUuZXJyb3IsdCksdC5vbmVvZnMpJiYobi5yZXN1bHQ9XCJlcnJvclwiKSxudWxsIT1lLnJlc3BvbnNlJiZlLmhhc093blByb3BlcnR5KFwicmVzcG9uc2VcIikmJihuLnJlc3BvbnNlPXAuZ29vZ2xlLnByb3RvYnVmLkFueS50b09iamVjdChlLnJlc3BvbnNlLHQpLHQub25lb2ZzKSYmKG4ucmVzdWx0PVwicmVzcG9uc2VcIiksbn0sbC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGwpLHQuR2V0T3BlcmF0aW9uUmVxdWVzdD0oQi5wcm90b3R5cGUubmFtZT1cIlwiLEIuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQihlKX0sQi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSx0fSxCLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxCLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5HZXRPcGVyYXRpb25SZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xP28ubmFtZT1lLnN0cmluZygpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sQi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sQi52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKT9cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEIuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLkdldE9wZXJhdGlvblJlcXVlc3Q/ZToodD1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuR2V0T3BlcmF0aW9uUmVxdWVzdCxudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLHQpfSxCLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxufSxCLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sQiksdC5MaXN0T3BlcmF0aW9uc1JlcXVlc3Q9KHMucHJvdG90eXBlLm5hbWU9XCJcIixzLnByb3RvdHlwZS5maWx0ZXI9XCJcIixzLnByb3RvdHlwZS5wYWdlU2l6ZT0wLHMucHJvdG90eXBlLnBhZ2VUb2tlbj1cIlwiLHMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcyhlKX0scy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuZmlsdGVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZmlsdGVyXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUuZmlsdGVyKSxudWxsIT1lLnBhZ2VTaXplJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGFnZVNpemVcIikmJnQudWludDMyKDE2KS5pbnQzMihlLnBhZ2VTaXplKSxudWxsIT1lLnBhZ2VUb2tlbiYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhZ2VUb2tlblwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLnBhZ2VUb2tlbiksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMzQpLnN0cmluZyhlLm5hbWUpLHR9LHMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVxdWVzdDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgNDpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDE6by5maWx0ZXI9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wYWdlU2l6ZT1lLmludDMyKCk7YnJlYWs7Y2FzZSAzOm8ucGFnZVRva2VuPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxzLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxzLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpP1wibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5maWx0ZXImJmUuaGFzT3duUHJvcGVydHkoXCJmaWx0ZXJcIikmJiFpLmlzU3RyaW5nKGUuZmlsdGVyKT9cImZpbHRlcjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5wYWdlU2l6ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBhZ2VTaXplXCIpJiYhaS5pc0ludGVnZXIoZS5wYWdlU2l6ZSk/XCJwYWdlU2l6ZTogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUucGFnZVRva2VuJiZlLmhhc093blByb3BlcnR5KFwicGFnZVRva2VuXCIpJiYhaS5pc1N0cmluZyhlLnBhZ2VUb2tlbik/XCJwYWdlVG9rZW46IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LHMuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVxdWVzdD9lOih0PW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1JlcXVlc3QsbnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLmZpbHRlciYmKHQuZmlsdGVyPVN0cmluZyhlLmZpbHRlcikpLG51bGwhPWUucGFnZVNpemUmJih0LnBhZ2VTaXplPTB8ZS5wYWdlU2l6ZSksbnVsbCE9ZS5wYWdlVG9rZW4mJih0LnBhZ2VUb2tlbj1TdHJpbmcoZS5wYWdlVG9rZW4pKSx0KX0scy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uZmlsdGVyPVwiXCIsbi5wYWdlU2l6ZT0wLG4ucGFnZVRva2VuPVwiXCIsbi5uYW1lPVwiXCIpLG51bGwhPWUuZmlsdGVyJiZlLmhhc093blByb3BlcnR5KFwiZmlsdGVyXCIpJiYobi5maWx0ZXI9ZS5maWx0ZXIpLG51bGwhPWUucGFnZVNpemUmJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlU2l6ZVwiKSYmKG4ucGFnZVNpemU9ZS5wYWdlU2l6ZSksbnVsbCE9ZS5wYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJwYWdlVG9rZW5cIikmJihuLnBhZ2VUb2tlbj1lLnBhZ2VUb2tlbiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG59LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxzKSx0Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2U9KHUucHJvdG90eXBlLm9wZXJhdGlvbnM9aS5lbXB0eUFycmF5LHUucHJvdG90eXBlLm5leHRQYWdlVG9rZW49XCJcIix1LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoZSl9LHUuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUub3BlcmF0aW9ucyYmZS5vcGVyYXRpb25zLmxlbmd0aClmb3IodmFyIG49MDtuPGUub3BlcmF0aW9ucy5sZW5ndGg7KytuKXAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbi5lbmNvZGUoZS5vcGVyYXRpb25zW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLm5leHRQYWdlVG9rZW4mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuZXh0UGFnZVRva2VuXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUubmV4dFBhZ2VUb2tlbiksdH0sdS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sdS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXNwb25zZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm9wZXJhdGlvbnMmJm8ub3BlcmF0aW9ucy5sZW5ndGh8fChvLm9wZXJhdGlvbnM9W10pLG8ub3BlcmF0aW9ucy5wdXNoKHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAyOm8ubmV4dFBhZ2VUb2tlbj1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vcGVyYXRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3BlcmF0aW9uc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5vcGVyYXRpb25zKSlyZXR1cm5cIm9wZXJhdGlvbnM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLm9wZXJhdGlvbnMubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLnZlcmlmeShlLm9wZXJhdGlvbnNbdF0pO2lmKG4pcmV0dXJuXCJvcGVyYXRpb25zLlwiK259fXJldHVybiBudWxsIT1lLm5leHRQYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJuZXh0UGFnZVRva2VuXCIpJiYhaS5pc1N0cmluZyhlLm5leHRQYWdlVG9rZW4pP1wibmV4dFBhZ2VUb2tlbjogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sdS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlO2lmKGUub3BlcmF0aW9ucyl7aWYoIUFycmF5LmlzQXJyYXkoZS5vcGVyYXRpb25zKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2Uub3BlcmF0aW9uczogYXJyYXkgZXhwZWN0ZWRcIik7dC5vcGVyYXRpb25zPVtdO2Zvcih2YXIgbj0wO248ZS5vcGVyYXRpb25zLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wZXJhdGlvbnNbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLm9wZXJhdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wZXJhdGlvbnNbbl09cC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uLmZyb21PYmplY3QoZS5vcGVyYXRpb25zW25dKX19cmV0dXJuIG51bGwhPWUubmV4dFBhZ2VUb2tlbiYmKHQubmV4dFBhZ2VUb2tlbj1TdHJpbmcoZS5uZXh0UGFnZVRva2VuKSksdH0sdS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ub3BlcmF0aW9ucz1bXSksdC5kZWZhdWx0cyYmKG4ubmV4dFBhZ2VUb2tlbj1cIlwiKSxlLm9wZXJhdGlvbnMmJmUub3BlcmF0aW9ucy5sZW5ndGgpe24ub3BlcmF0aW9ucz1bXTtmb3IodmFyIG89MDtvPGUub3BlcmF0aW9ucy5sZW5ndGg7KytvKW4ub3BlcmF0aW9uc1tvXT1wLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb24udG9PYmplY3QoZS5vcGVyYXRpb25zW29dLHQpfXJldHVybiBudWxsIT1lLm5leHRQYWdlVG9rZW4mJmUuaGFzT3duUHJvcGVydHkoXCJuZXh0UGFnZVRva2VuXCIpJiYobi5uZXh0UGFnZVRva2VuPWUubmV4dFBhZ2VUb2tlbiksbn0sdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHUpLHQuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdD0oTC5wcm90b3R5cGUubmFtZT1cIlwiLEwuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTChlKX0sTC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSx0fSxMLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxMLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT0xP28ubmFtZT1lLnN0cmluZygpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sTC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTC52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKT9cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEwuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLkNhbmNlbE9wZXJhdGlvblJlcXVlc3Q/ZToodD1uZXcgcC5nb29nbGUubG9uZ3J1bm5pbmcuQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdCxudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLHQpfSxMLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxufSxMLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTCksdC5EZWxldGVPcGVyYXRpb25SZXF1ZXN0PShVLnByb3RvdHlwZS5uYW1lPVwiXCIsVS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVKGUpfSxVLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLHR9LFUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLkRlbGV0ZU9wZXJhdGlvblJlcXVlc3Q7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/by5uYW1lPWUuc3RyaW5nKCk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxVLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxVLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpP1wibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0sVS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUubG9uZ3J1bm5pbmcuRGVsZXRlT3BlcmF0aW9uUmVxdWVzdD9lOih0PW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5EZWxldGVPcGVyYXRpb25SZXF1ZXN0LG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksdCl9LFUudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIiksbnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmKG4ubmFtZT1lLm5hbWUpLG59LFUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxVKSx0LldhaXRPcGVyYXRpb25SZXF1ZXN0PShjLnByb3RvdHlwZS5uYW1lPVwiXCIsYy5wcm90b3R5cGUudGltZW91dD1udWxsLGMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYyhlKX0sYy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLnRpbWVvdXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0aW1lb3V0XCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbi5lbmNvZGUoZS50aW1lb3V0LHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LGMuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGMuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLldhaXRPcGVyYXRpb25SZXF1ZXN0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLnRpbWVvdXQ9cC5nb29nbGUucHJvdG9idWYuRHVyYXRpb24uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxjLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxjLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS50aW1lb3V0JiZlLmhhc093blByb3BlcnR5KFwidGltZW91dFwiKSl7ZT1wLmdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbi52ZXJpZnkoZS50aW1lb3V0KTtpZihlKXJldHVyblwidGltZW91dC5cIitlfXJldHVybiBudWxsfSxjLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmxvbmdydW5uaW5nLldhaXRPcGVyYXRpb25SZXF1ZXN0KXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5XYWl0T3BlcmF0aW9uUmVxdWVzdDtpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUudGltZW91dCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudGltZW91dCl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmxvbmdydW5uaW5nLldhaXRPcGVyYXRpb25SZXF1ZXN0LnRpbWVvdXQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LnRpbWVvdXQ9cC5nb29nbGUucHJvdG9idWYuRHVyYXRpb24uZnJvbU9iamVjdChlLnRpbWVvdXQpfXJldHVybiB0fSxjLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi50aW1lb3V0PW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLnRpbWVvdXQmJmUuaGFzT3duUHJvcGVydHkoXCJ0aW1lb3V0XCIpJiYobi50aW1lb3V0PXAuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uLnRvT2JqZWN0KGUudGltZW91dCx0KSksbn0sYy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGMpLHQuT3BlcmF0aW9uSW5mbz0oZC5wcm90b3R5cGUucmVzcG9uc2VUeXBlPVwiXCIsZC5wcm90b3R5cGUubWV0YWRhdGFUeXBlPVwiXCIsZC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkKGUpfSxkLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5yZXNwb25zZVR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXNwb25zZVR5cGVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5yZXNwb25zZVR5cGUpLG51bGwhPWUubWV0YWRhdGFUeXBlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWV0YWRhdGFUeXBlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUubWV0YWRhdGFUeXBlKSx0fSxkLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxkLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25JbmZvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ucmVzcG9uc2VUeXBlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubWV0YWRhdGFUeXBlPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxkLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxkLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnJlc3BvbnNlVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlVHlwZVwiKSYmIWkuaXNTdHJpbmcoZS5yZXNwb25zZVR5cGUpP1wicmVzcG9uc2VUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lLm1ldGFkYXRhVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGFkYXRhVHlwZVwiKSYmIWkuaXNTdHJpbmcoZS5tZXRhZGF0YVR5cGUpP1wibWV0YWRhdGFUeXBlOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxkLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25JbmZvP2U6KHQ9bmV3IHAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbkluZm8sbnVsbCE9ZS5yZXNwb25zZVR5cGUmJih0LnJlc3BvbnNlVHlwZT1TdHJpbmcoZS5yZXNwb25zZVR5cGUpKSxudWxsIT1lLm1ldGFkYXRhVHlwZSYmKHQubWV0YWRhdGFUeXBlPVN0cmluZyhlLm1ldGFkYXRhVHlwZSkpLHQpfSxkLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5yZXNwb25zZVR5cGU9XCJcIixuLm1ldGFkYXRhVHlwZT1cIlwiKSxudWxsIT1lLnJlc3BvbnNlVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlVHlwZVwiKSYmKG4ucmVzcG9uc2VUeXBlPWUucmVzcG9uc2VUeXBlKSxudWxsIT1lLm1ldGFkYXRhVHlwZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGFkYXRhVHlwZVwiKSYmKG4ubWV0YWRhdGFUeXBlPWUubWV0YWRhdGFUeXBlKSxufSxkLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sZCksdCksRi5hcGk9KChuPXt9KS5IdHRwPShnLnByb3RvdHlwZS5ydWxlcz1pLmVtcHR5QXJyYXksZy5wcm90b3R5cGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj0hMSxnLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGcoZSl9LGcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUucnVsZXMmJmUucnVsZXMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5ydWxlcy5sZW5ndGg7KytuKXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5lbmNvZGUoZS5ydWxlc1tuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvblwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uKSx0fSxnLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxnLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5hcGkuSHR0cDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnJ1bGVzJiZvLnJ1bGVzLmxlbmd0aHx8KG8ucnVsZXM9W10pLG8ucnVsZXMucHVzaChwLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMjpvLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb249ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxnLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxnLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJ1bGVzJiZlLmhhc093blByb3BlcnR5KFwicnVsZXNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucnVsZXMpKXJldHVyblwicnVsZXM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnJ1bGVzLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS52ZXJpZnkoZS5ydWxlc1t0XSk7aWYobilyZXR1cm5cInJ1bGVzLlwiK259fXJldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj9cImZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb246IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsfSxnLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLmFwaS5IdHRwKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5hcGkuSHR0cDtpZihlLnJ1bGVzKXtpZighQXJyYXkuaXNBcnJheShlLnJ1bGVzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwLnJ1bGVzOiBhcnJheSBleHBlY3RlZFwiKTt0LnJ1bGVzPVtdO2Zvcih2YXIgbj0wO248ZS5ydWxlcy5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5ydWxlc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwLnJ1bGVzOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5ydWxlc1tuXT1wLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZnJvbU9iamVjdChlLnJ1bGVzW25dKX19cmV0dXJuIG51bGwhPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiYmKHQuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbj1Cb29sZWFuKGUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbikpLHR9LGcudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnJ1bGVzPVtdKSx0LmRlZmF1bHRzJiYobi5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPSExKSxlLnJ1bGVzJiZlLnJ1bGVzLmxlbmd0aCl7bi5ydWxlcz1bXTtmb3IodmFyIG89MDtvPGUucnVsZXMubGVuZ3RoOysrbyluLnJ1bGVzW29dPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS50b09iamVjdChlLnJ1bGVzW29dLHQpfXJldHVybiBudWxsIT1lLmZ1bGx5RGVjb2RlUmVzZXJ2ZWRFeHBhbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJmdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uXCIpJiYobi5mdWxseURlY29kZVJlc2VydmVkRXhwYW5zaW9uPWUuZnVsbHlEZWNvZGVSZXNlcnZlZEV4cGFuc2lvbiksbn0sZy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGcpLG4uSHR0cFJ1bGU9KGYucHJvdG90eXBlLnNlbGVjdG9yPVwiXCIsZi5wcm90b3R5cGUuZ2V0PVwiXCIsZi5wcm90b3R5cGUucHV0PVwiXCIsZi5wcm90b3R5cGUucG9zdD1cIlwiLGYucHJvdG90eXBlLmRlbGV0ZT1cIlwiLGYucHJvdG90eXBlLnBhdGNoPVwiXCIsZi5wcm90b3R5cGUuY3VzdG9tPW51bGwsZi5wcm90b3R5cGUuYm9keT1cIlwiLGYucHJvdG90eXBlLnJlc3BvbnNlQm9keT1cIlwiLGYucHJvdG90eXBlLmFkZGl0aW9uYWxCaW5kaW5ncz1pLmVtcHR5QXJyYXksT2JqZWN0LmRlZmluZVByb3BlcnR5KGYucHJvdG90eXBlLFwicGF0dGVyblwiLHtnZXQ6aS5vbmVPZkdldHRlcih0PVtcImdldFwiLFwicHV0XCIsXCJwb3N0XCIsXCJkZWxldGVcIixcInBhdGNoXCIsXCJjdXN0b21cIl0pLHNldDppLm9uZU9mU2V0dGVyKHQpfSksZi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBmKGUpfSxmLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnNlbGVjdG9yJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VsZWN0b3JcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5zZWxlY3RvciksbnVsbCE9ZS5nZXQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJnZXRcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5nZXQpLG51bGwhPWUucHV0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHV0XCIpJiZ0LnVpbnQzMigyNikuc3RyaW5nKGUucHV0KSxudWxsIT1lLnBvc3QmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwb3N0XCIpJiZ0LnVpbnQzMigzNCkuc3RyaW5nKGUucG9zdCksbnVsbCE9ZS5kZWxldGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWxldGVcIikmJnQudWludDMyKDQyKS5zdHJpbmcoZS5kZWxldGUpLG51bGwhPWUucGF0Y2gmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwYXRjaFwiKSYmdC51aW50MzIoNTApLnN0cmluZyhlLnBhdGNoKSxudWxsIT1lLmJvZHkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJib2R5XCIpJiZ0LnVpbnQzMig1OCkuc3RyaW5nKGUuYm9keSksbnVsbCE9ZS5jdXN0b20mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjdXN0b21cIikmJnAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi5lbmNvZGUoZS5jdXN0b20sdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5hZGRpdGlvbmFsQmluZGluZ3MmJmUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aClmb3IodmFyIG49MDtuPGUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aDsrK24pcC5nb29nbGUuYXBpLkh0dHBSdWxlLmVuY29kZShlLmFkZGl0aW9uYWxCaW5kaW5nc1tuXSx0LnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gbnVsbCE9ZS5yZXNwb25zZUJvZHkmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJyZXNwb25zZUJvZHlcIikmJnQudWludDMyKDk4KS5zdHJpbmcoZS5yZXNwb25zZUJvZHkpLHR9LGYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LGYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLmFwaS5IdHRwUnVsZTtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLnNlbGVjdG9yPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZ2V0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8ucHV0PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ucG9zdD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNTpvLmRlbGV0ZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNjpvLnBhdGNoPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8uY3VzdG9tPXAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztjYXNlIDc6by5ib2R5PWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAxMjpvLnJlc3BvbnNlQm9keT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTE6by5hZGRpdGlvbmFsQmluZGluZ3MmJm8uYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aHx8KG8uYWRkaXRpb25hbEJpbmRpbmdzPVtdKSxvLmFkZGl0aW9uYWxCaW5kaW5ncy5wdXNoKHAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxmLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxmLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjt2YXIgdD17fTtpZihudWxsIT1lLnNlbGVjdG9yJiZlLmhhc093blByb3BlcnR5KFwic2VsZWN0b3JcIikmJiFpLmlzU3RyaW5nKGUuc2VsZWN0b3IpKXJldHVyblwic2VsZWN0b3I6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZ2V0JiZlLmhhc093blByb3BlcnR5KFwiZ2V0XCIpJiYodC5wYXR0ZXJuPTEsIWkuaXNTdHJpbmcoZS5nZXQpKSlyZXR1cm5cImdldDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wdXQmJmUuaGFzT3duUHJvcGVydHkoXCJwdXRcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhaS5pc1N0cmluZyhlLnB1dCkpcmV0dXJuXCJwdXQ6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUucG9zdCYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc3RcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhaS5pc1N0cmluZyhlLnBvc3QpKXJldHVyblwicG9zdDogc3RyaW5nIGV4cGVjdGVkXCJ9aWYobnVsbCE9ZS5kZWxldGUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWxldGVcIikpe2lmKDE9PT10LnBhdHRlcm4pcmV0dXJuXCJwYXR0ZXJuOiBtdWx0aXBsZSB2YWx1ZXNcIjtpZih0LnBhdHRlcm49MSwhaS5pc1N0cmluZyhlLmRlbGV0ZSkpcmV0dXJuXCJkZWxldGU6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUucGF0Y2gmJmUuaGFzT3duUHJvcGVydHkoXCJwYXRjaFwiKSl7aWYoMT09PXQucGF0dGVybilyZXR1cm5cInBhdHRlcm46IG11bHRpcGxlIHZhbHVlc1wiO2lmKHQucGF0dGVybj0xLCFpLmlzU3RyaW5nKGUucGF0Y2gpKXJldHVyblwicGF0Y2g6IHN0cmluZyBleHBlY3RlZFwifWlmKG51bGwhPWUuY3VzdG9tJiZlLmhhc093blByb3BlcnR5KFwiY3VzdG9tXCIpKXtpZigxPT09dC5wYXR0ZXJuKXJldHVyblwicGF0dGVybjogbXVsdGlwbGUgdmFsdWVzXCI7aWYodC5wYXR0ZXJuPTEsbj1wLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4udmVyaWZ5KGUuY3VzdG9tKSlyZXR1cm5cImN1c3RvbS5cIitufWlmKG51bGwhPWUuYm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJiFpLmlzU3RyaW5nKGUuYm9keSkpcmV0dXJuXCJib2R5OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnJlc3BvbnNlQm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc3BvbnNlQm9keVwiKSYmIWkuaXNTdHJpbmcoZS5yZXNwb25zZUJvZHkpKXJldHVyblwicmVzcG9uc2VCb2R5OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFkZGl0aW9uYWxCaW5kaW5ncyYmZS5oYXNPd25Qcm9wZXJ0eShcImFkZGl0aW9uYWxCaW5kaW5nc1wiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5hZGRpdGlvbmFsQmluZGluZ3MpKXJldHVyblwiYWRkaXRpb25hbEJpbmRpbmdzOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbixvPTA7bzxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytvKWlmKG49cC5nb29nbGUuYXBpLkh0dHBSdWxlLnZlcmlmeShlLmFkZGl0aW9uYWxCaW5kaW5nc1tvXSkpcmV0dXJuXCJhZGRpdGlvbmFsQmluZGluZ3MuXCIrbn1yZXR1cm4gbnVsbH0sZi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5hcGkuSHR0cFJ1bGUpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLmFwaS5IdHRwUnVsZTtpZihudWxsIT1lLnNlbGVjdG9yJiYodC5zZWxlY3Rvcj1TdHJpbmcoZS5zZWxlY3RvcikpLG51bGwhPWUuZ2V0JiYodC5nZXQ9U3RyaW5nKGUuZ2V0KSksbnVsbCE9ZS5wdXQmJih0LnB1dD1TdHJpbmcoZS5wdXQpKSxudWxsIT1lLnBvc3QmJih0LnBvc3Q9U3RyaW5nKGUucG9zdCkpLG51bGwhPWUuZGVsZXRlJiYodC5kZWxldGU9U3RyaW5nKGUuZGVsZXRlKSksbnVsbCE9ZS5wYXRjaCYmKHQucGF0Y2g9U3RyaW5nKGUucGF0Y2gpKSxudWxsIT1lLmN1c3RvbSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuY3VzdG9tKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHBSdWxlLmN1c3RvbTogb2JqZWN0IGV4cGVjdGVkXCIpO3QuY3VzdG9tPXAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi5mcm9tT2JqZWN0KGUuY3VzdG9tKX1pZihudWxsIT1lLmJvZHkmJih0LmJvZHk9U3RyaW5nKGUuYm9keSkpLG51bGwhPWUucmVzcG9uc2VCb2R5JiYodC5yZXNwb25zZUJvZHk9U3RyaW5nKGUucmVzcG9uc2VCb2R5KSksZS5hZGRpdGlvbmFsQmluZGluZ3Mpe2lmKCFBcnJheS5pc0FycmF5KGUuYWRkaXRpb25hbEJpbmRpbmdzKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLmFwaS5IdHRwUnVsZS5hZGRpdGlvbmFsQmluZGluZ3M6IGFycmF5IGV4cGVjdGVkXCIpO3QuYWRkaXRpb25hbEJpbmRpbmdzPVtdO2Zvcih2YXIgbj0wO248ZS5hZGRpdGlvbmFsQmluZGluZ3MubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuYWRkaXRpb25hbEJpbmRpbmdzW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUuYXBpLkh0dHBSdWxlLmFkZGl0aW9uYWxCaW5kaW5nczogb2JqZWN0IGV4cGVjdGVkXCIpO3QuYWRkaXRpb25hbEJpbmRpbmdzW25dPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5mcm9tT2JqZWN0KGUuYWRkaXRpb25hbEJpbmRpbmdzW25dKX19cmV0dXJuIHR9LGYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmFkZGl0aW9uYWxCaW5kaW5ncz1bXSksdC5kZWZhdWx0cyYmKG4uc2VsZWN0b3I9XCJcIixuLmJvZHk9XCJcIixuLnJlc3BvbnNlQm9keT1cIlwiKSxudWxsIT1lLnNlbGVjdG9yJiZlLmhhc093blByb3BlcnR5KFwic2VsZWN0b3JcIikmJihuLnNlbGVjdG9yPWUuc2VsZWN0b3IpLG51bGwhPWUuZ2V0JiZlLmhhc093blByb3BlcnR5KFwiZ2V0XCIpJiYobi5nZXQ9ZS5nZXQsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwiZ2V0XCIpLG51bGwhPWUucHV0JiZlLmhhc093blByb3BlcnR5KFwicHV0XCIpJiYobi5wdXQ9ZS5wdXQsdC5vbmVvZnMpJiYobi5wYXR0ZXJuPVwicHV0XCIpLG51bGwhPWUucG9zdCYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc3RcIikmJihuLnBvc3Q9ZS5wb3N0LHQub25lb2ZzKSYmKG4ucGF0dGVybj1cInBvc3RcIiksbnVsbCE9ZS5kZWxldGUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWxldGVcIikmJihuLmRlbGV0ZT1lLmRlbGV0ZSx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJkZWxldGVcIiksbnVsbCE9ZS5wYXRjaCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGNoXCIpJiYobi5wYXRjaD1lLnBhdGNoLHQub25lb2ZzKSYmKG4ucGF0dGVybj1cInBhdGNoXCIpLG51bGwhPWUuYm9keSYmZS5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJihuLmJvZHk9ZS5ib2R5KSxudWxsIT1lLmN1c3RvbSYmZS5oYXNPd25Qcm9wZXJ0eShcImN1c3RvbVwiKSYmKG4uY3VzdG9tPXAuZ29vZ2xlLmFwaS5DdXN0b21IdHRwUGF0dGVybi50b09iamVjdChlLmN1c3RvbSx0KSx0Lm9uZW9mcykmJihuLnBhdHRlcm49XCJjdXN0b21cIiksZS5hZGRpdGlvbmFsQmluZGluZ3MmJmUuYWRkaXRpb25hbEJpbmRpbmdzLmxlbmd0aCl7bi5hZGRpdGlvbmFsQmluZGluZ3M9W107Zm9yKHZhciBvPTA7bzxlLmFkZGl0aW9uYWxCaW5kaW5ncy5sZW5ndGg7KytvKW4uYWRkaXRpb25hbEJpbmRpbmdzW29dPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS50b09iamVjdChlLmFkZGl0aW9uYWxCaW5kaW5nc1tvXSx0KX1yZXR1cm4gbnVsbCE9ZS5yZXNwb25zZUJvZHkmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNwb25zZUJvZHlcIikmJihuLnJlc3BvbnNlQm9keT1lLnJlc3BvbnNlQm9keSksbn0sZi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGYpLG4uQ3VzdG9tSHR0cFBhdHRlcm49KHkucHJvdG90eXBlLmtpbmQ9XCJcIix5LnByb3RvdHlwZS5wYXRoPVwiXCIseS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB5KGUpfSx5LmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5raW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwia2luZFwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLmtpbmQpLG51bGwhPWUucGF0aCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhdGhcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5wYXRoKSx0fSx5LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx5LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm47ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5raW5kPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ucGF0aD1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30seS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0seS52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5raW5kJiZlLmhhc093blByb3BlcnR5KFwia2luZFwiKSYmIWkuaXNTdHJpbmcoZS5raW5kKT9cImtpbmQ6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUucGF0aCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhdGhcIikmJiFpLmlzU3RyaW5nKGUucGF0aCk/XCJwYXRoOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSx5LmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5hcGkuQ3VzdG9tSHR0cFBhdHRlcm4/ZToodD1uZXcgcC5nb29nbGUuYXBpLkN1c3RvbUh0dHBQYXR0ZXJuLG51bGwhPWUua2luZCYmKHQua2luZD1TdHJpbmcoZS5raW5kKSksbnVsbCE9ZS5wYXRoJiYodC5wYXRoPVN0cmluZyhlLnBhdGgpKSx0KX0seS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4ua2luZD1cIlwiLG4ucGF0aD1cIlwiKSxudWxsIT1lLmtpbmQmJmUuaGFzT3duUHJvcGVydHkoXCJraW5kXCIpJiYobi5raW5kPWUua2luZCksbnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSYmKG4ucGF0aD1lLnBhdGgpLG59LHkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx5KSxuKSxGLnByb3RvYnVmPSgodD17fSkuRmlsZURlc2NyaXB0b3JTZXQ9KEoucHJvdG90eXBlLmZpbGU9aS5lbXB0eUFycmF5LEouY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSihlKX0sSi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5maWxlJiZlLmZpbGUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5maWxlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5maWxlW25dLHQudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxKLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxKLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldDtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtyPj4+Mz09MT8oby5maWxlJiZvLmZpbGUubGVuZ3RofHwoby5maWxlPVtdKSxvLmZpbGUucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxKLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxKLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmZpbGUmJmUuaGFzT3duUHJvcGVydHkoXCJmaWxlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmZpbGUpKXJldHVyblwiZmlsZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZmlsZS5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmZpbGVbdF0pO2lmKG4pcmV0dXJuXCJmaWxlLlwiK259fXJldHVybiBudWxsfSxKLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0KXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldDtpZihlLmZpbGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZmlsZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclNldC5maWxlOiBhcnJheSBleHBlY3RlZFwiKTt0LmZpbGU9W107Zm9yKHZhciBuPTA7bjxlLmZpbGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZmlsZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yU2V0LmZpbGU6IG9iamVjdCBleHBlY3RlZFwiKTt0LmZpbGVbbl09cC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZmlsZVtuXSl9fXJldHVybiB0fSxKLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5maWxlPVtdKSxlLmZpbGUmJmUuZmlsZS5sZW5ndGgpe24uZmlsZT1bXTtmb3IodmFyIG89MDtvPGUuZmlsZS5sZW5ndGg7KytvKW4uZmlsZVtvXT1wLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZmlsZVtvXSx0KX1yZXR1cm4gbn0sSi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEopLHQuRmlsZURlc2NyaXB0b3JQcm90bz0oaC5wcm90b3R5cGUubmFtZT1cIlwiLGgucHJvdG90eXBlLnBhY2thZ2U9XCJcIixoLnByb3RvdHlwZS5kZXBlbmRlbmN5PWkuZW1wdHlBcnJheSxoLnByb3RvdHlwZS5wdWJsaWNEZXBlbmRlbmN5PWkuZW1wdHlBcnJheSxoLnByb3RvdHlwZS53ZWFrRGVwZW5kZW5jeT1pLmVtcHR5QXJyYXksaC5wcm90b3R5cGUubWVzc2FnZVR5cGU9aS5lbXB0eUFycmF5LGgucHJvdG90eXBlLmVudW1UeXBlPWkuZW1wdHlBcnJheSxoLnByb3RvdHlwZS5zZXJ2aWNlPWkuZW1wdHlBcnJheSxoLnByb3RvdHlwZS5leHRlbnNpb249aS5lbXB0eUFycmF5LGgucHJvdG90eXBlLm9wdGlvbnM9bnVsbCxoLnByb3RvdHlwZS5zb3VyY2VDb2RlSW5mbz1udWxsLGgucHJvdG90eXBlLnN5bnRheD1cIlwiLGguY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaChlKX0saC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUucGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhY2thZ2VcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5wYWNrYWdlKSxudWxsIT1lLmRlcGVuZGVuY3kmJmUuZGVwZW5kZW5jeS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLmRlcGVuZGVuY3kubGVuZ3RoOysrbil0LnVpbnQzMigyNikuc3RyaW5nKGUuZGVwZW5kZW5jeVtuXSk7aWYobnVsbCE9ZS5tZXNzYWdlVHlwZSYmZS5tZXNzYWdlVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUubWVzc2FnZVR5cGUubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUubWVzc2FnZVR5cGVbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5lbnVtVHlwZSYmZS5lbnVtVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmVudW1UeXBlW25dLHQudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuc2VydmljZSYmZS5zZXJ2aWNlLmxlbmd0aClmb3Iobj0wO248ZS5zZXJ2aWNlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5zZXJ2aWNlW25dLHQudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpZm9yKG49MDtuPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUuZXh0ZW5zaW9uW25dLHQudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNvdXJjZUNvZGVJbmZvXCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5lbmNvZGUoZS5zb3VyY2VDb2RlSW5mbyx0LnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKSxudWxsIT1lLnB1YmxpY0RlcGVuZGVuY3kmJmUucHVibGljRGVwZW5kZW5jeS5sZW5ndGgpZm9yKG49MDtuPGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQudWludDMyKDgwKS5pbnQzMihlLnB1YmxpY0RlcGVuZGVuY3lbbl0pO2lmKG51bGwhPWUud2Vha0RlcGVuZGVuY3kmJmUud2Vha0RlcGVuZGVuY3kubGVuZ3RoKWZvcihuPTA7bjxlLndlYWtEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC51aW50MzIoODgpLmludDMyKGUud2Vha0RlcGVuZGVuY3lbbl0pO3JldHVybiBudWxsIT1lLnN5bnRheCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInN5bnRheFwiKSYmdC51aW50MzIoOTgpLnN0cmluZyhlLnN5bnRheCksdH0saC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0saC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5wYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8uZGVwZW5kZW5jeSYmby5kZXBlbmRlbmN5Lmxlbmd0aHx8KG8uZGVwZW5kZW5jeT1bXSksby5kZXBlbmRlbmN5LnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7Y2FzZSAxMDppZihvLnB1YmxpY0RlcGVuZGVuY3kmJm8ucHVibGljRGVwZW5kZW5jeS5sZW5ndGh8fChvLnB1YmxpY0RlcGVuZGVuY3k9W10pLDI9PSg3JnIpKWZvcih2YXIgaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ucHVibGljRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7ZWxzZSBvLnB1YmxpY0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2JyZWFrO2Nhc2UgMTE6aWYoby53ZWFrRGVwZW5kZW5jeSYmby53ZWFrRGVwZW5kZW5jeS5sZW5ndGh8fChvLndlYWtEZXBlbmRlbmN5PVtdKSwyPT0oNyZyKSlmb3IoaT1lLnVpbnQzMigpK2UucG9zO2UucG9zPGk7KW8ud2Vha0RlcGVuZGVuY3kucHVzaChlLmludDMyKCkpO2Vsc2Ugby53ZWFrRGVwZW5kZW5jeS5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSA0Om8ubWVzc2FnZVR5cGUmJm8ubWVzc2FnZVR5cGUubGVuZ3RofHwoby5tZXNzYWdlVHlwZT1bXSksby5tZXNzYWdlVHlwZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSA1Om8uZW51bVR5cGUmJm8uZW51bVR5cGUubGVuZ3RofHwoby5lbnVtVHlwZT1bXSksby5lbnVtVHlwZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNjpvLnNlcnZpY2UmJm8uc2VydmljZS5sZW5ndGh8fChvLnNlcnZpY2U9W10pLG8uc2VydmljZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNzpvLmV4dGVuc2lvbiYmby5leHRlbnNpb24ubGVuZ3RofHwoby5leHRlbnNpb249W10pLG8uZXh0ZW5zaW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgODpvLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSA5Om8uc291cmNlQ29kZUluZm89cC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxMjpvLnN5bnRheD1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30saC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0saC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2thZ2VcIikmJiFpLmlzU3RyaW5nKGUucGFja2FnZSkpcmV0dXJuXCJwYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcGVuZGVuY3kmJmUuaGFzT3duUHJvcGVydHkoXCJkZXBlbmRlbmN5XCIpKXtpZighQXJyYXkuaXNBcnJheShlLmRlcGVuZGVuY3kpKXJldHVyblwiZGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZGVwZW5kZW5jeS5sZW5ndGg7Kyt0KWlmKCFpLmlzU3RyaW5nKGUuZGVwZW5kZW5jeVt0XSkpcmV0dXJuXCJkZXBlbmRlbmN5OiBzdHJpbmdbXSBleHBlY3RlZFwifWlmKG51bGwhPWUucHVibGljRGVwZW5kZW5jeSYmZS5oYXNPd25Qcm9wZXJ0eShcInB1YmxpY0RlcGVuZGVuY3lcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucHVibGljRGVwZW5kZW5jeSkpcmV0dXJuXCJwdWJsaWNEZXBlbmRlbmN5OiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoOysrdClpZighaS5pc0ludGVnZXIoZS5wdWJsaWNEZXBlbmRlbmN5W3RdKSlyZXR1cm5cInB1YmxpY0RlcGVuZGVuY3k6IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUud2Vha0RlcGVuZGVuY3kmJmUuaGFzT3duUHJvcGVydHkoXCJ3ZWFrRGVwZW5kZW5jeVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS53ZWFrRGVwZW5kZW5jeSkpcmV0dXJuXCJ3ZWFrRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7Kyt0KWlmKCFpLmlzSW50ZWdlcihlLndlYWtEZXBlbmRlbmN5W3RdKSlyZXR1cm5cIndlYWtEZXBlbmRlbmN5OiBpbnRlZ2VyW10gZXhwZWN0ZWRcIn1pZihudWxsIT1lLm1lc3NhZ2VUeXBlJiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVR5cGVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubWVzc2FnZVR5cGUpKXJldHVyblwibWVzc2FnZVR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUubWVzc2FnZVR5cGUubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5tZXNzYWdlVHlwZVt0XSkpcmV0dXJuXCJtZXNzYWdlVHlwZS5cIitufWlmKG51bGwhPWUuZW51bVR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJlbnVtVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpcmV0dXJuXCJlbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5lbnVtVHlwZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5lbnVtVHlwZVt0XSkpcmV0dXJuXCJlbnVtVHlwZS5cIitufWlmKG51bGwhPWUuc2VydmljZSYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZpY2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuc2VydmljZSkpcmV0dXJuXCJzZXJ2aWNlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnNlcnZpY2UubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8udmVyaWZ5KGUuc2VydmljZVt0XSkpcmV0dXJuXCJzZXJ2aWNlLlwiK259aWYobnVsbCE9ZS5leHRlbnNpb24mJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbnNpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSlyZXR1cm5cImV4dGVuc2lvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5leHRlbnNpb24ubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLmV4dGVuc2lvblt0XSkpcmV0dXJuXCJleHRlbnNpb24uXCIrbn12YXIgbjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1wLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247aWYobnVsbCE9ZS5zb3VyY2VDb2RlSW5mbyYmZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZUNvZGVJbmZvXCIpJiYobj1wLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby52ZXJpZnkoZS5zb3VyY2VDb2RlSW5mbykpKXJldHVyblwic291cmNlQ29kZUluZm8uXCIrbjtyZXR1cm4gbnVsbCE9ZS5zeW50YXgmJmUuaGFzT3duUHJvcGVydHkoXCJzeW50YXhcIikmJiFpLmlzU3RyaW5nKGUuc3ludGF4KT9cInN5bnRheDogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbH0saC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5wYWNrYWdlJiYodC5wYWNrYWdlPVN0cmluZyhlLnBhY2thZ2UpKSxlLmRlcGVuZGVuY3kpe2lmKCFBcnJheS5pc0FycmF5KGUuZGVwZW5kZW5jeSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmRlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCIpO3QuZGVwZW5kZW5jeT1bXTtmb3IodmFyIG49MDtuPGUuZGVwZW5kZW5jeS5sZW5ndGg7KytuKXQuZGVwZW5kZW5jeVtuXT1TdHJpbmcoZS5kZXBlbmRlbmN5W25dKX1pZihlLnB1YmxpY0RlcGVuZGVuY3kpe2lmKCFBcnJheS5pc0FycmF5KGUucHVibGljRGVwZW5kZW5jeSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLnB1YmxpY0RlcGVuZGVuY3k6IGFycmF5IGV4cGVjdGVkXCIpO3QucHVibGljRGVwZW5kZW5jeT1bXTtmb3Iobj0wO248ZS5wdWJsaWNEZXBlbmRlbmN5Lmxlbmd0aDsrK24pdC5wdWJsaWNEZXBlbmRlbmN5W25dPTB8ZS5wdWJsaWNEZXBlbmRlbmN5W25dfWlmKGUud2Vha0RlcGVuZGVuY3kpe2lmKCFBcnJheS5pc0FycmF5KGUud2Vha0RlcGVuZGVuY3kpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by53ZWFrRGVwZW5kZW5jeTogYXJyYXkgZXhwZWN0ZWRcIik7dC53ZWFrRGVwZW5kZW5jeT1bXTtmb3Iobj0wO248ZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGg7KytuKXQud2Vha0RlcGVuZGVuY3lbbl09MHxlLndlYWtEZXBlbmRlbmN5W25dfWlmKGUubWVzc2FnZVR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUubWVzc2FnZVR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5tZXNzYWdlVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5tZXNzYWdlVHlwZT1bXTtmb3Iobj0wO248ZS5tZXNzYWdlVHlwZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5tZXNzYWdlVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8ubWVzc2FnZVR5cGU6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1lc3NhZ2VUeXBlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUubWVzc2FnZVR5cGVbbl0pfX1pZihlLmVudW1UeXBlKXtpZighQXJyYXkuaXNBcnJheShlLmVudW1UeXBlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZW51bVR5cGU6IGFycmF5IGV4cGVjdGVkXCIpO3QuZW51bVR5cGU9W107Zm9yKG49MDtuPGUuZW51bVR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZW51bVR5cGVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWxlRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5lbnVtVHlwZVtuXSl9fWlmKGUuc2VydmljZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5zZXJ2aWNlKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uc2VydmljZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5zZXJ2aWNlPVtdO2ZvcihuPTA7bjxlLnNlcnZpY2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuc2VydmljZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uc2VydmljZTogb2JqZWN0IGV4cGVjdGVkXCIpO3Quc2VydmljZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5zZXJ2aWNlW25dKX19aWYoZS5leHRlbnNpb24pe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbj1bXTtmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZXh0ZW5zaW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5leHRlbnNpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUuZXh0ZW5zaW9uW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1pZihudWxsIT1lLnNvdXJjZUNvZGVJbmZvKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5zb3VyY2VDb2RlSW5mbyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVEZXNjcmlwdG9yUHJvdG8uc291cmNlQ29kZUluZm86IG9iamVjdCBleHBlY3RlZFwiKTt0LnNvdXJjZUNvZGVJbmZvPXAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLmZyb21PYmplY3QoZS5zb3VyY2VDb2RlSW5mbyl9cmV0dXJuIG51bGwhPWUuc3ludGF4JiYodC5zeW50YXg9U3RyaW5nKGUuc3ludGF4KSksdH0saC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZGVwZW5kZW5jeT1bXSxuLm1lc3NhZ2VUeXBlPVtdLG4uZW51bVR5cGU9W10sbi5zZXJ2aWNlPVtdLG4uZXh0ZW5zaW9uPVtdLG4ucHVibGljRGVwZW5kZW5jeT1bXSxuLndlYWtEZXBlbmRlbmN5PVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5wYWNrYWdlPVwiXCIsbi5vcHRpb25zPW51bGwsbi5zb3VyY2VDb2RlSW5mbz1udWxsLG4uc3ludGF4PVwiXCIpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLnBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJwYWNrYWdlXCIpJiYobi5wYWNrYWdlPWUucGFja2FnZSksZS5kZXBlbmRlbmN5JiZlLmRlcGVuZGVuY3kubGVuZ3RoKXtuLmRlcGVuZGVuY3k9W107Zm9yKHZhciBvPTA7bzxlLmRlcGVuZGVuY3kubGVuZ3RoOysrbyluLmRlcGVuZGVuY3lbb109ZS5kZXBlbmRlbmN5W29dfWlmKGUubWVzc2FnZVR5cGUmJmUubWVzc2FnZVR5cGUubGVuZ3RoKXtuLm1lc3NhZ2VUeXBlPVtdO2ZvcihvPTA7bzxlLm1lc3NhZ2VUeXBlLmxlbmd0aDsrK28pbi5tZXNzYWdlVHlwZVtvXT1wLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5tZXNzYWdlVHlwZVtvXSx0KX1pZihlLmVudW1UeXBlJiZlLmVudW1UeXBlLmxlbmd0aCl7bi5lbnVtVHlwZT1bXTtmb3Iobz0wO288ZS5lbnVtVHlwZS5sZW5ndGg7KytvKW4uZW51bVR5cGVbb109cC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by50b09iamVjdChlLmVudW1UeXBlW29dLHQpfWlmKGUuc2VydmljZSYmZS5zZXJ2aWNlLmxlbmd0aCl7bi5zZXJ2aWNlPVtdO2ZvcihvPTA7bzxlLnNlcnZpY2UubGVuZ3RoOysrbyluLnNlcnZpY2Vbb109cC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by50b09iamVjdChlLnNlcnZpY2Vbb10sdCl9aWYoZS5leHRlbnNpb24mJmUuZXh0ZW5zaW9uLmxlbmd0aCl7bi5leHRlbnNpb249W107Zm9yKG89MDtvPGUuZXh0ZW5zaW9uLmxlbmd0aDsrK28pbi5leHRlbnNpb25bb109cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5leHRlbnNpb25bb10sdCl9aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG51bGwhPWUuc291cmNlQ29kZUluZm8mJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VDb2RlSW5mb1wiKSYmKG4uc291cmNlQ29kZUluZm89cC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8udG9PYmplY3QoZS5zb3VyY2VDb2RlSW5mbyx0KSksZS5wdWJsaWNEZXBlbmRlbmN5JiZlLnB1YmxpY0RlcGVuZGVuY3kubGVuZ3RoKXtuLnB1YmxpY0RlcGVuZGVuY3k9W107Zm9yKG89MDtvPGUucHVibGljRGVwZW5kZW5jeS5sZW5ndGg7KytvKW4ucHVibGljRGVwZW5kZW5jeVtvXT1lLnB1YmxpY0RlcGVuZGVuY3lbb119aWYoZS53ZWFrRGVwZW5kZW5jeSYmZS53ZWFrRGVwZW5kZW5jeS5sZW5ndGgpe24ud2Vha0RlcGVuZGVuY3k9W107Zm9yKG89MDtvPGUud2Vha0RlcGVuZGVuY3kubGVuZ3RoOysrbyluLndlYWtEZXBlbmRlbmN5W29dPWUud2Vha0RlcGVuZGVuY3lbb119cmV0dXJuIG51bGwhPWUuc3ludGF4JiZlLmhhc093blByb3BlcnR5KFwic3ludGF4XCIpJiYobi5zeW50YXg9ZS5zeW50YXgpLG59LGgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxoKSx0LkRlc2NyaXB0b3JQcm90bz0oTy5wcm90b3R5cGUubmFtZT1cIlwiLE8ucHJvdG90eXBlLmZpZWxkPWkuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5leHRlbnNpb249aS5lbXB0eUFycmF5LE8ucHJvdG90eXBlLm5lc3RlZFR5cGU9aS5lbXB0eUFycmF5LE8ucHJvdG90eXBlLmVudW1UeXBlPWkuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5leHRlbnNpb25SYW5nZT1pLmVtcHR5QXJyYXksTy5wcm90b3R5cGUub25lb2ZEZWNsPWkuZW1wdHlBcnJheSxPLnByb3RvdHlwZS5vcHRpb25zPW51bGwsTy5wcm90b3R5cGUucmVzZXJ2ZWRSYW5nZT1pLmVtcHR5QXJyYXksTy5wcm90b3R5cGUucmVzZXJ2ZWROYW1lPWkuZW1wdHlBcnJheSxPLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE8oZSl9LE8uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUubmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5hbWVcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS5uYW1lKSxudWxsIT1lLmZpZWxkJiZlLmZpZWxkLmxlbmd0aClmb3IodmFyIG49MDtuPGUuZmllbGQubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5maWVsZFtuXSx0LnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm5lc3RlZFR5cGUmJmUubmVzdGVkVHlwZS5sZW5ndGgpZm9yKG49MDtuPGUubmVzdGVkVHlwZS5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5uZXN0ZWRUeXBlW25dLHQudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKWZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5lbnVtVHlwZVtuXSx0LnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmV4dGVuc2lvblJhbmdlJiZlLmV4dGVuc2lvblJhbmdlLmxlbmd0aClmb3Iobj0wO248ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5lbmNvZGUoZS5leHRlbnNpb25SYW5nZVtuXSx0LnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLmV4dGVuc2lvbiYmZS5leHRlbnNpb24ubGVuZ3RoKWZvcihuPTA7bjxlLmV4dGVuc2lvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmVuY29kZShlLmV4dGVuc2lvbltuXSx0LnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUub25lb2ZEZWNsJiZlLm9uZW9mRGVjbC5sZW5ndGgpZm9yKG49MDtuPGUub25lb2ZEZWNsLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZW5jb2RlKGUub25lb2ZEZWNsW25dLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5yZXNlcnZlZFJhbmdlLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuZW5jb2RlKGUucmVzZXJ2ZWRSYW5nZVtuXSx0LnVpbnQzMig3NCkuZm9yaygpKS5sZGVsaW0oKTtpZihudWxsIT1lLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQudWludDMyKDgyKS5zdHJpbmcoZS5yZXNlcnZlZE5hbWVbbl0pO3JldHVybiB0fSxPLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxPLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8uZmllbGQmJm8uZmllbGQubGVuZ3RofHwoby5maWVsZD1bXSksby5maWVsZC5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDY6by5leHRlbnNpb24mJm8uZXh0ZW5zaW9uLmxlbmd0aHx8KG8uZXh0ZW5zaW9uPVtdKSxvLmV4dGVuc2lvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5uZXN0ZWRUeXBlJiZvLm5lc3RlZFR5cGUubGVuZ3RofHwoby5uZXN0ZWRUeXBlPVtdKSxvLm5lc3RlZFR5cGUucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNDpvLmVudW1UeXBlJiZvLmVudW1UeXBlLmxlbmd0aHx8KG8uZW51bVR5cGU9W10pLG8uZW51bVR5cGUucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDU6by5leHRlbnNpb25SYW5nZSYmby5leHRlbnNpb25SYW5nZS5sZW5ndGh8fChvLmV4dGVuc2lvblJhbmdlPVtdKSxvLmV4dGVuc2lvblJhbmdlLnB1c2gocC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDg6by5vbmVvZkRlY2wmJm8ub25lb2ZEZWNsLmxlbmd0aHx8KG8ub25lb2ZEZWNsPVtdKSxvLm9uZW9mRGVjbC5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDc6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgOTpvLnJlc2VydmVkUmFuZ2UmJm8ucmVzZXJ2ZWRSYW5nZS5sZW5ndGh8fChvLnJlc2VydmVkUmFuZ2U9W10pLG8ucmVzZXJ2ZWRSYW5nZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwOm8ucmVzZXJ2ZWROYW1lJiZvLnJlc2VydmVkTmFtZS5sZW5ndGh8fChvLnJlc2VydmVkTmFtZT1bXSksby5yZXNlcnZlZE5hbWUucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LE8uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE8udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmZpZWxkJiZlLmhhc093blByb3BlcnR5KFwiZmllbGRcIikpe2lmKCFBcnJheS5pc0FycmF5KGUuZmllbGQpKXJldHVyblwiZmllbGQ6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmZpZWxkLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5maWVsZFt0XSkpcmV0dXJuXCJmaWVsZC5cIitufWlmKG51bGwhPWUuZXh0ZW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5zaW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpcmV0dXJuXCJleHRlbnNpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUuZXh0ZW5zaW9uLmxlbmd0aDsrK3QpaWYobj1wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5leHRlbnNpb25bdF0pKXJldHVyblwiZXh0ZW5zaW9uLlwiK259aWYobnVsbCE9ZS5uZXN0ZWRUeXBlJiZlLmhhc093blByb3BlcnR5KFwibmVzdGVkVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uZXN0ZWRUeXBlKSlyZXR1cm5cIm5lc3RlZFR5cGU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUubmVzdGVkVHlwZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm5lc3RlZFR5cGVbdF0pKXJldHVyblwibmVzdGVkVHlwZS5cIitufWlmKG51bGwhPWUuZW51bVR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJlbnVtVHlwZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5lbnVtVHlwZSkpcmV0dXJuXCJlbnVtVHlwZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5lbnVtVHlwZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5lbnVtVHlwZVt0XSkpcmV0dXJuXCJlbnVtVHlwZS5cIitufWlmKG51bGwhPWUuZXh0ZW5zaW9uUmFuZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbnNpb25SYW5nZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5leHRlbnNpb25SYW5nZSkpcmV0dXJuXCJleHRlbnNpb25SYW5nZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5leHRlbnNpb25SYW5nZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlLnZlcmlmeShlLmV4dGVuc2lvblJhbmdlW3RdKSlyZXR1cm5cImV4dGVuc2lvblJhbmdlLlwiK259aWYobnVsbCE9ZS5vbmVvZkRlY2wmJmUuaGFzT3duUHJvcGVydHkoXCJvbmVvZkRlY2xcIikpe2lmKCFBcnJheS5pc0FycmF5KGUub25lb2ZEZWNsKSlyZXR1cm5cIm9uZW9mRGVjbDogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5vbmVvZkRlY2wubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLm9uZW9mRGVjbFt0XSkpcmV0dXJuXCJvbmVvZkRlY2wuXCIrbn1pZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobj1wLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKSkpcmV0dXJuXCJvcHRpb25zLlwiK247aWYobnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLmhhc093blByb3BlcnR5KFwicmVzZXJ2ZWRSYW5nZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5yZXNlcnZlZFJhbmdlKSlyZXR1cm5cInJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciBuLHQ9MDt0PGUucmVzZXJ2ZWRSYW5nZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UudmVyaWZ5KGUucmVzZXJ2ZWRSYW5nZVt0XSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlLlwiK259aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZE5hbWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSlyZXR1cm5cInJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrdClpZighaS5pc1N0cmluZyhlLnJlc2VydmVkTmFtZVt0XSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LE8uZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLmZpZWxkKXtpZighQXJyYXkuaXNBcnJheShlLmZpZWxkKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5maWVsZDogYXJyYXkgZXhwZWN0ZWRcIik7dC5maWVsZD1bXTtmb3IodmFyIG49MDtuPGUuZmllbGQubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZmllbGRbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZmllbGQ6IG9iamVjdCBleHBlY3RlZFwiKTt0LmZpZWxkW25dPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5maWVsZFtuXSl9fWlmKGUuZXh0ZW5zaW9uKXtpZighQXJyYXkuaXNBcnJheShlLmV4dGVuc2lvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uZXh0ZW5zaW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LmV4dGVuc2lvbj1bXTtmb3Iobj0wO248ZS5leHRlbnNpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZXh0ZW5zaW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZXh0ZW5zaW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5leHRlbnNpb25bbl0pfX1pZihlLm5lc3RlZFR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUubmVzdGVkVHlwZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ubmVzdGVkVHlwZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5uZXN0ZWRUeXBlPVtdO2ZvcihuPTA7bjxlLm5lc3RlZFR5cGUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubmVzdGVkVHlwZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5uZXN0ZWRUeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5uZXN0ZWRUeXBlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5mcm9tT2JqZWN0KGUubmVzdGVkVHlwZVtuXSl9fWlmKGUuZW51bVR5cGUpe2lmKCFBcnJheS5pc0FycmF5KGUuZW51bVR5cGUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBhcnJheSBleHBlY3RlZFwiKTt0LmVudW1UeXBlPVtdO2ZvcihuPTA7bjxlLmVudW1UeXBlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmVudW1UeXBlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmVudW1UeXBlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5lbnVtVHlwZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLmZyb21PYmplY3QoZS5lbnVtVHlwZVtuXSl9fWlmKGUuZXh0ZW5zaW9uUmFuZ2Upe2lmKCFBcnJheS5pc0FycmF5KGUuZXh0ZW5zaW9uUmFuZ2UpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvblJhbmdlOiBhcnJheSBleHBlY3RlZFwiKTt0LmV4dGVuc2lvblJhbmdlPVtdO2ZvcihuPTA7bjxlLmV4dGVuc2lvblJhbmdlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmV4dGVuc2lvblJhbmdlW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLmV4dGVuc2lvblJhbmdlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5leHRlbnNpb25SYW5nZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2UuZnJvbU9iamVjdChlLmV4dGVuc2lvblJhbmdlW25dKX19aWYoZS5vbmVvZkRlY2wpe2lmKCFBcnJheS5pc0FycmF5KGUub25lb2ZEZWNsKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5vbmVvZkRlY2w6IGFycmF5IGV4cGVjdGVkXCIpO3Qub25lb2ZEZWNsPVtdO2ZvcihuPTA7bjxlLm9uZW9mRGVjbC5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vbmVvZkRlY2xbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ub25lb2ZEZWNsOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vbmVvZkRlY2xbbl09cC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm9uZW9mRGVjbFtuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1pZihlLnJlc2VydmVkUmFuZ2Upe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8ucmVzZXJ2ZWRSYW5nZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUucmVzZXJ2ZWRSYW5nZVtuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5yZXNlcnZlZFJhbmdlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZFJhbmdlW25dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLmZyb21PYmplY3QoZS5yZXNlcnZlZFJhbmdlW25dKX19aWYoZS5yZXNlcnZlZE5hbWUpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5yZXNlcnZlZE5hbWU6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWROYW1lPVtdO2ZvcihuPTA7bjxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytuKXQucmVzZXJ2ZWROYW1lW25dPVN0cmluZyhlLnJlc2VydmVkTmFtZVtuXSl9cmV0dXJuIHR9LE8udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLmZpZWxkPVtdLG4ubmVzdGVkVHlwZT1bXSxuLmVudW1UeXBlPVtdLG4uZXh0ZW5zaW9uUmFuZ2U9W10sbi5leHRlbnNpb249W10sbi5vbmVvZkRlY2w9W10sbi5yZXNlcnZlZFJhbmdlPVtdLG4ucmVzZXJ2ZWROYW1lPVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxlLmZpZWxkJiZlLmZpZWxkLmxlbmd0aCl7bi5maWVsZD1bXTtmb3IodmFyIG89MDtvPGUuZmllbGQubGVuZ3RoOysrbyluLmZpZWxkW29dPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZmllbGRbb10sdCl9aWYoZS5uZXN0ZWRUeXBlJiZlLm5lc3RlZFR5cGUubGVuZ3RoKXtuLm5lc3RlZFR5cGU9W107Zm9yKG89MDtvPGUubmVzdGVkVHlwZS5sZW5ndGg7KytvKW4ubmVzdGVkVHlwZVtvXT1wLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8udG9PYmplY3QoZS5uZXN0ZWRUeXBlW29dLHQpfWlmKGUuZW51bVR5cGUmJmUuZW51bVR5cGUubGVuZ3RoKXtuLmVudW1UeXBlPVtdO2ZvcihvPTA7bzxlLmVudW1UeXBlLmxlbmd0aDsrK28pbi5lbnVtVHlwZVtvXT1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZW51bVR5cGVbb10sdCl9aWYoZS5leHRlbnNpb25SYW5nZSYmZS5leHRlbnNpb25SYW5nZS5sZW5ndGgpe24uZXh0ZW5zaW9uUmFuZ2U9W107Zm9yKG89MDtvPGUuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOysrbyluLmV4dGVuc2lvblJhbmdlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS50b09iamVjdChlLmV4dGVuc2lvblJhbmdlW29dLHQpfWlmKGUuZXh0ZW5zaW9uJiZlLmV4dGVuc2lvbi5sZW5ndGgpe24uZXh0ZW5zaW9uPVtdO2ZvcihvPTA7bzxlLmV4dGVuc2lvbi5sZW5ndGg7KytvKW4uZXh0ZW5zaW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLnRvT2JqZWN0KGUuZXh0ZW5zaW9uW29dLHQpfWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuTWVzc2FnZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxlLm9uZW9mRGVjbCYmZS5vbmVvZkRlY2wubGVuZ3RoKXtuLm9uZW9mRGVjbD1bXTtmb3Iobz0wO288ZS5vbmVvZkRlY2wubGVuZ3RoOysrbyluLm9uZW9mRGVjbFtvXT1wLmdvb2dsZS5wcm90b2J1Zi5PbmVvZkRlc2NyaXB0b3JQcm90by50b09iamVjdChlLm9uZW9mRGVjbFtvXSx0KX1pZihlLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpe24ucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK28pbi5yZXNlcnZlZFJhbmdlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLnRvT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtvXSx0KX1pZihlLnJlc2VydmVkTmFtZSYmZS5yZXNlcnZlZE5hbWUubGVuZ3RoKXtuLnJlc2VydmVkTmFtZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbyluLnJlc2VydmVkTmFtZVtvXT1lLnJlc2VydmVkTmFtZVtvXX1yZXR1cm4gbn0sTy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LE8uRXh0ZW5zaW9uUmFuZ2U9KGIucHJvdG90eXBlLnN0YXJ0PTAsYi5wcm90b3R5cGUuZW5kPTAsYi5wcm90b3R5cGUub3B0aW9ucz1udWxsLGIuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYihlKX0sYi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdGFydFwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5zdGFydCksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDE2KS5pbnQzMihlLmVuZCksbnVsbCE9ZS5vcHRpb25zJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwib3B0aW9uc1wiKSYmcC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sYi5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sYi5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc3RhcnQ9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgMjpvLmVuZD1lLmludDMyKCk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxiLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxiLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJiFpLmlzSW50ZWdlcihlLnN0YXJ0KSlyZXR1cm5cInN0YXJ0OiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJiFpLmlzSW50ZWdlcihlLmVuZCkpcmV0dXJuXCJlbmQ6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPXAuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucy52ZXJpZnkoZS5vcHRpb25zKTtpZihlKXJldHVyblwib3B0aW9ucy5cIitlfXJldHVybiBudWxsfSxiLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZSlyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLkV4dGVuc2lvblJhbmdlO2lmKG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PTB8ZS5zdGFydCksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5EZXNjcmlwdG9yUHJvdG8uRXh0ZW5zaW9uUmFuZ2Uub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSxiLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5zdGFydD0wLG4uZW5kPTAsbi5vcHRpb25zPW51bGwpLG51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmKG4uc3RhcnQ9ZS5zdGFydCksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxufSxiLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sYiksTy5SZXNlcnZlZFJhbmdlPShtLnByb3RvdHlwZS5zdGFydD0wLG0ucHJvdG90eXBlLmVuZD0wLG0uY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbShlKX0sbS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuc3RhcnQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzdGFydFwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5zdGFydCksbnVsbCE9ZS5lbmQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJlbmRcIikmJnQudWludDMyKDE2KS5pbnQzMihlLmVuZCksdH0sbS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sbS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zdGFydD1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8uZW5kPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LG0uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LG0udmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmIWkuaXNJbnRlZ2VyKGUuc3RhcnQpP1wic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIWkuaXNJbnRlZ2VyKGUuZW5kKT9cImVuZDogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LG0uZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlP2U6KHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkRlc2NyaXB0b3JQcm90by5SZXNlcnZlZFJhbmdlLG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PTB8ZS5zdGFydCksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSx0KX0sbS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O3JldHVybih0PXR8fHt9KS5kZWZhdWx0cyYmKG4uc3RhcnQ9MCxuLmVuZD0wKSxudWxsIT1lLnN0YXJ0JiZlLmhhc093blByb3BlcnR5KFwic3RhcnRcIikmJihuLnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYobi5lbmQ9ZS5lbmQpLG59LG0ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxtKSxPKSx0LkV4dGVuc2lvblJhbmdlT3B0aW9ucz0oTS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1pLmVtcHR5QXJyYXksTS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNKGUpfSxNLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sTS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sTS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRXh0ZW5zaW9uUmFuZ2VPcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3I+Pj4zPT05OTk/KG8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sTS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sTS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi52ZXJpZnkoZS51bmludGVycHJldGVkT3B0aW9uW3RdKTtpZihuKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sTS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMpcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkV4dGVuc2lvblJhbmdlT3B0aW9ucztpZihlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FeHRlbnNpb25SYW5nZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LE0udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxNLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sTSksdC5GaWVsZERlc2NyaXB0b3JQcm90bz0odi5wcm90b3R5cGUubmFtZT1cIlwiLHYucHJvdG90eXBlLm51bWJlcj0wLHYucHJvdG90eXBlLmxhYmVsPTEsdi5wcm90b3R5cGUudHlwZT0xLHYucHJvdG90eXBlLnR5cGVOYW1lPVwiXCIsdi5wcm90b3R5cGUuZXh0ZW5kZWU9XCJcIix2LnByb3RvdHlwZS5kZWZhdWx0VmFsdWU9XCJcIix2LnByb3RvdHlwZS5vbmVvZkluZGV4PTAsdi5wcm90b3R5cGUuanNvbk5hbWU9XCJcIix2LnByb3RvdHlwZS5vcHRpb25zPW51bGwsdi5wcm90b3R5cGUucHJvdG8zT3B0aW9uYWw9ITEsdi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB2KGUpfSx2LmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUuZXh0ZW5kZWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJleHRlbmRlZVwiKSYmdC51aW50MzIoMTgpLnN0cmluZyhlLmV4dGVuZGVlKSxudWxsIT1lLm51bWJlciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm51bWJlclwiKSYmdC51aW50MzIoMjQpLmludDMyKGUubnVtYmVyKSxudWxsIT1lLmxhYmVsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGFiZWxcIikmJnQudWludDMyKDMyKS5pbnQzMihlLmxhYmVsKSxudWxsIT1lLnR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ0eXBlXCIpJiZ0LnVpbnQzMig0MCkuaW50MzIoZS50eXBlKSxudWxsIT1lLnR5cGVOYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHlwZU5hbWVcIikmJnQudWludDMyKDUwKS5zdHJpbmcoZS50eXBlTmFtZSksbnVsbCE9ZS5kZWZhdWx0VmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0VmFsdWVcIikmJnQudWludDMyKDU4KS5zdHJpbmcoZS5kZWZhdWx0VmFsdWUpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDY2KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWUub25lb2ZJbmRleCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9uZW9mSW5kZXhcIikmJnQudWludDMyKDcyKS5pbnQzMihlLm9uZW9mSW5kZXgpLG51bGwhPWUuanNvbk5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqc29uTmFtZVwiKSYmdC51aW50MzIoODIpLnN0cmluZyhlLmpzb25OYW1lKSxudWxsIT1lLnByb3RvM09wdGlvbmFsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicHJvdG8zT3B0aW9uYWxcIikmJnQudWludDMyKDEzNikuYm9vbChlLnByb3RvM09wdGlvbmFsKSx0fSx2LmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSx2LmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5udW1iZXI9ZS5pbnQzMigpO2JyZWFrO2Nhc2UgNDpvLmxhYmVsPWUuaW50MzIoKTticmVhaztjYXNlIDU6by50eXBlPWUuaW50MzIoKTticmVhaztjYXNlIDY6by50eXBlTmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLmV4dGVuZGVlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA3Om8uZGVmYXVsdFZhbHVlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA5Om8ub25lb2ZJbmRleD1lLmludDMyKCk7YnJlYWs7Y2FzZSAxMDpvLmpzb25OYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA4Om8ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7Y2FzZSAxNzpvLnByb3RvM09wdGlvbmFsPWUuYm9vbCgpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYhaS5pc0ludGVnZXIoZS5udW1iZXIpKXJldHVyblwibnVtYmVyOiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5sYWJlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImxhYmVsXCIpKXN3aXRjaChlLmxhYmVsKXtkZWZhdWx0OnJldHVyblwibGFiZWw6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDE6Y2FzZSAyOmNhc2UgMzp9aWYobnVsbCE9ZS50eXBlJiZlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSlzd2l0Y2goZS50eXBlKXtkZWZhdWx0OnJldHVyblwidHlwZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6Y2FzZSA2OmNhc2UgNzpjYXNlIDg6Y2FzZSA5OmNhc2UgMTA6Y2FzZSAxMTpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAxNDpjYXNlIDE1OmNhc2UgMTY6Y2FzZSAxNzpjYXNlIDE4On1pZihudWxsIT1lLnR5cGVOYW1lJiZlLmhhc093blByb3BlcnR5KFwidHlwZU5hbWVcIikmJiFpLmlzU3RyaW5nKGUudHlwZU5hbWUpKXJldHVyblwidHlwZU5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuZXh0ZW5kZWUmJmUuaGFzT3duUHJvcGVydHkoXCJleHRlbmRlZVwiKSYmIWkuaXNTdHJpbmcoZS5leHRlbmRlZSkpcmV0dXJuXCJleHRlbmRlZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5kZWZhdWx0VmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikmJiFpLmlzU3RyaW5nKGUuZGVmYXVsdFZhbHVlKSlyZXR1cm5cImRlZmF1bHRWYWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vbmVvZkluZGV4JiZlLmhhc093blByb3BlcnR5KFwib25lb2ZJbmRleFwiKSYmIWkuaXNJbnRlZ2VyKGUub25lb2ZJbmRleCkpcmV0dXJuXCJvbmVvZkluZGV4OiBpbnRlZ2VyIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qc29uTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcImpzb25OYW1lXCIpJiYhaS5pc1N0cmluZyhlLmpzb25OYW1lKSlyZXR1cm5cImpzb25OYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXt2YXIgdD1wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYodClyZXR1cm5cIm9wdGlvbnMuXCIrdH1yZXR1cm4gbnVsbCE9ZS5wcm90bzNPcHRpb25hbCYmZS5oYXNPd25Qcm9wZXJ0eShcInByb3RvM09wdGlvbmFsXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUucHJvdG8zT3B0aW9uYWw/XCJwcm90bzNPcHRpb25hbDogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LHYuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvO3N3aXRjaChudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUubnVtYmVyJiYodC5udW1iZXI9MHxlLm51bWJlciksZS5sYWJlbCl7Y2FzZVwiTEFCRUxfT1BUSU9OQUxcIjpjYXNlIDE6dC5sYWJlbD0xO2JyZWFrO2Nhc2VcIkxBQkVMX1JFUVVJUkVEXCI6Y2FzZSAyOnQubGFiZWw9MjticmVhaztjYXNlXCJMQUJFTF9SRVBFQVRFRFwiOmNhc2UgMzp0LmxhYmVsPTN9c3dpdGNoKGUudHlwZSl7Y2FzZVwiVFlQRV9ET1VCTEVcIjpjYXNlIDE6dC50eXBlPTE7YnJlYWs7Y2FzZVwiVFlQRV9GTE9BVFwiOmNhc2UgMjp0LnR5cGU9MjticmVhaztjYXNlXCJUWVBFX0lOVDY0XCI6Y2FzZSAzOnQudHlwZT0zO2JyZWFrO2Nhc2VcIlRZUEVfVUlOVDY0XCI6Y2FzZSA0OnQudHlwZT00O2JyZWFrO2Nhc2VcIlRZUEVfSU5UMzJcIjpjYXNlIDU6dC50eXBlPTU7YnJlYWs7Y2FzZVwiVFlQRV9GSVhFRDY0XCI6Y2FzZSA2OnQudHlwZT02O2JyZWFrO2Nhc2VcIlRZUEVfRklYRUQzMlwiOmNhc2UgNzp0LnR5cGU9NzticmVhaztjYXNlXCJUWVBFX0JPT0xcIjpjYXNlIDg6dC50eXBlPTg7YnJlYWs7Y2FzZVwiVFlQRV9TVFJJTkdcIjpjYXNlIDk6dC50eXBlPTk7YnJlYWs7Y2FzZVwiVFlQRV9HUk9VUFwiOmNhc2UgMTA6dC50eXBlPTEwO2JyZWFrO2Nhc2VcIlRZUEVfTUVTU0FHRVwiOmNhc2UgMTE6dC50eXBlPTExO2JyZWFrO2Nhc2VcIlRZUEVfQllURVNcIjpjYXNlIDEyOnQudHlwZT0xMjticmVhaztjYXNlXCJUWVBFX1VJTlQzMlwiOmNhc2UgMTM6dC50eXBlPTEzO2JyZWFrO2Nhc2VcIlRZUEVfRU5VTVwiOmNhc2UgMTQ6dC50eXBlPTE0O2JyZWFrO2Nhc2VcIlRZUEVfU0ZJWEVEMzJcIjpjYXNlIDE1OnQudHlwZT0xNTticmVhaztjYXNlXCJUWVBFX1NGSVhFRDY0XCI6Y2FzZSAxNjp0LnR5cGU9MTY7YnJlYWs7Y2FzZVwiVFlQRV9TSU5UMzJcIjpjYXNlIDE3OnQudHlwZT0xNzticmVhaztjYXNlXCJUWVBFX1NJTlQ2NFwiOmNhc2UgMTg6dC50eXBlPTE4fWlmKG51bGwhPWUudHlwZU5hbWUmJih0LnR5cGVOYW1lPVN0cmluZyhlLnR5cGVOYW1lKSksbnVsbCE9ZS5leHRlbmRlZSYmKHQuZXh0ZW5kZWU9U3RyaW5nKGUuZXh0ZW5kZWUpKSxudWxsIT1lLmRlZmF1bHRWYWx1ZSYmKHQuZGVmYXVsdFZhbHVlPVN0cmluZyhlLmRlZmF1bHRWYWx1ZSkpLG51bGwhPWUub25lb2ZJbmRleCYmKHQub25lb2ZJbmRleD0wfGUub25lb2ZJbmRleCksbnVsbCE9ZS5qc29uTmFtZSYmKHQuanNvbk5hbWU9U3RyaW5nKGUuanNvbk5hbWUpKSxudWxsIT1lLm9wdGlvbnMpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLm9wdGlvbnMpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJih0LnByb3RvM09wdGlvbmFsPUJvb2xlYW4oZS5wcm90bzNPcHRpb25hbCkpLHR9LHYudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLmV4dGVuZGVlPVwiXCIsbi5udW1iZXI9MCxuLmxhYmVsPXQuZW51bXM9PT1TdHJpbmc/XCJMQUJFTF9PUFRJT05BTFwiOjEsbi50eXBlPXQuZW51bXM9PT1TdHJpbmc/XCJUWVBFX0RPVUJMRVwiOjEsbi50eXBlTmFtZT1cIlwiLG4uZGVmYXVsdFZhbHVlPVwiXCIsbi5vcHRpb25zPW51bGwsbi5vbmVvZkluZGV4PTAsbi5qc29uTmFtZT1cIlwiLG4ucHJvdG8zT3B0aW9uYWw9ITEpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLmV4dGVuZGVlJiZlLmhhc093blByb3BlcnR5KFwiZXh0ZW5kZWVcIikmJihuLmV4dGVuZGVlPWUuZXh0ZW5kZWUpLG51bGwhPWUubnVtYmVyJiZlLmhhc093blByb3BlcnR5KFwibnVtYmVyXCIpJiYobi5udW1iZXI9ZS5udW1iZXIpLG51bGwhPWUubGFiZWwmJmUuaGFzT3duUHJvcGVydHkoXCJsYWJlbFwiKSYmKG4ubGFiZWw9dC5lbnVtcz09PVN0cmluZz9wLmdvb2dsZS5wcm90b2J1Zi5GaWVsZERlc2NyaXB0b3JQcm90by5MYWJlbFtlLmxhYmVsXTplLmxhYmVsKSxudWxsIT1lLnR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpJiYobi50eXBlPXQuZW51bXM9PT1TdHJpbmc/cC5nb29nbGUucHJvdG9idWYuRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZVtlLnR5cGVdOmUudHlwZSksbnVsbCE9ZS50eXBlTmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcInR5cGVOYW1lXCIpJiYobi50eXBlTmFtZT1lLnR5cGVOYW1lKSxudWxsIT1lLmRlZmF1bHRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmKG4uZGVmYXVsdFZhbHVlPWUuZGVmYXVsdFZhbHVlKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG51bGwhPWUub25lb2ZJbmRleCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9uZW9mSW5kZXhcIikmJihuLm9uZW9mSW5kZXg9ZS5vbmVvZkluZGV4KSxudWxsIT1lLmpzb25OYW1lJiZlLmhhc093blByb3BlcnR5KFwianNvbk5hbWVcIikmJihuLmpzb25OYW1lPWUuanNvbk5hbWUpLG51bGwhPWUucHJvdG8zT3B0aW9uYWwmJmUuaGFzT3duUHJvcGVydHkoXCJwcm90bzNPcHRpb25hbFwiKSYmKG4ucHJvdG8zT3B0aW9uYWw9ZS5wcm90bzNPcHRpb25hbCksbn0sdi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LHYuVHlwZT0obj17fSwoZT1PYmplY3QuY3JlYXRlKG4pKVtuWzFdPVwiVFlQRV9ET1VCTEVcIl09MSxlW25bMl09XCJUWVBFX0ZMT0FUXCJdPTIsZVtuWzNdPVwiVFlQRV9JTlQ2NFwiXT0zLGVbbls0XT1cIlRZUEVfVUlOVDY0XCJdPTQsZVtuWzVdPVwiVFlQRV9JTlQzMlwiXT01LGVbbls2XT1cIlRZUEVfRklYRUQ2NFwiXT02LGVbbls3XT1cIlRZUEVfRklYRUQzMlwiXT03LGVbbls4XT1cIlRZUEVfQk9PTFwiXT04LGVbbls5XT1cIlRZUEVfU1RSSU5HXCJdPTksZVtuWzEwXT1cIlRZUEVfR1JPVVBcIl09MTAsZVtuWzExXT1cIlRZUEVfTUVTU0FHRVwiXT0xMSxlW25bMTJdPVwiVFlQRV9CWVRFU1wiXT0xMixlW25bMTNdPVwiVFlQRV9VSU5UMzJcIl09MTMsZVtuWzE0XT1cIlRZUEVfRU5VTVwiXT0xNCxlW25bMTVdPVwiVFlQRV9TRklYRUQzMlwiXT0xNSxlW25bMTZdPVwiVFlQRV9TRklYRUQ2NFwiXT0xNixlW25bMTddPVwiVFlQRV9TSU5UMzJcIl09MTcsZVtuWzE4XT1cIlRZUEVfU0lOVDY0XCJdPTE4LGUpLHYuTGFiZWw9KG49e30sKGU9T2JqZWN0LmNyZWF0ZShuKSlbblsxXT1cIkxBQkVMX09QVElPTkFMXCJdPTEsZVtuWzJdPVwiTEFCRUxfUkVRVUlSRURcIl09MixlW25bM109XCJMQUJFTF9SRVBFQVRFRFwiXT0zLGUpLHYpLHQuT25lb2ZEZXNjcmlwdG9yUHJvdG89KHcucHJvdG90eXBlLm5hbWU9XCJcIix3LnByb3RvdHlwZS5vcHRpb25zPW51bGwsdy5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB3KGUpfSx3LmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy5lbmNvZGUoZS5vcHRpb25zLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpLHR9LHcuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHcuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMjpvLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sdy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sdy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmIWkuaXNTdHJpbmcoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe2U9cC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zLnZlcmlmeShlLm9wdGlvbnMpO2lmKGUpcmV0dXJuXCJvcHRpb25zLlwiK2V9cmV0dXJuIG51bGx9LHcuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mRGVzY3JpcHRvclByb3RvO2lmKG51bGwhPWUubmFtZSYmKHQubmFtZT1TdHJpbmcoZS5uYW1lKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuT25lb2ZEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnMuZnJvbU9iamVjdChlLm9wdGlvbnMpfXJldHVybiB0fSx3LnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307cmV0dXJuKHQ9dHx8e30pLmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpJiYobi5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LHcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx3KSx0LkVudW1EZXNjcmlwdG9yUHJvdG89KFAucHJvdG90eXBlLm5hbWU9XCJcIixQLnByb3RvdHlwZS52YWx1ZT1pLmVtcHR5QXJyYXksUC5wcm90b3R5cGUub3B0aW9ucz1udWxsLFAucHJvdG90eXBlLnJlc2VydmVkUmFuZ2U9aS5lbXB0eUFycmF5LFAucHJvdG90eXBlLnJlc2VydmVkTmFtZT1pLmVtcHR5QXJyYXksUC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQKGUpfSxQLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS52YWx1ZSYmZS52YWx1ZS5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnZhbHVlLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLmVuY29kZShlLnZhbHVlW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO2lmKG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5yZXNlcnZlZFJhbmdlJiZlLnJlc2VydmVkUmFuZ2UubGVuZ3RoKWZvcihuPTA7bjxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLkVudW1SZXNlcnZlZFJhbmdlLmVuY29kZShlLnJlc2VydmVkUmFuZ2Vbbl0sdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUucmVzZXJ2ZWROYW1lLmxlbmd0aClmb3Iobj0wO248ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrbil0LnVpbnQzMig0Mikuc3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKTtyZXR1cm4gdH0sUC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by52YWx1ZSYmby52YWx1ZS5sZW5ndGh8fChvLnZhbHVlPVtdKSxvLnZhbHVlLnB1c2gocC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDM6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNDpvLnJlc2VydmVkUmFuZ2UmJm8ucmVzZXJ2ZWRSYW5nZS5sZW5ndGh8fChvLnJlc2VydmVkUmFuZ2U9W10pLG8ucmVzZXJ2ZWRSYW5nZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgNTpvLnJlc2VydmVkTmFtZSYmby5yZXNlcnZlZE5hbWUubGVuZ3RofHwoby5yZXNlcnZlZE5hbWU9W10pLG8ucmVzZXJ2ZWROYW1lLnB1c2goZS5zdHJpbmcoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxQLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxQLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnZhbHVlKSlyZXR1cm5cInZhbHVlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS52YWx1ZS5sZW5ndGg7Kyt0KWlmKG49cC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLnZlcmlmeShlLnZhbHVlW3RdKSlyZXR1cm5cInZhbHVlLlwiK259aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49cC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO2lmKG51bGwhPWUucmVzZXJ2ZWRSYW5nZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJlc2VydmVkUmFuZ2VcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgbix0PTA7dDxlLnJlc2VydmVkUmFuZ2UubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UudmVyaWZ5KGUucmVzZXJ2ZWRSYW5nZVt0XSkpcmV0dXJuXCJyZXNlcnZlZFJhbmdlLlwiK259aWYobnVsbCE9ZS5yZXNlcnZlZE5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJyZXNlcnZlZE5hbWVcIikpe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWROYW1lKSlyZXR1cm5cInJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodD0wO3Q8ZS5yZXNlcnZlZE5hbWUubGVuZ3RoOysrdClpZighaS5pc1N0cmluZyhlLnJlc2VydmVkTmFtZVt0XSkpcmV0dXJuXCJyZXNlcnZlZE5hbWU6IHN0cmluZ1tdIGV4cGVjdGVkXCJ9cmV0dXJuIG51bGx9LFAuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90bylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLGUudmFsdWUpe2lmKCFBcnJheS5pc0FycmF5KGUudmFsdWUpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by52YWx1ZTogYXJyYXkgZXhwZWN0ZWRcIik7dC52YWx1ZT1bXTtmb3IodmFyIG49MDtuPGUudmFsdWUubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudmFsdWVbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnZhbHVlOiBvYmplY3QgZXhwZWN0ZWRcIik7dC52YWx1ZVtuXT1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLnZhbHVlW25dKX19aWYobnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5vcHRpb25zOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLmZyb21PYmplY3QoZS5vcHRpb25zKX1pZihlLnJlc2VydmVkUmFuZ2Upe2lmKCFBcnJheS5pc0FycmF5KGUucmVzZXJ2ZWRSYW5nZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IGFycmF5IGV4cGVjdGVkXCIpO3QucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobj0wO248ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnJlc2VydmVkUmFuZ2Vbbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnJlc2VydmVkUmFuZ2U6IG9iamVjdCBleHBlY3RlZFwiKTt0LnJlc2VydmVkUmFuZ2Vbbl09cC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZS5mcm9tT2JqZWN0KGUucmVzZXJ2ZWRSYW5nZVtuXSl9fWlmKGUucmVzZXJ2ZWROYW1lKXtpZighQXJyYXkuaXNBcnJheShlLnJlc2VydmVkTmFtZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtRGVzY3JpcHRvclByb3RvLnJlc2VydmVkTmFtZTogYXJyYXkgZXhwZWN0ZWRcIik7dC5yZXNlcnZlZE5hbWU9W107Zm9yKG49MDtuPGUucmVzZXJ2ZWROYW1lLmxlbmd0aDsrK24pdC5yZXNlcnZlZE5hbWVbbl09U3RyaW5nKGUucmVzZXJ2ZWROYW1lW25dKX1yZXR1cm4gdH0sUC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udmFsdWU9W10sbi5yZXNlcnZlZFJhbmdlPVtdLG4ucmVzZXJ2ZWROYW1lPVtdKSx0LmRlZmF1bHRzJiYobi5uYW1lPVwiXCIsbi5vcHRpb25zPW51bGwpLG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJihuLm5hbWU9ZS5uYW1lKSxlLnZhbHVlJiZlLnZhbHVlLmxlbmd0aCl7bi52YWx1ZT1bXTtmb3IodmFyIG89MDtvPGUudmFsdWUubGVuZ3RoOysrbyluLnZhbHVlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90by50b09iamVjdChlLnZhbHVlW29dLHQpfWlmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRW51bU9wdGlvbnMudG9PYmplY3QoZS5vcHRpb25zLHQpKSxlLnJlc2VydmVkUmFuZ2UmJmUucmVzZXJ2ZWRSYW5nZS5sZW5ndGgpe24ucmVzZXJ2ZWRSYW5nZT1bXTtmb3Iobz0wO288ZS5yZXNlcnZlZFJhbmdlLmxlbmd0aDsrK28pbi5yZXNlcnZlZFJhbmdlW29dPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2UudG9PYmplY3QoZS5yZXNlcnZlZFJhbmdlW29dLHQpfWlmKGUucmVzZXJ2ZWROYW1lJiZlLnJlc2VydmVkTmFtZS5sZW5ndGgpe24ucmVzZXJ2ZWROYW1lPVtdO2ZvcihvPTA7bzxlLnJlc2VydmVkTmFtZS5sZW5ndGg7KytvKW4ucmVzZXJ2ZWROYW1lW29dPWUucmVzZXJ2ZWROYW1lW29dfXJldHVybiBufSxQLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sUC5FbnVtUmVzZXJ2ZWRSYW5nZT0oXy5wcm90b3R5cGUuc3RhcnQ9MCxfLnByb3RvdHlwZS5lbmQ9MCxfLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IF8oZSl9LF8uZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnN0YXJ0JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RhcnRcIikmJnQudWludDMyKDgpLmludDMyKGUuc3RhcnQpLG51bGwhPWUuZW5kJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZW5kXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5lbmQpLHR9LF8uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LF8uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2U7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5zdGFydD1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8uZW5kPWUuaW50MzIoKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LF8uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LF8udmVyaWZ5PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZT9cIm9iamVjdCBleHBlY3RlZFwiOm51bGwhPWUuc3RhcnQmJmUuaGFzT3duUHJvcGVydHkoXCJzdGFydFwiKSYmIWkuaXNJbnRlZ2VyKGUuc3RhcnQpP1wic3RhcnQ6IGludGVnZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmIWkuaXNJbnRlZ2VyKGUuZW5kKT9cImVuZDogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LF8uZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkVudW1EZXNjcmlwdG9yUHJvdG8uRW51bVJlc2VydmVkUmFuZ2U/ZToodD1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bURlc2NyaXB0b3JQcm90by5FbnVtUmVzZXJ2ZWRSYW5nZSxudWxsIT1lLnN0YXJ0JiYodC5zdGFydD0wfGUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9MHxlLmVuZCksdCl9LF8udG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnN0YXJ0PTAsbi5lbmQ9MCksbnVsbCE9ZS5zdGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0XCIpJiYobi5zdGFydD1lLnN0YXJ0KSxudWxsIT1lLmVuZCYmZS5oYXNPd25Qcm9wZXJ0eShcImVuZFwiKSYmKG4uZW5kPWUuZW5kKSxufSxfLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sXyksUCksdC5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG89KGoucHJvdG90eXBlLm5hbWU9XCJcIixqLnByb3RvdHlwZS5udW1iZXI9MCxqLnByb3RvdHlwZS5vcHRpb25zPW51bGwsai5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBqKGUpfSxqLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUubnVtYmVyJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibnVtYmVyXCIpJiZ0LnVpbnQzMigxNikuaW50MzIoZS5udW1iZXIpLG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuZW5jb2RlKGUub3B0aW9ucyx0LnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKSx0fSxqLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxqLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5uYW1lPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAyOm8ubnVtYmVyPWUuaW50MzIoKTticmVhaztjYXNlIDM6by5vcHRpb25zPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMuZGVjb2RlKGUsZS51aW50MzIoKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxqLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxqLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJiFpLmlzSW50ZWdlcihlLm51bWJlcikpcmV0dXJuXCJudW1iZXI6IGludGVnZXIgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm9wdGlvbnMmJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpb25zXCIpKXtlPXAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYoZSlyZXR1cm5cIm9wdGlvbnMuXCIrZX1yZXR1cm4gbnVsbH0sai5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkVudW1WYWx1ZURlc2NyaXB0b3JQcm90bztpZihudWxsIT1lLm5hbWUmJih0Lm5hbWU9U3RyaW5nKGUubmFtZSkpLG51bGwhPWUubnVtYmVyJiYodC5udW1iZXI9MHxlLm51bWJlciksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LGoudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLm51bWJlcj0wLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5udW1iZXImJmUuaGFzT3duUHJvcGVydHkoXCJudW1iZXJcIikmJihuLm51bWJlcj1lLm51bWJlciksbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnRvT2JqZWN0KGUub3B0aW9ucyx0KSksbn0sai5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LGopLHQuU2VydmljZURlc2NyaXB0b3JQcm90bz0oUy5wcm90b3R5cGUubmFtZT1cIlwiLFMucHJvdG90eXBlLm1ldGhvZD1pLmVtcHR5QXJyYXksUy5wcm90b3R5cGUub3B0aW9ucz1udWxsLFMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUyhlKX0sUy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibmFtZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLm5hbWUpLG51bGwhPWUubWV0aG9kJiZlLm1ldGhvZC5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLm1ldGhvZC5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5lbmNvZGUoZS5tZXRob2Rbbl0sdC51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWUub3B0aW9ucyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGlvbnNcIikmJnAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCksdH0sUy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sUy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5tZXRob2QmJm8ubWV0aG9kLmxlbmd0aHx8KG8ubWV0aG9kPVtdKSxvLm1ldGhvZC5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7Y2FzZSAzOm8ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5kZWNvZGUoZSxlLnVpbnQzMigpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFMuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUubmFtZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikmJiFpLmlzU3RyaW5nKGUubmFtZSkpcmV0dXJuXCJuYW1lOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm1ldGhvZCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1ldGhvZFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXRob2QpKXJldHVyblwibWV0aG9kOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS5tZXRob2QubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by52ZXJpZnkoZS5tZXRob2RbdF0pKXJldHVyblwibWV0aG9kLlwiK259dmFyIG47aWYobnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG49cC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucykpKXJldHVyblwib3B0aW9ucy5cIituO3JldHVybiBudWxsfSxTLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxlLm1ldGhvZCl7aWYoIUFycmF5LmlzQXJyYXkoZS5tZXRob2QpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5tZXRob2Q6IGFycmF5IGV4cGVjdGVkXCIpO3QubWV0aG9kPVtdO2Zvcih2YXIgbj0wO248ZS5tZXRob2QubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUubWV0aG9kW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU2VydmljZURlc2NyaXB0b3JQcm90by5tZXRob2Q6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm1ldGhvZFtuXT1wLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG8uZnJvbU9iamVjdChlLm1ldGhvZFtuXSl9fWlmKG51bGwhPWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucyl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8ub3B0aW9uczogb2JqZWN0IGV4cGVjdGVkXCIpO3Qub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIHR9LFMudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLm1ldGhvZD1bXSksdC5kZWZhdWx0cyYmKG4ubmFtZT1cIlwiLG4ub3B0aW9ucz1udWxsKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksZS5tZXRob2QmJmUubWV0aG9kLmxlbmd0aCl7bi5tZXRob2Q9W107Zm9yKHZhciBvPTA7bzxlLm1ldGhvZC5sZW5ndGg7KytvKW4ubWV0aG9kW29dPXAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90by50b09iamVjdChlLm1ldGhvZFtvXSx0KX1yZXR1cm4gbnVsbCE9ZS5vcHRpb25zJiZlLmhhc093blByb3BlcnR5KFwib3B0aW9uc1wiKSYmKG4ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG59LFMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxTKSx0Lk1ldGhvZERlc2NyaXB0b3JQcm90bz0oeC5wcm90b3R5cGUubmFtZT1cIlwiLHgucHJvdG90eXBlLmlucHV0VHlwZT1cIlwiLHgucHJvdG90eXBlLm91dHB1dFR5cGU9XCJcIix4LnByb3RvdHlwZS5vcHRpb25zPW51bGwseC5wcm90b3R5cGUuY2xpZW50U3RyZWFtaW5nPSExLHgucHJvdG90eXBlLnNlcnZlclN0cmVhbWluZz0hMSx4LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHgoZSl9LHguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLm5hbWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW1lXCIpJiZ0LnVpbnQzMigxMCkuc3RyaW5nKGUubmFtZSksbnVsbCE9ZS5pbnB1dFR5cGUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpbnB1dFR5cGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5pbnB1dFR5cGUpLG51bGwhPWUub3V0cHV0VHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm91dHB1dFR5cGVcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5vdXRwdXRUeXBlKSxudWxsIT1lLm9wdGlvbnMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvcHRpb25zXCIpJiZwLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLmVuY29kZShlLm9wdGlvbnMsdC51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCksbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJjbGllbnRTdHJlYW1pbmdcIikmJnQudWludDMyKDQwKS5ib29sKGUuY2xpZW50U3RyZWFtaW5nKSxudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNlcnZlclN0cmVhbWluZ1wiKSYmdC51aW50MzIoNDgpLmJvb2woZS5zZXJ2ZXJTdHJlYW1pbmcpLHR9LHguZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LHguZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZERlc2NyaXB0b3JQcm90bztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm5hbWU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5pbnB1dFR5cGU9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM6by5vdXRwdXRUeXBlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0Om8ub3B0aW9ucz1wLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNTpvLmNsaWVudFN0cmVhbWluZz1lLmJvb2woKTticmVhaztjYXNlIDY6by5zZXJ2ZXJTdHJlYW1pbmc9ZS5ib29sKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSx4LmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSx4LnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYhaS5pc1N0cmluZyhlLm5hbWUpKXJldHVyblwibmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5pbnB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJpbnB1dFR5cGVcIikmJiFpLmlzU3RyaW5nKGUuaW5wdXRUeXBlKSlyZXR1cm5cImlucHV0VHlwZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vdXRwdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwib3V0cHV0VHlwZVwiKSYmIWkuaXNTdHJpbmcoZS5vdXRwdXRUeXBlKSlyZXR1cm5cIm91dHB1dFR5cGU6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikpe3ZhciB0PXAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudmVyaWZ5KGUub3B0aW9ucyk7aWYodClyZXR1cm5cIm9wdGlvbnMuXCIrdH1yZXR1cm4gbnVsbCE9ZS5jbGllbnRTdHJlYW1pbmcmJmUuaGFzT3duUHJvcGVydHkoXCJjbGllbnRTdHJlYW1pbmdcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5jbGllbnRTdHJlYW1pbmc/XCJjbGllbnRTdHJlYW1pbmc6IGJvb2xlYW4gZXhwZWN0ZWRcIjpudWxsIT1lLnNlcnZlclN0cmVhbWluZyYmZS5oYXNPd25Qcm9wZXJ0eShcInNlcnZlclN0cmVhbWluZ1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnNlcnZlclN0cmVhbWluZz9cInNlcnZlclN0cmVhbWluZzogYm9vbGVhbiBleHBlY3RlZFwiOm51bGx9LHguZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5NZXRob2REZXNjcmlwdG9yUHJvdG87aWYobnVsbCE9ZS5uYW1lJiYodC5uYW1lPVN0cmluZyhlLm5hbWUpKSxudWxsIT1lLmlucHV0VHlwZSYmKHQuaW5wdXRUeXBlPVN0cmluZyhlLmlucHV0VHlwZSkpLG51bGwhPWUub3V0cHV0VHlwZSYmKHQub3V0cHV0VHlwZT1TdHJpbmcoZS5vdXRwdXRUeXBlKSksbnVsbCE9ZS5vcHRpb25zKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5vcHRpb25zKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kRGVzY3JpcHRvclByb3RvLm9wdGlvbnM6IG9iamVjdCBleHBlY3RlZFwiKTt0Lm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy5mcm9tT2JqZWN0KGUub3B0aW9ucyl9cmV0dXJuIG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiYodC5jbGllbnRTdHJlYW1pbmc9Qm9vbGVhbihlLmNsaWVudFN0cmVhbWluZykpLG51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiYodC5zZXJ2ZXJTdHJlYW1pbmc9Qm9vbGVhbihlLnNlcnZlclN0cmVhbWluZykpLHR9LHgudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWU9XCJcIixuLmlucHV0VHlwZT1cIlwiLG4ub3V0cHV0VHlwZT1cIlwiLG4ub3B0aW9ucz1udWxsLG4uY2xpZW50U3RyZWFtaW5nPSExLG4uc2VydmVyU3RyZWFtaW5nPSExKSxudWxsIT1lLm5hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpJiYobi5uYW1lPWUubmFtZSksbnVsbCE9ZS5pbnB1dFR5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJpbnB1dFR5cGVcIikmJihuLmlucHV0VHlwZT1lLmlucHV0VHlwZSksbnVsbCE9ZS5vdXRwdXRUeXBlJiZlLmhhc093blByb3BlcnR5KFwib3V0cHV0VHlwZVwiKSYmKG4ub3V0cHV0VHlwZT1lLm91dHB1dFR5cGUpLG51bGwhPWUub3B0aW9ucyYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGlvbnNcIikmJihuLm9wdGlvbnM9cC5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy50b09iamVjdChlLm9wdGlvbnMsdCkpLG51bGwhPWUuY2xpZW50U3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwiY2xpZW50U3RyZWFtaW5nXCIpJiYobi5jbGllbnRTdHJlYW1pbmc9ZS5jbGllbnRTdHJlYW1pbmcpLG51bGwhPWUuc2VydmVyU3RyZWFtaW5nJiZlLmhhc093blByb3BlcnR5KFwic2VydmVyU3RyZWFtaW5nXCIpJiYobi5zZXJ2ZXJTdHJlYW1pbmc9ZS5zZXJ2ZXJTdHJlYW1pbmcpLG59LHgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSx4KSx0LkZpbGVPcHRpb25zPShrLnByb3RvdHlwZS5qYXZhUGFja2FnZT1cIlwiLGsucHJvdG90eXBlLmphdmFPdXRlckNsYXNzbmFtZT1cIlwiLGsucHJvdG90eXBlLmphdmFNdWx0aXBsZUZpbGVzPSExLGsucHJvdG90eXBlLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2g9ITEsay5wcm90b3R5cGUuamF2YVN0cmluZ0NoZWNrVXRmOD0hMSxrLnByb3RvdHlwZS5vcHRpbWl6ZUZvcj0xLGsucHJvdG90eXBlLmdvUGFja2FnZT1cIlwiLGsucHJvdG90eXBlLmNjR2VuZXJpY1NlcnZpY2VzPSExLGsucHJvdG90eXBlLmphdmFHZW5lcmljU2VydmljZXM9ITEsay5wcm90b3R5cGUucHlHZW5lcmljU2VydmljZXM9ITEsay5wcm90b3R5cGUucGhwR2VuZXJpY1NlcnZpY2VzPSExLGsucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsay5wcm90b3R5cGUuY2NFbmFibGVBcmVuYXM9ITAsay5wcm90b3R5cGUub2JqY0NsYXNzUHJlZml4PVwiXCIsay5wcm90b3R5cGUuY3NoYXJwTmFtZXNwYWNlPVwiXCIsay5wcm90b3R5cGUuc3dpZnRQcmVmaXg9XCJcIixrLnByb3RvdHlwZS5waHBDbGFzc1ByZWZpeD1cIlwiLGsucHJvdG90eXBlLnBocE5hbWVzcGFjZT1cIlwiLGsucHJvdG90eXBlLnBocE1ldGFkYXRhTmFtZXNwYWNlPVwiXCIsay5wcm90b3R5cGUucnVieVBhY2thZ2U9XCJcIixrLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSxrLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGsoZSl9LGsuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuamF2YVBhY2thZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJqYXZhUGFja2FnZVwiKSYmdC51aW50MzIoMTApLnN0cmluZyhlLmphdmFQYWNrYWdlKSxudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFPdXRlckNsYXNzbmFtZVwiKSYmdC51aW50MzIoNjYpLnN0cmluZyhlLmphdmFPdXRlckNsYXNzbmFtZSksbnVsbCE9ZS5vcHRpbWl6ZUZvciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm9wdGltaXplRm9yXCIpJiZ0LnVpbnQzMig3MikuaW50MzIoZS5vcHRpbWl6ZUZvciksbnVsbCE9ZS5qYXZhTXVsdGlwbGVGaWxlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImphdmFNdWx0aXBsZUZpbGVzXCIpJiZ0LnVpbnQzMig4MCkuYm9vbChlLmphdmFNdWx0aXBsZUZpbGVzKSxudWxsIT1lLmdvUGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImdvUGFja2FnZVwiKSYmdC51aW50MzIoOTApLnN0cmluZyhlLmdvUGFja2FnZSksbnVsbCE9ZS5jY0dlbmVyaWNTZXJ2aWNlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNjR2VuZXJpY1NlcnZpY2VzXCIpJiZ0LnVpbnQzMigxMjgpLmJvb2woZS5jY0dlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YUdlbmVyaWNTZXJ2aWNlc1wiKSYmdC51aW50MzIoMTM2KS5ib29sKGUuamF2YUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5weUdlbmVyaWNTZXJ2aWNlcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInB5R2VuZXJpY1NlcnZpY2VzXCIpJiZ0LnVpbnQzMigxNDQpLmJvb2woZS5weUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaFwiKSYmdC51aW50MzIoMTYwKS5ib29sKGUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMTg0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS5qYXZhU3RyaW5nQ2hlY2tVdGY4JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiamF2YVN0cmluZ0NoZWNrVXRmOFwiKSYmdC51aW50MzIoMjE2KS5ib29sKGUuamF2YVN0cmluZ0NoZWNrVXRmOCksbnVsbCE9ZS5jY0VuYWJsZUFyZW5hcyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNjRW5hYmxlQXJlbmFzXCIpJiZ0LnVpbnQzMigyNDgpLmJvb2woZS5jY0VuYWJsZUFyZW5hcyksbnVsbCE9ZS5vYmpjQ2xhc3NQcmVmaXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJvYmpjQ2xhc3NQcmVmaXhcIikmJnQudWludDMyKDI5MCkuc3RyaW5nKGUub2JqY0NsYXNzUHJlZml4KSxudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImNzaGFycE5hbWVzcGFjZVwiKSYmdC51aW50MzIoMjk4KS5zdHJpbmcoZS5jc2hhcnBOYW1lc3BhY2UpLG51bGwhPWUuc3dpZnRQcmVmaXgmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzd2lmdFByZWZpeFwiKSYmdC51aW50MzIoMzE0KS5zdHJpbmcoZS5zd2lmdFByZWZpeCksbnVsbCE9ZS5waHBDbGFzc1ByZWZpeCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocENsYXNzUHJlZml4XCIpJiZ0LnVpbnQzMigzMjIpLnN0cmluZyhlLnBocENsYXNzUHJlZml4KSxudWxsIT1lLnBocE5hbWVzcGFjZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBocE5hbWVzcGFjZVwiKSYmdC51aW50MzIoMzMwKS5zdHJpbmcoZS5waHBOYW1lc3BhY2UpLG51bGwhPWUucGhwR2VuZXJpY1NlcnZpY2VzJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicGhwR2VuZXJpY1NlcnZpY2VzXCIpJiZ0LnVpbnQzMigzMzYpLmJvb2woZS5waHBHZW5lcmljU2VydmljZXMpLG51bGwhPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJwaHBNZXRhZGF0YU5hbWVzcGFjZVwiKSYmdC51aW50MzIoMzU0KS5zdHJpbmcoZS5waHBNZXRhZGF0YU5hbWVzcGFjZSksbnVsbCE9ZS5ydWJ5UGFja2FnZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInJ1YnlQYWNrYWdlXCIpJiZ0LnVpbnQzMigzNjIpLnN0cmluZyhlLnJ1YnlQYWNrYWdlKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0say5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0say5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5qYXZhUGFja2FnZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgODpvLmphdmFPdXRlckNsYXNzbmFtZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTA6by5qYXZhTXVsdGlwbGVGaWxlcz1lLmJvb2woKTticmVhaztjYXNlIDIwOm8uamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD1lLmJvb2woKTticmVhaztjYXNlIDI3Om8uamF2YVN0cmluZ0NoZWNrVXRmOD1lLmJvb2woKTticmVhaztjYXNlIDk6by5vcHRpbWl6ZUZvcj1lLmludDMyKCk7YnJlYWs7Y2FzZSAxMTpvLmdvUGFja2FnZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMTY6by5jY0dlbmVyaWNTZXJ2aWNlcz1lLmJvb2woKTticmVhaztjYXNlIDE3Om8uamF2YUdlbmVyaWNTZXJ2aWNlcz1lLmJvb2woKTticmVhaztjYXNlIDE4Om8ucHlHZW5lcmljU2VydmljZXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSA0MjpvLnBocEdlbmVyaWNTZXJ2aWNlcz1lLmJvb2woKTticmVhaztjYXNlIDIzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDMxOm8uY2NFbmFibGVBcmVuYXM9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzNjpvLm9iamNDbGFzc1ByZWZpeD1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzc6by5jc2hhcnBOYW1lc3BhY2U9ZS5zdHJpbmcoKTticmVhaztjYXNlIDM5Om8uc3dpZnRQcmVmaXg9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQwOm8ucGhwQ2xhc3NQcmVmaXg9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQxOm8ucGhwTmFtZXNwYWNlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0NDpvLnBocE1ldGFkYXRhTmFtZXNwYWNlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA0NTpvLnJ1YnlQYWNrYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LGsuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LGsudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhUGFja2FnZVwiKSYmIWkuaXNTdHJpbmcoZS5qYXZhUGFja2FnZSkpcmV0dXJuXCJqYXZhUGFja2FnZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhT3V0ZXJDbGFzc25hbWVcIikmJiFpLmlzU3RyaW5nKGUuamF2YU91dGVyQ2xhc3NuYW1lKSlyZXR1cm5cImphdmFPdXRlckNsYXNzbmFtZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5qYXZhTXVsdGlwbGVGaWxlcyYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFNdWx0aXBsZUZpbGVzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuamF2YU11bHRpcGxlRmlsZXMpcmV0dXJuXCJqYXZhTXVsdGlwbGVGaWxlczogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2hcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoKXJldHVyblwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmZS5oYXNPd25Qcm9wZXJ0eShcImphdmFTdHJpbmdDaGVja1V0ZjhcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5qYXZhU3RyaW5nQ2hlY2tVdGY4KXJldHVyblwiamF2YVN0cmluZ0NoZWNrVXRmODogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUub3B0aW1pemVGb3ImJmUuaGFzT3duUHJvcGVydHkoXCJvcHRpbWl6ZUZvclwiKSlzd2l0Y2goZS5vcHRpbWl6ZUZvcil7ZGVmYXVsdDpyZXR1cm5cIm9wdGltaXplRm9yOiBlbnVtIHZhbHVlIGV4cGVjdGVkXCI7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6fWlmKG51bGwhPWUuZ29QYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwiZ29QYWNrYWdlXCIpJiYhaS5pc1N0cmluZyhlLmdvUGFja2FnZSkpcmV0dXJuXCJnb1BhY2thZ2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0dlbmVyaWNTZXJ2aWNlc1wiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLmNjR2VuZXJpY1NlcnZpY2VzKXJldHVyblwiY2NHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhR2VuZXJpY1NlcnZpY2VzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuamF2YUdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cImphdmFHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwicHlHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5weUdlbmVyaWNTZXJ2aWNlcylyZXR1cm5cInB5R2VuZXJpY1NlcnZpY2VzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBHZW5lcmljU2VydmljZXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5waHBHZW5lcmljU2VydmljZXMpcmV0dXJuXCJwaHBHZW5lcmljU2VydmljZXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiZlLmhhc093blByb3BlcnR5KFwiY2NFbmFibGVBcmVuYXNcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5jY0VuYWJsZUFyZW5hcylyZXR1cm5cImNjRW5hYmxlQXJlbmFzOiBib29sZWFuIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5vYmpjQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJvYmpjQ2xhc3NQcmVmaXhcIikmJiFpLmlzU3RyaW5nKGUub2JqY0NsYXNzUHJlZml4KSlyZXR1cm5cIm9iamNDbGFzc1ByZWZpeDogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5jc2hhcnBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJjc2hhcnBOYW1lc3BhY2VcIikmJiFpLmlzU3RyaW5nKGUuY3NoYXJwTmFtZXNwYWNlKSlyZXR1cm5cImNzaGFycE5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5zd2lmdFByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcInN3aWZ0UHJlZml4XCIpJiYhaS5pc1N0cmluZyhlLnN3aWZ0UHJlZml4KSlyZXR1cm5cInN3aWZ0UHJlZml4OiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnBocENsYXNzUHJlZml4JiZlLmhhc093blByb3BlcnR5KFwicGhwQ2xhc3NQcmVmaXhcIikmJiFpLmlzU3RyaW5nKGUucGhwQ2xhc3NQcmVmaXgpKXJldHVyblwicGhwQ2xhc3NQcmVmaXg6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwTmFtZXNwYWNlJiZlLmhhc093blByb3BlcnR5KFwicGhwTmFtZXNwYWNlXCIpJiYhaS5pc1N0cmluZyhlLnBocE5hbWVzcGFjZSkpcmV0dXJuXCJwaHBOYW1lc3BhY2U6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUucGhwTWV0YWRhdGFOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBNZXRhZGF0YU5hbWVzcGFjZVwiKSYmIWkuaXNTdHJpbmcoZS5waHBNZXRhZGF0YU5hbWVzcGFjZSkpcmV0dXJuXCJwaHBNZXRhZGF0YU5hbWVzcGFjZTogc3RyaW5nIGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5ydWJ5UGFja2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcInJ1YnlQYWNrYWdlXCIpJiYhaS5pc1N0cmluZyhlLnJ1YnlQYWNrYWdlKSlyZXR1cm5cInJ1YnlQYWNrYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxrLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWxlT3B0aW9ucztzd2l0Y2gobnVsbCE9ZS5qYXZhUGFja2FnZSYmKHQuamF2YVBhY2thZ2U9U3RyaW5nKGUuamF2YVBhY2thZ2UpKSxudWxsIT1lLmphdmFPdXRlckNsYXNzbmFtZSYmKHQuamF2YU91dGVyQ2xhc3NuYW1lPVN0cmluZyhlLmphdmFPdXRlckNsYXNzbmFtZSkpLG51bGwhPWUuamF2YU11bHRpcGxlRmlsZXMmJih0LmphdmFNdWx0aXBsZUZpbGVzPUJvb2xlYW4oZS5qYXZhTXVsdGlwbGVGaWxlcykpLG51bGwhPWUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCYmKHQuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD1Cb29sZWFuKGUuamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaCkpLG51bGwhPWUuamF2YVN0cmluZ0NoZWNrVXRmOCYmKHQuamF2YVN0cmluZ0NoZWNrVXRmOD1Cb29sZWFuKGUuamF2YVN0cmluZ0NoZWNrVXRmOCkpLGUub3B0aW1pemVGb3Ipe2Nhc2VcIlNQRUVEXCI6Y2FzZSAxOnQub3B0aW1pemVGb3I9MTticmVhaztjYXNlXCJDT0RFX1NJWkVcIjpjYXNlIDI6dC5vcHRpbWl6ZUZvcj0yO2JyZWFrO2Nhc2VcIkxJVEVfUlVOVElNRVwiOmNhc2UgMzp0Lm9wdGltaXplRm9yPTN9aWYobnVsbCE9ZS5nb1BhY2thZ2UmJih0LmdvUGFja2FnZT1TdHJpbmcoZS5nb1BhY2thZ2UpKSxudWxsIT1lLmNjR2VuZXJpY1NlcnZpY2VzJiYodC5jY0dlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUuY2NHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLmphdmFHZW5lcmljU2VydmljZXMmJih0LmphdmFHZW5lcmljU2VydmljZXM9Qm9vbGVhbihlLmphdmFHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLnB5R2VuZXJpY1NlcnZpY2VzJiYodC5weUdlbmVyaWNTZXJ2aWNlcz1Cb29sZWFuKGUucHlHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLnBocEdlbmVyaWNTZXJ2aWNlcyYmKHQucGhwR2VuZXJpY1NlcnZpY2VzPUJvb2xlYW4oZS5waHBHZW5lcmljU2VydmljZXMpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxudWxsIT1lLmNjRW5hYmxlQXJlbmFzJiYodC5jY0VuYWJsZUFyZW5hcz1Cb29sZWFuKGUuY2NFbmFibGVBcmVuYXMpKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmKHQub2JqY0NsYXNzUHJlZml4PVN0cmluZyhlLm9iamNDbGFzc1ByZWZpeCkpLG51bGwhPWUuY3NoYXJwTmFtZXNwYWNlJiYodC5jc2hhcnBOYW1lc3BhY2U9U3RyaW5nKGUuY3NoYXJwTmFtZXNwYWNlKSksbnVsbCE9ZS5zd2lmdFByZWZpeCYmKHQuc3dpZnRQcmVmaXg9U3RyaW5nKGUuc3dpZnRQcmVmaXgpKSxudWxsIT1lLnBocENsYXNzUHJlZml4JiYodC5waHBDbGFzc1ByZWZpeD1TdHJpbmcoZS5waHBDbGFzc1ByZWZpeCkpLG51bGwhPWUucGhwTmFtZXNwYWNlJiYodC5waHBOYW1lc3BhY2U9U3RyaW5nKGUucGhwTmFtZXNwYWNlKSksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmKHQucGhwTWV0YWRhdGFOYW1lc3BhY2U9U3RyaW5nKGUucGhwTWV0YWRhdGFOYW1lc3BhY2UpKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiYodC5ydWJ5UGFja2FnZT1TdHJpbmcoZS5ydWJ5UGFja2FnZSkpLGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRmlsZU9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LGsudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmphdmFQYWNrYWdlPVwiXCIsbi5qYXZhT3V0ZXJDbGFzc25hbWU9XCJcIixuLm9wdGltaXplRm9yPXQuZW51bXM9PT1TdHJpbmc/XCJTUEVFRFwiOjEsbi5qYXZhTXVsdGlwbGVGaWxlcz0hMSxuLmdvUGFja2FnZT1cIlwiLG4uY2NHZW5lcmljU2VydmljZXM9ITEsbi5qYXZhR2VuZXJpY1NlcnZpY2VzPSExLG4ucHlHZW5lcmljU2VydmljZXM9ITEsbi5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoPSExLG4uZGVwcmVjYXRlZD0hMSxuLmphdmFTdHJpbmdDaGVja1V0Zjg9ITEsbi5jY0VuYWJsZUFyZW5hcz0hMCxuLm9iamNDbGFzc1ByZWZpeD1cIlwiLG4uY3NoYXJwTmFtZXNwYWNlPVwiXCIsbi5zd2lmdFByZWZpeD1cIlwiLG4ucGhwQ2xhc3NQcmVmaXg9XCJcIixuLnBocE5hbWVzcGFjZT1cIlwiLG4ucGhwR2VuZXJpY1NlcnZpY2VzPSExLG4ucGhwTWV0YWRhdGFOYW1lc3BhY2U9XCJcIixuLnJ1YnlQYWNrYWdlPVwiXCIpLG51bGwhPWUuamF2YVBhY2thZ2UmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhUGFja2FnZVwiKSYmKG4uamF2YVBhY2thZ2U9ZS5qYXZhUGFja2FnZSksbnVsbCE9ZS5qYXZhT3V0ZXJDbGFzc25hbWUmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhT3V0ZXJDbGFzc25hbWVcIikmJihuLmphdmFPdXRlckNsYXNzbmFtZT1lLmphdmFPdXRlckNsYXNzbmFtZSksbnVsbCE9ZS5vcHRpbWl6ZUZvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm9wdGltaXplRm9yXCIpJiYobi5vcHRpbWl6ZUZvcj10LmVudW1zPT09U3RyaW5nP3AuZ29vZ2xlLnByb3RvYnVmLkZpbGVPcHRpb25zLk9wdGltaXplTW9kZVtlLm9wdGltaXplRm9yXTplLm9wdGltaXplRm9yKSxudWxsIT1lLmphdmFNdWx0aXBsZUZpbGVzJiZlLmhhc093blByb3BlcnR5KFwiamF2YU11bHRpcGxlRmlsZXNcIikmJihuLmphdmFNdWx0aXBsZUZpbGVzPWUuamF2YU11bHRpcGxlRmlsZXMpLG51bGwhPWUuZ29QYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwiZ29QYWNrYWdlXCIpJiYobi5nb1BhY2thZ2U9ZS5nb1BhY2thZ2UpLG51bGwhPWUuY2NHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJjY0dlbmVyaWNTZXJ2aWNlc1wiKSYmKG4uY2NHZW5lcmljU2VydmljZXM9ZS5jY0dlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5qYXZhR2VuZXJpY1NlcnZpY2VzJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4uamF2YUdlbmVyaWNTZXJ2aWNlcz1lLmphdmFHZW5lcmljU2VydmljZXMpLG51bGwhPWUucHlHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJweUdlbmVyaWNTZXJ2aWNlc1wiKSYmKG4ucHlHZW5lcmljU2VydmljZXM9ZS5weUdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5qYXZhR2VuZXJhdGVFcXVhbHNBbmRIYXNoJiZlLmhhc093blByb3BlcnR5KFwiamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaFwiKSYmKG4uamF2YUdlbmVyYXRlRXF1YWxzQW5kSGFzaD1lLmphdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2gpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxudWxsIT1lLmphdmFTdHJpbmdDaGVja1V0ZjgmJmUuaGFzT3duUHJvcGVydHkoXCJqYXZhU3RyaW5nQ2hlY2tVdGY4XCIpJiYobi5qYXZhU3RyaW5nQ2hlY2tVdGY4PWUuamF2YVN0cmluZ0NoZWNrVXRmOCksbnVsbCE9ZS5jY0VuYWJsZUFyZW5hcyYmZS5oYXNPd25Qcm9wZXJ0eShcImNjRW5hYmxlQXJlbmFzXCIpJiYobi5jY0VuYWJsZUFyZW5hcz1lLmNjRW5hYmxlQXJlbmFzKSxudWxsIT1lLm9iamNDbGFzc1ByZWZpeCYmZS5oYXNPd25Qcm9wZXJ0eShcIm9iamNDbGFzc1ByZWZpeFwiKSYmKG4ub2JqY0NsYXNzUHJlZml4PWUub2JqY0NsYXNzUHJlZml4KSxudWxsIT1lLmNzaGFycE5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNzaGFycE5hbWVzcGFjZVwiKSYmKG4uY3NoYXJwTmFtZXNwYWNlPWUuY3NoYXJwTmFtZXNwYWNlKSxudWxsIT1lLnN3aWZ0UHJlZml4JiZlLmhhc093blByb3BlcnR5KFwic3dpZnRQcmVmaXhcIikmJihuLnN3aWZ0UHJlZml4PWUuc3dpZnRQcmVmaXgpLG51bGwhPWUucGhwQ2xhc3NQcmVmaXgmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBDbGFzc1ByZWZpeFwiKSYmKG4ucGhwQ2xhc3NQcmVmaXg9ZS5waHBDbGFzc1ByZWZpeCksbnVsbCE9ZS5waHBOYW1lc3BhY2UmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBOYW1lc3BhY2VcIikmJihuLnBocE5hbWVzcGFjZT1lLnBocE5hbWVzcGFjZSksbnVsbCE9ZS5waHBHZW5lcmljU2VydmljZXMmJmUuaGFzT3duUHJvcGVydHkoXCJwaHBHZW5lcmljU2VydmljZXNcIikmJihuLnBocEdlbmVyaWNTZXJ2aWNlcz1lLnBocEdlbmVyaWNTZXJ2aWNlcyksbnVsbCE9ZS5waHBNZXRhZGF0YU5hbWVzcGFjZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBocE1ldGFkYXRhTmFtZXNwYWNlXCIpJiYobi5waHBNZXRhZGF0YU5hbWVzcGFjZT1lLnBocE1ldGFkYXRhTmFtZXNwYWNlKSxudWxsIT1lLnJ1YnlQYWNrYWdlJiZlLmhhc093blByb3BlcnR5KFwicnVieVBhY2thZ2VcIikmJihuLnJ1YnlQYWNrYWdlPWUucnVieVBhY2thZ2UpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxrLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0say5PcHRpbWl6ZU1vZGU9KG49e30sKGU9T2JqZWN0LmNyZWF0ZShuKSlbblsxXT1cIlNQRUVEXCJdPTEsZVtuWzJdPVwiQ09ERV9TSVpFXCJdPTIsZVtuWzNdPVwiTElURV9SVU5USU1FXCJdPTMsZSksayksdC5NZXNzYWdlT3B0aW9ucz0oRC5wcm90b3R5cGUubWVzc2FnZVNldFdpcmVGb3JtYXQ9ITEsRC5wcm90b3R5cGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj0hMSxELnByb3RvdHlwZS5kZXByZWNhdGVkPSExLEQucHJvdG90eXBlLm1hcEVudHJ5PSExLEQucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249aS5lbXB0eUFycmF5LEQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRChlKX0sRC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm1lc3NhZ2VTZXRXaXJlRm9ybWF0XCIpJiZ0LnVpbnQzMig4KS5ib29sKGUubWVzc2FnZVNldFdpcmVGb3JtYXQpLG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3JcIikmJnQudWludDMyKDE2KS5ib29sKGUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLm1hcEVudHJ5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibWFwRW50cnlcIikmJnQudWludDMyKDU2KS5ib29sKGUubWFwRW50cnkpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxELmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxELmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLm1lc3NhZ2VTZXRXaXJlRm9ybWF0PWUuYm9vbCgpO2JyZWFrO2Nhc2UgMjpvLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ZS5ib29sKCk7YnJlYWs7Y2FzZSAzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDc6by5tYXBFbnRyeT1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sRC5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sRC52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VTZXRXaXJlRm9ybWF0XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubWVzc2FnZVNldFdpcmVGb3JtYXQpcmV0dXJuXCJtZXNzYWdlU2V0V2lyZUZvcm1hdDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvciYmZS5oYXNPd25Qcm9wZXJ0eShcIm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3JcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yKXJldHVyblwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvcjogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUubWFwRW50cnkmJmUuaGFzT3duUHJvcGVydHkoXCJtYXBFbnRyeVwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm1hcEVudHJ5KXJldHVyblwibWFwRW50cnk6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxELmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucztpZihudWxsIT1lLm1lc3NhZ2VTZXRXaXJlRm9ybWF0JiYodC5tZXNzYWdlU2V0V2lyZUZvcm1hdD1Cb29sZWFuKGUubWVzc2FnZVNldFdpcmVGb3JtYXQpKSxudWxsIT1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3ImJih0Lm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9Qm9vbGVhbihlLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3IpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxudWxsIT1lLm1hcEVudHJ5JiYodC5tYXBFbnRyeT1Cb29sZWFuKGUubWFwRW50cnkpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXNzYWdlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1lc3NhZ2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxELnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5tZXNzYWdlU2V0V2lyZUZvcm1hdD0hMSxuLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3I9ITEsbi5kZXByZWNhdGVkPSExLG4ubWFwRW50cnk9ITEpLG51bGwhPWUubWVzc2FnZVNldFdpcmVGb3JtYXQmJmUuaGFzT3duUHJvcGVydHkoXCJtZXNzYWdlU2V0V2lyZUZvcm1hdFwiKSYmKG4ubWVzc2FnZVNldFdpcmVGb3JtYXQ9ZS5tZXNzYWdlU2V0V2lyZUZvcm1hdCksbnVsbCE9ZS5ub1N0YW5kYXJkRGVzY3JpcHRvckFjY2Vzc29yJiZlLmhhc093blByb3BlcnR5KFwibm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3NvclwiKSYmKG4ubm9TdGFuZGFyZERlc2NyaXB0b3JBY2Nlc3Nvcj1lLm5vU3RhbmRhcmREZXNjcmlwdG9yQWNjZXNzb3IpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxudWxsIT1lLm1hcEVudHJ5JiZlLmhhc093blByb3BlcnR5KFwibWFwRW50cnlcIikmJihuLm1hcEVudHJ5PWUubWFwRW50cnkpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSxELnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sRCksdC5GaWVsZE9wdGlvbnM9KFQucHJvdG90eXBlLmN0eXBlPTAsVC5wcm90b3R5cGUucGFja2VkPSExLFQucHJvdG90eXBlLmpzdHlwZT0wLFQucHJvdG90eXBlLmxhenk9ITEsVC5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxULnByb3RvdHlwZS53ZWFrPSExLFQucHJvdG90eXBlLnVuaW50ZXJwcmV0ZWRPcHRpb249aS5lbXB0eUFycmF5LFQuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVChlKX0sVC5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5jdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImN0eXBlXCIpJiZ0LnVpbnQzMig4KS5pbnQzMihlLmN0eXBlKSxudWxsIT1lLnBhY2tlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInBhY2tlZFwiKSYmdC51aW50MzIoMTYpLmJvb2woZS5wYWNrZWQpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS5sYXp5JiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwibGF6eVwiKSYmdC51aW50MzIoNDApLmJvb2woZS5sYXp5KSxudWxsIT1lLmpzdHlwZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImpzdHlwZVwiKSYmdC51aW50MzIoNDgpLmludDMyKGUuanN0eXBlKSxudWxsIT1lLndlYWsmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJ3ZWFrXCIpJiZ0LnVpbnQzMig4MCkuYm9vbChlLndlYWspLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxULmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxULmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5jdHlwZT1lLmludDMyKCk7YnJlYWs7Y2FzZSAyOm8ucGFja2VkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgNjpvLmpzdHlwZT1lLmludDMyKCk7YnJlYWs7Y2FzZSA1Om8ubGF6eT1lLmJvb2woKTticmVhaztjYXNlIDM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgMTA6by53ZWFrPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxULmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxULnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmN0eXBlJiZlLmhhc093blByb3BlcnR5KFwiY3R5cGVcIikpc3dpdGNoKGUuY3R5cGUpe2RlZmF1bHQ6cmV0dXJuXCJjdHlwZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLnBhY2tlZCYmZS5oYXNPd25Qcm9wZXJ0eShcInBhY2tlZFwiKSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLnBhY2tlZClyZXR1cm5cInBhY2tlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuanN0eXBlJiZlLmhhc093blByb3BlcnR5KFwianN0eXBlXCIpKXN3aXRjaChlLmpzdHlwZSl7ZGVmYXVsdDpyZXR1cm5cImpzdHlwZTogZW51bSB2YWx1ZSBleHBlY3RlZFwiO2Nhc2UgMDpjYXNlIDE6Y2FzZSAyOn1pZihudWxsIT1lLmxhenkmJmUuaGFzT3duUHJvcGVydHkoXCJsYXp5XCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUubGF6eSlyZXR1cm5cImxhenk6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLndlYWsmJmUuaGFzT3duUHJvcGVydHkoXCJ3ZWFrXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUud2VhaylyZXR1cm5cIndlYWs6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxULmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zO3N3aXRjaChlLmN0eXBlKXtjYXNlXCJTVFJJTkdcIjpjYXNlIDA6dC5jdHlwZT0wO2JyZWFrO2Nhc2VcIkNPUkRcIjpjYXNlIDE6dC5jdHlwZT0xO2JyZWFrO2Nhc2VcIlNUUklOR19QSUVDRVwiOmNhc2UgMjp0LmN0eXBlPTJ9c3dpdGNoKG51bGwhPWUucGFja2VkJiYodC5wYWNrZWQ9Qm9vbGVhbihlLnBhY2tlZCkpLGUuanN0eXBlKXtjYXNlXCJKU19OT1JNQUxcIjpjYXNlIDA6dC5qc3R5cGU9MDticmVhaztjYXNlXCJKU19TVFJJTkdcIjpjYXNlIDE6dC5qc3R5cGU9MTticmVhaztjYXNlXCJKU19OVU1CRVJcIjpjYXNlIDI6dC5qc3R5cGU9Mn1pZihudWxsIT1lLmxhenkmJih0Lmxhenk9Qm9vbGVhbihlLmxhenkpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxudWxsIT1lLndlYWsmJih0LndlYWs9Qm9vbGVhbihlLndlYWspKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5GaWVsZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19cmV0dXJuIHR9LFQudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihuLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLHQuZGVmYXVsdHMmJihuLmN0eXBlPXQuZW51bXM9PT1TdHJpbmc/XCJTVFJJTkdcIjowLG4ucGFja2VkPSExLG4uZGVwcmVjYXRlZD0hMSxuLmxhenk9ITEsbi5qc3R5cGU9dC5lbnVtcz09PVN0cmluZz9cIkpTX05PUk1BTFwiOjAsbi53ZWFrPSExKSxudWxsIT1lLmN0eXBlJiZlLmhhc093blByb3BlcnR5KFwiY3R5cGVcIikmJihuLmN0eXBlPXQuZW51bXM9PT1TdHJpbmc/cC5nb29nbGUucHJvdG9idWYuRmllbGRPcHRpb25zLkNUeXBlW2UuY3R5cGVdOmUuY3R5cGUpLG51bGwhPWUucGFja2VkJiZlLmhhc093blByb3BlcnR5KFwicGFja2VkXCIpJiYobi5wYWNrZWQ9ZS5wYWNrZWQpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxudWxsIT1lLmxhenkmJmUuaGFzT3duUHJvcGVydHkoXCJsYXp5XCIpJiYobi5sYXp5PWUubGF6eSksbnVsbCE9ZS5qc3R5cGUmJmUuaGFzT3duUHJvcGVydHkoXCJqc3R5cGVcIikmJihuLmpzdHlwZT10LmVudW1zPT09U3RyaW5nP3AuZ29vZ2xlLnByb3RvYnVmLkZpZWxkT3B0aW9ucy5KU1R5cGVbZS5qc3R5cGVdOmUuanN0eXBlKSxudWxsIT1lLndlYWsmJmUuaGFzT3duUHJvcGVydHkoXCJ3ZWFrXCIpJiYobi53ZWFrPWUud2VhayksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LFQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxULkNUeXBlPShuPXt9LChlPU9iamVjdC5jcmVhdGUobikpW25bMF09XCJTVFJJTkdcIl09MCxlW25bMV09XCJDT1JEXCJdPTEsZVtuWzJdPVwiU1RSSU5HX1BJRUNFXCJdPTIsZSksVC5KU1R5cGU9KG49e30sKGU9T2JqZWN0LmNyZWF0ZShuKSlbblswXT1cIkpTX05PUk1BTFwiXT0wLGVbblsxXT1cIkpTX1NUUklOR1wiXT0xLGVbblsyXT1cIkpTX05VTUJFUlwiXT0yLGUpLFQpLHQuT25lb2ZPcHRpb25zPShILnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSxILmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEgoZSl9LEguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZW5jb2RlKGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSx0LnVpbnQzMig3OTk0KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiB0fSxILmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxILmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5PbmVvZk9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTk5OT8oby51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxILmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxILnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxILmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuT25lb2ZPcHRpb25zO2lmKGUudW5pbnRlcnByZXRlZE9wdGlvbil7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk9uZW9mT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sSC50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKXtuLnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBvPTA7bzxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbyluLnVuaW50ZXJwcmV0ZWRPcHRpb25bb109cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi50b09iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bb10sdCl9cmV0dXJuIG59LEgucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxIKSx0LkVudW1PcHRpb25zPShFLnByb3RvdHlwZS5hbGxvd0FsaWFzPSExLEUucHJvdG90eXBlLmRlcHJlY2F0ZWQ9ITEsRS5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1pLmVtcHR5QXJyYXksRS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBFKGUpfSxFLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmFsbG93QWxpYXMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJhbGxvd0FsaWFzXCIpJiZ0LnVpbnQzMigxNikuYm9vbChlLmFsbG93QWxpYXMpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDI0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LEUuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAyOm8uYWxsb3dBbGlhcz1lLmJvb2woKTticmVhaztjYXNlIDM6by5kZXByZWNhdGVkPWUuYm9vbCgpO2JyZWFrO2Nhc2UgOTk5Om8udW5pbnRlcnByZXRlZE9wdGlvbiYmby51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aHx8KG8udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksby51bmludGVycHJldGVkT3B0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxFLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxFLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmFsbG93QWxpYXMmJmUuaGFzT3duUHJvcGVydHkoXCJhbGxvd0FsaWFzXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuYWxsb3dBbGlhcylyZXR1cm5cImFsbG93QWxpYXM6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsfSxFLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucztpZihudWxsIT1lLmFsbG93QWxpYXMmJih0LmFsbG93QWxpYXM9Qm9vbGVhbihlLmFsbG93QWxpYXMpKSxudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkVudW1PcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiB0fSxFLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdKSx0LmRlZmF1bHRzJiYobi5hbGxvd0FsaWFzPSExLG4uZGVwcmVjYXRlZD0hMSksbnVsbCE9ZS5hbGxvd0FsaWFzJiZlLmhhc093blByb3BlcnR5KFwiYWxsb3dBbGlhc1wiKSYmKG4uYWxsb3dBbGlhcz1lLmFsbG93QWxpYXMpLG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJihuLmRlcHJlY2F0ZWQ9ZS5kZXByZWNhdGVkKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpe24udW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG89MDtvPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytvKW4udW5pbnRlcnByZXRlZE9wdGlvbltvXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnRvT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltvXSx0KX1yZXR1cm4gbn0sRS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEUpLHQuRW51bVZhbHVlT3B0aW9ucz0oei5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSx6LnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSx6LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHooZSl9LHouZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuZGVwcmVjYXRlZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImRlcHJlY2F0ZWRcIikmJnQudWludDMyKDgpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGgpZm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmVuY29kZShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0sdC51aW50MzIoNzk5NCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sei5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sei5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucztlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMTpvLmRlcHJlY2F0ZWQ9ZS5ib29sKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LHouZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LHoudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS5oYXNPd25Qcm9wZXJ0eShcInVuaW50ZXJwcmV0ZWRPcHRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiO2Zvcih2YXIgdD0wO3Q8ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSk7aWYobilyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb24uXCIrbn19cmV0dXJuIG51bGx9LHouZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucztpZihudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5FbnVtVmFsdWVPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbj1bXTtmb3IodmFyIG49MDtuPGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS51bmludGVycHJldGVkT3B0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuRW51bVZhbHVlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC51bmludGVycHJldGVkT3B0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZnJvbU9iamVjdChlLnVuaW50ZXJwcmV0ZWRPcHRpb25bbl0pfX1yZXR1cm4gdH0sei50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uZGVwcmVjYXRlZD0hMSksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBufSx6LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0seiksdC5TZXJ2aWNlT3B0aW9ucz0oQS5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxBLnByb3RvdHlwZS51bmludGVycHJldGVkT3B0aW9uPWkuZW1wdHlBcnJheSxBLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdPVwiXCIsQS5wcm90b3R5cGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1cIlwiLEEuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQShlKX0sQS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5kZXByZWNhdGVkJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVwcmVjYXRlZFwiKSYmdC51aW50MzIoMjY0KS5ib29sKGUuZGVwcmVjYXRlZCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCIpJiZ0LnVpbnQzMig4Mzk0KS5zdHJpbmcoZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKSxudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiKSYmdC51aW50MzIoODQwMikuc3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSksdH0sQS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sQS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuU2VydmljZU9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDMzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDk5OTpvLnVuaW50ZXJwcmV0ZWRPcHRpb24mJm8udW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGh8fChvLnVuaW50ZXJwcmV0ZWRPcHRpb249W10pLG8udW5pbnRlcnByZXRlZE9wdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMTA0OTpvW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09ZS5zdHJpbmcoKTticmVhaztjYXNlIDEwNTA6b1tcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPWUuc3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxBLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxBLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRlcHJlY2F0ZWQmJmUuaGFzT3duUHJvcGVydHkoXCJkZXByZWNhdGVkXCIpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUuZGVwcmVjYXRlZClyZXR1cm5cImRlcHJlY2F0ZWQ6IGJvb2xlYW4gZXhwZWN0ZWRcIjtpZihudWxsIT1lLnVuaW50ZXJwcmV0ZWRPcHRpb24mJmUuaGFzT3duUHJvcGVydHkoXCJ1bmludGVycHJldGVkT3B0aW9uXCIpKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXJldHVyblwidW5pbnRlcnByZXRlZE9wdGlvbjogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUudW5pbnRlcnByZXRlZE9wdGlvbi5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLnZlcmlmeShlLnVuaW50ZXJwcmV0ZWRPcHRpb25bdF0pO2lmKG4pcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259fXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiKSYmIWkuaXNTdHJpbmcoZVtcIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0XCJdKT9cIi5nb29nbGUuYXBpLmRlZmF1bHRIb3N0OiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsIT1lW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiKSYmIWkuaXNTdHJpbmcoZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKT9cIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzOiBzdHJpbmcgZXhwZWN0ZWRcIjpudWxsfSxBLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucztpZihudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLnVuaW50ZXJwcmV0ZWRPcHRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUudW5pbnRlcnByZXRlZE9wdGlvbikpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5TZXJ2aWNlT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zLnVuaW50ZXJwcmV0ZWRPcHRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb25bbl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5mcm9tT2JqZWN0KGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl9fXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJih0W1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09U3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXSkpLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmKHRbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXT1TdHJpbmcoZVtcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdKSksdH0sQS50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4udW5pbnRlcnByZXRlZE9wdGlvbj1bXSksdC5kZWZhdWx0cyYmKG4uZGVwcmVjYXRlZD0hMSxuW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl09XCJcIixuW1wiLmdvb2dsZS5hcGkub2F1dGhTY29wZXNcIl09XCJcIiksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfXJldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiKSYmKG5bXCIuZ29vZ2xlLmFwaS5kZWZhdWx0SG9zdFwiXT1lW1wiLmdvb2dsZS5hcGkuZGVmYXVsdEhvc3RcIl0pLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCIpJiYobltcIi5nb29nbGUuYXBpLm9hdXRoU2NvcGVzXCJdPWVbXCIuZ29vZ2xlLmFwaS5vYXV0aFNjb3Blc1wiXSksbn0sQS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEEpLHQuTWV0aG9kT3B0aW9ucz0oTi5wcm90b3R5cGUuZGVwcmVjYXRlZD0hMSxOLnByb3RvdHlwZS5pZGVtcG90ZW5jeUxldmVsPTAsTi5wcm90b3R5cGUudW5pbnRlcnByZXRlZE9wdGlvbj1pLmVtcHR5QXJyYXksTi5wcm90b3R5cGVbXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl09bnVsbCxOLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLmh0dHBcIl09bnVsbCxOLnByb3RvdHlwZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1pLmVtcHR5QXJyYXksTi5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBOKGUpfSxOLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmRlcHJlY2F0ZWQmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZXByZWNhdGVkXCIpJiZ0LnVpbnQzMigyNjQpLmJvb2woZS5kZXByZWNhdGVkKSxudWxsIT1lLmlkZW1wb3RlbmN5TGV2ZWwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJpZGVtcG90ZW5jeUxldmVsXCIpJiZ0LnVpbnQzMigyNzIpLmludDMyKGUuaWRlbXBvdGVuY3lMZXZlbCksbnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoKWZvcih2YXIgbj0wO248ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5lbmNvZGUoZS51bmludGVycHJldGVkT3B0aW9uW25dLHQudWludDMyKDc5OTQpLmZvcmsoKSkubGRlbGltKCk7aWYobnVsbCE9ZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiKSYmcC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uSW5mby5lbmNvZGUoZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSx0LnVpbnQzMig4Mzk0KS5mb3JrKCkpLmxkZWxpbSgpLG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0mJmVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoKWZvcihuPTA7bjxlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aDsrK24pdC51aW50MzIoODQxMCkuc3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bbl0pO3JldHVybiBudWxsIT1lW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIi5nb29nbGUuYXBpLmh0dHBcIikmJnAuZ29vZ2xlLmFwaS5IdHRwUnVsZS5lbmNvZGUoZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0sdC51aW50MzIoNTc4MzY1ODI2KS5mb3JrKCkpLmxkZWxpbSgpLHR9LE4uZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LE4uZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDMzOm8uZGVwcmVjYXRlZD1lLmJvb2woKTticmVhaztjYXNlIDM0Om8uaWRlbXBvdGVuY3lMZXZlbD1lLmludDMyKCk7YnJlYWs7Y2FzZSA5OTk6by51bmludGVycHJldGVkT3B0aW9uJiZvLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RofHwoby51bmludGVycHJldGVkT3B0aW9uPVtdKSxvLnVuaW50ZXJwcmV0ZWRPcHRpb24ucHVzaChwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztjYXNlIDEwNDk6b1tcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXT1wLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25JbmZvLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgNzIyOTU3Mjg6b1tcIi5nb29nbGUuYXBpLmh0dHBcIl09cC5nb29nbGUuYXBpLkh0dHBSdWxlLmRlY29kZShlLGUudWludDMyKCkpO2JyZWFrO2Nhc2UgMTA1MTpvW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdJiZvW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdLmxlbmd0aHx8KG9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W10pLG9bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ucHVzaChlLnN0cmluZygpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LE4uZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LE4udmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuZGVwcmVjYXRlZCYmZS5oYXNPd25Qcm9wZXJ0eShcImRlcHJlY2F0ZWRcIikmJlwiYm9vbGVhblwiIT10eXBlb2YgZS5kZXByZWNhdGVkKXJldHVyblwiZGVwcmVjYXRlZDogYm9vbGVhbiBleHBlY3RlZFwiO2lmKG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW1wb3RlbmN5TGV2ZWxcIikpc3dpdGNoKGUuaWRlbXBvdGVuY3lMZXZlbCl7ZGVmYXVsdDpyZXR1cm5cImlkZW1wb3RlbmN5TGV2ZWw6IGVudW0gdmFsdWUgZXhwZWN0ZWRcIjtjYXNlIDA6Y2FzZSAxOmNhc2UgMjp9aWYobnVsbCE9ZS51bmludGVycHJldGVkT3B0aW9uJiZlLmhhc093blByb3BlcnR5KFwidW5pbnRlcnByZXRlZE9wdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS51bmludGVycHJldGVkT3B0aW9uKSlyZXR1cm5cInVuaW50ZXJwcmV0ZWRPcHRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrdClpZihuPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udmVyaWZ5KGUudW5pbnRlcnByZXRlZE9wdGlvblt0XSkpcmV0dXJuXCJ1bmludGVycHJldGVkT3B0aW9uLlwiK259dmFyIG47aWYobnVsbCE9ZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiKSYmKG49cC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uSW5mby52ZXJpZnkoZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSkpKXJldHVyblwiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvLlwiK247aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmFwaS5odHRwXCIpJiYobj1wLmdvb2dsZS5hcGkuSHR0cFJ1bGUudmVyaWZ5KGVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5odHRwLlwiK247aWYobnVsbCE9ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmZS5oYXNPd25Qcm9wZXJ0eShcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSkpcmV0dXJuXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrdClpZighaS5pc1N0cmluZyhlW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW3RdKSlyZXR1cm5cIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogc3RyaW5nW10gZXhwZWN0ZWRcIn1yZXR1cm4gbnVsbH0sTi5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zO3N3aXRjaChudWxsIT1lLmRlcHJlY2F0ZWQmJih0LmRlcHJlY2F0ZWQ9Qm9vbGVhbihlLmRlcHJlY2F0ZWQpKSxlLmlkZW1wb3RlbmN5TGV2ZWwpe2Nhc2VcIklERU1QT1RFTkNZX1VOS05PV05cIjpjYXNlIDA6dC5pZGVtcG90ZW5jeUxldmVsPTA7YnJlYWs7Y2FzZVwiTk9fU0lERV9FRkZFQ1RTXCI6Y2FzZSAxOnQuaWRlbXBvdGVuY3lMZXZlbD0xO2JyZWFrO2Nhc2VcIklERU1QT1RFTlRcIjpjYXNlIDI6dC5pZGVtcG90ZW5jeUxldmVsPTJ9aWYoZS51bmludGVycHJldGVkT3B0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLnVuaW50ZXJwcmV0ZWRPcHRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucy51bmludGVycHJldGVkT3B0aW9uOiBhcnJheSBleHBlY3RlZFwiKTt0LnVuaW50ZXJwcmV0ZWRPcHRpb249W107Zm9yKHZhciBuPTA7bjxlLnVuaW50ZXJwcmV0ZWRPcHRpb24ubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUudW5pbnRlcnByZXRlZE9wdGlvbltuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMudW5pbnRlcnByZXRlZE9wdGlvbjogb2JqZWN0IGV4cGVjdGVkXCIpO3QudW5pbnRlcnByZXRlZE9wdGlvbltuXT1wLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLmZyb21PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW25dKX19aWYobnVsbCE9ZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGVbXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mbzogb2JqZWN0IGV4cGVjdGVkXCIpO3RbXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl09cC5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uSW5mby5mcm9tT2JqZWN0KGVbXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl0pfWlmKG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZVtcIi5nb29nbGUuYXBpLmh0dHBcIl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLi5nb29nbGUuYXBpLmh0dHA6IG9iamVjdCBleHBlY3RlZFwiKTt0W1wiLmdvb2dsZS5hcGkuaHR0cFwiXT1wLmdvb2dsZS5hcGkuSHR0cFJ1bGUuZnJvbU9iamVjdChlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSl9aWYoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSl7aWYoIUFycmF5LmlzQXJyYXkoZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZTogYXJyYXkgZXhwZWN0ZWRcIik7dFtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXT1bXTtmb3Iobj0wO248ZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGg7KytuKXRbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bbl09U3RyaW5nKGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bbl0pfXJldHVybiB0fSxOLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi51bmludGVycHJldGVkT3B0aW9uPVtdLG5bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W10pLHQuZGVmYXVsdHMmJihuLmRlcHJlY2F0ZWQ9ITEsbi5pZGVtcG90ZW5jeUxldmVsPXQuZW51bXM9PT1TdHJpbmc/XCJJREVNUE9URU5DWV9VTktOT1dOXCI6MCxuW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdPW51bGwsbltcIi5nb29nbGUuYXBpLmh0dHBcIl09bnVsbCksbnVsbCE9ZS5kZXByZWNhdGVkJiZlLmhhc093blByb3BlcnR5KFwiZGVwcmVjYXRlZFwiKSYmKG4uZGVwcmVjYXRlZD1lLmRlcHJlY2F0ZWQpLG51bGwhPWUuaWRlbXBvdGVuY3lMZXZlbCYmZS5oYXNPd25Qcm9wZXJ0eShcImlkZW1wb3RlbmN5TGV2ZWxcIikmJihuLmlkZW1wb3RlbmN5TGV2ZWw9dC5lbnVtcz09PVN0cmluZz9wLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zLklkZW1wb3RlbmN5TGV2ZWxbZS5pZGVtcG90ZW5jeUxldmVsXTplLmlkZW1wb3RlbmN5TGV2ZWwpLGUudW5pbnRlcnByZXRlZE9wdGlvbiYmZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aCl7bi51bmludGVycHJldGVkT3B0aW9uPVtdO2Zvcih2YXIgbz0wO288ZS51bmludGVycHJldGVkT3B0aW9uLmxlbmd0aDsrK28pbi51bmludGVycHJldGVkT3B0aW9uW29dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24udG9PYmplY3QoZS51bmludGVycHJldGVkT3B0aW9uW29dLHQpfWlmKG51bGwhPWVbXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIl0mJmUuaGFzT3duUHJvcGVydHkoXCIuZ29vZ2xlLmxvbmdydW5uaW5nLm9wZXJhdGlvbkluZm9cIikmJihuW1wiLmdvb2dsZS5sb25ncnVubmluZy5vcGVyYXRpb25JbmZvXCJdPXAuZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbkluZm8udG9PYmplY3QoZVtcIi5nb29nbGUubG9uZ3J1bm5pbmcub3BlcmF0aW9uSW5mb1wiXSx0KSksZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXSYmZVtcIi5nb29nbGUuYXBpLm1ldGhvZFNpZ25hdHVyZVwiXS5sZW5ndGgpe25bXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl09W107Zm9yKG89MDtvPGVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl0ubGVuZ3RoOysrbyluW1wiLmdvb2dsZS5hcGkubWV0aG9kU2lnbmF0dXJlXCJdW29dPWVbXCIuZ29vZ2xlLmFwaS5tZXRob2RTaWduYXR1cmVcIl1bb119cmV0dXJuIG51bGwhPWVbXCIuZ29vZ2xlLmFwaS5odHRwXCJdJiZlLmhhc093blByb3BlcnR5KFwiLmdvb2dsZS5hcGkuaHR0cFwiKSYmKG5bXCIuZ29vZ2xlLmFwaS5odHRwXCJdPXAuZ29vZ2xlLmFwaS5IdHRwUnVsZS50b09iamVjdChlW1wiLmdvb2dsZS5hcGkuaHR0cFwiXSx0KSksbn0sTi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LE4uSWRlbXBvdGVuY3lMZXZlbD0obj17fSwoZT1PYmplY3QuY3JlYXRlKG4pKVtuWzBdPVwiSURFTVBPVEVOQ1lfVU5LTk9XTlwiXT0wLGVbblsxXT1cIk5PX1NJREVfRUZGRUNUU1wiXT0xLGVbblsyXT1cIklERU1QT1RFTlRcIl09MixlKSxOKSx0LlVuaW50ZXJwcmV0ZWRPcHRpb249KEkucHJvdG90eXBlLm5hbWU9aS5lbXB0eUFycmF5LEkucHJvdG90eXBlLmlkZW50aWZpZXJWYWx1ZT1cIlwiLEkucHJvdG90eXBlLnBvc2l0aXZlSW50VmFsdWU9aS5Mb25nP2kuTG9uZy5mcm9tQml0cygwLDAsITApOjAsSS5wcm90b3R5cGUubmVnYXRpdmVJbnRWYWx1ZT1pLkxvbmc/aS5Mb25nLmZyb21CaXRzKDAsMCwhMSk6MCxJLnByb3RvdHlwZS5kb3VibGVWYWx1ZT0wLEkucHJvdG90eXBlLnN0cmluZ1ZhbHVlPWkubmV3QnVmZmVyKFtdKSxJLnByb3RvdHlwZS5hZ2dyZWdhdGVWYWx1ZT1cIlwiLEkuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgSShlKX0sSS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5uYW1lJiZlLm5hbWUubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5uYW1lLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC5lbmNvZGUoZS5uYW1lW25dLHQudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO3JldHVybiBudWxsIT1lLmlkZW50aWZpZXJWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImlkZW50aWZpZXJWYWx1ZVwiKSYmdC51aW50MzIoMjYpLnN0cmluZyhlLmlkZW50aWZpZXJWYWx1ZSksbnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwicG9zaXRpdmVJbnRWYWx1ZVwiKSYmdC51aW50MzIoMzIpLnVpbnQ2NChlLnBvc2l0aXZlSW50VmFsdWUpLG51bGwhPWUubmVnYXRpdmVJbnRWYWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcIm5lZ2F0aXZlSW50VmFsdWVcIikmJnQudWludDMyKDQwKS5pbnQ2NChlLm5lZ2F0aXZlSW50VmFsdWUpLG51bGwhPWUuZG91YmxlVmFsdWUmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkb3VibGVWYWx1ZVwiKSYmdC51aW50MzIoNDkpLmRvdWJsZShlLmRvdWJsZVZhbHVlKSxudWxsIT1lLnN0cmluZ1ZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic3RyaW5nVmFsdWVcIikmJnQudWludDMyKDU4KS5ieXRlcyhlLnN0cmluZ1ZhbHVlKSxudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYWdncmVnYXRlVmFsdWVcIikmJnQudWludDMyKDY2KS5zdHJpbmcoZS5hZ2dyZWdhdGVWYWx1ZSksdH0sSS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sSS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbjtlLnBvczxuOyl7dmFyIHI9ZS51aW50MzIoKTtzd2l0Y2gocj4+PjMpe2Nhc2UgMjpvLm5hbWUmJm8ubmFtZS5sZW5ndGh8fChvLm5hbWU9W10pLG8ubmFtZS5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuZGVjb2RlKGUsZS51aW50MzIoKSkpO2JyZWFrO2Nhc2UgMzpvLmlkZW50aWZpZXJWYWx1ZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgNDpvLnBvc2l0aXZlSW50VmFsdWU9ZS51aW50NjQoKTticmVhaztjYXNlIDU6by5uZWdhdGl2ZUludFZhbHVlPWUuaW50NjQoKTticmVhaztjYXNlIDY6by5kb3VibGVWYWx1ZT1lLmRvdWJsZSgpO2JyZWFrO2Nhc2UgNzpvLnN0cmluZ1ZhbHVlPWUuYnl0ZXMoKTticmVhaztjYXNlIDg6by5hZ2dyZWdhdGVWYWx1ZT1lLnN0cmluZygpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sSS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sSS52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5uYW1lJiZlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5uYW1lKSlyZXR1cm5cIm5hbWU6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLm5hbWUubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC52ZXJpZnkoZS5uYW1lW3RdKTtpZihuKXJldHVyblwibmFtZS5cIitufX1yZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJpZGVudGlmaWVyVmFsdWVcIikmJiFpLmlzU3RyaW5nKGUuaWRlbnRpZmllclZhbHVlKT9cImlkZW50aWZpZXJWYWx1ZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5wb3NpdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwicG9zaXRpdmVJbnRWYWx1ZVwiKSYmIShpLmlzSW50ZWdlcihlLnBvc2l0aXZlSW50VmFsdWUpfHxlLnBvc2l0aXZlSW50VmFsdWUmJmkuaXNJbnRlZ2VyKGUucG9zaXRpdmVJbnRWYWx1ZS5sb3cpJiZpLmlzSW50ZWdlcihlLnBvc2l0aXZlSW50VmFsdWUuaGlnaCkpP1wicG9zaXRpdmVJbnRWYWx1ZTogaW50ZWdlcnxMb25nIGV4cGVjdGVkXCI6bnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwibmVnYXRpdmVJbnRWYWx1ZVwiKSYmIShpLmlzSW50ZWdlcihlLm5lZ2F0aXZlSW50VmFsdWUpfHxlLm5lZ2F0aXZlSW50VmFsdWUmJmkuaXNJbnRlZ2VyKGUubmVnYXRpdmVJbnRWYWx1ZS5sb3cpJiZpLmlzSW50ZWdlcihlLm5lZ2F0aXZlSW50VmFsdWUuaGlnaCkpP1wibmVnYXRpdmVJbnRWYWx1ZTogaW50ZWdlcnxMb25nIGV4cGVjdGVkXCI6bnVsbCE9ZS5kb3VibGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRvdWJsZVZhbHVlXCIpJiZcIm51bWJlclwiIT10eXBlb2YgZS5kb3VibGVWYWx1ZT9cImRvdWJsZVZhbHVlOiBudW1iZXIgZXhwZWN0ZWRcIjpudWxsIT1lLnN0cmluZ1ZhbHVlJiZlLmhhc093blByb3BlcnR5KFwic3RyaW5nVmFsdWVcIikmJiEoZS5zdHJpbmdWYWx1ZSYmXCJudW1iZXJcIj09dHlwZW9mIGUuc3RyaW5nVmFsdWUubGVuZ3RofHxpLmlzU3RyaW5nKGUuc3RyaW5nVmFsdWUpKT9cInN0cmluZ1ZhbHVlOiBidWZmZXIgZXhwZWN0ZWRcIjpudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiYWdncmVnYXRlVmFsdWVcIikmJiFpLmlzU3RyaW5nKGUuYWdncmVnYXRlVmFsdWUpP1wiYWdncmVnYXRlVmFsdWU6IHN0cmluZyBleHBlY3RlZFwiOm51bGx9LEkuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbilyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbjtpZihlLm5hbWUpe2lmKCFBcnJheS5pc0FycmF5KGUubmFtZSkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLm5hbWU6IGFycmF5IGV4cGVjdGVkXCIpO3QubmFtZT1bXTtmb3IodmFyIG49MDtuPGUubmFtZS5sZW5ndGg7KytuKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZS5uYW1lW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5uYW1lOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5uYW1lW25dPXAuZ29vZ2xlLnByb3RvYnVmLlVuaW50ZXJwcmV0ZWRPcHRpb24uTmFtZVBhcnQuZnJvbU9iamVjdChlLm5hbWVbbl0pfX1yZXR1cm4gbnVsbCE9ZS5pZGVudGlmaWVyVmFsdWUmJih0LmlkZW50aWZpZXJWYWx1ZT1TdHJpbmcoZS5pZGVudGlmaWVyVmFsdWUpKSxudWxsIT1lLnBvc2l0aXZlSW50VmFsdWUmJihpLkxvbmc/KHQucG9zaXRpdmVJbnRWYWx1ZT1pLkxvbmcuZnJvbVZhbHVlKGUucG9zaXRpdmVJbnRWYWx1ZSkpLnVuc2lnbmVkPSEwOlwic3RyaW5nXCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWU/dC5wb3NpdGl2ZUludFZhbHVlPXBhcnNlSW50KGUucG9zaXRpdmVJbnRWYWx1ZSwxMCk6XCJudW1iZXJcIj09dHlwZW9mIGUucG9zaXRpdmVJbnRWYWx1ZT90LnBvc2l0aXZlSW50VmFsdWU9ZS5wb3NpdGl2ZUludFZhbHVlOlwib2JqZWN0XCI9PXR5cGVvZiBlLnBvc2l0aXZlSW50VmFsdWUmJih0LnBvc2l0aXZlSW50VmFsdWU9bmV3IGkuTG9uZ0JpdHMoZS5wb3NpdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5wb3NpdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcighMCkpKSxudWxsIT1lLm5lZ2F0aXZlSW50VmFsdWUmJihpLkxvbmc/KHQubmVnYXRpdmVJbnRWYWx1ZT1pLkxvbmcuZnJvbVZhbHVlKGUubmVnYXRpdmVJbnRWYWx1ZSkpLnVuc2lnbmVkPSExOlwic3RyaW5nXCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWU/dC5uZWdhdGl2ZUludFZhbHVlPXBhcnNlSW50KGUubmVnYXRpdmVJbnRWYWx1ZSwxMCk6XCJudW1iZXJcIj09dHlwZW9mIGUubmVnYXRpdmVJbnRWYWx1ZT90Lm5lZ2F0aXZlSW50VmFsdWU9ZS5uZWdhdGl2ZUludFZhbHVlOlwib2JqZWN0XCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWUmJih0Lm5lZ2F0aXZlSW50VmFsdWU9bmV3IGkuTG9uZ0JpdHMoZS5uZWdhdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5uZWdhdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcigpKSksbnVsbCE9ZS5kb3VibGVWYWx1ZSYmKHQuZG91YmxlVmFsdWU9TnVtYmVyKGUuZG91YmxlVmFsdWUpKSxudWxsIT1lLnN0cmluZ1ZhbHVlJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUuc3RyaW5nVmFsdWU/aS5iYXNlNjQuZGVjb2RlKGUuc3RyaW5nVmFsdWUsdC5zdHJpbmdWYWx1ZT1pLm5ld0J1ZmZlcihpLmJhc2U2NC5sZW5ndGgoZS5zdHJpbmdWYWx1ZSkpLDApOmUuc3RyaW5nVmFsdWUubGVuZ3RoJiYodC5zdHJpbmdWYWx1ZT1lLnN0cmluZ1ZhbHVlKSksbnVsbCE9ZS5hZ2dyZWdhdGVWYWx1ZSYmKHQuYWdncmVnYXRlVmFsdWU9U3RyaW5nKGUuYWdncmVnYXRlVmFsdWUpKSx0fSxJLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG4sbz17fTtpZigoKHQ9dHx8e30pLmFycmF5c3x8dC5kZWZhdWx0cykmJihvLm5hbWU9W10pLHQuZGVmYXVsdHMmJihvLmlkZW50aWZpZXJWYWx1ZT1cIlwiLGkuTG9uZz8obj1uZXcgaS5Mb25nKDAsMCwhMCksby5wb3NpdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/bi50b1N0cmluZygpOnQubG9uZ3M9PT1OdW1iZXI/bi50b051bWJlcigpOm4pOm8ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1wiMFwiOjAsaS5Mb25nPyhuPW5ldyBpLkxvbmcoMCwwLCExKSxvLm5lZ2F0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6dC5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6bik6by5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/XCIwXCI6MCxvLmRvdWJsZVZhbHVlPTAsdC5ieXRlcz09PVN0cmluZz9vLnN0cmluZ1ZhbHVlPVwiXCI6KG8uc3RyaW5nVmFsdWU9W10sdC5ieXRlcyE9PUFycmF5JiYoby5zdHJpbmdWYWx1ZT1pLm5ld0J1ZmZlcihvLnN0cmluZ1ZhbHVlKSkpLG8uYWdncmVnYXRlVmFsdWU9XCJcIiksZS5uYW1lJiZlLm5hbWUubGVuZ3RoKXtvLm5hbWU9W107Zm9yKHZhciByPTA7cjxlLm5hbWUubGVuZ3RoOysrcilvLm5hbWVbcl09cC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydC50b09iamVjdChlLm5hbWVbcl0sdCl9cmV0dXJuIG51bGwhPWUuaWRlbnRpZmllclZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiaWRlbnRpZmllclZhbHVlXCIpJiYoby5pZGVudGlmaWVyVmFsdWU9ZS5pZGVudGlmaWVyVmFsdWUpLG51bGwhPWUucG9zaXRpdmVJbnRWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInBvc2l0aXZlSW50VmFsdWVcIikmJihcIm51bWJlclwiPT10eXBlb2YgZS5wb3NpdGl2ZUludFZhbHVlP28ucG9zaXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP1N0cmluZyhlLnBvc2l0aXZlSW50VmFsdWUpOmUucG9zaXRpdmVJbnRWYWx1ZTpvLnBvc2l0aXZlSW50VmFsdWU9dC5sb25ncz09PVN0cmluZz9pLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5wb3NpdGl2ZUludFZhbHVlKTp0LmxvbmdzPT09TnVtYmVyP25ldyBpLkxvbmdCaXRzKGUucG9zaXRpdmVJbnRWYWx1ZS5sb3c+Pj4wLGUucG9zaXRpdmVJbnRWYWx1ZS5oaWdoPj4+MCkudG9OdW1iZXIoITApOmUucG9zaXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5uZWdhdGl2ZUludFZhbHVlJiZlLmhhc093blByb3BlcnR5KFwibmVnYXRpdmVJbnRWYWx1ZVwiKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlLm5lZ2F0aXZlSW50VmFsdWU/by5uZWdhdGl2ZUludFZhbHVlPXQubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUubmVnYXRpdmVJbnRWYWx1ZSk6ZS5uZWdhdGl2ZUludFZhbHVlOm8ubmVnYXRpdmVJbnRWYWx1ZT10LmxvbmdzPT09U3RyaW5nP2kuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLm5lZ2F0aXZlSW50VmFsdWUpOnQubG9uZ3M9PT1OdW1iZXI/bmV3IGkuTG9uZ0JpdHMoZS5uZWdhdGl2ZUludFZhbHVlLmxvdz4+PjAsZS5uZWdhdGl2ZUludFZhbHVlLmhpZ2g+Pj4wKS50b051bWJlcigpOmUubmVnYXRpdmVJbnRWYWx1ZSksbnVsbCE9ZS5kb3VibGVWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcImRvdWJsZVZhbHVlXCIpJiYoby5kb3VibGVWYWx1ZT10Lmpzb24mJiFpc0Zpbml0ZShlLmRvdWJsZVZhbHVlKT9TdHJpbmcoZS5kb3VibGVWYWx1ZSk6ZS5kb3VibGVWYWx1ZSksbnVsbCE9ZS5zdHJpbmdWYWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShcInN0cmluZ1ZhbHVlXCIpJiYoby5zdHJpbmdWYWx1ZT10LmJ5dGVzPT09U3RyaW5nP2kuYmFzZTY0LmVuY29kZShlLnN0cmluZ1ZhbHVlLDAsZS5zdHJpbmdWYWx1ZS5sZW5ndGgpOnQuYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnN0cmluZ1ZhbHVlKTplLnN0cmluZ1ZhbHVlKSxudWxsIT1lLmFnZ3JlZ2F0ZVZhbHVlJiZlLmhhc093blByb3BlcnR5KFwiYWdncmVnYXRlVmFsdWVcIikmJihvLmFnZ3JlZ2F0ZVZhbHVlPWUuYWdncmVnYXRlVmFsdWUpLG99LEkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxJLk5hbWVQYXJ0PShxLnByb3RvdHlwZS5uYW1lUGFydD1cIlwiLHEucHJvdG90eXBlLmlzRXh0ZW5zaW9uPSExLHEuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcShlKX0scS5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHxyLmNyZWF0ZSgpKS51aW50MzIoMTApLnN0cmluZyhlLm5hbWVQYXJ0KSx0LnVpbnQzMigxNikuYm9vbChlLmlzRXh0ZW5zaW9uKSx0fSxxLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxxLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8ubmFtZVBhcnQ9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by5pc0V4dGVuc2lvbj1lLmJvb2woKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19aWYoIW8uaGFzT3duUHJvcGVydHkoXCJuYW1lUGFydFwiKSl0aHJvdyBpLlByb3RvY29sRXJyb3IoXCJtaXNzaW5nIHJlcXVpcmVkICduYW1lUGFydCdcIix7aW5zdGFuY2U6b30pO2lmKG8uaGFzT3duUHJvcGVydHkoXCJpc0V4dGVuc2lvblwiKSlyZXR1cm4gbzt0aHJvdyBpLlByb3RvY29sRXJyb3IoXCJtaXNzaW5nIHJlcXVpcmVkICdpc0V4dGVuc2lvbidcIix7aW5zdGFuY2U6b30pfSxxLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxxLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjppLmlzU3RyaW5nKGUubmFtZVBhcnQpP1wiYm9vbGVhblwiIT10eXBlb2YgZS5pc0V4dGVuc2lvbj9cImlzRXh0ZW5zaW9uOiBib29sZWFuIGV4cGVjdGVkXCI6bnVsbDpcIm5hbWVQYXJ0OiBzdHJpbmcgZXhwZWN0ZWRcIn0scS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuVW5pbnRlcnByZXRlZE9wdGlvbi5OYW1lUGFydD9lOih0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5VbmludGVycHJldGVkT3B0aW9uLk5hbWVQYXJ0LG51bGwhPWUubmFtZVBhcnQmJih0Lm5hbWVQYXJ0PVN0cmluZyhlLm5hbWVQYXJ0KSksbnVsbCE9ZS5pc0V4dGVuc2lvbiYmKHQuaXNFeHRlbnNpb249Qm9vbGVhbihlLmlzRXh0ZW5zaW9uKSksdCl9LHEudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLm5hbWVQYXJ0PVwiXCIsbi5pc0V4dGVuc2lvbj0hMSksbnVsbCE9ZS5uYW1lUGFydCYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbWVQYXJ0XCIpJiYobi5uYW1lUGFydD1lLm5hbWVQYXJ0KSxudWxsIT1lLmlzRXh0ZW5zaW9uJiZlLmhhc093blByb3BlcnR5KFwiaXNFeHRlbnNpb25cIikmJihuLmlzRXh0ZW5zaW9uPWUuaXNFeHRlbnNpb24pLG59LHEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxxKSxJKSx0LlNvdXJjZUNvZGVJbmZvPShZLnByb3RvdHlwZS5sb2NhdGlvbj1pLmVtcHR5QXJyYXksWS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBZKGUpfSxZLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUubG9jYXRpb24ubGVuZ3RoOysrbilwLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5lbmNvZGUoZS5sb2NhdGlvbltuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sWS5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sWS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/KG8ubG9jYXRpb24mJm8ubG9jYXRpb24ubGVuZ3RofHwoby5sb2NhdGlvbj1bXSksby5sb2NhdGlvbi5wdXNoKHAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmRlY29kZShlLGUudWludDMyKCkpKSk6ZS5za2lwVHlwZSg3JnIpfXJldHVybiBvfSxZLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxZLnZlcmlmeT1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpcmV0dXJuXCJvYmplY3QgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxvY2F0aW9uJiZlLmhhc093blByb3BlcnR5KFwibG9jYXRpb25cIikpe2lmKCFBcnJheS5pc0FycmF5KGUubG9jYXRpb24pKXJldHVyblwibG9jYXRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmxvY2F0aW9uLmxlbmd0aDsrK3Qpe3ZhciBuPXAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLnZlcmlmeShlLmxvY2F0aW9uW3RdKTtpZihuKXJldHVyblwibG9jYXRpb24uXCIrbn19cmV0dXJuIG51bGx9LFkuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8pcmV0dXJuIGU7dmFyIHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvO2lmKGUubG9jYXRpb24pe2lmKCFBcnJheS5pc0FycmF5KGUubG9jYXRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8ubG9jYXRpb246IGFycmF5IGV4cGVjdGVkXCIpO3QubG9jYXRpb249W107Zm9yKHZhciBuPTA7bjxlLmxvY2F0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmxvY2F0aW9uW25dKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8ubG9jYXRpb246IG9iamVjdCBleHBlY3RlZFwiKTt0LmxvY2F0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uLmZyb21PYmplY3QoZS5sb2NhdGlvbltuXSl9fXJldHVybiB0fSxZLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5sb2NhdGlvbj1bXSksZS5sb2NhdGlvbiYmZS5sb2NhdGlvbi5sZW5ndGgpe24ubG9jYXRpb249W107Zm9yKHZhciBvPTA7bzxlLmxvY2F0aW9uLmxlbmd0aDsrK28pbi5sb2NhdGlvbltvXT1wLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi50b09iamVjdChlLmxvY2F0aW9uW29dLHQpfXJldHVybiBufSxZLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sWS5Mb2NhdGlvbj0oUi5wcm90b3R5cGUucGF0aD1pLmVtcHR5QXJyYXksUi5wcm90b3R5cGUuc3Bhbj1pLmVtcHR5QXJyYXksUi5wcm90b3R5cGUubGVhZGluZ0NvbW1lbnRzPVwiXCIsUi5wcm90b3R5cGUudHJhaWxpbmdDb21tZW50cz1cIlwiLFIucHJvdG90eXBlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzPWkuZW1wdHlBcnJheSxSLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFIoZSl9LFIuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUucGF0aCYmZS5wYXRoLmxlbmd0aCl7dC51aW50MzIoMTApLmZvcmsoKTtmb3IodmFyIG49MDtuPGUucGF0aC5sZW5ndGg7KytuKXQuaW50MzIoZS5wYXRoW25dKTt0LmxkZWxpbSgpfWlmKG51bGwhPWUuc3BhbiYmZS5zcGFuLmxlbmd0aCl7dC51aW50MzIoMTgpLmZvcmsoKTtmb3Iobj0wO248ZS5zcGFuLmxlbmd0aDsrK24pdC5pbnQzMihlLnNwYW5bbl0pO3QubGRlbGltKCl9aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJsZWFkaW5nQ29tbWVudHNcIikmJnQudWludDMyKDI2KS5zdHJpbmcoZS5sZWFkaW5nQ29tbWVudHMpLG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInRyYWlsaW5nQ29tbWVudHNcIikmJnQudWludDMyKDM0KS5zdHJpbmcoZS50cmFpbGluZ0NvbW1lbnRzKSxudWxsIT1lLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzLmxlbmd0aClmb3Iobj0wO248ZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGg7KytuKXQudWludDMyKDUwKS5zdHJpbmcoZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50c1tuXSk7cmV0dXJuIHR9LFIuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFIuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOmlmKG8ucGF0aCYmby5wYXRoLmxlbmd0aHx8KG8ucGF0aD1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5wYXRoLnB1c2goZS5pbnQzMigpKTtlbHNlIG8ucGF0aC5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAyOmlmKG8uc3BhbiYmby5zcGFuLmxlbmd0aHx8KG8uc3Bhbj1bXSksMj09KDcmcikpZm9yKGk9ZS51aW50MzIoKStlLnBvcztlLnBvczxpOylvLnNwYW4ucHVzaChlLmludDMyKCkpO2Vsc2Ugby5zcGFuLnB1c2goZS5pbnQzMigpKTticmVhaztjYXNlIDM6by5sZWFkaW5nQ29tbWVudHM9ZS5zdHJpbmcoKTticmVhaztjYXNlIDQ6by50cmFpbGluZ0NvbW1lbnRzPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSA2Om8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHMmJm8ubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RofHwoby5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSksby5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5wdXNoKGUuc3RyaW5nKCkpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sUi5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUi52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSlyZXR1cm5cInBhdGg6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnBhdGgubGVuZ3RoOysrdClpZighaS5pc0ludGVnZXIoZS5wYXRoW3RdKSlyZXR1cm5cInBhdGg6IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUuc3BhbiYmZS5oYXNPd25Qcm9wZXJ0eShcInNwYW5cIikpe2lmKCFBcnJheS5pc0FycmF5KGUuc3BhbikpcmV0dXJuXCJzcGFuOiBhcnJheSBleHBlY3RlZFwiO2Zvcih0PTA7dDxlLnNwYW4ubGVuZ3RoOysrdClpZighaS5pc0ludGVnZXIoZS5zcGFuW3RdKSlyZXR1cm5cInNwYW46IGludGVnZXJbXSBleHBlY3RlZFwifWlmKG51bGwhPWUubGVhZGluZ0NvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwibGVhZGluZ0NvbW1lbnRzXCIpJiYhaS5pc1N0cmluZyhlLmxlYWRpbmdDb21tZW50cykpcmV0dXJuXCJsZWFkaW5nQ29tbWVudHM6IHN0cmluZyBleHBlY3RlZFwiO2lmKG51bGwhPWUudHJhaWxpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcInRyYWlsaW5nQ29tbWVudHNcIikmJiFpLmlzU3RyaW5nKGUudHJhaWxpbmdDb21tZW50cykpcmV0dXJuXCJ0cmFpbGluZ0NvbW1lbnRzOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzJiZlLmhhc093blByb3BlcnR5KFwibGVhZGluZ0RldGFjaGVkQ29tbWVudHNcIikpe2lmKCFBcnJheS5pc0FycmF5KGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMpKXJldHVyblwibGVhZGluZ0RldGFjaGVkQ29tbWVudHM6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHQ9MDt0PGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrdClpZighaS5pc1N0cmluZyhlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW3RdKSlyZXR1cm5cImxlYWRpbmdEZXRhY2hlZENvbW1lbnRzOiBzdHJpbmdbXSBleHBlY3RlZFwifXJldHVybiBudWxsfSxSLmZyb21PYmplY3Q9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLlNvdXJjZUNvZGVJbmZvLkxvY2F0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbjtpZihlLnBhdGgpe2lmKCFBcnJheS5pc0FycmF5KGUucGF0aCkpdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5Tb3VyY2VDb2RlSW5mby5Mb2NhdGlvbi5wYXRoOiBhcnJheSBleHBlY3RlZFwiKTt0LnBhdGg9W107Zm9yKHZhciBuPTA7bjxlLnBhdGgubGVuZ3RoOysrbil0LnBhdGhbbl09MHxlLnBhdGhbbl19aWYoZS5zcGFuKXtpZighQXJyYXkuaXNBcnJheShlLnNwYW4pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24uc3BhbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5zcGFuPVtdO2ZvcihuPTA7bjxlLnNwYW4ubGVuZ3RoOysrbil0LnNwYW5bbl09MHxlLnNwYW5bbl19aWYobnVsbCE9ZS5sZWFkaW5nQ29tbWVudHMmJih0LmxlYWRpbmdDb21tZW50cz1TdHJpbmcoZS5sZWFkaW5nQ29tbWVudHMpKSxudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJih0LnRyYWlsaW5nQ29tbWVudHM9U3RyaW5nKGUudHJhaWxpbmdDb21tZW50cykpLGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMpe2lmKCFBcnJheS5pc0FycmF5KGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuU291cmNlQ29kZUluZm8uTG9jYXRpb24ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM6IGFycmF5IGV4cGVjdGVkXCIpO3QubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W107Zm9yKG49MDtuPGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrbil0LmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW25dPVN0cmluZyhlLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW25dKX1yZXR1cm4gdH0sUi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4ucGF0aD1bXSxuLnNwYW49W10sbi5sZWFkaW5nRGV0YWNoZWRDb21tZW50cz1bXSksdC5kZWZhdWx0cyYmKG4ubGVhZGluZ0NvbW1lbnRzPVwiXCIsbi50cmFpbGluZ0NvbW1lbnRzPVwiXCIpLGUucGF0aCYmZS5wYXRoLmxlbmd0aCl7bi5wYXRoPVtdO2Zvcih2YXIgbz0wO288ZS5wYXRoLmxlbmd0aDsrK28pbi5wYXRoW29dPWUucGF0aFtvXX1pZihlLnNwYW4mJmUuc3Bhbi5sZW5ndGgpe24uc3Bhbj1bXTtmb3Iobz0wO288ZS5zcGFuLmxlbmd0aDsrK28pbi5zcGFuW29dPWUuc3BhbltvXX1pZihudWxsIT1lLmxlYWRpbmdDb21tZW50cyYmZS5oYXNPd25Qcm9wZXJ0eShcImxlYWRpbmdDb21tZW50c1wiKSYmKG4ubGVhZGluZ0NvbW1lbnRzPWUubGVhZGluZ0NvbW1lbnRzKSxudWxsIT1lLnRyYWlsaW5nQ29tbWVudHMmJmUuaGFzT3duUHJvcGVydHkoXCJ0cmFpbGluZ0NvbW1lbnRzXCIpJiYobi50cmFpbGluZ0NvbW1lbnRzPWUudHJhaWxpbmdDb21tZW50cyksZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cyYmZS5sZWFkaW5nRGV0YWNoZWRDb21tZW50cy5sZW5ndGgpe24ubGVhZGluZ0RldGFjaGVkQ29tbWVudHM9W107Zm9yKG89MDtvPGUubGVhZGluZ0RldGFjaGVkQ29tbWVudHMubGVuZ3RoOysrbyluLmxlYWRpbmdEZXRhY2hlZENvbW1lbnRzW29dPWUubGVhZGluZ0RldGFjaGVkQ29tbWVudHNbb119cmV0dXJuIG59LFIucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxSKSxZKSx0LkdlbmVyYXRlZENvZGVJbmZvPShXLnByb3RvdHlwZS5hbm5vdGF0aW9uPWkuZW1wdHlBcnJheSxXLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFcoZSl9LFcuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYodD10fHxyLmNyZWF0ZSgpLG51bGwhPWUuYW5ub3RhdGlvbiYmZS5hbm5vdGF0aW9uLmxlbmd0aClmb3IodmFyIG49MDtuPGUuYW5ub3RhdGlvbi5sZW5ndGg7KytuKXAuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uZW5jb2RlKGUuYW5ub3RhdGlvbltuXSx0LnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtyZXR1cm4gdH0sVy5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sVy5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm87ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7cj4+PjM9PTE/KG8uYW5ub3RhdGlvbiYmby5hbm5vdGF0aW9uLmxlbmd0aHx8KG8uYW5ub3RhdGlvbj1bXSksby5hbm5vdGF0aW9uLnB1c2gocC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi5kZWNvZGUoZSxlLnVpbnQzMigpKSkpOmUuc2tpcFR5cGUoNyZyKX1yZXR1cm4gb30sVy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sVy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5hbm5vdGF0aW9uJiZlLmhhc093blByb3BlcnR5KFwiYW5ub3RhdGlvblwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5hbm5vdGF0aW9uKSlyZXR1cm5cImFubm90YXRpb246IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLmFubm90YXRpb24ubGVuZ3RoOysrdCl7dmFyIG49cC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi52ZXJpZnkoZS5hbm5vdGF0aW9uW3RdKTtpZihuKXJldHVyblwiYW5ub3RhdGlvbi5cIitufX1yZXR1cm4gbnVsbH0sVy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mbylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm87aWYoZS5hbm5vdGF0aW9uKXtpZighQXJyYXkuaXNBcnJheShlLmFubm90YXRpb24pKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uYW5ub3RhdGlvbjogYXJyYXkgZXhwZWN0ZWRcIik7dC5hbm5vdGF0aW9uPVtdO2Zvcih2YXIgbj0wO248ZS5hbm5vdGF0aW9uLmxlbmd0aDsrK24pe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlLmFubm90YXRpb25bbl0pdGhyb3cgVHlwZUVycm9yKFwiLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5hbm5vdGF0aW9uOiBvYmplY3QgZXhwZWN0ZWRcIik7dC5hbm5vdGF0aW9uW25dPXAuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24uZnJvbU9iamVjdChlLmFubm90YXRpb25bbl0pfX1yZXR1cm4gdH0sVy50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uYW5ub3RhdGlvbj1bXSksZS5hbm5vdGF0aW9uJiZlLmFubm90YXRpb24ubGVuZ3RoKXtuLmFubm90YXRpb249W107Zm9yKHZhciBvPTA7bzxlLmFubm90YXRpb24ubGVuZ3RoOysrbyluLmFubm90YXRpb25bb109cC5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkQ29kZUluZm8uQW5ub3RhdGlvbi50b09iamVjdChlLmFubm90YXRpb25bb10sdCl9cmV0dXJuIG59LFcucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxXLkFubm90YXRpb249KEMucHJvdG90eXBlLnBhdGg9aS5lbXB0eUFycmF5LEMucHJvdG90eXBlLnNvdXJjZUZpbGU9XCJcIixDLnByb3RvdHlwZS5iZWdpbj0wLEMucHJvdG90eXBlLmVuZD0wLEMuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQyhlKX0sQy5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5wYXRoJiZlLnBhdGgubGVuZ3RoKXt0LnVpbnQzMigxMCkuZm9yaygpO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5pbnQzMihlLnBhdGhbbl0pO3QubGRlbGltKCl9cmV0dXJuIG51bGwhPWUuc291cmNlRmlsZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInNvdXJjZUZpbGVcIikmJnQudWludDMyKDE4KS5zdHJpbmcoZS5zb3VyY2VGaWxlKSxudWxsIT1lLmJlZ2luJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiYmVnaW5cIikmJnQudWludDMyKDI0KS5pbnQzMihlLmJlZ2luKSxudWxsIT1lLmVuZCYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcImVuZFwiKSYmdC51aW50MzIoMzIpLmludDMyKGUuZW5kKSx0fSxDLmVuY29kZURlbGltaXRlZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuY29kZShlLHQpLmxkZWxpbSgpfSxDLmRlY29kZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBhfHwoZT1hLmNyZWF0ZShlKSk7Zm9yKHZhciBuPXZvaWQgMD09PXQ/ZS5sZW46ZS5wb3MrdCxvPW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOmlmKG8ucGF0aCYmby5wYXRoLmxlbmd0aHx8KG8ucGF0aD1bXSksMj09KDcmcikpZm9yKHZhciBpPWUudWludDMyKCkrZS5wb3M7ZS5wb3M8aTspby5wYXRoLnB1c2goZS5pbnQzMigpKTtlbHNlIG8ucGF0aC5wdXNoKGUuaW50MzIoKSk7YnJlYWs7Y2FzZSAyOm8uc291cmNlRmlsZT1lLnN0cmluZygpO2JyZWFrO2Nhc2UgMzpvLmJlZ2luPWUuaW50MzIoKTticmVhaztjYXNlIDQ6by5lbmQ9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sQy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sQy52ZXJpZnk9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVyblwib2JqZWN0IGV4cGVjdGVkXCI7aWYobnVsbCE9ZS5wYXRoJiZlLmhhc093blByb3BlcnR5KFwicGF0aFwiKSl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSlyZXR1cm5cInBhdGg6IGFycmF5IGV4cGVjdGVkXCI7Zm9yKHZhciB0PTA7dDxlLnBhdGgubGVuZ3RoOysrdClpZighaS5pc0ludGVnZXIoZS5wYXRoW3RdKSlyZXR1cm5cInBhdGg6IGludGVnZXJbXSBleHBlY3RlZFwifXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJmUuaGFzT3duUHJvcGVydHkoXCJzb3VyY2VGaWxlXCIpJiYhaS5pc1N0cmluZyhlLnNvdXJjZUZpbGUpP1wic291cmNlRmlsZTogc3RyaW5nIGV4cGVjdGVkXCI6bnVsbCE9ZS5iZWdpbiYmZS5oYXNPd25Qcm9wZXJ0eShcImJlZ2luXCIpJiYhaS5pc0ludGVnZXIoZS5iZWdpbik/XCJiZWdpbjogaW50ZWdlciBleHBlY3RlZFwiOm51bGwhPWUuZW5kJiZlLmhhc093blByb3BlcnR5KFwiZW5kXCIpJiYhaS5pc0ludGVnZXIoZS5lbmQpP1wiZW5kOiBpbnRlZ2VyIGV4cGVjdGVkXCI6bnVsbH0sQy5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uKXJldHVybiBlO3ZhciB0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5HZW5lcmF0ZWRDb2RlSW5mby5Bbm5vdGF0aW9uO2lmKGUucGF0aCl7aWYoIUFycmF5LmlzQXJyYXkoZS5wYXRoKSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZENvZGVJbmZvLkFubm90YXRpb24ucGF0aDogYXJyYXkgZXhwZWN0ZWRcIik7dC5wYXRoPVtdO2Zvcih2YXIgbj0wO248ZS5wYXRoLmxlbmd0aDsrK24pdC5wYXRoW25dPTB8ZS5wYXRoW25dfXJldHVybiBudWxsIT1lLnNvdXJjZUZpbGUmJih0LnNvdXJjZUZpbGU9U3RyaW5nKGUuc291cmNlRmlsZSkpLG51bGwhPWUuYmVnaW4mJih0LmJlZ2luPTB8ZS5iZWdpbiksbnVsbCE9ZS5lbmQmJih0LmVuZD0wfGUuZW5kKSx0fSxDLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e307aWYoKCh0PXR8fHt9KS5hcnJheXN8fHQuZGVmYXVsdHMpJiYobi5wYXRoPVtdKSx0LmRlZmF1bHRzJiYobi5zb3VyY2VGaWxlPVwiXCIsbi5iZWdpbj0wLG4uZW5kPTApLGUucGF0aCYmZS5wYXRoLmxlbmd0aCl7bi5wYXRoPVtdO2Zvcih2YXIgbz0wO288ZS5wYXRoLmxlbmd0aDsrK28pbi5wYXRoW29dPWUucGF0aFtvXX1yZXR1cm4gbnVsbCE9ZS5zb3VyY2VGaWxlJiZlLmhhc093blByb3BlcnR5KFwic291cmNlRmlsZVwiKSYmKG4uc291cmNlRmlsZT1lLnNvdXJjZUZpbGUpLG51bGwhPWUuYmVnaW4mJmUuaGFzT3duUHJvcGVydHkoXCJiZWdpblwiKSYmKG4uYmVnaW49ZS5iZWdpbiksbnVsbCE9ZS5lbmQmJmUuaGFzT3duUHJvcGVydHkoXCJlbmRcIikmJihuLmVuZD1lLmVuZCksbn0sQy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LEMpLFcpLHQuQW55PShYLnByb3RvdHlwZS50eXBlX3VybD1cIlwiLFgucHJvdG90eXBlLnZhbHVlPWkubmV3QnVmZmVyKFtdKSxYLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFgoZSl9LFguZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnR5cGVfdXJsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwidHlwZV91cmxcIikmJnQudWludDMyKDEwKS5zdHJpbmcoZS50eXBlX3VybCksbnVsbCE9ZS52YWx1ZSYmT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxcInZhbHVlXCIpJiZ0LnVpbnQzMigxOCkuYnl0ZXMoZS52YWx1ZSksdH0sWC5lbmNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lbmNvZGUoZSx0KS5sZGVsaW0oKX0sWC5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtlIGluc3RhbmNlb2YgYXx8KGU9YS5jcmVhdGUoZSkpO2Zvcih2YXIgbj12b2lkIDA9PT10P2UubGVuOmUucG9zK3Qsbz1uZXcgcC5nb29nbGUucHJvdG9idWYuQW55O2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8udHlwZV91cmw9ZS5zdHJpbmcoKTticmVhaztjYXNlIDI6by52YWx1ZT1lLmJ5dGVzKCk7YnJlYWs7ZGVmYXVsdDplLnNraXBUeXBlKDcmcil9fXJldHVybiBvfSxYLmRlY29kZURlbGltaXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGF8fChlPW5ldyBhKGUpKSx0aGlzLmRlY29kZShlLGUudWludDMyKCkpfSxYLnZlcmlmeT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWU/XCJvYmplY3QgZXhwZWN0ZWRcIjpudWxsIT1lLnR5cGVfdXJsJiZlLmhhc093blByb3BlcnR5KFwidHlwZV91cmxcIikmJiFpLmlzU3RyaW5nKGUudHlwZV91cmwpP1widHlwZV91cmw6IHN0cmluZyBleHBlY3RlZFwiOm51bGwhPWUudmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmIShlLnZhbHVlJiZcIm51bWJlclwiPT10eXBlb2YgZS52YWx1ZS5sZW5ndGh8fGkuaXNTdHJpbmcoZS52YWx1ZSkpP1widmFsdWU6IGJ1ZmZlciBleHBlY3RlZFwiOm51bGx9LFguZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkFueT9lOih0PW5ldyBwLmdvb2dsZS5wcm90b2J1Zi5BbnksbnVsbCE9ZS50eXBlX3VybCYmKHQudHlwZV91cmw9U3RyaW5nKGUudHlwZV91cmwpKSxudWxsIT1lLnZhbHVlJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUudmFsdWU/aS5iYXNlNjQuZGVjb2RlKGUudmFsdWUsdC52YWx1ZT1pLm5ld0J1ZmZlcihpLmJhc2U2NC5sZW5ndGgoZS52YWx1ZSkpLDApOmUudmFsdWUubGVuZ3RoJiYodC52YWx1ZT1lLnZhbHVlKSksdCl9LFgudG9PYmplY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihuLnR5cGVfdXJsPVwiXCIsdC5ieXRlcz09PVN0cmluZz9uLnZhbHVlPVwiXCI6KG4udmFsdWU9W10sdC5ieXRlcyE9PUFycmF5JiYobi52YWx1ZT1pLm5ld0J1ZmZlcihuLnZhbHVlKSkpKSxudWxsIT1lLnR5cGVfdXJsJiZlLmhhc093blByb3BlcnR5KFwidHlwZV91cmxcIikmJihuLnR5cGVfdXJsPWUudHlwZV91cmwpLG51bGwhPWUudmFsdWUmJmUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKSYmKG4udmFsdWU9dC5ieXRlcz09PVN0cmluZz9pLmJhc2U2NC5lbmNvZGUoZS52YWx1ZSwwLGUudmFsdWUubGVuZ3RoKTp0LmJ5dGVzPT09QXJyYXk/QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS52YWx1ZSk6ZS52YWx1ZSksbn0sWC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFgpLHQuRHVyYXRpb249KEsucHJvdG90eXBlLnNlY29uZHM9aS5Mb25nP2kuTG9uZy5mcm9tQml0cygwLDAsITEpOjAsSy5wcm90b3R5cGUubmFub3M9MCxLLmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEsoZSl9LEsuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8ci5jcmVhdGUoKSxudWxsIT1lLnNlY29uZHMmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJzZWNvbmRzXCIpJiZ0LnVpbnQzMig4KS5pbnQ2NChlLnNlY29uZHMpLG51bGwhPWUubmFub3MmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJuYW5vc1wiKSYmdC51aW50MzIoMTYpLmludDMyKGUubmFub3MpLHR9LEsuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LEsuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uO2UucG9zPG47KXt2YXIgcj1lLnVpbnQzMigpO3N3aXRjaChyPj4+Myl7Y2FzZSAxOm8uc2Vjb25kcz1lLmludDY0KCk7YnJlYWs7Y2FzZSAyOm8ubmFub3M9ZS5pbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwVHlwZSg3JnIpfX1yZXR1cm4gb30sSy5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sSy52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbCE9ZS5zZWNvbmRzJiZlLmhhc093blByb3BlcnR5KFwic2Vjb25kc1wiKSYmIShpLmlzSW50ZWdlcihlLnNlY29uZHMpfHxlLnNlY29uZHMmJmkuaXNJbnRlZ2VyKGUuc2Vjb25kcy5sb3cpJiZpLmlzSW50ZWdlcihlLnNlY29uZHMuaGlnaCkpP1wic2Vjb25kczogaW50ZWdlcnxMb25nIGV4cGVjdGVkXCI6bnVsbCE9ZS5uYW5vcyYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbm9zXCIpJiYhaS5pc0ludGVnZXIoZS5uYW5vcyk/XCJuYW5vczogaW50ZWdlciBleHBlY3RlZFwiOm51bGx9LEsuZnJvbU9iamVjdD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIHAuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uP2U6KHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uLG51bGwhPWUuc2Vjb25kcyYmKGkuTG9uZz8odC5zZWNvbmRzPWkuTG9uZy5mcm9tVmFsdWUoZS5zZWNvbmRzKSkudW5zaWduZWQ9ITE6XCJzdHJpbmdcIj09dHlwZW9mIGUuc2Vjb25kcz90LnNlY29uZHM9cGFyc2VJbnQoZS5zZWNvbmRzLDEwKTpcIm51bWJlclwiPT10eXBlb2YgZS5zZWNvbmRzP3Quc2Vjb25kcz1lLnNlY29uZHM6XCJvYmplY3RcIj09dHlwZW9mIGUuc2Vjb25kcyYmKHQuc2Vjb25kcz1uZXcgaS5Mb25nQml0cyhlLnNlY29uZHMubG93Pj4+MCxlLnNlY29uZHMuaGlnaD4+PjApLnRvTnVtYmVyKCkpKSxudWxsIT1lLm5hbm9zJiYodC5uYW5vcz0wfGUubmFub3MpLHQpfSxLLnRvT2JqZWN0PWZ1bmN0aW9uKGUsdCl7dmFyIG4sbz17fTtyZXR1cm4odD10fHx7fSkuZGVmYXVsdHMmJihpLkxvbmc/KG49bmV3IGkuTG9uZygwLDAsITEpLG8uc2Vjb25kcz10LmxvbmdzPT09U3RyaW5nP24udG9TdHJpbmcoKTp0LmxvbmdzPT09TnVtYmVyP24udG9OdW1iZXIoKTpuKTpvLnNlY29uZHM9dC5sb25ncz09PVN0cmluZz9cIjBcIjowLG8ubmFub3M9MCksbnVsbCE9ZS5zZWNvbmRzJiZlLmhhc093blByb3BlcnR5KFwic2Vjb25kc1wiKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlLnNlY29uZHM/by5zZWNvbmRzPXQubG9uZ3M9PT1TdHJpbmc/U3RyaW5nKGUuc2Vjb25kcyk6ZS5zZWNvbmRzOm8uc2Vjb25kcz10LmxvbmdzPT09U3RyaW5nP2kuTG9uZy5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlLnNlY29uZHMpOnQubG9uZ3M9PT1OdW1iZXI/bmV3IGkuTG9uZ0JpdHMoZS5zZWNvbmRzLmxvdz4+PjAsZS5zZWNvbmRzLmhpZ2g+Pj4wKS50b051bWJlcigpOmUuc2Vjb25kcyksbnVsbCE9ZS5uYW5vcyYmZS5oYXNPd25Qcm9wZXJ0eShcIm5hbm9zXCIpJiYoby5uYW5vcz1lLm5hbm9zKSxvfSxLLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b09iamVjdCh0aGlzLG8udXRpbC50b0pTT05PcHRpb25zKX0sSyksdC5FbXB0eT0oUS5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBRKGUpfSxRLmVuY29kZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHIuY3JlYXRlKCl9LFEuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFEuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LHQ9bmV3IHAuZ29vZ2xlLnByb3RvYnVmLkVtcHR5O2UucG9zPG47KXt2YXIgbz1lLnVpbnQzMigpO2Uuc2tpcFR5cGUoNyZvKX1yZXR1cm4gdH0sUS5kZWNvZGVEZWxpbWl0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfHwoZT1uZXcgYShlKSksdGhpcy5kZWNvZGUoZSxlLnVpbnQzMigpKX0sUS52ZXJpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lP1wib2JqZWN0IGV4cGVjdGVkXCI6bnVsbH0sUS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgcC5nb29nbGUucHJvdG9idWYuRW1wdHk/ZTpuZXcgcC5nb29nbGUucHJvdG9idWYuRW1wdHl9LFEudG9PYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm57fX0sUS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9PYmplY3QodGhpcyxvLnV0aWwudG9KU09OT3B0aW9ucyl9LFEpLHQpLEYucnBjPSgobj17fSkuU3RhdHVzPShWLnByb3RvdHlwZS5jb2RlPTAsVi5wcm90b3R5cGUubWVzc2FnZT1cIlwiLFYucHJvdG90eXBlLmRldGFpbHM9aS5lbXB0eUFycmF5LFYuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgVihlKX0sVi5lbmNvZGU9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHIuY3JlYXRlKCksbnVsbCE9ZS5jb2RlJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiY29kZVwiKSYmdC51aW50MzIoOCkuaW50MzIoZS5jb2RlKSxudWxsIT1lLm1lc3NhZ2UmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJtZXNzYWdlXCIpJiZ0LnVpbnQzMigxOCkuc3RyaW5nKGUubWVzc2FnZSksbnVsbCE9ZS5kZXRhaWxzJiZlLmRldGFpbHMubGVuZ3RoKWZvcih2YXIgbj0wO248ZS5kZXRhaWxzLmxlbmd0aDsrK24pcC5nb29nbGUucHJvdG9idWYuQW55LmVuY29kZShlLmRldGFpbHNbbl0sdC51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7cmV0dXJuIHR9LFYuZW5jb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZW5jb2RlKGUsdCkubGRlbGltKCl9LFYuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGF8fChlPWEuY3JlYXRlKGUpKTtmb3IodmFyIG49dm9pZCAwPT09dD9lLmxlbjplLnBvcyt0LG89bmV3IHAuZ29vZ2xlLnJwYy5TdGF0dXM7ZS5wb3M8bjspe3ZhciByPWUudWludDMyKCk7c3dpdGNoKHI+Pj4zKXtjYXNlIDE6by5jb2RlPWUuaW50MzIoKTticmVhaztjYXNlIDI6by5tZXNzYWdlPWUuc3RyaW5nKCk7YnJlYWs7Y2FzZSAzOm8uZGV0YWlscyYmby5kZXRhaWxzLmxlbmd0aHx8KG8uZGV0YWlscz1bXSksby5kZXRhaWxzLnB1c2gocC5nb29nbGUucHJvdG9idWYuQW55LmRlY29kZShlLGUudWludDMyKCkpKTticmVhaztkZWZhdWx0OmUuc2tpcFR5cGUoNyZyKX19cmV0dXJuIG99LFYuZGVjb2RlRGVsaW1pdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgYXx8KGU9bmV3IGEoZSkpLHRoaXMuZGVjb2RlKGUsZS51aW50MzIoKSl9LFYudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm5cIm9iamVjdCBleHBlY3RlZFwiO2lmKG51bGwhPWUuY29kZSYmZS5oYXNPd25Qcm9wZXJ0eShcImNvZGVcIikmJiFpLmlzSW50ZWdlcihlLmNvZGUpKXJldHVyblwiY29kZTogaW50ZWdlciBleHBlY3RlZFwiO2lmKG51bGwhPWUubWVzc2FnZSYmZS5oYXNPd25Qcm9wZXJ0eShcIm1lc3NhZ2VcIikmJiFpLmlzU3RyaW5nKGUubWVzc2FnZSkpcmV0dXJuXCJtZXNzYWdlOiBzdHJpbmcgZXhwZWN0ZWRcIjtpZihudWxsIT1lLmRldGFpbHMmJmUuaGFzT3duUHJvcGVydHkoXCJkZXRhaWxzXCIpKXtpZighQXJyYXkuaXNBcnJheShlLmRldGFpbHMpKXJldHVyblwiZGV0YWlsczogYXJyYXkgZXhwZWN0ZWRcIjtmb3IodmFyIHQ9MDt0PGUuZGV0YWlscy5sZW5ndGg7Kyt0KXt2YXIgbj1wLmdvb2dsZS5wcm90b2J1Zi5BbnkudmVyaWZ5KGUuZGV0YWlsc1t0XSk7aWYobilyZXR1cm5cImRldGFpbHMuXCIrbn19cmV0dXJuIG51bGx9LFYuZnJvbU9iamVjdD1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgcC5nb29nbGUucnBjLlN0YXR1cylyZXR1cm4gZTt2YXIgdD1uZXcgcC5nb29nbGUucnBjLlN0YXR1cztpZihudWxsIT1lLmNvZGUmJih0LmNvZGU9MHxlLmNvZGUpLG51bGwhPWUubWVzc2FnZSYmKHQubWVzc2FnZT1TdHJpbmcoZS5tZXNzYWdlKSksZS5kZXRhaWxzKXtpZighQXJyYXkuaXNBcnJheShlLmRldGFpbHMpKXRocm93IFR5cGVFcnJvcihcIi5nb29nbGUucnBjLlN0YXR1cy5kZXRhaWxzOiBhcnJheSBleHBlY3RlZFwiKTt0LmRldGFpbHM9W107Zm9yKHZhciBuPTA7bjxlLmRldGFpbHMubGVuZ3RoOysrbil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZGV0YWlsc1tuXSl0aHJvdyBUeXBlRXJyb3IoXCIuZ29vZ2xlLnJwYy5TdGF0dXMuZGV0YWlsczogb2JqZWN0IGV4cGVjdGVkXCIpO3QuZGV0YWlsc1tuXT1wLmdvb2dsZS5wcm90b2J1Zi5BbnkuZnJvbU9iamVjdChlLmRldGFpbHNbbl0pfX1yZXR1cm4gdH0sVi50b09iamVjdD1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O2lmKCgodD10fHx7fSkuYXJyYXlzfHx0LmRlZmF1bHRzKSYmKG4uZGV0YWlscz1bXSksdC5kZWZhdWx0cyYmKG4uY29kZT0wLG4ubWVzc2FnZT1cIlwiKSxudWxsIT1lLmNvZGUmJmUuaGFzT3duUHJvcGVydHkoXCJjb2RlXCIpJiYobi5jb2RlPWUuY29kZSksbnVsbCE9ZS5tZXNzYWdlJiZlLmhhc093blByb3BlcnR5KFwibWVzc2FnZVwiKSYmKG4ubWVzc2FnZT1lLm1lc3NhZ2UpLGUuZGV0YWlscyYmZS5kZXRhaWxzLmxlbmd0aCl7bi5kZXRhaWxzPVtdO2Zvcih2YXIgbz0wO288ZS5kZXRhaWxzLmxlbmd0aDsrK28pbi5kZXRhaWxzW29dPXAuZ29vZ2xlLnByb3RvYnVmLkFueS50b09iamVjdChlLmRldGFpbHNbb10sdCl9cmV0dXJuIG59LFYucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLnRvT2JqZWN0KHRoaXMsby51dGlsLnRvSlNPTk9wdGlvbnMpfSxWKSxuKSxGKSxwfSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/protos/operations.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/apiCaller.js":
/*!********************************************************!*\
  !*** ./node_modules/google-gax/build/src/apiCaller.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAPICaller = createAPICaller;\nconst normalApiCaller_1 = __webpack_require__(/*! ./normalCalls/normalApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\");\nfunction createAPICaller(settings, descriptor) {\n    if (!descriptor) {\n        return new normalApiCaller_1.NormalApiCaller();\n    }\n    return descriptor.getApiCaller(settings);\n}\n//# sourceMappingURL=apiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYXBpQ2FsbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QiwwQkFBMEIsbUJBQU8sQ0FBQywrR0FBK0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYXBpQ2FsbGVyLmpzPzQ0NGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUFQSUNhbGxlciA9IGNyZWF0ZUFQSUNhbGxlcjtcbmNvbnN0IG5vcm1hbEFwaUNhbGxlcl8xID0gcmVxdWlyZShcIi4vbm9ybWFsQ2FsbHMvbm9ybWFsQXBpQ2FsbGVyXCIpO1xuZnVuY3Rpb24gY3JlYXRlQVBJQ2FsbGVyKHNldHRpbmdzLCBkZXNjcmlwdG9yKSB7XG4gICAgaWYgKCFkZXNjcmlwdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgbm9ybWFsQXBpQ2FsbGVyXzEuTm9ybWFsQXBpQ2FsbGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdG9yLmdldEFwaUNhbGxlcihzZXR0aW5ncyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcGlDYWxsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/apiCaller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js":
/*!****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(rsc)/./node_modules/google-gax/build/src/call.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\n/**\n * An implementation of APICaller for bundled calls.\n * Uses BundleExecutor to do bundling.\n */\nclass BundleApiCaller {\n    constructor(bundler) {\n        this.bundler = bundler;\n    }\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    wrap(func) {\n        return func;\n    }\n    call(apiCall, argument, settings, status) {\n        if (!settings.isBundling) {\n            throw new googleError_1.GoogleError('Bundling enabled with no isBundling!');\n        }\n        status.call((argument, callback) => {\n            this.bundler.schedule(apiCall, argument, callback);\n            return status;\n        }, argument);\n    }\n    fail(canceller, err) {\n        canceller.callback(err);\n    }\n    result(canceller) {\n        return canceller.promise;\n    }\n}\nexports.BundleApiCaller = BundleApiCaller;\n//# sourceMappingURL=bundleApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGVBcGlDYWxsZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLGVBQWUsbUJBQU8sQ0FBQyxrRUFBUztBQUNoQyxzQkFBc0IsbUJBQU8sQ0FBQyxnRkFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGVBcGlDYWxsZXIuanM/MmJhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVuZGxlQXBpQ2FsbGVyID0gdm9pZCAwO1xuY29uc3QgY2FsbF8xID0gcmVxdWlyZShcIi4uL2NhbGxcIik7XG5jb25zdCBnb29nbGVFcnJvcl8xID0gcmVxdWlyZShcIi4uL2dvb2dsZUVycm9yXCIpO1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBBUElDYWxsZXIgZm9yIGJ1bmRsZWQgY2FsbHMuXG4gKiBVc2VzIEJ1bmRsZUV4ZWN1dG9yIHRvIGRvIGJ1bmRsaW5nLlxuICovXG5jbGFzcyBCdW5kbGVBcGlDYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKGJ1bmRsZXIpIHtcbiAgICAgICAgdGhpcy5idW5kbGVyID0gYnVuZGxlcjtcbiAgICB9XG4gICAgaW5pdChjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY2FsbF8xLk9uZ29pbmdDYWxsKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNhbGxfMS5PbmdvaW5nQ2FsbFByb21pc2UoKTtcbiAgICB9XG4gICAgd3JhcChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBjYWxsKGFwaUNhbGwsIGFyZ3VtZW50LCBzZXR0aW5ncywgc3RhdHVzKSB7XG4gICAgICAgIGlmICghc2V0dGluZ3MuaXNCdW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ0J1bmRsaW5nIGVuYWJsZWQgd2l0aCBubyBpc0J1bmRsaW5nIScpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXR1cy5jYWxsKChhcmd1bWVudCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnVuZGxlci5zY2hlZHVsZShhcGlDYWxsLCBhcmd1bWVudCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgfSwgYXJndW1lbnQpO1xuICAgIH1cbiAgICBmYWlsKGNhbmNlbGxlciwgZXJyKSB7XG4gICAgICAgIGNhbmNlbGxlci5jYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICByZXN1bHQoY2FuY2VsbGVyKSB7XG4gICAgICAgIHJldHVybiBjYW5jZWxsZXIucHJvbWlzZTtcbiAgICB9XG59XG5leHBvcnRzLkJ1bmRsZUFwaUNhbGxlciA9IEJ1bmRsZUFwaUNhbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZUFwaUNhbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleDescriptor = void 0;\nconst normalApiCaller_1 = __webpack_require__(/*! ../normalCalls/normalApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\");\nconst bundleApiCaller_1 = __webpack_require__(/*! ./bundleApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleApiCaller.js\");\nconst bundleExecutor_1 = __webpack_require__(/*! ./bundleExecutor */ \"(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js\");\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/google-gax/build/src/util.js\");\n/**\n * A descriptor for calls that can be bundled into one call.\n */\nclass BundleDescriptor {\n    /**\n     * Describes the structure of bundled call.\n     *\n     * requestDiscriminatorFields may include '.' as a separator, which is used to\n     * indicate object traversal. This allows fields in nested objects to be used\n     * to determine what request to bundle.\n     *\n     * @property {String} bundledField\n     * @property {String} requestDiscriminatorFields\n     * @property {String} subresponseField\n     * @property {Function} byteLengthFunction\n     *\n     * @param {String} bundledField - the repeated field in the request message\n     *   that will have its elements aggregated by bundling.\n     * @param {String} requestDiscriminatorFields - a list of fields in the\n     *   target request message class that are used to detemrine which request\n     *   messages should be bundled together.\n     * @param {String} subresponseField - an optional field, when present it\n     *   indicates the field in the response message that should be used to\n     *   demultiplex the response into multiple response messages.\n     * @param {Function} byteLengthFunction - a function to obtain the byte\n     *   length to be consumed for the bundled field messages. Because Node.JS\n     *   protobuf.js/gRPC uses builtin Objects for the user-visible data and\n     *   internally they are encoded/decoded in protobuf manner, this function\n     *   is actually necessary to calculate the byte length.\n     * @constructor\n     */\n    constructor(bundledField, requestDiscriminatorFields, subresponseField, byteLengthFunction) {\n        if (!byteLengthFunction && typeof subresponseField === 'function') {\n            byteLengthFunction = subresponseField;\n            subresponseField = null;\n        }\n        this.bundledField = bundledField;\n        this.requestDiscriminatorFields =\n            requestDiscriminatorFields.map(util_1.toCamelCase);\n        this.subresponseField = subresponseField;\n        this.byteLengthFunction = byteLengthFunction;\n    }\n    getApiCaller(settings) {\n        if (settings.isBundling === false) {\n            return new normalApiCaller_1.NormalApiCaller();\n        }\n        return new bundleApiCaller_1.BundleApiCaller(new bundleExecutor_1.BundleExecutor(settings.bundleOptions, this));\n    }\n}\nexports.BundleDescriptor = BundleDescriptor;\n//# sourceMappingURL=bundleDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGVEZXNjcmlwdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QiwwQkFBMEIsbUJBQU8sQ0FBQyxnSEFBZ0M7QUFDbEUsMEJBQTBCLG1CQUFPLENBQUMscUdBQW1CO0FBQ3JELHlCQUF5QixtQkFBTyxDQUFDLG1HQUFrQjtBQUNuRCxlQUFlLG1CQUFPLENBQUMsa0VBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCLGtCQUFrQixRQUFRO0FBQzFCLGtCQUFrQixRQUFRO0FBQzFCLGtCQUFrQixVQUFVO0FBQzVCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGVEZXNjcmlwdG9yLmpzPzQ3OTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1bmRsZURlc2NyaXB0b3IgPSB2b2lkIDA7XG5jb25zdCBub3JtYWxBcGlDYWxsZXJfMSA9IHJlcXVpcmUoXCIuLi9ub3JtYWxDYWxscy9ub3JtYWxBcGlDYWxsZXJcIik7XG5jb25zdCBidW5kbGVBcGlDYWxsZXJfMSA9IHJlcXVpcmUoXCIuL2J1bmRsZUFwaUNhbGxlclwiKTtcbmNvbnN0IGJ1bmRsZUV4ZWN1dG9yXzEgPSByZXF1aXJlKFwiLi9idW5kbGVFeGVjdXRvclwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuLyoqXG4gKiBBIGRlc2NyaXB0b3IgZm9yIGNhbGxzIHRoYXQgY2FuIGJlIGJ1bmRsZWQgaW50byBvbmUgY2FsbC5cbiAqL1xuY2xhc3MgQnVuZGxlRGVzY3JpcHRvciB7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHRoZSBzdHJ1Y3R1cmUgb2YgYnVuZGxlZCBjYWxsLlxuICAgICAqXG4gICAgICogcmVxdWVzdERpc2NyaW1pbmF0b3JGaWVsZHMgbWF5IGluY2x1ZGUgJy4nIGFzIGEgc2VwYXJhdG9yLCB3aGljaCBpcyB1c2VkIHRvXG4gICAgICogaW5kaWNhdGUgb2JqZWN0IHRyYXZlcnNhbC4gVGhpcyBhbGxvd3MgZmllbGRzIGluIG5lc3RlZCBvYmplY3RzIHRvIGJlIHVzZWRcbiAgICAgKiB0byBkZXRlcm1pbmUgd2hhdCByZXF1ZXN0IHRvIGJ1bmRsZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBidW5kbGVkRmllbGRcbiAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gcmVxdWVzdERpc2NyaW1pbmF0b3JGaWVsZHNcbiAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gc3VicmVzcG9uc2VGaWVsZFxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGJ5dGVMZW5ndGhGdW5jdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJ1bmRsZWRGaWVsZCAtIHRoZSByZXBlYXRlZCBmaWVsZCBpbiB0aGUgcmVxdWVzdCBtZXNzYWdlXG4gICAgICogICB0aGF0IHdpbGwgaGF2ZSBpdHMgZWxlbWVudHMgYWdncmVnYXRlZCBieSBidW5kbGluZy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdERpc2NyaW1pbmF0b3JGaWVsZHMgLSBhIGxpc3Qgb2YgZmllbGRzIGluIHRoZVxuICAgICAqICAgdGFyZ2V0IHJlcXVlc3QgbWVzc2FnZSBjbGFzcyB0aGF0IGFyZSB1c2VkIHRvIGRldGVtcmluZSB3aGljaCByZXF1ZXN0XG4gICAgICogICBtZXNzYWdlcyBzaG91bGQgYmUgYnVuZGxlZCB0b2dldGhlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VicmVzcG9uc2VGaWVsZCAtIGFuIG9wdGlvbmFsIGZpZWxkLCB3aGVuIHByZXNlbnQgaXRcbiAgICAgKiAgIGluZGljYXRlcyB0aGUgZmllbGQgaW4gdGhlIHJlc3BvbnNlIG1lc3NhZ2UgdGhhdCBzaG91bGQgYmUgdXNlZCB0b1xuICAgICAqICAgZGVtdWx0aXBsZXggdGhlIHJlc3BvbnNlIGludG8gbXVsdGlwbGUgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYnl0ZUxlbmd0aEZ1bmN0aW9uIC0gYSBmdW5jdGlvbiB0byBvYnRhaW4gdGhlIGJ5dGVcbiAgICAgKiAgIGxlbmd0aCB0byBiZSBjb25zdW1lZCBmb3IgdGhlIGJ1bmRsZWQgZmllbGQgbWVzc2FnZXMuIEJlY2F1c2UgTm9kZS5KU1xuICAgICAqICAgcHJvdG9idWYuanMvZ1JQQyB1c2VzIGJ1aWx0aW4gT2JqZWN0cyBmb3IgdGhlIHVzZXItdmlzaWJsZSBkYXRhIGFuZFxuICAgICAqICAgaW50ZXJuYWxseSB0aGV5IGFyZSBlbmNvZGVkL2RlY29kZWQgaW4gcHJvdG9idWYgbWFubmVyLCB0aGlzIGZ1bmN0aW9uXG4gICAgICogICBpcyBhY3R1YWxseSBuZWNlc3NhcnkgdG8gY2FsY3VsYXRlIHRoZSBieXRlIGxlbmd0aC5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihidW5kbGVkRmllbGQsIHJlcXVlc3REaXNjcmltaW5hdG9yRmllbGRzLCBzdWJyZXNwb25zZUZpZWxkLCBieXRlTGVuZ3RoRnVuY3Rpb24pIHtcbiAgICAgICAgaWYgKCFieXRlTGVuZ3RoRnVuY3Rpb24gJiYgdHlwZW9mIHN1YnJlc3BvbnNlRmllbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGJ5dGVMZW5ndGhGdW5jdGlvbiA9IHN1YnJlc3BvbnNlRmllbGQ7XG4gICAgICAgICAgICBzdWJyZXNwb25zZUZpZWxkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1bmRsZWRGaWVsZCA9IGJ1bmRsZWRGaWVsZDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkcyA9XG4gICAgICAgICAgICByZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkcy5tYXAodXRpbF8xLnRvQ2FtZWxDYXNlKTtcbiAgICAgICAgdGhpcy5zdWJyZXNwb25zZUZpZWxkID0gc3VicmVzcG9uc2VGaWVsZDtcbiAgICAgICAgdGhpcy5ieXRlTGVuZ3RoRnVuY3Rpb24gPSBieXRlTGVuZ3RoRnVuY3Rpb247XG4gICAgfVxuICAgIGdldEFwaUNhbGxlcihzZXR0aW5ncykge1xuICAgICAgICBpZiAoc2V0dGluZ3MuaXNCdW5kbGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbm9ybWFsQXBpQ2FsbGVyXzEuTm9ybWFsQXBpQ2FsbGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBidW5kbGVBcGlDYWxsZXJfMS5CdW5kbGVBcGlDYWxsZXIobmV3IGJ1bmRsZUV4ZWN1dG9yXzEuQnVuZGxlRXhlY3V0b3Ioc2V0dGluZ3MuYnVuZGxlT3B0aW9ucywgdGhpcykpO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVuZGxlRGVzY3JpcHRvciA9IEJ1bmRsZURlc2NyaXB0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idW5kbGVEZXNjcmlwdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js":
/*!***************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleExecutor = void 0;\nconst status_1 = __webpack_require__(/*! ../status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nconst warnings_1 = __webpack_require__(/*! ../warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nconst bundlingUtils_1 = __webpack_require__(/*! ./bundlingUtils */ \"(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js\");\nconst task_1 = __webpack_require__(/*! ./task */ \"(rsc)/./node_modules/google-gax/build/src/bundlingCalls/task.js\");\nfunction noop() { }\n/**\n * BundleExecutor stores several timers for each bundle (calls are bundled based\n * on the options passed, each bundle has unique ID that is calculated based on\n * field values). Each timer fires and sends a call after certain amount of\n * time, and if a new request comes to the same bundle, the timer can be\n * restarted.\n */\nclass BundleExecutor {\n    /**\n     * Organizes requests for an api service that requires to bundle them.\n     *\n     * @param {BundleOptions} bundleOptions - configures strategy this instance\n     *   uses when executing bundled functions.\n     * @param {BundleDescriptor} bundleDescriptor - the description of the bundling.\n     * @constructor\n     */\n    constructor(bundleOptions, bundleDescriptor) {\n        this._options = bundleOptions;\n        this._descriptor = bundleDescriptor;\n        this._tasks = {};\n        this._timers = {};\n        this._invocations = {};\n        this._invocationId = 0;\n    }\n    /**\n     * Schedule a method call.\n     *\n     * @param {function} apiCall - the function for an API call.\n     * @param {Object} request - the request object to be bundled with others.\n     * @param {APICallback} callback - the callback to be called when the method finished.\n     * @return {function()} - the function to cancel the scheduled invocation.\n     */\n    schedule(apiCall, request, callback) {\n        const bundleId = (0, bundlingUtils_1.computeBundleId)(request, this._descriptor.requestDiscriminatorFields);\n        callback = (callback || noop);\n        if (bundleId === undefined) {\n            (0, warnings_1.warn)('bundling_schedule_bundleid_undefined', 'The request does not have enough information for request bundling. ' +\n                `Invoking immediately. Request: ${JSON.stringify(request)} ` +\n                `discriminator fields: ${this._descriptor.requestDiscriminatorFields}`);\n            return apiCall(request, callback);\n        }\n        if (request[this._descriptor.bundledField] === undefined) {\n            (0, warnings_1.warn)('bundling_no_bundled_field', `Request does not contain field ${this._descriptor.bundledField} that must present for bundling. ` +\n                `Invoking immediately. Request: ${JSON.stringify(request)}`);\n            return apiCall(request, callback);\n        }\n        if (!(bundleId in this._tasks)) {\n            this._tasks[bundleId] = new task_1.Task(apiCall, request, this._descriptor.bundledField, this._descriptor.subresponseField);\n        }\n        let task = this._tasks[bundleId];\n        callback.id = String(this._invocationId++);\n        this._invocations[callback.id] = bundleId;\n        const bundledField = request[this._descriptor.bundledField];\n        const elementCount = bundledField.length;\n        let requestBytes = 0;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        bundledField.forEach(obj => {\n            requestBytes += this._descriptor.byteLengthFunction(obj);\n        });\n        const countLimit = this._options.elementCountLimit || 0;\n        const byteLimit = this._options.requestByteLimit || 0;\n        if ((countLimit > 0 && elementCount > countLimit) ||\n            (byteLimit > 0 && requestBytes >= byteLimit)) {\n            let message;\n            if (countLimit > 0 && elementCount > countLimit) {\n                message =\n                    'The number of elements ' +\n                        elementCount +\n                        ' exceeds the limit ' +\n                        this._options.elementCountLimit;\n            }\n            else {\n                message =\n                    'The required bytes ' +\n                        requestBytes +\n                        ' exceeds the limit ' +\n                        this._options.requestByteLimit;\n            }\n            const error = new googleError_1.GoogleError(message);\n            error.code = status_1.Status.INVALID_ARGUMENT;\n            callback(error);\n            return {\n                cancel: noop,\n            };\n        }\n        const existingCount = task.getElementCount();\n        const existingBytes = task.getRequestByteSize();\n        if ((countLimit > 0 && elementCount + existingCount >= countLimit) ||\n            (byteLimit > 0 && requestBytes + existingBytes >= byteLimit)) {\n            this._runNow(bundleId);\n            this._tasks[bundleId] = new task_1.Task(apiCall, request, this._descriptor.bundledField, this._descriptor.subresponseField);\n            task = this._tasks[bundleId];\n        }\n        task.extend(bundledField, requestBytes, callback);\n        const ret = {\n            cancel() {\n                self._cancel(callback.id);\n            },\n        };\n        const countThreshold = this._options.elementCountThreshold || 0;\n        const sizeThreshold = this._options.requestByteThreshold || 0;\n        if ((countThreshold > 0 && task.getElementCount() >= countThreshold) ||\n            (sizeThreshold > 0 && task.getRequestByteSize() >= sizeThreshold)) {\n            this._runNow(bundleId);\n            return ret;\n        }\n        if (!(bundleId in this._timers) && this._options.delayThreshold > 0) {\n            this._timers[bundleId] = setTimeout(() => {\n                delete this._timers[bundleId];\n                this._runNow(bundleId);\n            }, this._options.delayThreshold);\n        }\n        return ret;\n    }\n    /**\n     * Clears scheduled timeout if it exists.\n     *\n     * @param {String} bundleId - the id for the task whose timeout needs to be\n     *   cleared.\n     * @private\n     */\n    _maybeClearTimeout(bundleId) {\n        if (bundleId in this._timers) {\n            const timerId = this._timers[bundleId];\n            delete this._timers[bundleId];\n            clearTimeout(timerId);\n        }\n    }\n    /**\n     * Cancels an event.\n     *\n     * @param {String} id - The id for the event in the task.\n     * @private\n     */\n    _cancel(id) {\n        if (!(id in this._invocations)) {\n            return;\n        }\n        const bundleId = this._invocations[id];\n        if (!(bundleId in this._tasks)) {\n            return;\n        }\n        const task = this._tasks[bundleId];\n        delete this._invocations[id];\n        if (task.cancel(id)) {\n            this._maybeClearTimeout(bundleId);\n            delete this._tasks[bundleId];\n        }\n    }\n    /**\n     * Invokes a task.\n     *\n     * @param {String} bundleId - The id for the task.\n     * @private\n     */\n    _runNow(bundleId) {\n        if (!(bundleId in this._tasks)) {\n            (0, warnings_1.warn)('bundle_runnow_bundleid_unknown', `No such bundleid: ${bundleId}`);\n            return;\n        }\n        this._maybeClearTimeout(bundleId);\n        const task = this._tasks[bundleId];\n        delete this._tasks[bundleId];\n        task.run().forEach(id => {\n            delete this._invocations[id];\n        });\n    }\n}\nexports.BundleExecutor = BundleExecutor;\n//# sourceMappingURL=bundleExecutor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGVFeGVjdXRvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQkFBc0I7QUFDdEIsaUJBQWlCLG1CQUFPLENBQUMsc0VBQVc7QUFDcEMsc0JBQXNCLG1CQUFPLENBQUMsZ0ZBQWdCO0FBQzlDLG1CQUFtQixtQkFBTyxDQUFDLDBFQUFhO0FBQ3hDLHdCQUF3QixtQkFBTyxDQUFDLGlHQUFpQjtBQUNqRCxlQUFlLG1CQUFPLENBQUMsK0VBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsYUFBYTtBQUM1QixnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QseUJBQXlCO0FBQzNFLHlDQUF5Qyw0Q0FBNEM7QUFDckY7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHLCtCQUErQjtBQUMvSCxrREFBa0Qsd0JBQXdCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RixTQUFTO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGVFeGVjdXRvci5qcz8zY2ZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CdW5kbGVFeGVjdXRvciA9IHZvaWQgMDtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4uL3N0YXR1c1wiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vZ29vZ2xlRXJyb3JcIik7XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4uL3dhcm5pbmdzXCIpO1xuY29uc3QgYnVuZGxpbmdVdGlsc18xID0gcmVxdWlyZShcIi4vYnVuZGxpbmdVdGlsc1wiKTtcbmNvbnN0IHRhc2tfMSA9IHJlcXVpcmUoXCIuL3Rhc2tcIik7XG5mdW5jdGlvbiBub29wKCkgeyB9XG4vKipcbiAqIEJ1bmRsZUV4ZWN1dG9yIHN0b3JlcyBzZXZlcmFsIHRpbWVycyBmb3IgZWFjaCBidW5kbGUgKGNhbGxzIGFyZSBidW5kbGVkIGJhc2VkXG4gKiBvbiB0aGUgb3B0aW9ucyBwYXNzZWQsIGVhY2ggYnVuZGxlIGhhcyB1bmlxdWUgSUQgdGhhdCBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uXG4gKiBmaWVsZCB2YWx1ZXMpLiBFYWNoIHRpbWVyIGZpcmVzIGFuZCBzZW5kcyBhIGNhbGwgYWZ0ZXIgY2VydGFpbiBhbW91bnQgb2ZcbiAqIHRpbWUsIGFuZCBpZiBhIG5ldyByZXF1ZXN0IGNvbWVzIHRvIHRoZSBzYW1lIGJ1bmRsZSwgdGhlIHRpbWVyIGNhbiBiZVxuICogcmVzdGFydGVkLlxuICovXG5jbGFzcyBCdW5kbGVFeGVjdXRvciB7XG4gICAgLyoqXG4gICAgICogT3JnYW5pemVzIHJlcXVlc3RzIGZvciBhbiBhcGkgc2VydmljZSB0aGF0IHJlcXVpcmVzIHRvIGJ1bmRsZSB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCdW5kbGVPcHRpb25zfSBidW5kbGVPcHRpb25zIC0gY29uZmlndXJlcyBzdHJhdGVneSB0aGlzIGluc3RhbmNlXG4gICAgICogICB1c2VzIHdoZW4gZXhlY3V0aW5nIGJ1bmRsZWQgZnVuY3Rpb25zLlxuICAgICAqIEBwYXJhbSB7QnVuZGxlRGVzY3JpcHRvcn0gYnVuZGxlRGVzY3JpcHRvciAtIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVuZGxpbmcuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVuZGxlT3B0aW9ucywgYnVuZGxlRGVzY3JpcHRvcikge1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gYnVuZGxlT3B0aW9ucztcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRvciA9IGJ1bmRsZURlc2NyaXB0b3I7XG4gICAgICAgIHRoaXMuX3Rhc2tzID0ge307XG4gICAgICAgIHRoaXMuX3RpbWVycyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnZvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnZvY2F0aW9uSWQgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhIG1ldGhvZCBjYWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gYXBpQ2FsbCAtIHRoZSBmdW5jdGlvbiBmb3IgYW4gQVBJIGNhbGwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgLSB0aGUgcmVxdWVzdCBvYmplY3QgdG8gYmUgYnVuZGxlZCB3aXRoIG90aGVycy5cbiAgICAgKiBAcGFyYW0ge0FQSUNhbGxiYWNrfSBjYWxsYmFjayAtIHRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2hlbiB0aGUgbWV0aG9kIGZpbmlzaGVkLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKCl9IC0gdGhlIGZ1bmN0aW9uIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIGludm9jYXRpb24uXG4gICAgICovXG4gICAgc2NoZWR1bGUoYXBpQ2FsbCwgcmVxdWVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgYnVuZGxlSWQgPSAoMCwgYnVuZGxpbmdVdGlsc18xLmNvbXB1dGVCdW5kbGVJZCkocmVxdWVzdCwgdGhpcy5fZGVzY3JpcHRvci5yZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkcyk7XG4gICAgICAgIGNhbGxiYWNrID0gKGNhbGxiYWNrIHx8IG5vb3ApO1xuICAgICAgICBpZiAoYnVuZGxlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ2J1bmRsaW5nX3NjaGVkdWxlX2J1bmRsZWlkX3VuZGVmaW5lZCcsICdUaGUgcmVxdWVzdCBkb2VzIG5vdCBoYXZlIGVub3VnaCBpbmZvcm1hdGlvbiBmb3IgcmVxdWVzdCBidW5kbGluZy4gJyArXG4gICAgICAgICAgICAgICAgYEludm9raW5nIGltbWVkaWF0ZWx5LiBSZXF1ZXN0OiAke0pTT04uc3RyaW5naWZ5KHJlcXVlc3QpfSBgICtcbiAgICAgICAgICAgICAgICBgZGlzY3JpbWluYXRvciBmaWVsZHM6ICR7dGhpcy5fZGVzY3JpcHRvci5yZXF1ZXN0RGlzY3JpbWluYXRvckZpZWxkc31gKTtcbiAgICAgICAgICAgIHJldHVybiBhcGlDYWxsKHJlcXVlc3QsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdFt0aGlzLl9kZXNjcmlwdG9yLmJ1bmRsZWRGaWVsZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ2J1bmRsaW5nX25vX2J1bmRsZWRfZmllbGQnLCBgUmVxdWVzdCBkb2VzIG5vdCBjb250YWluIGZpZWxkICR7dGhpcy5fZGVzY3JpcHRvci5idW5kbGVkRmllbGR9IHRoYXQgbXVzdCBwcmVzZW50IGZvciBidW5kbGluZy4gYCArXG4gICAgICAgICAgICAgICAgYEludm9raW5nIGltbWVkaWF0ZWx5LiBSZXF1ZXN0OiAke0pTT04uc3RyaW5naWZ5KHJlcXVlc3QpfWApO1xuICAgICAgICAgICAgcmV0dXJuIGFwaUNhbGwocmVxdWVzdCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGJ1bmRsZUlkIGluIHRoaXMuX3Rhc2tzKSkge1xuICAgICAgICAgICAgdGhpcy5fdGFza3NbYnVuZGxlSWRdID0gbmV3IHRhc2tfMS5UYXNrKGFwaUNhbGwsIHJlcXVlc3QsIHRoaXMuX2Rlc2NyaXB0b3IuYnVuZGxlZEZpZWxkLCB0aGlzLl9kZXNjcmlwdG9yLnN1YnJlc3BvbnNlRmllbGQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YXNrID0gdGhpcy5fdGFza3NbYnVuZGxlSWRdO1xuICAgICAgICBjYWxsYmFjay5pZCA9IFN0cmluZyh0aGlzLl9pbnZvY2F0aW9uSWQrKyk7XG4gICAgICAgIHRoaXMuX2ludm9jYXRpb25zW2NhbGxiYWNrLmlkXSA9IGJ1bmRsZUlkO1xuICAgICAgICBjb25zdCBidW5kbGVkRmllbGQgPSByZXF1ZXN0W3RoaXMuX2Rlc2NyaXB0b3IuYnVuZGxlZEZpZWxkXTtcbiAgICAgICAgY29uc3QgZWxlbWVudENvdW50ID0gYnVuZGxlZEZpZWxkLmxlbmd0aDtcbiAgICAgICAgbGV0IHJlcXVlc3RCeXRlcyA9IDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgYnVuZGxlZEZpZWxkLmZvckVhY2gob2JqID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3RCeXRlcyArPSB0aGlzLl9kZXNjcmlwdG9yLmJ5dGVMZW5ndGhGdW5jdGlvbihvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY291bnRMaW1pdCA9IHRoaXMuX29wdGlvbnMuZWxlbWVudENvdW50TGltaXQgfHwgMDtcbiAgICAgICAgY29uc3QgYnl0ZUxpbWl0ID0gdGhpcy5fb3B0aW9ucy5yZXF1ZXN0Qnl0ZUxpbWl0IHx8IDA7XG4gICAgICAgIGlmICgoY291bnRMaW1pdCA+IDAgJiYgZWxlbWVudENvdW50ID4gY291bnRMaW1pdCkgfHxcbiAgICAgICAgICAgIChieXRlTGltaXQgPiAwICYmIHJlcXVlc3RCeXRlcyA+PSBieXRlTGltaXQpKSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChjb3VudExpbWl0ID4gMCAmJiBlbGVtZW50Q291bnQgPiBjb3VudExpbWl0KSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICdUaGUgbnVtYmVyIG9mIGVsZW1lbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudENvdW50ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgZXhjZWVkcyB0aGUgbGltaXQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zLmVsZW1lbnRDb3VudExpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICdUaGUgcmVxdWlyZWQgYnl0ZXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Qnl0ZXMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBleGNlZWRzIHRoZSBsaW1pdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMucmVxdWVzdEJ5dGVMaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLklOVkFMSURfQVJHVU1FTlQ7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhbmNlbDogbm9vcCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb3VudCA9IHRhc2suZ2V0RWxlbWVudENvdW50KCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQnl0ZXMgPSB0YXNrLmdldFJlcXVlc3RCeXRlU2l6ZSgpO1xuICAgICAgICBpZiAoKGNvdW50TGltaXQgPiAwICYmIGVsZW1lbnRDb3VudCArIGV4aXN0aW5nQ291bnQgPj0gY291bnRMaW1pdCkgfHxcbiAgICAgICAgICAgIChieXRlTGltaXQgPiAwICYmIHJlcXVlc3RCeXRlcyArIGV4aXN0aW5nQnl0ZXMgPj0gYnl0ZUxpbWl0KSkge1xuICAgICAgICAgICAgdGhpcy5fcnVuTm93KGJ1bmRsZUlkKTtcbiAgICAgICAgICAgIHRoaXMuX3Rhc2tzW2J1bmRsZUlkXSA9IG5ldyB0YXNrXzEuVGFzayhhcGlDYWxsLCByZXF1ZXN0LCB0aGlzLl9kZXNjcmlwdG9yLmJ1bmRsZWRGaWVsZCwgdGhpcy5fZGVzY3JpcHRvci5zdWJyZXNwb25zZUZpZWxkKTtcbiAgICAgICAgICAgIHRhc2sgPSB0aGlzLl90YXNrc1tidW5kbGVJZF07XG4gICAgICAgIH1cbiAgICAgICAgdGFzay5leHRlbmQoYnVuZGxlZEZpZWxkLCByZXF1ZXN0Qnl0ZXMsIGNhbGxiYWNrKTtcbiAgICAgICAgY29uc3QgcmV0ID0ge1xuICAgICAgICAgICAgY2FuY2VsKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2NhbmNlbChjYWxsYmFjay5pZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb3VudFRocmVzaG9sZCA9IHRoaXMuX29wdGlvbnMuZWxlbWVudENvdW50VGhyZXNob2xkIHx8IDA7XG4gICAgICAgIGNvbnN0IHNpemVUaHJlc2hvbGQgPSB0aGlzLl9vcHRpb25zLnJlcXVlc3RCeXRlVGhyZXNob2xkIHx8IDA7XG4gICAgICAgIGlmICgoY291bnRUaHJlc2hvbGQgPiAwICYmIHRhc2suZ2V0RWxlbWVudENvdW50KCkgPj0gY291bnRUaHJlc2hvbGQpIHx8XG4gICAgICAgICAgICAoc2l6ZVRocmVzaG9sZCA+IDAgJiYgdGFzay5nZXRSZXF1ZXN0Qnl0ZVNpemUoKSA+PSBzaXplVGhyZXNob2xkKSkge1xuICAgICAgICAgICAgdGhpcy5fcnVuTm93KGJ1bmRsZUlkKTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoYnVuZGxlSWQgaW4gdGhpcy5fdGltZXJzKSAmJiB0aGlzLl9vcHRpb25zLmRlbGF5VGhyZXNob2xkID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fdGltZXJzW2J1bmRsZUlkXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90aW1lcnNbYnVuZGxlSWRdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3J1bk5vdyhidW5kbGVJZCk7XG4gICAgICAgICAgICB9LCB0aGlzLl9vcHRpb25zLmRlbGF5VGhyZXNob2xkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgc2NoZWR1bGVkIHRpbWVvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJ1bmRsZUlkIC0gdGhlIGlkIGZvciB0aGUgdGFzayB3aG9zZSB0aW1lb3V0IG5lZWRzIHRvIGJlXG4gICAgICogICBjbGVhcmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21heWJlQ2xlYXJUaW1lb3V0KGJ1bmRsZUlkKSB7XG4gICAgICAgIGlmIChidW5kbGVJZCBpbiB0aGlzLl90aW1lcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVySWQgPSB0aGlzLl90aW1lcnNbYnVuZGxlSWRdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVyc1tidW5kbGVJZF07XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbiBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIFRoZSBpZCBmb3IgdGhlIGV2ZW50IGluIHRoZSB0YXNrLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NhbmNlbChpZCkge1xuICAgICAgICBpZiAoIShpZCBpbiB0aGlzLl9pbnZvY2F0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidW5kbGVJZCA9IHRoaXMuX2ludm9jYXRpb25zW2lkXTtcbiAgICAgICAgaWYgKCEoYnVuZGxlSWQgaW4gdGhpcy5fdGFza3MpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFzayA9IHRoaXMuX3Rhc2tzW2J1bmRsZUlkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2ludm9jYXRpb25zW2lkXTtcbiAgICAgICAgaWYgKHRhc2suY2FuY2VsKGlkKSkge1xuICAgICAgICAgICAgdGhpcy5fbWF5YmVDbGVhclRpbWVvdXQoYnVuZGxlSWQpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Rhc2tzW2J1bmRsZUlkXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGEgdGFzay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBidW5kbGVJZCAtIFRoZSBpZCBmb3IgdGhlIHRhc2suXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcnVuTm93KGJ1bmRsZUlkKSB7XG4gICAgICAgIGlmICghKGJ1bmRsZUlkIGluIHRoaXMuX3Rhc2tzKSkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ2J1bmRsZV9ydW5ub3dfYnVuZGxlaWRfdW5rbm93bicsIGBObyBzdWNoIGJ1bmRsZWlkOiAke2J1bmRsZUlkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heWJlQ2xlYXJUaW1lb3V0KGJ1bmRsZUlkKTtcbiAgICAgICAgY29uc3QgdGFzayA9IHRoaXMuX3Rhc2tzW2J1bmRsZUlkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Rhc2tzW2J1bmRsZUlkXTtcbiAgICAgICAgdGFzay5ydW4oKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pbnZvY2F0aW9uc1tpZF07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVuZGxlRXhlY3V0b3IgPSBCdW5kbGVFeGVjdXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsZUV4ZWN1dG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleExecutor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.computeBundleId = computeBundleId;\n/**\n * Compute the identifier of the `obj`. The objects of the same ID\n * will be bundled together.\n *\n * @param {RequestType} obj - The request object.\n * @param {String[]} discriminatorFields - The array of field names.\n *   A field name may include '.' as a separator, which is used to\n *   indicate object traversal.\n * @return {String|undefined} - the identifier string, or undefined if any\n *   discriminator fields do not exist.\n */\nfunction computeBundleId(obj, discriminatorFields) {\n    const ids = [];\n    let hasIds = false;\n    for (const field of discriminatorFields) {\n        const id = at(obj, field);\n        if (id === undefined) {\n            ids.push(null);\n        }\n        else {\n            hasIds = true;\n            ids.push(id);\n        }\n    }\n    if (!hasIds) {\n        return undefined;\n    }\n    return JSON.stringify(ids);\n}\n/**\n * Given an object field path that may contain dots, dig into the obj and find\n * the value at the given path.\n * @example\n * const obj = {\n *   a: {\n *     b: 5\n *   }\n * }\n * const id = at(obj, 'a.b');\n * // id = 5\n * @param field Path to the property with `.` notation\n * @param obj The object to traverse\n * @returns the value at the given path\n */\nfunction at(obj, field) {\n    const pathParts = field.split('.');\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let currentObj = obj;\n    for (const pathPart of pathParts) {\n        currentObj = currentObj === null || currentObj === void 0 ? void 0 : currentObj[pathPart];\n    }\n    return currentObj;\n}\n//# sourceMappingURL=bundlingUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy9idW5kbGluZ1V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBLFlBQVksa0JBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL2J1bmRsaW5nVXRpbHMuanM/MTYxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29tcHV0ZUJ1bmRsZUlkID0gY29tcHV0ZUJ1bmRsZUlkO1xuLyoqXG4gKiBDb21wdXRlIHRoZSBpZGVudGlmaWVyIG9mIHRoZSBgb2JqYC4gVGhlIG9iamVjdHMgb2YgdGhlIHNhbWUgSURcbiAqIHdpbGwgYmUgYnVuZGxlZCB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge1JlcXVlc3RUeXBlfSBvYmogLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gKiBAcGFyYW0ge1N0cmluZ1tdfSBkaXNjcmltaW5hdG9yRmllbGRzIC0gVGhlIGFycmF5IG9mIGZpZWxkIG5hbWVzLlxuICogICBBIGZpZWxkIG5hbWUgbWF5IGluY2x1ZGUgJy4nIGFzIGEgc2VwYXJhdG9yLCB3aGljaCBpcyB1c2VkIHRvXG4gKiAgIGluZGljYXRlIG9iamVjdCB0cmF2ZXJzYWwuXG4gKiBAcmV0dXJuIHtTdHJpbmd8dW5kZWZpbmVkfSAtIHRoZSBpZGVudGlmaWVyIHN0cmluZywgb3IgdW5kZWZpbmVkIGlmIGFueVxuICogICBkaXNjcmltaW5hdG9yIGZpZWxkcyBkbyBub3QgZXhpc3QuXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVCdW5kbGVJZChvYmosIGRpc2NyaW1pbmF0b3JGaWVsZHMpIHtcbiAgICBjb25zdCBpZHMgPSBbXTtcbiAgICBsZXQgaGFzSWRzID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBkaXNjcmltaW5hdG9yRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGlkID0gYXQob2JqLCBmaWVsZCk7XG4gICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZHMucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhc0lkcyA9IHRydWU7XG4gICAgICAgICAgICBpZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFoYXNJZHMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGlkcyk7XG59XG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCBmaWVsZCBwYXRoIHRoYXQgbWF5IGNvbnRhaW4gZG90cywgZGlnIGludG8gdGhlIG9iaiBhbmQgZmluZFxuICogdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoLlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9iaiA9IHtcbiAqICAgYToge1xuICogICAgIGI6IDVcbiAqICAgfVxuICogfVxuICogY29uc3QgaWQgPSBhdChvYmosICdhLmInKTtcbiAqIC8vIGlkID0gNVxuICogQHBhcmFtIGZpZWxkIFBhdGggdG8gdGhlIHByb3BlcnR5IHdpdGggYC5gIG5vdGF0aW9uXG4gKiBAcGFyYW0gb2JqIFRoZSBvYmplY3QgdG8gdHJhdmVyc2VcbiAqIEByZXR1cm5zIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcGF0aFxuICovXG5mdW5jdGlvbiBhdChvYmosIGZpZWxkKSB7XG4gICAgY29uc3QgcGF0aFBhcnRzID0gZmllbGQuc3BsaXQoJy4nKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBjdXJyZW50T2JqID0gb2JqO1xuICAgIGZvciAoY29uc3QgcGF0aFBhcnQgb2YgcGF0aFBhcnRzKSB7XG4gICAgICAgIGN1cnJlbnRPYmogPSBjdXJyZW50T2JqID09PSBudWxsIHx8IGN1cnJlbnRPYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRPYmpbcGF0aFBhcnRdO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudE9iajtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1bmRsaW5nVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundlingUtils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/bundlingCalls/task.js":
/*!*****************************************************************!*\
  !*** ./node_modules/google-gax/build/src/bundlingCalls/task.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Task = void 0;\nexports.deepCopyForResponse = deepCopyForResponse;\nconst status_1 = __webpack_require__(/*! ../status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\n/**\n * Creates a deep copy of the object with the consideration of subresponse\n * fields for bundling.\n *\n * @param {Object} obj - The source object.\n * @param {Object?} subresponseInfo - The information to copy the subset of\n *   the field for the response. Do nothing if it's null.\n * @param {String} subresponseInfo.field - The field name.\n * @param {number} subresponseInfo.start - The offset where the copying\n *   element should starts with.\n * @param {number} subresponseInfo.end - The ending index where the copying\n *   region of the elements ends.\n * @return {Object} The copied object.\n * @private\n */\nfunction deepCopyForResponse(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nobj, subresponseInfo) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let result;\n    if (obj === null) {\n        return null;\n    }\n    if (obj === undefined) {\n        return undefined;\n    }\n    if (Array.isArray(obj)) {\n        result = [];\n        obj.forEach(element => {\n            result.push(deepCopyForResponse(element, null));\n        });\n        return result;\n    }\n    // Some objects (such as ByteBuffer) have copy method.\n    if (obj.copy !== undefined) {\n        return obj.copy();\n    }\n    // ArrayBuffer should be copied through slice().\n    if (obj instanceof ArrayBuffer) {\n        return obj.slice(0);\n    }\n    if (typeof obj === 'object') {\n        result = {};\n        Object.keys(obj).forEach(key => {\n            if (subresponseInfo &&\n                key === subresponseInfo.field &&\n                Array.isArray(obj[key])) {\n                // Note that subresponses are not deep-copied. This is safe because\n                // those subresponses are not shared among callbacks.\n                result[key] = obj[key].slice(subresponseInfo.start, subresponseInfo.end);\n            }\n            else {\n                result[key] = deepCopyForResponse(obj[key], null);\n            }\n        });\n        return result;\n    }\n    return obj;\n}\nclass Task {\n    /**\n     * A task coordinates the execution of a single bundle.\n     *\n     * @param {function} apiCall - The function to conduct calling API.\n     * @param {Object} bundlingRequest - The base request object to be used\n     *   for the actual API call.\n     * @param {string} bundledField - The name of the field in bundlingRequest\n     *   to be bundled.\n     * @param {string=} subresponseField - The name of the field in the response\n     *   to be passed to the callback.\n     * @constructor\n     * @private\n     */\n    constructor(apiCall, bundlingRequest, bundledField, subresponseField) {\n        this._apiCall = apiCall;\n        this._request = bundlingRequest;\n        this._bundledField = bundledField;\n        this._subresponseField = subresponseField;\n        this._data = [];\n    }\n    /**\n     * Returns the number of elements in a task.\n     * @return {number} The number of elements.\n     */\n    getElementCount() {\n        let count = 0;\n        for (let i = 0; i < this._data.length; ++i) {\n            count += this._data[i].elements.length;\n        }\n        return count;\n    }\n    /**\n     * Returns the total byte size of the elements in a task.\n     * @return {number} The byte size.\n     */\n    getRequestByteSize() {\n        let size = 0;\n        for (let i = 0; i < this._data.length; ++i) {\n            size += this._data[i].bytes;\n        }\n        return size;\n    }\n    /**\n     * Invokes the actual API call with current elements.\n     * @return {string[]} - the list of ids for invocations to be run.\n     */\n    run() {\n        if (this._data.length === 0) {\n            return [];\n        }\n        const request = this._request;\n        const elements = [];\n        const ids = [];\n        for (let i = 0; i < this._data.length; ++i) {\n            elements.push(...this._data[i].elements);\n            ids.push(this._data[i].callback.id);\n        }\n        request[this._bundledField] = elements;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        this.callCanceller = this._apiCall(request, (err, response) => {\n            const responses = [];\n            if (err) {\n                self._data.forEach(() => {\n                    responses.push(undefined);\n                });\n            }\n            else {\n                let subresponseInfo = null;\n                if (self._subresponseField) {\n                    subresponseInfo = {\n                        field: self._subresponseField,\n                        start: 0,\n                    };\n                }\n                self._data.forEach(data => {\n                    if (subresponseInfo) {\n                        subresponseInfo.end =\n                            subresponseInfo.start + data.elements.length;\n                    }\n                    responses.push(deepCopyForResponse(response, subresponseInfo));\n                    if (subresponseInfo) {\n                        subresponseInfo.start = subresponseInfo.end;\n                    }\n                });\n            }\n            for (let i = 0; i < self._data.length; ++i) {\n                if (self._data[i].cancelled) {\n                    const error = new googleError_1.GoogleError('cancelled');\n                    error.code = status_1.Status.CANCELLED;\n                    self._data[i].callback(error);\n                }\n                else {\n                    self._data[i].callback(err, responses[i]);\n                }\n            }\n        });\n        return ids;\n    }\n    /**\n     * Appends the list of elements into the task.\n     * @param {Object[]} elements - the new list of elements.\n     * @param {number} bytes - the byte size required to encode elements in the API.\n     * @param {APICallback} callback - the callback of the method call.\n     */\n    extend(elements, bytes, callback) {\n        this._data.push({\n            elements,\n            bytes,\n            callback,\n        });\n    }\n    /**\n     * Cancels a part of elements.\n     * @param {string} id - The identifier of the part of elements.\n     * @return {boolean} Whether the entire task will be canceled or not.\n     */\n    cancel(id) {\n        if (this.callCanceller) {\n            let allCancelled = true;\n            this._data.forEach(d => {\n                if (d.callback.id === id) {\n                    d.cancelled = true;\n                }\n                if (!d.cancelled) {\n                    allCancelled = false;\n                }\n            });\n            if (allCancelled) {\n                this.callCanceller.cancel();\n            }\n            return allCancelled;\n        }\n        for (let i = 0; i < this._data.length; ++i) {\n            if (this._data[i].callback.id === id) {\n                const error = new googleError_1.GoogleError('cancelled');\n                error.code = status_1.Status.CANCELLED;\n                this._data[i].callback(error);\n                this._data.splice(i, 1);\n                break;\n            }\n        }\n        return this._data.length === 0;\n    }\n}\nexports.Task = Task;\n//# sourceMappingURL=task.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvYnVuZGxpbmdDYWxscy90YXNrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELFlBQVk7QUFDWiwyQkFBMkI7QUFDM0IsaUJBQWlCLG1CQUFPLENBQUMsc0VBQVc7QUFDcEMsc0JBQXNCLG1CQUFPLENBQUMsZ0ZBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9idW5kbGluZ0NhbGxzL3Rhc2suanM/NmJmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGFzayA9IHZvaWQgMDtcbmV4cG9ydHMuZGVlcENvcHlGb3JSZXNwb25zZSA9IGRlZXBDb3B5Rm9yUmVzcG9uc2U7XG5jb25zdCBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuLi9zdGF0dXNcIik7XG5jb25zdCBnb29nbGVFcnJvcl8xID0gcmVxdWlyZShcIi4uL2dvb2dsZUVycm9yXCIpO1xuLyoqXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aCB0aGUgY29uc2lkZXJhdGlvbiBvZiBzdWJyZXNwb25zZVxuICogZmllbGRzIGZvciBidW5kbGluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdD99IHN1YnJlc3BvbnNlSW5mbyAtIFRoZSBpbmZvcm1hdGlvbiB0byBjb3B5IHRoZSBzdWJzZXQgb2ZcbiAqICAgdGhlIGZpZWxkIGZvciB0aGUgcmVzcG9uc2UuIERvIG5vdGhpbmcgaWYgaXQncyBudWxsLlxuICogQHBhcmFtIHtTdHJpbmd9IHN1YnJlc3BvbnNlSW5mby5maWVsZCAtIFRoZSBmaWVsZCBuYW1lLlxuICogQHBhcmFtIHtudW1iZXJ9IHN1YnJlc3BvbnNlSW5mby5zdGFydCAtIFRoZSBvZmZzZXQgd2hlcmUgdGhlIGNvcHlpbmdcbiAqICAgZWxlbWVudCBzaG91bGQgc3RhcnRzIHdpdGguXG4gKiBAcGFyYW0ge251bWJlcn0gc3VicmVzcG9uc2VJbmZvLmVuZCAtIFRoZSBlbmRpbmcgaW5kZXggd2hlcmUgdGhlIGNvcHlpbmdcbiAqICAgcmVnaW9uIG9mIHRoZSBlbGVtZW50cyBlbmRzLlxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29waWVkIG9iamVjdC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5Rm9yUmVzcG9uc2UoXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxub2JqLCBzdWJyZXNwb25zZUluZm8pIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIG9iai5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZGVlcENvcHlGb3JSZXNwb25zZShlbGVtZW50LCBudWxsKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBTb21lIG9iamVjdHMgKHN1Y2ggYXMgQnl0ZUJ1ZmZlcikgaGF2ZSBjb3B5IG1ldGhvZC5cbiAgICBpZiAob2JqLmNvcHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gb2JqLmNvcHkoKTtcbiAgICB9XG4gICAgLy8gQXJyYXlCdWZmZXIgc2hvdWxkIGJlIGNvcGllZCB0aHJvdWdoIHNsaWNlKCkuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBvYmouc2xpY2UoMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoc3VicmVzcG9uc2VJbmZvICYmXG4gICAgICAgICAgICAgICAga2V5ID09PSBzdWJyZXNwb25zZUluZm8uZmllbGQgJiZcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBzdWJyZXNwb25zZXMgYXJlIG5vdCBkZWVwLWNvcGllZC4gVGhpcyBpcyBzYWZlIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAvLyB0aG9zZSBzdWJyZXNwb25zZXMgYXJlIG5vdCBzaGFyZWQgYW1vbmcgY2FsbGJhY2tzLlxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV0uc2xpY2Uoc3VicmVzcG9uc2VJbmZvLnN0YXJ0LCBzdWJyZXNwb25zZUluZm8uZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVlcENvcHlGb3JSZXNwb25zZShvYmpba2V5XSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuY2xhc3MgVGFzayB7XG4gICAgLyoqXG4gICAgICogQSB0YXNrIGNvb3JkaW5hdGVzIHRoZSBleGVjdXRpb24gb2YgYSBzaW5nbGUgYnVuZGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gYXBpQ2FsbCAtIFRoZSBmdW5jdGlvbiB0byBjb25kdWN0IGNhbGxpbmcgQVBJLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBidW5kbGluZ1JlcXVlc3QgLSBUaGUgYmFzZSByZXF1ZXN0IG9iamVjdCB0byBiZSB1c2VkXG4gICAgICogICBmb3IgdGhlIGFjdHVhbCBBUEkgY2FsbC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVuZGxlZEZpZWxkIC0gVGhlIG5hbWUgb2YgdGhlIGZpZWxkIGluIGJ1bmRsaW5nUmVxdWVzdFxuICAgICAqICAgdG8gYmUgYnVuZGxlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHN1YnJlc3BvbnNlRmllbGQgLSBUaGUgbmFtZSBvZiB0aGUgZmllbGQgaW4gdGhlIHJlc3BvbnNlXG4gICAgICogICB0byBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBpQ2FsbCwgYnVuZGxpbmdSZXF1ZXN0LCBidW5kbGVkRmllbGQsIHN1YnJlc3BvbnNlRmllbGQpIHtcbiAgICAgICAgdGhpcy5fYXBpQ2FsbCA9IGFwaUNhbGw7XG4gICAgICAgIHRoaXMuX3JlcXVlc3QgPSBidW5kbGluZ1JlcXVlc3Q7XG4gICAgICAgIHRoaXMuX2J1bmRsZWRGaWVsZCA9IGJ1bmRsZWRGaWVsZDtcbiAgICAgICAgdGhpcy5fc3VicmVzcG9uc2VGaWVsZCA9IHN1YnJlc3BvbnNlRmllbGQ7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGEgdGFzay5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgZWxlbWVudHMuXG4gICAgICovXG4gICAgZ2V0RWxlbWVudENvdW50KCkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvdW50ICs9IHRoaXMuX2RhdGFbaV0uZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG90YWwgYnl0ZSBzaXplIG9mIHRoZSBlbGVtZW50cyBpbiBhIHRhc2suXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYnl0ZSBzaXplLlxuICAgICAqL1xuICAgIGdldFJlcXVlc3RCeXRlU2l6ZSgpIHtcbiAgICAgICAgbGV0IHNpemUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHNpemUgKz0gdGhpcy5fZGF0YVtpXS5ieXRlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgYWN0dWFsIEFQSSBjYWxsIHdpdGggY3VycmVudCBlbGVtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gLSB0aGUgbGlzdCBvZiBpZHMgZm9yIGludm9jYXRpb25zIHRvIGJlIHJ1bi5cbiAgICAgKi9cbiAgICBydW4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLl9yZXF1ZXN0O1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgICBjb25zdCBpZHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKC4uLnRoaXMuX2RhdGFbaV0uZWxlbWVudHMpO1xuICAgICAgICAgICAgaWRzLnB1c2godGhpcy5fZGF0YVtpXS5jYWxsYmFjay5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdFt0aGlzLl9idW5kbGVkRmllbGRdID0gZWxlbWVudHM7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5jYWxsQ2FuY2VsbGVyID0gdGhpcy5fYXBpQ2FsbChyZXF1ZXN0LCAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VzID0gW107XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZGF0YS5mb3JFYWNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBzdWJyZXNwb25zZUluZm8gPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9zdWJyZXNwb25zZUZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnJlc3BvbnNlSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzZWxmLl9zdWJyZXNwb25zZUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYuX2RhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnJlc3BvbnNlSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VicmVzcG9uc2VJbmZvLmVuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VicmVzcG9uc2VJbmZvLnN0YXJ0ICsgZGF0YS5lbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VzLnB1c2goZGVlcENvcHlGb3JSZXNwb25zZShyZXNwb25zZSwgc3VicmVzcG9uc2VJbmZvKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJyZXNwb25zZUluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnJlc3BvbnNlSW5mby5zdGFydCA9IHN1YnJlc3BvbnNlSW5mby5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZi5fZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl9kYXRhW2ldLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5DQU5DRUxMRUQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2RhdGFbaV0uY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGF0YVtpXS5jYWxsYmFjayhlcnIsIHJlc3BvbnNlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGUgbGlzdCBvZiBlbGVtZW50cyBpbnRvIHRoZSB0YXNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGVsZW1lbnRzIC0gdGhlIG5ldyBsaXN0IG9mIGVsZW1lbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBieXRlcyAtIHRoZSBieXRlIHNpemUgcmVxdWlyZWQgdG8gZW5jb2RlIGVsZW1lbnRzIGluIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtBUElDYWxsYmFja30gY2FsbGJhY2sgLSB0aGUgY2FsbGJhY2sgb2YgdGhlIG1ldGhvZCBjYWxsLlxuICAgICAqL1xuICAgIGV4dGVuZChlbGVtZW50cywgYnl0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2RhdGEucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgICAgIGJ5dGVzLFxuICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGEgcGFydCBvZiBlbGVtZW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgcGFydCBvZiBlbGVtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBlbnRpcmUgdGFzayB3aWxsIGJlIGNhbmNlbGVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICBjYW5jZWwoaWQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FsbENhbmNlbGxlcikge1xuICAgICAgICAgICAgbGV0IGFsbENhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGQuY2FsbGJhY2suaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICBhbGxDYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhbGxDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxDYW5jZWxsZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWxsQ2FuY2VsbGVkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGFbaV0uY2FsbGJhY2suaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5DQU5DRUxMRUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtpXS5jYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cbn1cbmV4cG9ydHMuVGFzayA9IFRhc2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXNrLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/bundlingCalls/task.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/call.js":
/*!***************************************************!*\
  !*** ./node_modules/google-gax/build/src/call.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OngoingCallPromise = exports.OngoingCall = void 0;\nconst status_1 = __webpack_require__(/*! ./status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ./googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nclass OngoingCall {\n    /**\n     * OngoingCall manages callback, API calls, and cancellation\n     * of the API calls.\n     * @param {APICallback=} callback\n     *   The callback to be called asynchronously when the API call\n     *   finishes.\n     * @constructor\n     * @property {APICallback} callback\n     *   The callback function to be called.\n     * @private\n     */\n    constructor(callback) {\n        this.callback = callback;\n        this.completed = false;\n    }\n    /**\n     * Cancels the ongoing promise.\n     */\n    cancel() {\n        if (this.completed) {\n            return;\n        }\n        this.completed = true;\n        if (this.cancelFunc) {\n            this.cancelFunc();\n        }\n        else {\n            const error = new googleError_1.GoogleError('cancelled');\n            error.code = status_1.Status.CANCELLED;\n            this.callback(error);\n        }\n    }\n    /**\n     * Call calls the specified function. Result will be used to fulfill\n     * the promise.\n     *\n     * @param {SimpleCallbackFunction} func\n     *   A function for an API call.\n     * @param {Object} argument\n     *   A request object.\n     */\n    call(func, argument) {\n        if (this.completed) {\n            return;\n        }\n        const canceller = func(argument, (err, response, next, rawResponse) => {\n            this.completed = true;\n            setImmediate(this.callback, err, response, next, rawResponse);\n        });\n        if (canceller instanceof Promise) {\n            canceller.catch(err => {\n                setImmediate(this.callback, new googleError_1.GoogleError(err), null, null, null);\n            });\n        }\n        this.cancelFunc = () => canceller.cancel();\n    }\n}\nexports.OngoingCall = OngoingCall;\nclass OngoingCallPromise extends OngoingCall {\n    /**\n     * GaxPromise is GRPCCallbackWrapper, but it holds a promise when\n     * the API call finishes.\n     * @constructor\n     * @private\n     */\n    constructor() {\n        let resolveCallback;\n        let rejectCallback;\n        const callback = (err, response, next, rawResponse) => {\n            if (err) {\n                // If gRPC metadata exist, parsed google.rpc.status details.\n                if (err.metadata) {\n                    rejectCallback(googleError_1.GoogleError.parseGRPCStatusDetails(err));\n                }\n                else {\n                    rejectCallback(err);\n                }\n            }\n            else if (response !== undefined) {\n                resolveCallback([response, next || null, rawResponse || null]);\n            }\n            else {\n                throw new googleError_1.GoogleError('Neither error nor response are defined');\n            }\n        };\n        const promise = new Promise((resolve, reject) => {\n            resolveCallback = resolve;\n            rejectCallback = reject;\n        });\n        super(callback);\n        this.promise = promise;\n        this.promise.cancel = () => {\n            this.cancel();\n        };\n    }\n}\nexports.OngoingCallPromise = OngoingCallPromise;\n//# sourceMappingURL=call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsR0FBRyxtQkFBbUI7QUFDaEQsaUJBQWlCLG1CQUFPLENBQUMscUVBQVU7QUFDbkMsc0JBQXNCLG1CQUFPLENBQUMsK0VBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdCQUF3QjtBQUN2QztBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9jYWxsLmpzPzY1MWUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk9uZ29pbmdDYWxsUHJvbWlzZSA9IGV4cG9ydHMuT25nb2luZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuL3N0YXR1c1wiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi9nb29nbGVFcnJvclwiKTtcbmNsYXNzIE9uZ29pbmdDYWxsIHtcbiAgICAvKipcbiAgICAgKiBPbmdvaW5nQ2FsbCBtYW5hZ2VzIGNhbGxiYWNrLCBBUEkgY2FsbHMsIGFuZCBjYW5jZWxsYXRpb25cbiAgICAgKiBvZiB0aGUgQVBJIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7QVBJQ2FsbGJhY2s9fSBjYWxsYmFja1xuICAgICAqICAgVGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSB3aGVuIHRoZSBBUEkgY2FsbFxuICAgICAqICAgZmluaXNoZXMuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHByb3BlcnR5IHtBUElDYWxsYmFja30gY2FsbGJhY2tcbiAgICAgKiAgIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuY29tcGxldGVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIG9uZ29pbmcgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBsZXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsRnVuYykge1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxGdW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCBjYWxscyB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uLiBSZXN1bHQgd2lsbCBiZSB1c2VkIHRvIGZ1bGZpbGxcbiAgICAgKiB0aGUgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2ltcGxlQ2FsbGJhY2tGdW5jdGlvbn0gZnVuY1xuICAgICAqICAgQSBmdW5jdGlvbiBmb3IgYW4gQVBJIGNhbGwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3VtZW50XG4gICAgICogICBBIHJlcXVlc3Qgb2JqZWN0LlxuICAgICAqL1xuICAgIGNhbGwoZnVuYywgYXJndW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FuY2VsbGVyID0gZnVuYyhhcmd1bWVudCwgKGVyciwgcmVzcG9uc2UsIG5leHQsIHJhd1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUodGhpcy5jYWxsYmFjaywgZXJyLCByZXNwb25zZSwgbmV4dCwgcmF3UmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNhbmNlbGxlciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIGNhbmNlbGxlci5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSh0aGlzLmNhbGxiYWNrLCBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcihlcnIpLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuY2VsRnVuYyA9ICgpID0+IGNhbmNlbGxlci5jYW5jZWwoKTtcbiAgICB9XG59XG5leHBvcnRzLk9uZ29pbmdDYWxsID0gT25nb2luZ0NhbGw7XG5jbGFzcyBPbmdvaW5nQ2FsbFByb21pc2UgZXh0ZW5kcyBPbmdvaW5nQ2FsbCB7XG4gICAgLyoqXG4gICAgICogR2F4UHJvbWlzZSBpcyBHUlBDQ2FsbGJhY2tXcmFwcGVyLCBidXQgaXQgaG9sZHMgYSBwcm9taXNlIHdoZW5cbiAgICAgKiB0aGUgQVBJIGNhbGwgZmluaXNoZXMuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbGV0IHJlc29sdmVDYWxsYmFjaztcbiAgICAgICAgbGV0IHJlamVjdENhbGxiYWNrO1xuICAgICAgICBjb25zdCBjYWxsYmFjayA9IChlcnIsIHJlc3BvbnNlLCBuZXh0LCByYXdSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIC8vIElmIGdSUEMgbWV0YWRhdGEgZXhpc3QsIHBhcnNlZCBnb29nbGUucnBjLnN0YXR1cyBkZXRhaWxzLlxuICAgICAgICAgICAgICAgIGlmIChlcnIubWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0Q2FsbGJhY2soZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvci5wYXJzZUdSUENTdGF0dXNEZXRhaWxzKGVycikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0Q2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZUNhbGxiYWNrKFtyZXNwb25zZSwgbmV4dCB8fCBudWxsLCByYXdSZXNwb25zZSB8fCBudWxsXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignTmVpdGhlciBlcnJvciBub3IgcmVzcG9uc2UgYXJlIGRlZmluZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVDYWxsYmFjayA9IHJlc29sdmU7XG4gICAgICAgICAgICByZWplY3RDYWxsYmFjayA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHN1cGVyKGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICAgICAgdGhpcy5wcm9taXNlLmNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5PbmdvaW5nQ2FsbFByb21pc2UgPSBPbmdvaW5nQ2FsbFByb21pc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/createApiCall.js":
/*!************************************************************!*\
  !*** ./node_modules/google-gax/build/src/createApiCall.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createApiCall = createApiCall;\n/**\n * Provides function wrappers that implement page streaming and retrying.\n */\nconst apiCaller_1 = __webpack_require__(/*! ./apiCaller */ \"(rsc)/./node_modules/google-gax/build/src/apiCaller.js\");\nconst gax_1 = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst retries_1 = __webpack_require__(/*! ./normalCalls/retries */ \"(rsc)/./node_modules/google-gax/build/src/normalCalls/retries.js\");\nconst timeout_1 = __webpack_require__(/*! ./normalCalls/timeout */ \"(rsc)/./node_modules/google-gax/build/src/normalCalls/timeout.js\");\nconst streamingApiCaller_1 = __webpack_require__(/*! ./streamingCalls/streamingApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js\");\nconst warnings_1 = __webpack_require__(/*! ./warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\n/**\n * Converts an rpc call into an API call governed by the settings.\n *\n * In typical usage, `func` will be a promise to a callable used to make an rpc\n * request. This will mostly likely be a bound method from a request stub used\n * to make an rpc call. It is not a direct function but a Promise instance,\n * because of its asynchronism (typically, obtaining the auth information).\n *\n * The result is a function which manages the API call with the given settings\n * and the options on the invocation.\n *\n * @param {Promise<GRPCCall>|GRPCCall} func - is either a promise to be used to make\n *   a bare RPC call, or just a bare RPC call.\n * @param {CallSettings} settings - provides the settings for this call\n * @param {Descriptor} descriptor - optionally specify the descriptor for\n *   the method call.\n * @return {GaxCall} func - a bound method on a request stub used\n *   to make an rpc call.\n */\nfunction createApiCall(func, settings, descriptor, \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_fallback // unused here, used in fallback.ts implementation\n) {\n    // we want to be able to accept both promise resolving to a function and a\n    // function. Currently client librares are only calling this method with a\n    // promise, but it will change.\n    const funcPromise = typeof func === 'function' ? Promise.resolve(func) : func;\n    // the following apiCaller will be used for all calls of this function...\n    const apiCaller = (0, apiCaller_1.createAPICaller)(settings, descriptor);\n    return (request, callOptions, callback) => {\n        var _a, _b;\n        let currentApiCaller = apiCaller;\n        let thisSettings;\n        if (currentApiCaller instanceof streamingApiCaller_1.StreamingApiCaller) {\n            const gaxStreamingRetries = (_b = (_a = currentApiCaller.descriptor) === null || _a === void 0 ? void 0 : _a.gaxStreamingRetries) !== null && _b !== void 0 ? _b : false;\n            // If Gax streaming retries are enabled, check settings passed at call time and convert parameters if needed\n            const convertedRetryOptions = (0, gax_1.convertRetryOptions)(callOptions, gaxStreamingRetries);\n            thisSettings = settings.merge(convertedRetryOptions);\n        }\n        else {\n            thisSettings = settings.merge(callOptions);\n        }\n        // special case: if bundling is disabled for this one call,\n        // use default API caller instead\n        if (settings.isBundling && !thisSettings.isBundling) {\n            currentApiCaller = (0, apiCaller_1.createAPICaller)(settings, undefined);\n        }\n        const ongoingCall = currentApiCaller.init(callback);\n        funcPromise\n            .then((func) => {\n            var _a, _b;\n            var _c;\n            // Initially, the function is just what gRPC server stub contains.\n            func = currentApiCaller.wrap(func);\n            const streaming = (_a = currentApiCaller.descriptor) === null || _a === void 0 ? void 0 : _a.streaming;\n            const retry = thisSettings.retry;\n            if (streaming && retry) {\n                if (retry.retryCodes.length > 0 && retry.shouldRetryFn) {\n                    (0, warnings_1.warn)('either_retrycodes_or_shouldretryfn', 'Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes.');\n                    retry.retryCodes = [];\n                }\n                if (!currentApiCaller.descriptor\n                    .gaxStreamingRetries &&\n                    retry.getResumptionRequestFn) {\n                    throw new Error('getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.');\n                }\n            }\n            if (!streaming && retry) {\n                if (retry.shouldRetryFn) {\n                    throw new Error('Using a function to determine retry eligibility is only supported with server streaming calls');\n                }\n                if (retry.getResumptionRequestFn) {\n                    throw new Error('Resumption strategy can only be used with server streaming retries');\n                }\n                if (retry.retryCodes && retry.retryCodes.length > 0) {\n                    (_b = (_c = retry.backoffSettings).initialRpcTimeoutMillis) !== null && _b !== void 0 ? _b : (_c.initialRpcTimeoutMillis = thisSettings.timeout);\n                    return (0, retries_1.retryable)(func, thisSettings.retry, thisSettings.otherArgs, thisSettings.apiName);\n                }\n            }\n            return (0, timeout_1.addTimeoutArg)(func, thisSettings.timeout, thisSettings.otherArgs);\n        })\n            .then((apiCall) => {\n            // After adding retries / timeouts, the call function becomes simpler:\n            // it only accepts request and callback.\n            currentApiCaller.call(apiCall, request, thisSettings, ongoingCall);\n        })\n            .catch(err => {\n            currentApiCaller.fail(ongoingCall, err);\n        });\n        // Calls normally return a \"cancellable promise\" that can be used to `await` for the actual result,\n        // or to cancel the ongoing call.\n        return currentApiCaller.result(ongoingCall);\n    };\n}\n//# sourceMappingURL=createApiCall.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvY3JlYXRlQXBpQ2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFPLENBQUMsMkVBQWE7QUFDekMsY0FBYyxtQkFBTyxDQUFDLCtEQUFPO0FBQzdCLGtCQUFrQixtQkFBTyxDQUFDLCtGQUF1QjtBQUNqRCxrQkFBa0IsbUJBQU8sQ0FBQywrRkFBdUI7QUFDakQsNkJBQTZCLG1CQUFPLENBQUMsMkhBQXFDO0FBQzFFLG1CQUFtQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QztBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2NyZWF0ZUFwaUNhbGwuanM/NmY3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQXBpQ2FsbCA9IGNyZWF0ZUFwaUNhbGw7XG4vKipcbiAqIFByb3ZpZGVzIGZ1bmN0aW9uIHdyYXBwZXJzIHRoYXQgaW1wbGVtZW50IHBhZ2Ugc3RyZWFtaW5nIGFuZCByZXRyeWluZy5cbiAqL1xuY29uc3QgYXBpQ2FsbGVyXzEgPSByZXF1aXJlKFwiLi9hcGlDYWxsZXJcIik7XG5jb25zdCBnYXhfMSA9IHJlcXVpcmUoXCIuL2dheFwiKTtcbmNvbnN0IHJldHJpZXNfMSA9IHJlcXVpcmUoXCIuL25vcm1hbENhbGxzL3JldHJpZXNcIik7XG5jb25zdCB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi9ub3JtYWxDYWxscy90aW1lb3V0XCIpO1xuY29uc3Qgc3RyZWFtaW5nQXBpQ2FsbGVyXzEgPSByZXF1aXJlKFwiLi9zdHJlYW1pbmdDYWxscy9zdHJlYW1pbmdBcGlDYWxsZXJcIik7XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4vd2FybmluZ3NcIik7XG4vKipcbiAqIENvbnZlcnRzIGFuIHJwYyBjYWxsIGludG8gYW4gQVBJIGNhbGwgZ292ZXJuZWQgYnkgdGhlIHNldHRpbmdzLlxuICpcbiAqIEluIHR5cGljYWwgdXNhZ2UsIGBmdW5jYCB3aWxsIGJlIGEgcHJvbWlzZSB0byBhIGNhbGxhYmxlIHVzZWQgdG8gbWFrZSBhbiBycGNcbiAqIHJlcXVlc3QuIFRoaXMgd2lsbCBtb3N0bHkgbGlrZWx5IGJlIGEgYm91bmQgbWV0aG9kIGZyb20gYSByZXF1ZXN0IHN0dWIgdXNlZFxuICogdG8gbWFrZSBhbiBycGMgY2FsbC4gSXQgaXMgbm90IGEgZGlyZWN0IGZ1bmN0aW9uIGJ1dCBhIFByb21pc2UgaW5zdGFuY2UsXG4gKiBiZWNhdXNlIG9mIGl0cyBhc3luY2hyb25pc20gKHR5cGljYWxseSwgb2J0YWluaW5nIHRoZSBhdXRoIGluZm9ybWF0aW9uKS5cbiAqXG4gKiBUaGUgcmVzdWx0IGlzIGEgZnVuY3Rpb24gd2hpY2ggbWFuYWdlcyB0aGUgQVBJIGNhbGwgd2l0aCB0aGUgZ2l2ZW4gc2V0dGluZ3NcbiAqIGFuZCB0aGUgb3B0aW9ucyBvbiB0aGUgaW52b2NhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1Byb21pc2U8R1JQQ0NhbGw+fEdSUENDYWxsfSBmdW5jIC0gaXMgZWl0aGVyIGEgcHJvbWlzZSB0byBiZSB1c2VkIHRvIG1ha2VcbiAqICAgYSBiYXJlIFJQQyBjYWxsLCBvciBqdXN0IGEgYmFyZSBSUEMgY2FsbC5cbiAqIEBwYXJhbSB7Q2FsbFNldHRpbmdzfSBzZXR0aW5ncyAtIHByb3ZpZGVzIHRoZSBzZXR0aW5ncyBmb3IgdGhpcyBjYWxsXG4gKiBAcGFyYW0ge0Rlc2NyaXB0b3J9IGRlc2NyaXB0b3IgLSBvcHRpb25hbGx5IHNwZWNpZnkgdGhlIGRlc2NyaXB0b3IgZm9yXG4gKiAgIHRoZSBtZXRob2QgY2FsbC5cbiAqIEByZXR1cm4ge0dheENhbGx9IGZ1bmMgLSBhIGJvdW5kIG1ldGhvZCBvbiBhIHJlcXVlc3Qgc3R1YiB1c2VkXG4gKiAgIHRvIG1ha2UgYW4gcnBjIGNhbGwuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFwaUNhbGwoZnVuYywgc2V0dGluZ3MsIGRlc2NyaXB0b3IsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuX2ZhbGxiYWNrIC8vIHVudXNlZCBoZXJlLCB1c2VkIGluIGZhbGxiYWNrLnRzIGltcGxlbWVudGF0aW9uXG4pIHtcbiAgICAvLyB3ZSB3YW50IHRvIGJlIGFibGUgdG8gYWNjZXB0IGJvdGggcHJvbWlzZSByZXNvbHZpbmcgdG8gYSBmdW5jdGlvbiBhbmQgYVxuICAgIC8vIGZ1bmN0aW9uLiBDdXJyZW50bHkgY2xpZW50IGxpYnJhcmVzIGFyZSBvbmx5IGNhbGxpbmcgdGhpcyBtZXRob2Qgd2l0aCBhXG4gICAgLy8gcHJvbWlzZSwgYnV0IGl0IHdpbGwgY2hhbmdlLlxuICAgIGNvbnN0IGZ1bmNQcm9taXNlID0gdHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicgPyBQcm9taXNlLnJlc29sdmUoZnVuYykgOiBmdW5jO1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgYXBpQ2FsbGVyIHdpbGwgYmUgdXNlZCBmb3IgYWxsIGNhbGxzIG9mIHRoaXMgZnVuY3Rpb24uLi5cbiAgICBjb25zdCBhcGlDYWxsZXIgPSAoMCwgYXBpQ2FsbGVyXzEuY3JlYXRlQVBJQ2FsbGVyKShzZXR0aW5ncywgZGVzY3JpcHRvcik7XG4gICAgcmV0dXJuIChyZXF1ZXN0LCBjYWxsT3B0aW9ucywgY2FsbGJhY2spID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgbGV0IGN1cnJlbnRBcGlDYWxsZXIgPSBhcGlDYWxsZXI7XG4gICAgICAgIGxldCB0aGlzU2V0dGluZ3M7XG4gICAgICAgIGlmIChjdXJyZW50QXBpQ2FsbGVyIGluc3RhbmNlb2Ygc3RyZWFtaW5nQXBpQ2FsbGVyXzEuU3RyZWFtaW5nQXBpQ2FsbGVyKSB7XG4gICAgICAgICAgICBjb25zdCBnYXhTdHJlYW1pbmdSZXRyaWVzID0gKF9iID0gKF9hID0gY3VycmVudEFwaUNhbGxlci5kZXNjcmlwdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2F4U3RyZWFtaW5nUmV0cmllcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2U7XG4gICAgICAgICAgICAvLyBJZiBHYXggc3RyZWFtaW5nIHJldHJpZXMgYXJlIGVuYWJsZWQsIGNoZWNrIHNldHRpbmdzIHBhc3NlZCBhdCBjYWxsIHRpbWUgYW5kIGNvbnZlcnQgcGFyYW1ldGVycyBpZiBuZWVkZWRcbiAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZFJldHJ5T3B0aW9ucyA9ICgwLCBnYXhfMS5jb252ZXJ0UmV0cnlPcHRpb25zKShjYWxsT3B0aW9ucywgZ2F4U3RyZWFtaW5nUmV0cmllcyk7XG4gICAgICAgICAgICB0aGlzU2V0dGluZ3MgPSBzZXR0aW5ncy5tZXJnZShjb252ZXJ0ZWRSZXRyeU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpc1NldHRpbmdzID0gc2V0dGluZ3MubWVyZ2UoY2FsbE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZTogaWYgYnVuZGxpbmcgaXMgZGlzYWJsZWQgZm9yIHRoaXMgb25lIGNhbGwsXG4gICAgICAgIC8vIHVzZSBkZWZhdWx0IEFQSSBjYWxsZXIgaW5zdGVhZFxuICAgICAgICBpZiAoc2V0dGluZ3MuaXNCdW5kbGluZyAmJiAhdGhpc1NldHRpbmdzLmlzQnVuZGxpbmcpIHtcbiAgICAgICAgICAgIGN1cnJlbnRBcGlDYWxsZXIgPSAoMCwgYXBpQ2FsbGVyXzEuY3JlYXRlQVBJQ2FsbGVyKShzZXR0aW5ncywgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbmdvaW5nQ2FsbCA9IGN1cnJlbnRBcGlDYWxsZXIuaW5pdChjYWxsYmFjayk7XG4gICAgICAgIGZ1bmNQcm9taXNlXG4gICAgICAgICAgICAudGhlbigoZnVuYykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICAgIC8vIEluaXRpYWxseSwgdGhlIGZ1bmN0aW9uIGlzIGp1c3Qgd2hhdCBnUlBDIHNlcnZlciBzdHViIGNvbnRhaW5zLlxuICAgICAgICAgICAgZnVuYyA9IGN1cnJlbnRBcGlDYWxsZXIud3JhcChmdW5jKTtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbWluZyA9IChfYSA9IGN1cnJlbnRBcGlDYWxsZXIuZGVzY3JpcHRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0cmVhbWluZztcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5ID0gdGhpc1NldHRpbmdzLnJldHJ5O1xuICAgICAgICAgICAgaWYgKHN0cmVhbWluZyAmJiByZXRyeSkge1xuICAgICAgICAgICAgICAgIGlmIChyZXRyeS5yZXRyeUNvZGVzLmxlbmd0aCA+IDAgJiYgcmV0cnkuc2hvdWxkUmV0cnlGbikge1xuICAgICAgICAgICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnZWl0aGVyX3JldHJ5Y29kZXNfb3Jfc2hvdWxkcmV0cnlmbicsICdPbmx5IG9uZSBvZiByZXRyeUNvZGVzIG9yIHNob3VsZFJldHJ5Rm4gbWF5IGJlIGRlZmluZWQuIElnbm9yaW5nIHJldHJ5Q29kZXMuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5LnJldHJ5Q29kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50QXBpQ2FsbGVyLmRlc2NyaXB0b3JcbiAgICAgICAgICAgICAgICAgICAgLmdheFN0cmVhbWluZ1JldHJpZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgcmV0cnkuZ2V0UmVzdW1wdGlvblJlcXVlc3RGbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldFJlc3VtcHRpb25SZXF1ZXN0Rm4gY2FuIG9ubHkgYmUgdXNlZCB3aGVuIGdheFN0cmVhbWluZ1JldHJpZXMgaXMgc2V0IHRvIHRydWUuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdHJlYW1pbmcgJiYgcmV0cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0cnkuc2hvdWxkUmV0cnlGbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzaW5nIGEgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHJldHJ5IGVsaWdpYmlsaXR5IGlzIG9ubHkgc3VwcG9ydGVkIHdpdGggc2VydmVyIHN0cmVhbWluZyBjYWxscycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmV0cnkuZ2V0UmVzdW1wdGlvblJlcXVlc3RGbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc3VtcHRpb24gc3RyYXRlZ3kgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHNlcnZlciBzdHJlYW1pbmcgcmV0cmllcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmV0cnkucmV0cnlDb2RlcyAmJiByZXRyeS5yZXRyeUNvZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gKF9jID0gcmV0cnkuYmFja29mZlNldHRpbmdzKS5pbml0aWFsUnBjVGltZW91dE1pbGxpcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9jLmluaXRpYWxScGNUaW1lb3V0TWlsbGlzID0gdGhpc1NldHRpbmdzLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHJldHJpZXNfMS5yZXRyeWFibGUpKGZ1bmMsIHRoaXNTZXR0aW5ncy5yZXRyeSwgdGhpc1NldHRpbmdzLm90aGVyQXJncywgdGhpc1NldHRpbmdzLmFwaU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoMCwgdGltZW91dF8xLmFkZFRpbWVvdXRBcmcpKGZ1bmMsIHRoaXNTZXR0aW5ncy50aW1lb3V0LCB0aGlzU2V0dGluZ3Mub3RoZXJBcmdzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChhcGlDYWxsKSA9PiB7XG4gICAgICAgICAgICAvLyBBZnRlciBhZGRpbmcgcmV0cmllcyAvIHRpbWVvdXRzLCB0aGUgY2FsbCBmdW5jdGlvbiBiZWNvbWVzIHNpbXBsZXI6XG4gICAgICAgICAgICAvLyBpdCBvbmx5IGFjY2VwdHMgcmVxdWVzdCBhbmQgY2FsbGJhY2suXG4gICAgICAgICAgICBjdXJyZW50QXBpQ2FsbGVyLmNhbGwoYXBpQ2FsbCwgcmVxdWVzdCwgdGhpc1NldHRpbmdzLCBvbmdvaW5nQ2FsbCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnRBcGlDYWxsZXIuZmFpbChvbmdvaW5nQ2FsbCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENhbGxzIG5vcm1hbGx5IHJldHVybiBhIFwiY2FuY2VsbGFibGUgcHJvbWlzZVwiIHRoYXQgY2FuIGJlIHVzZWQgdG8gYGF3YWl0YCBmb3IgdGhlIGFjdHVhbCByZXN1bHQsXG4gICAgICAgIC8vIG9yIHRvIGNhbmNlbCB0aGUgb25nb2luZyBjYWxsLlxuICAgICAgICByZXR1cm4gY3VycmVudEFwaUNhbGxlci5yZXN1bHQob25nb2luZ0NhbGwpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVBcGlDYWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/createApiCall.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/descriptor.js":
/*!*********************************************************!*\
  !*** ./node_modules/google-gax/build/src/descriptor.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BundleDescriptor = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = void 0;\nvar longRunningDescriptor_1 = __webpack_require__(/*! ./longRunningCalls/longRunningDescriptor */ \"(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js\");\nObject.defineProperty(exports, \"LongrunningDescriptor\", ({ enumerable: true, get: function () { return longRunningDescriptor_1.LongRunningDescriptor; } }));\nvar pageDescriptor_1 = __webpack_require__(/*! ./paginationCalls/pageDescriptor */ \"(rsc)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js\");\nObject.defineProperty(exports, \"PageDescriptor\", ({ enumerable: true, get: function () { return pageDescriptor_1.PageDescriptor; } }));\nvar streamDescriptor_1 = __webpack_require__(/*! ./streamingCalls/streamDescriptor */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js\");\nObject.defineProperty(exports, \"StreamDescriptor\", ({ enumerable: true, get: function () { return streamDescriptor_1.StreamDescriptor; } }));\nvar bundleDescriptor_1 = __webpack_require__(/*! ./bundlingCalls/bundleDescriptor */ \"(rsc)/./node_modules/google-gax/build/src/bundlingCalls/bundleDescriptor.js\");\nObject.defineProperty(exports, \"BundleDescriptor\", ({ enumerable: true, get: function () { return bundleDescriptor_1.BundleDescriptor; } }));\n//# sourceMappingURL=descriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZGVzY3JpcHRvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRyx3QkFBd0IsR0FBRyxzQkFBc0IsR0FBRyw2QkFBNkI7QUFDNUcsOEJBQThCLG1CQUFPLENBQUMscUlBQTBDO0FBQ2hGLHlEQUF3RCxFQUFFLHFDQUFxQyx5REFBeUQsRUFBQztBQUN6Six1QkFBdUIsbUJBQU8sQ0FBQyxxSEFBa0M7QUFDakUsa0RBQWlELEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDO0FBQ3BJLHlCQUF5QixtQkFBTyxDQUFDLHVIQUFtQztBQUNwRSxvREFBbUQsRUFBRSxxQ0FBcUMsK0NBQStDLEVBQUM7QUFDMUkseUJBQXlCLG1CQUFPLENBQUMscUhBQWtDO0FBQ25FLG9EQUFtRCxFQUFFLHFDQUFxQywrQ0FBK0MsRUFBQztBQUMxSSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9kZXNjcmlwdG9yLmpzP2IxY2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1bmRsZURlc2NyaXB0b3IgPSBleHBvcnRzLlN0cmVhbURlc2NyaXB0b3IgPSBleHBvcnRzLlBhZ2VEZXNjcmlwdG9yID0gZXhwb3J0cy5Mb25ncnVubmluZ0Rlc2NyaXB0b3IgPSB2b2lkIDA7XG52YXIgbG9uZ1J1bm5pbmdEZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9sb25nUnVubmluZ0NhbGxzL2xvbmdSdW5uaW5nRGVzY3JpcHRvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxvbmdydW5uaW5nRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9uZ1J1bm5pbmdEZXNjcmlwdG9yXzEuTG9uZ1J1bm5pbmdEZXNjcmlwdG9yOyB9IH0pO1xudmFyIHBhZ2VEZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9wYWdpbmF0aW9uQ2FsbHMvcGFnZURlc2NyaXB0b3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYWdlRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGFnZURlc2NyaXB0b3JfMS5QYWdlRGVzY3JpcHRvcjsgfSB9KTtcbnZhciBzdHJlYW1EZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9zdHJlYW1pbmdDYWxscy9zdHJlYW1EZXNjcmlwdG9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyZWFtRGVzY3JpcHRvcl8xLlN0cmVhbURlc2NyaXB0b3I7IH0gfSk7XG52YXIgYnVuZGxlRGVzY3JpcHRvcl8xID0gcmVxdWlyZShcIi4vYnVuZGxpbmdDYWxscy9idW5kbGVEZXNjcmlwdG9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQnVuZGxlRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYnVuZGxlRGVzY3JpcHRvcl8xLkJ1bmRsZURlc2NyaXB0b3I7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZXNjcmlwdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/descriptor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/fallback.js":
/*!*******************************************************!*\
  !*** ./node_modules/google-gax/build/src/fallback.js ***!
  \*******************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fallback = exports.GoogleError = exports.operation = exports.Operation = exports.warn = exports.protobufMinimal = exports.protobuf = exports.LocationProtos = exports.IamProtos = exports.operationsProtos = exports.GrpcClient = exports.defaultToObjectOptions = exports.makeUUID = exports.LocationsClient = exports.IamClient = exports.OperationsClient = exports.StreamType = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = exports.BundleDescriptor = exports.version = exports.createDefaultBackoffSettings = exports.RetryOptions = exports.constructSettings = exports.CallSettings = exports.routingHeader = exports.PathTemplate = void 0;\nexports.lro = lro;\nexports.createApiCall = createApiCall;\nconst objectHash = __webpack_require__(/*! object-hash */ \"(rsc)/./node_modules/object-hash/index.js\");\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(rsc)/./node_modules/protobufjs/index.js\");\nexports.protobuf = protobuf;\nconst gax = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(rsc)/./node_modules/google-gax/build/src/routingHeader.js\");\nexports.routingHeader = routingHeader;\nconst status_1 = __webpack_require__(/*! ./status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\nconst operationsClient_1 = __webpack_require__(/*! ./operationsClient */ \"(rsc)/./node_modules/google-gax/build/src/operationsClient.js\");\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(rsc)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst fallbackRest = __webpack_require__(/*! ./fallbackRest */ \"(rsc)/./node_modules/google-gax/build/src/fallbackRest.js\");\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(rsc)/./node_modules/google-gax/build/src/featureDetection.js\");\nconst fallbackServiceStub_1 = __webpack_require__(/*! ./fallbackServiceStub */ \"(rsc)/./node_modules/google-gax/build/src/fallbackServiceStub.js\");\nconst streaming_1 = __webpack_require__(/*! ./streamingCalls/streaming */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/google-gax/build/src/util.js\");\nconst IamProtos = __webpack_require__(/*! ../protos/iam_service */ \"(rsc)/./node_modules/google-gax/build/protos/iam_service.js\");\nexports.IamProtos = IamProtos;\nconst LocationProtos = __webpack_require__(/*! ../protos/locations */ \"(rsc)/./node_modules/google-gax/build/protos/locations.js\");\nexports.LocationProtos = LocationProtos;\nconst operationsProtos = __webpack_require__(/*! ../protos/operations */ \"(rsc)/./node_modules/google-gax/build/protos/operations.js\");\nexports.operationsProtos = operationsProtos;\nvar pathTemplate_1 = __webpack_require__(/*! ./pathTemplate */ \"(rsc)/./node_modules/google-gax/build/src/pathTemplate.js\");\nObject.defineProperty(exports, \"PathTemplate\", ({ enumerable: true, get: function () { return pathTemplate_1.PathTemplate; } }));\nvar gax_1 = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nObject.defineProperty(exports, \"CallSettings\", ({ enumerable: true, get: function () { return gax_1.CallSettings; } }));\nObject.defineProperty(exports, \"constructSettings\", ({ enumerable: true, get: function () { return gax_1.constructSettings; } }));\nObject.defineProperty(exports, \"RetryOptions\", ({ enumerable: true, get: function () { return gax_1.RetryOptions; } }));\nObject.defineProperty(exports, \"createDefaultBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createDefaultBackoffSettings; } }));\nexports.version = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/package.json\").version) + '-fallback';\nvar descriptor_1 = __webpack_require__(/*! ./descriptor */ \"(rsc)/./node_modules/google-gax/build/src/descriptor.js\");\nObject.defineProperty(exports, \"BundleDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.BundleDescriptor; } }));\nObject.defineProperty(exports, \"LongrunningDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.LongrunningDescriptor; } }));\nObject.defineProperty(exports, \"PageDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.PageDescriptor; } }));\nObject.defineProperty(exports, \"StreamDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.StreamDescriptor; } }));\nvar streaming_2 = __webpack_require__(/*! ./streamingCalls/streaming */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nObject.defineProperty(exports, \"StreamType\", ({ enumerable: true, get: function () { return streaming_2.StreamType; } }));\nvar operationsClient_2 = __webpack_require__(/*! ./operationsClient */ \"(rsc)/./node_modules/google-gax/build/src/operationsClient.js\");\nObject.defineProperty(exports, \"OperationsClient\", ({ enumerable: true, get: function () { return operationsClient_2.OperationsClient; } }));\nvar iamService_1 = __webpack_require__(/*! ./iamService */ \"(rsc)/./node_modules/google-gax/build/src/iamService.js\");\nObject.defineProperty(exports, \"IamClient\", ({ enumerable: true, get: function () { return iamService_1.IamClient; } }));\nvar locationService_1 = __webpack_require__(/*! ./locationService */ \"(rsc)/./node_modules/google-gax/build/src/locationService.js\");\nObject.defineProperty(exports, \"LocationsClient\", ({ enumerable: true, get: function () { return locationService_1.LocationsClient; } }));\nvar util_2 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/google-gax/build/src/util.js\");\nObject.defineProperty(exports, \"makeUUID\", ({ enumerable: true, get: function () { return util_2.makeUUID; } }));\nexports.defaultToObjectOptions = {\n    keepCase: false,\n    longs: String,\n    enums: String,\n    defaults: true,\n    oneofs: true,\n};\nconst CLIENT_VERSION_HEADER = 'x-goog-api-client';\nclass GrpcClient {\n    /**\n     * In rare cases users might need to deallocate all memory consumed by loaded protos.\n     * This method will delete the proto cache content.\n     */\n    static clearProtoCache() {\n        GrpcClient.protoCache.clear();\n    }\n    /**\n     * gRPC-fallback version of GrpcClient\n     * Implements GrpcClient API for a browser using grpc-fallback protocol (sends serialized protobuf to HTTP/1 $rpc endpoint).\n     *\n     * @param {Object=} options.auth - An instance of OAuth2Client to use in browser, or an instance of GoogleAuth from google-auth-library\n     *  to use in Node.js. Required for browser, optional for Node.js.\n     * @constructor\n     */\n    constructor(options = {}) {\n        var _a;\n        if (!(0, featureDetection_1.isNodeJS)()) {\n            if (!options.auth) {\n                throw new Error(JSON.stringify(options) +\n                    'You need to pass auth instance to use gRPC-fallback client in browser or other non-Node.js environments. Use OAuth2Client from google-auth-library.');\n            }\n            this.auth = options.auth;\n        }\n        else {\n            this.auth =\n                options.auth ||\n                    new google_auth_library_1.GoogleAuth(options);\n        }\n        this.fallback = options.fallback ? true : false;\n        this.grpcVersion = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/package.json\").version);\n        this.httpRules = options.httpRules;\n        this.numericEnums = (_a = options.numericEnums) !== null && _a !== void 0 ? _a : false;\n    }\n    /**\n     * gRPC-fallback version of loadProto\n     * Loads the protobuf root object from a JSON object created from a proto file\n     * @param {Object} jsonObject - A JSON version of a protofile created usin protobuf.js\n     * @returns {Object} Root namespace of proto JSON\n     */\n    loadProto(jsonObject) {\n        const rootObject = protobuf.Root.fromJSON(jsonObject);\n        return rootObject;\n    }\n    loadProtoJSON(json, ignoreCache = false) {\n        const hash = objectHash(JSON.stringify(json)).toString();\n        const cached = GrpcClient.protoCache.get(hash);\n        if (cached && !ignoreCache) {\n            return cached;\n        }\n        const root = protobuf.Root.fromJSON(json);\n        GrpcClient.protoCache.set(hash, root);\n        return root;\n    }\n    static getServiceMethods(service) {\n        const methods = {};\n        for (const [methodName, methodObject] of Object.entries(service.methods)) {\n            const methodNameLowerCamelCase = (0, util_1.toLowerCamelCase)(methodName);\n            methods[methodNameLowerCamelCase] = methodObject;\n        }\n        return methods;\n    }\n    /**\n     * gRPC-fallback version of constructSettings\n     * A wrapper of {@link constructSettings} function under the gRPC context.\n     *\n     * Most of parameters are common among constructSettings, please take a look.\n     * @param {string} serviceName - The fullly-qualified name of the service.\n     * @param {Object} clientConfig - A dictionary of the client config.\n     * @param {Object} configOverrides - A dictionary of overriding configs.\n     * @param {Object} headers - A dictionary of additional HTTP header name to\n     *   its value.\n     * @return {Object} A mapping of method names to CallSettings.\n     */\n    constructSettings(serviceName, clientConfig, configOverrides, headers) {\n        function buildMetadata(abTests, moreHeaders) {\n            const metadata = {};\n            if (!headers) {\n                headers = {};\n            }\n            // Since gRPC expects each header to be an array,\n            // we are doing the same for fallback here.\n            for (const key in headers) {\n                metadata[key] = Array.isArray(headers[key])\n                    ? headers[key]\n                    : [headers[key]];\n            }\n            // gRPC-fallback request must have 'grpc-web/' in 'x-goog-api-client'\n            const clientVersions = [];\n            if (metadata[CLIENT_VERSION_HEADER] &&\n                metadata[CLIENT_VERSION_HEADER][0]) {\n                clientVersions.push(...metadata[CLIENT_VERSION_HEADER][0].split(' '));\n            }\n            clientVersions.push(`grpc-web/${exports.version}`);\n            metadata[CLIENT_VERSION_HEADER] = [clientVersions.join(' ')];\n            if (!moreHeaders) {\n                return metadata;\n            }\n            for (const key in moreHeaders) {\n                if (key.toLowerCase() !== CLIENT_VERSION_HEADER) {\n                    const value = moreHeaders[key];\n                    if (Array.isArray(value)) {\n                        if (metadata[key] === undefined) {\n                            metadata[key] = value;\n                        }\n                        else {\n                            if (Array.isArray(metadata[key])) {\n                                metadata[key].push(...value);\n                            }\n                            else {\n                                throw new Error(`Can not add value ${value} to the call metadata.`);\n                            }\n                        }\n                    }\n                    else {\n                        metadata[key] = [value];\n                    }\n                }\n            }\n            return metadata;\n        }\n        return gax.constructSettings(serviceName, clientConfig, configOverrides, status_1.Status, { metadataBuilder: buildMetadata });\n    }\n    /**\n     * gRPC-fallback version of createStub\n     * Creates a gRPC-fallback stub with authentication headers built from supplied OAuth2Client instance\n     *\n     * @param {function} CreateStub - The constructor function of the stub.\n     * @param {Object} service - A protobufjs Service object (as returned by lookupService)\n     * @param {Object} opts - Connection options, as described below.\n     * @param {string} opts.servicePath - The hostname of the API endpoint service.\n     * @param {number} opts.port - The port of the service.\n     * @return {Promise} A promise which resolves to a gRPC-fallback service stub, which is a protobuf.js service stub instance modified to match the gRPC stub API\n     */\n    async createStub(service, opts, \n    // For consistency with createStub in grpc.ts, customServicePath is defined:\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    customServicePath) {\n        if (!this.authClient) {\n            if (this.auth && 'getClient' in this.auth) {\n                this.authClient = (await this.auth.getClient());\n            }\n            else if (this.auth && 'getRequestHeaders' in this.auth) {\n                this.authClient = this.auth;\n            }\n        }\n        if (!this.authClient) {\n            throw new Error('No authentication was provided');\n        }\n        if (!opts.universeDomain) {\n            opts.universeDomain = 'googleapis.com';\n        }\n        if (opts.universeDomain) {\n            const universeFromAuth = this.authClient.universeDomain;\n            if (universeFromAuth && opts.universeDomain !== universeFromAuth) {\n                throw new Error(`The configured universe domain (${opts.universeDomain}) does not match the universe domain found in the credentials (${universeFromAuth}). ` +\n                    \"If you haven't configured the universe domain explicitly, googleapis.com is the default.\");\n            }\n        }\n        service.resolveAll();\n        const methods = GrpcClient.getServiceMethods(service);\n        const protocol = opts.protocol || 'https';\n        let servicePath = opts.servicePath;\n        if (!servicePath &&\n            service.options &&\n            service.options['(google.api.default_host)']) {\n            servicePath = service.options['(google.api.default_host)'];\n        }\n        if (!servicePath) {\n            throw new Error(`Cannot determine service API path for service ${service.name}.`);\n        }\n        let servicePort;\n        const match = servicePath.match(/^(.*):(\\d+)$/);\n        if (match) {\n            servicePath = match[1];\n            servicePort = parseInt(match[2]);\n        }\n        if (opts.port) {\n            servicePort = opts.port;\n        }\n        else if (!servicePort) {\n            servicePort = 443;\n        }\n        const encoder = fallbackRest.encodeRequest;\n        const decoder = fallbackRest.decodeResponse;\n        const serviceStub = (0, fallbackServiceStub_1.generateServiceStub)(methods, protocol, servicePath, servicePort, this.authClient, encoder, decoder, this.numericEnums);\n        return serviceStub;\n    }\n    /**\n     * Creates a 'bytelength' function for a given proto message class.\n     *\n     * See {@link BundleDescriptor} about the meaning of the return value.\n     *\n     * @param {function} message - a constructor function that is generated by\n     *   protobuf.js. Assumes 'encoder' field in the message.\n     * @return {function(Object):number} - a function to compute the byte length\n     *   for an object.\n     */\n    static createByteLengthFunction(message) {\n        return gax.createByteLengthFunction(message);\n    }\n}\nexports.GrpcClient = GrpcClient;\nGrpcClient.protoCache = new Map();\n/**\n * gRPC-fallback version of lro\n *\n * @param {Object=} options.auth - An instance of google-auth-library.\n * @return {Object} A OperationsClientBuilder that will return a OperationsClient\n */\nfunction lro(options) {\n    options = Object.assign({ scopes: [] }, options);\n    if (options.protoJson) {\n        options = Object.assign(options, { fallback: true });\n    }\n    const gaxGrpc = new GrpcClient(options);\n    return new operationsClient_1.OperationsClientBuilder(gaxGrpc, options.protoJson);\n}\n/**\n * gRPC-fallback version of createApiCall\n *\n * Converts an rpc call into an API call governed by the settings.\n *\n * In typical usage, `func` will be a promise to a callable used to make an rpc\n * request. This will mostly likely be a bound method from a request stub used\n * to make an rpc call. It is not a direct function but a Promise instance,\n * because of its asynchronism (typically, obtaining the auth information).\n *\n * The result is a function which manages the API call with the given settings\n * and the options on the invocation.\n *\n * Throws exception on unsupported streaming calls\n *\n * @param {Promise<GRPCCall>|GRPCCall} func - is either a promise to be used to make\n *   a bare RPC call, or just a bare RPC call.\n * @param {CallSettings} settings - provides the settings for this call\n * @param {Descriptor} descriptor - optionally specify the descriptor for\n *   the method call.\n * @return {GaxCall} func - a bound method on a request stub used\n *   to make an rpc call.\n */\nfunction createApiCall(func, settings, descriptor, \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_fallback // unused; for compatibility only\n) {\n    if (descriptor &&\n        'streaming' in descriptor &&\n        descriptor.type !== streaming_1.StreamType.SERVER_STREAMING) {\n        return () => {\n            throw new Error('The REST transport currently does not support client-streaming or bidi-stream calls.');\n        };\n    }\n    if (descriptor && 'streaming' in descriptor && !(0, featureDetection_1.isNodeJS)()) {\n        return () => {\n            throw new Error('Server streaming over the REST transport is only supported in Node.js.');\n        };\n    }\n    return (0, createApiCall_1.createApiCall)(func, settings, descriptor);\n}\nexports.protobufMinimal = __webpack_require__(/*! protobufjs/minimal */ \"(rsc)/./node_modules/protobufjs/minimal.js\");\nvar warnings_1 = __webpack_require__(/*! ./warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nObject.defineProperty(exports, \"warn\", ({ enumerable: true, get: function () { return warnings_1.warn; } }));\nvar longrunning_1 = __webpack_require__(/*! ./longRunningCalls/longrunning */ \"(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\");\nObject.defineProperty(exports, \"Operation\", ({ enumerable: true, get: function () { return longrunning_1.Operation; } }));\nObject.defineProperty(exports, \"operation\", ({ enumerable: true, get: function () { return longrunning_1.operation; } }));\nvar googleError_1 = __webpack_require__(/*! ./googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nObject.defineProperty(exports, \"GoogleError\", ({ enumerable: true, get: function () { return googleError_1.GoogleError; } }));\n// Different environments or bundlers may or may not respect \"browser\" field\n// in package.json (e.g. Electron does not respect it, but if you run the code\n// through webpack first, it will follow the \"browser\" field).\n// To make it safer and more compatible, let's make sure that if you do\n// const gax = require(\"google-gax\");\n// you can always ask for gax.fallback, regardless of \"browser\" field being\n// understood or not.\nconst fallback = module.exports;\nexports.fallback = fallback;\n//# sourceMappingURL=fallback.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmFsbGJhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLEdBQUcsbUJBQW1CLEdBQUcsaUJBQWlCLEdBQUcsaUJBQWlCLEdBQUcsWUFBWSxHQUFHLHVCQUF1QixHQUFHLGdCQUFnQixHQUFHLHNCQUFzQixHQUFHLGlCQUFpQixHQUFHLHdCQUF3QixHQUFHLGtCQUFrQixHQUFHLDhCQUE4QixHQUFHLGdCQUFnQixHQUFHLHVCQUF1QixHQUFHLGlCQUFpQixHQUFHLHdCQUF3QixHQUFHLGtCQUFrQixHQUFHLHdCQUF3QixHQUFHLHNCQUFzQixHQUFHLDZCQUE2QixHQUFHLHdCQUF3QixHQUFHLGVBQWUsR0FBRyxvQ0FBb0MsR0FBRyxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyxvQkFBb0IsR0FBRyxxQkFBcUIsR0FBRyxvQkFBb0I7QUFDMXBCLFdBQVc7QUFDWCxxQkFBcUI7QUFDckIsbUJBQW1CLG1CQUFPLENBQUMsOERBQWE7QUFDeEMsaUJBQWlCLG1CQUFPLENBQUMsNERBQVk7QUFDckMsZ0JBQWdCO0FBQ2hCLFlBQVksbUJBQU8sQ0FBQywrREFBTztBQUMzQixzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBaUI7QUFDL0MscUJBQXFCO0FBQ3JCLGlCQUFpQixtQkFBTyxDQUFDLHFFQUFVO0FBQ25DLDhCQUE4QixtQkFBTyxDQUFDLHdGQUFxQjtBQUMzRCwyQkFBMkIsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDdkQsd0JBQXdCLG1CQUFPLENBQUMsbUZBQWlCO0FBQ2pELHFCQUFxQixtQkFBTyxDQUFDLGlGQUFnQjtBQUM3QywyQkFBMkIsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDdkQsOEJBQThCLG1CQUFPLENBQUMsK0ZBQXVCO0FBQzdELG9CQUFvQixtQkFBTyxDQUFDLHlHQUE0QjtBQUN4RCxlQUFlLG1CQUFPLENBQUMsaUVBQVE7QUFDL0Isa0JBQWtCLG1CQUFPLENBQUMsMEZBQXVCO0FBQ2pELGlCQUFpQjtBQUNqQix1QkFBdUIsbUJBQU8sQ0FBQyxzRkFBcUI7QUFDcEQsc0JBQXNCO0FBQ3RCLHlCQUF5QixtQkFBTyxDQUFDLHdGQUFzQjtBQUN2RCx3QkFBd0I7QUFDeEIscUJBQXFCLG1CQUFPLENBQUMsaUZBQWdCO0FBQzdDLGdEQUErQyxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUM5SCxZQUFZLG1CQUFPLENBQUMsK0RBQU87QUFDM0IsZ0RBQStDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ3JILHFEQUFvRCxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUMvSCxnREFBK0MsRUFBRSxxQ0FBcUMsOEJBQThCLEVBQUM7QUFDckgsZ0VBQStELEVBQUUscUNBQXFDLDhDQUE4QyxFQUFDO0FBQ3JKLGVBQWUsR0FBRyx1R0FBcUM7QUFDdkQsbUJBQW1CLG1CQUFPLENBQUMsNkVBQWM7QUFDekMsb0RBQW1ELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ3BJLHlEQUF3RCxFQUFFLHFDQUFxQyw4Q0FBOEMsRUFBQztBQUM5SSxrREFBaUQsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDaEksb0RBQW1ELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ3BJLGtCQUFrQixtQkFBTyxDQUFDLHlHQUE0QjtBQUN0RCw4Q0FBNkMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDdkgseUJBQXlCLG1CQUFPLENBQUMseUZBQW9CO0FBQ3JELG9EQUFtRCxFQUFFLHFDQUFxQywrQ0FBK0MsRUFBQztBQUMxSSxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBYztBQUN6Qyw2Q0FBNEMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDdEgsd0JBQXdCLG1CQUFPLENBQUMsdUZBQW1CO0FBQ25ELG1EQUFrRCxFQUFFLHFDQUFxQyw2Q0FBNkMsRUFBQztBQUN2SSxhQUFhLG1CQUFPLENBQUMsaUVBQVE7QUFDN0IsNENBQTJDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzlHLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1R0FBcUM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlCQUF5QjtBQUM5QztBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxnQkFBZ0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsT0FBTztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyxnQ0FBZ0M7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0JBQW9CLGlFQUFpRSxpQkFBaUI7QUFDeks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsYUFBYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdCQUF3QjtBQUNwQztBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBLGdCQUFnQix5QkFBeUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0EsOEJBQThCLFlBQVk7QUFDMUM7QUFDQSwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw0QkFBNEI7QUFDdkM7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFIQUF1RDtBQUN2RCxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBWTtBQUNyQyx3Q0FBdUMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDMUcsb0JBQW9CLG1CQUFPLENBQUMsaUhBQWdDO0FBQzVELDZDQUE0QyxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUN2SCw2Q0FBNEMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDdkgsb0JBQW9CLG1CQUFPLENBQUMsK0VBQWU7QUFDM0MsK0NBQThDLEVBQUUscUNBQXFDLHFDQUFxQyxFQUFDO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmFsbGJhY2suanM/ZWVkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmFsbGJhY2sgPSBleHBvcnRzLkdvb2dsZUVycm9yID0gZXhwb3J0cy5vcGVyYXRpb24gPSBleHBvcnRzLk9wZXJhdGlvbiA9IGV4cG9ydHMud2FybiA9IGV4cG9ydHMucHJvdG9idWZNaW5pbWFsID0gZXhwb3J0cy5wcm90b2J1ZiA9IGV4cG9ydHMuTG9jYXRpb25Qcm90b3MgPSBleHBvcnRzLklhbVByb3RvcyA9IGV4cG9ydHMub3BlcmF0aW9uc1Byb3RvcyA9IGV4cG9ydHMuR3JwY0NsaWVudCA9IGV4cG9ydHMuZGVmYXVsdFRvT2JqZWN0T3B0aW9ucyA9IGV4cG9ydHMubWFrZVVVSUQgPSBleHBvcnRzLkxvY2F0aW9uc0NsaWVudCA9IGV4cG9ydHMuSWFtQ2xpZW50ID0gZXhwb3J0cy5PcGVyYXRpb25zQ2xpZW50ID0gZXhwb3J0cy5TdHJlYW1UeXBlID0gZXhwb3J0cy5TdHJlYW1EZXNjcmlwdG9yID0gZXhwb3J0cy5QYWdlRGVzY3JpcHRvciA9IGV4cG9ydHMuTG9uZ3J1bm5pbmdEZXNjcmlwdG9yID0gZXhwb3J0cy5CdW5kbGVEZXNjcmlwdG9yID0gZXhwb3J0cy52ZXJzaW9uID0gZXhwb3J0cy5jcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzID0gZXhwb3J0cy5SZXRyeU9wdGlvbnMgPSBleHBvcnRzLmNvbnN0cnVjdFNldHRpbmdzID0gZXhwb3J0cy5DYWxsU2V0dGluZ3MgPSBleHBvcnRzLnJvdXRpbmdIZWFkZXIgPSBleHBvcnRzLlBhdGhUZW1wbGF0ZSA9IHZvaWQgMDtcbmV4cG9ydHMubHJvID0gbHJvO1xuZXhwb3J0cy5jcmVhdGVBcGlDYWxsID0gY3JlYXRlQXBpQ2FsbDtcbmNvbnN0IG9iamVjdEhhc2ggPSByZXF1aXJlKFwib2JqZWN0LWhhc2hcIik7XG5jb25zdCBwcm90b2J1ZiA9IHJlcXVpcmUoXCJwcm90b2J1ZmpzXCIpO1xuZXhwb3J0cy5wcm90b2J1ZiA9IHByb3RvYnVmO1xuY29uc3QgZ2F4ID0gcmVxdWlyZShcIi4vZ2F4XCIpO1xuY29uc3Qgcm91dGluZ0hlYWRlciA9IHJlcXVpcmUoXCIuL3JvdXRpbmdIZWFkZXJcIik7XG5leHBvcnRzLnJvdXRpbmdIZWFkZXIgPSByb3V0aW5nSGVhZGVyO1xuY29uc3Qgc3RhdHVzXzEgPSByZXF1aXJlKFwiLi9zdGF0dXNcIik7XG5jb25zdCBnb29nbGVfYXV0aF9saWJyYXJ5XzEgPSByZXF1aXJlKFwiZ29vZ2xlLWF1dGgtbGlicmFyeVwiKTtcbmNvbnN0IG9wZXJhdGlvbnNDbGllbnRfMSA9IHJlcXVpcmUoXCIuL29wZXJhdGlvbnNDbGllbnRcIik7XG5jb25zdCBjcmVhdGVBcGlDYWxsXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVBcGlDYWxsXCIpO1xuY29uc3QgZmFsbGJhY2tSZXN0ID0gcmVxdWlyZShcIi4vZmFsbGJhY2tSZXN0XCIpO1xuY29uc3QgZmVhdHVyZURldGVjdGlvbl8xID0gcmVxdWlyZShcIi4vZmVhdHVyZURldGVjdGlvblwiKTtcbmNvbnN0IGZhbGxiYWNrU2VydmljZVN0dWJfMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrU2VydmljZVN0dWJcIik7XG5jb25zdCBzdHJlYW1pbmdfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbWluZ0NhbGxzL3N0cmVhbWluZ1wiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBJYW1Qcm90b3MgPSByZXF1aXJlKFwiLi4vcHJvdG9zL2lhbV9zZXJ2aWNlXCIpO1xuZXhwb3J0cy5JYW1Qcm90b3MgPSBJYW1Qcm90b3M7XG5jb25zdCBMb2NhdGlvblByb3RvcyA9IHJlcXVpcmUoXCIuLi9wcm90b3MvbG9jYXRpb25zXCIpO1xuZXhwb3J0cy5Mb2NhdGlvblByb3RvcyA9IExvY2F0aW9uUHJvdG9zO1xuY29uc3Qgb3BlcmF0aW9uc1Byb3RvcyA9IHJlcXVpcmUoXCIuLi9wcm90b3Mvb3BlcmF0aW9uc1wiKTtcbmV4cG9ydHMub3BlcmF0aW9uc1Byb3RvcyA9IG9wZXJhdGlvbnNQcm90b3M7XG52YXIgcGF0aFRlbXBsYXRlXzEgPSByZXF1aXJlKFwiLi9wYXRoVGVtcGxhdGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYXRoVGVtcGxhdGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhdGhUZW1wbGF0ZV8xLlBhdGhUZW1wbGF0ZTsgfSB9KTtcbnZhciBnYXhfMSA9IHJlcXVpcmUoXCIuL2dheFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNhbGxTZXR0aW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuQ2FsbFNldHRpbmdzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29uc3RydWN0U2V0dGluZ3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdheF8xLmNvbnN0cnVjdFNldHRpbmdzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmV0cnlPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5SZXRyeU9wdGlvbnM7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5jcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzOyB9IH0pO1xuZXhwb3J0cy52ZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbiArICctZmFsbGJhY2snO1xudmFyIGRlc2NyaXB0b3JfMSA9IHJlcXVpcmUoXCIuL2Rlc2NyaXB0b3JcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCdW5kbGVEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXNjcmlwdG9yXzEuQnVuZGxlRGVzY3JpcHRvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkxvbmdydW5uaW5nRGVzY3JpcHRvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVzY3JpcHRvcl8xLkxvbmdydW5uaW5nRGVzY3JpcHRvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBhZ2VEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXNjcmlwdG9yXzEuUGFnZURlc2NyaXB0b3I7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdHJlYW1EZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXNjcmlwdG9yXzEuU3RyZWFtRGVzY3JpcHRvcjsgfSB9KTtcbnZhciBzdHJlYW1pbmdfMiA9IHJlcXVpcmUoXCIuL3N0cmVhbWluZ0NhbGxzL3N0cmVhbWluZ1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbVR5cGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0cmVhbWluZ18yLlN0cmVhbVR5cGU7IH0gfSk7XG52YXIgb3BlcmF0aW9uc0NsaWVudF8yID0gcmVxdWlyZShcIi4vb3BlcmF0aW9uc0NsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk9wZXJhdGlvbnNDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9wZXJhdGlvbnNDbGllbnRfMi5PcGVyYXRpb25zQ2xpZW50OyB9IH0pO1xudmFyIGlhbVNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2lhbVNlcnZpY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJJYW1DbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlhbVNlcnZpY2VfMS5JYW1DbGllbnQ7IH0gfSk7XG52YXIgbG9jYXRpb25TZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdGlvblNlcnZpY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMb2NhdGlvbnNDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvY2F0aW9uU2VydmljZV8xLkxvY2F0aW9uc0NsaWVudDsgfSB9KTtcbnZhciB1dGlsXzIgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZVVVSURcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0aWxfMi5tYWtlVVVJRDsgfSB9KTtcbmV4cG9ydHMuZGVmYXVsdFRvT2JqZWN0T3B0aW9ucyA9IHtcbiAgICBrZWVwQ2FzZTogZmFsc2UsXG4gICAgbG9uZ3M6IFN0cmluZyxcbiAgICBlbnVtczogU3RyaW5nLFxuICAgIGRlZmF1bHRzOiB0cnVlLFxuICAgIG9uZW9mczogdHJ1ZSxcbn07XG5jb25zdCBDTElFTlRfVkVSU0lPTl9IRUFERVIgPSAneC1nb29nLWFwaS1jbGllbnQnO1xuY2xhc3MgR3JwY0NsaWVudCB7XG4gICAgLyoqXG4gICAgICogSW4gcmFyZSBjYXNlcyB1c2VycyBtaWdodCBuZWVkIHRvIGRlYWxsb2NhdGUgYWxsIG1lbW9yeSBjb25zdW1lZCBieSBsb2FkZWQgcHJvdG9zLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgZGVsZXRlIHRoZSBwcm90byBjYWNoZSBjb250ZW50LlxuICAgICAqL1xuICAgIHN0YXRpYyBjbGVhclByb3RvQ2FjaGUoKSB7XG4gICAgICAgIEdycGNDbGllbnQucHJvdG9DYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnUlBDLWZhbGxiYWNrIHZlcnNpb24gb2YgR3JwY0NsaWVudFxuICAgICAqIEltcGxlbWVudHMgR3JwY0NsaWVudCBBUEkgZm9yIGEgYnJvd3NlciB1c2luZyBncnBjLWZhbGxiYWNrIHByb3RvY29sIChzZW5kcyBzZXJpYWxpemVkIHByb3RvYnVmIHRvIEhUVFAvMSAkcnBjIGVuZHBvaW50KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucy5hdXRoIC0gQW4gaW5zdGFuY2Ugb2YgT0F1dGgyQ2xpZW50IHRvIHVzZSBpbiBicm93c2VyLCBvciBhbiBpbnN0YW5jZSBvZiBHb29nbGVBdXRoIGZyb20gZ29vZ2xlLWF1dGgtbGlicmFyeVxuICAgICAqICB0byB1c2UgaW4gTm9kZS5qcy4gUmVxdWlyZWQgZm9yIGJyb3dzZXIsIG9wdGlvbmFsIGZvciBOb2RlLmpzLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghKDAsIGZlYXR1cmVEZXRlY3Rpb25fMS5pc05vZGVKUykoKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmF1dGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkob3B0aW9ucykgK1xuICAgICAgICAgICAgICAgICAgICAnWW91IG5lZWQgdG8gcGFzcyBhdXRoIGluc3RhbmNlIHRvIHVzZSBnUlBDLWZhbGxiYWNrIGNsaWVudCBpbiBicm93c2VyIG9yIG90aGVyIG5vbi1Ob2RlLmpzIGVudmlyb25tZW50cy4gVXNlIE9BdXRoMkNsaWVudCBmcm9tIGdvb2dsZS1hdXRoLWxpYnJhcnkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmF1dGggPSBvcHRpb25zLmF1dGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF1dGggPVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYXV0aCB8fFxuICAgICAgICAgICAgICAgICAgICBuZXcgZ29vZ2xlX2F1dGhfbGlicmFyeV8xLkdvb2dsZUF1dGgob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mYWxsYmFjayA9IG9wdGlvbnMuZmFsbGJhY2sgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHRoaXMuZ3JwY1ZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuICAgICAgICB0aGlzLmh0dHBSdWxlcyA9IG9wdGlvbnMuaHR0cFJ1bGVzO1xuICAgICAgICB0aGlzLm51bWVyaWNFbnVtcyA9IChfYSA9IG9wdGlvbnMubnVtZXJpY0VudW1zKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogZ1JQQy1mYWxsYmFjayB2ZXJzaW9uIG9mIGxvYWRQcm90b1xuICAgICAqIExvYWRzIHRoZSBwcm90b2J1ZiByb290IG9iamVjdCBmcm9tIGEgSlNPTiBvYmplY3QgY3JlYXRlZCBmcm9tIGEgcHJvdG8gZmlsZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBqc29uT2JqZWN0IC0gQSBKU09OIHZlcnNpb24gb2YgYSBwcm90b2ZpbGUgY3JlYXRlZCB1c2luIHByb3RvYnVmLmpzXG4gICAgICogQHJldHVybnMge09iamVjdH0gUm9vdCBuYW1lc3BhY2Ugb2YgcHJvdG8gSlNPTlxuICAgICAqL1xuICAgIGxvYWRQcm90byhqc29uT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHJvb3RPYmplY3QgPSBwcm90b2J1Zi5Sb290LmZyb21KU09OKGpzb25PYmplY3QpO1xuICAgICAgICByZXR1cm4gcm9vdE9iamVjdDtcbiAgICB9XG4gICAgbG9hZFByb3RvSlNPTihqc29uLCBpZ25vcmVDYWNoZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBvYmplY3RIYXNoKEpTT04uc3RyaW5naWZ5KGpzb24pKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSBHcnBjQ2xpZW50LnByb3RvQ2FjaGUuZ2V0KGhhc2gpO1xuICAgICAgICBpZiAoY2FjaGVkICYmICFpZ25vcmVDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb290ID0gcHJvdG9idWYuUm9vdC5mcm9tSlNPTihqc29uKTtcbiAgICAgICAgR3JwY0NsaWVudC5wcm90b0NhY2hlLnNldChoYXNoLCByb290KTtcbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRTZXJ2aWNlTWV0aG9kcyhzZXJ2aWNlKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBbbWV0aG9kTmFtZSwgbWV0aG9kT2JqZWN0XSBvZiBPYmplY3QuZW50cmllcyhzZXJ2aWNlLm1ldGhvZHMpKSB7XG4gICAgICAgICAgICBjb25zdCBtZXRob2ROYW1lTG93ZXJDYW1lbENhc2UgPSAoMCwgdXRpbF8xLnRvTG93ZXJDYW1lbENhc2UpKG1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgbWV0aG9kc1ttZXRob2ROYW1lTG93ZXJDYW1lbENhc2VdID0gbWV0aG9kT2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnUlBDLWZhbGxiYWNrIHZlcnNpb24gb2YgY29uc3RydWN0U2V0dGluZ3NcbiAgICAgKiBBIHdyYXBwZXIgb2Yge0BsaW5rIGNvbnN0cnVjdFNldHRpbmdzfSBmdW5jdGlvbiB1bmRlciB0aGUgZ1JQQyBjb250ZXh0LlxuICAgICAqXG4gICAgICogTW9zdCBvZiBwYXJhbWV0ZXJzIGFyZSBjb21tb24gYW1vbmcgY29uc3RydWN0U2V0dGluZ3MsIHBsZWFzZSB0YWtlIGEgbG9vay5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZU5hbWUgLSBUaGUgZnVsbGx5LXF1YWxpZmllZCBuYW1lIG9mIHRoZSBzZXJ2aWNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnRDb25maWcgLSBBIGRpY3Rpb25hcnkgb2YgdGhlIGNsaWVudCBjb25maWcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ092ZXJyaWRlcyAtIEEgZGljdGlvbmFyeSBvZiBvdmVycmlkaW5nIGNvbmZpZ3MuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnMgLSBBIGRpY3Rpb25hcnkgb2YgYWRkaXRpb25hbCBIVFRQIGhlYWRlciBuYW1lIHRvXG4gICAgICogICBpdHMgdmFsdWUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBIG1hcHBpbmcgb2YgbWV0aG9kIG5hbWVzIHRvIENhbGxTZXR0aW5ncy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RTZXR0aW5ncyhzZXJ2aWNlTmFtZSwgY2xpZW50Q29uZmlnLCBjb25maWdPdmVycmlkZXMsIGhlYWRlcnMpIHtcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRNZXRhZGF0YShhYlRlc3RzLCBtb3JlSGVhZGVycykge1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIGlmICghaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNpbmNlIGdSUEMgZXhwZWN0cyBlYWNoIGhlYWRlciB0byBiZSBhbiBhcnJheSxcbiAgICAgICAgICAgIC8vIHdlIGFyZSBkb2luZyB0aGUgc2FtZSBmb3IgZmFsbGJhY2sgaGVyZS5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YVtrZXldID0gQXJyYXkuaXNBcnJheShoZWFkZXJzW2tleV0pXG4gICAgICAgICAgICAgICAgICAgID8gaGVhZGVyc1trZXldXG4gICAgICAgICAgICAgICAgICAgIDogW2hlYWRlcnNba2V5XV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBnUlBDLWZhbGxiYWNrIHJlcXVlc3QgbXVzdCBoYXZlICdncnBjLXdlYi8nIGluICd4LWdvb2ctYXBpLWNsaWVudCdcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFZlcnNpb25zID0gW107XG4gICAgICAgICAgICBpZiAobWV0YWRhdGFbQ0xJRU5UX1ZFUlNJT05fSEVBREVSXSAmJlxuICAgICAgICAgICAgICAgIG1ldGFkYXRhW0NMSUVOVF9WRVJTSU9OX0hFQURFUl1bMF0pIHtcbiAgICAgICAgICAgICAgICBjbGllbnRWZXJzaW9ucy5wdXNoKC4uLm1ldGFkYXRhW0NMSUVOVF9WRVJTSU9OX0hFQURFUl1bMF0uc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGllbnRWZXJzaW9ucy5wdXNoKGBncnBjLXdlYi8ke2V4cG9ydHMudmVyc2lvbn1gKTtcbiAgICAgICAgICAgIG1ldGFkYXRhW0NMSUVOVF9WRVJTSU9OX0hFQURFUl0gPSBbY2xpZW50VmVyc2lvbnMuam9pbignICcpXTtcbiAgICAgICAgICAgIGlmICghbW9yZUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtb3JlSGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSAhPT0gQ0xJRU5UX1ZFUlNJT05fSEVBREVSKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbW9yZUhlYWRlcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGFba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWV0YWRhdGFba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFba2V5XS5wdXNoKC4uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuIG5vdCBhZGQgdmFsdWUgJHt2YWx1ZX0gdG8gdGhlIGNhbGwgbWV0YWRhdGEuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFba2V5XSA9IFt2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdheC5jb25zdHJ1Y3RTZXR0aW5ncyhzZXJ2aWNlTmFtZSwgY2xpZW50Q29uZmlnLCBjb25maWdPdmVycmlkZXMsIHN0YXR1c18xLlN0YXR1cywgeyBtZXRhZGF0YUJ1aWxkZXI6IGJ1aWxkTWV0YWRhdGEgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdSUEMtZmFsbGJhY2sgdmVyc2lvbiBvZiBjcmVhdGVTdHViXG4gICAgICogQ3JlYXRlcyBhIGdSUEMtZmFsbGJhY2sgc3R1YiB3aXRoIGF1dGhlbnRpY2F0aW9uIGhlYWRlcnMgYnVpbHQgZnJvbSBzdXBwbGllZCBPQXV0aDJDbGllbnQgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IENyZWF0ZVN0dWIgLSBUaGUgY29uc3RydWN0b3IgZnVuY3Rpb24gb2YgdGhlIHN0dWIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlcnZpY2UgLSBBIHByb3RvYnVmanMgU2VydmljZSBvYmplY3QgKGFzIHJldHVybmVkIGJ5IGxvb2t1cFNlcnZpY2UpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBDb25uZWN0aW9uIG9wdGlvbnMsIGFzIGRlc2NyaWJlZCBiZWxvdy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0cy5zZXJ2aWNlUGF0aCAtIFRoZSBob3N0bmFtZSBvZiB0aGUgQVBJIGVuZHBvaW50IHNlcnZpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdHMucG9ydCAtIFRoZSBwb3J0IG9mIHRoZSBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBhIGdSUEMtZmFsbGJhY2sgc2VydmljZSBzdHViLCB3aGljaCBpcyBhIHByb3RvYnVmLmpzIHNlcnZpY2Ugc3R1YiBpbnN0YW5jZSBtb2RpZmllZCB0byBtYXRjaCB0aGUgZ1JQQyBzdHViIEFQSVxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVN0dWIoc2VydmljZSwgb3B0cywgXG4gICAgLy8gRm9yIGNvbnNpc3RlbmN5IHdpdGggY3JlYXRlU3R1YiBpbiBncnBjLnRzLCBjdXN0b21TZXJ2aWNlUGF0aCBpcyBkZWZpbmVkOlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBjdXN0b21TZXJ2aWNlUGF0aCkge1xuICAgICAgICBpZiAoIXRoaXMuYXV0aENsaWVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0aCAmJiAnZ2V0Q2xpZW50JyBpbiB0aGlzLmF1dGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhDbGllbnQgPSAoYXdhaXQgdGhpcy5hdXRoLmdldENsaWVudCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYXV0aCAmJiAnZ2V0UmVxdWVzdEhlYWRlcnMnIGluIHRoaXMuYXV0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0aENsaWVudCA9IHRoaXMuYXV0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYXV0aENsaWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhdXRoZW50aWNhdGlvbiB3YXMgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdHMudW5pdmVyc2VEb21haW4pIHtcbiAgICAgICAgICAgIG9wdHMudW5pdmVyc2VEb21haW4gPSAnZ29vZ2xlYXBpcy5jb20nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnVuaXZlcnNlRG9tYWluKSB7XG4gICAgICAgICAgICBjb25zdCB1bml2ZXJzZUZyb21BdXRoID0gdGhpcy5hdXRoQ2xpZW50LnVuaXZlcnNlRG9tYWluO1xuICAgICAgICAgICAgaWYgKHVuaXZlcnNlRnJvbUF1dGggJiYgb3B0cy51bml2ZXJzZURvbWFpbiAhPT0gdW5pdmVyc2VGcm9tQXV0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGNvbmZpZ3VyZWQgdW5pdmVyc2UgZG9tYWluICgke29wdHMudW5pdmVyc2VEb21haW59KSBkb2VzIG5vdCBtYXRjaCB0aGUgdW5pdmVyc2UgZG9tYWluIGZvdW5kIGluIHRoZSBjcmVkZW50aWFscyAoJHt1bml2ZXJzZUZyb21BdXRofSkuIGAgK1xuICAgICAgICAgICAgICAgICAgICBcIklmIHlvdSBoYXZlbid0IGNvbmZpZ3VyZWQgdGhlIHVuaXZlcnNlIGRvbWFpbiBleHBsaWNpdGx5LCBnb29nbGVhcGlzLmNvbSBpcyB0aGUgZGVmYXVsdC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VydmljZS5yZXNvbHZlQWxsKCk7XG4gICAgICAgIGNvbnN0IG1ldGhvZHMgPSBHcnBjQ2xpZW50LmdldFNlcnZpY2VNZXRob2RzKHNlcnZpY2UpO1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IG9wdHMucHJvdG9jb2wgfHwgJ2h0dHBzJztcbiAgICAgICAgbGV0IHNlcnZpY2VQYXRoID0gb3B0cy5zZXJ2aWNlUGF0aDtcbiAgICAgICAgaWYgKCFzZXJ2aWNlUGF0aCAmJlxuICAgICAgICAgICAgc2VydmljZS5vcHRpb25zICYmXG4gICAgICAgICAgICBzZXJ2aWNlLm9wdGlvbnNbJyhnb29nbGUuYXBpLmRlZmF1bHRfaG9zdCknXSkge1xuICAgICAgICAgICAgc2VydmljZVBhdGggPSBzZXJ2aWNlLm9wdGlvbnNbJyhnb29nbGUuYXBpLmRlZmF1bHRfaG9zdCknXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlcnZpY2VQYXRoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZXRlcm1pbmUgc2VydmljZSBBUEkgcGF0aCBmb3Igc2VydmljZSAke3NlcnZpY2UubmFtZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNlcnZpY2VQb3J0O1xuICAgICAgICBjb25zdCBtYXRjaCA9IHNlcnZpY2VQYXRoLm1hdGNoKC9eKC4qKTooXFxkKykkLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgc2VydmljZVBhdGggPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIHNlcnZpY2VQb3J0ID0gcGFyc2VJbnQobWF0Y2hbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnBvcnQpIHtcbiAgICAgICAgICAgIHNlcnZpY2VQb3J0ID0gb3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzZXJ2aWNlUG9ydCkge1xuICAgICAgICAgICAgc2VydmljZVBvcnQgPSA0NDM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RlciA9IGZhbGxiYWNrUmVzdC5lbmNvZGVSZXF1ZXN0O1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gZmFsbGJhY2tSZXN0LmRlY29kZVJlc3BvbnNlO1xuICAgICAgICBjb25zdCBzZXJ2aWNlU3R1YiA9ICgwLCBmYWxsYmFja1NlcnZpY2VTdHViXzEuZ2VuZXJhdGVTZXJ2aWNlU3R1YikobWV0aG9kcywgcHJvdG9jb2wsIHNlcnZpY2VQYXRoLCBzZXJ2aWNlUG9ydCwgdGhpcy5hdXRoQ2xpZW50LCBlbmNvZGVyLCBkZWNvZGVyLCB0aGlzLm51bWVyaWNFbnVtcyk7XG4gICAgICAgIHJldHVybiBzZXJ2aWNlU3R1YjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhICdieXRlbGVuZ3RoJyBmdW5jdGlvbiBmb3IgYSBnaXZlbiBwcm90byBtZXNzYWdlIGNsYXNzLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayBCdW5kbGVEZXNjcmlwdG9yfSBhYm91dCB0aGUgbWVhbmluZyBvZiB0aGUgcmV0dXJuIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWVzc2FnZSAtIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBpcyBnZW5lcmF0ZWQgYnlcbiAgICAgKiAgIHByb3RvYnVmLmpzLiBBc3N1bWVzICdlbmNvZGVyJyBmaWVsZCBpbiB0aGUgbWVzc2FnZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihPYmplY3QpOm51bWJlcn0gLSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgdGhlIGJ5dGUgbGVuZ3RoXG4gICAgICogICBmb3IgYW4gb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZ2F4LmNyZWF0ZUJ5dGVMZW5ndGhGdW5jdGlvbihtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLkdycGNDbGllbnQgPSBHcnBjQ2xpZW50O1xuR3JwY0NsaWVudC5wcm90b0NhY2hlID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBnUlBDLWZhbGxiYWNrIHZlcnNpb24gb2YgbHJvXG4gKlxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zLmF1dGggLSBBbiBpbnN0YW5jZSBvZiBnb29nbGUtYXV0aC1saWJyYXJ5LlxuICogQHJldHVybiB7T2JqZWN0fSBBIE9wZXJhdGlvbnNDbGllbnRCdWlsZGVyIHRoYXQgd2lsbCByZXR1cm4gYSBPcGVyYXRpb25zQ2xpZW50XG4gKi9cbmZ1bmN0aW9uIGxybyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBzY29wZXM6IFtdIH0sIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnByb3RvSnNvbikge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7IGZhbGxiYWNrOiB0cnVlIH0pO1xuICAgIH1cbiAgICBjb25zdCBnYXhHcnBjID0gbmV3IEdycGNDbGllbnQob3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBvcGVyYXRpb25zQ2xpZW50XzEuT3BlcmF0aW9uc0NsaWVudEJ1aWxkZXIoZ2F4R3JwYywgb3B0aW9ucy5wcm90b0pzb24pO1xufVxuLyoqXG4gKiBnUlBDLWZhbGxiYWNrIHZlcnNpb24gb2YgY3JlYXRlQXBpQ2FsbFxuICpcbiAqIENvbnZlcnRzIGFuIHJwYyBjYWxsIGludG8gYW4gQVBJIGNhbGwgZ292ZXJuZWQgYnkgdGhlIHNldHRpbmdzLlxuICpcbiAqIEluIHR5cGljYWwgdXNhZ2UsIGBmdW5jYCB3aWxsIGJlIGEgcHJvbWlzZSB0byBhIGNhbGxhYmxlIHVzZWQgdG8gbWFrZSBhbiBycGNcbiAqIHJlcXVlc3QuIFRoaXMgd2lsbCBtb3N0bHkgbGlrZWx5IGJlIGEgYm91bmQgbWV0aG9kIGZyb20gYSByZXF1ZXN0IHN0dWIgdXNlZFxuICogdG8gbWFrZSBhbiBycGMgY2FsbC4gSXQgaXMgbm90IGEgZGlyZWN0IGZ1bmN0aW9uIGJ1dCBhIFByb21pc2UgaW5zdGFuY2UsXG4gKiBiZWNhdXNlIG9mIGl0cyBhc3luY2hyb25pc20gKHR5cGljYWxseSwgb2J0YWluaW5nIHRoZSBhdXRoIGluZm9ybWF0aW9uKS5cbiAqXG4gKiBUaGUgcmVzdWx0IGlzIGEgZnVuY3Rpb24gd2hpY2ggbWFuYWdlcyB0aGUgQVBJIGNhbGwgd2l0aCB0aGUgZ2l2ZW4gc2V0dGluZ3NcbiAqIGFuZCB0aGUgb3B0aW9ucyBvbiB0aGUgaW52b2NhdGlvbi5cbiAqXG4gKiBUaHJvd3MgZXhjZXB0aW9uIG9uIHVuc3VwcG9ydGVkIHN0cmVhbWluZyBjYWxsc1xuICpcbiAqIEBwYXJhbSB7UHJvbWlzZTxHUlBDQ2FsbD58R1JQQ0NhbGx9IGZ1bmMgLSBpcyBlaXRoZXIgYSBwcm9taXNlIHRvIGJlIHVzZWQgdG8gbWFrZVxuICogICBhIGJhcmUgUlBDIGNhbGwsIG9yIGp1c3QgYSBiYXJlIFJQQyBjYWxsLlxuICogQHBhcmFtIHtDYWxsU2V0dGluZ3N9IHNldHRpbmdzIC0gcHJvdmlkZXMgdGhlIHNldHRpbmdzIGZvciB0aGlzIGNhbGxcbiAqIEBwYXJhbSB7RGVzY3JpcHRvcn0gZGVzY3JpcHRvciAtIG9wdGlvbmFsbHkgc3BlY2lmeSB0aGUgZGVzY3JpcHRvciBmb3JcbiAqICAgdGhlIG1ldGhvZCBjYWxsLlxuICogQHJldHVybiB7R2F4Q2FsbH0gZnVuYyAtIGEgYm91bmQgbWV0aG9kIG9uIGEgcmVxdWVzdCBzdHViIHVzZWRcbiAqICAgdG8gbWFrZSBhbiBycGMgY2FsbC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXBpQ2FsbChmdW5jLCBzZXR0aW5ncywgZGVzY3JpcHRvciwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5fZmFsbGJhY2sgLy8gdW51c2VkOyBmb3IgY29tcGF0aWJpbGl0eSBvbmx5XG4pIHtcbiAgICBpZiAoZGVzY3JpcHRvciAmJlxuICAgICAgICAnc3RyZWFtaW5nJyBpbiBkZXNjcmlwdG9yICYmXG4gICAgICAgIGRlc2NyaXB0b3IudHlwZSAhPT0gc3RyZWFtaW5nXzEuU3RyZWFtVHlwZS5TRVJWRVJfU1RSRUFNSU5HKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBSRVNUIHRyYW5zcG9ydCBjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBjbGllbnQtc3RyZWFtaW5nIG9yIGJpZGktc3RyZWFtIGNhbGxzLicpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoZGVzY3JpcHRvciAmJiAnc3RyZWFtaW5nJyBpbiBkZXNjcmlwdG9yICYmICEoMCwgZmVhdHVyZURldGVjdGlvbl8xLmlzTm9kZUpTKSgpKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlcnZlciBzdHJlYW1pbmcgb3ZlciB0aGUgUkVTVCB0cmFuc3BvcnQgaXMgb25seSBzdXBwb3J0ZWQgaW4gTm9kZS5qcy4nKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCBjcmVhdGVBcGlDYWxsXzEuY3JlYXRlQXBpQ2FsbCkoZnVuYywgc2V0dGluZ3MsIGRlc2NyaXB0b3IpO1xufVxuZXhwb3J0cy5wcm90b2J1Zk1pbmltYWwgPSByZXF1aXJlKFwicHJvdG9idWZqcy9taW5pbWFsXCIpO1xudmFyIHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi93YXJuaW5nc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndhcm5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdhcm5pbmdzXzEud2FybjsgfSB9KTtcbnZhciBsb25ncnVubmluZ18xID0gcmVxdWlyZShcIi4vbG9uZ1J1bm5pbmdDYWxscy9sb25ncnVubmluZ1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk9wZXJhdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9uZ3J1bm5pbmdfMS5PcGVyYXRpb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJvcGVyYXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvbmdydW5uaW5nXzEub3BlcmF0aW9uOyB9IH0pO1xudmFyIGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi9nb29nbGVFcnJvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdvb2dsZUVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yOyB9IH0pO1xuLy8gRGlmZmVyZW50IGVudmlyb25tZW50cyBvciBidW5kbGVycyBtYXkgb3IgbWF5IG5vdCByZXNwZWN0IFwiYnJvd3NlclwiIGZpZWxkXG4vLyBpbiBwYWNrYWdlLmpzb24gKGUuZy4gRWxlY3Ryb24gZG9lcyBub3QgcmVzcGVjdCBpdCwgYnV0IGlmIHlvdSBydW4gdGhlIGNvZGVcbi8vIHRocm91Z2ggd2VicGFjayBmaXJzdCwgaXQgd2lsbCBmb2xsb3cgdGhlIFwiYnJvd3NlclwiIGZpZWxkKS5cbi8vIFRvIG1ha2UgaXQgc2FmZXIgYW5kIG1vcmUgY29tcGF0aWJsZSwgbGV0J3MgbWFrZSBzdXJlIHRoYXQgaWYgeW91IGRvXG4vLyBjb25zdCBnYXggPSByZXF1aXJlKFwiZ29vZ2xlLWdheFwiKTtcbi8vIHlvdSBjYW4gYWx3YXlzIGFzayBmb3IgZ2F4LmZhbGxiYWNrLCByZWdhcmRsZXNzIG9mIFwiYnJvd3NlclwiIGZpZWxkIGJlaW5nXG4vLyB1bmRlcnN0b29kIG9yIG5vdC5cbmNvbnN0IGZhbGxiYWNrID0gbW9kdWxlLmV4cG9ydHM7XG5leHBvcnRzLmZhbGxiYWNrID0gZmFsbGJhY2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mYWxsYmFjay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/fallback.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/fallbackRest.js":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/src/fallbackRest.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.encodeRequest = encodeRequest;\nexports.decodeResponse = decodeResponse;\n// proto-over-HTTP request encoding and decoding\nconst serializer = __webpack_require__(/*! proto3-json-serializer */ \"(rsc)/./node_modules/proto3-json-serializer/build/src/index.js\");\nconst fallback_1 = __webpack_require__(/*! ./fallback */ \"(rsc)/./node_modules/google-gax/build/src/fallback.js\");\nconst googleError_1 = __webpack_require__(/*! ./googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nconst transcoding_1 = __webpack_require__(/*! ./transcoding */ \"(rsc)/./node_modules/google-gax/build/src/transcoding.js\");\nfunction encodeRequest(rpc, protocol, servicePath, servicePort, request, numericEnums) {\n    const headers = {\n        'Content-Type': 'application/json',\n    };\n    const message = rpc.resolvedRequestType.fromObject(request);\n    const json = serializer.toProto3JSON(message, {\n        numericEnums,\n    });\n    if (!json) {\n        throw new Error(`Cannot send null request to RPC ${rpc.name}.`);\n    }\n    if (typeof json !== 'object' || Array.isArray(json)) {\n        throw new Error(`Request to RPC ${rpc.name} must be an object.`);\n    }\n    const transcoded = (0, transcoding_1.transcode)(json, rpc.parsedOptions);\n    if (!transcoded) {\n        throw new Error(`Cannot build HTTP request for ${JSON.stringify(json)}, method: ${rpc.name}`);\n    }\n    // If numeric enums feature is requested, add extra parameter to the query string\n    if (numericEnums) {\n        transcoded.queryString =\n            (transcoded.queryString ? `${transcoded.queryString}&` : '') +\n                '$alt=json%3Benum-encoding=int';\n    }\n    // Converts httpMethod to method that permitted in standard Fetch API spec\n    // https://fetch.spec.whatwg.org/#methods\n    const method = transcoded.httpMethod.toUpperCase();\n    const body = JSON.stringify(transcoded.data);\n    const url = `${protocol}://${servicePath}:${servicePort}/${transcoded.url.replace(/^\\//, '')}?${transcoded.queryString}`;\n    return {\n        method,\n        url,\n        headers,\n        body,\n    };\n}\nfunction decodeResponse(rpc, ok, response) {\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    const decodedString = new TextDecoder().decode(response);\n    if (!decodedString) {\n        throw new Error(`Received null response from RPC ${rpc.name}`);\n    }\n    const json = JSON.parse(decodedString);\n    if (!ok) {\n        const error = googleError_1.GoogleError.parseHttpError(json);\n        throw error;\n    }\n    const message = serializer.fromProto3JSON(rpc.resolvedResponseType, json);\n    if (!message) {\n        throw new Error(`Received null or malformed response from JSON serializer from RPC ${rpc.name}`);\n    }\n    return rpc.resolvedResponseType.toObject(message, fallback_1.defaultToObjectOptions);\n}\n//# sourceMappingURL=fallbackRest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmFsbGJhY2tSZXN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixzQkFBc0I7QUFDdEI7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyw4RkFBd0I7QUFDbkQsbUJBQW1CLG1CQUFPLENBQUMseUVBQVk7QUFDdkMsc0JBQXNCLG1CQUFPLENBQUMsK0VBQWU7QUFDN0Msc0JBQXNCLG1CQUFPLENBQUMsK0VBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyREFBMkQsU0FBUztBQUNwRTtBQUNBO0FBQ0EsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EseURBQXlELHFCQUFxQixZQUFZLFNBQVM7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsdUJBQXVCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTLEtBQUssWUFBWSxHQUFHLFlBQVksR0FBRyxrQ0FBa0MsR0FBRyx1QkFBdUI7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxTQUFTO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsU0FBUztBQUN0RztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9mYWxsYmFja1Jlc3QuanM/MzQ5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZW5jb2RlUmVxdWVzdCA9IGVuY29kZVJlcXVlc3Q7XG5leHBvcnRzLmRlY29kZVJlc3BvbnNlID0gZGVjb2RlUmVzcG9uc2U7XG4vLyBwcm90by1vdmVyLUhUVFAgcmVxdWVzdCBlbmNvZGluZyBhbmQgZGVjb2RpbmdcbmNvbnN0IHNlcmlhbGl6ZXIgPSByZXF1aXJlKFwicHJvdG8zLWpzb24tc2VyaWFsaXplclwiKTtcbmNvbnN0IGZhbGxiYWNrXzEgPSByZXF1aXJlKFwiLi9mYWxsYmFja1wiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi9nb29nbGVFcnJvclwiKTtcbmNvbnN0IHRyYW5zY29kaW5nXzEgPSByZXF1aXJlKFwiLi90cmFuc2NvZGluZ1wiKTtcbmZ1bmN0aW9uIGVuY29kZVJlcXVlc3QocnBjLCBwcm90b2NvbCwgc2VydmljZVBhdGgsIHNlcnZpY2VQb3J0LCByZXF1ZXN0LCBudW1lcmljRW51bXMpIHtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gICAgY29uc3QgbWVzc2FnZSA9IHJwYy5yZXNvbHZlZFJlcXVlc3RUeXBlLmZyb21PYmplY3QocmVxdWVzdCk7XG4gICAgY29uc3QganNvbiA9IHNlcmlhbGl6ZXIudG9Qcm90bzNKU09OKG1lc3NhZ2UsIHtcbiAgICAgICAgbnVtZXJpY0VudW1zLFxuICAgIH0pO1xuICAgIGlmICghanNvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBzZW5kIG51bGwgcmVxdWVzdCB0byBSUEMgJHtycGMubmFtZX0uYCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YganNvbiAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVlc3QgdG8gUlBDICR7cnBjLm5hbWV9IG11c3QgYmUgYW4gb2JqZWN0LmApO1xuICAgIH1cbiAgICBjb25zdCB0cmFuc2NvZGVkID0gKDAsIHRyYW5zY29kaW5nXzEudHJhbnNjb2RlKShqc29uLCBycGMucGFyc2VkT3B0aW9ucyk7XG4gICAgaWYgKCF0cmFuc2NvZGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGJ1aWxkIEhUVFAgcmVxdWVzdCBmb3IgJHtKU09OLnN0cmluZ2lmeShqc29uKX0sIG1ldGhvZDogJHtycGMubmFtZX1gKTtcbiAgICB9XG4gICAgLy8gSWYgbnVtZXJpYyBlbnVtcyBmZWF0dXJlIGlzIHJlcXVlc3RlZCwgYWRkIGV4dHJhIHBhcmFtZXRlciB0byB0aGUgcXVlcnkgc3RyaW5nXG4gICAgaWYgKG51bWVyaWNFbnVtcykge1xuICAgICAgICB0cmFuc2NvZGVkLnF1ZXJ5U3RyaW5nID1cbiAgICAgICAgICAgICh0cmFuc2NvZGVkLnF1ZXJ5U3RyaW5nID8gYCR7dHJhbnNjb2RlZC5xdWVyeVN0cmluZ30mYCA6ICcnKSArXG4gICAgICAgICAgICAgICAgJyRhbHQ9anNvbiUzQmVudW0tZW5jb2Rpbmc9aW50JztcbiAgICB9XG4gICAgLy8gQ29udmVydHMgaHR0cE1ldGhvZCB0byBtZXRob2QgdGhhdCBwZXJtaXR0ZWQgaW4gc3RhbmRhcmQgRmV0Y2ggQVBJIHNwZWNcbiAgICAvLyBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jbWV0aG9kc1xuICAgIGNvbnN0IG1ldGhvZCA9IHRyYW5zY29kZWQuaHR0cE1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0cmFuc2NvZGVkLmRhdGEpO1xuICAgIGNvbnN0IHVybCA9IGAke3Byb3RvY29sfTovLyR7c2VydmljZVBhdGh9OiR7c2VydmljZVBvcnR9LyR7dHJhbnNjb2RlZC51cmwucmVwbGFjZSgvXlxcLy8sICcnKX0/JHt0cmFuc2NvZGVkLnF1ZXJ5U3RyaW5nfWA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICB1cmwsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGJvZHksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRlY29kZVJlc3BvbnNlKHJwYywgb2ssIHJlc3BvbnNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG4vbm8tdW5zdXBwb3J0ZWQtZmVhdHVyZXMvbm9kZS1idWlsdGluc1xuICAgIGNvbnN0IGRlY29kZWRTdHJpbmcgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUocmVzcG9uc2UpO1xuICAgIGlmICghZGVjb2RlZFN0cmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY2VpdmVkIG51bGwgcmVzcG9uc2UgZnJvbSBSUEMgJHtycGMubmFtZX1gKTtcbiAgICB9XG4gICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGVjb2RlZFN0cmluZyk7XG4gICAgaWYgKCFvaykge1xuICAgICAgICBjb25zdCBlcnJvciA9IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IucGFyc2VIdHRwRXJyb3IoanNvbik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCBtZXNzYWdlID0gc2VyaWFsaXplci5mcm9tUHJvdG8zSlNPTihycGMucmVzb2x2ZWRSZXNwb25zZVR5cGUsIGpzb24pO1xuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY2VpdmVkIG51bGwgb3IgbWFsZm9ybWVkIHJlc3BvbnNlIGZyb20gSlNPTiBzZXJpYWxpemVyIGZyb20gUlBDICR7cnBjLm5hbWV9YCk7XG4gICAgfVxuICAgIHJldHVybiBycGMucmVzb2x2ZWRSZXNwb25zZVR5cGUudG9PYmplY3QobWVzc2FnZSwgZmFsbGJhY2tfMS5kZWZhdWx0VG9PYmplY3RPcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZhbGxiYWNrUmVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/fallbackRest.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/fallbackServiceStub.js":
/*!******************************************************************!*\
  !*** ./node_modules/google-gax/build/src/fallbackServiceStub.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.generateServiceStub = generateServiceStub;\n/* global window */\n/* global AbortController */\nconst node_fetch_1 = __webpack_require__(/*! node-fetch */ \"(rsc)/./node_modules/node-fetch/lib/index.mjs\");\nconst abort_controller_1 = __webpack_require__(/*! abort-controller */ \"(rsc)/./node_modules/abort-controller/dist/abort-controller.js\");\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(rsc)/./node_modules/google-gax/build/src/featureDetection.js\");\nconst streamArrayParser_1 = __webpack_require__(/*! ./streamArrayParser */ \"(rsc)/./node_modules/google-gax/build/src/streamArrayParser.js\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nfunction generateServiceStub(rpcs, protocol, servicePath, servicePort, authClient, requestEncoder, responseDecoder, numericEnums) {\n    const fetch = (0, featureDetection_1.hasWindowFetch)()\n        ? window.fetch\n        : node_fetch_1.default;\n    const serviceStub = {\n        // close method should close all cancel controllers. If this feature request in the future, we can have a cancelControllerFactory that tracks created cancel controllers, and abort them all in close method.\n        close: () => {\n            return { cancel: () => { } };\n        },\n    };\n    for (const [rpcName, rpc] of Object.entries(rpcs)) {\n        serviceStub[rpcName] = (request, options, _metadata, callback) => {\n            options !== null && options !== void 0 ? options : (options = {});\n            // We cannot use async-await in this function because we need to return the canceller object as soon as possible.\n            // Using plain old promises instead.\n            let fetchParameters;\n            try {\n                fetchParameters = requestEncoder(rpc, protocol, servicePath, servicePort, request, numericEnums);\n            }\n            catch (err) {\n                // we could not encode parameters; pass error to the callback\n                // and return a no-op canceler object.\n                if (callback) {\n                    callback(err);\n                }\n                return {\n                    cancel() { },\n                };\n            }\n            const cancelController = (0, featureDetection_1.hasAbortController)()\n                ? new AbortController()\n                : new abort_controller_1.AbortController();\n            const cancelSignal = cancelController.signal;\n            let cancelRequested = false;\n            const url = fetchParameters.url;\n            const headers = fetchParameters.headers;\n            for (const key of Object.keys(options)) {\n                headers[key] = options[key][0];\n            }\n            const streamArrayParser = new streamArrayParser_1.StreamArrayParser(rpc);\n            authClient\n                .getRequestHeaders()\n                .then(authHeader => {\n                const fetchRequest = {\n                    headers: {\n                        ...authHeader,\n                        ...headers,\n                    },\n                    body: fetchParameters.body,\n                    method: fetchParameters.method,\n                    signal: cancelSignal,\n                };\n                if (fetchParameters.method === 'GET' ||\n                    fetchParameters.method === 'DELETE') {\n                    delete fetchRequest['body'];\n                }\n                return fetch(url, fetchRequest);\n            })\n                .then((response) => {\n                if (response.ok && rpc.responseStream) {\n                    (0, stream_1.pipeline)(response.body, streamArrayParser, (err) => {\n                        if (err &&\n                            (!cancelRequested ||\n                                (err instanceof Error && err.name !== 'AbortError'))) {\n                            if (callback) {\n                                callback(err);\n                            }\n                            streamArrayParser.emit('error', err);\n                        }\n                    });\n                    return;\n                }\n                else {\n                    return Promise.all([\n                        Promise.resolve(response.ok),\n                        response.arrayBuffer(),\n                    ])\n                        .then(([ok, buffer]) => {\n                        const response = responseDecoder(rpc, ok, buffer);\n                        callback(null, response);\n                    })\n                        .catch((err) => {\n                        if (!cancelRequested || err.name !== 'AbortError') {\n                            if (rpc.responseStream) {\n                                if (callback) {\n                                    callback(err);\n                                }\n                                streamArrayParser.emit('error', err);\n                            }\n                            else if (callback) {\n                                callback(err);\n                            }\n                            else {\n                                throw err;\n                            }\n                        }\n                    });\n                }\n            })\n                .catch((err) => {\n                if (rpc.responseStream) {\n                    if (callback) {\n                        callback(err);\n                    }\n                    streamArrayParser.emit('error', err);\n                }\n                else if (callback) {\n                    callback(err);\n                }\n                else {\n                    throw err;\n                }\n            });\n            if (rpc.responseStream) {\n                return streamArrayParser;\n            }\n            return {\n                cancel: () => {\n                    cancelRequested = true;\n                    cancelController.abort();\n                },\n            };\n        };\n    }\n    return serviceStub;\n}\n//# sourceMappingURL=fallbackServiceStub.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmFsbGJhY2tTZXJ2aWNlU3R1Yi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLGlFQUFZO0FBQ3pDLDJCQUEyQixtQkFBTyxDQUFDLHdGQUFrQjtBQUNyRCwyQkFBMkIsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDdkQsNEJBQTRCLG1CQUFPLENBQUMsMkZBQXFCO0FBQ3pELGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmFsbGJhY2tTZXJ2aWNlU3R1Yi5qcz80ODk2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZW5lcmF0ZVNlcnZpY2VTdHViID0gZ2VuZXJhdGVTZXJ2aWNlU3R1Yjtcbi8qIGdsb2JhbCB3aW5kb3cgKi9cbi8qIGdsb2JhbCBBYm9ydENvbnRyb2xsZXIgKi9cbmNvbnN0IG5vZGVfZmV0Y2hfMSA9IHJlcXVpcmUoXCJub2RlLWZldGNoXCIpO1xuY29uc3QgYWJvcnRfY29udHJvbGxlcl8xID0gcmVxdWlyZShcImFib3J0LWNvbnRyb2xsZXJcIik7XG5jb25zdCBmZWF0dXJlRGV0ZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9mZWF0dXJlRGV0ZWN0aW9uXCIpO1xuY29uc3Qgc3RyZWFtQXJyYXlQYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbUFycmF5UGFyc2VyXCIpO1xuY29uc3Qgc3RyZWFtXzEgPSByZXF1aXJlKFwic3RyZWFtXCIpO1xuZnVuY3Rpb24gZ2VuZXJhdGVTZXJ2aWNlU3R1YihycGNzLCBwcm90b2NvbCwgc2VydmljZVBhdGgsIHNlcnZpY2VQb3J0LCBhdXRoQ2xpZW50LCByZXF1ZXN0RW5jb2RlciwgcmVzcG9uc2VEZWNvZGVyLCBudW1lcmljRW51bXMpIHtcbiAgICBjb25zdCBmZXRjaCA9ICgwLCBmZWF0dXJlRGV0ZWN0aW9uXzEuaGFzV2luZG93RmV0Y2gpKClcbiAgICAgICAgPyB3aW5kb3cuZmV0Y2hcbiAgICAgICAgOiBub2RlX2ZldGNoXzEuZGVmYXVsdDtcbiAgICBjb25zdCBzZXJ2aWNlU3R1YiA9IHtcbiAgICAgICAgLy8gY2xvc2UgbWV0aG9kIHNob3VsZCBjbG9zZSBhbGwgY2FuY2VsIGNvbnRyb2xsZXJzLiBJZiB0aGlzIGZlYXR1cmUgcmVxdWVzdCBpbiB0aGUgZnV0dXJlLCB3ZSBjYW4gaGF2ZSBhIGNhbmNlbENvbnRyb2xsZXJGYWN0b3J5IHRoYXQgdHJhY2tzIGNyZWF0ZWQgY2FuY2VsIGNvbnRyb2xsZXJzLCBhbmQgYWJvcnQgdGhlbSBhbGwgaW4gY2xvc2UgbWV0aG9kLlxuICAgICAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2FuY2VsOiAoKSA9PiB7IH0gfTtcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW3JwY05hbWUsIHJwY10gb2YgT2JqZWN0LmVudHJpZXMocnBjcykpIHtcbiAgICAgICAgc2VydmljZVN0dWJbcnBjTmFtZV0gPSAocmVxdWVzdCwgb3B0aW9ucywgX21ldGFkYXRhLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDogKG9wdGlvbnMgPSB7fSk7XG4gICAgICAgICAgICAvLyBXZSBjYW5ub3QgdXNlIGFzeW5jLWF3YWl0IGluIHRoaXMgZnVuY3Rpb24gYmVjYXVzZSB3ZSBuZWVkIHRvIHJldHVybiB0aGUgY2FuY2VsbGVyIG9iamVjdCBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICAgICAgICAgICAgLy8gVXNpbmcgcGxhaW4gb2xkIHByb21pc2VzIGluc3RlYWQuXG4gICAgICAgICAgICBsZXQgZmV0Y2hQYXJhbWV0ZXJzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmZXRjaFBhcmFtZXRlcnMgPSByZXF1ZXN0RW5jb2RlcihycGMsIHByb3RvY29sLCBzZXJ2aWNlUGF0aCwgc2VydmljZVBvcnQsIHJlcXVlc3QsIG51bWVyaWNFbnVtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgY291bGQgbm90IGVuY29kZSBwYXJhbWV0ZXJzOyBwYXNzIGVycm9yIHRvIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gYSBuby1vcCBjYW5jZWxlciBvYmplY3QuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpIHsgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FuY2VsQ29udHJvbGxlciA9ICgwLCBmZWF0dXJlRGV0ZWN0aW9uXzEuaGFzQWJvcnRDb250cm9sbGVyKSgpXG4gICAgICAgICAgICAgICAgPyBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICAgICAgICAgICAgICA6IG5ldyBhYm9ydF9jb250cm9sbGVyXzEuQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxTaWduYWwgPSBjYW5jZWxDb250cm9sbGVyLnNpZ25hbDtcbiAgICAgICAgICAgIGxldCBjYW5jZWxSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGZldGNoUGFyYW1ldGVycy51cmw7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZmV0Y2hQYXJhbWV0ZXJzLmhlYWRlcnM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnNba2V5XSA9IG9wdGlvbnNba2V5XVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbUFycmF5UGFyc2VyID0gbmV3IHN0cmVhbUFycmF5UGFyc2VyXzEuU3RyZWFtQXJyYXlQYXJzZXIocnBjKTtcbiAgICAgICAgICAgIGF1dGhDbGllbnRcbiAgICAgICAgICAgICAgICAuZ2V0UmVxdWVzdEhlYWRlcnMoKVxuICAgICAgICAgICAgICAgIC50aGVuKGF1dGhIZWFkZXIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXV0aEhlYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGZldGNoUGFyYW1ldGVycy5ib2R5LFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGZldGNoUGFyYW1ldGVycy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbDogY2FuY2VsU2lnbmFsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZldGNoUGFyYW1ldGVycy5tZXRob2QgPT09ICdHRVQnIHx8XG4gICAgICAgICAgICAgICAgICAgIGZldGNoUGFyYW1ldGVycy5tZXRob2QgPT09ICdERUxFVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmZXRjaFJlcXVlc3RbJ2JvZHknXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybCwgZmV0Y2hSZXF1ZXN0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rICYmIHJwYy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgc3RyZWFtXzEucGlwZWxpbmUpKHJlc3BvbnNlLmJvZHksIHN0cmVhbUFycmF5UGFyc2VyLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFjYW5jZWxSZXF1ZXN0ZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5uYW1lICE9PSAnQWJvcnRFcnJvcicpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1BcnJheVBhcnNlci5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLm9rKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmFycmF5QnVmZmVyKCksXG4gICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoW29rLCBidWZmZXJdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlRGVjb2RlcihycGMsIG9rLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FuY2VsUmVxdWVzdGVkIHx8IGVyci5uYW1lICE9PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnBjLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1BcnJheVBhcnNlci5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJwYy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtQXJyYXlQYXJzZXIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJwYy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJlYW1BcnJheVBhcnNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbFJlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcnZpY2VTdHViO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFsbGJhY2tTZXJ2aWNlU3R1Yi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/fallbackServiceStub.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/featureDetection.js":
/*!***************************************************************!*\
  !*** ./node_modules/google-gax/build/src/featureDetection.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.hasWindowFetch = hasWindowFetch;\nexports.isNodeJS = isNodeJS;\nexports.hasAbortController = hasAbortController;\n/* global window */\nconst features = {\n    windowFetch: typeof window !== 'undefined' &&\n        (window === null || window === void 0 ? void 0 : window.fetch) &&\n        typeof (window === null || window === void 0 ? void 0 : window.fetch) === 'function',\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    textEncoder: typeof TextEncoder !== 'undefined',\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    textDecoder: typeof TextDecoder !== 'undefined',\n    nodeJS: typeof process !== 'undefined' && ((_a = process === null || process === void 0 ? void 0 : process.versions) === null || _a === void 0 ? void 0 : _a.node),\n    abortController: typeof AbortController !== 'undefined',\n};\nfunction hasWindowFetch() {\n    return features.windowFetch;\n}\nfunction isNodeJS() {\n    return features.nodeJS;\n}\nfunction hasAbortController() {\n    return features.abortController;\n}\n//# sourceMappingURL=featureDetection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZmVhdHVyZURldGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixnQkFBZ0I7QUFDaEIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2ZlYXR1cmVEZXRlY3Rpb24uanM/YmI1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfYTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaGFzV2luZG93RmV0Y2ggPSBoYXNXaW5kb3dGZXRjaDtcbmV4cG9ydHMuaXNOb2RlSlMgPSBpc05vZGVKUztcbmV4cG9ydHMuaGFzQWJvcnRDb250cm9sbGVyID0gaGFzQWJvcnRDb250cm9sbGVyO1xuLyogZ2xvYmFsIHdpbmRvdyAqL1xuY29uc3QgZmVhdHVyZXMgPSB7XG4gICAgd2luZG93RmV0Y2g6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuZmV0Y2gpICYmXG4gICAgICAgIHR5cGVvZiAod2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmZldGNoKSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9uby11bnN1cHBvcnRlZC1mZWF0dXJlcy9ub2RlLWJ1aWx0aW5zXG4gICAgdGV4dEVuY29kZXI6IHR5cGVvZiBUZXh0RW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG4vbm8tdW5zdXBwb3J0ZWQtZmVhdHVyZXMvbm9kZS1idWlsdGluc1xuICAgIHRleHREZWNvZGVyOiB0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnLFxuICAgIG5vZGVKUzogdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICgoX2EgPSBwcm9jZXNzID09PSBudWxsIHx8IHByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2Nlc3MudmVyc2lvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub2RlKSxcbiAgICBhYm9ydENvbnRyb2xsZXI6IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnLFxufTtcbmZ1bmN0aW9uIGhhc1dpbmRvd0ZldGNoKCkge1xuICAgIHJldHVybiBmZWF0dXJlcy53aW5kb3dGZXRjaDtcbn1cbmZ1bmN0aW9uIGlzTm9kZUpTKCkge1xuICAgIHJldHVybiBmZWF0dXJlcy5ub2RlSlM7XG59XG5mdW5jdGlvbiBoYXNBYm9ydENvbnRyb2xsZXIoKSB7XG4gICAgcmV0dXJuIGZlYXR1cmVzLmFib3J0Q29udHJvbGxlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXR1cmVEZXRlY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/featureDetection.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/gax.js":
/*!**************************************************!*\
  !*** ./node_modules/google-gax/build/src/gax.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CallSettings = exports.RetryOptions = void 0;\nexports.convertRetryOptions = convertRetryOptions;\nexports.createRetryOptions = createRetryOptions;\nexports.createBackoffSettings = createBackoffSettings;\nexports.createDefaultBackoffSettings = createDefaultBackoffSettings;\nexports.createMaxRetriesBackoffSettings = createMaxRetriesBackoffSettings;\nexports.createBundleOptions = createBundleOptions;\nexports.constructSettings = constructSettings;\nexports.createByteLengthFunction = createByteLengthFunction;\nconst warnings_1 = __webpack_require__(/*! ./warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/google-gax/build/src/util.js\");\nconst status_1 = __webpack_require__(/*! ./status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\n/**\n * Encapsulates the overridable settings for a particular API call.\n *\n * ``CallOptions`` is an optional arg for all GAX API calls.  It is used to\n * configure the settings of a specific API call.\n *\n * When provided, its values override the GAX service defaults for that\n * particular call.\n *\n * Typically the API clients will accept this as the second to the last\n * argument. See the examples below.\n * @typedef {Object} CallOptions\n * @property {number=} timeout - The client-side timeout for API calls.\n * @property {RetryOptions=} retry - determines whether and how to retry\n *   on transient errors. When set to null, the call will not retry.\n * @property {boolean=} autoPaginate - If set to false and the call is\n *   configured for paged iteration, page unrolling is not performed, instead\n *   the callback will be called with the response object.\n * @property {Object=} pageToken - If set and the call is configured for\n *   paged iteration, paged iteration is not performed and requested with this\n *   pageToken.\n * @property {number} maxResults - If set and the call is configured for\n *   paged iteration, the call will stop when the number of response elements\n *   reaches to the specified size. By default, it will unroll the page to\n *   the end of the list.\n * @property {boolean=} isBundling - If set to false and the call is configured\n *   for bundling, bundling is not performed.\n * @property {BackoffSettings=} longrunning - BackoffSettings used for polling.\n * @example\n * // suppress bundling for bundled method.\n * api.bundlingMethod(\n *     param, {optParam: aValue, isBundling: false}, function(err, response) {\n *   // handle response.\n * });\n * @example\n * // suppress streaming for page-streaming method.\n * api.pageStreamingMethod(\n *     param, {optParam: aValue, autoPaginate: false}, function(err, page) {\n *   // not returning a stream, but callback is called with the paged response.\n * });\n */\n/**\n * Per-call configurable settings for retrying upon transient failure.\n * @implements {RetryOptionsType}\n * @typedef {Object} RetryOptions\n * @property {number[]} retryCodes\n * @property {BackoffSettings} backoffSettings\n * @property {(function)} shouldRetryFn\n * @property {(function)} getResumptionRequestFn\n */\nclass RetryOptions {\n    constructor(retryCodes, backoffSettings, shouldRetryFn, getResumptionRequestFn) {\n        this.retryCodes = retryCodes;\n        this.backoffSettings = backoffSettings;\n        this.shouldRetryFn = shouldRetryFn;\n        this.getResumptionRequestFn = getResumptionRequestFn;\n    }\n}\nexports.RetryOptions = RetryOptions;\nclass CallSettings {\n    /**\n     * @param {Object} settings - An object containing parameters of this settings.\n     * @param {number} settings.timeout - The client-side timeout for API calls.\n     *   This parameter is ignored for retrying calls.\n     * @param {RetryOptions} settings.retry - The configuration for retrying upon\n     *   transient error. If set to null, this call will not retry.\n     * @param {boolean} settings.autoPaginate - If there is no `pageDescriptor`,\n     *   this attrbute has no meaning. Otherwise, determines whether a page\n     * streamed response should make the page structure transparent to the user by\n     *   flattening the repeated field in the returned generator.\n     * @param {number} settings.pageToken - If there is no `pageDescriptor`,\n     *   this attribute has no meaning. Otherwise, determines the page token used\n     * in the page streaming request.\n     * @param {Object} settings.otherArgs - Additional arguments to be passed to\n     *   the API calls.\n     *\n     * @constructor\n     */\n    constructor(settings) {\n        var _a;\n        settings = settings || {};\n        this.timeout = settings.timeout || 30 * 1000;\n        this.retry = settings.retry;\n        this.autoPaginate =\n            'autoPaginate' in settings ? settings.autoPaginate : true;\n        this.maxResults = settings.maxResults;\n        this.otherArgs = settings.otherArgs || {};\n        this.bundleOptions = settings.bundleOptions;\n        this.isBundling = 'isBundling' in settings ? settings.isBundling : true;\n        this.longrunning =\n            'longrunning' in settings ? settings.longrunning : undefined;\n        this.apiName = (_a = settings.apiName) !== null && _a !== void 0 ? _a : undefined;\n        this.retryRequestOptions = settings.retryRequestOptions;\n    }\n    /**\n     * Returns a new CallSettings merged from this and a CallOptions object.\n     *\n     * @param {CallOptions} options - an instance whose values override\n     *   those in this object. If null, ``merge`` returns a copy of this\n     *   object\n     * @return {CallSettings} The merged CallSettings instance.\n     */\n    merge(options) {\n        if (!options) {\n            return new CallSettings(this);\n        }\n        let timeout = this.timeout;\n        let retry = this.retry;\n        let autoPaginate = this.autoPaginate;\n        let maxResults = this.maxResults;\n        let otherArgs = this.otherArgs;\n        let isBundling = this.isBundling;\n        let longrunning = this.longrunning;\n        let apiName = this.apiName;\n        let retryRequestOptions = this.retryRequestOptions;\n        // If the user provides a timeout to the method, that timeout value will be used\n        // to override the backoff settings.\n        if ('timeout' in options) {\n            timeout = options.timeout;\n        }\n        // If a method-specific timeout is set in the service config, and the retry codes for that\n        // method are non-null, then that timeout value will be used to\n        // override backoff settings.\n        if (retry === null || retry === void 0 ? void 0 : retry.retryCodes) {\n            retry.backoffSettings.initialRpcTimeoutMillis = timeout;\n            retry.backoffSettings.maxRpcTimeoutMillis = timeout;\n            retry.backoffSettings.totalTimeoutMillis = timeout;\n        }\n        if ('retry' in options) {\n            retry = mergeRetryOptions(retry || {}, options.retry);\n        }\n        if ('autoPaginate' in options && !options.autoPaginate) {\n            autoPaginate = false;\n        }\n        if ('maxResults' in options) {\n            maxResults = options.maxResults;\n        }\n        if ('otherArgs' in options) {\n            otherArgs = {};\n            for (const key in this.otherArgs) {\n                otherArgs[key] = this.otherArgs[key];\n            }\n            for (const optionsKey in options.otherArgs) {\n                otherArgs[optionsKey] = options.otherArgs[optionsKey];\n            }\n        }\n        if ('isBundling' in options) {\n            isBundling = options.isBundling;\n        }\n        if ('maxRetries' in options && options.maxRetries !== undefined) {\n            retry.backoffSettings.maxRetries = options.maxRetries;\n            delete retry.backoffSettings.totalTimeoutMillis;\n        }\n        if ('longrunning' in options) {\n            longrunning = options.longrunning;\n        }\n        if ('apiName' in options) {\n            apiName = options.apiName;\n        }\n        if ('retryRequestOptions' in options) {\n            retryRequestOptions = options.retryRequestOptions;\n        }\n        return new CallSettings({\n            timeout,\n            retry,\n            bundleOptions: this.bundleOptions,\n            longrunning,\n            autoPaginate,\n            maxResults,\n            otherArgs,\n            isBundling,\n            apiName,\n            retryRequestOptions,\n        });\n    }\n}\nexports.CallSettings = CallSettings;\n/**\n * Validates passed retry options in preparation for eventual parameter deprecation\n * converts retryRequestOptions to retryOptions\n * then sets retryRequestOptions to null\n *\n * @param {CallOptions} options - a list of passed retry option\n * @return {CallOptions} A new CallOptions object.\n *\n */\nfunction convertRetryOptions(options, gaxStreamingRetries) {\n    var _a, _b, _c, _d;\n    // options will be undefined if no CallOptions object is passed at call time\n    if (!options) {\n        return options;\n    }\n    // if a user provided retry AND retryRequestOptions at call time, throw an error\n    // otherwise, convert supported parameters\n    if (!gaxStreamingRetries) {\n        return options;\n    }\n    if (options.retry && options.retryRequestOptions) {\n        throw new Error('Only one of retry or retryRequestOptions may be set');\n    } // handles parameter conversion from retryRequestOptions to retryOptions\n    if (options.retryRequestOptions) {\n        if (options.retryRequestOptions.objectMode !== undefined) {\n            (0, warnings_1.warn)('retry_request_options', 'objectMode override is not supported. It is set to true internally by default in gax.', 'UnsupportedParameterWarning');\n        }\n        if (options.retryRequestOptions.noResponseRetries !== undefined) {\n            (0, warnings_1.warn)('retry_request_options', 'noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.', 'UnsupportedParameterWarning');\n        }\n        if (options.retryRequestOptions.currentRetryAttempt !== undefined) {\n            (0, warnings_1.warn)('retry_request_options', 'currentRetryAttempt override is not supported. Retry attempts are tracked internally.', 'UnsupportedParameterWarning');\n        }\n        let retryCodes = [status_1.Status.UNAVAILABLE];\n        let shouldRetryFn;\n        if (options.retryRequestOptions.shouldRetryFn) {\n            retryCodes = [];\n            shouldRetryFn = options.retryRequestOptions.shouldRetryFn;\n        }\n        //Backoff settings\n        options.maxRetries =\n            (_b = (_a = options === null || options === void 0 ? void 0 : options.retryRequestOptions) === null || _a === void 0 ? void 0 : _a.retries) !== null && _b !== void 0 ? _b : options.maxRetries;\n        // create a default backoff settings object in case the user didn't provide overrides for everything\n        const backoffSettings = createDefaultBackoffSettings();\n        let maxRetryDelayMillis;\n        let totalTimeoutMillis;\n        // maxRetryDelay - this is in seconds, need to convert to milliseconds\n        if (options.retryRequestOptions.maxRetryDelay !== undefined) {\n            maxRetryDelayMillis = options.retryRequestOptions.maxRetryDelay * 1000;\n        }\n        // retryDelayMultiplier - should be a one to one mapping to retryDelayMultiplier\n        const retryDelayMultiplier = (_d = (_c = options === null || options === void 0 ? void 0 : options.retryRequestOptions) === null || _c === void 0 ? void 0 : _c.retryDelayMultiplier) !== null && _d !== void 0 ? _d : backoffSettings.retryDelayMultiplier;\n        // this is in seconds and needs to be converted to milliseconds and the totalTimeoutMillis parameter\n        if (options.retryRequestOptions.totalTimeout !== undefined) {\n            totalTimeoutMillis = options.retryRequestOptions.totalTimeout * 1000;\n        }\n        else {\n            if (options.maxRetries === undefined) {\n                totalTimeoutMillis = 30000;\n                (0, warnings_1.warn)('retry_request_options_no_max_retries_timeout', 'Neither maxRetries nor totalTimeout were passed. Defaulting to totalTimeout of 30000ms.', 'MissingParameterWarning');\n            }\n        }\n        // for the variables the user wants to override, override in the backoff settings object we made\n        backoffSettings.maxRetryDelayMillis =\n            maxRetryDelayMillis !== null && maxRetryDelayMillis !== void 0 ? maxRetryDelayMillis : backoffSettings.maxRetryDelayMillis;\n        backoffSettings.retryDelayMultiplier =\n            retryDelayMultiplier !== null && retryDelayMultiplier !== void 0 ? retryDelayMultiplier : backoffSettings.retryDelayMultiplier;\n        backoffSettings.totalTimeoutMillis =\n            totalTimeoutMillis !== null && totalTimeoutMillis !== void 0 ? totalTimeoutMillis : backoffSettings.totalTimeoutMillis;\n        const convertedRetryOptions = createRetryOptions(retryCodes, backoffSettings, shouldRetryFn);\n        options.retry = convertedRetryOptions;\n        delete options.retryRequestOptions; // completely remove them to avoid any further confusion\n        (0, warnings_1.warn)('retry_request_options', 'retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time', 'DeprecationWarning');\n    }\n    return options;\n}\n/**\n * Per-call configurable settings for retrying upon transient failure.\n * @param {number[]} retryCodes - a list of Google API canonical error codes OR a function that returns a boolean to determine retry behavior\n *   upon which a retry should be attempted.\n * @param {BackoffSettings} backoffSettings - configures the retry\n *   exponential backoff algorithm.\n * @param {function} shouldRetryFn - a function that determines whether a call should retry. If this is defined retryCodes must be empty\n * @param {function} getResumptionRequestFn - a function with a resumption strategy - only used with server streaming retries\n * @return {RetryOptions} A new RetryOptions object.\n *\n */\nfunction createRetryOptions(retryCodes, backoffSettings, shouldRetryFn, getResumptionRequestFn) {\n    return {\n        retryCodes,\n        backoffSettings,\n        shouldRetryFn,\n        getResumptionRequestFn,\n    };\n}\n/**\n * Parameters to the exponential backoff algorithm for retrying.\n *\n * @param {number} initialRetryDelayMillis - the initial delay time,\n *   in milliseconds, between the completion of the first failed request and the\n *   initiation of the first retrying request.\n * @param {number} retryDelayMultiplier - the multiplier by which to\n *   increase the delay time between the completion of failed requests, and the\n *   initiation of the subsequent retrying request.\n * @param {number} maxRetryDelayMillis - the maximum delay time, in\n *   milliseconds, between requests. When this value is reached,\n *   ``retryDelayMultiplier`` will no longer be used to increase delay time.\n * @param {number} initialRpcTimeoutMillis - the initial timeout parameter\n *   to the request.\n * @param {number} rpcTimeoutMultiplier - the multiplier by which to\n *   increase the timeout parameter between failed requests.\n * @param {number} maxRpcTimeoutMillis - the maximum timeout parameter, in\n *   milliseconds, for a request. When this value is reached,\n *   ``rpcTimeoutMultiplier`` will no longer be used to increase the timeout.\n * @param {number} totalTimeoutMillis - the total time, in milliseconds,\n *   starting from when the initial request is sent, after which an error will\n *   be returned, regardless of the retrying attempts made meanwhile.\n * @return {BackoffSettings} a new settings.\n *\n */\nfunction createBackoffSettings(initialRetryDelayMillis, retryDelayMultiplier, maxRetryDelayMillis, initialRpcTimeoutMillis, rpcTimeoutMultiplier, maxRpcTimeoutMillis, totalTimeoutMillis) {\n    return {\n        initialRetryDelayMillis,\n        retryDelayMultiplier,\n        maxRetryDelayMillis,\n        initialRpcTimeoutMillis,\n        rpcTimeoutMultiplier,\n        maxRpcTimeoutMillis,\n        totalTimeoutMillis,\n    };\n}\nfunction createDefaultBackoffSettings() {\n    return createBackoffSettings(100, 1.3, 60000, null, null, null, null);\n}\n/**\n * Parameters to the exponential backoff algorithm for retrying.\n * This function is unsupported, and intended for internal use only.\n *\n * @param {number} initialRetryDelayMillis - the initial delay time,\n *   in milliseconds, between the completion of the first failed request and the\n *   initiation of the first retrying request.\n * @param {number} retryDelayMultiplier - the multiplier by which to\n *   increase the delay time between the completion of failed requests, and the\n *   initiation of the subsequent retrying request.\n * @param {number} maxRetryDelayMillis - the maximum delay time, in\n *   milliseconds, between requests. When this value is reached,\n *   ``retryDelayMultiplier`` will no longer be used to increase delay time.\n * @param {number} initialRpcTimeoutMillis - the initial timeout parameter\n *   to the request.\n * @param {number} rpcTimeoutMultiplier - the multiplier by which to\n *   increase the timeout parameter between failed requests.\n * @param {number} maxRpcTimeoutMillis - the maximum timeout parameter, in\n *   milliseconds, for a request. When this value is reached,\n *   ``rpcTimeoutMultiplier`` will no longer be used to increase the timeout.\n * @param {number} maxRetries - the maximum number of retrying attempts that\n *   will be made. If reached, an error will be returned.\n * @return {BackoffSettings} a new settings.\n *\n */\nfunction createMaxRetriesBackoffSettings(initialRetryDelayMillis, retryDelayMultiplier, maxRetryDelayMillis, initialRpcTimeoutMillis, rpcTimeoutMultiplier, maxRpcTimeoutMillis, maxRetries) {\n    return {\n        initialRetryDelayMillis,\n        retryDelayMultiplier,\n        maxRetryDelayMillis,\n        initialRpcTimeoutMillis,\n        rpcTimeoutMultiplier,\n        maxRpcTimeoutMillis,\n        maxRetries,\n    };\n}\n/**\n * Creates a new {@link BundleOptions}.\n *\n * @private\n * @param {Object} options - An object to hold optional parameters. See\n *   properties for the content of options.\n * @return {BundleOptions} - A new options.\n */\nfunction createBundleOptions(options) {\n    const params = [\n        'element_count_threshold',\n        'element_count_limit',\n        'request_byte_threshold',\n        'request_byte_limit',\n        'delay_threshold_millis',\n    ];\n    params.forEach(param => {\n        if (param in options && typeof options[param] !== 'number') {\n            throw new Error(`${param} should be a number`);\n        }\n    });\n    const elementCountThreshold = options.element_count_threshold || 0;\n    const elementCountLimit = options.element_count_limit || 0;\n    const requestByteThreshold = options.request_byte_threshold || 0;\n    const requestByteLimit = options.request_byte_limit || 0;\n    const delayThreshold = options.delay_threshold_millis || 0;\n    if (elementCountThreshold === 0 &&\n        requestByteThreshold === 0 &&\n        delayThreshold === 0) {\n        throw new Error('one threshold should be > 0');\n    }\n    return {\n        elementCountThreshold,\n        elementCountLimit,\n        requestByteThreshold,\n        requestByteLimit,\n        delayThreshold,\n    };\n}\n/**\n * Helper for {@link constructSettings}\n *\n * @private\n *\n * @param {Object} methodConfig - A dictionary representing a single\n *   `methods` entry of the standard API client config file. (See\n *   {@link constructSettings} for information on this yaml.)\n * @param {?Object} retryCodes - A dictionary parsed from the\n *   `retry_codes_def` entry of the standard API client config\n *   file. (See {@link constructSettings} for information on this yaml.)\n * @param {Object} retryParams - A dictionary parsed from the\n *   `retry_params` entry of the standard API client config\n *   file. (See {@link constructSettings} for information on this yaml.)\n * @param {Object} retryNames - A dictionary mapping the string names\n *   used in the standard API client config file to API response\n *   status codes.\n * @return {?RetryOptions} The new retry options.\n */\nfunction constructRetry(methodConfig, retryCodes, retryParams, retryNames) {\n    if (!methodConfig) {\n        return null;\n    }\n    let codes = null; // this is one instance where it will NOT be an array OR a function because we do not allow shouldRetryFn in the client\n    if (retryCodes && 'retry_codes_name' in methodConfig) {\n        const retryCodesName = methodConfig['retry_codes_name'];\n        codes = (retryCodes[retryCodesName] || []).map(name => {\n            return Number(retryNames[name]);\n        });\n    }\n    let backoffSettings = null;\n    if (retryParams && 'retry_params_name' in methodConfig) {\n        const params = retryParams[methodConfig.retry_params_name];\n        backoffSettings = createBackoffSettings(params.initial_retry_delay_millis, params.retry_delay_multiplier, params.max_retry_delay_millis, params.initial_rpc_timeout_millis, params.rpc_timeout_multiplier, params.max_rpc_timeout_millis, params.total_timeout_millis);\n    }\n    return createRetryOptions(codes, backoffSettings);\n}\n/**\n * Helper for {@link constructSettings}\n *\n * Takes two retry options, and merges them into a single RetryOption instance.\n *\n * @private\n *\n * @param {RetryOptions} retry - The base RetryOptions.\n * @param {RetryOptions} overrides - The RetryOptions used for overriding\n *   `retry`. Use the values if it is not null. If entire `overrides` is null,\n *   ignore the base retry and return null.\n * @return {?RetryOptions} The merged RetryOptions.\n */\nfunction mergeRetryOptions(retry, overrides) {\n    if (!overrides) {\n        return null;\n    }\n    if (!overrides.retryCodes &&\n        !overrides.backoffSettings &&\n        !overrides.shouldRetryFn &&\n        !overrides.getResumptionRequestFn) {\n        return retry;\n    }\n    const retryCodes = overrides.retryCodes\n        ? overrides.retryCodes\n        : retry.retryCodes;\n    const backoffSettings = overrides.backoffSettings\n        ? overrides.backoffSettings\n        : retry.backoffSettings;\n    const shouldRetryFn = overrides.shouldRetryFn\n        ? overrides.shouldRetryFn\n        : retry.shouldRetryFn;\n    const getResumptionRequestFn = overrides.getResumptionRequestFn\n        ? overrides.getResumptionRequestFn\n        : retry.getResumptionRequestFn;\n    return createRetryOptions(retryCodes, backoffSettings, shouldRetryFn, getResumptionRequestFn);\n}\n/**\n * Constructs a dictionary mapping method names to {@link CallSettings}.\n *\n * The `clientConfig` parameter is parsed from a client configuration JSON\n * file of the form:\n *\n *     {\n *       \"interfaces\": {\n *         \"google.fake.v1.ServiceName\": {\n *           \"retry_codes\": {\n *             \"idempotent\": [\"UNAVAILABLE\", \"DEADLINE_EXCEEDED\"],\n *             \"non_idempotent\": []\n *           },\n *           \"retry_params\": {\n *             \"default\": {\n *               \"initial_retry_delay_millis\": 100,\n *               \"retry_delay_multiplier\": 1.2,\n *               \"max_retry_delay_millis\": 1000,\n *               \"initial_rpc_timeout_millis\": 2000,\n *               \"rpc_timeout_multiplier\": 1.5,\n *               \"max_rpc_timeout_millis\": 30000,\n *               \"total_timeout_millis\": 45000\n *             }\n *           },\n *           \"methods\": {\n *             \"CreateFoo\": {\n *               \"retry_codes_name\": \"idempotent\",\n *               \"retry_params_name\": \"default\"\n *             },\n *             \"Publish\": {\n *               \"retry_codes_name\": \"non_idempotent\",\n *               \"retry_params_name\": \"default\",\n *               \"bundling\": {\n *                 \"element_count_threshold\": 40,\n *                 \"element_count_limit\": 200,\n *                 \"request_byte_threshold\": 90000,\n *                 \"request_byte_limit\": 100000,\n *                 \"delay_threshold_millis\": 100\n *               }\n *             }\n *           }\n *         }\n *       }\n *     }\n *\n * @param {String} serviceName - The fully-qualified name of this\n *   service, used as a key into the client config file (in the\n *   example above, this value should be 'google.fake.v1.ServiceName').\n * @param {Object} clientConfig - A dictionary parsed from the\n *   standard API client config file.\n * @param {Object} configOverrides - A dictionary in the same structure of\n *   client_config to override the settings.\n * @param {Object.<string, string[]>} retryNames - A dictionary mapping the strings\n *   referring to response status codes to objects representing\n *   those codes.\n * @param {Object} otherArgs - the non-request arguments to be passed to the API\n *   calls.\n * @return {Object} A mapping from method name to CallSettings, or null if the\n *   service is not found in the config.\n */\nfunction constructSettings(serviceName, clientConfig, configOverrides, retryNames, otherArgs) {\n    otherArgs = otherArgs || {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const defaults = {};\n    const serviceConfig = (clientConfig.interfaces || {})[serviceName];\n    if (!serviceConfig) {\n        return null;\n    }\n    // users can override the config from client side, like bundling options.\n    // The detailed structure of the clientConfig can be found here: https://github.com/googleapis/gax-nodejs/blob/main/src/gax.ts#L546\n    // The way to override bundling options:\n    //\n    // const customConfig = {\"interfaces\": {\"service\": {\"methods\": {\"methodName\": {\"bundling\": {..}}}}}}\n    // const client = new Client({ projectId, customConfig });\n    const overrides = (configOverrides.interfaces || {})[serviceName] || {};\n    const methods = serviceConfig.methods;\n    const overridingMethods = overrides.methods || {};\n    for (const methodName in methods) {\n        const methodConfig = methods[methodName];\n        const jsName = (0, util_1.toLowerCamelCase)(methodName);\n        let retry = constructRetry(methodConfig, serviceConfig.retry_codes, serviceConfig.retry_params, retryNames);\n        let bundlingConfig = methodConfig.bundling;\n        let timeout = methodConfig.timeout_millis;\n        if (methodName in overridingMethods) {\n            const overridingMethod = overridingMethods[methodName];\n            if (overridingMethod) {\n                if ('bundling' in overridingMethod) {\n                    bundlingConfig = overridingMethod.bundling;\n                }\n                if ('timeout_millis' in overridingMethod) {\n                    timeout = overridingMethod.timeout_millis;\n                }\n            }\n            retry = mergeRetryOptions(retry, constructRetry(overridingMethod, overrides.retry_codes, overrides.retry_params, retryNames));\n        }\n        const apiName = serviceName;\n        defaults[jsName] = new CallSettings({\n            timeout,\n            retry,\n            bundleOptions: bundlingConfig\n                ? createBundleOptions(bundlingConfig)\n                : null,\n            otherArgs,\n            apiName,\n        });\n    }\n    return defaults;\n}\nfunction createByteLengthFunction(message) {\n    return function getByteLength(obj) {\n        try {\n            return message.encode(obj).finish().length;\n        }\n        catch (err) {\n            const stringified = JSON.stringify(obj);\n            (0, warnings_1.warn)('error_encoding_protobufjs_object', `Cannot encode protobuf.js object: ${stringified}: ${err}`);\n            // We failed to encode the object properly, let's just return an upper boundary of its length.\n            // It's only needed for calculating the size of the batch, so it's safe if it's bigger than needed.\n            return stringified.length;\n        }\n    };\n}\n//# sourceMappingURL=gax.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZ2F4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLG9CQUFvQjtBQUMzQywyQkFBMkI7QUFDM0IsMEJBQTBCO0FBQzFCLDZCQUE2QjtBQUM3QixvQ0FBb0M7QUFDcEMsdUNBQXVDO0FBQ3ZDLDJCQUEyQjtBQUMzQix5QkFBeUI7QUFDekIsZ0NBQWdDO0FBQ2hDLG1CQUFtQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3ZDLGVBQWUsbUJBQU8sQ0FBQyxpRUFBUTtBQUMvQixpQkFBaUIsbUJBQU8sQ0FBQyxxRUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsU0FBUztBQUN2QixjQUFjLGVBQWU7QUFDN0I7QUFDQSxjQUFjLFVBQVU7QUFDeEI7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0NBQXNDO0FBQ3JEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixhQUFhLFFBQVE7QUFDckIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsaUJBQWlCO0FBQy9CLGNBQWMsWUFBWTtBQUMxQixjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixPQUFPO0FBQ3RDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLE1BQU0seUJBQXlCO0FBQy9CLFdBQVcsU0FBUztBQUNwQjtBQUNBLGlCQUFpQix5QkFBeUI7QUFDMUMsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsaUJBQWlCLHlCQUF5QjtBQUMxQyxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsbUJBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLDJCQUEyQjtBQUN0QztBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixlQUFlLFlBQVksWUFBWSxlQUFlLGFBQWE7QUFDaEcsbUNBQW1DLHlCQUF5QjtBQUM1RCx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRyxZQUFZLElBQUksSUFBSTtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9nYXguanM/ZDhiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2FsbFNldHRpbmdzID0gZXhwb3J0cy5SZXRyeU9wdGlvbnMgPSB2b2lkIDA7XG5leHBvcnRzLmNvbnZlcnRSZXRyeU9wdGlvbnMgPSBjb252ZXJ0UmV0cnlPcHRpb25zO1xuZXhwb3J0cy5jcmVhdGVSZXRyeU9wdGlvbnMgPSBjcmVhdGVSZXRyeU9wdGlvbnM7XG5leHBvcnRzLmNyZWF0ZUJhY2tvZmZTZXR0aW5ncyA9IGNyZWF0ZUJhY2tvZmZTZXR0aW5ncztcbmV4cG9ydHMuY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5ncyA9IGNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3M7XG5leHBvcnRzLmNyZWF0ZU1heFJldHJpZXNCYWNrb2ZmU2V0dGluZ3MgPSBjcmVhdGVNYXhSZXRyaWVzQmFja29mZlNldHRpbmdzO1xuZXhwb3J0cy5jcmVhdGVCdW5kbGVPcHRpb25zID0gY3JlYXRlQnVuZGxlT3B0aW9ucztcbmV4cG9ydHMuY29uc3RydWN0U2V0dGluZ3MgPSBjb25zdHJ1Y3RTZXR0aW5ncztcbmV4cG9ydHMuY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uID0gY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uO1xuY29uc3Qgd2FybmluZ3NfMSA9IHJlcXVpcmUoXCIuL3dhcm5pbmdzXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4vc3RhdHVzXCIpO1xuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgdGhlIG92ZXJyaWRhYmxlIHNldHRpbmdzIGZvciBhIHBhcnRpY3VsYXIgQVBJIGNhbGwuXG4gKlxuICogYGBDYWxsT3B0aW9uc2BgIGlzIGFuIG9wdGlvbmFsIGFyZyBmb3IgYWxsIEdBWCBBUEkgY2FsbHMuICBJdCBpcyB1c2VkIHRvXG4gKiBjb25maWd1cmUgdGhlIHNldHRpbmdzIG9mIGEgc3BlY2lmaWMgQVBJIGNhbGwuXG4gKlxuICogV2hlbiBwcm92aWRlZCwgaXRzIHZhbHVlcyBvdmVycmlkZSB0aGUgR0FYIHNlcnZpY2UgZGVmYXVsdHMgZm9yIHRoYXRcbiAqIHBhcnRpY3VsYXIgY2FsbC5cbiAqXG4gKiBUeXBpY2FsbHkgdGhlIEFQSSBjbGllbnRzIHdpbGwgYWNjZXB0IHRoaXMgYXMgdGhlIHNlY29uZCB0byB0aGUgbGFzdFxuICogYXJndW1lbnQuIFNlZSB0aGUgZXhhbXBsZXMgYmVsb3cuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDYWxsT3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXI9fSB0aW1lb3V0IC0gVGhlIGNsaWVudC1zaWRlIHRpbWVvdXQgZm9yIEFQSSBjYWxscy5cbiAqIEBwcm9wZXJ0eSB7UmV0cnlPcHRpb25zPX0gcmV0cnkgLSBkZXRlcm1pbmVzIHdoZXRoZXIgYW5kIGhvdyB0byByZXRyeVxuICogICBvbiB0cmFuc2llbnQgZXJyb3JzLiBXaGVuIHNldCB0byBudWxsLCB0aGUgY2FsbCB3aWxsIG5vdCByZXRyeS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbj19IGF1dG9QYWdpbmF0ZSAtIElmIHNldCB0byBmYWxzZSBhbmQgdGhlIGNhbGwgaXNcbiAqICAgY29uZmlndXJlZCBmb3IgcGFnZWQgaXRlcmF0aW9uLCBwYWdlIHVucm9sbGluZyBpcyBub3QgcGVyZm9ybWVkLCBpbnN0ZWFkXG4gKiAgIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSByZXNwb25zZSBvYmplY3QuXG4gKiBAcHJvcGVydHkge09iamVjdD19IHBhZ2VUb2tlbiAtIElmIHNldCBhbmQgdGhlIGNhbGwgaXMgY29uZmlndXJlZCBmb3JcbiAqICAgcGFnZWQgaXRlcmF0aW9uLCBwYWdlZCBpdGVyYXRpb24gaXMgbm90IHBlcmZvcm1lZCBhbmQgcmVxdWVzdGVkIHdpdGggdGhpc1xuICogICBwYWdlVG9rZW4uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4UmVzdWx0cyAtIElmIHNldCBhbmQgdGhlIGNhbGwgaXMgY29uZmlndXJlZCBmb3JcbiAqICAgcGFnZWQgaXRlcmF0aW9uLCB0aGUgY2FsbCB3aWxsIHN0b3Agd2hlbiB0aGUgbnVtYmVyIG9mIHJlc3BvbnNlIGVsZW1lbnRzXG4gKiAgIHJlYWNoZXMgdG8gdGhlIHNwZWNpZmllZCBzaXplLiBCeSBkZWZhdWx0LCBpdCB3aWxsIHVucm9sbCB0aGUgcGFnZSB0b1xuICogICB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuICogQHByb3BlcnR5IHtib29sZWFuPX0gaXNCdW5kbGluZyAtIElmIHNldCB0byBmYWxzZSBhbmQgdGhlIGNhbGwgaXMgY29uZmlndXJlZFxuICogICBmb3IgYnVuZGxpbmcsIGJ1bmRsaW5nIGlzIG5vdCBwZXJmb3JtZWQuXG4gKiBAcHJvcGVydHkge0JhY2tvZmZTZXR0aW5ncz19IGxvbmdydW5uaW5nIC0gQmFja29mZlNldHRpbmdzIHVzZWQgZm9yIHBvbGxpbmcuXG4gKiBAZXhhbXBsZVxuICogLy8gc3VwcHJlc3MgYnVuZGxpbmcgZm9yIGJ1bmRsZWQgbWV0aG9kLlxuICogYXBpLmJ1bmRsaW5nTWV0aG9kKFxuICogICAgIHBhcmFtLCB7b3B0UGFyYW06IGFWYWx1ZSwgaXNCdW5kbGluZzogZmFsc2V9LCBmdW5jdGlvbihlcnIsIHJlc3BvbnNlKSB7XG4gKiAgIC8vIGhhbmRsZSByZXNwb25zZS5cbiAqIH0pO1xuICogQGV4YW1wbGVcbiAqIC8vIHN1cHByZXNzIHN0cmVhbWluZyBmb3IgcGFnZS1zdHJlYW1pbmcgbWV0aG9kLlxuICogYXBpLnBhZ2VTdHJlYW1pbmdNZXRob2QoXG4gKiAgICAgcGFyYW0sIHtvcHRQYXJhbTogYVZhbHVlLCBhdXRvUGFnaW5hdGU6IGZhbHNlfSwgZnVuY3Rpb24oZXJyLCBwYWdlKSB7XG4gKiAgIC8vIG5vdCByZXR1cm5pbmcgYSBzdHJlYW0sIGJ1dCBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCB0aGUgcGFnZWQgcmVzcG9uc2UuXG4gKiB9KTtcbiAqL1xuLyoqXG4gKiBQZXItY2FsbCBjb25maWd1cmFibGUgc2V0dGluZ3MgZm9yIHJldHJ5aW5nIHVwb24gdHJhbnNpZW50IGZhaWx1cmUuXG4gKiBAaW1wbGVtZW50cyB7UmV0cnlPcHRpb25zVHlwZX1cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJldHJ5T3B0aW9uc1xuICogQHByb3BlcnR5IHtudW1iZXJbXX0gcmV0cnlDb2Rlc1xuICogQHByb3BlcnR5IHtCYWNrb2ZmU2V0dGluZ3N9IGJhY2tvZmZTZXR0aW5nc1xuICogQHByb3BlcnR5IHsoZnVuY3Rpb24pfSBzaG91bGRSZXRyeUZuXG4gKiBAcHJvcGVydHkgeyhmdW5jdGlvbil9IGdldFJlc3VtcHRpb25SZXF1ZXN0Rm5cbiAqL1xuY2xhc3MgUmV0cnlPcHRpb25zIHtcbiAgICBjb25zdHJ1Y3RvcihyZXRyeUNvZGVzLCBiYWNrb2ZmU2V0dGluZ3MsIHNob3VsZFJldHJ5Rm4sIGdldFJlc3VtcHRpb25SZXF1ZXN0Rm4pIHtcbiAgICAgICAgdGhpcy5yZXRyeUNvZGVzID0gcmV0cnlDb2RlcztcbiAgICAgICAgdGhpcy5iYWNrb2ZmU2V0dGluZ3MgPSBiYWNrb2ZmU2V0dGluZ3M7XG4gICAgICAgIHRoaXMuc2hvdWxkUmV0cnlGbiA9IHNob3VsZFJldHJ5Rm47XG4gICAgICAgIHRoaXMuZ2V0UmVzdW1wdGlvblJlcXVlc3RGbiA9IGdldFJlc3VtcHRpb25SZXF1ZXN0Rm47XG4gICAgfVxufVxuZXhwb3J0cy5SZXRyeU9wdGlvbnMgPSBSZXRyeU9wdGlvbnM7XG5jbGFzcyBDYWxsU2V0dGluZ3Mge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5ncyAtIEFuIG9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcnMgb2YgdGhpcyBzZXR0aW5ncy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3MudGltZW91dCAtIFRoZSBjbGllbnQtc2lkZSB0aW1lb3V0IGZvciBBUEkgY2FsbHMuXG4gICAgICogICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciByZXRyeWluZyBjYWxscy5cbiAgICAgKiBAcGFyYW0ge1JldHJ5T3B0aW9uc30gc2V0dGluZ3MucmV0cnkgLSBUaGUgY29uZmlndXJhdGlvbiBmb3IgcmV0cnlpbmcgdXBvblxuICAgICAqICAgdHJhbnNpZW50IGVycm9yLiBJZiBzZXQgdG8gbnVsbCwgdGhpcyBjYWxsIHdpbGwgbm90IHJldHJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0dGluZ3MuYXV0b1BhZ2luYXRlIC0gSWYgdGhlcmUgaXMgbm8gYHBhZ2VEZXNjcmlwdG9yYCxcbiAgICAgKiAgIHRoaXMgYXR0cmJ1dGUgaGFzIG5vIG1lYW5pbmcuIE90aGVyd2lzZSwgZGV0ZXJtaW5lcyB3aGV0aGVyIGEgcGFnZVxuICAgICAqIHN0cmVhbWVkIHJlc3BvbnNlIHNob3VsZCBtYWtlIHRoZSBwYWdlIHN0cnVjdHVyZSB0cmFuc3BhcmVudCB0byB0aGUgdXNlciBieVxuICAgICAqICAgZmxhdHRlbmluZyB0aGUgcmVwZWF0ZWQgZmllbGQgaW4gdGhlIHJldHVybmVkIGdlbmVyYXRvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3MucGFnZVRva2VuIC0gSWYgdGhlcmUgaXMgbm8gYHBhZ2VEZXNjcmlwdG9yYCxcbiAgICAgKiAgIHRoaXMgYXR0cmlidXRlIGhhcyBubyBtZWFuaW5nLiBPdGhlcndpc2UsIGRldGVybWluZXMgdGhlIHBhZ2UgdG9rZW4gdXNlZFxuICAgICAqIGluIHRoZSBwYWdlIHN0cmVhbWluZyByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5ncy5vdGhlckFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG9cbiAgICAgKiAgIHRoZSBBUEkgY2FsbHMuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldHRpbmdzLnRpbWVvdXQgfHwgMzAgKiAxMDAwO1xuICAgICAgICB0aGlzLnJldHJ5ID0gc2V0dGluZ3MucmV0cnk7XG4gICAgICAgIHRoaXMuYXV0b1BhZ2luYXRlID1cbiAgICAgICAgICAgICdhdXRvUGFnaW5hdGUnIGluIHNldHRpbmdzID8gc2V0dGluZ3MuYXV0b1BhZ2luYXRlIDogdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXhSZXN1bHRzID0gc2V0dGluZ3MubWF4UmVzdWx0cztcbiAgICAgICAgdGhpcy5vdGhlckFyZ3MgPSBzZXR0aW5ncy5vdGhlckFyZ3MgfHwge307XG4gICAgICAgIHRoaXMuYnVuZGxlT3B0aW9ucyA9IHNldHRpbmdzLmJ1bmRsZU9wdGlvbnM7XG4gICAgICAgIHRoaXMuaXNCdW5kbGluZyA9ICdpc0J1bmRsaW5nJyBpbiBzZXR0aW5ncyA/IHNldHRpbmdzLmlzQnVuZGxpbmcgOiB0cnVlO1xuICAgICAgICB0aGlzLmxvbmdydW5uaW5nID1cbiAgICAgICAgICAgICdsb25ncnVubmluZycgaW4gc2V0dGluZ3MgPyBzZXR0aW5ncy5sb25ncnVubmluZyA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hcGlOYW1lID0gKF9hID0gc2V0dGluZ3MuYXBpTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJldHJ5UmVxdWVzdE9wdGlvbnMgPSBzZXR0aW5ncy5yZXRyeVJlcXVlc3RPcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IENhbGxTZXR0aW5ncyBtZXJnZWQgZnJvbSB0aGlzIGFuZCBhIENhbGxPcHRpb25zIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FsbE9wdGlvbnN9IG9wdGlvbnMgLSBhbiBpbnN0YW5jZSB3aG9zZSB2YWx1ZXMgb3ZlcnJpZGVcbiAgICAgKiAgIHRob3NlIGluIHRoaXMgb2JqZWN0LiBJZiBudWxsLCBgYG1lcmdlYGAgcmV0dXJucyBhIGNvcHkgb2YgdGhpc1xuICAgICAqICAgb2JqZWN0XG4gICAgICogQHJldHVybiB7Q2FsbFNldHRpbmdzfSBUaGUgbWVyZ2VkIENhbGxTZXR0aW5ncyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBtZXJnZShvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYWxsU2V0dGluZ3ModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7XG4gICAgICAgIGxldCByZXRyeSA9IHRoaXMucmV0cnk7XG4gICAgICAgIGxldCBhdXRvUGFnaW5hdGUgPSB0aGlzLmF1dG9QYWdpbmF0ZTtcbiAgICAgICAgbGV0IG1heFJlc3VsdHMgPSB0aGlzLm1heFJlc3VsdHM7XG4gICAgICAgIGxldCBvdGhlckFyZ3MgPSB0aGlzLm90aGVyQXJncztcbiAgICAgICAgbGV0IGlzQnVuZGxpbmcgPSB0aGlzLmlzQnVuZGxpbmc7XG4gICAgICAgIGxldCBsb25ncnVubmluZyA9IHRoaXMubG9uZ3J1bm5pbmc7XG4gICAgICAgIGxldCBhcGlOYW1lID0gdGhpcy5hcGlOYW1lO1xuICAgICAgICBsZXQgcmV0cnlSZXF1ZXN0T3B0aW9ucyA9IHRoaXMucmV0cnlSZXF1ZXN0T3B0aW9ucztcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgcHJvdmlkZXMgYSB0aW1lb3V0IHRvIHRoZSBtZXRob2QsIHRoYXQgdGltZW91dCB2YWx1ZSB3aWxsIGJlIHVzZWRcbiAgICAgICAgLy8gdG8gb3ZlcnJpZGUgdGhlIGJhY2tvZmYgc2V0dGluZ3MuXG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhIG1ldGhvZC1zcGVjaWZpYyB0aW1lb3V0IGlzIHNldCBpbiB0aGUgc2VydmljZSBjb25maWcsIGFuZCB0aGUgcmV0cnkgY29kZXMgZm9yIHRoYXRcbiAgICAgICAgLy8gbWV0aG9kIGFyZSBub24tbnVsbCwgdGhlbiB0aGF0IHRpbWVvdXQgdmFsdWUgd2lsbCBiZSB1c2VkIHRvXG4gICAgICAgIC8vIG92ZXJyaWRlIGJhY2tvZmYgc2V0dGluZ3MuXG4gICAgICAgIGlmIChyZXRyeSA9PT0gbnVsbCB8fCByZXRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmV0cnkucmV0cnlDb2Rlcykge1xuICAgICAgICAgICAgcmV0cnkuYmFja29mZlNldHRpbmdzLmluaXRpYWxScGNUaW1lb3V0TWlsbGlzID0gdGltZW91dDtcbiAgICAgICAgICAgIHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5tYXhScGNUaW1lb3V0TWlsbGlzID0gdGltZW91dDtcbiAgICAgICAgICAgIHJldHJ5LmJhY2tvZmZTZXR0aW5ncy50b3RhbFRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgncmV0cnknIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHJ5ID0gbWVyZ2VSZXRyeU9wdGlvbnMocmV0cnkgfHwge30sIG9wdGlvbnMucmV0cnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnYXV0b1BhZ2luYXRlJyBpbiBvcHRpb25zICYmICFvcHRpb25zLmF1dG9QYWdpbmF0ZSkge1xuICAgICAgICAgICAgYXV0b1BhZ2luYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdtYXhSZXN1bHRzJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBtYXhSZXN1bHRzID0gb3B0aW9ucy5tYXhSZXN1bHRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnb3RoZXJBcmdzJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBvdGhlckFyZ3MgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMub3RoZXJBcmdzKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJBcmdzW2tleV0gPSB0aGlzLm90aGVyQXJnc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb25zS2V5IGluIG9wdGlvbnMub3RoZXJBcmdzKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJBcmdzW29wdGlvbnNLZXldID0gb3B0aW9ucy5vdGhlckFyZ3Nbb3B0aW9uc0tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdpc0J1bmRsaW5nJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBpc0J1bmRsaW5nID0gb3B0aW9ucy5pc0J1bmRsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnbWF4UmV0cmllcycgaW4gb3B0aW9ucyAmJiBvcHRpb25zLm1heFJldHJpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0cnkuYmFja29mZlNldHRpbmdzLm1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXM7XG4gICAgICAgICAgICBkZWxldGUgcmV0cnkuYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2xvbmdydW5uaW5nJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBsb25ncnVubmluZyA9IG9wdGlvbnMubG9uZ3J1bm5pbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdhcGlOYW1lJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBhcGlOYW1lID0gb3B0aW9ucy5hcGlOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICgncmV0cnlSZXF1ZXN0T3B0aW9ucycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0cnlSZXF1ZXN0T3B0aW9ucyA9IG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENhbGxTZXR0aW5ncyh7XG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgcmV0cnksXG4gICAgICAgICAgICBidW5kbGVPcHRpb25zOiB0aGlzLmJ1bmRsZU9wdGlvbnMsXG4gICAgICAgICAgICBsb25ncnVubmluZyxcbiAgICAgICAgICAgIGF1dG9QYWdpbmF0ZSxcbiAgICAgICAgICAgIG1heFJlc3VsdHMsXG4gICAgICAgICAgICBvdGhlckFyZ3MsXG4gICAgICAgICAgICBpc0J1bmRsaW5nLFxuICAgICAgICAgICAgYXBpTmFtZSxcbiAgICAgICAgICAgIHJldHJ5UmVxdWVzdE9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2FsbFNldHRpbmdzID0gQ2FsbFNldHRpbmdzO1xuLyoqXG4gKiBWYWxpZGF0ZXMgcGFzc2VkIHJldHJ5IG9wdGlvbnMgaW4gcHJlcGFyYXRpb24gZm9yIGV2ZW50dWFsIHBhcmFtZXRlciBkZXByZWNhdGlvblxuICogY29udmVydHMgcmV0cnlSZXF1ZXN0T3B0aW9ucyB0byByZXRyeU9wdGlvbnNcbiAqIHRoZW4gc2V0cyByZXRyeVJlcXVlc3RPcHRpb25zIHRvIG51bGxcbiAqXG4gKiBAcGFyYW0ge0NhbGxPcHRpb25zfSBvcHRpb25zIC0gYSBsaXN0IG9mIHBhc3NlZCByZXRyeSBvcHRpb25cbiAqIEByZXR1cm4ge0NhbGxPcHRpb25zfSBBIG5ldyBDYWxsT3B0aW9ucyBvYmplY3QuXG4gKlxuICovXG5mdW5jdGlvbiBjb252ZXJ0UmV0cnlPcHRpb25zKG9wdGlvbnMsIGdheFN0cmVhbWluZ1JldHJpZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgLy8gb3B0aW9ucyB3aWxsIGJlIHVuZGVmaW5lZCBpZiBubyBDYWxsT3B0aW9ucyBvYmplY3QgaXMgcGFzc2VkIGF0IGNhbGwgdGltZVxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgLy8gaWYgYSB1c2VyIHByb3ZpZGVkIHJldHJ5IEFORCByZXRyeVJlcXVlc3RPcHRpb25zIGF0IGNhbGwgdGltZSwgdGhyb3cgYW4gZXJyb3JcbiAgICAvLyBvdGhlcndpc2UsIGNvbnZlcnQgc3VwcG9ydGVkIHBhcmFtZXRlcnNcbiAgICBpZiAoIWdheFN0cmVhbWluZ1JldHJpZXMpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJldHJ5ICYmIG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIG9mIHJldHJ5IG9yIHJldHJ5UmVxdWVzdE9wdGlvbnMgbWF5IGJlIHNldCcpO1xuICAgIH0gLy8gaGFuZGxlcyBwYXJhbWV0ZXIgY29udmVyc2lvbiBmcm9tIHJldHJ5UmVxdWVzdE9wdGlvbnMgdG8gcmV0cnlPcHRpb25zXG4gICAgaWYgKG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zLm9iamVjdE1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ3JldHJ5X3JlcXVlc3Rfb3B0aW9ucycsICdvYmplY3RNb2RlIG92ZXJyaWRlIGlzIG5vdCBzdXBwb3J0ZWQuIEl0IGlzIHNldCB0byB0cnVlIGludGVybmFsbHkgYnkgZGVmYXVsdCBpbiBnYXguJywgJ1Vuc3VwcG9ydGVkUGFyYW1ldGVyV2FybmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMubm9SZXNwb25zZVJldHJpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ3JldHJ5X3JlcXVlc3Rfb3B0aW9ucycsICdub1Jlc3BvbnNlUmV0cmllcyBvdmVycmlkZSBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2Ugc3BlY2lmeSByZXRyeSBjb2RlcyBvciBhIGZ1bmN0aW9uIHRvIGRldGVybWluZSByZXRyeSBlbGlnaWJpbGl0eS4nLCAnVW5zdXBwb3J0ZWRQYXJhbWV0ZXJXYXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucy5jdXJyZW50UmV0cnlBdHRlbXB0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICgwLCB3YXJuaW5nc18xLndhcm4pKCdyZXRyeV9yZXF1ZXN0X29wdGlvbnMnLCAnY3VycmVudFJldHJ5QXR0ZW1wdCBvdmVycmlkZSBpcyBub3Qgc3VwcG9ydGVkLiBSZXRyeSBhdHRlbXB0cyBhcmUgdHJhY2tlZCBpbnRlcm5hbGx5LicsICdVbnN1cHBvcnRlZFBhcmFtZXRlcldhcm5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0cnlDb2RlcyA9IFtzdGF0dXNfMS5TdGF0dXMuVU5BVkFJTEFCTEVdO1xuICAgICAgICBsZXQgc2hvdWxkUmV0cnlGbjtcbiAgICAgICAgaWYgKG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucy5zaG91bGRSZXRyeUZuKSB7XG4gICAgICAgICAgICByZXRyeUNvZGVzID0gW107XG4gICAgICAgICAgICBzaG91bGRSZXRyeUZuID0gb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zLnNob3VsZFJldHJ5Rm47XG4gICAgICAgIH1cbiAgICAgICAgLy9CYWNrb2ZmIHNldHRpbmdzXG4gICAgICAgIG9wdGlvbnMubWF4UmV0cmllcyA9XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJldHJpZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG9wdGlvbnMubWF4UmV0cmllcztcbiAgICAgICAgLy8gY3JlYXRlIGEgZGVmYXVsdCBiYWNrb2ZmIHNldHRpbmdzIG9iamVjdCBpbiBjYXNlIHRoZSB1c2VyIGRpZG4ndCBwcm92aWRlIG92ZXJyaWRlcyBmb3IgZXZlcnl0aGluZ1xuICAgICAgICBjb25zdCBiYWNrb2ZmU2V0dGluZ3MgPSBjcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzKCk7XG4gICAgICAgIGxldCBtYXhSZXRyeURlbGF5TWlsbGlzO1xuICAgICAgICBsZXQgdG90YWxUaW1lb3V0TWlsbGlzO1xuICAgICAgICAvLyBtYXhSZXRyeURlbGF5IC0gdGhpcyBpcyBpbiBzZWNvbmRzLCBuZWVkIHRvIGNvbnZlcnQgdG8gbWlsbGlzZWNvbmRzXG4gICAgICAgIGlmIChvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMubWF4UmV0cnlEZWxheSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtYXhSZXRyeURlbGF5TWlsbGlzID0gb3B0aW9ucy5yZXRyeVJlcXVlc3RPcHRpb25zLm1heFJldHJ5RGVsYXkgKiAxMDAwO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHJ5RGVsYXlNdWx0aXBsaWVyIC0gc2hvdWxkIGJlIGEgb25lIHRvIG9uZSBtYXBwaW5nIHRvIHJldHJ5RGVsYXlNdWx0aXBsaWVyXG4gICAgICAgIGNvbnN0IHJldHJ5RGVsYXlNdWx0aXBsaWVyID0gKF9kID0gKF9jID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yZXRyeURlbGF5TXVsdGlwbGllcikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogYmFja29mZlNldHRpbmdzLnJldHJ5RGVsYXlNdWx0aXBsaWVyO1xuICAgICAgICAvLyB0aGlzIGlzIGluIHNlY29uZHMgYW5kIG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBtaWxsaXNlY29uZHMgYW5kIHRoZSB0b3RhbFRpbWVvdXRNaWxsaXMgcGFyYW1ldGVyXG4gICAgICAgIGlmIChvcHRpb25zLnJldHJ5UmVxdWVzdE9wdGlvbnMudG90YWxUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvdGFsVGltZW91dE1pbGxpcyA9IG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9ucy50b3RhbFRpbWVvdXQgKiAxMDAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF4UmV0cmllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG90YWxUaW1lb3V0TWlsbGlzID0gMzAwMDA7XG4gICAgICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ3JldHJ5X3JlcXVlc3Rfb3B0aW9uc19ub19tYXhfcmV0cmllc190aW1lb3V0JywgJ05laXRoZXIgbWF4UmV0cmllcyBub3IgdG90YWxUaW1lb3V0IHdlcmUgcGFzc2VkLiBEZWZhdWx0aW5nIHRvIHRvdGFsVGltZW91dCBvZiAzMDAwMG1zLicsICdNaXNzaW5nUGFyYW1ldGVyV2FybmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGZvciB0aGUgdmFyaWFibGVzIHRoZSB1c2VyIHdhbnRzIHRvIG92ZXJyaWRlLCBvdmVycmlkZSBpbiB0aGUgYmFja29mZiBzZXR0aW5ncyBvYmplY3Qgd2UgbWFkZVxuICAgICAgICBiYWNrb2ZmU2V0dGluZ3MubWF4UmV0cnlEZWxheU1pbGxpcyA9XG4gICAgICAgICAgICBtYXhSZXRyeURlbGF5TWlsbGlzICE9PSBudWxsICYmIG1heFJldHJ5RGVsYXlNaWxsaXMgIT09IHZvaWQgMCA/IG1heFJldHJ5RGVsYXlNaWxsaXMgOiBiYWNrb2ZmU2V0dGluZ3MubWF4UmV0cnlEZWxheU1pbGxpcztcbiAgICAgICAgYmFja29mZlNldHRpbmdzLnJldHJ5RGVsYXlNdWx0aXBsaWVyID1cbiAgICAgICAgICAgIHJldHJ5RGVsYXlNdWx0aXBsaWVyICE9PSBudWxsICYmIHJldHJ5RGVsYXlNdWx0aXBsaWVyICE9PSB2b2lkIDAgPyByZXRyeURlbGF5TXVsdGlwbGllciA6IGJhY2tvZmZTZXR0aW5ncy5yZXRyeURlbGF5TXVsdGlwbGllcjtcbiAgICAgICAgYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpcyA9XG4gICAgICAgICAgICB0b3RhbFRpbWVvdXRNaWxsaXMgIT09IG51bGwgJiYgdG90YWxUaW1lb3V0TWlsbGlzICE9PSB2b2lkIDAgPyB0b3RhbFRpbWVvdXRNaWxsaXMgOiBiYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRSZXRyeU9wdGlvbnMgPSBjcmVhdGVSZXRyeU9wdGlvbnMocmV0cnlDb2RlcywgYmFja29mZlNldHRpbmdzLCBzaG91bGRSZXRyeUZuKTtcbiAgICAgICAgb3B0aW9ucy5yZXRyeSA9IGNvbnZlcnRlZFJldHJ5T3B0aW9ucztcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMucmV0cnlSZXF1ZXN0T3B0aW9uczsgLy8gY29tcGxldGVseSByZW1vdmUgdGhlbSB0byBhdm9pZCBhbnkgZnVydGhlciBjb25mdXNpb25cbiAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ3JldHJ5X3JlcXVlc3Rfb3B0aW9ucycsICdyZXRyeVJlcXVlc3RPcHRpb25zIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLiBQbGVhc2UgdXNlIHJldHJ5T3B0aW9ucyB0byBwYXNzIHJldHJ5IG9wdGlvbnMgYXQgY2FsbCB0aW1lJywgJ0RlcHJlY2F0aW9uV2FybmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cbi8qKlxuICogUGVyLWNhbGwgY29uZmlndXJhYmxlIHNldHRpbmdzIGZvciByZXRyeWluZyB1cG9uIHRyYW5zaWVudCBmYWlsdXJlLlxuICogQHBhcmFtIHtudW1iZXJbXX0gcmV0cnlDb2RlcyAtIGEgbGlzdCBvZiBHb29nbGUgQVBJIGNhbm9uaWNhbCBlcnJvciBjb2RlcyBPUiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGJvb2xlYW4gdG8gZGV0ZXJtaW5lIHJldHJ5IGJlaGF2aW9yXG4gKiAgIHVwb24gd2hpY2ggYSByZXRyeSBzaG91bGQgYmUgYXR0ZW1wdGVkLlxuICogQHBhcmFtIHtCYWNrb2ZmU2V0dGluZ3N9IGJhY2tvZmZTZXR0aW5ncyAtIGNvbmZpZ3VyZXMgdGhlIHJldHJ5XG4gKiAgIGV4cG9uZW50aWFsIGJhY2tvZmYgYWxnb3JpdGhtLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc2hvdWxkUmV0cnlGbiAtIGEgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgYSBjYWxsIHNob3VsZCByZXRyeS4gSWYgdGhpcyBpcyBkZWZpbmVkIHJldHJ5Q29kZXMgbXVzdCBiZSBlbXB0eVxuICogQHBhcmFtIHtmdW5jdGlvbn0gZ2V0UmVzdW1wdGlvblJlcXVlc3RGbiAtIGEgZnVuY3Rpb24gd2l0aCBhIHJlc3VtcHRpb24gc3RyYXRlZ3kgLSBvbmx5IHVzZWQgd2l0aCBzZXJ2ZXIgc3RyZWFtaW5nIHJldHJpZXNcbiAqIEByZXR1cm4ge1JldHJ5T3B0aW9uc30gQSBuZXcgUmV0cnlPcHRpb25zIG9iamVjdC5cbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJldHJ5T3B0aW9ucyhyZXRyeUNvZGVzLCBiYWNrb2ZmU2V0dGluZ3MsIHNob3VsZFJldHJ5Rm4sIGdldFJlc3VtcHRpb25SZXF1ZXN0Rm4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXRyeUNvZGVzLFxuICAgICAgICBiYWNrb2ZmU2V0dGluZ3MsXG4gICAgICAgIHNob3VsZFJldHJ5Rm4sXG4gICAgICAgIGdldFJlc3VtcHRpb25SZXF1ZXN0Rm4sXG4gICAgfTtcbn1cbi8qKlxuICogUGFyYW1ldGVycyB0byB0aGUgZXhwb25lbnRpYWwgYmFja29mZiBhbGdvcml0aG0gZm9yIHJldHJ5aW5nLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsUmV0cnlEZWxheU1pbGxpcyAtIHRoZSBpbml0aWFsIGRlbGF5IHRpbWUsXG4gKiAgIGluIG1pbGxpc2Vjb25kcywgYmV0d2VlbiB0aGUgY29tcGxldGlvbiBvZiB0aGUgZmlyc3QgZmFpbGVkIHJlcXVlc3QgYW5kIHRoZVxuICogICBpbml0aWF0aW9uIG9mIHRoZSBmaXJzdCByZXRyeWluZyByZXF1ZXN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHJldHJ5RGVsYXlNdWx0aXBsaWVyIC0gdGhlIG11bHRpcGxpZXIgYnkgd2hpY2ggdG9cbiAqICAgaW5jcmVhc2UgdGhlIGRlbGF5IHRpbWUgYmV0d2VlbiB0aGUgY29tcGxldGlvbiBvZiBmYWlsZWQgcmVxdWVzdHMsIGFuZCB0aGVcbiAqICAgaW5pdGlhdGlvbiBvZiB0aGUgc3Vic2VxdWVudCByZXRyeWluZyByZXF1ZXN0LlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJldHJ5RGVsYXlNaWxsaXMgLSB0aGUgbWF4aW11bSBkZWxheSB0aW1lLCBpblxuICogICBtaWxsaXNlY29uZHMsIGJldHdlZW4gcmVxdWVzdHMuIFdoZW4gdGhpcyB2YWx1ZSBpcyByZWFjaGVkLFxuICogICBgYHJldHJ5RGVsYXlNdWx0aXBsaWVyYGAgd2lsbCBubyBsb25nZXIgYmUgdXNlZCB0byBpbmNyZWFzZSBkZWxheSB0aW1lLlxuICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxScGNUaW1lb3V0TWlsbGlzIC0gdGhlIGluaXRpYWwgdGltZW91dCBwYXJhbWV0ZXJcbiAqICAgdG8gdGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gcnBjVGltZW91dE11bHRpcGxpZXIgLSB0aGUgbXVsdGlwbGllciBieSB3aGljaCB0b1xuICogICBpbmNyZWFzZSB0aGUgdGltZW91dCBwYXJhbWV0ZXIgYmV0d2VlbiBmYWlsZWQgcmVxdWVzdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UnBjVGltZW91dE1pbGxpcyAtIHRoZSBtYXhpbXVtIHRpbWVvdXQgcGFyYW1ldGVyLCBpblxuICogICBtaWxsaXNlY29uZHMsIGZvciBhIHJlcXVlc3QuIFdoZW4gdGhpcyB2YWx1ZSBpcyByZWFjaGVkLFxuICogICBgYHJwY1RpbWVvdXRNdWx0aXBsaWVyYGAgd2lsbCBubyBsb25nZXIgYmUgdXNlZCB0byBpbmNyZWFzZSB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3RhbFRpbWVvdXRNaWxsaXMgLSB0aGUgdG90YWwgdGltZSwgaW4gbWlsbGlzZWNvbmRzLFxuICogICBzdGFydGluZyBmcm9tIHdoZW4gdGhlIGluaXRpYWwgcmVxdWVzdCBpcyBzZW50LCBhZnRlciB3aGljaCBhbiBlcnJvciB3aWxsXG4gKiAgIGJlIHJldHVybmVkLCByZWdhcmRsZXNzIG9mIHRoZSByZXRyeWluZyBhdHRlbXB0cyBtYWRlIG1lYW53aGlsZS5cbiAqIEByZXR1cm4ge0JhY2tvZmZTZXR0aW5nc30gYSBuZXcgc2V0dGluZ3MuXG4gKlxuICovXG5mdW5jdGlvbiBjcmVhdGVCYWNrb2ZmU2V0dGluZ3MoaW5pdGlhbFJldHJ5RGVsYXlNaWxsaXMsIHJldHJ5RGVsYXlNdWx0aXBsaWVyLCBtYXhSZXRyeURlbGF5TWlsbGlzLCBpbml0aWFsUnBjVGltZW91dE1pbGxpcywgcnBjVGltZW91dE11bHRpcGxpZXIsIG1heFJwY1RpbWVvdXRNaWxsaXMsIHRvdGFsVGltZW91dE1pbGxpcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRpYWxSZXRyeURlbGF5TWlsbGlzLFxuICAgICAgICByZXRyeURlbGF5TXVsdGlwbGllcixcbiAgICAgICAgbWF4UmV0cnlEZWxheU1pbGxpcyxcbiAgICAgICAgaW5pdGlhbFJwY1RpbWVvdXRNaWxsaXMsXG4gICAgICAgIHJwY1RpbWVvdXRNdWx0aXBsaWVyLFxuICAgICAgICBtYXhScGNUaW1lb3V0TWlsbGlzLFxuICAgICAgICB0b3RhbFRpbWVvdXRNaWxsaXMsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJhY2tvZmZTZXR0aW5ncygxMDAsIDEuMywgNjAwMDAsIG51bGwsIG51bGwsIG51bGwsIG51bGwpO1xufVxuLyoqXG4gKiBQYXJhbWV0ZXJzIHRvIHRoZSBleHBvbmVudGlhbCBiYWNrb2ZmIGFsZ29yaXRobSBmb3IgcmV0cnlpbmcuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVuc3VwcG9ydGVkLCBhbmQgaW50ZW5kZWQgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsUmV0cnlEZWxheU1pbGxpcyAtIHRoZSBpbml0aWFsIGRlbGF5IHRpbWUsXG4gKiAgIGluIG1pbGxpc2Vjb25kcywgYmV0d2VlbiB0aGUgY29tcGxldGlvbiBvZiB0aGUgZmlyc3QgZmFpbGVkIHJlcXVlc3QgYW5kIHRoZVxuICogICBpbml0aWF0aW9uIG9mIHRoZSBmaXJzdCByZXRyeWluZyByZXF1ZXN0LlxuICogQHBhcmFtIHtudW1iZXJ9IHJldHJ5RGVsYXlNdWx0aXBsaWVyIC0gdGhlIG11bHRpcGxpZXIgYnkgd2hpY2ggdG9cbiAqICAgaW5jcmVhc2UgdGhlIGRlbGF5IHRpbWUgYmV0d2VlbiB0aGUgY29tcGxldGlvbiBvZiBmYWlsZWQgcmVxdWVzdHMsIGFuZCB0aGVcbiAqICAgaW5pdGlhdGlvbiBvZiB0aGUgc3Vic2VxdWVudCByZXRyeWluZyByZXF1ZXN0LlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFJldHJ5RGVsYXlNaWxsaXMgLSB0aGUgbWF4aW11bSBkZWxheSB0aW1lLCBpblxuICogICBtaWxsaXNlY29uZHMsIGJldHdlZW4gcmVxdWVzdHMuIFdoZW4gdGhpcyB2YWx1ZSBpcyByZWFjaGVkLFxuICogICBgYHJldHJ5RGVsYXlNdWx0aXBsaWVyYGAgd2lsbCBubyBsb25nZXIgYmUgdXNlZCB0byBpbmNyZWFzZSBkZWxheSB0aW1lLlxuICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxScGNUaW1lb3V0TWlsbGlzIC0gdGhlIGluaXRpYWwgdGltZW91dCBwYXJhbWV0ZXJcbiAqICAgdG8gdGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge251bWJlcn0gcnBjVGltZW91dE11bHRpcGxpZXIgLSB0aGUgbXVsdGlwbGllciBieSB3aGljaCB0b1xuICogICBpbmNyZWFzZSB0aGUgdGltZW91dCBwYXJhbWV0ZXIgYmV0d2VlbiBmYWlsZWQgcmVxdWVzdHMuXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UnBjVGltZW91dE1pbGxpcyAtIHRoZSBtYXhpbXVtIHRpbWVvdXQgcGFyYW1ldGVyLCBpblxuICogICBtaWxsaXNlY29uZHMsIGZvciBhIHJlcXVlc3QuIFdoZW4gdGhpcyB2YWx1ZSBpcyByZWFjaGVkLFxuICogICBgYHJwY1RpbWVvdXRNdWx0aXBsaWVyYGAgd2lsbCBubyBsb25nZXIgYmUgdXNlZCB0byBpbmNyZWFzZSB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhSZXRyaWVzIC0gdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJ5aW5nIGF0dGVtcHRzIHRoYXRcbiAqICAgd2lsbCBiZSBtYWRlLiBJZiByZWFjaGVkLCBhbiBlcnJvciB3aWxsIGJlIHJldHVybmVkLlxuICogQHJldHVybiB7QmFja29mZlNldHRpbmdzfSBhIG5ldyBzZXR0aW5ncy5cbiAqXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1heFJldHJpZXNCYWNrb2ZmU2V0dGluZ3MoaW5pdGlhbFJldHJ5RGVsYXlNaWxsaXMsIHJldHJ5RGVsYXlNdWx0aXBsaWVyLCBtYXhSZXRyeURlbGF5TWlsbGlzLCBpbml0aWFsUnBjVGltZW91dE1pbGxpcywgcnBjVGltZW91dE11bHRpcGxpZXIsIG1heFJwY1RpbWVvdXRNaWxsaXMsIG1heFJldHJpZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsUmV0cnlEZWxheU1pbGxpcyxcbiAgICAgICAgcmV0cnlEZWxheU11bHRpcGxpZXIsXG4gICAgICAgIG1heFJldHJ5RGVsYXlNaWxsaXMsXG4gICAgICAgIGluaXRpYWxScGNUaW1lb3V0TWlsbGlzLFxuICAgICAgICBycGNUaW1lb3V0TXVsdGlwbGllcixcbiAgICAgICAgbWF4UnBjVGltZW91dE1pbGxpcyxcbiAgICAgICAgbWF4UmV0cmllcyxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHtAbGluayBCdW5kbGVPcHRpb25zfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbiBvYmplY3QgdG8gaG9sZCBvcHRpb25hbCBwYXJhbWV0ZXJzLiBTZWVcbiAqICAgcHJvcGVydGllcyBmb3IgdGhlIGNvbnRlbnQgb2Ygb3B0aW9ucy5cbiAqIEByZXR1cm4ge0J1bmRsZU9wdGlvbnN9IC0gQSBuZXcgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnVuZGxlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgY29uc3QgcGFyYW1zID0gW1xuICAgICAgICAnZWxlbWVudF9jb3VudF90aHJlc2hvbGQnLFxuICAgICAgICAnZWxlbWVudF9jb3VudF9saW1pdCcsXG4gICAgICAgICdyZXF1ZXN0X2J5dGVfdGhyZXNob2xkJyxcbiAgICAgICAgJ3JlcXVlc3RfYnl0ZV9saW1pdCcsXG4gICAgICAgICdkZWxheV90aHJlc2hvbGRfbWlsbGlzJyxcbiAgICBdO1xuICAgIHBhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcbiAgICAgICAgaWYgKHBhcmFtIGluIG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnNbcGFyYW1dICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3BhcmFtfSBzaG91bGQgYmUgYSBudW1iZXJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGVsZW1lbnRDb3VudFRocmVzaG9sZCA9IG9wdGlvbnMuZWxlbWVudF9jb3VudF90aHJlc2hvbGQgfHwgMDtcbiAgICBjb25zdCBlbGVtZW50Q291bnRMaW1pdCA9IG9wdGlvbnMuZWxlbWVudF9jb3VudF9saW1pdCB8fCAwO1xuICAgIGNvbnN0IHJlcXVlc3RCeXRlVGhyZXNob2xkID0gb3B0aW9ucy5yZXF1ZXN0X2J5dGVfdGhyZXNob2xkIHx8IDA7XG4gICAgY29uc3QgcmVxdWVzdEJ5dGVMaW1pdCA9IG9wdGlvbnMucmVxdWVzdF9ieXRlX2xpbWl0IHx8IDA7XG4gICAgY29uc3QgZGVsYXlUaHJlc2hvbGQgPSBvcHRpb25zLmRlbGF5X3RocmVzaG9sZF9taWxsaXMgfHwgMDtcbiAgICBpZiAoZWxlbWVudENvdW50VGhyZXNob2xkID09PSAwICYmXG4gICAgICAgIHJlcXVlc3RCeXRlVGhyZXNob2xkID09PSAwICYmXG4gICAgICAgIGRlbGF5VGhyZXNob2xkID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb25lIHRocmVzaG9sZCBzaG91bGQgYmUgPiAwJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGVsZW1lbnRDb3VudFRocmVzaG9sZCxcbiAgICAgICAgZWxlbWVudENvdW50TGltaXQsXG4gICAgICAgIHJlcXVlc3RCeXRlVGhyZXNob2xkLFxuICAgICAgICByZXF1ZXN0Qnl0ZUxpbWl0LFxuICAgICAgICBkZWxheVRocmVzaG9sZCxcbiAgICB9O1xufVxuLyoqXG4gKiBIZWxwZXIgZm9yIHtAbGluayBjb25zdHJ1Y3RTZXR0aW5nc31cbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtZXRob2RDb25maWcgLSBBIGRpY3Rpb25hcnkgcmVwcmVzZW50aW5nIGEgc2luZ2xlXG4gKiAgIGBtZXRob2RzYCBlbnRyeSBvZiB0aGUgc3RhbmRhcmQgQVBJIGNsaWVudCBjb25maWcgZmlsZS4gKFNlZVxuICogICB7QGxpbmsgY29uc3RydWN0U2V0dGluZ3N9IGZvciBpbmZvcm1hdGlvbiBvbiB0aGlzIHlhbWwuKVxuICogQHBhcmFtIHs/T2JqZWN0fSByZXRyeUNvZGVzIC0gQSBkaWN0aW9uYXJ5IHBhcnNlZCBmcm9tIHRoZVxuICogICBgcmV0cnlfY29kZXNfZGVmYCBlbnRyeSBvZiB0aGUgc3RhbmRhcmQgQVBJIGNsaWVudCBjb25maWdcbiAqICAgZmlsZS4gKFNlZSB7QGxpbmsgY29uc3RydWN0U2V0dGluZ3N9IGZvciBpbmZvcm1hdGlvbiBvbiB0aGlzIHlhbWwuKVxuICogQHBhcmFtIHtPYmplY3R9IHJldHJ5UGFyYW1zIC0gQSBkaWN0aW9uYXJ5IHBhcnNlZCBmcm9tIHRoZVxuICogICBgcmV0cnlfcGFyYW1zYCBlbnRyeSBvZiB0aGUgc3RhbmRhcmQgQVBJIGNsaWVudCBjb25maWdcbiAqICAgZmlsZS4gKFNlZSB7QGxpbmsgY29uc3RydWN0U2V0dGluZ3N9IGZvciBpbmZvcm1hdGlvbiBvbiB0aGlzIHlhbWwuKVxuICogQHBhcmFtIHtPYmplY3R9IHJldHJ5TmFtZXMgLSBBIGRpY3Rpb25hcnkgbWFwcGluZyB0aGUgc3RyaW5nIG5hbWVzXG4gKiAgIHVzZWQgaW4gdGhlIHN0YW5kYXJkIEFQSSBjbGllbnQgY29uZmlnIGZpbGUgdG8gQVBJIHJlc3BvbnNlXG4gKiAgIHN0YXR1cyBjb2Rlcy5cbiAqIEByZXR1cm4gez9SZXRyeU9wdGlvbnN9IFRoZSBuZXcgcmV0cnkgb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0UmV0cnkobWV0aG9kQ29uZmlnLCByZXRyeUNvZGVzLCByZXRyeVBhcmFtcywgcmV0cnlOYW1lcykge1xuICAgIGlmICghbWV0aG9kQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgY29kZXMgPSBudWxsOyAvLyB0aGlzIGlzIG9uZSBpbnN0YW5jZSB3aGVyZSBpdCB3aWxsIE5PVCBiZSBhbiBhcnJheSBPUiBhIGZ1bmN0aW9uIGJlY2F1c2Ugd2UgZG8gbm90IGFsbG93IHNob3VsZFJldHJ5Rm4gaW4gdGhlIGNsaWVudFxuICAgIGlmIChyZXRyeUNvZGVzICYmICdyZXRyeV9jb2Rlc19uYW1lJyBpbiBtZXRob2RDb25maWcpIHtcbiAgICAgICAgY29uc3QgcmV0cnlDb2Rlc05hbWUgPSBtZXRob2RDb25maWdbJ3JldHJ5X2NvZGVzX25hbWUnXTtcbiAgICAgICAgY29kZXMgPSAocmV0cnlDb2Rlc1tyZXRyeUNvZGVzTmFtZV0gfHwgW10pLm1hcChuYW1lID0+IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIocmV0cnlOYW1lc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgYmFja29mZlNldHRpbmdzID0gbnVsbDtcbiAgICBpZiAocmV0cnlQYXJhbXMgJiYgJ3JldHJ5X3BhcmFtc19uYW1lJyBpbiBtZXRob2RDb25maWcpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gcmV0cnlQYXJhbXNbbWV0aG9kQ29uZmlnLnJldHJ5X3BhcmFtc19uYW1lXTtcbiAgICAgICAgYmFja29mZlNldHRpbmdzID0gY3JlYXRlQmFja29mZlNldHRpbmdzKHBhcmFtcy5pbml0aWFsX3JldHJ5X2RlbGF5X21pbGxpcywgcGFyYW1zLnJldHJ5X2RlbGF5X211bHRpcGxpZXIsIHBhcmFtcy5tYXhfcmV0cnlfZGVsYXlfbWlsbGlzLCBwYXJhbXMuaW5pdGlhbF9ycGNfdGltZW91dF9taWxsaXMsIHBhcmFtcy5ycGNfdGltZW91dF9tdWx0aXBsaWVyLCBwYXJhbXMubWF4X3JwY190aW1lb3V0X21pbGxpcywgcGFyYW1zLnRvdGFsX3RpbWVvdXRfbWlsbGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVJldHJ5T3B0aW9ucyhjb2RlcywgYmFja29mZlNldHRpbmdzKTtcbn1cbi8qKlxuICogSGVscGVyIGZvciB7QGxpbmsgY29uc3RydWN0U2V0dGluZ3N9XG4gKlxuICogVGFrZXMgdHdvIHJldHJ5IG9wdGlvbnMsIGFuZCBtZXJnZXMgdGhlbSBpbnRvIGEgc2luZ2xlIFJldHJ5T3B0aW9uIGluc3RhbmNlLlxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtSZXRyeU9wdGlvbnN9IHJldHJ5IC0gVGhlIGJhc2UgUmV0cnlPcHRpb25zLlxuICogQHBhcmFtIHtSZXRyeU9wdGlvbnN9IG92ZXJyaWRlcyAtIFRoZSBSZXRyeU9wdGlvbnMgdXNlZCBmb3Igb3ZlcnJpZGluZ1xuICogICBgcmV0cnlgLiBVc2UgdGhlIHZhbHVlcyBpZiBpdCBpcyBub3QgbnVsbC4gSWYgZW50aXJlIGBvdmVycmlkZXNgIGlzIG51bGwsXG4gKiAgIGlnbm9yZSB0aGUgYmFzZSByZXRyeSBhbmQgcmV0dXJuIG51bGwuXG4gKiBAcmV0dXJuIHs/UmV0cnlPcHRpb25zfSBUaGUgbWVyZ2VkIFJldHJ5T3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VSZXRyeU9wdGlvbnMocmV0cnksIG92ZXJyaWRlcykge1xuICAgIGlmICghb3ZlcnJpZGVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIW92ZXJyaWRlcy5yZXRyeUNvZGVzICYmXG4gICAgICAgICFvdmVycmlkZXMuYmFja29mZlNldHRpbmdzICYmXG4gICAgICAgICFvdmVycmlkZXMuc2hvdWxkUmV0cnlGbiAmJlxuICAgICAgICAhb3ZlcnJpZGVzLmdldFJlc3VtcHRpb25SZXF1ZXN0Rm4pIHtcbiAgICAgICAgcmV0dXJuIHJldHJ5O1xuICAgIH1cbiAgICBjb25zdCByZXRyeUNvZGVzID0gb3ZlcnJpZGVzLnJldHJ5Q29kZXNcbiAgICAgICAgPyBvdmVycmlkZXMucmV0cnlDb2Rlc1xuICAgICAgICA6IHJldHJ5LnJldHJ5Q29kZXM7XG4gICAgY29uc3QgYmFja29mZlNldHRpbmdzID0gb3ZlcnJpZGVzLmJhY2tvZmZTZXR0aW5nc1xuICAgICAgICA/IG92ZXJyaWRlcy5iYWNrb2ZmU2V0dGluZ3NcbiAgICAgICAgOiByZXRyeS5iYWNrb2ZmU2V0dGluZ3M7XG4gICAgY29uc3Qgc2hvdWxkUmV0cnlGbiA9IG92ZXJyaWRlcy5zaG91bGRSZXRyeUZuXG4gICAgICAgID8gb3ZlcnJpZGVzLnNob3VsZFJldHJ5Rm5cbiAgICAgICAgOiByZXRyeS5zaG91bGRSZXRyeUZuO1xuICAgIGNvbnN0IGdldFJlc3VtcHRpb25SZXF1ZXN0Rm4gPSBvdmVycmlkZXMuZ2V0UmVzdW1wdGlvblJlcXVlc3RGblxuICAgICAgICA/IG92ZXJyaWRlcy5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuXG4gICAgICAgIDogcmV0cnkuZ2V0UmVzdW1wdGlvblJlcXVlc3RGbjtcbiAgICByZXR1cm4gY3JlYXRlUmV0cnlPcHRpb25zKHJldHJ5Q29kZXMsIGJhY2tvZmZTZXR0aW5ncywgc2hvdWxkUmV0cnlGbiwgZ2V0UmVzdW1wdGlvblJlcXVlc3RGbik7XG59XG4vKipcbiAqIENvbnN0cnVjdHMgYSBkaWN0aW9uYXJ5IG1hcHBpbmcgbWV0aG9kIG5hbWVzIHRvIHtAbGluayBDYWxsU2V0dGluZ3N9LlxuICpcbiAqIFRoZSBgY2xpZW50Q29uZmlnYCBwYXJhbWV0ZXIgaXMgcGFyc2VkIGZyb20gYSBjbGllbnQgY29uZmlndXJhdGlvbiBKU09OXG4gKiBmaWxlIG9mIHRoZSBmb3JtOlxuICpcbiAqICAgICB7XG4gKiAgICAgICBcImludGVyZmFjZXNcIjoge1xuICogICAgICAgICBcImdvb2dsZS5mYWtlLnYxLlNlcnZpY2VOYW1lXCI6IHtcbiAqICAgICAgICAgICBcInJldHJ5X2NvZGVzXCI6IHtcbiAqICAgICAgICAgICAgIFwiaWRlbXBvdGVudFwiOiBbXCJVTkFWQUlMQUJMRVwiLCBcIkRFQURMSU5FX0VYQ0VFREVEXCJdLFxuICogICAgICAgICAgICAgXCJub25faWRlbXBvdGVudFwiOiBbXVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgXCJyZXRyeV9wYXJhbXNcIjoge1xuICogICAgICAgICAgICAgXCJkZWZhdWx0XCI6IHtcbiAqICAgICAgICAgICAgICAgXCJpbml0aWFsX3JldHJ5X2RlbGF5X21pbGxpc1wiOiAxMDAsXG4gKiAgICAgICAgICAgICAgIFwicmV0cnlfZGVsYXlfbXVsdGlwbGllclwiOiAxLjIsXG4gKiAgICAgICAgICAgICAgIFwibWF4X3JldHJ5X2RlbGF5X21pbGxpc1wiOiAxMDAwLFxuICogICAgICAgICAgICAgICBcImluaXRpYWxfcnBjX3RpbWVvdXRfbWlsbGlzXCI6IDIwMDAsXG4gKiAgICAgICAgICAgICAgIFwicnBjX3RpbWVvdXRfbXVsdGlwbGllclwiOiAxLjUsXG4gKiAgICAgICAgICAgICAgIFwibWF4X3JwY190aW1lb3V0X21pbGxpc1wiOiAzMDAwMCxcbiAqICAgICAgICAgICAgICAgXCJ0b3RhbF90aW1lb3V0X21pbGxpc1wiOiA0NTAwMFxuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgXCJtZXRob2RzXCI6IHtcbiAqICAgICAgICAgICAgIFwiQ3JlYXRlRm9vXCI6IHtcbiAqICAgICAgICAgICAgICAgXCJyZXRyeV9jb2Rlc19uYW1lXCI6IFwiaWRlbXBvdGVudFwiLFxuICogICAgICAgICAgICAgICBcInJldHJ5X3BhcmFtc19uYW1lXCI6IFwiZGVmYXVsdFwiXG4gKiAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgXCJQdWJsaXNoXCI6IHtcbiAqICAgICAgICAgICAgICAgXCJyZXRyeV9jb2Rlc19uYW1lXCI6IFwibm9uX2lkZW1wb3RlbnRcIixcbiAqICAgICAgICAgICAgICAgXCJyZXRyeV9wYXJhbXNfbmFtZVwiOiBcImRlZmF1bHRcIixcbiAqICAgICAgICAgICAgICAgXCJidW5kbGluZ1wiOiB7XG4gKiAgICAgICAgICAgICAgICAgXCJlbGVtZW50X2NvdW50X3RocmVzaG9sZFwiOiA0MCxcbiAqICAgICAgICAgICAgICAgICBcImVsZW1lbnRfY291bnRfbGltaXRcIjogMjAwLFxuICogICAgICAgICAgICAgICAgIFwicmVxdWVzdF9ieXRlX3RocmVzaG9sZFwiOiA5MDAwMCxcbiAqICAgICAgICAgICAgICAgICBcInJlcXVlc3RfYnl0ZV9saW1pdFwiOiAxMDAwMDAsXG4gKiAgICAgICAgICAgICAgICAgXCJkZWxheV90aHJlc2hvbGRfbWlsbGlzXCI6IDEwMFxuICogICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZXJ2aWNlTmFtZSAtIFRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZSBvZiB0aGlzXG4gKiAgIHNlcnZpY2UsIHVzZWQgYXMgYSBrZXkgaW50byB0aGUgY2xpZW50IGNvbmZpZyBmaWxlIChpbiB0aGVcbiAqICAgZXhhbXBsZSBhYm92ZSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgJ2dvb2dsZS5mYWtlLnYxLlNlcnZpY2VOYW1lJykuXG4gKiBAcGFyYW0ge09iamVjdH0gY2xpZW50Q29uZmlnIC0gQSBkaWN0aW9uYXJ5IHBhcnNlZCBmcm9tIHRoZVxuICogICBzdGFuZGFyZCBBUEkgY2xpZW50IGNvbmZpZyBmaWxlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ092ZXJyaWRlcyAtIEEgZGljdGlvbmFyeSBpbiB0aGUgc2FtZSBzdHJ1Y3R1cmUgb2ZcbiAqICAgY2xpZW50X2NvbmZpZyB0byBvdmVycmlkZSB0aGUgc2V0dGluZ3MuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBzdHJpbmdbXT59IHJldHJ5TmFtZXMgLSBBIGRpY3Rpb25hcnkgbWFwcGluZyB0aGUgc3RyaW5nc1xuICogICByZWZlcnJpbmcgdG8gcmVzcG9uc2Ugc3RhdHVzIGNvZGVzIHRvIG9iamVjdHMgcmVwcmVzZW50aW5nXG4gKiAgIHRob3NlIGNvZGVzLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyQXJncyAtIHRoZSBub24tcmVxdWVzdCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBBUElcbiAqICAgY2FsbHMuXG4gKiBAcmV0dXJuIHtPYmplY3R9IEEgbWFwcGluZyBmcm9tIG1ldGhvZCBuYW1lIHRvIENhbGxTZXR0aW5ncywgb3IgbnVsbCBpZiB0aGVcbiAqICAgc2VydmljZSBpcyBub3QgZm91bmQgaW4gdGhlIGNvbmZpZy5cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0U2V0dGluZ3Moc2VydmljZU5hbWUsIGNsaWVudENvbmZpZywgY29uZmlnT3ZlcnJpZGVzLCByZXRyeU5hbWVzLCBvdGhlckFyZ3MpIHtcbiAgICBvdGhlckFyZ3MgPSBvdGhlckFyZ3MgfHwge307XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBkZWZhdWx0cyA9IHt9O1xuICAgIGNvbnN0IHNlcnZpY2VDb25maWcgPSAoY2xpZW50Q29uZmlnLmludGVyZmFjZXMgfHwge30pW3NlcnZpY2VOYW1lXTtcbiAgICBpZiAoIXNlcnZpY2VDb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIHVzZXJzIGNhbiBvdmVycmlkZSB0aGUgY29uZmlnIGZyb20gY2xpZW50IHNpZGUsIGxpa2UgYnVuZGxpbmcgb3B0aW9ucy5cbiAgICAvLyBUaGUgZGV0YWlsZWQgc3RydWN0dXJlIG9mIHRoZSBjbGllbnRDb25maWcgY2FuIGJlIGZvdW5kIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL3NyYy9nYXgudHMjTDU0NlxuICAgIC8vIFRoZSB3YXkgdG8gb3ZlcnJpZGUgYnVuZGxpbmcgb3B0aW9uczpcbiAgICAvL1xuICAgIC8vIGNvbnN0IGN1c3RvbUNvbmZpZyA9IHtcImludGVyZmFjZXNcIjoge1wic2VydmljZVwiOiB7XCJtZXRob2RzXCI6IHtcIm1ldGhvZE5hbWVcIjoge1wiYnVuZGxpbmdcIjogey4ufX19fX19XG4gICAgLy8gY29uc3QgY2xpZW50ID0gbmV3IENsaWVudCh7IHByb2plY3RJZCwgY3VzdG9tQ29uZmlnIH0pO1xuICAgIGNvbnN0IG92ZXJyaWRlcyA9IChjb25maWdPdmVycmlkZXMuaW50ZXJmYWNlcyB8fCB7fSlbc2VydmljZU5hbWVdIHx8IHt9O1xuICAgIGNvbnN0IG1ldGhvZHMgPSBzZXJ2aWNlQ29uZmlnLm1ldGhvZHM7XG4gICAgY29uc3Qgb3ZlcnJpZGluZ01ldGhvZHMgPSBvdmVycmlkZXMubWV0aG9kcyB8fCB7fTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgaW4gbWV0aG9kcykge1xuICAgICAgICBjb25zdCBtZXRob2RDb25maWcgPSBtZXRob2RzW21ldGhvZE5hbWVdO1xuICAgICAgICBjb25zdCBqc05hbWUgPSAoMCwgdXRpbF8xLnRvTG93ZXJDYW1lbENhc2UpKG1ldGhvZE5hbWUpO1xuICAgICAgICBsZXQgcmV0cnkgPSBjb25zdHJ1Y3RSZXRyeShtZXRob2RDb25maWcsIHNlcnZpY2VDb25maWcucmV0cnlfY29kZXMsIHNlcnZpY2VDb25maWcucmV0cnlfcGFyYW1zLCByZXRyeU5hbWVzKTtcbiAgICAgICAgbGV0IGJ1bmRsaW5nQ29uZmlnID0gbWV0aG9kQ29uZmlnLmJ1bmRsaW5nO1xuICAgICAgICBsZXQgdGltZW91dCA9IG1ldGhvZENvbmZpZy50aW1lb3V0X21pbGxpcztcbiAgICAgICAgaWYgKG1ldGhvZE5hbWUgaW4gb3ZlcnJpZGluZ01ldGhvZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJyaWRpbmdNZXRob2QgPSBvdmVycmlkaW5nTWV0aG9kc1ttZXRob2ROYW1lXTtcbiAgICAgICAgICAgIGlmIChvdmVycmlkaW5nTWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgaWYgKCdidW5kbGluZycgaW4gb3ZlcnJpZGluZ01ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICBidW5kbGluZ0NvbmZpZyA9IG92ZXJyaWRpbmdNZXRob2QuYnVuZGxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgndGltZW91dF9taWxsaXMnIGluIG92ZXJyaWRpbmdNZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IG92ZXJyaWRpbmdNZXRob2QudGltZW91dF9taWxsaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0cnkgPSBtZXJnZVJldHJ5T3B0aW9ucyhyZXRyeSwgY29uc3RydWN0UmV0cnkob3ZlcnJpZGluZ01ldGhvZCwgb3ZlcnJpZGVzLnJldHJ5X2NvZGVzLCBvdmVycmlkZXMucmV0cnlfcGFyYW1zLCByZXRyeU5hbWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXBpTmFtZSA9IHNlcnZpY2VOYW1lO1xuICAgICAgICBkZWZhdWx0c1tqc05hbWVdID0gbmV3IENhbGxTZXR0aW5ncyh7XG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgcmV0cnksXG4gICAgICAgICAgICBidW5kbGVPcHRpb25zOiBidW5kbGluZ0NvbmZpZ1xuICAgICAgICAgICAgICAgID8gY3JlYXRlQnVuZGxlT3B0aW9ucyhidW5kbGluZ0NvbmZpZylcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICBvdGhlckFyZ3MsXG4gICAgICAgICAgICBhcGlOYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRzO1xufVxuZnVuY3Rpb24gY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Qnl0ZUxlbmd0aChvYmopIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmVuY29kZShvYmopLmZpbmlzaCgpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdpZmllZCA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnZXJyb3JfZW5jb2RpbmdfcHJvdG9idWZqc19vYmplY3QnLCBgQ2Fubm90IGVuY29kZSBwcm90b2J1Zi5qcyBvYmplY3Q6ICR7c3RyaW5naWZpZWR9OiAke2Vycn1gKTtcbiAgICAgICAgICAgIC8vIFdlIGZhaWxlZCB0byBlbmNvZGUgdGhlIG9iamVjdCBwcm9wZXJseSwgbGV0J3MganVzdCByZXR1cm4gYW4gdXBwZXIgYm91bmRhcnkgb2YgaXRzIGxlbmd0aC5cbiAgICAgICAgICAgIC8vIEl0J3Mgb25seSBuZWVkZWQgZm9yIGNhbGN1bGF0aW5nIHRoZSBzaXplIG9mIHRoZSBiYXRjaCwgc28gaXQncyBzYWZlIGlmIGl0J3MgYmlnZ2VyIHRoYW4gbmVlZGVkLlxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkLmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nYXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/gax.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/googleError.js":
/*!**********************************************************!*\
  !*** ./node_modules/google-gax/build/src/googleError.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GoogleErrorDecoder = exports.GoogleError = void 0;\nconst status_1 = __webpack_require__(/*! ./status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(rsc)/./node_modules/protobufjs/index.js\");\nconst serializer = __webpack_require__(/*! proto3-json-serializer */ \"(rsc)/./node_modules/proto3-json-serializer/build/src/index.js\");\nconst fallback_1 = __webpack_require__(/*! ./fallback */ \"(rsc)/./node_modules/google-gax/build/src/fallback.js\");\nclass GoogleError extends Error {\n    // Parse details field in google.rpc.status wire over gRPC medatadata.\n    // Promote google.rpc.ErrorInfo if exist.\n    static parseGRPCStatusDetails(err) {\n        const decoder = new GoogleErrorDecoder();\n        try {\n            if (err.metadata && err.metadata.get('grpc-status-details-bin')) {\n                const statusDetailsObj = decoder.decodeGRPCStatusDetails(err.metadata.get('grpc-status-details-bin'));\n                if (statusDetailsObj &&\n                    statusDetailsObj.details &&\n                    statusDetailsObj.details.length > 0) {\n                    err.statusDetails = statusDetailsObj.details;\n                }\n                if (statusDetailsObj && statusDetailsObj.errorInfo) {\n                    err.reason = statusDetailsObj.errorInfo.reason;\n                    err.domain = statusDetailsObj.errorInfo.domain;\n                    err.errorInfoMetadata = statusDetailsObj.errorInfo.metadata;\n                }\n            }\n        }\n        catch (decodeErr) {\n            // ignoring the error\n        }\n        return err;\n    }\n    // Parse http JSON error and promote google.rpc.ErrorInfo if exist.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static parseHttpError(json) {\n        if (Array.isArray(json)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            json = json.find((obj) => {\n                return 'error' in obj;\n            });\n        }\n        // fallback logic.\n        // related issue: https://github.com/googleapis/gax-nodejs/issues/1303\n        // google error mapping: https://cloud.google.com/apis/design/errors\n        // if input json doesn't have 'error' fields, wrap the whole object with 'error' field\n        if (!json['error']) {\n            json['error'] = {};\n            Object.keys(json)\n                .filter(key => key !== 'error')\n                .forEach(key => {\n                json['error'][key] = json[key];\n                delete json[key];\n            });\n        }\n        const decoder = new GoogleErrorDecoder();\n        const proto3Error = decoder.decodeHTTPError(json['error']);\n        const error = Object.assign(new GoogleError(json['error']['message']), proto3Error);\n        // Map Http Status Code to gRPC Status Code\n        if (json['error']['code']) {\n            error.code = (0, status_1.rpcCodeFromHttpStatusCode)(json['error']['code']);\n        }\n        else {\n            // If error code is absent, proto3 message default value is 0. We should\n            // keep error code as undefined.\n            delete error.code;\n        }\n        // Keep consistency with gRPC statusDetails fields. gRPC details has been occupied before.\n        // Rename \"details\" to \"statusDetails\".\n        if (error.details) {\n            try {\n                const statusDetailsObj = decoder.decodeHttpStatusDetails(error.details);\n                if (statusDetailsObj &&\n                    statusDetailsObj.details &&\n                    statusDetailsObj.details.length > 0) {\n                    error.statusDetails = statusDetailsObj.details;\n                }\n                if (statusDetailsObj && statusDetailsObj.errorInfo) {\n                    error.reason = statusDetailsObj.errorInfo.reason;\n                    error.domain = statusDetailsObj.errorInfo.domain;\n                    // error.metadata has been occupied for gRPC metadata, so we use\n                    // errorInfoMetadata to represent ErrorInfo' metadata field. Keep\n                    // consistency with gRPC ErrorInfo metadata field name.\n                    error.errorInfoMetadata = statusDetailsObj.errorInfo.metadata;\n                }\n            }\n            catch (decodeErr) {\n                // ignoring the error\n            }\n        }\n        return error;\n    }\n}\nexports.GoogleError = GoogleError;\nclass GoogleErrorDecoder {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-var-requires\n        const errorProtoJson = __webpack_require__(/*! ../../build/protos/status.json */ \"(rsc)/./node_modules/google-gax/build/protos/status.json\");\n        this.root = protobuf.Root.fromJSON(errorProtoJson);\n        this.anyType = this.root.lookupType('google.protobuf.Any');\n        this.statusType = this.root.lookupType('google.rpc.Status');\n    }\n    decodeProtobufAny(anyValue) {\n        const match = anyValue.type_url.match(/^type.googleapis.com\\/(.*)/);\n        if (!match) {\n            throw new Error(`Unknown type encoded in google.protobuf.any: ${anyValue.type_url}`);\n        }\n        const typeName = match[1];\n        const type = this.root.lookupType(typeName);\n        if (!type) {\n            throw new Error(`Cannot lookup type ${typeName}`);\n        }\n        return type.decode(anyValue.value);\n    }\n    // Decodes gRPC-fallback error which is an instance of google.rpc.Status.\n    decodeRpcStatus(buffer) {\n        const uint8array = new Uint8Array(buffer);\n        const status = this.statusType.decode(uint8array);\n        // google.rpc.Status contains an array of google.protobuf.Any\n        // which need a special treatment\n        const details = [];\n        let errorInfo;\n        for (const detail of status.details) {\n            try {\n                const decodedDetail = this.decodeProtobufAny(detail);\n                details.push(decodedDetail);\n                if (detail.type_url === 'type.googleapis.com/google.rpc.ErrorInfo') {\n                    errorInfo = decodedDetail;\n                }\n            }\n            catch (err) {\n                // cannot decode detail, likely because of the unknown type - just skip it\n            }\n        }\n        const result = {\n            code: status.code,\n            message: status.message,\n            statusDetails: details,\n            reason: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.reason,\n            domain: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.domain,\n            errorInfoMetadata: errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.metadata,\n        };\n        return result;\n    }\n    // Construct an Error from a StatusObject.\n    // Adapted from https://github.com/grpc/grpc-node/blob/main/packages/grpc-js/src/call.ts#L79\n    callErrorFromStatus(status) {\n        status.message = `${status.code} ${status_1.Status[status.code]}: ${status.message}`;\n        return Object.assign(new GoogleError(status.message), status);\n    }\n    // Decodes gRPC-fallback error which is an instance of google.rpc.Status,\n    // and puts it into the object similar to gRPC ServiceError object.\n    decodeErrorFromBuffer(buffer) {\n        return this.callErrorFromStatus(this.decodeRpcStatus(buffer));\n    }\n    // Decodes gRPC metadata error details which is an instance of google.rpc.Status.\n    decodeGRPCStatusDetails(bufferArr) {\n        const details = [];\n        let errorInfo;\n        bufferArr.forEach(buffer => {\n            const uint8array = new Uint8Array(buffer);\n            const rpcStatus = this.statusType.decode(uint8array);\n            for (const detail of rpcStatus.details) {\n                try {\n                    const decodedDetail = this.decodeProtobufAny(detail);\n                    details.push(decodedDetail);\n                    if (detail.type_url === 'type.googleapis.com/google.rpc.ErrorInfo') {\n                        errorInfo = decodedDetail;\n                    }\n                }\n                catch (err) {\n                    // cannot decode detail, likely because of the unknown type - just skip it\n                }\n            }\n        });\n        const result = {\n            details,\n            errorInfo,\n        };\n        return result;\n    }\n    // Decodes http error which is an instance of google.rpc.Status.\n    decodeHTTPError(json) {\n        const errorMessage = serializer.fromProto3JSON(this.statusType, json);\n        if (!errorMessage) {\n            throw new Error(`Received error message ${json}, but failed to serialize as proto3 message`);\n        }\n        return this.statusType.toObject(errorMessage, fallback_1.defaultToObjectOptions);\n    }\n    // Decodes http error details which is an instance of Array<google.protobuf.Any>.\n    decodeHttpStatusDetails(rawDetails) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const details = [];\n        let errorInfo;\n        for (const detail of rawDetails) {\n            try {\n                const decodedDetail = this.decodeProtobufAny(detail);\n                details.push(decodedDetail);\n                if (detail.type_url === 'type.googleapis.com/google.rpc.ErrorInfo') {\n                    errorInfo = decodedDetail;\n                }\n            }\n            catch (err) {\n                // cannot decode detail, likely because of the unknown type - just skip it\n            }\n        }\n        return { details, errorInfo };\n    }\n}\nexports.GoogleErrorDecoder = GoogleErrorDecoder;\n//# sourceMappingURL=googleError.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZ29vZ2xlRXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCLEdBQUcsbUJBQW1CO0FBQ2hELGlCQUFpQixtQkFBTyxDQUFDLHFFQUFVO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLDREQUFZO0FBQ3JDLG1CQUFtQixtQkFBTyxDQUFDLDhGQUF3QjtBQUNuRCxtQkFBbUIsbUJBQU8sQ0FBQyx5RUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFPLENBQUMsZ0dBQWdDO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLGtCQUFrQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxTQUFTO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixhQUFhLEVBQUUsNkJBQTZCLElBQUksZUFBZTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELEtBQUs7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2dvb2dsZUVycm9yLmpzP2Q2ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdvb2dsZUVycm9yRGVjb2RlciA9IGV4cG9ydHMuR29vZ2xlRXJyb3IgPSB2b2lkIDA7XG5jb25zdCBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuL3N0YXR1c1wiKTtcbmNvbnN0IHByb3RvYnVmID0gcmVxdWlyZShcInByb3RvYnVmanNcIik7XG5jb25zdCBzZXJpYWxpemVyID0gcmVxdWlyZShcInByb3RvMy1qc29uLXNlcmlhbGl6ZXJcIik7XG5jb25zdCBmYWxsYmFja18xID0gcmVxdWlyZShcIi4vZmFsbGJhY2tcIik7XG5jbGFzcyBHb29nbGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvLyBQYXJzZSBkZXRhaWxzIGZpZWxkIGluIGdvb2dsZS5ycGMuc3RhdHVzIHdpcmUgb3ZlciBnUlBDIG1lZGF0YWRhdGEuXG4gICAgLy8gUHJvbW90ZSBnb29nbGUucnBjLkVycm9ySW5mbyBpZiBleGlzdC5cbiAgICBzdGF0aWMgcGFyc2VHUlBDU3RhdHVzRGV0YWlscyhlcnIpIHtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBHb29nbGVFcnJvckRlY29kZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChlcnIubWV0YWRhdGEgJiYgZXJyLm1ldGFkYXRhLmdldCgnZ3JwYy1zdGF0dXMtZGV0YWlscy1iaW4nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0RldGFpbHNPYmogPSBkZWNvZGVyLmRlY29kZUdSUENTdGF0dXNEZXRhaWxzKGVyci5tZXRhZGF0YS5nZXQoJ2dycGMtc3RhdHVzLWRldGFpbHMtYmluJykpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNEZXRhaWxzT2JqICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0RldGFpbHNPYmouZGV0YWlscyAmJlxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNEZXRhaWxzT2JqLmRldGFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlcnIuc3RhdHVzRGV0YWlscyA9IHN0YXR1c0RldGFpbHNPYmouZGV0YWlscztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0RldGFpbHNPYmogJiYgc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyLnJlYXNvbiA9IHN0YXR1c0RldGFpbHNPYmouZXJyb3JJbmZvLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgZXJyLmRvbWFpbiA9IHN0YXR1c0RldGFpbHNPYmouZXJyb3JJbmZvLmRvbWFpbjtcbiAgICAgICAgICAgICAgICAgICAgZXJyLmVycm9ySW5mb01ldGFkYXRhID0gc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8ubWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChkZWNvZGVFcnIpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yaW5nIHRoZSBlcnJvclxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICAgIC8vIFBhcnNlIGh0dHAgSlNPTiBlcnJvciBhbmQgcHJvbW90ZSBnb29nbGUucnBjLkVycm9ySW5mbyBpZiBleGlzdC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHN0YXRpYyBwYXJzZUh0dHBFcnJvcihqc29uKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAganNvbiA9IGpzb24uZmluZCgob2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdlcnJvcicgaW4gb2JqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFsbGJhY2sgbG9naWMuXG4gICAgICAgIC8vIHJlbGF0ZWQgaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvaXNzdWVzLzEzMDNcbiAgICAgICAgLy8gZ29vZ2xlIGVycm9yIG1hcHBpbmc6IGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9hcGlzL2Rlc2lnbi9lcnJvcnNcbiAgICAgICAgLy8gaWYgaW5wdXQganNvbiBkb2Vzbid0IGhhdmUgJ2Vycm9yJyBmaWVsZHMsIHdyYXAgdGhlIHdob2xlIG9iamVjdCB3aXRoICdlcnJvcicgZmllbGRcbiAgICAgICAgaWYgKCFqc29uWydlcnJvciddKSB7XG4gICAgICAgICAgICBqc29uWydlcnJvciddID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhqc29uKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IGtleSAhPT0gJ2Vycm9yJylcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGpzb25bJ2Vycm9yJ11ba2V5XSA9IGpzb25ba2V5XTtcbiAgICAgICAgICAgICAgICBkZWxldGUganNvbltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBHb29nbGVFcnJvckRlY29kZXIoKTtcbiAgICAgICAgY29uc3QgcHJvdG8zRXJyb3IgPSBkZWNvZGVyLmRlY29kZUhUVFBFcnJvcihqc29uWydlcnJvciddKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBPYmplY3QuYXNzaWduKG5ldyBHb29nbGVFcnJvcihqc29uWydlcnJvciddWydtZXNzYWdlJ10pLCBwcm90bzNFcnJvcik7XG4gICAgICAgIC8vIE1hcCBIdHRwIFN0YXR1cyBDb2RlIHRvIGdSUEMgU3RhdHVzIENvZGVcbiAgICAgICAgaWYgKGpzb25bJ2Vycm9yJ11bJ2NvZGUnXSkge1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9ICgwLCBzdGF0dXNfMS5ycGNDb2RlRnJvbUh0dHBTdGF0dXNDb2RlKShqc29uWydlcnJvciddWydjb2RlJ10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgZXJyb3IgY29kZSBpcyBhYnNlbnQsIHByb3RvMyBtZXNzYWdlIGRlZmF1bHQgdmFsdWUgaXMgMC4gV2Ugc2hvdWxkXG4gICAgICAgICAgICAvLyBrZWVwIGVycm9yIGNvZGUgYXMgdW5kZWZpbmVkLlxuICAgICAgICAgICAgZGVsZXRlIGVycm9yLmNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gS2VlcCBjb25zaXN0ZW5jeSB3aXRoIGdSUEMgc3RhdHVzRGV0YWlscyBmaWVsZHMuIGdSUEMgZGV0YWlscyBoYXMgYmVlbiBvY2N1cGllZCBiZWZvcmUuXG4gICAgICAgIC8vIFJlbmFtZSBcImRldGFpbHNcIiB0byBcInN0YXR1c0RldGFpbHNcIi5cbiAgICAgICAgaWYgKGVycm9yLmRldGFpbHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzRGV0YWlsc09iaiA9IGRlY29kZXIuZGVjb2RlSHR0cFN0YXR1c0RldGFpbHMoZXJyb3IuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c0RldGFpbHNPYmogJiZcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzRGV0YWlsc09iai5kZXRhaWxzICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0RldGFpbHNPYmouZGV0YWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnN0YXR1c0RldGFpbHMgPSBzdGF0dXNEZXRhaWxzT2JqLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNEZXRhaWxzT2JqICYmIHN0YXR1c0RldGFpbHNPYmouZXJyb3JJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnJlYXNvbiA9IHN0YXR1c0RldGFpbHNPYmouZXJyb3JJbmZvLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuZG9tYWluID0gc3RhdHVzRGV0YWlsc09iai5lcnJvckluZm8uZG9tYWluO1xuICAgICAgICAgICAgICAgICAgICAvLyBlcnJvci5tZXRhZGF0YSBoYXMgYmVlbiBvY2N1cGllZCBmb3IgZ1JQQyBtZXRhZGF0YSwgc28gd2UgdXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVycm9ySW5mb01ldGFkYXRhIHRvIHJlcHJlc2VudCBFcnJvckluZm8nIG1ldGFkYXRhIGZpZWxkLiBLZWVwXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNpc3RlbmN5IHdpdGggZ1JQQyBFcnJvckluZm8gbWV0YWRhdGEgZmllbGQgbmFtZS5cbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuZXJyb3JJbmZvTWV0YWRhdGEgPSBzdGF0dXNEZXRhaWxzT2JqLmVycm9ySW5mby5tZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZGVjb2RlRXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JpbmcgdGhlIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydHMuR29vZ2xlRXJyb3IgPSBHb29nbGVFcnJvcjtcbmNsYXNzIEdvb2dsZUVycm9yRGVjb2RlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXG4gICAgICAgIGNvbnN0IGVycm9yUHJvdG9Kc29uID0gcmVxdWlyZSgnLi4vLi4vYnVpbGQvcHJvdG9zL3N0YXR1cy5qc29uJyk7XG4gICAgICAgIHRoaXMucm9vdCA9IHByb3RvYnVmLlJvb3QuZnJvbUpTT04oZXJyb3JQcm90b0pzb24pO1xuICAgICAgICB0aGlzLmFueVR5cGUgPSB0aGlzLnJvb3QubG9va3VwVHlwZSgnZ29vZ2xlLnByb3RvYnVmLkFueScpO1xuICAgICAgICB0aGlzLnN0YXR1c1R5cGUgPSB0aGlzLnJvb3QubG9va3VwVHlwZSgnZ29vZ2xlLnJwYy5TdGF0dXMnKTtcbiAgICB9XG4gICAgZGVjb2RlUHJvdG9idWZBbnkoYW55VmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBhbnlWYWx1ZS50eXBlX3VybC5tYXRjaCgvXnR5cGUuZ29vZ2xlYXBpcy5jb21cXC8oLiopLyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biB0eXBlIGVuY29kZWQgaW4gZ29vZ2xlLnByb3RvYnVmLmFueTogJHthbnlWYWx1ZS50eXBlX3VybH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlTmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5yb290Lmxvb2t1cFR5cGUodHlwZU5hbWUpO1xuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGxvb2t1cCB0eXBlICR7dHlwZU5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGUuZGVjb2RlKGFueVZhbHVlLnZhbHVlKTtcbiAgICB9XG4gICAgLy8gRGVjb2RlcyBnUlBDLWZhbGxiYWNrIGVycm9yIHdoaWNoIGlzIGFuIGluc3RhbmNlIG9mIGdvb2dsZS5ycGMuU3RhdHVzLlxuICAgIGRlY29kZVJwY1N0YXR1cyhidWZmZXIpIHtcbiAgICAgICAgY29uc3QgdWludDhhcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuc3RhdHVzVHlwZS5kZWNvZGUodWludDhhcnJheSk7XG4gICAgICAgIC8vIGdvb2dsZS5ycGMuU3RhdHVzIGNvbnRhaW5zIGFuIGFycmF5IG9mIGdvb2dsZS5wcm90b2J1Zi5BbnlcbiAgICAgICAgLy8gd2hpY2ggbmVlZCBhIHNwZWNpYWwgdHJlYXRtZW50XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBbXTtcbiAgICAgICAgbGV0IGVycm9ySW5mbztcbiAgICAgICAgZm9yIChjb25zdCBkZXRhaWwgb2Ygc3RhdHVzLmRldGFpbHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlZERldGFpbCA9IHRoaXMuZGVjb2RlUHJvdG9idWZBbnkoZGV0YWlsKTtcbiAgICAgICAgICAgICAgICBkZXRhaWxzLnB1c2goZGVjb2RlZERldGFpbCk7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFpbC50eXBlX3VybCA9PT0gJ3R5cGUuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLnJwYy5FcnJvckluZm8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ySW5mbyA9IGRlY29kZWREZXRhaWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBkZWNvZGUgZGV0YWlsLCBsaWtlbHkgYmVjYXVzZSBvZiB0aGUgdW5rbm93biB0eXBlIC0ganVzdCBza2lwIGl0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgY29kZTogc3RhdHVzLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBzdGF0dXMubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1c0RldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICByZWFzb246IGVycm9ySW5mbyA9PT0gbnVsbCB8fCBlcnJvckluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9ySW5mby5yZWFzb24sXG4gICAgICAgICAgICBkb21haW46IGVycm9ySW5mbyA9PT0gbnVsbCB8fCBlcnJvckluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVycm9ySW5mby5kb21haW4sXG4gICAgICAgICAgICBlcnJvckluZm9NZXRhZGF0YTogZXJyb3JJbmZvID09PSBudWxsIHx8IGVycm9ySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3JJbmZvLm1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBDb25zdHJ1Y3QgYW4gRXJyb3IgZnJvbSBhIFN0YXR1c09iamVjdC5cbiAgICAvLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy1ub2RlL2Jsb2IvbWFpbi9wYWNrYWdlcy9ncnBjLWpzL3NyYy9jYWxsLnRzI0w3OVxuICAgIGNhbGxFcnJvckZyb21TdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHN0YXR1cy5tZXNzYWdlID0gYCR7c3RhdHVzLmNvZGV9ICR7c3RhdHVzXzEuU3RhdHVzW3N0YXR1cy5jb2RlXX06ICR7c3RhdHVzLm1lc3NhZ2V9YDtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEdvb2dsZUVycm9yKHN0YXR1cy5tZXNzYWdlKSwgc3RhdHVzKTtcbiAgICB9XG4gICAgLy8gRGVjb2RlcyBnUlBDLWZhbGxiYWNrIGVycm9yIHdoaWNoIGlzIGFuIGluc3RhbmNlIG9mIGdvb2dsZS5ycGMuU3RhdHVzLFxuICAgIC8vIGFuZCBwdXRzIGl0IGludG8gdGhlIG9iamVjdCBzaW1pbGFyIHRvIGdSUEMgU2VydmljZUVycm9yIG9iamVjdC5cbiAgICBkZWNvZGVFcnJvckZyb21CdWZmZXIoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxFcnJvckZyb21TdGF0dXModGhpcy5kZWNvZGVScGNTdGF0dXMoYnVmZmVyKSk7XG4gICAgfVxuICAgIC8vIERlY29kZXMgZ1JQQyBtZXRhZGF0YSBlcnJvciBkZXRhaWxzIHdoaWNoIGlzIGFuIGluc3RhbmNlIG9mIGdvb2dsZS5ycGMuU3RhdHVzLlxuICAgIGRlY29kZUdSUENTdGF0dXNEZXRhaWxzKGJ1ZmZlckFycikge1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICAgIGxldCBlcnJvckluZm87XG4gICAgICAgIGJ1ZmZlckFyci5mb3JFYWNoKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICBjb25zdCB1aW50OGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHJwY1N0YXR1cyA9IHRoaXMuc3RhdHVzVHlwZS5kZWNvZGUodWludDhhcnJheSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRldGFpbCBvZiBycGNTdGF0dXMuZGV0YWlscykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWREZXRhaWwgPSB0aGlzLmRlY29kZVByb3RvYnVmQW55KGRldGFpbCk7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMucHVzaChkZWNvZGVkRGV0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbC50eXBlX3VybCA9PT0gJ3R5cGUuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLnJwYy5FcnJvckluZm8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckluZm8gPSBkZWNvZGVkRGV0YWlsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2Fubm90IGRlY29kZSBkZXRhaWwsIGxpa2VseSBiZWNhdXNlIG9mIHRoZSB1bmtub3duIHR5cGUgLSBqdXN0IHNraXAgaXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICBkZXRhaWxzLFxuICAgICAgICAgICAgZXJyb3JJbmZvLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBEZWNvZGVzIGh0dHAgZXJyb3Igd2hpY2ggaXMgYW4gaW5zdGFuY2Ugb2YgZ29vZ2xlLnJwYy5TdGF0dXMuXG4gICAgZGVjb2RlSFRUUEVycm9yKGpzb24pIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gc2VyaWFsaXplci5mcm9tUHJvdG8zSlNPTih0aGlzLnN0YXR1c1R5cGUsIGpzb24pO1xuICAgICAgICBpZiAoIWVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWNlaXZlZCBlcnJvciBtZXNzYWdlICR7anNvbn0sIGJ1dCBmYWlsZWQgdG8gc2VyaWFsaXplIGFzIHByb3RvMyBtZXNzYWdlYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzVHlwZS50b09iamVjdChlcnJvck1lc3NhZ2UsIGZhbGxiYWNrXzEuZGVmYXVsdFRvT2JqZWN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIERlY29kZXMgaHR0cCBlcnJvciBkZXRhaWxzIHdoaWNoIGlzIGFuIGluc3RhbmNlIG9mIEFycmF5PGdvb2dsZS5wcm90b2J1Zi5Bbnk+LlxuICAgIGRlY29kZUh0dHBTdGF0dXNEZXRhaWxzKHJhd0RldGFpbHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gW107XG4gICAgICAgIGxldCBlcnJvckluZm87XG4gICAgICAgIGZvciAoY29uc3QgZGV0YWlsIG9mIHJhd0RldGFpbHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlZERldGFpbCA9IHRoaXMuZGVjb2RlUHJvdG9idWZBbnkoZGV0YWlsKTtcbiAgICAgICAgICAgICAgICBkZXRhaWxzLnB1c2goZGVjb2RlZERldGFpbCk7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFpbC50eXBlX3VybCA9PT0gJ3R5cGUuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLnJwYy5FcnJvckluZm8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ySW5mbyA9IGRlY29kZWREZXRhaWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBkZWNvZGUgZGV0YWlsLCBsaWtlbHkgYmVjYXVzZSBvZiB0aGUgdW5rbm93biB0eXBlIC0ganVzdCBza2lwIGl0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZGV0YWlscywgZXJyb3JJbmZvIH07XG4gICAgfVxufVxuZXhwb3J0cy5Hb29nbGVFcnJvckRlY29kZXIgPSBHb29nbGVFcnJvckRlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nb29nbGVFcnJvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/googleError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/grpc.js":
/*!***************************************************!*\
  !*** ./node_modules/google-gax/build/src/grpc.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GoogleProtoFilesRoot = exports.GrpcClient = exports.ClientStub = void 0;\nconst grpcProtoLoader = __webpack_require__(/*! @grpc/proto-loader */ \"(rsc)/./node_modules/@grpc/proto-loader/build/src/index.js\");\nconst child_process_1 = __webpack_require__(/*! child_process */ \"child_process\");\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\nconst grpc = __webpack_require__(/*! @grpc/grpc-js */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst path_1 = __webpack_require__(/*! path */ \"path\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(rsc)/./node_modules/protobufjs/index.js\");\nconst objectHash = __webpack_require__(/*! object-hash */ \"(rsc)/./node_modules/object-hash/index.js\");\nconst gax = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst googleProtoFilesDir = path.join(__dirname, '..', '..', 'build', 'protos');\n// INCLUDE_DIRS is passed to @grpc/proto-loader\nconst INCLUDE_DIRS = [];\nINCLUDE_DIRS.push(googleProtoFilesDir);\n// COMMON_PROTO_FILES logic is here for protobufjs loads (see\n// GoogleProtoFilesRoot below)\nconst commonProtoFiles = __webpack_require__(/*! ./protosList.json */ \"(rsc)/./node_modules/google-gax/build/src/protosList.json\");\n// use the correct path separator for the OS we are running on\nconst COMMON_PROTO_FILES = commonProtoFiles.map(file => file.replace(/[/\\\\]/g, path.sep));\n/*\n * Async version of readFile.\n *\n * @returns {Promise} Contents of file at path.\n */\nasync function readFileAsync(path) {\n    return new Promise((resolve, reject) => {\n        fs.readFile(path, 'utf8', (err, content) => {\n            if (err)\n                return reject(err);\n            else\n                resolve(content);\n        });\n    });\n}\n/*\n * Async version of execFile.\n *\n * @returns {Promise} stdout from command execution.\n */\nasync function execFileAsync(command, args) {\n    return new Promise((resolve, reject) => {\n        (0, child_process_1.execFile)(command, args, (err, stdout) => {\n            if (err)\n                return reject(err);\n            else\n                resolve(stdout);\n        });\n    });\n}\nclass ClientStub extends grpc.Client {\n}\nexports.ClientStub = ClientStub;\nclass GrpcClient {\n    /**\n     * Key for proto cache map. We are doing our best to make sure we respect\n     * the options, so if the same proto file is loaded with different set of\n     * options, the cache won't be used.  Since some of the options are\n     * Functions (e.g. `enums: String` - see below in `loadProto()`),\n     * they will be omitted from the cache key.  If the cache breaks anything\n     * for you, use the `ignoreCache` parameter of `loadProto()` to disable it.\n     */\n    static protoCacheKey(filename, options) {\n        if (!filename ||\n            (Array.isArray(filename) && (filename.length === 0 || !filename[0]))) {\n            return undefined;\n        }\n        return JSON.stringify(filename) + ' ' + JSON.stringify(options);\n    }\n    /**\n     * In rare cases users might need to deallocate all memory consumed by loaded protos.\n     * This method will delete the proto cache content.\n     */\n    static clearProtoCache() {\n        GrpcClient.protoCache.clear();\n    }\n    /**\n     * A class which keeps the context of gRPC and auth for the gRPC.\n     *\n     * @param {Object=} options - The optional parameters. It will be directly\n     *   passed to google-auth-library library, so parameters like keyFile or\n     *   credentials will be valid.\n     * @param {Object=} options.auth - An instance of google-auth-library.\n     *   When specified, this auth instance will be used instead of creating\n     *   a new one.\n     * @param {Object=} options.grpc - When specified, this will be used\n     *   for the 'grpc' module in this context. By default, it will load the grpc\n     *   module in the standard way.\n     * @constructor\n     */\n    constructor(options = {}) {\n        var _a;\n        this.auth = options.auth || new google_auth_library_1.GoogleAuth(options);\n        this.fallback = false;\n        const minimumVersion = 10;\n        const major = Number((_a = process.version.match(/^v(\\d+)/)) === null || _a === void 0 ? void 0 : _a[1]);\n        if (Number.isNaN(major) || major < minimumVersion) {\n            const errorMessage = `Node.js v${minimumVersion}.0.0 is a minimum requirement. To learn about legacy version support visit: ` +\n                'https://github.com/googleapis/google-cloud-node#supported-nodejs-versions';\n            throw new Error(errorMessage);\n        }\n        if ('grpc' in options) {\n            this.grpc = options.grpc;\n            this.grpcVersion = '';\n        }\n        else {\n            this.grpc = grpc;\n            this.grpcVersion = (__webpack_require__(/*! @grpc/grpc-js/package.json */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json\").version);\n        }\n    }\n    /**\n     * Creates a gRPC credentials. It asks the auth data if necessary.\n     * @private\n     * @param {Object} opts - options values for configuring credentials.\n     * @param {Object=} opts.sslCreds - when specified, this is used instead\n     *   of default channel credentials.\n     * @return {Promise} The promise which will be resolved to the gRPC credential.\n     */\n    async _getCredentials(opts) {\n        if (opts.sslCreds) {\n            return opts.sslCreds;\n        }\n        const grpc = this.grpc;\n        const sslCreds = opts.cert && opts.key\n            ? grpc.credentials.createSsl(null, Buffer.from(opts.key), Buffer.from(opts.cert))\n            : grpc.credentials.createSsl();\n        const client = await this.auth.getClient();\n        const credentials = grpc.credentials.combineChannelCredentials(sslCreds, grpc.credentials.createFromGoogleCredential(client));\n        return credentials;\n    }\n    static defaultOptions() {\n        // This set of @grpc/proto-loader options\n        // 'closely approximates the existing behavior of grpc.load'\n        const includeDirs = INCLUDE_DIRS.slice();\n        const options = {\n            keepCase: false,\n            longs: String,\n            enums: String,\n            defaults: true,\n            oneofs: true,\n            includeDirs,\n        };\n        return options;\n    }\n    /**\n     * Loads the gRPC service from the proto file(s) at the given path and with the\n     * given options. Caches the loaded protos so the subsequent loads don't do\n     * any disk reads.\n     * @param filename The path to the proto file(s).\n     * @param options Options for loading the proto file.\n     * @param ignoreCache Defaults to `false`. Set it to `true` if the caching logic\n     *   incorrectly decides that the options object is the same, or if you want to\n     *   re-read the protos from disk for any other reason.\n     */\n    loadFromProto(filename, options, ignoreCache = false) {\n        const cacheKey = GrpcClient.protoCacheKey(filename, options);\n        let grpcPackage = cacheKey\n            ? GrpcClient.protoCache.get(cacheKey)\n            : undefined;\n        if (ignoreCache || !grpcPackage) {\n            const packageDef = grpcProtoLoader.loadSync(filename, options);\n            grpcPackage = this.grpc.loadPackageDefinition(packageDef);\n            if (cacheKey) {\n                GrpcClient.protoCache.set(cacheKey, grpcPackage);\n            }\n        }\n        return grpcPackage;\n    }\n    /**\n     * Load gRPC proto service from a filename looking in googleapis common protos\n     * when necessary. Caches the loaded protos so the subsequent loads don't do\n     * any disk reads.\n     * @param {String} protoPath - The directory to search for the protofile.\n     * @param {String|String[]} filename - The filename(s) of the proto(s) to be loaded.\n     *   If omitted, protoPath will be treated as a file path to load.\n     * @param ignoreCache Defaults to `false`. Set it to `true` if the caching logic\n     *   incorrectly decides that the options object is the same, or if you want to\n     *   re-read the protos from disk for any other reason.\n     * @return {Object<string, *>} The gRPC loaded result (the toplevel namespace\n     *   object).\n     */\n    loadProto(protoPath, filename, ignoreCache = false) {\n        if (!filename) {\n            filename = path.basename(protoPath);\n            protoPath = path.dirname(protoPath);\n        }\n        if (Array.isArray(filename) && filename.length === 0) {\n            return {};\n        }\n        const options = GrpcClient.defaultOptions();\n        options.includeDirs.unshift(protoPath);\n        return this.loadFromProto(filename, options, ignoreCache);\n    }\n    static _resolveFile(protoPath, filename) {\n        if (fs.existsSync(path.join(protoPath, filename))) {\n            return path.join(protoPath, filename);\n        }\n        else if (COMMON_PROTO_FILES.indexOf(filename) > -1) {\n            return path.join(googleProtoFilesDir, filename);\n        }\n        throw new Error(filename + ' could not be found in ' + protoPath);\n    }\n    loadProtoJSON(json, ignoreCache = false) {\n        const hash = objectHash(JSON.stringify(json)).toString();\n        const cached = GrpcClient.protoCache.get(hash);\n        if (cached && !ignoreCache) {\n            return cached;\n        }\n        const options = GrpcClient.defaultOptions();\n        const packageDefinition = grpcProtoLoader.fromJSON(json, options);\n        const grpcPackage = this.grpc.loadPackageDefinition(packageDefinition);\n        GrpcClient.protoCache.set(hash, grpcPackage);\n        return grpcPackage;\n    }\n    metadataBuilder(headers) {\n        const Metadata = this.grpc.Metadata;\n        const baseMetadata = new Metadata();\n        for (const key in headers) {\n            const value = headers[key];\n            if (Array.isArray(value)) {\n                value.forEach(v => baseMetadata.add(key, v));\n            }\n            else {\n                baseMetadata.set(key, `${value}`);\n            }\n        }\n        return function buildMetadata(abTests, moreHeaders) {\n            // TODO: bring the A/B testing info into the metadata.\n            let copied = false;\n            let metadata = baseMetadata;\n            if (moreHeaders) {\n                for (const key in moreHeaders) {\n                    if (key.toLowerCase() !== 'x-goog-api-client') {\n                        if (!copied) {\n                            copied = true;\n                            metadata = metadata.clone();\n                        }\n                        const value = moreHeaders[key];\n                        if (Array.isArray(value)) {\n                            value.forEach(v => metadata.add(key, v));\n                        }\n                        else {\n                            metadata.set(key, `${value}`);\n                        }\n                    }\n                }\n            }\n            return metadata;\n        };\n    }\n    /**\n     * A wrapper of {@link constructSettings} function under the gRPC context.\n     *\n     * Most of parameters are common among constructSettings, please take a look.\n     * @param {string} serviceName - The fullly-qualified name of the service.\n     * @param {Object} clientConfig - A dictionary of the client config.\n     * @param {Object} configOverrides - A dictionary of overriding configs.\n     * @param {Object} headers - A dictionary of additional HTTP header name to\n     *   its value.\n     * @return {Object} A mapping of method names to CallSettings.\n     */\n    constructSettings(serviceName, clientConfig, configOverrides, headers) {\n        return gax.constructSettings(serviceName, clientConfig, configOverrides, this.grpc.status, { metadataBuilder: this.metadataBuilder(headers) });\n    }\n    /**\n     * Creates a gRPC stub with current gRPC and auth.\n     * @param {function} CreateStub - The constructor function of the stub.\n     * @param {Object} options - The optional arguments to customize\n     *   gRPC connection. This options will be passed to the constructor of\n     *   gRPC client too.\n     * @param {string} options.servicePath - The name of the server of the service.\n     * @param {number} options.port - The port of the service.\n     * @param {grpcTypes.ClientCredentials=} options.sslCreds - The credentials to be used\n     *   to set up gRPC connection.\n     * @param {string} defaultServicePath - The default service path.\n     * @return {Promise} A promise which resolves to a gRPC stub instance.\n     */\n    async createStub(CreateStub, options, customServicePath) {\n        // The following options are understood by grpc-gcp and need a special treatment\n        // (should be passed without a `grpc.` prefix)\n        const grpcGcpOptions = [\n            'grpc.callInvocationTransformer',\n            'grpc.channelFactoryOverride',\n            'grpc.gcpApiConfig',\n        ];\n        const [cert, key] = await this._detectClientCertificate(options, options.universeDomain);\n        const servicePath = this._mtlsServicePath(options.servicePath, customServicePath, cert && key);\n        const opts = Object.assign({}, options, { cert, key, servicePath });\n        const serviceAddress = servicePath + ':' + opts.port;\n        if (!options.universeDomain) {\n            options.universeDomain = 'googleapis.com';\n        }\n        if (options.universeDomain) {\n            const universeFromAuth = await this.auth.getUniverseDomain();\n            if (universeFromAuth && options.universeDomain !== universeFromAuth) {\n                throw new Error(`The configured universe domain (${options.universeDomain}) does not match the universe domain found in the credentials (${universeFromAuth}). ` +\n                    \"If you haven't configured the universe domain explicitly, googleapis.com is the default.\");\n            }\n        }\n        const creds = await this._getCredentials(opts);\n        const grpcOptions = {};\n        // @grpc/grpc-js limits max receive/send message length starting from v0.8.0\n        // https://github.com/grpc/grpc-node/releases/tag/%40grpc%2Fgrpc-js%400.8.0\n        // To keep the existing behavior and avoid libraries breakage, we pass -1 there as suggested.\n        grpcOptions['grpc.max_receive_message_length'] = -1;\n        grpcOptions['grpc.max_send_message_length'] = -1;\n        grpcOptions['grpc.initial_reconnect_backoff_ms'] = 1000;\n        Object.keys(opts).forEach(key => {\n            const value = options[key];\n            // the older versions had a bug which required users to call an option\n            // grpc.grpc.* to make it actually pass to gRPC as grpc.*, let's handle\n            // this here until the next major release\n            if (key.startsWith('grpc.grpc.')) {\n                key = key.replace(/^grpc\\./, '');\n            }\n            if (key.startsWith('grpc.')) {\n                if (grpcGcpOptions.includes(key)) {\n                    key = key.replace(/^grpc\\./, '');\n                }\n                grpcOptions[key] = value;\n            }\n            if (key.startsWith('grpc-node.')) {\n                grpcOptions[key] = value;\n            }\n        });\n        const stub = new CreateStub(serviceAddress, creds, grpcOptions);\n        return stub;\n    }\n    /**\n     * Detect mTLS client certificate based on logic described in\n     * https://google.aip.dev/auth/4114.\n     *\n     * @param {object} [options] - The configuration object.\n     * @returns {Promise} Resolves array of strings representing cert and key.\n     */\n    async _detectClientCertificate(opts, universeDomain) {\n        var _a;\n        const certRegex = /(?<cert>-----BEGIN CERTIFICATE-----.*?-----END CERTIFICATE-----)/s;\n        const keyRegex = /(?<key>-----BEGIN PRIVATE KEY-----.*?-----END PRIVATE KEY-----)/s;\n        // If GOOGLE_API_USE_CLIENT_CERTIFICATE is true...:\n        if (typeof process !== 'undefined' &&\n            ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.GOOGLE_API_USE_CLIENT_CERTIFICATE) === 'true') {\n            if (universeDomain && universeDomain !== 'googleapis.com') {\n                throw new Error('mTLS is not supported outside of googleapis.com universe domain.');\n            }\n            if ((opts === null || opts === void 0 ? void 0 : opts.cert) && (opts === null || opts === void 0 ? void 0 : opts.key)) {\n                return [opts.cert, opts.key];\n            }\n            // If context aware metadata exists, run the cert provider command,\n            // parse the output to extract cert and key, and use this cert/key.\n            const metadataPath = (0, path_1.join)(os.homedir(), '.secureConnect', 'context_aware_metadata.json');\n            const metadata = JSON.parse(await readFileAsync(metadataPath));\n            if (!metadata.cert_provider_command) {\n                throw Error('no cert_provider_command found');\n            }\n            const stdout = await execFileAsync(metadata.cert_provider_command[0], metadata.cert_provider_command.slice(1));\n            const matchCert = stdout.toString().match(certRegex);\n            const matchKey = stdout.toString().match(keyRegex);\n            if (!((matchCert === null || matchCert === void 0 ? void 0 : matchCert.groups) && (matchKey === null || matchKey === void 0 ? void 0 : matchKey.groups))) {\n                throw Error('unable to parse certificate and key');\n            }\n            else {\n                return [matchCert.groups.cert, matchKey.groups.key];\n            }\n        }\n        // If GOOGLE_API_USE_CLIENT_CERTIFICATE is not set or false,\n        // use no cert or key:\n        return [undefined, undefined];\n    }\n    /**\n     * Return service path, taking into account mTLS logic.\n     * See: https://google.aip.dev/auth/4114\n     *\n     * @param {string|undefined} servicePath - The path of the service.\n     * @param {string|undefined} customServicePath - Did the user provide a custom service URL.\n     * @param {boolean} hasCertificate - Was a certificate found.\n     * @returns {string} The DNS address for this service.\n     */\n    _mtlsServicePath(servicePath, customServicePath, hasCertificate) {\n        var _a, _b;\n        // If user provides a custom service path, return the current service\n        // path and do not attempt to add mtls subdomain:\n        if (customServicePath || !servicePath)\n            return servicePath;\n        if (typeof process !== 'undefined' &&\n            ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.GOOGLE_API_USE_MTLS_ENDPOINT) === 'never') {\n            // It was explicitly asked that mtls endpoint not be used:\n            return servicePath;\n        }\n        else if ((typeof process !== 'undefined' &&\n            ((_b = process === null || process === void 0 ? void 0 : process.env) === null || _b === void 0 ? void 0 : _b.GOOGLE_API_USE_MTLS_ENDPOINT) === 'always') ||\n            hasCertificate) {\n            // Either auto-detect or explicit setting of endpoint:\n            return servicePath.replace('googleapis.com', 'mtls.googleapis.com');\n        }\n        return servicePath;\n    }\n    /**\n     * Creates a 'bytelength' function for a given proto message class.\n     *\n     * See {@link BundleDescriptor} about the meaning of the return value.\n     *\n     * @param {function} message - a constructor function that is generated by\n     *   protobuf.js. Assumes 'encoder' field in the message.\n     * @return {function(Object):number} - a function to compute the byte length\n     *   for an object.\n     */\n    static createByteLengthFunction(message) {\n        return gax.createByteLengthFunction(message);\n    }\n}\nexports.GrpcClient = GrpcClient;\nGrpcClient.protoCache = new Map();\nclass GoogleProtoFilesRoot extends protobuf.Root {\n    constructor(...args) {\n        super(...args);\n    }\n    // Causes the loading of an included proto to check if it is a common\n    // proto. If it is a common proto, use the bundled proto.\n    resolvePath(originPath, includePath) {\n        originPath = path.normalize(originPath);\n        includePath = path.normalize(includePath);\n        // Fully qualified paths don't need to be resolved.\n        if (path.isAbsolute(includePath)) {\n            if (!fs.existsSync(includePath)) {\n                throw new Error('The include `' + includePath + '` was not found.');\n            }\n            return includePath;\n        }\n        if (COMMON_PROTO_FILES.indexOf(includePath) > -1) {\n            return path.join(googleProtoFilesDir, includePath);\n        }\n        return GoogleProtoFilesRoot._findIncludePath(originPath, includePath);\n    }\n    static _findIncludePath(originPath, includePath) {\n        originPath = path.normalize(originPath);\n        includePath = path.normalize(includePath);\n        let current = originPath;\n        let found = fs.existsSync(path.join(current, includePath));\n        while (!found && current.length > 0) {\n            current = current.substring(0, current.lastIndexOf(path.sep));\n            found = fs.existsSync(path.join(current, includePath));\n        }\n        if (!found) {\n            throw new Error('The include `' + includePath + '` was not found.');\n        }\n        return path.join(current, includePath);\n    }\n}\nexports.GoogleProtoFilesRoot = GoogleProtoFilesRoot;\n//# sourceMappingURL=grpc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvZ3JwYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEIsR0FBRyxrQkFBa0IsR0FBRyxrQkFBa0I7QUFDdEUsd0JBQXdCLG1CQUFPLENBQUMsc0ZBQW9CO0FBQ3BELHdCQUF3QixtQkFBTyxDQUFDLG9DQUFlO0FBQy9DLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLDhCQUE4QixtQkFBTyxDQUFDLHdGQUFxQjtBQUMzRCxhQUFhLG1CQUFPLENBQUMsb0dBQWU7QUFDcEMsV0FBVyxtQkFBTyxDQUFDLGNBQUk7QUFDdkIsZUFBZSxtQkFBTyxDQUFDLGtCQUFNO0FBQzdCLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQixpQkFBaUIsbUJBQU8sQ0FBQyw0REFBWTtBQUNyQyxtQkFBbUIsbUJBQU8sQ0FBQyw4REFBYTtBQUN4QyxZQUFZLG1CQUFPLENBQUMsK0RBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsb0ZBQW1CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxlQUFlO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwwSUFBNkM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtQkFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxNQUFNO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxNQUFNO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseUJBQXlCO0FBQzlDO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkI7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0EscUdBQXFHLGdEQUFnRDtBQUNySjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsOEJBQThCO0FBQzdDO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsYUFBYSx3QkFBd0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsdUJBQXVCLGlFQUFpRSxpQkFBaUI7QUFDNUs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakMsZUFBZSxrQkFBa0I7QUFDakMsZUFBZSxTQUFTO0FBQ3hCLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdCQUF3QjtBQUNwQztBQUNBLGVBQWUsVUFBVTtBQUN6QjtBQUNBLGdCQUFnQix5QkFBeUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2dycGMuanM/ZjIzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR29vZ2xlUHJvdG9GaWxlc1Jvb3QgPSBleHBvcnRzLkdycGNDbGllbnQgPSBleHBvcnRzLkNsaWVudFN0dWIgPSB2b2lkIDA7XG5jb25zdCBncnBjUHJvdG9Mb2FkZXIgPSByZXF1aXJlKFwiQGdycGMvcHJvdG8tbG9hZGVyXCIpO1xuY29uc3QgY2hpbGRfcHJvY2Vzc18xID0gcmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IGdvb2dsZV9hdXRoX2xpYnJhcnlfMSA9IHJlcXVpcmUoXCJnb29nbGUtYXV0aC1saWJyYXJ5XCIpO1xuY29uc3QgZ3JwYyA9IHJlcXVpcmUoXCJAZ3JwYy9ncnBjLWpzXCIpO1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBwYXRoXzEgPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IHByb3RvYnVmID0gcmVxdWlyZShcInByb3RvYnVmanNcIik7XG5jb25zdCBvYmplY3RIYXNoID0gcmVxdWlyZShcIm9iamVjdC1oYXNoXCIpO1xuY29uc3QgZ2F4ID0gcmVxdWlyZShcIi4vZ2F4XCIpO1xuY29uc3QgZ29vZ2xlUHJvdG9GaWxlc0RpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICcuLicsICdidWlsZCcsICdwcm90b3MnKTtcbi8vIElOQ0xVREVfRElSUyBpcyBwYXNzZWQgdG8gQGdycGMvcHJvdG8tbG9hZGVyXG5jb25zdCBJTkNMVURFX0RJUlMgPSBbXTtcbklOQ0xVREVfRElSUy5wdXNoKGdvb2dsZVByb3RvRmlsZXNEaXIpO1xuLy8gQ09NTU9OX1BST1RPX0ZJTEVTIGxvZ2ljIGlzIGhlcmUgZm9yIHByb3RvYnVmanMgbG9hZHMgKHNlZVxuLy8gR29vZ2xlUHJvdG9GaWxlc1Jvb3QgYmVsb3cpXG5jb25zdCBjb21tb25Qcm90b0ZpbGVzID0gcmVxdWlyZShcIi4vcHJvdG9zTGlzdC5qc29uXCIpO1xuLy8gdXNlIHRoZSBjb3JyZWN0IHBhdGggc2VwYXJhdG9yIGZvciB0aGUgT1Mgd2UgYXJlIHJ1bm5pbmcgb25cbmNvbnN0IENPTU1PTl9QUk9UT19GSUxFUyA9IGNvbW1vblByb3RvRmlsZXMubWFwKGZpbGUgPT4gZmlsZS5yZXBsYWNlKC9bL1xcXFxdL2csIHBhdGguc2VwKSk7XG4vKlxuICogQXN5bmMgdmVyc2lvbiBvZiByZWFkRmlsZS5cbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQ29udGVudHMgb2YgZmlsZSBhdCBwYXRoLlxuICovXG5hc3luYyBmdW5jdGlvbiByZWFkRmlsZUFzeW5jKHBhdGgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBmcy5yZWFkRmlsZShwYXRoLCAndXRmOCcsIChlcnIsIGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc29sdmUoY29udGVudCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLypcbiAqIEFzeW5jIHZlcnNpb24gb2YgZXhlY0ZpbGUuXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IHN0ZG91dCBmcm9tIGNvbW1hbmQgZXhlY3V0aW9uLlxuICovXG5hc3luYyBmdW5jdGlvbiBleGVjRmlsZUFzeW5jKGNvbW1hbmQsIGFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAoMCwgY2hpbGRfcHJvY2Vzc18xLmV4ZWNGaWxlKShjb21tYW5kLCBhcmdzLCAoZXJyLCBzdGRvdXQpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlc29sdmUoc3Rkb3V0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5jbGFzcyBDbGllbnRTdHViIGV4dGVuZHMgZ3JwYy5DbGllbnQge1xufVxuZXhwb3J0cy5DbGllbnRTdHViID0gQ2xpZW50U3R1YjtcbmNsYXNzIEdycGNDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEtleSBmb3IgcHJvdG8gY2FjaGUgbWFwLiBXZSBhcmUgZG9pbmcgb3VyIGJlc3QgdG8gbWFrZSBzdXJlIHdlIHJlc3BlY3RcbiAgICAgKiB0aGUgb3B0aW9ucywgc28gaWYgdGhlIHNhbWUgcHJvdG8gZmlsZSBpcyBsb2FkZWQgd2l0aCBkaWZmZXJlbnQgc2V0IG9mXG4gICAgICogb3B0aW9ucywgdGhlIGNhY2hlIHdvbid0IGJlIHVzZWQuICBTaW5jZSBzb21lIG9mIHRoZSBvcHRpb25zIGFyZVxuICAgICAqIEZ1bmN0aW9ucyAoZS5nLiBgZW51bXM6IFN0cmluZ2AgLSBzZWUgYmVsb3cgaW4gYGxvYWRQcm90bygpYCksXG4gICAgICogdGhleSB3aWxsIGJlIG9taXR0ZWQgZnJvbSB0aGUgY2FjaGUga2V5LiAgSWYgdGhlIGNhY2hlIGJyZWFrcyBhbnl0aGluZ1xuICAgICAqIGZvciB5b3UsIHVzZSB0aGUgYGlnbm9yZUNhY2hlYCBwYXJhbWV0ZXIgb2YgYGxvYWRQcm90bygpYCB0byBkaXNhYmxlIGl0LlxuICAgICAqL1xuICAgIHN0YXRpYyBwcm90b0NhY2hlS2V5KGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUgfHxcbiAgICAgICAgICAgIChBcnJheS5pc0FycmF5KGZpbGVuYW1lKSAmJiAoZmlsZW5hbWUubGVuZ3RoID09PSAwIHx8ICFmaWxlbmFtZVswXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShmaWxlbmFtZSkgKyAnICcgKyBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW4gcmFyZSBjYXNlcyB1c2VycyBtaWdodCBuZWVkIHRvIGRlYWxsb2NhdGUgYWxsIG1lbW9yeSBjb25zdW1lZCBieSBsb2FkZWQgcHJvdG9zLlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgZGVsZXRlIHRoZSBwcm90byBjYWNoZSBjb250ZW50LlxuICAgICAqL1xuICAgIHN0YXRpYyBjbGVhclByb3RvQ2FjaGUoKSB7XG4gICAgICAgIEdycGNDbGllbnQucHJvdG9DYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGNsYXNzIHdoaWNoIGtlZXBzIHRoZSBjb250ZXh0IG9mIGdSUEMgYW5kIGF1dGggZm9yIHRoZSBnUlBDLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMuIEl0IHdpbGwgYmUgZGlyZWN0bHlcbiAgICAgKiAgIHBhc3NlZCB0byBnb29nbGUtYXV0aC1saWJyYXJ5IGxpYnJhcnksIHNvIHBhcmFtZXRlcnMgbGlrZSBrZXlGaWxlIG9yXG4gICAgICogICBjcmVkZW50aWFscyB3aWxsIGJlIHZhbGlkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucy5hdXRoIC0gQW4gaW5zdGFuY2Ugb2YgZ29vZ2xlLWF1dGgtbGlicmFyeS5cbiAgICAgKiAgIFdoZW4gc3BlY2lmaWVkLCB0aGlzIGF1dGggaW5zdGFuY2Ugd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgY3JlYXRpbmdcbiAgICAgKiAgIGEgbmV3IG9uZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMuZ3JwYyAtIFdoZW4gc3BlY2lmaWVkLCB0aGlzIHdpbGwgYmUgdXNlZFxuICAgICAqICAgZm9yIHRoZSAnZ3JwYycgbW9kdWxlIGluIHRoaXMgY29udGV4dC4gQnkgZGVmYXVsdCwgaXQgd2lsbCBsb2FkIHRoZSBncnBjXG4gICAgICogICBtb2R1bGUgaW4gdGhlIHN0YW5kYXJkIHdheS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmF1dGggPSBvcHRpb25zLmF1dGggfHwgbmV3IGdvb2dsZV9hdXRoX2xpYnJhcnlfMS5Hb29nbGVBdXRoKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmZhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG1pbmltdW1WZXJzaW9uID0gMTA7XG4gICAgICAgIGNvbnN0IG1ham9yID0gTnVtYmVyKChfYSA9IHByb2Nlc3MudmVyc2lvbi5tYXRjaCgvXnYoXFxkKykvKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzFdKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihtYWpvcikgfHwgbWFqb3IgPCBtaW5pbXVtVmVyc2lvbikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYE5vZGUuanMgdiR7bWluaW11bVZlcnNpb259LjAuMCBpcyBhIG1pbmltdW0gcmVxdWlyZW1lbnQuIFRvIGxlYXJuIGFib3V0IGxlZ2FjeSB2ZXJzaW9uIHN1cHBvcnQgdmlzaXQ6IGAgK1xuICAgICAgICAgICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlYXBpcy9nb29nbGUtY2xvdWQtbm9kZSNzdXBwb3J0ZWQtbm9kZWpzLXZlcnNpb25zJztcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZ3JwYycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5ncnBjID0gb3B0aW9ucy5ncnBjO1xuICAgICAgICAgICAgdGhpcy5ncnBjVmVyc2lvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ncnBjID0gZ3JwYztcbiAgICAgICAgICAgIHRoaXMuZ3JwY1ZlcnNpb24gPSByZXF1aXJlKCdAZ3JwYy9ncnBjLWpzL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGdSUEMgY3JlZGVudGlhbHMuIEl0IGFza3MgdGhlIGF1dGggZGF0YSBpZiBuZWNlc3NhcnkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnMgdmFsdWVzIGZvciBjb25maWd1cmluZyBjcmVkZW50aWFscy5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdHMuc3NsQ3JlZHMgLSB3aGVuIHNwZWNpZmllZCwgdGhpcyBpcyB1c2VkIGluc3RlYWRcbiAgICAgKiAgIG9mIGRlZmF1bHQgY2hhbm5lbCBjcmVkZW50aWFscy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUaGUgcHJvbWlzZSB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHRvIHRoZSBnUlBDIGNyZWRlbnRpYWwuXG4gICAgICovXG4gICAgYXN5bmMgX2dldENyZWRlbnRpYWxzKG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMuc3NsQ3JlZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRzLnNzbENyZWRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdycGMgPSB0aGlzLmdycGM7XG4gICAgICAgIGNvbnN0IHNzbENyZWRzID0gb3B0cy5jZXJ0ICYmIG9wdHMua2V5XG4gICAgICAgICAgICA/IGdycGMuY3JlZGVudGlhbHMuY3JlYXRlU3NsKG51bGwsIEJ1ZmZlci5mcm9tKG9wdHMua2V5KSwgQnVmZmVyLmZyb20ob3B0cy5jZXJ0KSlcbiAgICAgICAgICAgIDogZ3JwYy5jcmVkZW50aWFscy5jcmVhdGVTc2woKTtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5hdXRoLmdldENsaWVudCgpO1xuICAgICAgICBjb25zdCBjcmVkZW50aWFscyA9IGdycGMuY3JlZGVudGlhbHMuY29tYmluZUNoYW5uZWxDcmVkZW50aWFscyhzc2xDcmVkcywgZ3JwYy5jcmVkZW50aWFscy5jcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbChjbGllbnQpKTtcbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWxzO1xuICAgIH1cbiAgICBzdGF0aWMgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIC8vIFRoaXMgc2V0IG9mIEBncnBjL3Byb3RvLWxvYWRlciBvcHRpb25zXG4gICAgICAgIC8vICdjbG9zZWx5IGFwcHJveGltYXRlcyB0aGUgZXhpc3RpbmcgYmVoYXZpb3Igb2YgZ3JwYy5sb2FkJ1xuICAgICAgICBjb25zdCBpbmNsdWRlRGlycyA9IElOQ0xVREVfRElSUy5zbGljZSgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAga2VlcENhc2U6IGZhbHNlLFxuICAgICAgICAgICAgbG9uZ3M6IFN0cmluZyxcbiAgICAgICAgICAgIGVudW1zOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0czogdHJ1ZSxcbiAgICAgICAgICAgIG9uZW9mczogdHJ1ZSxcbiAgICAgICAgICAgIGluY2x1ZGVEaXJzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGdSUEMgc2VydmljZSBmcm9tIHRoZSBwcm90byBmaWxlKHMpIGF0IHRoZSBnaXZlbiBwYXRoIGFuZCB3aXRoIHRoZVxuICAgICAqIGdpdmVuIG9wdGlvbnMuIENhY2hlcyB0aGUgbG9hZGVkIHByb3RvcyBzbyB0aGUgc3Vic2VxdWVudCBsb2FkcyBkb24ndCBkb1xuICAgICAqIGFueSBkaXNrIHJlYWRzLlxuICAgICAqIEBwYXJhbSBmaWxlbmFtZSBUaGUgcGF0aCB0byB0aGUgcHJvdG8gZmlsZShzKS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciBsb2FkaW5nIHRoZSBwcm90byBmaWxlLlxuICAgICAqIEBwYXJhbSBpZ25vcmVDYWNoZSBEZWZhdWx0cyB0byBgZmFsc2VgLiBTZXQgaXQgdG8gYHRydWVgIGlmIHRoZSBjYWNoaW5nIGxvZ2ljXG4gICAgICogICBpbmNvcnJlY3RseSBkZWNpZGVzIHRoYXQgdGhlIG9wdGlvbnMgb2JqZWN0IGlzIHRoZSBzYW1lLCBvciBpZiB5b3Ugd2FudCB0b1xuICAgICAqICAgcmUtcmVhZCB0aGUgcHJvdG9zIGZyb20gZGlzayBmb3IgYW55IG90aGVyIHJlYXNvbi5cbiAgICAgKi9cbiAgICBsb2FkRnJvbVByb3RvKGZpbGVuYW1lLCBvcHRpb25zLCBpZ25vcmVDYWNoZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gR3JwY0NsaWVudC5wcm90b0NhY2hlS2V5KGZpbGVuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgbGV0IGdycGNQYWNrYWdlID0gY2FjaGVLZXlcbiAgICAgICAgICAgID8gR3JwY0NsaWVudC5wcm90b0NhY2hlLmdldChjYWNoZUtleSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaWdub3JlQ2FjaGUgfHwgIWdycGNQYWNrYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrYWdlRGVmID0gZ3JwY1Byb3RvTG9hZGVyLmxvYWRTeW5jKGZpbGVuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGdycGNQYWNrYWdlID0gdGhpcy5ncnBjLmxvYWRQYWNrYWdlRGVmaW5pdGlvbihwYWNrYWdlRGVmKTtcbiAgICAgICAgICAgIGlmIChjYWNoZUtleSkge1xuICAgICAgICAgICAgICAgIEdycGNDbGllbnQucHJvdG9DYWNoZS5zZXQoY2FjaGVLZXksIGdycGNQYWNrYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JwY1BhY2thZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvYWQgZ1JQQyBwcm90byBzZXJ2aWNlIGZyb20gYSBmaWxlbmFtZSBsb29raW5nIGluIGdvb2dsZWFwaXMgY29tbW9uIHByb3Rvc1xuICAgICAqIHdoZW4gbmVjZXNzYXJ5LiBDYWNoZXMgdGhlIGxvYWRlZCBwcm90b3Mgc28gdGhlIHN1YnNlcXVlbnQgbG9hZHMgZG9uJ3QgZG9cbiAgICAgKiBhbnkgZGlzayByZWFkcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvdG9QYXRoIC0gVGhlIGRpcmVjdG9yeSB0byBzZWFyY2ggZm9yIHRoZSBwcm90b2ZpbGUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8U3RyaW5nW119IGZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lKHMpIG9mIHRoZSBwcm90byhzKSB0byBiZSBsb2FkZWQuXG4gICAgICogICBJZiBvbWl0dGVkLCBwcm90b1BhdGggd2lsbCBiZSB0cmVhdGVkIGFzIGEgZmlsZSBwYXRoIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIGlnbm9yZUNhY2hlIERlZmF1bHRzIHRvIGBmYWxzZWAuIFNldCBpdCB0byBgdHJ1ZWAgaWYgdGhlIGNhY2hpbmcgbG9naWNcbiAgICAgKiAgIGluY29ycmVjdGx5IGRlY2lkZXMgdGhhdCB0aGUgb3B0aW9ucyBvYmplY3QgaXMgdGhlIHNhbWUsIG9yIGlmIHlvdSB3YW50IHRvXG4gICAgICogICByZS1yZWFkIHRoZSBwcm90b3MgZnJvbSBkaXNrIGZvciBhbnkgb3RoZXIgcmVhc29uLlxuICAgICAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsICo+fSBUaGUgZ1JQQyBsb2FkZWQgcmVzdWx0ICh0aGUgdG9wbGV2ZWwgbmFtZXNwYWNlXG4gICAgICogICBvYmplY3QpLlxuICAgICAqL1xuICAgIGxvYWRQcm90byhwcm90b1BhdGgsIGZpbGVuYW1lLCBpZ25vcmVDYWNoZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gcGF0aC5iYXNlbmFtZShwcm90b1BhdGgpO1xuICAgICAgICAgICAgcHJvdG9QYXRoID0gcGF0aC5kaXJuYW1lKHByb3RvUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsZW5hbWUpICYmIGZpbGVuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBHcnBjQ2xpZW50LmRlZmF1bHRPcHRpb25zKCk7XG4gICAgICAgIG9wdGlvbnMuaW5jbHVkZURpcnMudW5zaGlmdChwcm90b1BhdGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRnJvbVByb3RvKGZpbGVuYW1lLCBvcHRpb25zLCBpZ25vcmVDYWNoZSk7XG4gICAgfVxuICAgIHN0YXRpYyBfcmVzb2x2ZUZpbGUocHJvdG9QYXRoLCBmaWxlbmFtZSkge1xuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4ocHJvdG9QYXRoLCBmaWxlbmFtZSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0aC5qb2luKHByb3RvUGF0aCwgZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKENPTU1PTl9QUk9UT19GSUxFUy5pbmRleE9mKGZpbGVuYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0aC5qb2luKGdvb2dsZVByb3RvRmlsZXNEaXIsIGZpbGVuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmlsZW5hbWUgKyAnIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiAnICsgcHJvdG9QYXRoKTtcbiAgICB9XG4gICAgbG9hZFByb3RvSlNPTihqc29uLCBpZ25vcmVDYWNoZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBvYmplY3RIYXNoKEpTT04uc3RyaW5naWZ5KGpzb24pKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSBHcnBjQ2xpZW50LnByb3RvQ2FjaGUuZ2V0KGhhc2gpO1xuICAgICAgICBpZiAoY2FjaGVkICYmICFpZ25vcmVDYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcHRpb25zID0gR3JwY0NsaWVudC5kZWZhdWx0T3B0aW9ucygpO1xuICAgICAgICBjb25zdCBwYWNrYWdlRGVmaW5pdGlvbiA9IGdycGNQcm90b0xvYWRlci5mcm9tSlNPTihqc29uLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZ3JwY1BhY2thZ2UgPSB0aGlzLmdycGMubG9hZFBhY2thZ2VEZWZpbml0aW9uKHBhY2thZ2VEZWZpbml0aW9uKTtcbiAgICAgICAgR3JwY0NsaWVudC5wcm90b0NhY2hlLnNldChoYXNoLCBncnBjUGFja2FnZSk7XG4gICAgICAgIHJldHVybiBncnBjUGFja2FnZTtcbiAgICB9XG4gICAgbWV0YWRhdGFCdWlsZGVyKGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgTWV0YWRhdGEgPSB0aGlzLmdycGMuTWV0YWRhdGE7XG4gICAgICAgIGNvbnN0IGJhc2VNZXRhZGF0YSA9IG5ldyBNZXRhZGF0YSgpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLmZvckVhY2godiA9PiBiYXNlTWV0YWRhdGEuYWRkKGtleSwgdikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYmFzZU1ldGFkYXRhLnNldChrZXksIGAke3ZhbHVlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBidWlsZE1ldGFkYXRhKGFiVGVzdHMsIG1vcmVIZWFkZXJzKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBicmluZyB0aGUgQS9CIHRlc3RpbmcgaW5mbyBpbnRvIHRoZSBtZXRhZGF0YS5cbiAgICAgICAgICAgIGxldCBjb3BpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBtZXRhZGF0YSA9IGJhc2VNZXRhZGF0YTtcbiAgICAgICAgICAgIGlmIChtb3JlSGVhZGVycykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1vcmVIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSAhPT0gJ3gtZ29vZy1hcGktY2xpZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb3BpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3BpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gbWV0YWRhdGEuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbW9yZUhlYWRlcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmZvckVhY2godiA9PiBtZXRhZGF0YS5hZGQoa2V5LCB2KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YS5zZXQoa2V5LCBgJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSB3cmFwcGVyIG9mIHtAbGluayBjb25zdHJ1Y3RTZXR0aW5nc30gZnVuY3Rpb24gdW5kZXIgdGhlIGdSUEMgY29udGV4dC5cbiAgICAgKlxuICAgICAqIE1vc3Qgb2YgcGFyYW1ldGVycyBhcmUgY29tbW9uIGFtb25nIGNvbnN0cnVjdFNldHRpbmdzLCBwbGVhc2UgdGFrZSBhIGxvb2suXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VOYW1lIC0gVGhlIGZ1bGxseS1xdWFsaWZpZWQgbmFtZSBvZiB0aGUgc2VydmljZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2xpZW50Q29uZmlnIC0gQSBkaWN0aW9uYXJ5IG9mIHRoZSBjbGllbnQgY29uZmlnLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPdmVycmlkZXMgLSBBIGRpY3Rpb25hcnkgb2Ygb3ZlcnJpZGluZyBjb25maWdzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIC0gQSBkaWN0aW9uYXJ5IG9mIGFkZGl0aW9uYWwgSFRUUCBoZWFkZXIgbmFtZSB0b1xuICAgICAqICAgaXRzIHZhbHVlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQSBtYXBwaW5nIG9mIG1ldGhvZCBuYW1lcyB0byBDYWxsU2V0dGluZ3MuXG4gICAgICovXG4gICAgY29uc3RydWN0U2V0dGluZ3Moc2VydmljZU5hbWUsIGNsaWVudENvbmZpZywgY29uZmlnT3ZlcnJpZGVzLCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBnYXguY29uc3RydWN0U2V0dGluZ3Moc2VydmljZU5hbWUsIGNsaWVudENvbmZpZywgY29uZmlnT3ZlcnJpZGVzLCB0aGlzLmdycGMuc3RhdHVzLCB7IG1ldGFkYXRhQnVpbGRlcjogdGhpcy5tZXRhZGF0YUJ1aWxkZXIoaGVhZGVycykgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBnUlBDIHN0dWIgd2l0aCBjdXJyZW50IGdSUEMgYW5kIGF1dGguXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gQ3JlYXRlU3R1YiAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvZiB0aGUgc3R1Yi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25hbCBhcmd1bWVudHMgdG8gY3VzdG9taXplXG4gICAgICogICBnUlBDIGNvbm5lY3Rpb24uIFRoaXMgb3B0aW9ucyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3Igb2ZcbiAgICAgKiAgIGdSUEMgY2xpZW50IHRvby5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zZXJ2aWNlUGF0aCAtIFRoZSBuYW1lIG9mIHRoZSBzZXJ2ZXIgb2YgdGhlIHNlcnZpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMucG9ydCAtIFRoZSBwb3J0IG9mIHRoZSBzZXJ2aWNlLlxuICAgICAqIEBwYXJhbSB7Z3JwY1R5cGVzLkNsaWVudENyZWRlbnRpYWxzPX0gb3B0aW9ucy5zc2xDcmVkcyAtIFRoZSBjcmVkZW50aWFscyB0byBiZSB1c2VkXG4gICAgICogICB0byBzZXQgdXAgZ1JQQyBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZWZhdWx0U2VydmljZVBhdGggLSBUaGUgZGVmYXVsdCBzZXJ2aWNlIHBhdGguXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGEgZ1JQQyBzdHViIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVN0dWIoQ3JlYXRlU3R1Yiwgb3B0aW9ucywgY3VzdG9tU2VydmljZVBhdGgpIHtcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBvcHRpb25zIGFyZSB1bmRlcnN0b29kIGJ5IGdycGMtZ2NwIGFuZCBuZWVkIGEgc3BlY2lhbCB0cmVhdG1lbnRcbiAgICAgICAgLy8gKHNob3VsZCBiZSBwYXNzZWQgd2l0aG91dCBhIGBncnBjLmAgcHJlZml4KVxuICAgICAgICBjb25zdCBncnBjR2NwT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICdncnBjLmNhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXInLFxuICAgICAgICAgICAgJ2dycGMuY2hhbm5lbEZhY3RvcnlPdmVycmlkZScsXG4gICAgICAgICAgICAnZ3JwYy5nY3BBcGlDb25maWcnLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBbY2VydCwga2V5XSA9IGF3YWl0IHRoaXMuX2RldGVjdENsaWVudENlcnRpZmljYXRlKG9wdGlvbnMsIG9wdGlvbnMudW5pdmVyc2VEb21haW4pO1xuICAgICAgICBjb25zdCBzZXJ2aWNlUGF0aCA9IHRoaXMuX210bHNTZXJ2aWNlUGF0aChvcHRpb25zLnNlcnZpY2VQYXRoLCBjdXN0b21TZXJ2aWNlUGF0aCwgY2VydCAmJiBrZXkpO1xuICAgICAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBjZXJ0LCBrZXksIHNlcnZpY2VQYXRoIH0pO1xuICAgICAgICBjb25zdCBzZXJ2aWNlQWRkcmVzcyA9IHNlcnZpY2VQYXRoICsgJzonICsgb3B0cy5wb3J0O1xuICAgICAgICBpZiAoIW9wdGlvbnMudW5pdmVyc2VEb21haW4pIHtcbiAgICAgICAgICAgIG9wdGlvbnMudW5pdmVyc2VEb21haW4gPSAnZ29vZ2xlYXBpcy5jb20nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnVuaXZlcnNlRG9tYWluKSB7XG4gICAgICAgICAgICBjb25zdCB1bml2ZXJzZUZyb21BdXRoID0gYXdhaXQgdGhpcy5hdXRoLmdldFVuaXZlcnNlRG9tYWluKCk7XG4gICAgICAgICAgICBpZiAodW5pdmVyc2VGcm9tQXV0aCAmJiBvcHRpb25zLnVuaXZlcnNlRG9tYWluICE9PSB1bml2ZXJzZUZyb21BdXRoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29uZmlndXJlZCB1bml2ZXJzZSBkb21haW4gKCR7b3B0aW9ucy51bml2ZXJzZURvbWFpbn0pIGRvZXMgbm90IG1hdGNoIHRoZSB1bml2ZXJzZSBkb21haW4gZm91bmQgaW4gdGhlIGNyZWRlbnRpYWxzICgke3VuaXZlcnNlRnJvbUF1dGh9KS4gYCArXG4gICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGhhdmVuJ3QgY29uZmlndXJlZCB0aGUgdW5pdmVyc2UgZG9tYWluIGV4cGxpY2l0bHksIGdvb2dsZWFwaXMuY29tIGlzIHRoZSBkZWZhdWx0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVkcyA9IGF3YWl0IHRoaXMuX2dldENyZWRlbnRpYWxzKG9wdHMpO1xuICAgICAgICBjb25zdCBncnBjT3B0aW9ucyA9IHt9O1xuICAgICAgICAvLyBAZ3JwYy9ncnBjLWpzIGxpbWl0cyBtYXggcmVjZWl2ZS9zZW5kIG1lc3NhZ2UgbGVuZ3RoIHN0YXJ0aW5nIGZyb20gdjAuOC4wXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMtbm9kZS9yZWxlYXNlcy90YWcvJTQwZ3JwYyUyRmdycGMtanMlNDAwLjguMFxuICAgICAgICAvLyBUbyBrZWVwIHRoZSBleGlzdGluZyBiZWhhdmlvciBhbmQgYXZvaWQgbGlicmFyaWVzIGJyZWFrYWdlLCB3ZSBwYXNzIC0xIHRoZXJlIGFzIHN1Z2dlc3RlZC5cbiAgICAgICAgZ3JwY09wdGlvbnNbJ2dycGMubWF4X3JlY2VpdmVfbWVzc2FnZV9sZW5ndGgnXSA9IC0xO1xuICAgICAgICBncnBjT3B0aW9uc1snZ3JwYy5tYXhfc2VuZF9tZXNzYWdlX2xlbmd0aCddID0gLTE7XG4gICAgICAgIGdycGNPcHRpb25zWydncnBjLmluaXRpYWxfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSA9IDEwMDA7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgLy8gdGhlIG9sZGVyIHZlcnNpb25zIGhhZCBhIGJ1ZyB3aGljaCByZXF1aXJlZCB1c2VycyB0byBjYWxsIGFuIG9wdGlvblxuICAgICAgICAgICAgLy8gZ3JwYy5ncnBjLiogdG8gbWFrZSBpdCBhY3R1YWxseSBwYXNzIHRvIGdSUEMgYXMgZ3JwYy4qLCBsZXQncyBoYW5kbGVcbiAgICAgICAgICAgIC8vIHRoaXMgaGVyZSB1bnRpbCB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2dycGMuZ3JwYy4nKSkge1xuICAgICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9eZ3JwY1xcLi8sICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnZ3JwYy4nKSkge1xuICAgICAgICAgICAgICAgIGlmIChncnBjR2NwT3B0aW9ucy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9eZ3JwY1xcLi8sICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JwY09wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdncnBjLW5vZGUuJykpIHtcbiAgICAgICAgICAgICAgICBncnBjT3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdHViID0gbmV3IENyZWF0ZVN0dWIoc2VydmljZUFkZHJlc3MsIGNyZWRzLCBncnBjT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBzdHViO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgbVRMUyBjbGllbnQgY2VydGlmaWNhdGUgYmFzZWQgb24gbG9naWMgZGVzY3JpYmVkIGluXG4gICAgICogaHR0cHM6Ly9nb29nbGUuYWlwLmRldi9hdXRoLzQxMTQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyBhcnJheSBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyBjZXJ0IGFuZCBrZXkuXG4gICAgICovXG4gICAgYXN5bmMgX2RldGVjdENsaWVudENlcnRpZmljYXRlKG9wdHMsIHVuaXZlcnNlRG9tYWluKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY2VydFJlZ2V4ID0gLyg/PGNlcnQ+LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tLio/LS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLSkvcztcbiAgICAgICAgY29uc3Qga2V5UmVnZXggPSAvKD88a2V5Pi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLS4qPy0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0pL3M7XG4gICAgICAgIC8vIElmIEdPT0dMRV9BUElfVVNFX0NMSUVOVF9DRVJUSUZJQ0FURSBpcyB0cnVlLi4uOlxuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAoKF9hID0gcHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLkdPT0dMRV9BUElfVVNFX0NMSUVOVF9DRVJUSUZJQ0FURSkgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgaWYgKHVuaXZlcnNlRG9tYWluICYmIHVuaXZlcnNlRG9tYWluICE9PSAnZ29vZ2xlYXBpcy5jb20nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtVExTIGlzIG5vdCBzdXBwb3J0ZWQgb3V0c2lkZSBvZiBnb29nbGVhcGlzLmNvbSB1bml2ZXJzZSBkb21haW4uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5jZXJ0KSAmJiAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmtleSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW29wdHMuY2VydCwgb3B0cy5rZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY29udGV4dCBhd2FyZSBtZXRhZGF0YSBleGlzdHMsIHJ1biB0aGUgY2VydCBwcm92aWRlciBjb21tYW5kLFxuICAgICAgICAgICAgLy8gcGFyc2UgdGhlIG91dHB1dCB0byBleHRyYWN0IGNlcnQgYW5kIGtleSwgYW5kIHVzZSB0aGlzIGNlcnQva2V5LlxuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGFQYXRoID0gKDAsIHBhdGhfMS5qb2luKShvcy5ob21lZGlyKCksICcuc2VjdXJlQ29ubmVjdCcsICdjb250ZXh0X2F3YXJlX21ldGFkYXRhLmpzb24nKTtcbiAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gSlNPTi5wYXJzZShhd2FpdCByZWFkRmlsZUFzeW5jKG1ldGFkYXRhUGF0aCkpO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YS5jZXJ0X3Byb3ZpZGVyX2NvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignbm8gY2VydF9wcm92aWRlcl9jb21tYW5kIGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGRvdXQgPSBhd2FpdCBleGVjRmlsZUFzeW5jKG1ldGFkYXRhLmNlcnRfcHJvdmlkZXJfY29tbWFuZFswXSwgbWV0YWRhdGEuY2VydF9wcm92aWRlcl9jb21tYW5kLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoQ2VydCA9IHN0ZG91dC50b1N0cmluZygpLm1hdGNoKGNlcnRSZWdleCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaEtleSA9IHN0ZG91dC50b1N0cmluZygpLm1hdGNoKGtleVJlZ2V4KTtcbiAgICAgICAgICAgIGlmICghKChtYXRjaENlcnQgPT09IG51bGwgfHwgbWF0Y2hDZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtYXRjaENlcnQuZ3JvdXBzKSAmJiAobWF0Y2hLZXkgPT09IG51bGwgfHwgbWF0Y2hLZXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1hdGNoS2V5Lmdyb3VwcykpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ3VuYWJsZSB0byBwYXJzZSBjZXJ0aWZpY2F0ZSBhbmQga2V5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW21hdGNoQ2VydC5ncm91cHMuY2VydCwgbWF0Y2hLZXkuZ3JvdXBzLmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgR09PR0xFX0FQSV9VU0VfQ0xJRU5UX0NFUlRJRklDQVRFIGlzIG5vdCBzZXQgb3IgZmFsc2UsXG4gICAgICAgIC8vIHVzZSBubyBjZXJ0IG9yIGtleTpcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBzZXJ2aWNlIHBhdGgsIHRha2luZyBpbnRvIGFjY291bnQgbVRMUyBsb2dpYy5cbiAgICAgKiBTZWU6IGh0dHBzOi8vZ29vZ2xlLmFpcC5kZXYvYXV0aC80MTE0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHNlcnZpY2VQYXRoIC0gVGhlIHBhdGggb2YgdGhlIHNlcnZpY2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBjdXN0b21TZXJ2aWNlUGF0aCAtIERpZCB0aGUgdXNlciBwcm92aWRlIGEgY3VzdG9tIHNlcnZpY2UgVVJMLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzQ2VydGlmaWNhdGUgLSBXYXMgYSBjZXJ0aWZpY2F0ZSBmb3VuZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgRE5TIGFkZHJlc3MgZm9yIHRoaXMgc2VydmljZS5cbiAgICAgKi9cbiAgICBfbXRsc1NlcnZpY2VQYXRoKHNlcnZpY2VQYXRoLCBjdXN0b21TZXJ2aWNlUGF0aCwgaGFzQ2VydGlmaWNhdGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgLy8gSWYgdXNlciBwcm92aWRlcyBhIGN1c3RvbSBzZXJ2aWNlIHBhdGgsIHJldHVybiB0aGUgY3VycmVudCBzZXJ2aWNlXG4gICAgICAgIC8vIHBhdGggYW5kIGRvIG5vdCBhdHRlbXB0IHRvIGFkZCBtdGxzIHN1YmRvbWFpbjpcbiAgICAgICAgaWYgKGN1c3RvbVNlcnZpY2VQYXRoIHx8ICFzZXJ2aWNlUGF0aClcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlUGF0aDtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgKChfYSA9IHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5HT09HTEVfQVBJX1VTRV9NVExTX0VORFBPSU5UKSA9PT0gJ25ldmVyJykge1xuICAgICAgICAgICAgLy8gSXQgd2FzIGV4cGxpY2l0bHkgYXNrZWQgdGhhdCBtdGxzIGVuZHBvaW50IG5vdCBiZSB1c2VkOlxuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICgoX2IgPSBwcm9jZXNzID09PSBudWxsIHx8IHByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2Nlc3MuZW52KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuR09PR0xFX0FQSV9VU0VfTVRMU19FTkRQT0lOVCkgPT09ICdhbHdheXMnKSB8fFxuICAgICAgICAgICAgaGFzQ2VydGlmaWNhdGUpIHtcbiAgICAgICAgICAgIC8vIEVpdGhlciBhdXRvLWRldGVjdCBvciBleHBsaWNpdCBzZXR0aW5nIG9mIGVuZHBvaW50OlxuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VQYXRoLnJlcGxhY2UoJ2dvb2dsZWFwaXMuY29tJywgJ210bHMuZ29vZ2xlYXBpcy5jb20nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VydmljZVBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSAnYnl0ZWxlbmd0aCcgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gcHJvdG8gbWVzc2FnZSBjbGFzcy5cbiAgICAgKlxuICAgICAqIFNlZSB7QGxpbmsgQnVuZGxlRGVzY3JpcHRvcn0gYWJvdXQgdGhlIG1lYW5pbmcgb2YgdGhlIHJldHVybiB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1lc3NhZ2UgLSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgaXMgZ2VuZXJhdGVkIGJ5XG4gICAgICogICBwcm90b2J1Zi5qcy4gQXNzdW1lcyAnZW5jb2RlcicgZmllbGQgaW4gdGhlIG1lc3NhZ2UuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oT2JqZWN0KTpudW1iZXJ9IC0gYSBmdW5jdGlvbiB0byBjb21wdXRlIHRoZSBieXRlIGxlbmd0aFxuICAgICAqICAgZm9yIGFuIG9iamVjdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGdheC5jcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24obWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5HcnBjQ2xpZW50ID0gR3JwY0NsaWVudDtcbkdycGNDbGllbnQucHJvdG9DYWNoZSA9IG5ldyBNYXAoKTtcbmNsYXNzIEdvb2dsZVByb3RvRmlsZXNSb290IGV4dGVuZHMgcHJvdG9idWYuUm9vdCB7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcbiAgICB9XG4gICAgLy8gQ2F1c2VzIHRoZSBsb2FkaW5nIG9mIGFuIGluY2x1ZGVkIHByb3RvIHRvIGNoZWNrIGlmIGl0IGlzIGEgY29tbW9uXG4gICAgLy8gcHJvdG8uIElmIGl0IGlzIGEgY29tbW9uIHByb3RvLCB1c2UgdGhlIGJ1bmRsZWQgcHJvdG8uXG4gICAgcmVzb2x2ZVBhdGgob3JpZ2luUGF0aCwgaW5jbHVkZVBhdGgpIHtcbiAgICAgICAgb3JpZ2luUGF0aCA9IHBhdGgubm9ybWFsaXplKG9yaWdpblBhdGgpO1xuICAgICAgICBpbmNsdWRlUGF0aCA9IHBhdGgubm9ybWFsaXplKGluY2x1ZGVQYXRoKTtcbiAgICAgICAgLy8gRnVsbHkgcXVhbGlmaWVkIHBhdGhzIGRvbid0IG5lZWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgICAgIGlmIChwYXRoLmlzQWJzb2x1dGUoaW5jbHVkZVBhdGgpKSB7XG4gICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoaW5jbHVkZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW5jbHVkZSBgJyArIGluY2x1ZGVQYXRoICsgJ2Agd2FzIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbmNsdWRlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ09NTU9OX1BST1RPX0ZJTEVTLmluZGV4T2YoaW5jbHVkZVBhdGgpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4oZ29vZ2xlUHJvdG9GaWxlc0RpciwgaW5jbHVkZVBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBHb29nbGVQcm90b0ZpbGVzUm9vdC5fZmluZEluY2x1ZGVQYXRoKG9yaWdpblBhdGgsIGluY2x1ZGVQYXRoKTtcbiAgICB9XG4gICAgc3RhdGljIF9maW5kSW5jbHVkZVBhdGgob3JpZ2luUGF0aCwgaW5jbHVkZVBhdGgpIHtcbiAgICAgICAgb3JpZ2luUGF0aCA9IHBhdGgubm9ybWFsaXplKG9yaWdpblBhdGgpO1xuICAgICAgICBpbmNsdWRlUGF0aCA9IHBhdGgubm9ybWFsaXplKGluY2x1ZGVQYXRoKTtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBvcmlnaW5QYXRoO1xuICAgICAgICBsZXQgZm91bmQgPSBmcy5leGlzdHNTeW5jKHBhdGguam9pbihjdXJyZW50LCBpbmNsdWRlUGF0aCkpO1xuICAgICAgICB3aGlsZSAoIWZvdW5kICYmIGN1cnJlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3Vic3RyaW5nKDAsIGN1cnJlbnQubGFzdEluZGV4T2YocGF0aC5zZXApKTtcbiAgICAgICAgICAgIGZvdW5kID0gZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4oY3VycmVudCwgaW5jbHVkZVBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmNsdWRlIGAnICsgaW5jbHVkZVBhdGggKyAnYCB3YXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoLmpvaW4oY3VycmVudCwgaW5jbHVkZVBhdGgpO1xuICAgIH1cbn1cbmV4cG9ydHMuR29vZ2xlUHJvdG9GaWxlc1Jvb3QgPSBHb29nbGVQcm90b0ZpbGVzUm9vdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdycGMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/grpc.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/iamService.js":
/*!*********************************************************!*\
  !*** ./node_modules/google-gax/build/src/iamService.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n// Copyright 2020 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// ** This file is automatically generated by gapic-generator-typescript. **\n// ** https://github.com/googleapis/gapic-generator-typescript **\n// ** All changes to this file may be overwritten. **\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IamClient = void 0;\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(rsc)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(rsc)/./node_modules/google-gax/build/src/routingHeader.js\");\nconst gapicConfig = __webpack_require__(/*! ./iam_policy_service_client_config.json */ \"(rsc)/./node_modules/google-gax/build/src/iam_policy_service_client_config.json\");\nconst fallback = __webpack_require__(/*! ./fallback */ \"(rsc)/./node_modules/google-gax/build/src/fallback.js\");\nlet version = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/package.json\").version);\nconst jsonProtos = __webpack_require__(/*! ../protos/iam_service.json */ \"(rsc)/./node_modules/google-gax/build/protos/iam_service.json\");\n/**\n *  Google Cloud IAM Client.\n *  This is manually written for providing methods [setIamPolicy, getIamPolicy, testIamPerssion] to the generated client.\n */\nclass IamClient {\n    constructor(gaxGrpc, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    options) {\n        this._terminated = false;\n        this.descriptors = { page: {}, stream: {}, longrunning: {} };\n        this.innerApiCalls = {};\n        this.gaxGrpc = gaxGrpc;\n        // Ensure that options include the service address and port.\n        const opts = Object.assign({\n            servicePath: options.servicePath,\n            port: options.port,\n            clientConfig: options.clientConfig,\n            apiEndpoint: options.apiEndpoint,\n            fallback: options.fallback,\n        }, options);\n        version = opts.fallback ? fallback.version : version;\n        opts.scopes = this.constructor.scopes;\n        // Save options to use in initialize() method.\n        this._opts = opts;\n        // Save the auth object to the client, for use by other methods.\n        this.auth = gaxGrpc.auth;\n        // Determine the client header string.\n        const clientHeader = [`gax/${version}`, `gapic/${version}`];\n        if (typeof process !== 'undefined' && 'versions' in process) {\n            clientHeader.push(`gl-node/${process.versions.node}`);\n        }\n        else {\n            clientHeader.push(`gl-web/${version}`);\n        }\n        if (!opts.fallback) {\n            clientHeader.push(`grpc/${gaxGrpc.grpcVersion}`);\n        }\n        if (opts.libName && opts.libVersion) {\n            clientHeader.push(`${opts.libName}/${opts.libVersion}`);\n        }\n        // Load the applicable protos.\n        this._protos = this.gaxGrpc.loadProtoJSON(jsonProtos);\n        // Put together the default options sent with requests.\n        this._defaults = gaxGrpc.constructSettings('google.iam.v1.IAMPolicy', gapicConfig, opts.clientConfig || {}, { 'x-goog-api-client': clientHeader.join(' ') });\n        this.innerApiCalls = {};\n    }\n    /**\n     * Initialize the client.\n     * Performs asynchronous operations (such as authentication) and prepares the client.\n     * This function will be called automatically when any class method is called for the\n     * first time, but if you need to initialize it before calling an actual method,\n     * feel free to call initialize() directly.\n     *\n     * You can await on this method if you want to make sure the client is initialized.\n     *\n     * @returns {Promise} A promise that resolves to an authenticated service stub.\n     */\n    initialize() {\n        // If the client stub promise is already initialized, return immediately.\n        if (this.iamPolicyStub) {\n            return this.iamPolicyStub;\n        }\n        // Put together the \"service stub\" for\n        // google.iam.v1.IAMPolicy.\n        this.iamPolicyStub = this.gaxGrpc.createStub(this._opts.fallback\n            ? this._protos.lookupService('google.iam.v1.IAMPolicy')\n            : this._protos.google.iam.v1.IAMPolicy, this._opts);\n        // Iterate over each of the methods that the service provides\n        // and create an API call method for each.\n        const iamPolicyStubMethods = [\n            'getIamPolicy',\n            'setIamPolicy',\n            'testIamPermissions',\n        ];\n        for (const methodName of iamPolicyStubMethods) {\n            const innerCallPromise = this.iamPolicyStub.then(stub => (...args) => {\n                if (this._terminated) {\n                    return Promise.reject('The client has already been closed.');\n                }\n                const func = stub[methodName];\n                return func.apply(stub, args);\n            }, (err) => () => {\n                throw err;\n            });\n            this.innerApiCalls[methodName] = (0, createApiCall_1.createApiCall)(innerCallPromise, this._defaults[methodName], this.descriptors.page[methodName]);\n        }\n        return this.iamPolicyStub;\n    }\n    /**\n     * The DNS address for this API service.\n     */\n    static get servicePath() {\n        return 'cloudkms.googleapis.com';\n    }\n    /**\n     * The DNS address for this API service - same as servicePath(),\n     * exists for compatibility reasons.\n     */\n    static get apiEndpoint() {\n        return 'cloudkms.googleapis.com';\n    }\n    /**\n     * The port for this API service.\n     */\n    static get port() {\n        return 443;\n    }\n    /**\n     * The scopes needed to make gRPC calls for every method defined\n     * in this service.\n     */\n    static get scopes() {\n        return [\n            'https://www.googleapis.com/auth/cloud-platform',\n            'https://www.googleapis.com/auth/cloudkms',\n        ];\n    }\n    getProjectId(callback) {\n        if (this.auth && 'getProjectId' in this.auth) {\n            return this.auth.getProjectId(callback);\n        }\n        if (callback) {\n            callback(new Error('Cannot determine project ID.'));\n        }\n        else {\n            return Promise.reject('Cannot determine project ID.');\n        }\n    }\n    getIamPolicy(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                resource: request.resource,\n            });\n        this.initialize();\n        return this.innerApiCalls.getIamPolicy(request, options, callback);\n    }\n    setIamPolicy(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                resource: request.resource,\n            });\n        this.initialize();\n        return this.innerApiCalls.setIamPolicy(request, options, callback);\n    }\n    testIamPermissions(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                resource: request.resource,\n            });\n        this.initialize();\n        return this.innerApiCalls.testIamPermissions(request, options, callback);\n    }\n    /**\n     * Terminate the GRPC channel and close the client.\n     *\n     * The client will no longer be usable and all future behavior is undefined.\n     */\n    close() {\n        this.initialize();\n        if (!this._terminated) {\n            return this.iamPolicyStub.then(stub => {\n                this._terminated = true;\n                stub.close();\n            });\n        }\n        return Promise.resolve();\n    }\n}\nexports.IamClient = IamClient;\n//# sourceMappingURL=iamService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvaWFtU2VydmljZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLHdCQUF3QixtQkFBTyxDQUFDLG1GQUFpQjtBQUNqRCxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBaUI7QUFDL0Msb0JBQW9CLG1CQUFPLENBQUMsZ0lBQXlDO0FBQ3JFLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3JDLGNBQWMsdUdBQXFDO0FBQ25ELG1CQUFtQixtQkFBTyxDQUFDLGlHQUE0QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsUUFBUSxZQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxRQUFRLFlBQVksUUFBUTtBQUNqRTtBQUNBLHlDQUF5QyxzQkFBc0I7QUFDL0Q7QUFDQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQSxpQ0FBaUMsYUFBYSxHQUFHLGdCQUFnQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtIQUFrSCxJQUFJLDZDQUE2QztBQUNuSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvaWFtU2VydmljZS5qcz8xZDk1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vL1xuLy8gKiogVGhpcyBmaWxlIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IGdhcGljLWdlbmVyYXRvci10eXBlc2NyaXB0LiAqKlxuLy8gKiogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2FwaWMtZ2VuZXJhdG9yLXR5cGVzY3JpcHQgKipcbi8vICoqIEFsbCBjaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgYmUgb3ZlcndyaXR0ZW4uICoqXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklhbUNsaWVudCA9IHZvaWQgMDtcbmNvbnN0IGNyZWF0ZUFwaUNhbGxfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUFwaUNhbGxcIik7XG5jb25zdCByb3V0aW5nSGVhZGVyID0gcmVxdWlyZShcIi4vcm91dGluZ0hlYWRlclwiKTtcbmNvbnN0IGdhcGljQ29uZmlnID0gcmVxdWlyZShcIi4vaWFtX3BvbGljeV9zZXJ2aWNlX2NsaWVudF9jb25maWcuanNvblwiKTtcbmNvbnN0IGZhbGxiYWNrID0gcmVxdWlyZShcIi4vZmFsbGJhY2tcIik7XG5sZXQgdmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jb25zdCBqc29uUHJvdG9zID0gcmVxdWlyZShcIi4uL3Byb3Rvcy9pYW1fc2VydmljZS5qc29uXCIpO1xuLyoqXG4gKiAgR29vZ2xlIENsb3VkIElBTSBDbGllbnQuXG4gKiAgVGhpcyBpcyBtYW51YWxseSB3cml0dGVuIGZvciBwcm92aWRpbmcgbWV0aG9kcyBbc2V0SWFtUG9saWN5LCBnZXRJYW1Qb2xpY3ksIHRlc3RJYW1QZXJzc2lvbl0gdG8gdGhlIGdlbmVyYXRlZCBjbGllbnQuXG4gKi9cbmNsYXNzIElhbUNsaWVudCB7XG4gICAgY29uc3RydWN0b3IoZ2F4R3JwYywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9ycyA9IHsgcGFnZToge30sIHN0cmVhbToge30sIGxvbmdydW5uaW5nOiB7fSB9O1xuICAgICAgICB0aGlzLmlubmVyQXBpQ2FsbHMgPSB7fTtcbiAgICAgICAgdGhpcy5nYXhHcnBjID0gZ2F4R3JwYztcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgb3B0aW9ucyBpbmNsdWRlIHRoZSBzZXJ2aWNlIGFkZHJlc3MgYW5kIHBvcnQuXG4gICAgICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHNlcnZpY2VQYXRoOiBvcHRpb25zLnNlcnZpY2VQYXRoLFxuICAgICAgICAgICAgcG9ydDogb3B0aW9ucy5wb3J0LFxuICAgICAgICAgICAgY2xpZW50Q29uZmlnOiBvcHRpb25zLmNsaWVudENvbmZpZyxcbiAgICAgICAgICAgIGFwaUVuZHBvaW50OiBvcHRpb25zLmFwaUVuZHBvaW50LFxuICAgICAgICAgICAgZmFsbGJhY2s6IG9wdGlvbnMuZmFsbGJhY2ssXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB2ZXJzaW9uID0gb3B0cy5mYWxsYmFjayA/IGZhbGxiYWNrLnZlcnNpb24gOiB2ZXJzaW9uO1xuICAgICAgICBvcHRzLnNjb3BlcyA9IHRoaXMuY29uc3RydWN0b3Iuc2NvcGVzO1xuICAgICAgICAvLyBTYXZlIG9wdGlvbnMgdG8gdXNlIGluIGluaXRpYWxpemUoKSBtZXRob2QuXG4gICAgICAgIHRoaXMuX29wdHMgPSBvcHRzO1xuICAgICAgICAvLyBTYXZlIHRoZSBhdXRoIG9iamVjdCB0byB0aGUgY2xpZW50LCBmb3IgdXNlIGJ5IG90aGVyIG1ldGhvZHMuXG4gICAgICAgIHRoaXMuYXV0aCA9IGdheEdycGMuYXV0aDtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjbGllbnQgaGVhZGVyIHN0cmluZy5cbiAgICAgICAgY29uc3QgY2xpZW50SGVhZGVyID0gW2BnYXgvJHt2ZXJzaW9ufWAsIGBnYXBpYy8ke3ZlcnNpb259YF07XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3ZlcnNpb25zJyBpbiBwcm9jZXNzKSB7XG4gICAgICAgICAgICBjbGllbnRIZWFkZXIucHVzaChgZ2wtbm9kZS8ke3Byb2Nlc3MudmVyc2lvbnMubm9kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaWVudEhlYWRlci5wdXNoKGBnbC13ZWIvJHt2ZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0cy5mYWxsYmFjaykge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyLnB1c2goYGdycGMvJHtnYXhHcnBjLmdycGNWZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmxpYk5hbWUgJiYgb3B0cy5saWJWZXJzaW9uKSB7XG4gICAgICAgICAgICBjbGllbnRIZWFkZXIucHVzaChgJHtvcHRzLmxpYk5hbWV9LyR7b3B0cy5saWJWZXJzaW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIExvYWQgdGhlIGFwcGxpY2FibGUgcHJvdG9zLlxuICAgICAgICB0aGlzLl9wcm90b3MgPSB0aGlzLmdheEdycGMubG9hZFByb3RvSlNPTihqc29uUHJvdG9zKTtcbiAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIHRoZSBkZWZhdWx0IG9wdGlvbnMgc2VudCB3aXRoIHJlcXVlc3RzLlxuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IGdheEdycGMuY29uc3RydWN0U2V0dGluZ3MoJ2dvb2dsZS5pYW0udjEuSUFNUG9saWN5JywgZ2FwaWNDb25maWcsIG9wdHMuY2xpZW50Q29uZmlnIHx8IHt9LCB7ICd4LWdvb2ctYXBpLWNsaWVudCc6IGNsaWVudEhlYWRlci5qb2luKCcgJykgfSk7XG4gICAgICAgIHRoaXMuaW5uZXJBcGlDYWxscyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjbGllbnQuXG4gICAgICogUGVyZm9ybXMgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMgKHN1Y2ggYXMgYXV0aGVudGljYXRpb24pIGFuZCBwcmVwYXJlcyB0aGUgY2xpZW50LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGFueSBjbGFzcyBtZXRob2QgaXMgY2FsbGVkIGZvciB0aGVcbiAgICAgKiBmaXJzdCB0aW1lLCBidXQgaWYgeW91IG5lZWQgdG8gaW5pdGlhbGl6ZSBpdCBiZWZvcmUgY2FsbGluZyBhbiBhY3R1YWwgbWV0aG9kLFxuICAgICAqIGZlZWwgZnJlZSB0byBjYWxsIGluaXRpYWxpemUoKSBkaXJlY3RseS5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYXdhaXQgb24gdGhpcyBtZXRob2QgaWYgeW91IHdhbnQgdG8gbWFrZSBzdXJlIHRoZSBjbGllbnQgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXV0aGVudGljYXRlZCBzZXJ2aWNlIHN0dWIuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGNsaWVudCBzdHViIHByb21pc2UgaXMgYWxyZWFkeSBpbml0aWFsaXplZCwgcmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgICAgICBpZiAodGhpcy5pYW1Qb2xpY3lTdHViKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pYW1Qb2xpY3lTdHViO1xuICAgICAgICB9XG4gICAgICAgIC8vIFB1dCB0b2dldGhlciB0aGUgXCJzZXJ2aWNlIHN0dWJcIiBmb3JcbiAgICAgICAgLy8gZ29vZ2xlLmlhbS52MS5JQU1Qb2xpY3kuXG4gICAgICAgIHRoaXMuaWFtUG9saWN5U3R1YiA9IHRoaXMuZ2F4R3JwYy5jcmVhdGVTdHViKHRoaXMuX29wdHMuZmFsbGJhY2tcbiAgICAgICAgICAgID8gdGhpcy5fcHJvdG9zLmxvb2t1cFNlcnZpY2UoJ2dvb2dsZS5pYW0udjEuSUFNUG9saWN5JylcbiAgICAgICAgICAgIDogdGhpcy5fcHJvdG9zLmdvb2dsZS5pYW0udjEuSUFNUG9saWN5LCB0aGlzLl9vcHRzKTtcbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGVhY2ggb2YgdGhlIG1ldGhvZHMgdGhhdCB0aGUgc2VydmljZSBwcm92aWRlc1xuICAgICAgICAvLyBhbmQgY3JlYXRlIGFuIEFQSSBjYWxsIG1ldGhvZCBmb3IgZWFjaC5cbiAgICAgICAgY29uc3QgaWFtUG9saWN5U3R1Yk1ldGhvZHMgPSBbXG4gICAgICAgICAgICAnZ2V0SWFtUG9saWN5JyxcbiAgICAgICAgICAgICdzZXRJYW1Qb2xpY3knLFxuICAgICAgICAgICAgJ3Rlc3RJYW1QZXJtaXNzaW9ucycsXG4gICAgICAgIF07XG4gICAgICAgIGZvciAoY29uc3QgbWV0aG9kTmFtZSBvZiBpYW1Qb2xpY3lTdHViTWV0aG9kcykge1xuICAgICAgICAgICAgY29uc3QgaW5uZXJDYWxsUHJvbWlzZSA9IHRoaXMuaWFtUG9saWN5U3R1Yi50aGVuKHN0dWIgPT4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGVybWluYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ1RoZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bmMgPSBzdHViW21ldGhvZE5hbWVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHN0dWIsIGFyZ3MpO1xuICAgICAgICAgICAgfSwgKGVycikgPT4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5pbm5lckFwaUNhbGxzW21ldGhvZE5hbWVdID0gKDAsIGNyZWF0ZUFwaUNhbGxfMS5jcmVhdGVBcGlDYWxsKShpbm5lckNhbGxQcm9taXNlLCB0aGlzLl9kZWZhdWx0c1ttZXRob2ROYW1lXSwgdGhpcy5kZXNjcmlwdG9ycy5wYWdlW21ldGhvZE5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pYW1Qb2xpY3lTdHViO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgRE5TIGFkZHJlc3MgZm9yIHRoaXMgQVBJIHNlcnZpY2UuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzZXJ2aWNlUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuICdjbG91ZGttcy5nb29nbGVhcGlzLmNvbSc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBETlMgYWRkcmVzcyBmb3IgdGhpcyBBUEkgc2VydmljZSAtIHNhbWUgYXMgc2VydmljZVBhdGgoKSxcbiAgICAgKiBleGlzdHMgZm9yIGNvbXBhdGliaWxpdHkgcmVhc29ucy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGFwaUVuZHBvaW50KCkge1xuICAgICAgICByZXR1cm4gJ2Nsb3Vka21zLmdvb2dsZWFwaXMuY29tJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBvcnQgZm9yIHRoaXMgQVBJIHNlcnZpY2UuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBwb3J0KCkge1xuICAgICAgICByZXR1cm4gNDQzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcGVzIG5lZWRlZCB0byBtYWtlIGdSUEMgY2FsbHMgZm9yIGV2ZXJ5IG1ldGhvZCBkZWZpbmVkXG4gICAgICogaW4gdGhpcyBzZXJ2aWNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGVzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY2xvdWQtcGxhdGZvcm0nLFxuICAgICAgICAgICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY2xvdWRrbXMnLFxuICAgICAgICBdO1xuICAgIH1cbiAgICBnZXRQcm9qZWN0SWQoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0aCAmJiAnZ2V0UHJvamVjdElkJyBpbiB0aGlzLmF1dGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGguZ2V0UHJvamVjdElkKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignQ2Fubm90IGRldGVybWluZSBwcm9qZWN0IElELicpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQ2Fubm90IGRldGVybWluZSBwcm9qZWN0IElELicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldElhbVBvbGljeShyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zT3JDYWxsYmFjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncyA9IG9wdGlvbnMub3RoZXJBcmdzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzID0gb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVyc1sneC1nb29nLXJlcXVlc3QtcGFyYW1zJ10gPVxuICAgICAgICAgICAgcm91dGluZ0hlYWRlci5mcm9tUGFyYW1zKHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogcmVxdWVzdC5yZXNvdXJjZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5nZXRJYW1Qb2xpY3kocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBzZXRJYW1Qb2xpY3kocmVxdWVzdCwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9uc09yQ2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MgPSBvcHRpb25zLm90aGVyQXJncyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5vdGhlckFyZ3MuaGVhZGVycyA9IG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnNbJ3gtZ29vZy1yZXF1ZXN0LXBhcmFtcyddID1cbiAgICAgICAgICAgIHJvdXRpbmdIZWFkZXIuZnJvbVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IHJlcXVlc3QucmVzb3VyY2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyQXBpQ2FsbHMuc2V0SWFtUG9saWN5KHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgdGVzdElhbVBlcm1pc3Npb25zKHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnNPckNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzID0gb3B0aW9ucy5vdGhlckFyZ3MgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgPSBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzWyd4LWdvb2ctcmVxdWVzdC1wYXJhbXMnXSA9XG4gICAgICAgICAgICByb3V0aW5nSGVhZGVyLmZyb21QYXJhbXMoe1xuICAgICAgICAgICAgICAgIHJlc291cmNlOiByZXF1ZXN0LnJlc291cmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLnRlc3RJYW1QZXJtaXNzaW9ucyhyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZSB0aGUgR1JQQyBjaGFubmVsIGFuZCBjbG9zZSB0aGUgY2xpZW50LlxuICAgICAqXG4gICAgICogVGhlIGNsaWVudCB3aWxsIG5vIGxvbmdlciBiZSB1c2FibGUgYW5kIGFsbCBmdXR1cmUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgaWYgKCF0aGlzLl90ZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pYW1Qb2xpY3lTdHViLnRoZW4oc3R1YiA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGVybWluYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3R1Yi5jbG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuSWFtQ2xpZW50ID0gSWFtQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWFtU2VydmljZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/iamService.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/google-gax/build/src/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.serializer = exports.warn = exports.ChannelCredentials = exports.makeUUID = exports.fallback = exports.protobufMinimal = exports.protobuf = exports.version = exports.createByteLengthFunction = exports.LocationsClient = exports.IamClient = exports.OperationsClient = exports.LocationProtos = exports.IamProtos = exports.operationsProtos = exports.routingHeader = exports.StreamType = exports.Status = exports.PathTemplate = exports.operation = exports.Operation = exports.GrpcClient = exports.GoogleProtoFilesRoot = exports.ClientStub = exports.GoogleError = exports.createMaxRetriesBackoffSettings = exports.createDefaultBackoffSettings = exports.createBackoffSettings = exports.createBundleOptions = exports.createRetryOptions = exports.RetryOptions = exports.constructSettings = exports.CallSettings = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = exports.BundleDescriptor = exports.createApiCall = exports.OngoingCall = exports.grpc = exports.GoogleAuth = void 0;\nexports.lro = lro;\nconst grpc = __webpack_require__(/*! @grpc/grpc-js */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\");\nexports.grpc = grpc;\nconst grpc_1 = __webpack_require__(/*! ./grpc */ \"(rsc)/./node_modules/google-gax/build/src/grpc.js\");\nconst IamProtos = __webpack_require__(/*! ../protos/iam_service */ \"(rsc)/./node_modules/google-gax/build/protos/iam_service.js\");\nexports.IamProtos = IamProtos;\nconst LocationProtos = __webpack_require__(/*! ../protos/locations */ \"(rsc)/./node_modules/google-gax/build/protos/locations.js\");\nexports.LocationProtos = LocationProtos;\nconst operationsProtos = __webpack_require__(/*! ../protos/operations */ \"(rsc)/./node_modules/google-gax/build/protos/operations.js\");\nexports.operationsProtos = operationsProtos;\nconst operationsClient = __webpack_require__(/*! ./operationsClient */ \"(rsc)/./node_modules/google-gax/build/src/operationsClient.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(rsc)/./node_modules/google-gax/build/src/routingHeader.js\");\nexports.routingHeader = routingHeader;\nvar google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\nObject.defineProperty(exports, \"GoogleAuth\", ({ enumerable: true, get: function () { return google_auth_library_1.GoogleAuth; } }));\nvar call_1 = __webpack_require__(/*! ./call */ \"(rsc)/./node_modules/google-gax/build/src/call.js\");\nObject.defineProperty(exports, \"OngoingCall\", ({ enumerable: true, get: function () { return call_1.OngoingCall; } }));\nvar createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(rsc)/./node_modules/google-gax/build/src/createApiCall.js\");\nObject.defineProperty(exports, \"createApiCall\", ({ enumerable: true, get: function () { return createApiCall_1.createApiCall; } }));\nvar descriptor_1 = __webpack_require__(/*! ./descriptor */ \"(rsc)/./node_modules/google-gax/build/src/descriptor.js\");\nObject.defineProperty(exports, \"BundleDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.BundleDescriptor; } }));\nObject.defineProperty(exports, \"LongrunningDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.LongrunningDescriptor; } }));\nObject.defineProperty(exports, \"PageDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.PageDescriptor; } }));\nObject.defineProperty(exports, \"StreamDescriptor\", ({ enumerable: true, get: function () { return descriptor_1.StreamDescriptor; } }));\nvar gax_1 = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nObject.defineProperty(exports, \"CallSettings\", ({ enumerable: true, get: function () { return gax_1.CallSettings; } }));\nObject.defineProperty(exports, \"constructSettings\", ({ enumerable: true, get: function () { return gax_1.constructSettings; } }));\nObject.defineProperty(exports, \"RetryOptions\", ({ enumerable: true, get: function () { return gax_1.RetryOptions; } }));\nObject.defineProperty(exports, \"createRetryOptions\", ({ enumerable: true, get: function () { return gax_1.createRetryOptions; } }));\nObject.defineProperty(exports, \"createBundleOptions\", ({ enumerable: true, get: function () { return gax_1.createBundleOptions; } }));\nObject.defineProperty(exports, \"createBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createBackoffSettings; } }));\nObject.defineProperty(exports, \"createDefaultBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createDefaultBackoffSettings; } }));\nObject.defineProperty(exports, \"createMaxRetriesBackoffSettings\", ({ enumerable: true, get: function () { return gax_1.createMaxRetriesBackoffSettings; } }));\nvar googleError_1 = __webpack_require__(/*! ./googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nObject.defineProperty(exports, \"GoogleError\", ({ enumerable: true, get: function () { return googleError_1.GoogleError; } }));\nvar grpc_2 = __webpack_require__(/*! ./grpc */ \"(rsc)/./node_modules/google-gax/build/src/grpc.js\");\nObject.defineProperty(exports, \"ClientStub\", ({ enumerable: true, get: function () { return grpc_2.ClientStub; } }));\nObject.defineProperty(exports, \"GoogleProtoFilesRoot\", ({ enumerable: true, get: function () { return grpc_2.GoogleProtoFilesRoot; } }));\nObject.defineProperty(exports, \"GrpcClient\", ({ enumerable: true, get: function () { return grpc_2.GrpcClient; } }));\nvar longrunning_1 = __webpack_require__(/*! ./longRunningCalls/longrunning */ \"(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\");\nObject.defineProperty(exports, \"Operation\", ({ enumerable: true, get: function () { return longrunning_1.Operation; } }));\nObject.defineProperty(exports, \"operation\", ({ enumerable: true, get: function () { return longrunning_1.operation; } }));\nvar pathTemplate_1 = __webpack_require__(/*! ./pathTemplate */ \"(rsc)/./node_modules/google-gax/build/src/pathTemplate.js\");\nObject.defineProperty(exports, \"PathTemplate\", ({ enumerable: true, get: function () { return pathTemplate_1.PathTemplate; } }));\nvar status_1 = __webpack_require__(/*! ./status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nObject.defineProperty(exports, \"Status\", ({ enumerable: true, get: function () { return status_1.Status; } }));\nvar streaming_1 = __webpack_require__(/*! ./streamingCalls/streaming */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nObject.defineProperty(exports, \"StreamType\", ({ enumerable: true, get: function () { return streaming_1.StreamType; } }));\nfunction lro(options) {\n    options = Object.assign({ scopes: lro.ALL_SCOPES }, options);\n    const gaxGrpc = new grpc_1.GrpcClient(options);\n    return new operationsClient.OperationsClientBuilder(gaxGrpc);\n}\nlro.SERVICE_ADDRESS = operationsClient.SERVICE_ADDRESS;\nlro.ALL_SCOPES = operationsClient.ALL_SCOPES;\nvar operationsClient_1 = __webpack_require__(/*! ./operationsClient */ \"(rsc)/./node_modules/google-gax/build/src/operationsClient.js\");\nObject.defineProperty(exports, \"OperationsClient\", ({ enumerable: true, get: function () { return operationsClient_1.OperationsClient; } }));\nvar iamService_1 = __webpack_require__(/*! ./iamService */ \"(rsc)/./node_modules/google-gax/build/src/iamService.js\");\nObject.defineProperty(exports, \"IamClient\", ({ enumerable: true, get: function () { return iamService_1.IamClient; } }));\nvar locationService_1 = __webpack_require__(/*! ./locationService */ \"(rsc)/./node_modules/google-gax/build/src/locationService.js\");\nObject.defineProperty(exports, \"LocationsClient\", ({ enumerable: true, get: function () { return locationService_1.LocationsClient; } }));\nexports.createByteLengthFunction = grpc_1.GrpcClient.createByteLengthFunction;\nexports.version = __webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/package.json\").version;\nconst protobuf = __webpack_require__(/*! protobufjs */ \"(rsc)/./node_modules/protobufjs/index.js\");\nexports.protobuf = protobuf;\nexports.protobufMinimal = __webpack_require__(/*! protobufjs/minimal */ \"(rsc)/./node_modules/protobufjs/minimal.js\");\nconst fallback = __webpack_require__(/*! ./fallback */ \"(rsc)/./node_modules/google-gax/build/src/fallback.js\");\nexports.fallback = fallback;\nvar util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/google-gax/build/src/util.js\");\nObject.defineProperty(exports, \"makeUUID\", ({ enumerable: true, get: function () { return util_1.makeUUID; } }));\nvar grpc_js_1 = __webpack_require__(/*! @grpc/grpc-js */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\");\nObject.defineProperty(exports, \"ChannelCredentials\", ({ enumerable: true, get: function () { return grpc_js_1.ChannelCredentials; } }));\nvar warnings_1 = __webpack_require__(/*! ./warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nObject.defineProperty(exports, \"warn\", ({ enumerable: true, get: function () { return warnings_1.warn; } }));\nconst serializer = __webpack_require__(/*! proto3-json-serializer */ \"(rsc)/./node_modules/proto3-json-serializer/build/src/index.js\");\nexports.serializer = serializer;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCLEdBQUcsWUFBWSxHQUFHLDBCQUEwQixHQUFHLGdCQUFnQixHQUFHLGdCQUFnQixHQUFHLHVCQUF1QixHQUFHLGdCQUFnQixHQUFHLGVBQWUsR0FBRyxnQ0FBZ0MsR0FBRyx1QkFBdUIsR0FBRyxpQkFBaUIsR0FBRyx3QkFBd0IsR0FBRyxzQkFBc0IsR0FBRyxpQkFBaUIsR0FBRyx3QkFBd0IsR0FBRyxxQkFBcUIsR0FBRyxrQkFBa0IsR0FBRyxjQUFjLEdBQUcsb0JBQW9CLEdBQUcsaUJBQWlCLEdBQUcsaUJBQWlCLEdBQUcsa0JBQWtCLEdBQUcsNEJBQTRCLEdBQUcsa0JBQWtCLEdBQUcsbUJBQW1CLEdBQUcsdUNBQXVDLEdBQUcsb0NBQW9DLEdBQUcsNkJBQTZCLEdBQUcsMkJBQTJCLEdBQUcsMEJBQTBCLEdBQUcsb0JBQW9CLEdBQUcseUJBQXlCLEdBQUcsb0JBQW9CLEdBQUcsd0JBQXdCLEdBQUcsc0JBQXNCLEdBQUcsNkJBQTZCLEdBQUcsd0JBQXdCLEdBQUcscUJBQXFCLEdBQUcsbUJBQW1CLEdBQUcsWUFBWSxHQUFHLGtCQUFrQjtBQUMxK0IsV0FBVztBQUNYLGFBQWEsbUJBQU8sQ0FBQyxvR0FBZTtBQUNwQyxZQUFZO0FBQ1osZUFBZSxtQkFBTyxDQUFDLGlFQUFRO0FBQy9CLGtCQUFrQixtQkFBTyxDQUFDLDBGQUF1QjtBQUNqRCxpQkFBaUI7QUFDakIsdUJBQXVCLG1CQUFPLENBQUMsc0ZBQXFCO0FBQ3BELHNCQUFzQjtBQUN0Qix5QkFBeUIsbUJBQU8sQ0FBQyx3RkFBc0I7QUFDdkQsd0JBQXdCO0FBQ3hCLHlCQUF5QixtQkFBTyxDQUFDLHlGQUFvQjtBQUNyRCxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBaUI7QUFDL0MscUJBQXFCO0FBQ3JCLDRCQUE0QixtQkFBTyxDQUFDLHdGQUFxQjtBQUN6RCw4Q0FBNkMsRUFBRSxxQ0FBcUMsNENBQTRDLEVBQUM7QUFDakksYUFBYSxtQkFBTyxDQUFDLGlFQUFRO0FBQzdCLCtDQUE4QyxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUNwSCxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBaUI7QUFDL0MsaURBQWdELEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQ2pJLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFjO0FBQ3pDLG9EQUFtRCxFQUFFLHFDQUFxQyx5Q0FBeUMsRUFBQztBQUNwSSx5REFBd0QsRUFBRSxxQ0FBcUMsOENBQThDLEVBQUM7QUFDOUksa0RBQWlELEVBQUUscUNBQXFDLHVDQUF1QyxFQUFDO0FBQ2hJLG9EQUFtRCxFQUFFLHFDQUFxQyx5Q0FBeUMsRUFBQztBQUNwSSxZQUFZLG1CQUFPLENBQUMsK0RBQU87QUFDM0IsZ0RBQStDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ3JILHFEQUFvRCxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUMvSCxnREFBK0MsRUFBRSxxQ0FBcUMsOEJBQThCLEVBQUM7QUFDckgsc0RBQXFELEVBQUUscUNBQXFDLG9DQUFvQyxFQUFDO0FBQ2pJLHVEQUFzRCxFQUFFLHFDQUFxQyxxQ0FBcUMsRUFBQztBQUNuSSx5REFBd0QsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDdkksZ0VBQStELEVBQUUscUNBQXFDLDhDQUE4QyxFQUFDO0FBQ3JKLG1FQUFrRSxFQUFFLHFDQUFxQyxpREFBaUQsRUFBQztBQUMzSixvQkFBb0IsbUJBQU8sQ0FBQywrRUFBZTtBQUMzQywrQ0FBOEMsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDM0gsYUFBYSxtQkFBTyxDQUFDLGlFQUFRO0FBQzdCLDhDQUE2QyxFQUFFLHFDQUFxQyw2QkFBNkIsRUFBQztBQUNsSCx3REFBdUQsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDdEksOENBQTZDLEVBQUUscUNBQXFDLDZCQUE2QixFQUFDO0FBQ2xILG9CQUFvQixtQkFBTyxDQUFDLGlIQUFnQztBQUM1RCw2Q0FBNEMsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDdkgsNkNBQTRDLEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQ3ZILHFCQUFxQixtQkFBTyxDQUFDLGlGQUFnQjtBQUM3QyxnREFBK0MsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDOUgsZUFBZSxtQkFBTyxDQUFDLHFFQUFVO0FBQ2pDLDBDQUF5QyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUM1RyxrQkFBa0IsbUJBQU8sQ0FBQyx5R0FBNEI7QUFDdEQsOENBQTZDLEVBQUUscUNBQXFDLGtDQUFrQyxFQUFDO0FBQ3ZIO0FBQ0EsOEJBQThCLHdCQUF3QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMseUZBQW9CO0FBQ3JELG9EQUFtRCxFQUFFLHFDQUFxQywrQ0FBK0MsRUFBQztBQUMxSSxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBYztBQUN6Qyw2Q0FBNEMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDdEgsd0JBQXdCLG1CQUFPLENBQUMsdUZBQW1CO0FBQ25ELG1EQUFrRCxFQUFFLHFDQUFxQyw2Q0FBNkMsRUFBQztBQUN2SSxnQ0FBZ0M7QUFDaEMsdUhBQXVEO0FBQ3ZELGlCQUFpQixtQkFBTyxDQUFDLDREQUFZO0FBQ3JDLGdCQUFnQjtBQUNoQixxSEFBdUQ7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMseUVBQVk7QUFDckMsZ0JBQWdCO0FBQ2hCLGFBQWEsbUJBQU8sQ0FBQyxpRUFBUTtBQUM3Qiw0Q0FBMkMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDOUcsZ0JBQWdCLG1CQUFPLENBQUMsb0dBQWU7QUFDdkMsc0RBQXFELEVBQUUscUNBQXFDLHdDQUF3QyxFQUFDO0FBQ3JJLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3JDLHdDQUF1QyxFQUFFLHFDQUFxQywyQkFBMkIsRUFBQztBQUMxRyxtQkFBbUIsbUJBQU8sQ0FBQyw4RkFBd0I7QUFDbkQsa0JBQWtCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2luZGV4LmpzPzI5ODkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNlcmlhbGl6ZXIgPSBleHBvcnRzLndhcm4gPSBleHBvcnRzLkNoYW5uZWxDcmVkZW50aWFscyA9IGV4cG9ydHMubWFrZVVVSUQgPSBleHBvcnRzLmZhbGxiYWNrID0gZXhwb3J0cy5wcm90b2J1Zk1pbmltYWwgPSBleHBvcnRzLnByb3RvYnVmID0gZXhwb3J0cy52ZXJzaW9uID0gZXhwb3J0cy5jcmVhdGVCeXRlTGVuZ3RoRnVuY3Rpb24gPSBleHBvcnRzLkxvY2F0aW9uc0NsaWVudCA9IGV4cG9ydHMuSWFtQ2xpZW50ID0gZXhwb3J0cy5PcGVyYXRpb25zQ2xpZW50ID0gZXhwb3J0cy5Mb2NhdGlvblByb3RvcyA9IGV4cG9ydHMuSWFtUHJvdG9zID0gZXhwb3J0cy5vcGVyYXRpb25zUHJvdG9zID0gZXhwb3J0cy5yb3V0aW5nSGVhZGVyID0gZXhwb3J0cy5TdHJlYW1UeXBlID0gZXhwb3J0cy5TdGF0dXMgPSBleHBvcnRzLlBhdGhUZW1wbGF0ZSA9IGV4cG9ydHMub3BlcmF0aW9uID0gZXhwb3J0cy5PcGVyYXRpb24gPSBleHBvcnRzLkdycGNDbGllbnQgPSBleHBvcnRzLkdvb2dsZVByb3RvRmlsZXNSb290ID0gZXhwb3J0cy5DbGllbnRTdHViID0gZXhwb3J0cy5Hb29nbGVFcnJvciA9IGV4cG9ydHMuY3JlYXRlTWF4UmV0cmllc0JhY2tvZmZTZXR0aW5ncyA9IGV4cG9ydHMuY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5ncyA9IGV4cG9ydHMuY3JlYXRlQmFja29mZlNldHRpbmdzID0gZXhwb3J0cy5jcmVhdGVCdW5kbGVPcHRpb25zID0gZXhwb3J0cy5jcmVhdGVSZXRyeU9wdGlvbnMgPSBleHBvcnRzLlJldHJ5T3B0aW9ucyA9IGV4cG9ydHMuY29uc3RydWN0U2V0dGluZ3MgPSBleHBvcnRzLkNhbGxTZXR0aW5ncyA9IGV4cG9ydHMuU3RyZWFtRGVzY3JpcHRvciA9IGV4cG9ydHMuUGFnZURlc2NyaXB0b3IgPSBleHBvcnRzLkxvbmdydW5uaW5nRGVzY3JpcHRvciA9IGV4cG9ydHMuQnVuZGxlRGVzY3JpcHRvciA9IGV4cG9ydHMuY3JlYXRlQXBpQ2FsbCA9IGV4cG9ydHMuT25nb2luZ0NhbGwgPSBleHBvcnRzLmdycGMgPSBleHBvcnRzLkdvb2dsZUF1dGggPSB2b2lkIDA7XG5leHBvcnRzLmxybyA9IGxybztcbmNvbnN0IGdycGMgPSByZXF1aXJlKFwiQGdycGMvZ3JwYy1qc1wiKTtcbmV4cG9ydHMuZ3JwYyA9IGdycGM7XG5jb25zdCBncnBjXzEgPSByZXF1aXJlKFwiLi9ncnBjXCIpO1xuY29uc3QgSWFtUHJvdG9zID0gcmVxdWlyZShcIi4uL3Byb3Rvcy9pYW1fc2VydmljZVwiKTtcbmV4cG9ydHMuSWFtUHJvdG9zID0gSWFtUHJvdG9zO1xuY29uc3QgTG9jYXRpb25Qcm90b3MgPSByZXF1aXJlKFwiLi4vcHJvdG9zL2xvY2F0aW9uc1wiKTtcbmV4cG9ydHMuTG9jYXRpb25Qcm90b3MgPSBMb2NhdGlvblByb3RvcztcbmNvbnN0IG9wZXJhdGlvbnNQcm90b3MgPSByZXF1aXJlKFwiLi4vcHJvdG9zL29wZXJhdGlvbnNcIik7XG5leHBvcnRzLm9wZXJhdGlvbnNQcm90b3MgPSBvcGVyYXRpb25zUHJvdG9zO1xuY29uc3Qgb3BlcmF0aW9uc0NsaWVudCA9IHJlcXVpcmUoXCIuL29wZXJhdGlvbnNDbGllbnRcIik7XG5jb25zdCByb3V0aW5nSGVhZGVyID0gcmVxdWlyZShcIi4vcm91dGluZ0hlYWRlclwiKTtcbmV4cG9ydHMucm91dGluZ0hlYWRlciA9IHJvdXRpbmdIZWFkZXI7XG52YXIgZ29vZ2xlX2F1dGhfbGlicmFyeV8xID0gcmVxdWlyZShcImdvb2dsZS1hdXRoLWxpYnJhcnlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHb29nbGVBdXRoXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnb29nbGVfYXV0aF9saWJyYXJ5XzEuR29vZ2xlQXV0aDsgfSB9KTtcbnZhciBjYWxsXzEgPSByZXF1aXJlKFwiLi9jYWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT25nb2luZ0NhbGxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxfMS5PbmdvaW5nQ2FsbDsgfSB9KTtcbnZhciBjcmVhdGVBcGlDYWxsXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVBcGlDYWxsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlQXBpQ2FsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlQXBpQ2FsbF8xLmNyZWF0ZUFwaUNhbGw7IH0gfSk7XG52YXIgZGVzY3JpcHRvcl8xID0gcmVxdWlyZShcIi4vZGVzY3JpcHRvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJ1bmRsZURlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5CdW5kbGVEZXNjcmlwdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTG9uZ3J1bm5pbmdEZXNjcmlwdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZXNjcmlwdG9yXzEuTG9uZ3J1bm5pbmdEZXNjcmlwdG9yOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGFnZURlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5QYWdlRGVzY3JpcHRvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0cmVhbURlc2NyaXB0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlc2NyaXB0b3JfMS5TdHJlYW1EZXNjcmlwdG9yOyB9IH0pO1xudmFyIGdheF8xID0gcmVxdWlyZShcIi4vZ2F4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2FsbFNldHRpbmdzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnYXhfMS5DYWxsU2V0dGluZ3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25zdHJ1Y3RTZXR0aW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY29uc3RydWN0U2V0dGluZ3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZXRyeU9wdGlvbnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdheF8xLlJldHJ5T3B0aW9uczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZVJldHJ5T3B0aW9uc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY3JlYXRlUmV0cnlPcHRpb25zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlQnVuZGxlT3B0aW9uc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY3JlYXRlQnVuZGxlT3B0aW9uczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZUJhY2tvZmZTZXR0aW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY3JlYXRlQmFja29mZlNldHRpbmdzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5nc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2F4XzEuY3JlYXRlRGVmYXVsdEJhY2tvZmZTZXR0aW5nczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZU1heFJldHJpZXNCYWNrb2ZmU2V0dGluZ3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdheF8xLmNyZWF0ZU1heFJldHJpZXNCYWNrb2ZmU2V0dGluZ3M7IH0gfSk7XG52YXIgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuL2dvb2dsZUVycm9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR29vZ2xlRXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3I7IH0gfSk7XG52YXIgZ3JwY18yID0gcmVxdWlyZShcIi4vZ3JwY1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNsaWVudFN0dWJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdycGNfMi5DbGllbnRTdHViOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR29vZ2xlUHJvdG9GaWxlc1Jvb3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdycGNfMi5Hb29nbGVQcm90b0ZpbGVzUm9vdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdycGNDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdycGNfMi5HcnBjQ2xpZW50OyB9IH0pO1xudmFyIGxvbmdydW5uaW5nXzEgPSByZXF1aXJlKFwiLi9sb25nUnVubmluZ0NhbGxzL2xvbmdydW5uaW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiT3BlcmF0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb25ncnVubmluZ18xLk9wZXJhdGlvbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm9wZXJhdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9uZ3J1bm5pbmdfMS5vcGVyYXRpb247IH0gfSk7XG52YXIgcGF0aFRlbXBsYXRlXzEgPSByZXF1aXJlKFwiLi9wYXRoVGVtcGxhdGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQYXRoVGVtcGxhdGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhdGhUZW1wbGF0ZV8xLlBhdGhUZW1wbGF0ZTsgfSB9KTtcbnZhciBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuL3N0YXR1c1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlN0YXR1c1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdHVzXzEuU3RhdHVzOyB9IH0pO1xudmFyIHN0cmVhbWluZ18xID0gcmVxdWlyZShcIi4vc3RyZWFtaW5nQ2FsbHMvc3RyZWFtaW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU3RyZWFtVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyZWFtaW5nXzEuU3RyZWFtVHlwZTsgfSB9KTtcbmZ1bmN0aW9uIGxybyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBzY29wZXM6IGxyby5BTExfU0NPUEVTIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IGdheEdycGMgPSBuZXcgZ3JwY18xLkdycGNDbGllbnQob3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBvcGVyYXRpb25zQ2xpZW50Lk9wZXJhdGlvbnNDbGllbnRCdWlsZGVyKGdheEdycGMpO1xufVxubHJvLlNFUlZJQ0VfQUREUkVTUyA9IG9wZXJhdGlvbnNDbGllbnQuU0VSVklDRV9BRERSRVNTO1xubHJvLkFMTF9TQ09QRVMgPSBvcGVyYXRpb25zQ2xpZW50LkFMTF9TQ09QRVM7XG52YXIgb3BlcmF0aW9uc0NsaWVudF8xID0gcmVxdWlyZShcIi4vb3BlcmF0aW9uc0NsaWVudFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk9wZXJhdGlvbnNDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9wZXJhdGlvbnNDbGllbnRfMS5PcGVyYXRpb25zQ2xpZW50OyB9IH0pO1xudmFyIGlhbVNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2lhbVNlcnZpY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJJYW1DbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlhbVNlcnZpY2VfMS5JYW1DbGllbnQ7IH0gfSk7XG52YXIgbG9jYXRpb25TZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdGlvblNlcnZpY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMb2NhdGlvbnNDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvY2F0aW9uU2VydmljZV8xLkxvY2F0aW9uc0NsaWVudDsgfSB9KTtcbmV4cG9ydHMuY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uID0gZ3JwY18xLkdycGNDbGllbnQuY3JlYXRlQnl0ZUxlbmd0aEZ1bmN0aW9uO1xuZXhwb3J0cy52ZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbmNvbnN0IHByb3RvYnVmID0gcmVxdWlyZShcInByb3RvYnVmanNcIik7XG5leHBvcnRzLnByb3RvYnVmID0gcHJvdG9idWY7XG5leHBvcnRzLnByb3RvYnVmTWluaW1hbCA9IHJlcXVpcmUoXCJwcm90b2J1ZmpzL21pbmltYWxcIik7XG5jb25zdCBmYWxsYmFjayA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrXCIpO1xuZXhwb3J0cy5mYWxsYmFjayA9IGZhbGxiYWNrO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJtYWtlVVVJRFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbF8xLm1ha2VVVUlEOyB9IH0pO1xudmFyIGdycGNfanNfMSA9IHJlcXVpcmUoXCJAZ3JwYy9ncnBjLWpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hhbm5lbENyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBncnBjX2pzXzEuQ2hhbm5lbENyZWRlbnRpYWxzOyB9IH0pO1xudmFyIHdhcm5pbmdzXzEgPSByZXF1aXJlKFwiLi93YXJuaW5nc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndhcm5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdhcm5pbmdzXzEud2FybjsgfSB9KTtcbmNvbnN0IHNlcmlhbGl6ZXIgPSByZXF1aXJlKFwicHJvdG8zLWpzb24tc2VyaWFsaXplclwiKTtcbmV4cG9ydHMuc2VyaWFsaXplciA9IHNlcmlhbGl6ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/locationService.js":
/*!**************************************************************!*\
  !*** ./node_modules/google-gax/build/src/locationService.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LocationsClient = void 0;\n/* global window */\nconst gax = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst warnings_1 = __webpack_require__(/*! ./warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(rsc)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst routingHeader = __webpack_require__(/*! ./routingHeader */ \"(rsc)/./node_modules/google-gax/build/src/routingHeader.js\");\nconst pageDescriptor_1 = __webpack_require__(/*! ./paginationCalls/pageDescriptor */ \"(rsc)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js\");\nconst jsonProtos = __webpack_require__(/*! ../protos/locations.json */ \"(rsc)/./node_modules/google-gax/build/protos/locations.json\");\n/**\n * This file defines retry strategy and timeouts for all API methods in this library.\n */\nconst gapicConfig = __webpack_require__(/*! ./locations_client_config.json */ \"(rsc)/./node_modules/google-gax/build/src/locations_client_config.json\");\nconst version = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/package.json\").version);\n/**\n *  Google Cloud Locations Client.\n *  This is manually written for providing methods [listLocations, getLocations] to the generated client.\n */\nclass LocationsClient {\n    /**\n     * Construct an instance of LocationsClient.\n     *\n     * @param {object} [options] - The configuration object.\n     * The options accepted by the constructor are described in detail\n     * in [this document](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#creating-the-client-instance).\n     * The common options are:\n     * @param {object} [options.credentials] - Credentials object.\n     * @param {string} [options.credentials.client_email]\n     * @param {string} [options.credentials.private_key]\n     * @param {string} [options.email] - Account email address. Required when\n     *     using a .pem or .p12 keyFilename.\n     * @param {string} [options.keyFilename] - Full path to the a .json, .pem, or\n     *     .p12 key downloaded from the Google Developers Console. If you provide\n     *     a path to a JSON file, the projectId option below is not necessary.\n     *     NOTE: .pem and .p12 require you to specify options.email as well.\n     * @param {number} [options.port] - The port on which to connect to\n     *     the remote host.\n     * @param {string} [options.projectId] - The project ID from the Google\n     *     Developer's Console, e.g. 'grape-spaceship-123'. We will also check\n     *     the environment variable GCLOUD_PROJECT for your project ID. If your\n     *     app is running in an environment which supports\n     *     {@link https://developers.google.com/identity/protocols/application-default-credentials Application Default Credentials},\n     *     your project ID will be detected automatically.\n     * @param {string} [options.apiEndpoint] - The domain name of the\n     *     API remote host.\n     * @param {gax.ClientConfig} [options.clientConfig] - Client configuration override.\n     *     Follows the structure of {@link gapicConfig}.\n     * @param {boolean} [options.fallback] - Use HTTP fallback mode.\n     *     In fallback mode, a special browser-compatible transport implementation is used\n     *     instead of gRPC transport. In browser context (if the `window` object is defined)\n     *     the fallback mode is enabled automatically; set `options.fallback` to `false`\n     *     if you need to override this behavior.\n     */\n    constructor(gaxGrpc, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    opts) {\n        var _a, _b;\n        this._terminated = false;\n        this.descriptors = {\n            page: {},\n            stream: {},\n            longrunning: {},\n            batching: {},\n        };\n        // Ensure that options include all the required fields.\n        this.gaxGrpc = gaxGrpc;\n        const staticMembers = this.constructor;\n        const servicePath = (opts === null || opts === void 0 ? void 0 : opts.servicePath) || (opts === null || opts === void 0 ? void 0 : opts.apiEndpoint) || staticMembers.servicePath;\n        this._providedCustomServicePath = !!((opts === null || opts === void 0 ? void 0 : opts.servicePath) || (opts === null || opts === void 0 ? void 0 : opts.apiEndpoint));\n        const port = (opts === null || opts === void 0 ? void 0 : opts.port) || staticMembers.port;\n        const clientConfig = (_a = opts === null || opts === void 0 ? void 0 : opts.clientConfig) !== null && _a !== void 0 ? _a : {};\n        const fallback = (_b = opts === null || opts === void 0 ? void 0 : opts.fallback) !== null && _b !== void 0 ? _b : (typeof window !== 'undefined' && typeof (window === null || window === void 0 ? void 0 : window.fetch) === 'function');\n        opts = Object.assign({ servicePath, port, clientConfig, fallback }, opts);\n        // If scopes are unset in options and we're connecting to a non-default endpoint, set scopes just in case.\n        if (servicePath !== staticMembers.servicePath && !('scopes' in opts)) {\n            opts['scopes'] = staticMembers.scopes;\n        }\n        // Save options to use in initialize() method.\n        this._opts = opts;\n        // Save the auth object to the client, for use by other methods.\n        this.auth = gaxGrpc.auth;\n        // Set the default scopes in auth client if needed.\n        if (servicePath === staticMembers.servicePath) {\n            this.auth.defaultScopes = staticMembers.scopes;\n        }\n        // Determine the client header string.\n        const clientHeader = [`gax/${version}`, `gapic/${version}`];\n        if (typeof process !== 'undefined' && 'versions' in process) {\n            clientHeader.push(`gl-node/${process.versions.node}`);\n        }\n        else {\n            clientHeader.push(`gl-web/${version}`);\n        }\n        if (!opts.fallback) {\n            clientHeader.push(`grpc/${gaxGrpc.grpcVersion}`);\n        }\n        else if (opts.fallback === 'rest') {\n            clientHeader.push(`rest/${gaxGrpc.grpcVersion}`);\n        }\n        if (opts.libName && opts.libVersion) {\n            clientHeader.push(`${opts.libName}/${opts.libVersion}`);\n        }\n        // Load the applicable protos.\n        this._protos = gaxGrpc.loadProtoJSON(jsonProtos);\n        // Some of the methods on this service return \"paged\" results,\n        // (e.g. 50 results at a time, with tokens to get subsequent\n        // pages). Denote the keys used for pagination and results.\n        this.descriptors.page = {\n            listLocations: new pageDescriptor_1.PageDescriptor('pageToken', 'nextPageToken', 'locations'),\n        };\n        // Put together the default options sent with requests.\n        this._defaults = gaxGrpc.constructSettings('google.cloud.location.Locations', gapicConfig, opts.clientConfig || {}, { 'x-goog-api-client': clientHeader.join(' ') });\n        // Set up a dictionary of \"inner API calls\"; the core implementation\n        // of calling the API is handled in `google-gax`, with this code\n        // merely providing the destination and request information.\n        this.innerApiCalls = {};\n        // Add a warn function to the client constructor so it can be easily tested.\n        this.warn = warnings_1.warn;\n    }\n    /**\n     * Initialize the client.\n     * Performs asynchronous operations (such as authentication) and prepares the client.\n     * This function will be called automatically when any class method is called for the\n     * first time, but if you need to initialize it before calling an actual method,\n     * feel free to call initialize() directly.\n     *\n     * You can await on this method if you want to make sure the client is initialized.\n     *\n     * @returns {Promise} A promise that resolves to an authenticated service stub.\n     */\n    initialize() {\n        // If the client stub promise is already initialized, return immediately.\n        if (this.locationsStub) {\n            return this.locationsStub;\n        }\n        // Put together the \"service stub\" for\n        // google.cloud.location.Locations.\n        this.locationsStub = this.gaxGrpc.createStub(this._opts.fallback\n            ? this._protos.lookupService('google.cloud.location.Locations')\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this._protos.google.cloud.location.Locations, this._opts, this._providedCustomServicePath);\n        // Iterate over each of the methods that the service provides\n        // and create an API call method for each.\n        const locationsStubMethods = ['listLocations', 'getLocation'];\n        for (const methodName of locationsStubMethods) {\n            const callPromise = this.locationsStub.then(stub => (...args) => {\n                if (this._terminated) {\n                    return Promise.reject('The client has already been closed.');\n                }\n                const func = stub[methodName];\n                return func.apply(stub, args);\n            }, (err) => () => {\n                throw err;\n            });\n            const descriptor = this.descriptors.page[methodName] || undefined;\n            const apiCall = (0, createApiCall_1.createApiCall)(callPromise, this._defaults[methodName], descriptor);\n            this.innerApiCalls[methodName] = apiCall;\n        }\n        return this.locationsStub;\n    }\n    /**\n     * The DNS address for this API service.\n     * @returns {string} The DNS address for this service.\n     */\n    static get servicePath() {\n        return 'cloud.googleapis.com';\n    }\n    /**\n     * The DNS address for this API service - same as servicePath(),\n     * exists for compatibility reasons.\n     * @returns {string} The DNS address for this service.\n     */\n    static get apiEndpoint() {\n        return 'cloud.googleapis.com';\n    }\n    /**\n     * The port for this API service.\n     * @returns {number} The default port for this service.\n     */\n    static get port() {\n        return 443;\n    }\n    /**\n     * The scopes needed to make gRPC calls for every method defined\n     * in this service.\n     * @returns {string[]} List of default scopes.\n     */\n    static get scopes() {\n        return ['https://www.googleapis.com/auth/cloud-platform'];\n    }\n    getProjectId(callback) {\n        if (callback) {\n            this.auth.getProjectId(callback);\n            return;\n        }\n        return this.auth.getProjectId();\n    }\n    /**\n     * Gets information about a location.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   Resource name for the location.\n     * @param {object} [options]\n     *   Call options. See {@link https://googleapis.dev/nodejs/google-gax/latest/interfaces/CallOptions.html|CallOptions} for more details.\n     * @returns {Promise} - The promise which resolves to an array.\n     *   The first element of the array is an object representing [Location]{@link google.cloud.location.Location}.\n     *   Please see the\n     *   [documentation](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#regular-methods)\n     *   for more details and examples.\n     * @example\n     * const [response] = await client.getLocation(request);\n     */\n    getLocation(request, optionsOrCallback, callback) {\n        request = request || {};\n        let options;\n        if (typeof optionsOrCallback === 'function' && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                name: request.name || '',\n            });\n        this.initialize();\n        return this.innerApiCalls.getLocation(request, options, callback);\n    }\n    /**\n     * Lists information about the supported locations for this service.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The resource that owns the locations collection, if applicable.\n     * @param {string} request.filter\n     *   The standard list filter.\n     * @param {number} request.pageSize\n     *   The standard list page size.\n     * @param {string} request.pageToken\n     *   The standard list page token.\n     * @param {object} [options]\n     *   Call options. See {@link https://googleapis.dev/nodejs/google-gax/latest/interfaces/CallOptions.html|CallOptions} for more details.\n     * @returns {Promise} - The promise which resolves to an array.\n     *   The first element of the array is Array of [Location]{@link google.cloud.location.Location}.\n     *   The client library will perform auto-pagination by default: it will call the API as many\n     *   times as needed and will merge results from all the pages into this array.\n     *   Note that it can affect your quota.\n     *   We recommend using `listLocationsAsync()`\n     *   method described below for async iteration which you can stop as needed.\n     *   Please see the\n     *   [documentation](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination)\n     *   for more details and examples.\n     */\n    listLocations(request, optionsOrCallback, callback) {\n        request = request || {};\n        let options;\n        if (typeof optionsOrCallback === 'function' && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                name: request.name || '',\n            });\n        this.initialize();\n        return this.innerApiCalls.listLocations(request, options, callback);\n    }\n    /**\n     * Equivalent to `listLocations`, but returns an iterable object.\n     *\n     * `for`-`await`-`of` syntax is used with the iterable to get response elements on-demand.\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The resource that owns the locations collection, if applicable.\n     * @param {string} request.filter\n     *   The standard list filter.\n     * @param {number} request.pageSize\n     *   The standard list page size.\n     * @param {string} request.pageToken\n     *   The standard list page token.\n     * @param {object} [options]\n     *   Call options. See {@link https://googleapis.dev/nodejs/google-gax/latest/interfaces/CallOptions.html|CallOptions} for more details.\n     * @returns {Object}\n     *   An iterable Object that allows [async iteration](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols).\n     *   When you iterate the returned iterable, each element will be an object representing\n     *   [Location]{@link google.cloud.location.Location}. The API will be called under the hood as needed, once per the page,\n     *   so you can stop the iteration when you don't need more results.\n     *   Please see the\n     *   [documentation](https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination)\n     *   for more details and examples.\n     * @example\n     * const iterable = client.listLocationsAsync(request);\n     * for await (const response of iterable) {\n     *   // process response\n     * }\n     */\n    listLocationsAsync(request, options) {\n        request = request || {};\n        options = options || {};\n        options.otherArgs = options.otherArgs || {};\n        options.otherArgs.headers = options.otherArgs.headers || {};\n        options.otherArgs.headers['x-goog-request-params'] =\n            routingHeader.fromParams({\n                name: request.name || '',\n            });\n        options = options || {};\n        const callSettings = new gax.CallSettings(options);\n        this.initialize();\n        return this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls['listLocations'], request, callSettings);\n    }\n    /**\n     * Terminate the gRPC channel and close the client.\n     *\n     * The client will no longer be usable and all future behavior is undefined.\n     * @returns {Promise} A promise that resolves when the client is closed.\n     */\n    close() {\n        this.initialize();\n        if (!this._terminated) {\n            return this.locationsStub.then(stub => {\n                this._terminated = true;\n                stub.close();\n            });\n        }\n        return Promise.resolve();\n    }\n}\nexports.LocationsClient = LocationsClient;\n//# sourceMappingURL=locationService.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9jYXRpb25TZXJ2aWNlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCO0FBQ0EsWUFBWSxtQkFBTyxDQUFDLCtEQUFPO0FBQzNCLG1CQUFtQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3ZDLHdCQUF3QixtQkFBTyxDQUFDLG1GQUFpQjtBQUNqRCxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBaUI7QUFDL0MseUJBQXlCLG1CQUFPLENBQUMscUhBQWtDO0FBQ25FLG1CQUFtQixtQkFBTyxDQUFDLDZGQUEwQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQU8sQ0FBQyw4R0FBZ0M7QUFDNUQsZ0JBQWdCLHVHQUFxQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1SEFBdUg7QUFDbkk7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLGtCQUFrQjtBQUNqQyxxQ0FBcUMsa0JBQWtCO0FBQ3ZELGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsc0JBQXNCO0FBQ3RCLDJCQUEyQjtBQUMzQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDJDQUEyQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxRQUFRLFlBQVksUUFBUTtBQUNqRTtBQUNBLHlDQUF5QyxzQkFBc0I7QUFDL0Q7QUFDQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQSxzQ0FBc0Msb0JBQW9CO0FBQzFEO0FBQ0E7QUFDQSxpQ0FBaUMsYUFBYSxHQUFHLGdCQUFnQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSCxJQUFJLDZDQUE2QztBQUMzSyxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLDRCQUE0QiwrRkFBK0Y7QUFDM0gsaUJBQWlCLFNBQVM7QUFDMUIsNkVBQTZFLHFDQUFxQztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQSxlQUFlLFFBQVE7QUFDdkIsNEJBQTRCLCtGQUErRjtBQUMzSCxpQkFBaUIsU0FBUztBQUMxQiwrREFBK0QscUNBQXFDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLDRCQUE0QiwrRkFBK0Y7QUFDM0gsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxvQkFBb0IscUNBQXFDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb2NhdGlvblNlcnZpY2UuanM/NDZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2NhdGlvbnNDbGllbnQgPSB2b2lkIDA7XG4vKiBnbG9iYWwgd2luZG93ICovXG5jb25zdCBnYXggPSByZXF1aXJlKFwiLi9nYXhcIik7XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4vd2FybmluZ3NcIik7XG5jb25zdCBjcmVhdGVBcGlDYWxsXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVBcGlDYWxsXCIpO1xuY29uc3Qgcm91dGluZ0hlYWRlciA9IHJlcXVpcmUoXCIuL3JvdXRpbmdIZWFkZXJcIik7XG5jb25zdCBwYWdlRGVzY3JpcHRvcl8xID0gcmVxdWlyZShcIi4vcGFnaW5hdGlvbkNhbGxzL3BhZ2VEZXNjcmlwdG9yXCIpO1xuY29uc3QganNvblByb3RvcyA9IHJlcXVpcmUoXCIuLi9wcm90b3MvbG9jYXRpb25zLmpzb25cIik7XG4vKipcbiAqIFRoaXMgZmlsZSBkZWZpbmVzIHJldHJ5IHN0cmF0ZWd5IGFuZCB0aW1lb3V0cyBmb3IgYWxsIEFQSSBtZXRob2RzIGluIHRoaXMgbGlicmFyeS5cbiAqL1xuY29uc3QgZ2FwaWNDb25maWcgPSByZXF1aXJlKFwiLi9sb2NhdGlvbnNfY2xpZW50X2NvbmZpZy5qc29uXCIpO1xuY29uc3QgdmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG4vKipcbiAqICBHb29nbGUgQ2xvdWQgTG9jYXRpb25zIENsaWVudC5cbiAqICBUaGlzIGlzIG1hbnVhbGx5IHdyaXR0ZW4gZm9yIHByb3ZpZGluZyBtZXRob2RzIFtsaXN0TG9jYXRpb25zLCBnZXRMb2NhdGlvbnNdIHRvIHRoZSBnZW5lcmF0ZWQgY2xpZW50LlxuICovXG5jbGFzcyBMb2NhdGlvbnNDbGllbnQge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdCBhbiBpbnN0YW5jZSBvZiBMb2NhdGlvbnNDbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIFRoZSBvcHRpb25zIGFjY2VwdGVkIGJ5IHRoZSBjb25zdHJ1Y3RvciBhcmUgZGVzY3JpYmVkIGluIGRldGFpbFxuICAgICAqIGluIFt0aGlzIGRvY3VtZW50XShodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlYXBpcy9nYXgtbm9kZWpzL2Jsb2IvbWFpbi9jbGllbnQtbGlicmFyaWVzLm1kI2NyZWF0aW5nLXRoZS1jbGllbnQtaW5zdGFuY2UpLlxuICAgICAqIFRoZSBjb21tb24gb3B0aW9ucyBhcmU6XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmNyZWRlbnRpYWxzXSAtIENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY3JlZGVudGlhbHMuY2xpZW50X2VtYWlsXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jcmVkZW50aWFscy5wcml2YXRlX2tleV1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZW1haWxdIC0gQWNjb3VudCBlbWFpbCBhZGRyZXNzLiBSZXF1aXJlZCB3aGVuXG4gICAgICogICAgIHVzaW5nIGEgLnBlbSBvciAucDEyIGtleUZpbGVuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5rZXlGaWxlbmFtZV0gLSBGdWxsIHBhdGggdG8gdGhlIGEgLmpzb24sIC5wZW0sIG9yXG4gICAgICogICAgIC5wMTIga2V5IGRvd25sb2FkZWQgZnJvbSB0aGUgR29vZ2xlIERldmVsb3BlcnMgQ29uc29sZS4gSWYgeW91IHByb3ZpZGVcbiAgICAgKiAgICAgYSBwYXRoIHRvIGEgSlNPTiBmaWxlLCB0aGUgcHJvamVjdElkIG9wdGlvbiBiZWxvdyBpcyBub3QgbmVjZXNzYXJ5LlxuICAgICAqICAgICBOT1RFOiAucGVtIGFuZCAucDEyIHJlcXVpcmUgeW91IHRvIHNwZWNpZnkgb3B0aW9ucy5lbWFpbCBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wb3J0XSAtIFRoZSBwb3J0IG9uIHdoaWNoIHRvIGNvbm5lY3QgdG9cbiAgICAgKiAgICAgdGhlIHJlbW90ZSBob3N0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wcm9qZWN0SWRdIC0gVGhlIHByb2plY3QgSUQgZnJvbSB0aGUgR29vZ2xlXG4gICAgICogICAgIERldmVsb3BlcidzIENvbnNvbGUsIGUuZy4gJ2dyYXBlLXNwYWNlc2hpcC0xMjMnLiBXZSB3aWxsIGFsc28gY2hlY2tcbiAgICAgKiAgICAgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIEdDTE9VRF9QUk9KRUNUIGZvciB5b3VyIHByb2plY3QgSUQuIElmIHlvdXJcbiAgICAgKiAgICAgYXBwIGlzIHJ1bm5pbmcgaW4gYW4gZW52aXJvbm1lbnQgd2hpY2ggc3VwcG9ydHNcbiAgICAgKiAgICAge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2lkZW50aXR5L3Byb3RvY29scy9hcHBsaWNhdGlvbi1kZWZhdWx0LWNyZWRlbnRpYWxzIEFwcGxpY2F0aW9uIERlZmF1bHQgQ3JlZGVudGlhbHN9LFxuICAgICAqICAgICB5b3VyIHByb2plY3QgSUQgd2lsbCBiZSBkZXRlY3RlZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5hcGlFbmRwb2ludF0gLSBUaGUgZG9tYWluIG5hbWUgb2YgdGhlXG4gICAgICogICAgIEFQSSByZW1vdGUgaG9zdC5cbiAgICAgKiBAcGFyYW0ge2dheC5DbGllbnRDb25maWd9IFtvcHRpb25zLmNsaWVudENvbmZpZ10gLSBDbGllbnQgY29uZmlndXJhdGlvbiBvdmVycmlkZS5cbiAgICAgKiAgICAgRm9sbG93cyB0aGUgc3RydWN0dXJlIG9mIHtAbGluayBnYXBpY0NvbmZpZ30uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mYWxsYmFja10gLSBVc2UgSFRUUCBmYWxsYmFjayBtb2RlLlxuICAgICAqICAgICBJbiBmYWxsYmFjayBtb2RlLCBhIHNwZWNpYWwgYnJvd3Nlci1jb21wYXRpYmxlIHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiBpcyB1c2VkXG4gICAgICogICAgIGluc3RlYWQgb2YgZ1JQQyB0cmFuc3BvcnQuIEluIGJyb3dzZXIgY29udGV4dCAoaWYgdGhlIGB3aW5kb3dgIG9iamVjdCBpcyBkZWZpbmVkKVxuICAgICAqICAgICB0aGUgZmFsbGJhY2sgbW9kZSBpcyBlbmFibGVkIGF1dG9tYXRpY2FsbHk7IHNldCBgb3B0aW9ucy5mYWxsYmFja2AgdG8gYGZhbHNlYFxuICAgICAqICAgICBpZiB5b3UgbmVlZCB0byBvdmVycmlkZSB0aGlzIGJlaGF2aW9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdheEdycGMsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb3B0cykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLl90ZXJtaW5hdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRvcnMgPSB7XG4gICAgICAgICAgICBwYWdlOiB7fSxcbiAgICAgICAgICAgIHN0cmVhbToge30sXG4gICAgICAgICAgICBsb25ncnVubmluZzoge30sXG4gICAgICAgICAgICBiYXRjaGluZzoge30sXG4gICAgICAgIH07XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IG9wdGlvbnMgaW5jbHVkZSBhbGwgdGhlIHJlcXVpcmVkIGZpZWxkcy5cbiAgICAgICAgdGhpcy5nYXhHcnBjID0gZ2F4R3JwYztcbiAgICAgICAgY29uc3Qgc3RhdGljTWVtYmVycyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IHNlcnZpY2VQYXRoID0gKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5zZXJ2aWNlUGF0aCkgfHwgKG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5hcGlFbmRwb2ludCkgfHwgc3RhdGljTWVtYmVycy5zZXJ2aWNlUGF0aDtcbiAgICAgICAgdGhpcy5fcHJvdmlkZWRDdXN0b21TZXJ2aWNlUGF0aCA9ICEhKChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuc2VydmljZVBhdGgpIHx8IChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuYXBpRW5kcG9pbnQpKTtcbiAgICAgICAgY29uc3QgcG9ydCA9IChvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMucG9ydCkgfHwgc3RhdGljTWVtYmVycy5wb3J0O1xuICAgICAgICBjb25zdCBjbGllbnRDb25maWcgPSAoX2EgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuY2xpZW50Q29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICAgICAgY29uc3QgZmFsbGJhY2sgPSAoX2IgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuZmFsbGJhY2spICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgKHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5mZXRjaCkgPT09ICdmdW5jdGlvbicpO1xuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHNlcnZpY2VQYXRoLCBwb3J0LCBjbGllbnRDb25maWcsIGZhbGxiYWNrIH0sIG9wdHMpO1xuICAgICAgICAvLyBJZiBzY29wZXMgYXJlIHVuc2V0IGluIG9wdGlvbnMgYW5kIHdlJ3JlIGNvbm5lY3RpbmcgdG8gYSBub24tZGVmYXVsdCBlbmRwb2ludCwgc2V0IHNjb3BlcyBqdXN0IGluIGNhc2UuXG4gICAgICAgIGlmIChzZXJ2aWNlUGF0aCAhPT0gc3RhdGljTWVtYmVycy5zZXJ2aWNlUGF0aCAmJiAhKCdzY29wZXMnIGluIG9wdHMpKSB7XG4gICAgICAgICAgICBvcHRzWydzY29wZXMnXSA9IHN0YXRpY01lbWJlcnMuc2NvcGVzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhdmUgb3B0aW9ucyB0byB1c2UgaW4gaW5pdGlhbGl6ZSgpIG1ldGhvZC5cbiAgICAgICAgdGhpcy5fb3B0cyA9IG9wdHM7XG4gICAgICAgIC8vIFNhdmUgdGhlIGF1dGggb2JqZWN0IHRvIHRoZSBjbGllbnQsIGZvciB1c2UgYnkgb3RoZXIgbWV0aG9kcy5cbiAgICAgICAgdGhpcy5hdXRoID0gZ2F4R3JwYy5hdXRoO1xuICAgICAgICAvLyBTZXQgdGhlIGRlZmF1bHQgc2NvcGVzIGluIGF1dGggY2xpZW50IGlmIG5lZWRlZC5cbiAgICAgICAgaWYgKHNlcnZpY2VQYXRoID09PSBzdGF0aWNNZW1iZXJzLnNlcnZpY2VQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGguZGVmYXVsdFNjb3BlcyA9IHN0YXRpY01lbWJlcnMuc2NvcGVzO1xuICAgICAgICB9XG4gICAgICAgIC8vIERldGVybWluZSB0aGUgY2xpZW50IGhlYWRlciBzdHJpbmcuXG4gICAgICAgIGNvbnN0IGNsaWVudEhlYWRlciA9IFtgZ2F4LyR7dmVyc2lvbn1gLCBgZ2FwaWMvJHt2ZXJzaW9ufWBdO1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICd2ZXJzaW9ucycgaW4gcHJvY2Vzcykge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyLnB1c2goYGdsLW5vZGUvJHtwcm9jZXNzLnZlcnNpb25zLm5vZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGllbnRIZWFkZXIucHVzaChgZ2wtd2ViLyR7dmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdHMuZmFsbGJhY2spIHtcbiAgICAgICAgICAgIGNsaWVudEhlYWRlci5wdXNoKGBncnBjLyR7Z2F4R3JwYy5ncnBjVmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRzLmZhbGxiYWNrID09PSAncmVzdCcpIHtcbiAgICAgICAgICAgIGNsaWVudEhlYWRlci5wdXNoKGByZXN0LyR7Z2F4R3JwYy5ncnBjVmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5saWJOYW1lICYmIG9wdHMubGliVmVyc2lvbikge1xuICAgICAgICAgICAgY2xpZW50SGVhZGVyLnB1c2goYCR7b3B0cy5saWJOYW1lfS8ke29wdHMubGliVmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMb2FkIHRoZSBhcHBsaWNhYmxlIHByb3Rvcy5cbiAgICAgICAgdGhpcy5fcHJvdG9zID0gZ2F4R3JwYy5sb2FkUHJvdG9KU09OKGpzb25Qcm90b3MpO1xuICAgICAgICAvLyBTb21lIG9mIHRoZSBtZXRob2RzIG9uIHRoaXMgc2VydmljZSByZXR1cm4gXCJwYWdlZFwiIHJlc3VsdHMsXG4gICAgICAgIC8vIChlLmcuIDUwIHJlc3VsdHMgYXQgYSB0aW1lLCB3aXRoIHRva2VucyB0byBnZXQgc3Vic2VxdWVudFxuICAgICAgICAvLyBwYWdlcykuIERlbm90ZSB0aGUga2V5cyB1c2VkIGZvciBwYWdpbmF0aW9uIGFuZCByZXN1bHRzLlxuICAgICAgICB0aGlzLmRlc2NyaXB0b3JzLnBhZ2UgPSB7XG4gICAgICAgICAgICBsaXN0TG9jYXRpb25zOiBuZXcgcGFnZURlc2NyaXB0b3JfMS5QYWdlRGVzY3JpcHRvcigncGFnZVRva2VuJywgJ25leHRQYWdlVG9rZW4nLCAnbG9jYXRpb25zJyksXG4gICAgICAgIH07XG4gICAgICAgIC8vIFB1dCB0b2dldGhlciB0aGUgZGVmYXVsdCBvcHRpb25zIHNlbnQgd2l0aCByZXF1ZXN0cy5cbiAgICAgICAgdGhpcy5fZGVmYXVsdHMgPSBnYXhHcnBjLmNvbnN0cnVjdFNldHRpbmdzKCdnb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb25zJywgZ2FwaWNDb25maWcsIG9wdHMuY2xpZW50Q29uZmlnIHx8IHt9LCB7ICd4LWdvb2ctYXBpLWNsaWVudCc6IGNsaWVudEhlYWRlci5qb2luKCcgJykgfSk7XG4gICAgICAgIC8vIFNldCB1cCBhIGRpY3Rpb25hcnkgb2YgXCJpbm5lciBBUEkgY2FsbHNcIjsgdGhlIGNvcmUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgLy8gb2YgY2FsbGluZyB0aGUgQVBJIGlzIGhhbmRsZWQgaW4gYGdvb2dsZS1nYXhgLCB3aXRoIHRoaXMgY29kZVxuICAgICAgICAvLyBtZXJlbHkgcHJvdmlkaW5nIHRoZSBkZXN0aW5hdGlvbiBhbmQgcmVxdWVzdCBpbmZvcm1hdGlvbi5cbiAgICAgICAgdGhpcy5pbm5lckFwaUNhbGxzID0ge307XG4gICAgICAgIC8vIEFkZCBhIHdhcm4gZnVuY3Rpb24gdG8gdGhlIGNsaWVudCBjb25zdHJ1Y3RvciBzbyBpdCBjYW4gYmUgZWFzaWx5IHRlc3RlZC5cbiAgICAgICAgdGhpcy53YXJuID0gd2FybmluZ3NfMS53YXJuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjbGllbnQuXG4gICAgICogUGVyZm9ybXMgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMgKHN1Y2ggYXMgYXV0aGVudGljYXRpb24pIGFuZCBwcmVwYXJlcyB0aGUgY2xpZW50LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGFueSBjbGFzcyBtZXRob2QgaXMgY2FsbGVkIGZvciB0aGVcbiAgICAgKiBmaXJzdCB0aW1lLCBidXQgaWYgeW91IG5lZWQgdG8gaW5pdGlhbGl6ZSBpdCBiZWZvcmUgY2FsbGluZyBhbiBhY3R1YWwgbWV0aG9kLFxuICAgICAqIGZlZWwgZnJlZSB0byBjYWxsIGluaXRpYWxpemUoKSBkaXJlY3RseS5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYXdhaXQgb24gdGhpcyBtZXRob2QgaWYgeW91IHdhbnQgdG8gbWFrZSBzdXJlIHRoZSBjbGllbnQgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXV0aGVudGljYXRlZCBzZXJ2aWNlIHN0dWIuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGNsaWVudCBzdHViIHByb21pc2UgaXMgYWxyZWFkeSBpbml0aWFsaXplZCwgcmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgICAgICBpZiAodGhpcy5sb2NhdGlvbnNTdHViKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbnNTdHViO1xuICAgICAgICB9XG4gICAgICAgIC8vIFB1dCB0b2dldGhlciB0aGUgXCJzZXJ2aWNlIHN0dWJcIiBmb3JcbiAgICAgICAgLy8gZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9ucy5cbiAgICAgICAgdGhpcy5sb2NhdGlvbnNTdHViID0gdGhpcy5nYXhHcnBjLmNyZWF0ZVN0dWIodGhpcy5fb3B0cy5mYWxsYmFja1xuICAgICAgICAgICAgPyB0aGlzLl9wcm90b3MubG9va3VwU2VydmljZSgnZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9ucycpXG4gICAgICAgICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvdG9zLmdvb2dsZS5jbG91ZC5sb2NhdGlvbi5Mb2NhdGlvbnMsIHRoaXMuX29wdHMsIHRoaXMuX3Byb3ZpZGVkQ3VzdG9tU2VydmljZVBhdGgpO1xuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgZWFjaCBvZiB0aGUgbWV0aG9kcyB0aGF0IHRoZSBzZXJ2aWNlIHByb3ZpZGVzXG4gICAgICAgIC8vIGFuZCBjcmVhdGUgYW4gQVBJIGNhbGwgbWV0aG9kIGZvciBlYWNoLlxuICAgICAgICBjb25zdCBsb2NhdGlvbnNTdHViTWV0aG9kcyA9IFsnbGlzdExvY2F0aW9ucycsICdnZXRMb2NhdGlvbiddO1xuICAgICAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgb2YgbG9jYXRpb25zU3R1Yk1ldGhvZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxQcm9taXNlID0gdGhpcy5sb2NhdGlvbnNTdHViLnRoZW4oc3R1YiA9PiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXJtaW5hdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuYyA9IHN0dWJbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoc3R1YiwgYXJncyk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy5kZXNjcmlwdG9ycy5wYWdlW21ldGhvZE5hbWVdIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGFwaUNhbGwgPSAoMCwgY3JlYXRlQXBpQ2FsbF8xLmNyZWF0ZUFwaUNhbGwpKGNhbGxQcm9taXNlLCB0aGlzLl9kZWZhdWx0c1ttZXRob2ROYW1lXSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICB0aGlzLmlubmVyQXBpQ2FsbHNbbWV0aG9kTmFtZV0gPSBhcGlDYWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uc1N0dWI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBETlMgYWRkcmVzcyBmb3IgdGhpcyBBUEkgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgRE5TIGFkZHJlc3MgZm9yIHRoaXMgc2VydmljZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNlcnZpY2VQYXRoKCkge1xuICAgICAgICByZXR1cm4gJ2Nsb3VkLmdvb2dsZWFwaXMuY29tJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIEROUyBhZGRyZXNzIGZvciB0aGlzIEFQSSBzZXJ2aWNlIC0gc2FtZSBhcyBzZXJ2aWNlUGF0aCgpLFxuICAgICAqIGV4aXN0cyBmb3IgY29tcGF0aWJpbGl0eSByZWFzb25zLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBETlMgYWRkcmVzcyBmb3IgdGhpcyBzZXJ2aWNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgYXBpRW5kcG9pbnQoKSB7XG4gICAgICAgIHJldHVybiAnY2xvdWQuZ29vZ2xlYXBpcy5jb20nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcG9ydCBmb3IgdGhpcyBBUEkgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgZGVmYXVsdCBwb3J0IGZvciB0aGlzIHNlcnZpY2UuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBwb3J0KCkge1xuICAgICAgICByZXR1cm4gNDQzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcGVzIG5lZWRlZCB0byBtYWtlIGdSUEMgY2FsbHMgZm9yIGV2ZXJ5IG1ldGhvZCBkZWZpbmVkXG4gICAgICogaW4gdGhpcyBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gTGlzdCBvZiBkZWZhdWx0IHNjb3Blcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNjb3BlcygpIHtcbiAgICAgICAgcmV0dXJuIFsnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbG91ZC1wbGF0Zm9ybSddO1xuICAgIH1cbiAgICBnZXRQcm9qZWN0SWQoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGguZ2V0UHJvamVjdElkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmdldFByb2plY3RJZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IGEgbG9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdFxuICAgICAqICAgVGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgd2lsbCBiZSBzZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0Lm5hbWVcbiAgICAgKiAgIFJlc291cmNlIG5hbWUgZm9yIHRoZSBsb2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogICBDYWxsIG9wdGlvbnMuIFNlZSB7QGxpbmsgaHR0cHM6Ly9nb29nbGVhcGlzLmRldi9ub2RlanMvZ29vZ2xlLWdheC9sYXRlc3QvaW50ZXJmYWNlcy9DYWxsT3B0aW9ucy5odG1sfENhbGxPcHRpb25zfSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFRoZSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGFuIGFycmF5LlxuICAgICAqICAgVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5IGlzIGFuIG9iamVjdCByZXByZXNlbnRpbmcgW0xvY2F0aW9uXXtAbGluayBnb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb259LlxuICAgICAqICAgUGxlYXNlIHNlZSB0aGVcbiAgICAgKiAgIFtkb2N1bWVudGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlYXBpcy9nYXgtbm9kZWpzL2Jsb2IvbWFpbi9jbGllbnQtbGlicmFyaWVzLm1kI3JlZ3VsYXItbWV0aG9kcylcbiAgICAgKiAgIGZvciBtb3JlIGRldGFpbHMgYW5kIGV4YW1wbGVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgW3Jlc3BvbnNlXSA9IGF3YWl0IGNsaWVudC5nZXRMb2NhdGlvbihyZXF1ZXN0KTtcbiAgICAgKi9cbiAgICBnZXRMb2NhdGlvbihyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNPckNhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzID0gb3B0aW9ucy5vdGhlckFyZ3MgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgPSBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzWyd4LWdvb2ctcmVxdWVzdC1wYXJhbXMnXSA9XG4gICAgICAgICAgICByb3V0aW5nSGVhZGVyLmZyb21QYXJhbXMoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QubmFtZSB8fCAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5nZXRMb2NhdGlvbihyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzdXBwb3J0ZWQgbG9jYXRpb25zIGZvciB0aGlzIHNlcnZpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdFxuICAgICAqICAgVGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgd2lsbCBiZSBzZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0Lm5hbWVcbiAgICAgKiAgIFRoZSByZXNvdXJjZSB0aGF0IG93bnMgdGhlIGxvY2F0aW9ucyBjb2xsZWN0aW9uLCBpZiBhcHBsaWNhYmxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0LmZpbHRlclxuICAgICAqICAgVGhlIHN0YW5kYXJkIGxpc3QgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXF1ZXN0LnBhZ2VTaXplXG4gICAgICogICBUaGUgc3RhbmRhcmQgbGlzdCBwYWdlIHNpemUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QucGFnZVRva2VuXG4gICAgICogICBUaGUgc3RhbmRhcmQgbGlzdCBwYWdlIHRva2VuLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiAgIENhbGwgb3B0aW9ucy4gU2VlIHtAbGluayBodHRwczovL2dvb2dsZWFwaXMuZGV2L25vZGVqcy9nb29nbGUtZ2F4L2xhdGVzdC9pbnRlcmZhY2VzL0NhbGxPcHRpb25zLmh0bWx8Q2FsbE9wdGlvbnN9IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IC0gVGhlIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYW4gYXJyYXkuXG4gICAgICogICBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgQXJyYXkgb2YgW0xvY2F0aW9uXXtAbGluayBnb29nbGUuY2xvdWQubG9jYXRpb24uTG9jYXRpb259LlxuICAgICAqICAgVGhlIGNsaWVudCBsaWJyYXJ5IHdpbGwgcGVyZm9ybSBhdXRvLXBhZ2luYXRpb24gYnkgZGVmYXVsdDogaXQgd2lsbCBjYWxsIHRoZSBBUEkgYXMgbWFueVxuICAgICAqICAgdGltZXMgYXMgbmVlZGVkIGFuZCB3aWxsIG1lcmdlIHJlc3VsdHMgZnJvbSBhbGwgdGhlIHBhZ2VzIGludG8gdGhpcyBhcnJheS5cbiAgICAgKiAgIE5vdGUgdGhhdCBpdCBjYW4gYWZmZWN0IHlvdXIgcXVvdGEuXG4gICAgICogICBXZSByZWNvbW1lbmQgdXNpbmcgYGxpc3RMb2NhdGlvbnNBc3luYygpYFxuICAgICAqICAgbWV0aG9kIGRlc2NyaWJlZCBiZWxvdyBmb3IgYXN5bmMgaXRlcmF0aW9uIHdoaWNoIHlvdSBjYW4gc3RvcCBhcyBuZWVkZWQuXG4gICAgICogICBQbGVhc2Ugc2VlIHRoZVxuICAgICAqICAgW2RvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjYXV0by1wYWdpbmF0aW9uKVxuICAgICAqICAgZm9yIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMuXG4gICAgICovXG4gICAgbGlzdExvY2F0aW9ucyhyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNPckNhbGxiYWNrID09PSAnZnVuY3Rpb24nICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzID0gb3B0aW9ucy5vdGhlckFyZ3MgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgPSBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzWyd4LWdvb2ctcmVxdWVzdC1wYXJhbXMnXSA9XG4gICAgICAgICAgICByb3V0aW5nSGVhZGVyLmZyb21QYXJhbXMoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QubmFtZSB8fCAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5saXN0TG9jYXRpb25zKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgbGlzdExvY2F0aW9uc2AsIGJ1dCByZXR1cm5zIGFuIGl0ZXJhYmxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIGBmb3JgLWBhd2FpdGAtYG9mYCBzeW50YXggaXMgdXNlZCB3aXRoIHRoZSBpdGVyYWJsZSB0byBnZXQgcmVzcG9uc2UgZWxlbWVudHMgb24tZGVtYW5kLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0XG4gICAgICogICBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZVxuICAgICAqICAgVGhlIHJlc291cmNlIHRoYXQgb3ducyB0aGUgbG9jYXRpb25zIGNvbGxlY3Rpb24sIGlmIGFwcGxpY2FibGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QuZmlsdGVyXG4gICAgICogICBUaGUgc3RhbmRhcmQgbGlzdCBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlcXVlc3QucGFnZVNpemVcbiAgICAgKiAgIFRoZSBzdGFuZGFyZCBsaXN0IHBhZ2Ugc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5wYWdlVG9rZW5cbiAgICAgKiAgIFRoZSBzdGFuZGFyZCBsaXN0IHBhZ2UgdG9rZW4uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqICAgQ2FsbCBvcHRpb25zLiBTZWUge0BsaW5rIGh0dHBzOi8vZ29vZ2xlYXBpcy5kZXYvbm9kZWpzL2dvb2dsZS1nYXgvbGF0ZXN0L2ludGVyZmFjZXMvQ2FsbE9wdGlvbnMuaHRtbHxDYWxsT3B0aW9uc30gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqICAgQW4gaXRlcmFibGUgT2JqZWN0IHRoYXQgYWxsb3dzIFthc3luYyBpdGVyYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMpLlxuICAgICAqICAgV2hlbiB5b3UgaXRlcmF0ZSB0aGUgcmV0dXJuZWQgaXRlcmFibGUsIGVhY2ggZWxlbWVudCB3aWxsIGJlIGFuIG9iamVjdCByZXByZXNlbnRpbmdcbiAgICAgKiAgIFtMb2NhdGlvbl17QGxpbmsgZ29vZ2xlLmNsb3VkLmxvY2F0aW9uLkxvY2F0aW9ufS4gVGhlIEFQSSB3aWxsIGJlIGNhbGxlZCB1bmRlciB0aGUgaG9vZCBhcyBuZWVkZWQsIG9uY2UgcGVyIHRoZSBwYWdlLFxuICAgICAqICAgc28geW91IGNhbiBzdG9wIHRoZSBpdGVyYXRpb24gd2hlbiB5b3UgZG9uJ3QgbmVlZCBtb3JlIHJlc3VsdHMuXG4gICAgICogICBQbGVhc2Ugc2VlIHRoZVxuICAgICAqICAgW2RvY3VtZW50YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjYXV0by1wYWdpbmF0aW9uKVxuICAgICAqICAgZm9yIG1vcmUgZGV0YWlscyBhbmQgZXhhbXBsZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpdGVyYWJsZSA9IGNsaWVudC5saXN0TG9jYXRpb25zQXN5bmMocmVxdWVzdCk7XG4gICAgICogZm9yIGF3YWl0IChjb25zdCByZXNwb25zZSBvZiBpdGVyYWJsZSkge1xuICAgICAqICAgLy8gcHJvY2VzcyByZXNwb25zZVxuICAgICAqIH1cbiAgICAgKi9cbiAgICBsaXN0TG9jYXRpb25zQXN5bmMocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzID0gb3B0aW9ucy5vdGhlckFyZ3MgfHwge307XG4gICAgICAgIG9wdGlvbnMub3RoZXJBcmdzLmhlYWRlcnMgPSBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBvcHRpb25zLm90aGVyQXJncy5oZWFkZXJzWyd4LWdvb2ctcmVxdWVzdC1wYXJhbXMnXSA9XG4gICAgICAgICAgICByb3V0aW5nSGVhZGVyLmZyb21QYXJhbXMoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QubmFtZSB8fCAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgY29uc3QgY2FsbFNldHRpbmdzID0gbmV3IGdheC5DYWxsU2V0dGluZ3Mob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9ycy5wYWdlLmxpc3RMb2NhdGlvbnMuYXN5bmNJdGVyYXRlKHRoaXMuaW5uZXJBcGlDYWxsc1snbGlzdExvY2F0aW9ucyddLCByZXF1ZXN0LCBjYWxsU2V0dGluZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXJtaW5hdGUgdGhlIGdSUEMgY2hhbm5lbCBhbmQgY2xvc2UgdGhlIGNsaWVudC5cbiAgICAgKlxuICAgICAqIFRoZSBjbGllbnQgd2lsbCBubyBsb25nZXIgYmUgdXNhYmxlIGFuZCBhbGwgZnV0dXJlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2xpZW50IGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIGlmICghdGhpcy5fdGVybWluYXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25zU3R1Yi50aGVuKHN0dWIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Rlcm1pbmF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0dWIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5leHBvcnRzLkxvY2F0aW9uc0NsaWVudCA9IExvY2F0aW9uc0NsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2F0aW9uU2VydmljZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/locationService.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LongrunningApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(rsc)/./node_modules/google-gax/build/src/call.js\");\nconst gax_1 = __webpack_require__(/*! ../gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst longrunning_1 = __webpack_require__(/*! ./longrunning */ \"(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\");\nclass LongrunningApiCaller {\n    /**\n     * Creates an API caller that performs polling on a long running operation.\n     *\n     * @private\n     * @constructor\n     * @param {LongRunningDescriptor} longrunningDescriptor - Holds the\n     * decoders used for unpacking responses and the operationsClient\n     * used for polling the operation.\n     */\n    constructor(longrunningDescriptor) {\n        this.longrunningDescriptor = longrunningDescriptor;\n    }\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    wrap(func) {\n        return func;\n    }\n    call(apiCall, argument, settings, canceller) {\n        canceller.call((argument, callback) => {\n            return this._wrapOperation(apiCall, settings, argument, callback);\n        }, argument);\n    }\n    _wrapOperation(apiCall, settings, argument, callback) {\n        let backoffSettings = settings.longrunning;\n        if (!backoffSettings) {\n            backoffSettings = (0, gax_1.createDefaultBackoffSettings)();\n        }\n        const longrunningDescriptor = this.longrunningDescriptor;\n        return apiCall(argument, (err, rawResponse) => {\n            if (err) {\n                callback(err, null, null, rawResponse);\n                return;\n            }\n            const operation = new longrunning_1.Operation(rawResponse, longrunningDescriptor, backoffSettings, settings);\n            callback(null, operation, rawResponse);\n        });\n    }\n    fail(canceller, err) {\n        canceller.callback(err);\n    }\n    result(canceller) {\n        return canceller.promise;\n    }\n}\nexports.LongrunningApiCaller = LongrunningApiCaller;\n//# sourceMappingURL=longRunningApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9uZ1J1bm5pbmdDYWxscy9sb25nUnVubmluZ0FwaUNhbGxlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEI7QUFDNUIsZUFBZSxtQkFBTyxDQUFDLGtFQUFTO0FBQ2hDLGNBQWMsbUJBQU8sQ0FBQyxnRUFBUTtBQUM5QixzQkFBc0IsbUJBQU8sQ0FBQyxnR0FBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL2xvbmdSdW5uaW5nQ2FsbHMvbG9uZ1J1bm5pbmdBcGlDYWxsZXIuanM/YjRkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9uZ3J1bm5pbmdBcGlDYWxsZXIgPSB2b2lkIDA7XG5jb25zdCBjYWxsXzEgPSByZXF1aXJlKFwiLi4vY2FsbFwiKTtcbmNvbnN0IGdheF8xID0gcmVxdWlyZShcIi4uL2dheFwiKTtcbmNvbnN0IGxvbmdydW5uaW5nXzEgPSByZXF1aXJlKFwiLi9sb25ncnVubmluZ1wiKTtcbmNsYXNzIExvbmdydW5uaW5nQXBpQ2FsbGVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIEFQSSBjYWxsZXIgdGhhdCBwZXJmb3JtcyBwb2xsaW5nIG9uIGEgbG9uZyBydW5uaW5nIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtMb25nUnVubmluZ0Rlc2NyaXB0b3J9IGxvbmdydW5uaW5nRGVzY3JpcHRvciAtIEhvbGRzIHRoZVxuICAgICAqIGRlY29kZXJzIHVzZWQgZm9yIHVucGFja2luZyByZXNwb25zZXMgYW5kIHRoZSBvcGVyYXRpb25zQ2xpZW50XG4gICAgICogdXNlZCBmb3IgcG9sbGluZyB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGxvbmdydW5uaW5nRGVzY3JpcHRvcikge1xuICAgICAgICB0aGlzLmxvbmdydW5uaW5nRGVzY3JpcHRvciA9IGxvbmdydW5uaW5nRGVzY3JpcHRvcjtcbiAgICB9XG4gICAgaW5pdChjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY2FsbF8xLk9uZ29pbmdDYWxsKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNhbGxfMS5PbmdvaW5nQ2FsbFByb21pc2UoKTtcbiAgICB9XG4gICAgd3JhcChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBjYWxsKGFwaUNhbGwsIGFyZ3VtZW50LCBzZXR0aW5ncywgY2FuY2VsbGVyKSB7XG4gICAgICAgIGNhbmNlbGxlci5jYWxsKChhcmd1bWVudCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93cmFwT3BlcmF0aW9uKGFwaUNhbGwsIHNldHRpbmdzLCBhcmd1bWVudCwgY2FsbGJhY2spO1xuICAgICAgICB9LCBhcmd1bWVudCk7XG4gICAgfVxuICAgIF93cmFwT3BlcmF0aW9uKGFwaUNhbGwsIHNldHRpbmdzLCBhcmd1bWVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGJhY2tvZmZTZXR0aW5ncyA9IHNldHRpbmdzLmxvbmdydW5uaW5nO1xuICAgICAgICBpZiAoIWJhY2tvZmZTZXR0aW5ncykge1xuICAgICAgICAgICAgYmFja29mZlNldHRpbmdzID0gKDAsIGdheF8xLmNyZWF0ZURlZmF1bHRCYWNrb2ZmU2V0dGluZ3MpKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9uZ3J1bm5pbmdEZXNjcmlwdG9yID0gdGhpcy5sb25ncnVubmluZ0Rlc2NyaXB0b3I7XG4gICAgICAgIHJldHVybiBhcGlDYWxsKGFyZ3VtZW50LCAoZXJyLCByYXdSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbnVsbCwgbnVsbCwgcmF3UmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBsb25ncnVubmluZ18xLk9wZXJhdGlvbihyYXdSZXNwb25zZSwgbG9uZ3J1bm5pbmdEZXNjcmlwdG9yLCBiYWNrb2ZmU2V0dGluZ3MsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG9wZXJhdGlvbiwgcmF3UmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmFpbChjYW5jZWxsZXIsIGVycikge1xuICAgICAgICBjYW5jZWxsZXIuY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgcmVzdWx0KGNhbmNlbGxlcikge1xuICAgICAgICByZXR1cm4gY2FuY2VsbGVyLnByb21pc2U7XG4gICAgfVxufVxuZXhwb3J0cy5Mb25ncnVubmluZ0FwaUNhbGxlciA9IExvbmdydW5uaW5nQXBpQ2FsbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9uZ1J1bm5pbmdBcGlDYWxsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LongRunningDescriptor = void 0;\nconst longRunningApiCaller_1 = __webpack_require__(/*! ./longRunningApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longRunningApiCaller.js\");\n/**\n * A descriptor for long-running operations.\n */\nclass LongRunningDescriptor {\n    constructor(operationsClient, responseDecoder, metadataDecoder) {\n        this.operationsClient = operationsClient;\n        this.responseDecoder = responseDecoder;\n        this.metadataDecoder = metadataDecoder;\n    }\n    getApiCaller() {\n        return new longRunningApiCaller_1.LongrunningApiCaller(this);\n    }\n}\nexports.LongRunningDescriptor = LongRunningDescriptor;\n//# sourceMappingURL=longRunningDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9uZ1J1bm5pbmdDYWxscy9sb25nUnVubmluZ0Rlc2NyaXB0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCO0FBQzdCLCtCQUErQixtQkFBTyxDQUFDLGtIQUF3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9sb25nUnVubmluZ0NhbGxzL2xvbmdSdW5uaW5nRGVzY3JpcHRvci5qcz80OWM1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb25nUnVubmluZ0Rlc2NyaXB0b3IgPSB2b2lkIDA7XG5jb25zdCBsb25nUnVubmluZ0FwaUNhbGxlcl8xID0gcmVxdWlyZShcIi4vbG9uZ1J1bm5pbmdBcGlDYWxsZXJcIik7XG4vKipcbiAqIEEgZGVzY3JpcHRvciBmb3IgbG9uZy1ydW5uaW5nIG9wZXJhdGlvbnMuXG4gKi9cbmNsYXNzIExvbmdSdW5uaW5nRGVzY3JpcHRvciB7XG4gICAgY29uc3RydWN0b3Iob3BlcmF0aW9uc0NsaWVudCwgcmVzcG9uc2VEZWNvZGVyLCBtZXRhZGF0YURlY29kZXIpIHtcbiAgICAgICAgdGhpcy5vcGVyYXRpb25zQ2xpZW50ID0gb3BlcmF0aW9uc0NsaWVudDtcbiAgICAgICAgdGhpcy5yZXNwb25zZURlY29kZXIgPSByZXNwb25zZURlY29kZXI7XG4gICAgICAgIHRoaXMubWV0YWRhdGFEZWNvZGVyID0gbWV0YWRhdGFEZWNvZGVyO1xuICAgIH1cbiAgICBnZXRBcGlDYWxsZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgbG9uZ1J1bm5pbmdBcGlDYWxsZXJfMS5Mb25ncnVubmluZ0FwaUNhbGxlcih0aGlzKTtcbiAgICB9XG59XG5leHBvcnRzLkxvbmdSdW5uaW5nRGVzY3JpcHRvciA9IExvbmdSdW5uaW5nRGVzY3JpcHRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvbmdSdW5uaW5nRGVzY3JpcHRvci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longRunningDescriptor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js":
/*!***************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/longRunningCalls/longrunning.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Operation = void 0;\nexports.operation = operation;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst status_1 = __webpack_require__(/*! ../status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nconst operationProtos = __webpack_require__(/*! ../../protos/operations */ \"(rsc)/./node_modules/google-gax/build/protos/operations.js\");\nclass Operation extends events_1.EventEmitter {\n    /**\n     * Wrapper for a google.longrunnung.Operation.\n     *\n     * @constructor\n     *\n     * @param {google.longrunning.Operation} grpcOp - The operation to be wrapped.\n     * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n     * operations service client and unpacking mechanisms for the operation.\n     * @param {BackoffSettings} backoffSettings - The backoff settings used in\n     * in polling the operation.\n     * @param {CallOptions} callOptions - CallOptions used in making get operation\n     * requests.\n     */\n    constructor(grpcOp, longrunningDescriptor, backoffSettings, callOptions) {\n        super();\n        this.completeListeners = 0;\n        this.hasActiveListeners = false;\n        this.latestResponse = grpcOp;\n        this.name = this.latestResponse.name;\n        this.done = this.latestResponse.done;\n        this.error = this.latestResponse.error;\n        this.longrunningDescriptor = longrunningDescriptor;\n        this.result = null;\n        this.metadata = null;\n        this.backoffSettings = backoffSettings;\n        this._unpackResponse(grpcOp);\n        this._listenForEvents();\n        this._callOptions = callOptions;\n    }\n    /**\n     * Begin listening for events on the operation. This method keeps track of how\n     * many \"complete\" listeners are registered and removed, making sure polling\n     * is handled automatically.\n     *\n     * As long as there is one active \"complete\" listener, the connection is open.\n     * When there are no more listeners, the polling stops.\n     *\n     * @private\n     */\n    _listenForEvents() {\n        this.on('newListener', event => {\n            if (event === 'complete') {\n                this.completeListeners++;\n                if (!this.hasActiveListeners) {\n                    this.hasActiveListeners = true;\n                    this.startPolling_();\n                }\n            }\n        });\n        this.on('removeListener', event => {\n            if (event === 'complete' && --this.completeListeners === 0) {\n                this.hasActiveListeners = false;\n            }\n        });\n    }\n    /**\n     * Cancels current polling api call and cancels the operation.\n     *\n     * @return {Promise} the promise of the OperationsClient#cancelOperation api\n     * request.\n     */\n    cancel() {\n        if (this.currentCallPromise_) {\n            this.currentCallPromise_.cancel();\n        }\n        const operationsClient = this.longrunningDescriptor.operationsClient;\n        const cancelRequest = new operationProtos.google.longrunning.CancelOperationRequest();\n        cancelRequest.name = this.latestResponse.name;\n        return operationsClient.cancelOperation(cancelRequest);\n    }\n    getOperation(callback) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        const operationsClient = this.longrunningDescriptor.operationsClient;\n        function promisifyResponse() {\n            if (!callback) {\n                return new Promise((resolve, reject) => {\n                    if (self.latestResponse.error) {\n                        const error = new googleError_1.GoogleError(self.latestResponse.error.message);\n                        error.code = self.latestResponse.error.code;\n                        reject(error);\n                    }\n                    else {\n                        resolve([self.result, self.metadata, self.latestResponse]);\n                    }\n                });\n            }\n            return;\n        }\n        if (this.latestResponse.done) {\n            this._unpackResponse(this.latestResponse, callback);\n            return promisifyResponse();\n        }\n        const request = new operationProtos.google.longrunning.GetOperationRequest();\n        request.name = this.latestResponse.name;\n        this.currentCallPromise_ = operationsClient.getOperationInternal(request, this._callOptions);\n        const noCallbackPromise = this.currentCallPromise_.then(responses => {\n            self.latestResponse = responses[0];\n            self._unpackResponse(responses[0], callback);\n            return promisifyResponse();\n        }, (err) => {\n            if (callback) {\n                callback(err);\n                return;\n            }\n            return Promise.reject(err);\n        });\n        if (!callback) {\n            return noCallbackPromise;\n        }\n    }\n    _unpackResponse(op, callback) {\n        const responseDecoder = this.longrunningDescriptor.responseDecoder;\n        const metadataDecoder = this.longrunningDescriptor.metadataDecoder;\n        let response;\n        let metadata;\n        if (op.done) {\n            if (op.result === 'error') {\n                const error = new googleError_1.GoogleError(op.error.message);\n                error.code = op.error.code;\n                this.error = error;\n                if (callback) {\n                    callback(error);\n                }\n                return;\n            }\n            if (responseDecoder && op.response) {\n                this.response = op.response;\n                response = responseDecoder(op.response.value);\n                this.result = response;\n                this.done = true;\n            }\n        }\n        if (metadataDecoder && op.metadata) {\n            metadata = metadataDecoder(op.metadata.value);\n            this.metadata = metadata;\n        }\n        if (callback) {\n            callback(null, response, metadata, op);\n        }\n    }\n    /**\n     * Poll `getOperation` to check the operation's status. This runs a loop to\n     * ping using the backoff strategy specified at initialization.\n     *\n     * Note: This method is automatically called once a \"complete\" event handler\n     * is registered on the operation.\n     *\n     * @private\n     */\n    startPolling_() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        let now = new Date();\n        const delayMult = this.backoffSettings.retryDelayMultiplier;\n        const maxDelay = this.backoffSettings.maxRetryDelayMillis;\n        let delay = this.backoffSettings.initialRetryDelayMillis;\n        let deadline = Infinity;\n        if (this.backoffSettings.totalTimeoutMillis) {\n            deadline = now.getTime() + this.backoffSettings.totalTimeoutMillis;\n        }\n        let previousMetadataBytes;\n        if (this.latestResponse.metadata) {\n            previousMetadataBytes = this.latestResponse.metadata.value;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        function emit(event, ...args) {\n            self.emit(event, ...args);\n        }\n        // Helper function to replace nodejs buffer's equals()\n        function arrayEquals(a, b) {\n            if (a.byteLength !== b.byteLength) {\n                return false;\n            }\n            for (let i = 0; i < a.byteLength; ++i) {\n                if (a[i] !== b[i])\n                    return false;\n            }\n            return true;\n        }\n        function retry() {\n            if (!self.hasActiveListeners) {\n                return;\n            }\n            if (now.getTime() >= deadline) {\n                const error = new googleError_1.GoogleError('Total timeout exceeded before any response was received');\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                setImmediate(emit, 'error', error);\n                return;\n            }\n            self.getOperation((err, result, metadata, rawResponse) => {\n                if (err) {\n                    setImmediate(emit, 'error', err);\n                    return;\n                }\n                if (!result) {\n                    if (rawResponse.metadata &&\n                        (!previousMetadataBytes ||\n                            (rawResponse &&\n                                !arrayEquals(rawResponse.metadata.value, previousMetadataBytes)))) {\n                        setImmediate(emit, 'progress', metadata, rawResponse);\n                        previousMetadataBytes = rawResponse.metadata.value;\n                    }\n                    // special case: some APIs fail to set either result or error\n                    // but set done = true (e.g. speech with silent file).\n                    // Some APIs just use this for the normal completion\n                    // (e.g. nodejs-contact-center-insights), so let's just return\n                    // an empty response in this case.\n                    if (rawResponse.done) {\n                        setImmediate(emit, 'complete', {}, metadata, rawResponse);\n                        return;\n                    }\n                    setTimeout(() => {\n                        now = new Date();\n                        delay = Math.min(delay * delayMult, maxDelay);\n                        retry();\n                    }, delay);\n                    return;\n                }\n                setImmediate(emit, 'complete', result, metadata, rawResponse);\n            });\n        }\n        retry();\n    }\n    /**\n     * Wraps the `complete` and `error` events in a Promise.\n     *\n     * @return {promise} - Promise that resolves on operation completion and rejects\n     * on operation error.\n     */\n    promise() {\n        return new Promise((resolve, reject) => {\n            this.on('error', reject).on('complete', (result, metadata, rawResponse) => {\n                resolve([result, metadata, rawResponse]);\n            });\n        });\n    }\n}\nexports.Operation = Operation;\n/**\n * Method used to create Operation objects.\n *\n * @constructor\n *\n * @param {google.longrunning.Operation} op - The operation to be wrapped.\n * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n * operations service client and unpacking mechanisms for the operation.\n * @param {BackoffSettings} backoffSettings - The backoff settings used in\n * in polling the operation.\n * @param {CallOptions=} callOptions - CallOptions used in making get operation\n * requests.\n */\nfunction operation(op, longrunningDescriptor, backoffSettings, callOptions) {\n    return new Operation(op, longrunningDescriptor, backoffSettings, callOptions);\n}\n//# sourceMappingURL=longrunning.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9uZ1J1bm5pbmdDYWxscy9sb25ncnVubmluZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLGlCQUFpQixtQkFBTyxDQUFDLHNFQUFXO0FBQ3BDLHNCQUFzQixtQkFBTyxDQUFDLGdGQUFnQjtBQUM5Qyx3QkFBd0IsbUJBQU8sQ0FBQywyRkFBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw4QkFBOEI7QUFDN0MsZUFBZSx1QkFBdUI7QUFDdEM7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4QkFBOEI7QUFDekMsV0FBVyx1QkFBdUI7QUFDbEM7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbG9uZ1J1bm5pbmdDYWxscy9sb25ncnVubmluZy5qcz83MGQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcGVyYXRpb24gPSB2b2lkIDA7XG5leHBvcnRzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbmNvbnN0IHN0YXR1c18xID0gcmVxdWlyZShcIi4uL3N0YXR1c1wiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vZ29vZ2xlRXJyb3JcIik7XG5jb25zdCBvcGVyYXRpb25Qcm90b3MgPSByZXF1aXJlKFwiLi4vLi4vcHJvdG9zL29wZXJhdGlvbnNcIik7XG5jbGFzcyBPcGVyYXRpb24gZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgZm9yIGEgZ29vZ2xlLmxvbmdydW5udW5nLk9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9ufSBncnBjT3AgLSBUaGUgb3BlcmF0aW9uIHRvIGJlIHdyYXBwZWQuXG4gICAgICogQHBhcmFtIHtMb25nUnVubmluZ0Rlc2NyaXB0b3J9IGxvbmdydW5uaW5nRGVzY3JpcHRvciAtIFRoaXMgZGVmaW5lcyB0aGVcbiAgICAgKiBvcGVyYXRpb25zIHNlcnZpY2UgY2xpZW50IGFuZCB1bnBhY2tpbmcgbWVjaGFuaXNtcyBmb3IgdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0JhY2tvZmZTZXR0aW5nc30gYmFja29mZlNldHRpbmdzIC0gVGhlIGJhY2tvZmYgc2V0dGluZ3MgdXNlZCBpblxuICAgICAqIGluIHBvbGxpbmcgdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0NhbGxPcHRpb25zfSBjYWxsT3B0aW9ucyAtIENhbGxPcHRpb25zIHVzZWQgaW4gbWFraW5nIGdldCBvcGVyYXRpb25cbiAgICAgKiByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihncnBjT3AsIGxvbmdydW5uaW5nRGVzY3JpcHRvciwgYmFja29mZlNldHRpbmdzLCBjYWxsT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbXBsZXRlTGlzdGVuZXJzID0gMDtcbiAgICAgICAgdGhpcy5oYXNBY3RpdmVMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXRlc3RSZXNwb25zZSA9IGdycGNPcDtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5sYXRlc3RSZXNwb25zZS5uYW1lO1xuICAgICAgICB0aGlzLmRvbmUgPSB0aGlzLmxhdGVzdFJlc3BvbnNlLmRvbmU7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0aGlzLmxhdGVzdFJlc3BvbnNlLmVycm9yO1xuICAgICAgICB0aGlzLmxvbmdydW5uaW5nRGVzY3JpcHRvciA9IGxvbmdydW5uaW5nRGVzY3JpcHRvcjtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYWNrb2ZmU2V0dGluZ3MgPSBiYWNrb2ZmU2V0dGluZ3M7XG4gICAgICAgIHRoaXMuX3VucGFja1Jlc3BvbnNlKGdycGNPcCk7XG4gICAgICAgIHRoaXMuX2xpc3RlbkZvckV2ZW50cygpO1xuICAgICAgICB0aGlzLl9jYWxsT3B0aW9ucyA9IGNhbGxPcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCZWdpbiBsaXN0ZW5pbmcgZm9yIGV2ZW50cyBvbiB0aGUgb3BlcmF0aW9uLiBUaGlzIG1ldGhvZCBrZWVwcyB0cmFjayBvZiBob3dcbiAgICAgKiBtYW55IFwiY29tcGxldGVcIiBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQgYW5kIHJlbW92ZWQsIG1ha2luZyBzdXJlIHBvbGxpbmdcbiAgICAgKiBpcyBoYW5kbGVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBBcyBsb25nIGFzIHRoZXJlIGlzIG9uZSBhY3RpdmUgXCJjb21wbGV0ZVwiIGxpc3RlbmVyLCB0aGUgY29ubmVjdGlvbiBpcyBvcGVuLlxuICAgICAqIFdoZW4gdGhlcmUgYXJlIG5vIG1vcmUgbGlzdGVuZXJzLCB0aGUgcG9sbGluZyBzdG9wcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xpc3RlbkZvckV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBldmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlTGlzdGVuZXJzKys7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0FjdGl2ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0FjdGl2ZUxpc3RlbmVycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb2xsaW5nXygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ3JlbW92ZUxpc3RlbmVyJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnY29tcGxldGUnICYmIC0tdGhpcy5jb21wbGV0ZUxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQWN0aXZlTGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGN1cnJlbnQgcG9sbGluZyBhcGkgY2FsbCBhbmQgY2FuY2VscyB0aGUgb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIHByb21pc2Ugb2YgdGhlIE9wZXJhdGlvbnNDbGllbnQjY2FuY2VsT3BlcmF0aW9uIGFwaVxuICAgICAqIHJlcXVlc3QuXG4gICAgICovXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q2FsbFByb21pc2VfKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDYWxsUHJvbWlzZV8uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uc0NsaWVudCA9IHRoaXMubG9uZ3J1bm5pbmdEZXNjcmlwdG9yLm9wZXJhdGlvbnNDbGllbnQ7XG4gICAgICAgIGNvbnN0IGNhbmNlbFJlcXVlc3QgPSBuZXcgb3BlcmF0aW9uUHJvdG9zLmdvb2dsZS5sb25ncnVubmluZy5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0KCk7XG4gICAgICAgIGNhbmNlbFJlcXVlc3QubmFtZSA9IHRoaXMubGF0ZXN0UmVzcG9uc2UubmFtZTtcbiAgICAgICAgcmV0dXJuIG9wZXJhdGlvbnNDbGllbnQuY2FuY2VsT3BlcmF0aW9uKGNhbmNlbFJlcXVlc3QpO1xuICAgIH1cbiAgICBnZXRPcGVyYXRpb24oY2FsbGJhY2spIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBjb25zdCBvcGVyYXRpb25zQ2xpZW50ID0gdGhpcy5sb25ncnVubmluZ0Rlc2NyaXB0b3Iub3BlcmF0aW9uc0NsaWVudDtcbiAgICAgICAgZnVuY3Rpb24gcHJvbWlzaWZ5UmVzcG9uc2UoKSB7XG4gICAgICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYubGF0ZXN0UmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3Ioc2VsZi5sYXRlc3RSZXNwb25zZS5lcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzZWxmLmxhdGVzdFJlc3BvbnNlLmVycm9yLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbc2VsZi5yZXN1bHQsIHNlbGYubWV0YWRhdGEsIHNlbGYubGF0ZXN0UmVzcG9uc2VdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhdGVzdFJlc3BvbnNlLmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VucGFja1Jlc3BvbnNlKHRoaXMubGF0ZXN0UmVzcG9uc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnlSZXNwb25zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgb3BlcmF0aW9uUHJvdG9zLmdvb2dsZS5sb25ncnVubmluZy5HZXRPcGVyYXRpb25SZXF1ZXN0KCk7XG4gICAgICAgIHJlcXVlc3QubmFtZSA9IHRoaXMubGF0ZXN0UmVzcG9uc2UubmFtZTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2FsbFByb21pc2VfID0gb3BlcmF0aW9uc0NsaWVudC5nZXRPcGVyYXRpb25JbnRlcm5hbChyZXF1ZXN0LCB0aGlzLl9jYWxsT3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5vQ2FsbGJhY2tQcm9taXNlID0gdGhpcy5jdXJyZW50Q2FsbFByb21pc2VfLnRoZW4ocmVzcG9uc2VzID0+IHtcbiAgICAgICAgICAgIHNlbGYubGF0ZXN0UmVzcG9uc2UgPSByZXNwb25zZXNbMF07XG4gICAgICAgICAgICBzZWxmLl91bnBhY2tSZXNwb25zZShyZXNwb25zZXNbMF0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnlSZXNwb25zZSgpO1xuICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIG5vQ2FsbGJhY2tQcm9taXNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF91bnBhY2tSZXNwb25zZShvcCwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VEZWNvZGVyID0gdGhpcy5sb25ncnVubmluZ0Rlc2NyaXB0b3IucmVzcG9uc2VEZWNvZGVyO1xuICAgICAgICBjb25zdCBtZXRhZGF0YURlY29kZXIgPSB0aGlzLmxvbmdydW5uaW5nRGVzY3JpcHRvci5tZXRhZGF0YURlY29kZXI7XG4gICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICBpZiAob3AuZG9uZSkge1xuICAgICAgICAgICAgaWYgKG9wLnJlc3VsdCA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3Iob3AuZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IG9wLmVycm9yLmNvZGU7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZURlY29kZXIgJiYgb3AucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gb3AucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXNwb25zZURlY29kZXIob3AucmVzcG9uc2UudmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0YWRhdGFEZWNvZGVyICYmIG9wLm1ldGFkYXRhKSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG1ldGFkYXRhRGVjb2RlcihvcC5tZXRhZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSwgbWV0YWRhdGEsIG9wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQb2xsIGBnZXRPcGVyYXRpb25gIHRvIGNoZWNrIHRoZSBvcGVyYXRpb24ncyBzdGF0dXMuIFRoaXMgcnVucyBhIGxvb3AgdG9cbiAgICAgKiBwaW5nIHVzaW5nIHRoZSBiYWNrb2ZmIHN0cmF0ZWd5IHNwZWNpZmllZCBhdCBpbml0aWFsaXphdGlvbi5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIG9uY2UgYSBcImNvbXBsZXRlXCIgZXZlbnQgaGFuZGxlclxuICAgICAqIGlzIHJlZ2lzdGVyZWQgb24gdGhlIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhcnRQb2xsaW5nXygpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgZGVsYXlNdWx0ID0gdGhpcy5iYWNrb2ZmU2V0dGluZ3MucmV0cnlEZWxheU11bHRpcGxpZXI7XG4gICAgICAgIGNvbnN0IG1heERlbGF5ID0gdGhpcy5iYWNrb2ZmU2V0dGluZ3MubWF4UmV0cnlEZWxheU1pbGxpcztcbiAgICAgICAgbGV0IGRlbGF5ID0gdGhpcy5iYWNrb2ZmU2V0dGluZ3MuaW5pdGlhbFJldHJ5RGVsYXlNaWxsaXM7XG4gICAgICAgIGxldCBkZWFkbGluZSA9IEluZmluaXR5O1xuICAgICAgICBpZiAodGhpcy5iYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzKSB7XG4gICAgICAgICAgICBkZWFkbGluZSA9IG5vdy5nZXRUaW1lKCkgKyB0aGlzLmJhY2tvZmZTZXR0aW5ncy50b3RhbFRpbWVvdXRNaWxsaXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzTWV0YWRhdGFCeXRlcztcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0UmVzcG9uc2UubWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHByZXZpb3VzTWV0YWRhdGFCeXRlcyA9IHRoaXMubGF0ZXN0UmVzcG9uc2UubWV0YWRhdGEudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCwgLi4uYXJncykge1xuICAgICAgICAgICAgc2VsZi5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVwbGFjZSBub2RlanMgYnVmZmVyJ3MgZXF1YWxzKClcbiAgICAgICAgZnVuY3Rpb24gYXJyYXlFcXVhbHMoYSwgYikge1xuICAgICAgICAgICAgaWYgKGEuYnl0ZUxlbmd0aCAhPT0gYi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmJ5dGVMZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZXRyeSgpIHtcbiAgICAgICAgICAgIGlmICghc2VsZi5oYXNBY3RpdmVMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm93LmdldFRpbWUoKSA+PSBkZWFkbGluZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ1RvdGFsIHRpbWVvdXQgZXhjZWVkZWQgYmVmb3JlIGFueSByZXNwb25zZSB3YXMgcmVjZWl2ZWQnKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVEO1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShlbWl0LCAnZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5nZXRPcGVyYXRpb24oKGVyciwgcmVzdWx0LCBtZXRhZGF0YSwgcmF3UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShlbWl0LCAnZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdSZXNwb25zZS5tZXRhZGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKCFwcmV2aW91c01ldGFkYXRhQnl0ZXMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmF3UmVzcG9uc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWFycmF5RXF1YWxzKHJhd1Jlc3BvbnNlLm1ldGFkYXRhLnZhbHVlLCBwcmV2aW91c01ldGFkYXRhQnl0ZXMpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShlbWl0LCAncHJvZ3Jlc3MnLCBtZXRhZGF0YSwgcmF3UmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNNZXRhZGF0YUJ5dGVzID0gcmF3UmVzcG9uc2UubWV0YWRhdGEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBzb21lIEFQSXMgZmFpbCB0byBzZXQgZWl0aGVyIHJlc3VsdCBvciBlcnJvclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgc2V0IGRvbmUgPSB0cnVlIChlLmcuIHNwZWVjaCB3aXRoIHNpbGVudCBmaWxlKS5cbiAgICAgICAgICAgICAgICAgICAgLy8gU29tZSBBUElzIGp1c3QgdXNlIHRoaXMgZm9yIHRoZSBub3JtYWwgY29tcGxldGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAoZS5nLiBub2RlanMtY29udGFjdC1jZW50ZXItaW5zaWdodHMpLCBzbyBsZXQncyBqdXN0IHJldHVyblxuICAgICAgICAgICAgICAgICAgICAvLyBhbiBlbXB0eSByZXNwb25zZSBpbiB0aGlzIGNhc2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYXdSZXNwb25zZS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoZW1pdCwgJ2NvbXBsZXRlJywge30sIG1ldGFkYXRhLCByYXdSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXkgPSBNYXRoLm1pbihkZWxheSAqIGRlbGF5TXVsdCwgbWF4RGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZShlbWl0LCAnY29tcGxldGUnLCByZXN1bHQsIG1ldGFkYXRhLCByYXdSZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXRyeSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcmFwcyB0aGUgYGNvbXBsZXRlYCBhbmQgYGVycm9yYCBldmVudHMgaW4gYSBQcm9taXNlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7cHJvbWlzZX0gLSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgb24gb3BlcmF0aW9uIGNvbXBsZXRpb24gYW5kIHJlamVjdHNcbiAgICAgKiBvbiBvcGVyYXRpb24gZXJyb3IuXG4gICAgICovXG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMub24oJ2Vycm9yJywgcmVqZWN0KS5vbignY29tcGxldGUnLCAocmVzdWx0LCBtZXRhZGF0YSwgcmF3UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKFtyZXN1bHQsIG1ldGFkYXRhLCByYXdSZXNwb25zZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuT3BlcmF0aW9uID0gT3BlcmF0aW9uO1xuLyoqXG4gKiBNZXRob2QgdXNlZCB0byBjcmVhdGUgT3BlcmF0aW9uIG9iamVjdHMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9ufSBvcCAtIFRoZSBvcGVyYXRpb24gdG8gYmUgd3JhcHBlZC5cbiAqIEBwYXJhbSB7TG9uZ1J1bm5pbmdEZXNjcmlwdG9yfSBsb25ncnVubmluZ0Rlc2NyaXB0b3IgLSBUaGlzIGRlZmluZXMgdGhlXG4gKiBvcGVyYXRpb25zIHNlcnZpY2UgY2xpZW50IGFuZCB1bnBhY2tpbmcgbWVjaGFuaXNtcyBmb3IgdGhlIG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7QmFja29mZlNldHRpbmdzfSBiYWNrb2ZmU2V0dGluZ3MgLSBUaGUgYmFja29mZiBzZXR0aW5ncyB1c2VkIGluXG4gKiBpbiBwb2xsaW5nIHRoZSBvcGVyYXRpb24uXG4gKiBAcGFyYW0ge0NhbGxPcHRpb25zPX0gY2FsbE9wdGlvbnMgLSBDYWxsT3B0aW9ucyB1c2VkIGluIG1ha2luZyBnZXQgb3BlcmF0aW9uXG4gKiByZXF1ZXN0cy5cbiAqL1xuZnVuY3Rpb24gb3BlcmF0aW9uKG9wLCBsb25ncnVubmluZ0Rlc2NyaXB0b3IsIGJhY2tvZmZTZXR0aW5ncywgY2FsbE9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdGlvbihvcCwgbG9uZ3J1bm5pbmdEZXNjcmlwdG9yLCBiYWNrb2ZmU2V0dGluZ3MsIGNhbGxPcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvbmdydW5uaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/longRunningCalls/longrunning.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js":
/*!**************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NormalApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(rsc)/./node_modules/google-gax/build/src/call.js\");\n/**\n * Creates an API caller for regular unary methods.\n */\nclass NormalApiCaller {\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    wrap(func) {\n        return func;\n    }\n    call(apiCall, argument, settings, canceller) {\n        canceller.call(apiCall, argument);\n    }\n    fail(canceller, err) {\n        canceller.callback(err);\n    }\n    result(canceller) {\n        return canceller.promise;\n    }\n}\nexports.NormalApiCaller = NormalApiCaller;\n//# sourceMappingURL=normalApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbm9ybWFsQ2FsbHMvbm9ybWFsQXBpQ2FsbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixlQUFlLG1CQUFPLENBQUMsa0VBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ub3JtYWxDYWxscy9ub3JtYWxBcGlDYWxsZXIuanM/NTE4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTm9ybWFsQXBpQ2FsbGVyID0gdm9pZCAwO1xuY29uc3QgY2FsbF8xID0gcmVxdWlyZShcIi4uL2NhbGxcIik7XG4vKipcbiAqIENyZWF0ZXMgYW4gQVBJIGNhbGxlciBmb3IgcmVndWxhciB1bmFyeSBtZXRob2RzLlxuICovXG5jbGFzcyBOb3JtYWxBcGlDYWxsZXIge1xuICAgIGluaXQoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNhbGxfMS5PbmdvaW5nQ2FsbChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBjYWxsXzEuT25nb2luZ0NhbGxQcm9taXNlKCk7XG4gICAgfVxuICAgIHdyYXAoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgY2FsbChhcGlDYWxsLCBhcmd1bWVudCwgc2V0dGluZ3MsIGNhbmNlbGxlcikge1xuICAgICAgICBjYW5jZWxsZXIuY2FsbChhcGlDYWxsLCBhcmd1bWVudCk7XG4gICAgfVxuICAgIGZhaWwoY2FuY2VsbGVyLCBlcnIpIHtcbiAgICAgICAgY2FuY2VsbGVyLmNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHJlc3VsdChjYW5jZWxsZXIpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbGxlci5wcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuTm9ybWFsQXBpQ2FsbGVyID0gTm9ybWFsQXBpQ2FsbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9ybWFsQXBpQ2FsbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/normalCalls/retries.js":
/*!******************************************************************!*\
  !*** ./node_modules/google-gax/build/src/normalCalls/retries.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.retryable = retryable;\nconst status_1 = __webpack_require__(/*! ../status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nconst timeout_1 = __webpack_require__(/*! ./timeout */ \"(rsc)/./node_modules/google-gax/build/src/normalCalls/timeout.js\");\n/**\n * Creates a function equivalent to func, but that retries on certain\n * exceptions.\n *\n * @private\n *\n * @param {GRPCCall} func - A function.\n * @param {RetryOptions} retry - Configures the exceptions upon which the\n *   function eshould retry, and the parameters to the exponential backoff retry\n *   algorithm.\n * @param {GRPCCallOtherArgs} otherArgs - the additional arguments to be passed to func.\n * @return {SimpleCallbackFunction} A function that will retry.\n */\nfunction retryable(func, retry, otherArgs, apiName) {\n    const delayMult = retry.backoffSettings.retryDelayMultiplier;\n    const maxDelay = retry.backoffSettings.maxRetryDelayMillis;\n    const timeoutMult = retry.backoffSettings.rpcTimeoutMultiplier;\n    const maxTimeout = retry.backoffSettings.maxRpcTimeoutMillis;\n    let delay = retry.backoffSettings.initialRetryDelayMillis;\n    let timeout = retry.backoffSettings.initialRpcTimeoutMillis;\n    /**\n     * Equivalent to ``func``, but retries upon transient failure.\n     *\n     * Retrying is done through an exponential backoff algorithm configured\n     * by the options in ``retry``.\n     * @param {RequestType} argument The request object.\n     * @param {APICallback} callback The callback.\n     * @return {GRPCCall}\n     */\n    return (argument, callback) => {\n        let canceller;\n        let timeoutId;\n        let now = new Date();\n        let deadline;\n        if (retry.backoffSettings.totalTimeoutMillis) {\n            deadline = now.getTime() + retry.backoffSettings.totalTimeoutMillis;\n        }\n        let retries = 0;\n        const maxRetries = retry.backoffSettings.maxRetries;\n        // TODO: define A/B testing values for retry behaviors.\n        /** Repeat the API call as long as necessary. */\n        function repeat(err) {\n            timeoutId = null;\n            if (deadline && now.getTime() >= deadline) {\n                const error = new googleError_1.GoogleError(`Total timeout of API ${apiName} exceeded ${retry.backoffSettings.totalTimeoutMillis} milliseconds ${err ? `retrying error ${err} ` : ''} before any response was received.`);\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                callback(error);\n                return;\n            }\n            if (retries && retries >= maxRetries) {\n                const error = new googleError_1.GoogleError('Exceeded maximum number of retries ' +\n                    (err ? `retrying error ${err} ` : '') +\n                    'before any response was received');\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                callback(error);\n                return;\n            }\n            retries++;\n            let lastError = err;\n            const toCall = (0, timeout_1.addTimeoutArg)(func, timeout, otherArgs);\n            canceller = toCall(argument, (err, response, next, rawResponse) => {\n                // Save only the error before deadline exceeded\n                if (err && err.code !== 4) {\n                    lastError = err;\n                }\n                if (!err) {\n                    callback(null, response, next, rawResponse);\n                    return;\n                }\n                canceller = null;\n                if (retry.retryCodes.length > 0 &&\n                    retry.retryCodes.indexOf(err.code) < 0) {\n                    err.note =\n                        'Exception occurred in retry method that was ' +\n                            'not classified as transient';\n                    callback(err);\n                }\n                else {\n                    const toSleep = Math.random() * delay;\n                    timeoutId = setTimeout(() => {\n                        now = new Date();\n                        delay = Math.min(delay * delayMult, maxDelay);\n                        const timeoutCal = timeout && timeoutMult ? timeout * timeoutMult : 0;\n                        const rpcTimeout = maxTimeout ? maxTimeout : 0;\n                        const newDeadline = deadline ? deadline - now.getTime() : 0;\n                        timeout = Math.min(timeoutCal, rpcTimeout, newDeadline);\n                        repeat(lastError);\n                    }, toSleep);\n                }\n            });\n            if (canceller instanceof Promise) {\n                canceller.catch(err => {\n                    callback(new googleError_1.GoogleError(err));\n                });\n            }\n        }\n        if (maxRetries && deadline) {\n            const error = new googleError_1.GoogleError('Cannot set both totalTimeoutMillis and maxRetries ' +\n                'in backoffSettings.');\n            error.code = status_1.Status.INVALID_ARGUMENT;\n            callback(error);\n        }\n        else {\n            repeat();\n        }\n        return {\n            cancel() {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n                if (canceller) {\n                    canceller.cancel();\n                }\n                else {\n                    const error = new googleError_1.GoogleError('cancelled');\n                    error.code = status_1.Status.CANCELLED;\n                    callback(error);\n                }\n            },\n        };\n    };\n}\n//# sourceMappingURL=retries.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbm9ybWFsQ2FsbHMvcmV0cmllcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsaUJBQWlCLG1CQUFPLENBQUMsc0VBQVc7QUFDcEMsc0JBQXNCLG1CQUFPLENBQUMsZ0ZBQWdCO0FBQzlDLGtCQUFrQixtQkFBTyxDQUFDLG1GQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsYUFBYTtBQUM1QixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsU0FBUyxXQUFXLDBDQUEwQyxlQUFlLHdCQUF3QixLQUFLLFFBQVE7QUFDdE07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLEtBQUs7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL25vcm1hbENhbGxzL3JldHJpZXMuanM/NTFhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmV0cnlhYmxlID0gcmV0cnlhYmxlO1xuY29uc3Qgc3RhdHVzXzEgPSByZXF1aXJlKFwiLi4vc3RhdHVzXCIpO1xuY29uc3QgZ29vZ2xlRXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9nb29nbGVFcnJvclwiKTtcbmNvbnN0IHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL3RpbWVvdXRcIik7XG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBlcXVpdmFsZW50IHRvIGZ1bmMsIGJ1dCB0aGF0IHJldHJpZXMgb24gY2VydGFpblxuICogZXhjZXB0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7R1JQQ0NhbGx9IGZ1bmMgLSBBIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtSZXRyeU9wdGlvbnN9IHJldHJ5IC0gQ29uZmlndXJlcyB0aGUgZXhjZXB0aW9ucyB1cG9uIHdoaWNoIHRoZVxuICogICBmdW5jdGlvbiBlc2hvdWxkIHJldHJ5LCBhbmQgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgcmV0cnlcbiAqICAgYWxnb3JpdGhtLlxuICogQHBhcmFtIHtHUlBDQ2FsbE90aGVyQXJnc30gb3RoZXJBcmdzIC0gdGhlIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBmdW5jLlxuICogQHJldHVybiB7U2ltcGxlQ2FsbGJhY2tGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmV0cnkuXG4gKi9cbmZ1bmN0aW9uIHJldHJ5YWJsZShmdW5jLCByZXRyeSwgb3RoZXJBcmdzLCBhcGlOYW1lKSB7XG4gICAgY29uc3QgZGVsYXlNdWx0ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLnJldHJ5RGVsYXlNdWx0aXBsaWVyO1xuICAgIGNvbnN0IG1heERlbGF5ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLm1heFJldHJ5RGVsYXlNaWxsaXM7XG4gICAgY29uc3QgdGltZW91dE11bHQgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MucnBjVGltZW91dE11bHRpcGxpZXI7XG4gICAgY29uc3QgbWF4VGltZW91dCA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5tYXhScGNUaW1lb3V0TWlsbGlzO1xuICAgIGxldCBkZWxheSA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5pbml0aWFsUmV0cnlEZWxheU1pbGxpcztcbiAgICBsZXQgdGltZW91dCA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5pbml0aWFsUnBjVGltZW91dE1pbGxpcztcbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIGBgZnVuY2BgLCBidXQgcmV0cmllcyB1cG9uIHRyYW5zaWVudCBmYWlsdXJlLlxuICAgICAqXG4gICAgICogUmV0cnlpbmcgaXMgZG9uZSB0aHJvdWdoIGFuIGV4cG9uZW50aWFsIGJhY2tvZmYgYWxnb3JpdGhtIGNvbmZpZ3VyZWRcbiAgICAgKiBieSB0aGUgb3B0aW9ucyBpbiBgYHJldHJ5YGAuXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0VHlwZX0gYXJndW1lbnQgVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7QVBJQ2FsbGJhY2t9IGNhbGxiYWNrIFRoZSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJuIHtHUlBDQ2FsbH1cbiAgICAgKi9cbiAgICByZXR1cm4gKGFyZ3VtZW50LCBjYWxsYmFjaykgPT4ge1xuICAgICAgICBsZXQgY2FuY2VsbGVyO1xuICAgICAgICBsZXQgdGltZW91dElkO1xuICAgICAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IGRlYWRsaW5lO1xuICAgICAgICBpZiAocmV0cnkuYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpcykge1xuICAgICAgICAgICAgZGVhZGxpbmUgPSBub3cuZ2V0VGltZSgpICsgcmV0cnkuYmFja29mZlNldHRpbmdzLnRvdGFsVGltZW91dE1pbGxpcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0cmllcyA9IDA7XG4gICAgICAgIGNvbnN0IG1heFJldHJpZXMgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MubWF4UmV0cmllcztcbiAgICAgICAgLy8gVE9ETzogZGVmaW5lIEEvQiB0ZXN0aW5nIHZhbHVlcyBmb3IgcmV0cnkgYmVoYXZpb3JzLlxuICAgICAgICAvKiogUmVwZWF0IHRoZSBBUEkgY2FsbCBhcyBsb25nIGFzIG5lY2Vzc2FyeS4gKi9cbiAgICAgICAgZnVuY3Rpb24gcmVwZWF0KGVycikge1xuICAgICAgICAgICAgdGltZW91dElkID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChkZWFkbGluZSAmJiBub3cuZ2V0VGltZSgpID49IGRlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcihgVG90YWwgdGltZW91dCBvZiBBUEkgJHthcGlOYW1lfSBleGNlZWRlZCAke3JldHJ5LmJhY2tvZmZTZXR0aW5ncy50b3RhbFRpbWVvdXRNaWxsaXN9IG1pbGxpc2Vjb25kcyAke2VyciA/IGByZXRyeWluZyBlcnJvciAke2Vycn0gYCA6ICcnfSBiZWZvcmUgYW55IHJlc3BvbnNlIHdhcyByZWNlaXZlZC5gKTtcbiAgICAgICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVEO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0cmllcyAmJiByZXRyaWVzID49IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdFeGNlZWRlZCBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzICcgK1xuICAgICAgICAgICAgICAgICAgICAoZXJyID8gYHJldHJ5aW5nIGVycm9yICR7ZXJyfSBgIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJ2JlZm9yZSBhbnkgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkJyk7XG4gICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRDtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0cmllcysrO1xuICAgICAgICAgICAgbGV0IGxhc3RFcnJvciA9IGVycjtcbiAgICAgICAgICAgIGNvbnN0IHRvQ2FsbCA9ICgwLCB0aW1lb3V0XzEuYWRkVGltZW91dEFyZykoZnVuYywgdGltZW91dCwgb3RoZXJBcmdzKTtcbiAgICAgICAgICAgIGNhbmNlbGxlciA9IHRvQ2FsbChhcmd1bWVudCwgKGVyciwgcmVzcG9uc2UsIG5leHQsIHJhd1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBvbmx5IHRoZSBlcnJvciBiZWZvcmUgZGVhZGxpbmUgZXhjZWVkZWRcbiAgICAgICAgICAgICAgICBpZiAoZXJyICYmIGVyci5jb2RlICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UsIG5leHQsIHJhd1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW5jZWxsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZXRyeS5yZXRyeUNvZGVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgcmV0cnkucmV0cnlDb2Rlcy5pbmRleE9mKGVyci5jb2RlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyLm5vdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgJ0V4Y2VwdGlvbiBvY2N1cnJlZCBpbiByZXRyeSBtZXRob2QgdGhhdCB3YXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25vdCBjbGFzc2lmaWVkIGFzIHRyYW5zaWVudCc7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1NsZWVwID0gTWF0aC5yYW5kb20oKSAqIGRlbGF5O1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheSA9IE1hdGgubWluKGRlbGF5ICogZGVsYXlNdWx0LCBtYXhEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0Q2FsID0gdGltZW91dCAmJiB0aW1lb3V0TXVsdCA/IHRpbWVvdXQgKiB0aW1lb3V0TXVsdCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBycGNUaW1lb3V0ID0gbWF4VGltZW91dCA/IG1heFRpbWVvdXQgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVhZGxpbmUgPSBkZWFkbGluZSA/IGRlYWRsaW5lIC0gbm93LmdldFRpbWUoKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gTWF0aC5taW4odGltZW91dENhbCwgcnBjVGltZW91dCwgbmV3RGVhZGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0KGxhc3RFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRvU2xlZXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbmNlbGxlciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxsZXIuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFJldHJpZXMgJiYgZGVhZGxpbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ0Nhbm5vdCBzZXQgYm90aCB0b3RhbFRpbWVvdXRNaWxsaXMgYW5kIG1heFJldHJpZXMgJyArXG4gICAgICAgICAgICAgICAgJ2luIGJhY2tvZmZTZXR0aW5ncy4nKTtcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPSBzdGF0dXNfMS5TdGF0dXMuSU5WQUxJRF9BUkdVTUVOVDtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcGVhdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbGxlcikge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5DQU5DRUxMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyaWVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/normalCalls/retries.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/normalCalls/timeout.js":
/*!******************************************************************!*\
  !*** ./node_modules/google-gax/build/src/normalCalls/timeout.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.addTimeoutArg = addTimeoutArg;\n/**\n * Updates func so that it gets called with the timeout as its final arg.\n *\n * This converts a function, func, into another function with updated deadline.\n *\n * @private\n *\n * @param {GRPCCall} func - a function to be updated.\n * @param {number} timeout - to be added to the original function as it final\n *   positional arg.\n * @param {Object} otherArgs - the additional arguments to be passed to func.\n * @param {Object=} abTests - the A/B testing key/value pairs.\n * @return {function(Object, APICallback)}\n *  the function with other arguments and the timeout.\n */\nfunction addTimeoutArg(func, timeout, otherArgs, abTests) {\n    // TODO: this assumes the other arguments consist of metadata and options,\n    // which is specific to gRPC calls. Remove the hidden dependency on gRPC.\n    return (argument, callback) => {\n        const now = new Date();\n        const options = otherArgs.options || {};\n        options.deadline = new Date(now.getTime() + timeout);\n        const metadata = otherArgs.metadataBuilder\n            ? otherArgs.metadataBuilder(abTests, otherArgs.headers || {})\n            : null;\n        return func(argument, metadata, options, callback);\n    };\n}\n//# sourceMappingURL=timeout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvbm9ybWFsQ2FsbHMvdGltZW91dC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9ub3JtYWxDYWxscy90aW1lb3V0LmpzP2M0NjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFkZFRpbWVvdXRBcmcgPSBhZGRUaW1lb3V0QXJnO1xuLyoqXG4gKiBVcGRhdGVzIGZ1bmMgc28gdGhhdCBpdCBnZXRzIGNhbGxlZCB3aXRoIHRoZSB0aW1lb3V0IGFzIGl0cyBmaW5hbCBhcmcuXG4gKlxuICogVGhpcyBjb252ZXJ0cyBhIGZ1bmN0aW9uLCBmdW5jLCBpbnRvIGFub3RoZXIgZnVuY3Rpb24gd2l0aCB1cGRhdGVkIGRlYWRsaW5lLlxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtHUlBDQ2FsbH0gZnVuYyAtIGEgZnVuY3Rpb24gdG8gYmUgdXBkYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lb3V0IC0gdG8gYmUgYWRkZWQgdG8gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGFzIGl0IGZpbmFsXG4gKiAgIHBvc2l0aW9uYWwgYXJnLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyQXJncyAtIHRoZSBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZnVuYy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gYWJUZXN0cyAtIHRoZSBBL0IgdGVzdGluZyBrZXkvdmFsdWUgcGFpcnMuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihPYmplY3QsIEFQSUNhbGxiYWNrKX1cbiAqICB0aGUgZnVuY3Rpb24gd2l0aCBvdGhlciBhcmd1bWVudHMgYW5kIHRoZSB0aW1lb3V0LlxuICovXG5mdW5jdGlvbiBhZGRUaW1lb3V0QXJnKGZ1bmMsIHRpbWVvdXQsIG90aGVyQXJncywgYWJUZXN0cykge1xuICAgIC8vIFRPRE86IHRoaXMgYXNzdW1lcyB0aGUgb3RoZXIgYXJndW1lbnRzIGNvbnNpc3Qgb2YgbWV0YWRhdGEgYW5kIG9wdGlvbnMsXG4gICAgLy8gd2hpY2ggaXMgc3BlY2lmaWMgdG8gZ1JQQyBjYWxscy4gUmVtb3ZlIHRoZSBoaWRkZW4gZGVwZW5kZW5jeSBvbiBnUlBDLlxuICAgIHJldHVybiAoYXJndW1lbnQsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBvdGhlckFyZ3Mub3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5kZWFkbGluZSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyB0aW1lb3V0KTtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBvdGhlckFyZ3MubWV0YWRhdGFCdWlsZGVyXG4gICAgICAgICAgICA/IG90aGVyQXJncy5tZXRhZGF0YUJ1aWxkZXIoYWJUZXN0cywgb3RoZXJBcmdzLmhlYWRlcnMgfHwge30pXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIHJldHVybiBmdW5jKGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lb3V0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/normalCalls/timeout.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/operationsClient.js":
/*!***************************************************************!*\
  !*** ./node_modules/google-gax/build/src/operationsClient.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OperationsClientBuilder = exports.OperationsClient = exports.ALL_SCOPES = exports.SERVICE_ADDRESS = void 0;\nconst createApiCall_1 = __webpack_require__(/*! ./createApiCall */ \"(rsc)/./node_modules/google-gax/build/src/createApiCall.js\");\nconst descriptor_1 = __webpack_require__(/*! ./descriptor */ \"(rsc)/./node_modules/google-gax/build/src/descriptor.js\");\nconst gax = __webpack_require__(/*! ./gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst configData = __webpack_require__(/*! ./operations_client_config.json */ \"(rsc)/./node_modules/google-gax/build/src/operations_client_config.json\");\nconst operationProtoJson = __webpack_require__(/*! ../protos/operations.json */ \"(rsc)/./node_modules/google-gax/build/protos/operations.json\");\nconst transcoding_1 = __webpack_require__(/*! ./transcoding */ \"(rsc)/./node_modules/google-gax/build/src/transcoding.js\");\nexports.SERVICE_ADDRESS = 'longrunning.googleapis.com';\nconst version = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/package.json\").version);\nconst DEFAULT_SERVICE_PORT = 443;\nconst CODE_GEN_NAME_VERSION = 'gapic/0.7.1';\n/**\n * The scopes needed to make gRPC calls to all of the methods defined in\n * this service.\n */\nexports.ALL_SCOPES = [];\n/**\n * Manages long-running operations with an API service.\n *\n * When an API method normally takes long time to complete, it can be designed\n * to return {@link Operation} to the client, and the client can use this\n * interface to receive the real response asynchronously by polling the\n * operation resource, or pass the operation resource to another API (such as\n * Google Cloud Pub/Sub API) to receive the response.  Any API service that\n * returns long-running operations should implement the `Operations` interface\n * so developers can have a consistent client experience.\n *\n * This will be created through a builder function which can be obtained by the\n * module. See the following example of how to initialize the module and how to\n * access to the builder.\n * @see {@link operationsClient}\n *\n * @class\n */\nclass OperationsClient {\n    constructor(gaxGrpc, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    operationsProtos, options) {\n        const opts = Object.assign({\n            servicePath: exports.SERVICE_ADDRESS,\n            port: DEFAULT_SERVICE_PORT,\n            clientConfig: {},\n        }, options);\n        const googleApiClient = ['gl-node/' + process.versions.node];\n        if (opts.libName && opts.libVersion) {\n            googleApiClient.push(opts.libName + '/' + opts.libVersion);\n        }\n        googleApiClient.push(CODE_GEN_NAME_VERSION, 'gax/' + version);\n        if (opts.fallback) {\n            googleApiClient.push('gl-web/' + version);\n        }\n        else {\n            googleApiClient.push('grpc/' + gaxGrpc.grpcVersion);\n        }\n        const defaults = gaxGrpc.constructSettings('google.longrunning.Operations', configData, opts.clientConfig || {}, { 'x-goog-api-client': googleApiClient.join(' ') });\n        this.auth = gaxGrpc.auth;\n        // Set up a dictionary of \"inner API calls\"; the core implementation\n        // of calling the API is handled in `google-gax`, with this code\n        // merely providing the destination and request information.\n        this.innerApiCalls = {};\n        this.descriptor = {\n            listOperations: new descriptor_1.PageDescriptor('pageToken', 'nextPageToken', 'operations'),\n        };\n        // Put together the \"service stub\" for\n        // google.longrunning.Operations.\n        this.operationsStub = gaxGrpc.createStub(opts.fallback\n            ? operationsProtos.lookupService('google.longrunning.Operations')\n            : operationsProtos.google.longrunning.Operations, opts);\n        const operationsStubMethods = [\n            'getOperation',\n            'listOperations',\n            'cancelOperation',\n            'deleteOperation',\n        ];\n        for (const methodName of operationsStubMethods) {\n            const innerCallPromise = this.operationsStub.then(stub => (...args) => {\n                const func = stub[methodName];\n                return func.apply(stub, args);\n            }, err => () => {\n                throw err;\n            });\n            this.innerApiCalls[methodName] = (0, createApiCall_1.createApiCall)(innerCallPromise, defaults[methodName], this.descriptor[methodName]);\n        }\n    }\n    /** Closes this operations client. */\n    close() {\n        this.operationsStub.then(stub => stub.close());\n    }\n    getProjectId(callback) {\n        if (this.auth && 'getProjectId' in this.auth) {\n            return this.auth.getProjectId(callback);\n        }\n        if (callback) {\n            callback(new Error('Cannot determine project ID.'));\n        }\n        else {\n            return Promise.reject('Cannot determine project ID.');\n        }\n    }\n    // Service calls\n    getOperationInternal(request, options, callback) {\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.getOperation(request, options, callback);\n    }\n    /**\n     * Gets the latest state of a long-running operation.  Clients can use this\n     * method to poll the operation result at intervals as recommended by the API\n     * service.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation resource.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     *   e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     *   https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     *   details.\n     * @param {function(?Error, ?Object)=} callback\n     *   The function which will be called with the result of the API call.\n     *\n     *   The second parameter to the callback is an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     * @return {Promise} - The promise which resolves to an array.\n     *   The first element of the array is an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}. The promise has a method named\n     * \"cancel\" which cancels the ongoing API call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * const name = '';\n     * const [response] = await client.getOperation({name});\n     * // doThingsWith(response)\n     */\n    getOperation(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.getOperation(request, options, callback);\n    }\n    /**\n     * Lists operations that match the specified filter in the request. If the\n     * server doesn't support this method, it returns `UNIMPLEMENTED`.\n     *\n     * NOTE: the `name` binding below allows API services to override the binding\n     * to use different resource name schemes.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation collection.\n     * @param {string} request.filter - The standard list filter.\n     * @param {number=} request.pageSize\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error, ?Array, ?Object, ?Object)=} callback\n     *   The function which will be called with the result of the API call.\n     *\n     *   The second parameter to the callback is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     *\n     *   When autoPaginate: false is specified through options, it contains the\n     * result in a single response. If the response indicates the next page\n     * exists, the third parameter is set to be used for the next request object.\n     * The fourth parameter keeps the raw response object of an object\n     * representing [google.longrunning.ListOperationsResponse]{@link\n     * external:\"google.longrunning.ListOperationsResponse\"}.\n     * @return {Promise} - The promise which resolves to an array.\n     *   The first element of the array is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     *\n     *   When autoPaginate: false is specified through options, the array has\n     * three elements. The first element is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"} in a single response. The second\n     * element is the next request object if the response indicates the next page\n     * exists, or null. The third element is an object representing\n     * [google.longrunning.ListOperationsResponse]{@link\n     * external:\"google.longrunning.ListOperationsResponse\"}.\n     *\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * const request = {\n     *     name: '',\n     *     filter: ''\n     * };\n     * // Iterate over all elements.\n     * const [resources] = await client.listOperations(request);\n     * for (const resource of resources) {\n     *   console.log(resources);\n     * }\n     *\n     * // Or obtain the paged response.\n     * const options = {autoPaginate: false};\n     * let nextRequest = request;\n     * while(nextRequest) {\n     *   const response = await client.listOperations(nextRequest, options);\n     *   const resources = response[0];\n     *   nextRequest = response[1];\n     *   const rawResponse = response[2];\n     *   for (const resource of resources) {\n     *     // doThingsWith(resource);\n     *   }\n     * };\n     */\n    listOperations(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.listOperations(request, options, callback);\n    }\n    /**\n     * Equivalent to {@link listOperations}, but returns a NodeJS Stream object.\n     *\n     * This fetches the paged responses for {@link listOperations} continuously\n     * and invokes the callback registered for 'data' event for each element in\n     * the responses.\n     *\n     * The returned object has 'end' method when no more elements are required.\n     *\n     * autoPaginate option will be ignored.\n     *\n     * @see {@link https://nodejs.org/api/stream.html}\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation collection.\n     * @param {string} request.filter - The standard list filter.\n     * @param {number=} request.pageSize -\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     *   e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     *   https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     *   details.\n     * @return {Stream} - An object stream which emits an object representing [google.longrunning.Operation]{@link external:\"google.longrunning.Operation\"} on 'data' event.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * const request = {\n     *   name: '',\n     *   filter: ''\n     * };\n     * client.listOperationsStream(request)\n     *   .on('data', element => {\n     *     // doThingsWith(element)\n     *   })\n     *   .on('error', err => {\n     *     console.error(err);\n     *   });\n     */\n    listOperationsStream(request, options) {\n        const callSettings = new gax.CallSettings(options);\n        return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations, request, callSettings);\n    }\n    /**\n     * Equivalent to {@link listOperations}, but returns an iterable object.\n     *\n     * for-await-of syntax is used with the iterable to recursively get response element on-demand.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation collection.\n     * @param {string} request.filter - The standard list filter.\n     * @param {number=} request.pageSize -\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     *   e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     *   https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     *   details.\n     * @returns {Object}\n     *   An iterable Object that conforms to @link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols.\n     */\n    listOperationsAsync(request, options) {\n        request = request || {};\n        options = options || {};\n        const callSettings = new gax.CallSettings(options);\n        return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations, request, callSettings);\n    }\n    /**\n     * Starts asynchronous cancellation on a long-running operation.  The server\n     * makes a best effort to cancel the operation, but success is not\n     * guaranteed.  If the server doesn't support this method, it returns\n     * `google.rpc.Code.UNIMPLEMENTED`.  Clients can use\n     * {@link Operations.GetOperation} or\n     * other methods to check whether the cancellation succeeded or whether the\n     * operation completed despite cancellation. On successful cancellation,\n     * the operation is not deleted; instead, it becomes an operation with\n     * an {@link Operation.error} value with a {@link google.rpc.Status.code} of\n     * 1, corresponding to `Code.CANCELLED`.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation resource to be cancelled.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error)=} callback\n     *   The function which will be called with the result of the API call.\n     * @return {Promise} - The promise which resolves when API call finishes.\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * await client.cancelOperation({name: ''});\n     */\n    cancelOperation(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.cancelOperation(request, options, callback);\n    }\n    /**\n     * Deletes a long-running operation. This method indicates that the client is\n     * no longer interested in the operation result. It does not cancel the\n     * operation. If the server doesn't support this method, it returns\n     * `google.rpc.Code.UNIMPLEMENTED`.\n     *\n     * @param {Object} request - The request object that will be sent.\n     * @param {string} request.name - The name of the operation resource to be deleted.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error)=} callback\n     *   The function which will be called with the result of the API call.\n     * @return {Promise} - The promise which resolves when API call finishes.\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * const client = longrunning.operationsClient();\n     * await client.deleteOperation({name: ''});\n     */\n    deleteOperation(request, optionsOrCallback, callback) {\n        let options;\n        if (optionsOrCallback instanceof Function && callback === undefined) {\n            callback = optionsOrCallback;\n            options = {};\n        }\n        else {\n            options = optionsOrCallback;\n        }\n        request = request || {};\n        options = options || {};\n        return this.innerApiCalls.deleteOperation(request, options, callback);\n    }\n}\nexports.OperationsClient = OperationsClient;\nclass OperationsClientBuilder {\n    /**\n     * Builds a new Operations Client\n     * @param gaxGrpc {GrpcClient}\n     */\n    constructor(gaxGrpc, protoJson) {\n        if (protoJson && gaxGrpc.httpRules) {\n            // overwrite the http rules if provide in service yaml.\n            (0, transcoding_1.overrideHttpRules)(gaxGrpc.httpRules, protoJson);\n        }\n        const operationsProtos = protoJson !== null && protoJson !== void 0 ? protoJson : gaxGrpc.loadProtoJSON(operationProtoJson);\n        /**\n         * Build a new instance of {@link OperationsClient}.\n         *\n         * @param {Object=} opts - The optional parameters.\n         * @param {String=} opts.servicePath - Domain name of the API remote host.\n         * @param {number=} opts.port - The port on which to connect to the remote host.\n         * @param {grpc.ClientCredentials=} opts.sslCreds - A ClientCredentials for use with an SSL-enabled channel.\n         * @param {Object=} opts.clientConfig - The customized config to build the call settings. See {@link gax.constructSettings} for the format.\n         */\n        this.operationsClient = opts => {\n            if (gaxGrpc.fallback) {\n                opts.fallback = gaxGrpc.fallback;\n            }\n            return new OperationsClient(gaxGrpc, operationsProtos, opts);\n        };\n        Object.assign(this.operationsClient, OperationsClient);\n    }\n}\nexports.OperationsClientBuilder = OperationsClientBuilder;\n//# sourceMappingURL=operationsClient.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvb3BlcmF0aW9uc0NsaWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0IsR0FBRyx3QkFBd0IsR0FBRyxrQkFBa0IsR0FBRyx1QkFBdUI7QUFDekcsd0JBQXdCLG1CQUFPLENBQUMsbUZBQWlCO0FBQ2pELHFCQUFxQixtQkFBTyxDQUFDLDZFQUFjO0FBQzNDLFlBQVksbUJBQU8sQ0FBQywrREFBTztBQUMzQixtQkFBbUIsbUJBQU8sQ0FBQyxnSEFBaUM7QUFDNUQsMkJBQTJCLG1CQUFPLENBQUMsK0ZBQTJCO0FBQzlELHNCQUFzQixtQkFBTyxDQUFDLCtFQUFlO0FBQzdDLHVCQUF1QjtBQUN2QixnQkFBZ0IsdUdBQXFDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVIQUF1SCxJQUFJLGdEQUFnRDtBQUMzSztBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0Esd0VBQXdFO0FBQ3hFLDBFQUEwRTtBQUMxRTtBQUNBLGVBQWUsNEJBQTRCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QywrQ0FBK0M7QUFDL0MsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQSxzQ0FBc0M7QUFDdEMsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxLQUFLO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQSxzRUFBc0U7QUFDdEUsd0VBQXdFO0FBQ3hFO0FBQ0EsZUFBZSw2Q0FBNkM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFLDREQUE0RDtBQUM1RCxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBLHNDQUFzQztBQUN0QywrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDO0FBQ0EsNkNBQTZDLHNCQUFzQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0Esd0VBQXdFO0FBQ3hFLDBFQUEwRTtBQUMxRTtBQUNBLGdCQUFnQixRQUFRLHFGQUFxRiwrQ0FBK0M7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxQkFBcUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQSx3RUFBd0U7QUFDeEUsMEVBQTBFO0FBQzFFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrQkFBK0I7QUFDdkM7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxXQUFXLHVCQUF1QixjQUFjLDhCQUE4QjtBQUM5RTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQSxzRUFBc0U7QUFDdEUsd0VBQXdFO0FBQ3hFO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEI7QUFDQSxzRUFBc0U7QUFDdEUsd0VBQXdFO0FBQ3hFO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsdUJBQXVCO0FBQzNEO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUIsbUJBQW1CLFNBQVM7QUFDNUIsbUJBQW1CLFNBQVM7QUFDNUIsbUJBQW1CLHlCQUF5QjtBQUM1QyxtQkFBbUIsU0FBUywyRUFBMkUsNkJBQTZCO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL29wZXJhdGlvbnNDbGllbnQuanM/NTg2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3BlcmF0aW9uc0NsaWVudEJ1aWxkZXIgPSBleHBvcnRzLk9wZXJhdGlvbnNDbGllbnQgPSBleHBvcnRzLkFMTF9TQ09QRVMgPSBleHBvcnRzLlNFUlZJQ0VfQUREUkVTUyA9IHZvaWQgMDtcbmNvbnN0IGNyZWF0ZUFwaUNhbGxfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZUFwaUNhbGxcIik7XG5jb25zdCBkZXNjcmlwdG9yXzEgPSByZXF1aXJlKFwiLi9kZXNjcmlwdG9yXCIpO1xuY29uc3QgZ2F4ID0gcmVxdWlyZShcIi4vZ2F4XCIpO1xuY29uc3QgY29uZmlnRGF0YSA9IHJlcXVpcmUoXCIuL29wZXJhdGlvbnNfY2xpZW50X2NvbmZpZy5qc29uXCIpO1xuY29uc3Qgb3BlcmF0aW9uUHJvdG9Kc29uID0gcmVxdWlyZShcIi4uL3Byb3Rvcy9vcGVyYXRpb25zLmpzb25cIik7XG5jb25zdCB0cmFuc2NvZGluZ18xID0gcmVxdWlyZShcIi4vdHJhbnNjb2RpbmdcIik7XG5leHBvcnRzLlNFUlZJQ0VfQUREUkVTUyA9ICdsb25ncnVubmluZy5nb29nbGVhcGlzLmNvbSc7XG5jb25zdCB2ZXJzaW9uID0gcmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbmNvbnN0IERFRkFVTFRfU0VSVklDRV9QT1JUID0gNDQzO1xuY29uc3QgQ09ERV9HRU5fTkFNRV9WRVJTSU9OID0gJ2dhcGljLzAuNy4xJztcbi8qKlxuICogVGhlIHNjb3BlcyBuZWVkZWQgdG8gbWFrZSBnUlBDIGNhbGxzIHRvIGFsbCBvZiB0aGUgbWV0aG9kcyBkZWZpbmVkIGluXG4gKiB0aGlzIHNlcnZpY2UuXG4gKi9cbmV4cG9ydHMuQUxMX1NDT1BFUyA9IFtdO1xuLyoqXG4gKiBNYW5hZ2VzIGxvbmctcnVubmluZyBvcGVyYXRpb25zIHdpdGggYW4gQVBJIHNlcnZpY2UuXG4gKlxuICogV2hlbiBhbiBBUEkgbWV0aG9kIG5vcm1hbGx5IHRha2VzIGxvbmcgdGltZSB0byBjb21wbGV0ZSwgaXQgY2FuIGJlIGRlc2lnbmVkXG4gKiB0byByZXR1cm4ge0BsaW5rIE9wZXJhdGlvbn0gdG8gdGhlIGNsaWVudCwgYW5kIHRoZSBjbGllbnQgY2FuIHVzZSB0aGlzXG4gKiBpbnRlcmZhY2UgdG8gcmVjZWl2ZSB0aGUgcmVhbCByZXNwb25zZSBhc3luY2hyb25vdXNseSBieSBwb2xsaW5nIHRoZVxuICogb3BlcmF0aW9uIHJlc291cmNlLCBvciBwYXNzIHRoZSBvcGVyYXRpb24gcmVzb3VyY2UgdG8gYW5vdGhlciBBUEkgKHN1Y2ggYXNcbiAqIEdvb2dsZSBDbG91ZCBQdWIvU3ViIEFQSSkgdG8gcmVjZWl2ZSB0aGUgcmVzcG9uc2UuICBBbnkgQVBJIHNlcnZpY2UgdGhhdFxuICogcmV0dXJucyBsb25nLXJ1bm5pbmcgb3BlcmF0aW9ucyBzaG91bGQgaW1wbGVtZW50IHRoZSBgT3BlcmF0aW9uc2AgaW50ZXJmYWNlXG4gKiBzbyBkZXZlbG9wZXJzIGNhbiBoYXZlIGEgY29uc2lzdGVudCBjbGllbnQgZXhwZXJpZW5jZS5cbiAqXG4gKiBUaGlzIHdpbGwgYmUgY3JlYXRlZCB0aHJvdWdoIGEgYnVpbGRlciBmdW5jdGlvbiB3aGljaCBjYW4gYmUgb2J0YWluZWQgYnkgdGhlXG4gKiBtb2R1bGUuIFNlZSB0aGUgZm9sbG93aW5nIGV4YW1wbGUgb2YgaG93IHRvIGluaXRpYWxpemUgdGhlIG1vZHVsZSBhbmQgaG93IHRvXG4gKiBhY2Nlc3MgdG8gdGhlIGJ1aWxkZXIuXG4gKiBAc2VlIHtAbGluayBvcGVyYXRpb25zQ2xpZW50fVxuICpcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBPcGVyYXRpb25zQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihnYXhHcnBjLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIG9wZXJhdGlvbnNQcm90b3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc2VydmljZVBhdGg6IGV4cG9ydHMuU0VSVklDRV9BRERSRVNTLFxuICAgICAgICAgICAgcG9ydDogREVGQVVMVF9TRVJWSUNFX1BPUlQsXG4gICAgICAgICAgICBjbGllbnRDb25maWc6IHt9LFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgZ29vZ2xlQXBpQ2xpZW50ID0gWydnbC1ub2RlLycgKyBwcm9jZXNzLnZlcnNpb25zLm5vZGVdO1xuICAgICAgICBpZiAob3B0cy5saWJOYW1lICYmIG9wdHMubGliVmVyc2lvbikge1xuICAgICAgICAgICAgZ29vZ2xlQXBpQ2xpZW50LnB1c2gob3B0cy5saWJOYW1lICsgJy8nICsgb3B0cy5saWJWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBnb29nbGVBcGlDbGllbnQucHVzaChDT0RFX0dFTl9OQU1FX1ZFUlNJT04sICdnYXgvJyArIHZlcnNpb24pO1xuICAgICAgICBpZiAob3B0cy5mYWxsYmFjaykge1xuICAgICAgICAgICAgZ29vZ2xlQXBpQ2xpZW50LnB1c2goJ2dsLXdlYi8nICsgdmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnb29nbGVBcGlDbGllbnQucHVzaCgnZ3JwYy8nICsgZ2F4R3JwYy5ncnBjVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBnYXhHcnBjLmNvbnN0cnVjdFNldHRpbmdzKCdnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9ucycsIGNvbmZpZ0RhdGEsIG9wdHMuY2xpZW50Q29uZmlnIHx8IHt9LCB7ICd4LWdvb2ctYXBpLWNsaWVudCc6IGdvb2dsZUFwaUNsaWVudC5qb2luKCcgJykgfSk7XG4gICAgICAgIHRoaXMuYXV0aCA9IGdheEdycGMuYXV0aDtcbiAgICAgICAgLy8gU2V0IHVwIGEgZGljdGlvbmFyeSBvZiBcImlubmVyIEFQSSBjYWxsc1wiOyB0aGUgY29yZSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAvLyBvZiBjYWxsaW5nIHRoZSBBUEkgaXMgaGFuZGxlZCBpbiBgZ29vZ2xlLWdheGAsIHdpdGggdGhpcyBjb2RlXG4gICAgICAgIC8vIG1lcmVseSBwcm92aWRpbmcgdGhlIGRlc3RpbmF0aW9uIGFuZCByZXF1ZXN0IGluZm9ybWF0aW9uLlxuICAgICAgICB0aGlzLmlubmVyQXBpQ2FsbHMgPSB7fTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgbGlzdE9wZXJhdGlvbnM6IG5ldyBkZXNjcmlwdG9yXzEuUGFnZURlc2NyaXB0b3IoJ3BhZ2VUb2tlbicsICduZXh0UGFnZVRva2VuJywgJ29wZXJhdGlvbnMnKSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIHRoZSBcInNlcnZpY2Ugc3R1YlwiIGZvclxuICAgICAgICAvLyBnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9ucy5cbiAgICAgICAgdGhpcy5vcGVyYXRpb25zU3R1YiA9IGdheEdycGMuY3JlYXRlU3R1YihvcHRzLmZhbGxiYWNrXG4gICAgICAgICAgICA/IG9wZXJhdGlvbnNQcm90b3MubG9va3VwU2VydmljZSgnZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbnMnKVxuICAgICAgICAgICAgOiBvcGVyYXRpb25zUHJvdG9zLmdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25zLCBvcHRzKTtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uc1N0dWJNZXRob2RzID0gW1xuICAgICAgICAgICAgJ2dldE9wZXJhdGlvbicsXG4gICAgICAgICAgICAnbGlzdE9wZXJhdGlvbnMnLFxuICAgICAgICAgICAgJ2NhbmNlbE9wZXJhdGlvbicsXG4gICAgICAgICAgICAnZGVsZXRlT3BlcmF0aW9uJyxcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChjb25zdCBtZXRob2ROYW1lIG9mIG9wZXJhdGlvbnNTdHViTWV0aG9kcykge1xuICAgICAgICAgICAgY29uc3QgaW5uZXJDYWxsUHJvbWlzZSA9IHRoaXMub3BlcmF0aW9uc1N0dWIudGhlbihzdHViID0+ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuYyA9IHN0dWJbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoc3R1YiwgYXJncyk7XG4gICAgICAgICAgICB9LCBlcnIgPT4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5pbm5lckFwaUNhbGxzW21ldGhvZE5hbWVdID0gKDAsIGNyZWF0ZUFwaUNhbGxfMS5jcmVhdGVBcGlDYWxsKShpbm5lckNhbGxQcm9taXNlLCBkZWZhdWx0c1ttZXRob2ROYW1lXSwgdGhpcy5kZXNjcmlwdG9yW21ldGhvZE5hbWVdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQ2xvc2VzIHRoaXMgb3BlcmF0aW9ucyBjbGllbnQuICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMub3BlcmF0aW9uc1N0dWIudGhlbihzdHViID0+IHN0dWIuY2xvc2UoKSk7XG4gICAgfVxuICAgIGdldFByb2plY3RJZChjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5hdXRoICYmICdnZXRQcm9qZWN0SWQnIGluIHRoaXMuYXV0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5nZXRQcm9qZWN0SWQoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdDYW5ub3QgZGV0ZXJtaW5lIHByb2plY3QgSUQuJykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdDYW5ub3QgZGV0ZXJtaW5lIHByb2plY3QgSUQuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU2VydmljZSBjYWxsc1xuICAgIGdldE9wZXJhdGlvbkludGVybmFsKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5nZXRPcGVyYXRpb24ocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXRlc3Qgc3RhdGUgb2YgYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uLiAgQ2xpZW50cyBjYW4gdXNlIHRoaXNcbiAgICAgKiBtZXRob2QgdG8gcG9sbCB0aGUgb3BlcmF0aW9uIHJlc3VsdCBhdCBpbnRlcnZhbHMgYXMgcmVjb21tZW5kZWQgYnkgdGhlIEFQSVxuICAgICAqIHNlcnZpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvbiByZXNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAgICAgKiAgIE9wdGlvbmFsIHBhcmFtZXRlcnMuIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbCxcbiAgICAgKiAgIGUuZywgdGltZW91dCwgcmV0cmllcywgcGFnaW5hdGlvbnMsIGV0Yy4gU2VlIFtnYXguQ2FsbE9wdGlvbnNde0BsaW5rXG4gICAgICogICBodHRwczovL2dvb2dsZWFwaXMuZ2l0aHViLmlvL2dheC1ub2RlanMvZ2xvYmFsLmh0bWwjQ2FsbE9wdGlvbnN9IGZvciB0aGVcbiAgICAgKiAgIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbig/RXJyb3IsID9PYmplY3QpPX0gY2FsbGJhY2tcbiAgICAgKiAgIFRoZSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIEFQSSBjYWxsLlxuICAgICAqXG4gICAgICogICBUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0aGUgY2FsbGJhY2sgaXMgYW4gb2JqZWN0IHJlcHJlc2VudGluZ1xuICAgICAqIFtnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXXtAbGlua1xuICAgICAqIGV4dGVybmFsOlwiZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvblwifS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIFRoZSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGFuIGFycmF5LlxuICAgICAqICAgVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5IGlzIGFuIG9iamVjdCByZXByZXNlbnRpbmdcbiAgICAgKiBbZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbl17QGxpbmtcbiAgICAgKiBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25cIn0uIFRoZSBwcm9taXNlIGhhcyBhIG1ldGhvZCBuYW1lZFxuICAgICAqIFwiY2FuY2VsXCIgd2hpY2ggY2FuY2VscyB0aGUgb25nb2luZyBBUEkgY2FsbC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBjbGllbnQgPSBsb25ncnVubmluZy5vcGVyYXRpb25zQ2xpZW50KCk7XG4gICAgICogY29uc3QgbmFtZSA9ICcnO1xuICAgICAqIGNvbnN0IFtyZXNwb25zZV0gPSBhd2FpdCBjbGllbnQuZ2V0T3BlcmF0aW9uKHtuYW1lfSk7XG4gICAgICogLy8gZG9UaGluZ3NXaXRoKHJlc3BvbnNlKVxuICAgICAqL1xuICAgIGdldE9wZXJhdGlvbihyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zT3JDYWxsYmFjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmdldE9wZXJhdGlvbihyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RzIG9wZXJhdGlvbnMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIGZpbHRlciBpbiB0aGUgcmVxdWVzdC4gSWYgdGhlXG4gICAgICogc2VydmVyIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIG1ldGhvZCwgaXQgcmV0dXJucyBgVU5JTVBMRU1FTlRFRGAuXG4gICAgICpcbiAgICAgKiBOT1RFOiB0aGUgYG5hbWVgIGJpbmRpbmcgYmVsb3cgYWxsb3dzIEFQSSBzZXJ2aWNlcyB0byBvdmVycmlkZSB0aGUgYmluZGluZ1xuICAgICAqIHRvIHVzZSBkaWZmZXJlbnQgcmVzb3VyY2UgbmFtZSBzY2hlbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb24gY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5maWx0ZXIgLSBUaGUgc3RhbmRhcmQgbGlzdCBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSByZXF1ZXN0LnBhZ2VTaXplXG4gICAgICogICBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzb3VyY2VzIGNvbnRhaW5lZCBpbiB0aGUgdW5kZXJseWluZyBBUElcbiAgICAgKiAgIHJlc3BvbnNlLiBJZiBwYWdlIHN0cmVhbWluZyBpcyBwZXJmb3JtZWQgcGVyLXJlc291cmNlLCB0aGlzXG4gICAgICogICBwYXJhbWV0ZXIgZG9lcyBub3QgYWZmZWN0IHRoZSByZXR1cm4gdmFsdWUuIElmIHBhZ2Ugc3RyZWFtaW5nIGlzXG4gICAgICogICBwZXJmb3JtZWQgcGVyLXBhZ2UsIHRoaXMgZGV0ZXJtaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2ZcbiAgICAgKiAgIHJlc291cmNlcyBpbiBhIHBhZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zXG4gICAgICogICBPcHRpb25hbCBwYXJhbWV0ZXJzLiBZb3UgY2FuIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHNldHRpbmdzIGZvciB0aGlzIGNhbGwsXG4gICAgICogZS5nLCB0aW1lb3V0LCByZXRyaWVzLCBwYWdpbmF0aW9ucywgZXRjLiBTZWUgW2dheC5DYWxsT3B0aW9uc117QGxpbmtcbiAgICAgKiBodHRwczovL2dvb2dsZWFwaXMuZ2l0aHViLmlvL2dheC1ub2RlanMvZ2xvYmFsLmh0bWwjQ2FsbE9wdGlvbnN9IGZvciB0aGVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oP0Vycm9yLCA/QXJyYXksID9PYmplY3QsID9PYmplY3QpPX0gY2FsbGJhY2tcbiAgICAgKiAgIFRoZSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIEFQSSBjYWxsLlxuICAgICAqXG4gICAgICogICBUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0aGUgY2FsbGJhY2sgaXMgQXJyYXkgb2ZcbiAgICAgKiBbZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbl17QGxpbmtcbiAgICAgKiBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25cIn0uXG4gICAgICpcbiAgICAgKiAgIFdoZW4gYXV0b1BhZ2luYXRlOiBmYWxzZSBpcyBzcGVjaWZpZWQgdGhyb3VnaCBvcHRpb25zLCBpdCBjb250YWlucyB0aGVcbiAgICAgKiByZXN1bHQgaW4gYSBzaW5nbGUgcmVzcG9uc2UuIElmIHRoZSByZXNwb25zZSBpbmRpY2F0ZXMgdGhlIG5leHQgcGFnZVxuICAgICAqIGV4aXN0cywgdGhlIHRoaXJkIHBhcmFtZXRlciBpcyBzZXQgdG8gYmUgdXNlZCBmb3IgdGhlIG5leHQgcmVxdWVzdCBvYmplY3QuXG4gICAgICogVGhlIGZvdXJ0aCBwYXJhbWV0ZXIga2VlcHMgdGhlIHJhdyByZXNwb25zZSBvYmplY3Qgb2YgYW4gb2JqZWN0XG4gICAgICogcmVwcmVzZW50aW5nIFtnb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXNwb25zZV17QGxpbmtcbiAgICAgKiBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlXCJ9LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gVGhlIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gYW4gYXJyYXkuXG4gICAgICogICBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkgaXMgQXJyYXkgb2ZcbiAgICAgKiBbZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbl17QGxpbmtcbiAgICAgKiBleHRlcm5hbDpcImdvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25cIn0uXG4gICAgICpcbiAgICAgKiAgIFdoZW4gYXV0b1BhZ2luYXRlOiBmYWxzZSBpcyBzcGVjaWZpZWQgdGhyb3VnaCBvcHRpb25zLCB0aGUgYXJyYXkgaGFzXG4gICAgICogdGhyZWUgZWxlbWVudHMuIFRoZSBmaXJzdCBlbGVtZW50IGlzIEFycmF5IG9mXG4gICAgICogW2dvb2dsZS5sb25ncnVubmluZy5PcGVyYXRpb25de0BsaW5rXG4gICAgICogZXh0ZXJuYWw6XCJnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXCJ9IGluIGEgc2luZ2xlIHJlc3BvbnNlLiBUaGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBpcyB0aGUgbmV4dCByZXF1ZXN0IG9iamVjdCBpZiB0aGUgcmVzcG9uc2UgaW5kaWNhdGVzIHRoZSBuZXh0IHBhZ2VcbiAgICAgKiBleGlzdHMsIG9yIG51bGwuIFRoZSB0aGlyZCBlbGVtZW50IGlzIGFuIG9iamVjdCByZXByZXNlbnRpbmdcbiAgICAgKiBbZ29vZ2xlLmxvbmdydW5uaW5nLkxpc3RPcGVyYXRpb25zUmVzcG9uc2Vde0BsaW5rXG4gICAgICogZXh0ZXJuYWw6XCJnb29nbGUubG9uZ3J1bm5pbmcuTGlzdE9wZXJhdGlvbnNSZXNwb25zZVwifS5cbiAgICAgKlxuICAgICAqICAgVGhlIHByb21pc2UgaGFzIGEgbWV0aG9kIG5hbWVkIFwiY2FuY2VsXCIgd2hpY2ggY2FuY2VscyB0aGUgb25nb2luZyBBUElcbiAgICAgKiBjYWxsLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGNvbnN0IGNsaWVudCA9IGxvbmdydW5uaW5nLm9wZXJhdGlvbnNDbGllbnQoKTtcbiAgICAgKiBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAqICAgICBuYW1lOiAnJyxcbiAgICAgKiAgICAgZmlsdGVyOiAnJ1xuICAgICAqIH07XG4gICAgICogLy8gSXRlcmF0ZSBvdmVyIGFsbCBlbGVtZW50cy5cbiAgICAgKiBjb25zdCBbcmVzb3VyY2VzXSA9IGF3YWl0IGNsaWVudC5saXN0T3BlcmF0aW9ucyhyZXF1ZXN0KTtcbiAgICAgKiBmb3IgKGNvbnN0IHJlc291cmNlIG9mIHJlc291cmNlcykge1xuICAgICAqICAgY29uc29sZS5sb2cocmVzb3VyY2VzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAvLyBPciBvYnRhaW4gdGhlIHBhZ2VkIHJlc3BvbnNlLlxuICAgICAqIGNvbnN0IG9wdGlvbnMgPSB7YXV0b1BhZ2luYXRlOiBmYWxzZX07XG4gICAgICogbGV0IG5leHRSZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgKiB3aGlsZShuZXh0UmVxdWVzdCkge1xuICAgICAqICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQubGlzdE9wZXJhdGlvbnMobmV4dFJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAqICAgY29uc3QgcmVzb3VyY2VzID0gcmVzcG9uc2VbMF07XG4gICAgICogICBuZXh0UmVxdWVzdCA9IHJlc3BvbnNlWzFdO1xuICAgICAqICAgY29uc3QgcmF3UmVzcG9uc2UgPSByZXNwb25zZVsyXTtcbiAgICAgKiAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgcmVzb3VyY2VzKSB7XG4gICAgICogICAgIC8vIGRvVGhpbmdzV2l0aChyZXNvdXJjZSk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKi9cbiAgICBsaXN0T3BlcmF0aW9ucyhyZXF1ZXN0LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zT3JDYWxsYmFjayBpbnN0YW5jZW9mIEZ1bmN0aW9uICYmIGNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gb3B0aW9uc09yQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdCA9IHJlcXVlc3QgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lckFwaUNhbGxzLmxpc3RPcGVyYXRpb25zKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgbGlzdE9wZXJhdGlvbnN9LCBidXQgcmV0dXJucyBhIE5vZGVKUyBTdHJlYW0gb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhpcyBmZXRjaGVzIHRoZSBwYWdlZCByZXNwb25zZXMgZm9yIHtAbGluayBsaXN0T3BlcmF0aW9uc30gY29udGludW91c2x5XG4gICAgICogYW5kIGludm9rZXMgdGhlIGNhbGxiYWNrIHJlZ2lzdGVyZWQgZm9yICdkYXRhJyBldmVudCBmb3IgZWFjaCBlbGVtZW50IGluXG4gICAgICogdGhlIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5lZCBvYmplY3QgaGFzICdlbmQnIG1ldGhvZCB3aGVuIG5vIG1vcmUgZWxlbWVudHMgYXJlIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICogYXV0b1BhZ2luYXRlIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL25vZGVqcy5vcmcvYXBpL3N0cmVhbS5odG1sfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb24gY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5maWx0ZXIgLSBUaGUgc3RhbmRhcmQgbGlzdCBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSByZXF1ZXN0LnBhZ2VTaXplIC1cbiAgICAgKiAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXNvdXJjZXMgY29udGFpbmVkIGluIHRoZSB1bmRlcmx5aW5nIEFQSVxuICAgICAqICAgcmVzcG9uc2UuIElmIHBhZ2Ugc3RyZWFtaW5nIGlzIHBlcmZvcm1lZCBwZXItcmVzb3VyY2UsIHRoaXNcbiAgICAgKiAgIHBhcmFtZXRlciBkb2VzIG5vdCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZS4gSWYgcGFnZSBzdHJlYW1pbmcgaXNcbiAgICAgKiAgIHBlcmZvcm1lZCBwZXItcGFnZSwgdGhpcyBkZXRlcm1pbmVzIHRoZSBtYXhpbXVtIG51bWJlciBvZlxuICAgICAqICAgcmVzb3VyY2VzIGluIGEgcGFnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAgICAgKiAgIE9wdGlvbmFsIHBhcmFtZXRlcnMuIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbCxcbiAgICAgKiAgIGUuZywgdGltZW91dCwgcmV0cmllcywgcGFnaW5hdGlvbnMsIGV0Yy4gU2VlIFtnYXguQ2FsbE9wdGlvbnNde0BsaW5rXG4gICAgICogICBodHRwczovL2dvb2dsZWFwaXMuZ2l0aHViLmlvL2dheC1ub2RlanMvZ2xvYmFsLmh0bWwjQ2FsbE9wdGlvbnN9IGZvciB0aGVcbiAgICAgKiAgIGRldGFpbHMuXG4gICAgICogQHJldHVybiB7U3RyZWFtfSAtIEFuIG9iamVjdCBzdHJlYW0gd2hpY2ggZW1pdHMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyBbZ29vZ2xlLmxvbmdydW5uaW5nLk9wZXJhdGlvbl17QGxpbmsgZXh0ZXJuYWw6XCJnb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uXCJ9IG9uICdkYXRhJyBldmVudC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBjbGllbnQgPSBsb25ncnVubmluZy5vcGVyYXRpb25zQ2xpZW50KCk7XG4gICAgICogY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgKiAgIG5hbWU6ICcnLFxuICAgICAqICAgZmlsdGVyOiAnJ1xuICAgICAqIH07XG4gICAgICogY2xpZW50Lmxpc3RPcGVyYXRpb25zU3RyZWFtKHJlcXVlc3QpXG4gICAgICogICAub24oJ2RhdGEnLCBlbGVtZW50ID0+IHtcbiAgICAgKiAgICAgLy8gZG9UaGluZ3NXaXRoKGVsZW1lbnQpXG4gICAgICogICB9KVxuICAgICAqICAgLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICogICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgKiAgIH0pO1xuICAgICAqL1xuICAgIGxpc3RPcGVyYXRpb25zU3RyZWFtKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY2FsbFNldHRpbmdzID0gbmV3IGdheC5DYWxsU2V0dGluZ3Mob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3IubGlzdE9wZXJhdGlvbnMuY3JlYXRlU3RyZWFtKHRoaXMuaW5uZXJBcGlDYWxscy5saXN0T3BlcmF0aW9ucywgcmVxdWVzdCwgY2FsbFNldHRpbmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgbGlzdE9wZXJhdGlvbnN9LCBidXQgcmV0dXJucyBhbiBpdGVyYWJsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBmb3ItYXdhaXQtb2Ygc3ludGF4IGlzIHVzZWQgd2l0aCB0aGUgaXRlcmFibGUgdG8gcmVjdXJzaXZlbHkgZ2V0IHJlc3BvbnNlIGVsZW1lbnQgb24tZGVtYW5kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb24gY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5maWx0ZXIgLSBUaGUgc3RhbmRhcmQgbGlzdCBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSByZXF1ZXN0LnBhZ2VTaXplIC1cbiAgICAgKiAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXNvdXJjZXMgY29udGFpbmVkIGluIHRoZSB1bmRlcmx5aW5nIEFQSVxuICAgICAqICAgcmVzcG9uc2UuIElmIHBhZ2Ugc3RyZWFtaW5nIGlzIHBlcmZvcm1lZCBwZXItcmVzb3VyY2UsIHRoaXNcbiAgICAgKiAgIHBhcmFtZXRlciBkb2VzIG5vdCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZS4gSWYgcGFnZSBzdHJlYW1pbmcgaXNcbiAgICAgKiAgIHBlcmZvcm1lZCBwZXItcGFnZSwgdGhpcyBkZXRlcm1pbmVzIHRoZSBtYXhpbXVtIG51bWJlciBvZlxuICAgICAqICAgcmVzb3VyY2VzIGluIGEgcGFnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAgICAgKiAgIE9wdGlvbmFsIHBhcmFtZXRlcnMuIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbCxcbiAgICAgKiAgIGUuZywgdGltZW91dCwgcmV0cmllcywgcGFnaW5hdGlvbnMsIGV0Yy4gU2VlIFtnYXguQ2FsbE9wdGlvbnNde0BsaW5rXG4gICAgICogICBodHRwczovL2dvb2dsZWFwaXMuZ2l0aHViLmlvL2dheC1ub2RlanMvZ2xvYmFsLmh0bWwjQ2FsbE9wdGlvbnN9IGZvciB0aGVcbiAgICAgKiAgIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKiAgIEFuIGl0ZXJhYmxlIE9iamVjdCB0aGF0IGNvbmZvcm1zIHRvIEBsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMuXG4gICAgICovXG4gICAgbGlzdE9wZXJhdGlvbnNBc3luYyhyZXF1ZXN0LCBvcHRpb25zKSB7XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgY29uc3QgY2FsbFNldHRpbmdzID0gbmV3IGdheC5DYWxsU2V0dGluZ3Mob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3IubGlzdE9wZXJhdGlvbnMuYXN5bmNJdGVyYXRlKHRoaXMuaW5uZXJBcGlDYWxscy5saXN0T3BlcmF0aW9ucywgcmVxdWVzdCwgY2FsbFNldHRpbmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGFzeW5jaHJvbm91cyBjYW5jZWxsYXRpb24gb24gYSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uLiAgVGhlIHNlcnZlclxuICAgICAqIG1ha2VzIGEgYmVzdCBlZmZvcnQgdG8gY2FuY2VsIHRoZSBvcGVyYXRpb24sIGJ1dCBzdWNjZXNzIGlzIG5vdFxuICAgICAqIGd1YXJhbnRlZWQuICBJZiB0aGUgc2VydmVyIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIG1ldGhvZCwgaXQgcmV0dXJuc1xuICAgICAqIGBnb29nbGUucnBjLkNvZGUuVU5JTVBMRU1FTlRFRGAuICBDbGllbnRzIGNhbiB1c2VcbiAgICAgKiB7QGxpbmsgT3BlcmF0aW9ucy5HZXRPcGVyYXRpb259IG9yXG4gICAgICogb3RoZXIgbWV0aG9kcyB0byBjaGVjayB3aGV0aGVyIHRoZSBjYW5jZWxsYXRpb24gc3VjY2VlZGVkIG9yIHdoZXRoZXIgdGhlXG4gICAgICogb3BlcmF0aW9uIGNvbXBsZXRlZCBkZXNwaXRlIGNhbmNlbGxhdGlvbi4gT24gc3VjY2Vzc2Z1bCBjYW5jZWxsYXRpb24sXG4gICAgICogdGhlIG9wZXJhdGlvbiBpcyBub3QgZGVsZXRlZDsgaW5zdGVhZCwgaXQgYmVjb21lcyBhbiBvcGVyYXRpb24gd2l0aFxuICAgICAqIGFuIHtAbGluayBPcGVyYXRpb24uZXJyb3J9IHZhbHVlIHdpdGggYSB7QGxpbmsgZ29vZ2xlLnJwYy5TdGF0dXMuY29kZX0gb2ZcbiAgICAgKiAxLCBjb3JyZXNwb25kaW5nIHRvIGBDb2RlLkNBTkNFTExFRGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdpbGwgYmUgc2VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdC5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvbiByZXNvdXJjZSB0byBiZSBjYW5jZWxsZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zXG4gICAgICogICBPcHRpb25hbCBwYXJhbWV0ZXJzLiBZb3UgY2FuIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHNldHRpbmdzIGZvciB0aGlzIGNhbGwsXG4gICAgICogZS5nLCB0aW1lb3V0LCByZXRyaWVzLCBwYWdpbmF0aW9ucywgZXRjLiBTZWUgW2dheC5DYWxsT3B0aW9uc117QGxpbmtcbiAgICAgKiBodHRwczovL2dvb2dsZWFwaXMuZ2l0aHViLmlvL2dheC1ub2RlanMvZ2xvYmFsLmh0bWwjQ2FsbE9wdGlvbnN9IGZvciB0aGVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oP0Vycm9yKT19IGNhbGxiYWNrXG4gICAgICogICBUaGUgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBBUEkgY2FsbC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIFRoZSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gQVBJIGNhbGwgZmluaXNoZXMuXG4gICAgICogICBUaGUgcHJvbWlzZSBoYXMgYSBtZXRob2QgbmFtZWQgXCJjYW5jZWxcIiB3aGljaCBjYW5jZWxzIHRoZSBvbmdvaW5nIEFQSVxuICAgICAqIGNhbGwuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogY29uc3QgY2xpZW50ID0gbG9uZ3J1bm5pbmcub3BlcmF0aW9uc0NsaWVudCgpO1xuICAgICAqIGF3YWl0IGNsaWVudC5jYW5jZWxPcGVyYXRpb24oe25hbWU6ICcnfSk7XG4gICAgICovXG4gICAgY2FuY2VsT3BlcmF0aW9uKHJlcXVlc3QsIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnNPckNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zT3JDYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0ID0gcmVxdWVzdCB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyQXBpQ2FsbHMuY2FuY2VsT3BlcmF0aW9uKHJlcXVlc3QsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIGxvbmctcnVubmluZyBvcGVyYXRpb24uIFRoaXMgbWV0aG9kIGluZGljYXRlcyB0aGF0IHRoZSBjbGllbnQgaXNcbiAgICAgKiBubyBsb25nZXIgaW50ZXJlc3RlZCBpbiB0aGUgb3BlcmF0aW9uIHJlc3VsdC4gSXQgZG9lcyBub3QgY2FuY2VsIHRoZVxuICAgICAqIG9wZXJhdGlvbi4gSWYgdGhlIHNlcnZlciBkb2Vzbid0IHN1cHBvcnQgdGhpcyBtZXRob2QsIGl0IHJldHVybnNcbiAgICAgKiBgZ29vZ2xlLnJwYy5Db2RlLlVOSU1QTEVNRU5URURgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QgdGhhdCB3aWxsIGJlIHNlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3QubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb24gcmVzb3VyY2UgdG8gYmUgZGVsZXRlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAgICAgKiAgIE9wdGlvbmFsIHBhcmFtZXRlcnMuIFlvdSBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoaXMgY2FsbCxcbiAgICAgKiBlLmcsIHRpbWVvdXQsIHJldHJpZXMsIHBhZ2luYXRpb25zLCBldGMuIFNlZSBbZ2F4LkNhbGxPcHRpb25zXXtAbGlua1xuICAgICAqIGh0dHBzOi8vZ29vZ2xlYXBpcy5naXRodWIuaW8vZ2F4LW5vZGVqcy9nbG9iYWwuaHRtbCNDYWxsT3B0aW9uc30gZm9yIHRoZVxuICAgICAqIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbig/RXJyb3IpPX0gY2FsbGJhY2tcbiAgICAgKiAgIFRoZSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIEFQSSBjYWxsLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IC0gVGhlIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2hlbiBBUEkgY2FsbCBmaW5pc2hlcy5cbiAgICAgKiAgIFRoZSBwcm9taXNlIGhhcyBhIG1ldGhvZCBuYW1lZCBcImNhbmNlbFwiIHdoaWNoIGNhbmNlbHMgdGhlIG9uZ29pbmcgQVBJXG4gICAgICogY2FsbC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBjb25zdCBjbGllbnQgPSBsb25ncnVubmluZy5vcGVyYXRpb25zQ2xpZW50KCk7XG4gICAgICogYXdhaXQgY2xpZW50LmRlbGV0ZU9wZXJhdGlvbih7bmFtZTogJyd9KTtcbiAgICAgKi9cbiAgICBkZWxldGVPcGVyYXRpb24ocmVxdWVzdCwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9uc09yQ2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckNhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0IHx8IHt9O1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJBcGlDYWxscy5kZWxldGVPcGVyYXRpb24ocmVxdWVzdCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIH1cbn1cbmV4cG9ydHMuT3BlcmF0aW9uc0NsaWVudCA9IE9wZXJhdGlvbnNDbGllbnQ7XG5jbGFzcyBPcGVyYXRpb25zQ2xpZW50QnVpbGRlciB7XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGEgbmV3IE9wZXJhdGlvbnMgQ2xpZW50XG4gICAgICogQHBhcmFtIGdheEdycGMge0dycGNDbGllbnR9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2F4R3JwYywgcHJvdG9Kc29uKSB7XG4gICAgICAgIGlmIChwcm90b0pzb24gJiYgZ2F4R3JwYy5odHRwUnVsZXMpIHtcbiAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB0aGUgaHR0cCBydWxlcyBpZiBwcm92aWRlIGluIHNlcnZpY2UgeWFtbC5cbiAgICAgICAgICAgICgwLCB0cmFuc2NvZGluZ18xLm92ZXJyaWRlSHR0cFJ1bGVzKShnYXhHcnBjLmh0dHBSdWxlcywgcHJvdG9Kc29uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcGVyYXRpb25zUHJvdG9zID0gcHJvdG9Kc29uICE9PSBudWxsICYmIHByb3RvSnNvbiAhPT0gdm9pZCAwID8gcHJvdG9Kc29uIDogZ2F4R3JwYy5sb2FkUHJvdG9KU09OKG9wZXJhdGlvblByb3RvSnNvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWlsZCBhIG5ldyBpbnN0YW5jZSBvZiB7QGxpbmsgT3BlcmF0aW9uc0NsaWVudH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0cyAtIFRoZSBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IG9wdHMuc2VydmljZVBhdGggLSBEb21haW4gbmFtZSBvZiB0aGUgQVBJIHJlbW90ZSBob3N0LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcj19IG9wdHMucG9ydCAtIFRoZSBwb3J0IG9uIHdoaWNoIHRvIGNvbm5lY3QgdG8gdGhlIHJlbW90ZSBob3N0LlxuICAgICAgICAgKiBAcGFyYW0ge2dycGMuQ2xpZW50Q3JlZGVudGlhbHM9fSBvcHRzLnNzbENyZWRzIC0gQSBDbGllbnRDcmVkZW50aWFscyBmb3IgdXNlIHdpdGggYW4gU1NMLWVuYWJsZWQgY2hhbm5lbC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRzLmNsaWVudENvbmZpZyAtIFRoZSBjdXN0b21pemVkIGNvbmZpZyB0byBidWlsZCB0aGUgY2FsbCBzZXR0aW5ncy4gU2VlIHtAbGluayBnYXguY29uc3RydWN0U2V0dGluZ3N9IGZvciB0aGUgZm9ybWF0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcGVyYXRpb25zQ2xpZW50ID0gb3B0cyA9PiB7XG4gICAgICAgICAgICBpZiAoZ2F4R3JwYy5mYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIG9wdHMuZmFsbGJhY2sgPSBnYXhHcnBjLmZhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBPcGVyYXRpb25zQ2xpZW50KGdheEdycGMsIG9wZXJhdGlvbnNQcm90b3MsIG9wdHMpO1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMub3BlcmF0aW9uc0NsaWVudCwgT3BlcmF0aW9uc0NsaWVudCk7XG4gICAgfVxufVxuZXhwb3J0cy5PcGVyYXRpb25zQ2xpZW50QnVpbGRlciA9IE9wZXJhdGlvbnNDbGllbnRCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlcmF0aW9uc0NsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/operationsClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PageDescriptor = void 0;\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst normalApiCaller_1 = __webpack_require__(/*! ../normalCalls/normalApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/normalCalls/normalApiCaller.js\");\nconst warnings_1 = __webpack_require__(/*! .././warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nconst pagedApiCaller_1 = __webpack_require__(/*! ./pagedApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js\");\nconst maxAttemptsEmptyResponse = 10;\n/**\n * A descriptor for methods that support pagination.\n */\nclass PageDescriptor {\n    constructor(requestPageTokenField, responsePageTokenField, resourceField) {\n        this.requestPageTokenField = requestPageTokenField;\n        this.responsePageTokenField = responsePageTokenField;\n        this.resourceField = resourceField;\n    }\n    /**\n     * Creates a new object Stream which emits the resource on 'data' event.\n     */\n    createStream(apiCall, request, options) {\n        if (options === null || options === void 0 ? void 0 : options.autoPaginate) {\n            (0, warnings_1.warn)('autoPaginate true', 'Autopaginate will always be set to false in stream paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls', 'AutopaginateTrueWarning');\n        }\n        const stream = new stream_1.PassThrough({ objectMode: true });\n        options = Object.assign({}, options, { autoPaginate: false });\n        const maxResults = 'maxResults' in options ? options.maxResults : -1;\n        let pushCount = 0;\n        let started = false;\n        function callback(err, resources, next, apiResp) {\n            if (err) {\n                stream.emit('error', err);\n                return;\n            }\n            // emit full api response with every page.\n            stream.emit('response', apiResp);\n            for (let i = 0; i < resources.length; ++i) {\n                // TODO: rewrite without accessing stream internals\n                if (stream\n                    ._readableState.ended) {\n                    return;\n                }\n                if (resources[i] === null) {\n                    continue;\n                }\n                stream.push(resources[i]);\n                pushCount++;\n                if (pushCount === maxResults) {\n                    stream.end();\n                }\n            }\n            // TODO: rewrite without accessing stream internals\n            if (stream._readableState\n                .ended) {\n                return;\n            }\n            if (!next) {\n                stream.end();\n                return;\n            }\n            // When pageToken is specified in the original options, it will overwrite\n            // the page token field in the next request. Therefore it must be cleared.\n            if ('pageToken' in options) {\n                delete options.pageToken;\n            }\n            if (stream.isPaused()) {\n                request = next;\n                started = false;\n            }\n            else {\n                setImmediate(apiCall, next, options, callback);\n            }\n        }\n        stream.on('resume', () => {\n            if (!started) {\n                started = true;\n                apiCall(request, options, callback);\n            }\n        });\n        return stream;\n    }\n    /**\n     * Create an async iterable which can be recursively called for data on-demand.\n     */\n    asyncIterate(apiCall, request, options) {\n        if (options === null || options === void 0 ? void 0 : options.autoPaginate) {\n            (0, warnings_1.warn)('autoPaginate true', 'Autopaginate will always be set to false in Async paging methods. See more info at https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure paging calls', 'AutopaginateTrueWarning');\n        }\n        options = Object.assign({}, options, { autoPaginate: false });\n        const iterable = this.createIterator(apiCall, request, options);\n        return iterable;\n    }\n    createIterator(apiCall, request, options) {\n        const asyncIterable = {\n            [Symbol.asyncIterator]() {\n                let nextPageRequest = request;\n                const cache = [];\n                return {\n                    async next() {\n                        if (cache.length > 0) {\n                            return Promise.resolve({\n                                done: false,\n                                value: cache.shift(),\n                            });\n                        }\n                        let attempts = 0;\n                        while (cache.length === 0 && nextPageRequest) {\n                            let result;\n                            [result, nextPageRequest] = (await apiCall(nextPageRequest, options));\n                            // For pagination response with protobuf map type, use tuple as representation.\n                            if (result && !Array.isArray(result)) {\n                                for (const [key, value] of Object.entries(result)) {\n                                    cache.push([key, value]);\n                                }\n                            }\n                            else {\n                                cache.push(...result);\n                            }\n                            if (cache.length === 0) {\n                                ++attempts;\n                                if (attempts > maxAttemptsEmptyResponse) {\n                                    break;\n                                }\n                            }\n                        }\n                        if (cache.length === 0) {\n                            return Promise.resolve({ done: true, value: undefined });\n                        }\n                        return Promise.resolve({ done: false, value: cache.shift() });\n                    },\n                };\n            },\n        };\n        return asyncIterable;\n    }\n    getApiCaller(settings) {\n        if (!settings.autoPaginate) {\n            return new normalApiCaller_1.NormalApiCaller();\n        }\n        return new pagedApiCaller_1.PagedApiCaller(this);\n    }\n}\nexports.PageDescriptor = PageDescriptor;\n//# sourceMappingURL=pageDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGFnaW5hdGlvbkNhbGxzL3BhZ2VEZXNjcmlwdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQywwQkFBMEIsbUJBQU8sQ0FBQyxnSEFBZ0M7QUFDbEUsbUJBQW1CLG1CQUFPLENBQUMsNEVBQWU7QUFDMUMseUJBQXlCLG1CQUFPLENBQUMscUdBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsa0JBQWtCO0FBQ3BFLGtDQUFrQyxhQUFhLHFCQUFxQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYSxxQkFBcUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw4QkFBOEI7QUFDbkY7QUFDQSxpREFBaUQsbUNBQW1DO0FBQ3BGLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYWdpbmF0aW9uQ2FsbHMvcGFnZURlc2NyaXB0b3IuanM/ZTgwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFnZURlc2NyaXB0b3IgPSB2b2lkIDA7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBub3JtYWxBcGlDYWxsZXJfMSA9IHJlcXVpcmUoXCIuLi9ub3JtYWxDYWxscy9ub3JtYWxBcGlDYWxsZXJcIik7XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4uLy4vd2FybmluZ3NcIik7XG5jb25zdCBwYWdlZEFwaUNhbGxlcl8xID0gcmVxdWlyZShcIi4vcGFnZWRBcGlDYWxsZXJcIik7XG5jb25zdCBtYXhBdHRlbXB0c0VtcHR5UmVzcG9uc2UgPSAxMDtcbi8qKlxuICogQSBkZXNjcmlwdG9yIGZvciBtZXRob2RzIHRoYXQgc3VwcG9ydCBwYWdpbmF0aW9uLlxuICovXG5jbGFzcyBQYWdlRGVzY3JpcHRvciB7XG4gICAgY29uc3RydWN0b3IocmVxdWVzdFBhZ2VUb2tlbkZpZWxkLCByZXNwb25zZVBhZ2VUb2tlbkZpZWxkLCByZXNvdXJjZUZpZWxkKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFBhZ2VUb2tlbkZpZWxkID0gcmVxdWVzdFBhZ2VUb2tlbkZpZWxkO1xuICAgICAgICB0aGlzLnJlc3BvbnNlUGFnZVRva2VuRmllbGQgPSByZXNwb25zZVBhZ2VUb2tlbkZpZWxkO1xuICAgICAgICB0aGlzLnJlc291cmNlRmllbGQgPSByZXNvdXJjZUZpZWxkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG9iamVjdCBTdHJlYW0gd2hpY2ggZW1pdHMgdGhlIHJlc291cmNlIG9uICdkYXRhJyBldmVudC5cbiAgICAgKi9cbiAgICBjcmVhdGVTdHJlYW0oYXBpQ2FsbCwgcmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmF1dG9QYWdpbmF0ZSkge1xuICAgICAgICAgICAgKDAsIHdhcm5pbmdzXzEud2FybikoJ2F1dG9QYWdpbmF0ZSB0cnVlJywgJ0F1dG9wYWdpbmF0ZSB3aWxsIGFsd2F5cyBiZSBzZXQgdG8gZmFsc2UgaW4gc3RyZWFtIHBhZ2luZyBtZXRob2RzLiBTZWUgbW9yZSBpbmZvIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjYXV0by1wYWdpbmF0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBjb25maWd1cmUgcGFnaW5nIGNhbGxzJywgJ0F1dG9wYWdpbmF0ZVRydWVXYXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IHN0cmVhbV8xLlBhc3NUaHJvdWdoKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHsgYXV0b1BhZ2luYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgY29uc3QgbWF4UmVzdWx0cyA9ICdtYXhSZXN1bHRzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5tYXhSZXN1bHRzIDogLTE7XG4gICAgICAgIGxldCBwdXNoQ291bnQgPSAwO1xuICAgICAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhlcnIsIHJlc291cmNlcywgbmV4dCwgYXBpUmVzcCkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZW1pdCBmdWxsIGFwaSByZXNwb25zZSB3aXRoIGV2ZXJ5IHBhZ2UuXG4gICAgICAgICAgICBzdHJlYW0uZW1pdCgncmVzcG9uc2UnLCBhcGlSZXNwKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogcmV3cml0ZSB3aXRob3V0IGFjY2Vzc2luZyBzdHJlYW0gaW50ZXJuYWxzXG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAuX3JlYWRhYmxlU3RhdGUuZW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VzW2ldID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChyZXNvdXJjZXNbaV0pO1xuICAgICAgICAgICAgICAgIHB1c2hDb3VudCsrO1xuICAgICAgICAgICAgICAgIGlmIChwdXNoQ291bnQgPT09IG1heFJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHJld3JpdGUgd2l0aG91dCBhY2Nlc3Npbmcgc3RyZWFtIGludGVybmFsc1xuICAgICAgICAgICAgaWYgKHN0cmVhbS5fcmVhZGFibGVTdGF0ZVxuICAgICAgICAgICAgICAgIC5lbmRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbmQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXaGVuIHBhZ2VUb2tlbiBpcyBzcGVjaWZpZWQgaW4gdGhlIG9yaWdpbmFsIG9wdGlvbnMsIGl0IHdpbGwgb3ZlcndyaXRlXG4gICAgICAgICAgICAvLyB0aGUgcGFnZSB0b2tlbiBmaWVsZCBpbiB0aGUgbmV4dCByZXF1ZXN0LiBUaGVyZWZvcmUgaXQgbXVzdCBiZSBjbGVhcmVkLlxuICAgICAgICAgICAgaWYgKCdwYWdlVG9rZW4nIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5wYWdlVG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmlzUGF1c2VkKCkpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbmV4dDtcbiAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoYXBpQ2FsbCwgbmV4dCwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0cmVhbS5vbigncmVzdW1lJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBpQ2FsbChyZXF1ZXN0LCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYXN5bmMgaXRlcmFibGUgd2hpY2ggY2FuIGJlIHJlY3Vyc2l2ZWx5IGNhbGxlZCBmb3IgZGF0YSBvbi1kZW1hbmQuXG4gICAgICovXG4gICAgYXN5bmNJdGVyYXRlKGFwaUNhbGwsIHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hdXRvUGFnaW5hdGUpIHtcbiAgICAgICAgICAgICgwLCB3YXJuaW5nc18xLndhcm4pKCdhdXRvUGFnaW5hdGUgdHJ1ZScsICdBdXRvcGFnaW5hdGUgd2lsbCBhbHdheXMgYmUgc2V0IHRvIGZhbHNlIGluIEFzeW5jIHBhZ2luZyBtZXRob2RzLiBTZWUgbW9yZSBpbmZvIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjYXV0by1wYWdpbmF0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBjb25maWd1cmUgcGFnaW5nIGNhbGxzJywgJ0F1dG9wYWdpbmF0ZVRydWVXYXJuaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHsgYXV0b1BhZ2luYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgY29uc3QgaXRlcmFibGUgPSB0aGlzLmNyZWF0ZUl0ZXJhdG9yKGFwaUNhbGwsIHJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgfVxuICAgIGNyZWF0ZUl0ZXJhdG9yKGFwaUNhbGwsIHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYXN5bmNJdGVyYWJsZSA9IHtcbiAgICAgICAgICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRQYWdlUmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGUgPSBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyBuZXh0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYWNoZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjYWNoZS5sZW5ndGggPT09IDAgJiYgbmV4dFBhZ2VSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcmVzdWx0LCBuZXh0UGFnZVJlcXVlc3RdID0gKGF3YWl0IGFwaUNhbGwobmV4dFBhZ2VSZXF1ZXN0LCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHBhZ2luYXRpb24gcmVzcG9uc2Ugd2l0aCBwcm90b2J1ZiBtYXAgdHlwZSwgdXNlIHR1cGxlIGFzIHJlcHJlc2VudGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlLnB1c2goLi4ucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2F0dGVtcHRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdHMgPiBtYXhBdHRlbXB0c0VtcHR5UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGRvbmU6IGZhbHNlLCB2YWx1ZTogY2FjaGUuc2hpZnQoKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFzeW5jSXRlcmFibGU7XG4gICAgfVxuICAgIGdldEFwaUNhbGxlcihzZXR0aW5ncykge1xuICAgICAgICBpZiAoIXNldHRpbmdzLmF1dG9QYWdpbmF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBub3JtYWxBcGlDYWxsZXJfMS5Ob3JtYWxBcGlDYWxsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHBhZ2VkQXBpQ2FsbGVyXzEuUGFnZWRBcGlDYWxsZXIodGhpcyk7XG4gICAgfVxufVxuZXhwb3J0cy5QYWdlRGVzY3JpcHRvciA9IFBhZ2VEZXNjcmlwdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZURlc2NyaXB0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/paginationCalls/pageDescriptor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PagedApiCaller = void 0;\nconst call_1 = __webpack_require__(/*! ../call */ \"(rsc)/./node_modules/google-gax/build/src/call.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nconst resourceCollector_1 = __webpack_require__(/*! ./resourceCollector */ \"(rsc)/./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js\");\nconst warnings_1 = __webpack_require__(/*! .././warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nclass PagedApiCaller {\n    /**\n     * Creates an API caller that returns a stream to performs page-streaming.\n     *\n     * @private\n     * @constructor\n     * @param {PageDescriptor} pageDescriptor - indicates the structure\n     *   of page streaming to be performed.\n     */\n    constructor(pageDescriptor) {\n        this.pageDescriptor = pageDescriptor;\n    }\n    /**\n     * This function translates between regular gRPC calls (that accepts a request and returns a response,\n     * and does not know anything about pages and page tokens) and the users' callback (that expects\n     * to see resources from one page, a request to get the next page, and the raw response from the server).\n     *\n     * It generates a function that can be passed as a callback function to a gRPC call, will understand\n     * pagination-specific fields in the response, and call the users' callback after having those fields\n     * parsed.\n     *\n     * @param request Request object. It needs to be passed to all subsequent next page requests\n     * (the main content of the request object stays unchanged, only the next page token changes)\n     * @param callback The user's callback that expects the page content, next page request, and raw response.\n     */\n    generateParseResponseCallback(request, callback) {\n        const resourceFieldName = this.pageDescriptor.resourceField;\n        const responsePageTokenFieldName = this.pageDescriptor.responsePageTokenField;\n        const requestPageTokenFieldName = this.pageDescriptor.requestPageTokenField;\n        return (err, response) => {\n            if (err) {\n                callback(err);\n                return;\n            }\n            if (!request) {\n                callback(new googleError_1.GoogleError('Undefined request in pagination method callback.'));\n                return;\n            }\n            if (!response) {\n                callback(new googleError_1.GoogleError('Undefined response in pagination method callback.'));\n                return;\n            }\n            const resources = response[resourceFieldName] || [];\n            const pageToken = response[responsePageTokenFieldName];\n            let nextPageRequest = null;\n            if (pageToken) {\n                nextPageRequest = Object.assign({}, request);\n                nextPageRequest[requestPageTokenFieldName] = pageToken;\n            }\n            callback(err, resources, nextPageRequest, response);\n        };\n    }\n    /**\n     * Adds a special ability to understand pagination-specific fields to the existing gRPC call.\n     * The original gRPC call just calls callback(err, result).\n     * The wrapped one will call callback(err, resources, nextPageRequest, rawResponse) instead.\n     *\n     * @param func gRPC call (normally, a service stub call). The gRPC call is expected to accept four parameters:\n     * request, metadata, call options, and callback.\n     */\n    wrap(func) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        return function wrappedCall(argument, metadata, options, callback) {\n            return func(argument, metadata, options, self.generateParseResponseCallback(argument, callback));\n        };\n    }\n    /**\n     * Makes it possible to use both callback-based and promise-based calls.\n     * Returns an OngoingCall or OngoingCallPromise object.\n     * Regardless of which one is returned, it always has a `.callback` to call.\n     *\n     * @param settings Call settings. Can only be used to replace Promise with another promise implementation.\n     * @param [callback] Callback to be called, if any.\n     */\n    init(callback) {\n        if (callback) {\n            return new call_1.OngoingCall(callback);\n        }\n        return new call_1.OngoingCallPromise();\n    }\n    /**\n     * Implements auto-pagination logic.\n     *\n     * @param apiCall A function that performs gRPC request and calls its callback with a response or an error.\n     * It's supposed to be a gRPC service stub function wrapped into several layers of wrappers that make it\n     * accept just two parameters: (request, callback).\n     * @param request A request object that came from the user.\n     * @param settings Call settings. We are interested in `maxResults` and `autoPaginate` (they are optional).\n     * @param ongoingCall An instance of OngoingCall or OngoingCallPromise that can be used for call cancellation,\n     * and is used to return results to the user.\n     */\n    call(apiCall, request, settings, ongoingCall) {\n        request = Object.assign({}, request);\n        if (!settings.autoPaginate) {\n            // they don't want auto-pagination this time - okay, just call once\n            ongoingCall.call(apiCall, request);\n            return;\n        }\n        if (request.pageSize && settings.autoPaginate) {\n            (0, warnings_1.warn)('autoPaginate true', 'Providing a pageSize without setting autoPaginate to false will still return all results. See https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#auto-pagination for more information on how to configure manual paging', 'AutopaginateTrueWarning');\n        }\n        const maxResults = settings.maxResults || -1;\n        const resourceCollector = new resourceCollector_1.ResourceCollector(apiCall, maxResults);\n        resourceCollector.processAllPages(request).then(resources => ongoingCall.callback(null, resources), err => ongoingCall.callback(err));\n    }\n    fail(ongoingCall, err) {\n        ongoingCall.callback(err);\n    }\n    result(ongoingCall) {\n        return ongoingCall.promise;\n    }\n}\nexports.PagedApiCaller = PagedApiCaller;\n//# sourceMappingURL=pagedApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGFnaW5hdGlvbkNhbGxzL3BhZ2VkQXBpQ2FsbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QixlQUFlLG1CQUFPLENBQUMsa0VBQVM7QUFDaEMsc0JBQXNCLG1CQUFPLENBQUMsZ0ZBQWdCO0FBQzlDLDRCQUE0QixtQkFBTyxDQUFDLDJHQUFxQjtBQUN6RCxtQkFBbUIsbUJBQU8sQ0FBQyw0RUFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGFnaW5hdGlvbkNhbGxzL3BhZ2VkQXBpQ2FsbGVyLmpzPzg3YWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBhZ2VkQXBpQ2FsbGVyID0gdm9pZCAwO1xuY29uc3QgY2FsbF8xID0gcmVxdWlyZShcIi4uL2NhbGxcIik7XG5jb25zdCBnb29nbGVFcnJvcl8xID0gcmVxdWlyZShcIi4uL2dvb2dsZUVycm9yXCIpO1xuY29uc3QgcmVzb3VyY2VDb2xsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL3Jlc291cmNlQ29sbGVjdG9yXCIpO1xuY29uc3Qgd2FybmluZ3NfMSA9IHJlcXVpcmUoXCIuLi8uL3dhcm5pbmdzXCIpO1xuY2xhc3MgUGFnZWRBcGlDYWxsZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gQVBJIGNhbGxlciB0aGF0IHJldHVybnMgYSBzdHJlYW0gdG8gcGVyZm9ybXMgcGFnZS1zdHJlYW1pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UGFnZURlc2NyaXB0b3J9IHBhZ2VEZXNjcmlwdG9yIC0gaW5kaWNhdGVzIHRoZSBzdHJ1Y3R1cmVcbiAgICAgKiAgIG9mIHBhZ2Ugc3RyZWFtaW5nIHRvIGJlIHBlcmZvcm1lZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYWdlRGVzY3JpcHRvcikge1xuICAgICAgICB0aGlzLnBhZ2VEZXNjcmlwdG9yID0gcGFnZURlc2NyaXB0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gdHJhbnNsYXRlcyBiZXR3ZWVuIHJlZ3VsYXIgZ1JQQyBjYWxscyAodGhhdCBhY2NlcHRzIGEgcmVxdWVzdCBhbmQgcmV0dXJucyBhIHJlc3BvbnNlLFxuICAgICAqIGFuZCBkb2VzIG5vdCBrbm93IGFueXRoaW5nIGFib3V0IHBhZ2VzIGFuZCBwYWdlIHRva2VucykgYW5kIHRoZSB1c2VycycgY2FsbGJhY2sgKHRoYXQgZXhwZWN0c1xuICAgICAqIHRvIHNlZSByZXNvdXJjZXMgZnJvbSBvbmUgcGFnZSwgYSByZXF1ZXN0IHRvIGdldCB0aGUgbmV4dCBwYWdlLCBhbmQgdGhlIHJhdyByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIpLlxuICAgICAqXG4gICAgICogSXQgZ2VuZXJhdGVzIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcGFzc2VkIGFzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYSBnUlBDIGNhbGwsIHdpbGwgdW5kZXJzdGFuZFxuICAgICAqIHBhZ2luYXRpb24tc3BlY2lmaWMgZmllbGRzIGluIHRoZSByZXNwb25zZSwgYW5kIGNhbGwgdGhlIHVzZXJzJyBjYWxsYmFjayBhZnRlciBoYXZpbmcgdGhvc2UgZmllbGRzXG4gICAgICogcGFyc2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgUmVxdWVzdCBvYmplY3QuIEl0IG5lZWRzIHRvIGJlIHBhc3NlZCB0byBhbGwgc3Vic2VxdWVudCBuZXh0IHBhZ2UgcmVxdWVzdHNcbiAgICAgKiAodGhlIG1haW4gY29udGVudCBvZiB0aGUgcmVxdWVzdCBvYmplY3Qgc3RheXMgdW5jaGFuZ2VkLCBvbmx5IHRoZSBuZXh0IHBhZ2UgdG9rZW4gY2hhbmdlcylcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIHVzZXIncyBjYWxsYmFjayB0aGF0IGV4cGVjdHMgdGhlIHBhZ2UgY29udGVudCwgbmV4dCBwYWdlIHJlcXVlc3QsIGFuZCByYXcgcmVzcG9uc2UuXG4gICAgICovXG4gICAgZ2VuZXJhdGVQYXJzZVJlc3BvbnNlQ2FsbGJhY2socmVxdWVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2VGaWVsZE5hbWUgPSB0aGlzLnBhZ2VEZXNjcmlwdG9yLnJlc291cmNlRmllbGQ7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlUGFnZVRva2VuRmllbGROYW1lID0gdGhpcy5wYWdlRGVzY3JpcHRvci5yZXNwb25zZVBhZ2VUb2tlbkZpZWxkO1xuICAgICAgICBjb25zdCByZXF1ZXN0UGFnZVRva2VuRmllbGROYW1lID0gdGhpcy5wYWdlRGVzY3JpcHRvci5yZXF1ZXN0UGFnZVRva2VuRmllbGQ7XG4gICAgICAgIHJldHVybiAoZXJyLCByZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ1VuZGVmaW5lZCByZXF1ZXN0IGluIHBhZ2luYXRpb24gbWV0aG9kIGNhbGxiYWNrLicpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IoJ1VuZGVmaW5lZCByZXNwb25zZSBpbiBwYWdpbmF0aW9uIG1ldGhvZCBjYWxsYmFjay4nKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VzID0gcmVzcG9uc2VbcmVzb3VyY2VGaWVsZE5hbWVdIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgcGFnZVRva2VuID0gcmVzcG9uc2VbcmVzcG9uc2VQYWdlVG9rZW5GaWVsZE5hbWVdO1xuICAgICAgICAgICAgbGV0IG5leHRQYWdlUmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocGFnZVRva2VuKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBhZ2VSZXF1ZXN0ID0gT2JqZWN0LmFzc2lnbih7fSwgcmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgbmV4dFBhZ2VSZXF1ZXN0W3JlcXVlc3RQYWdlVG9rZW5GaWVsZE5hbWVdID0gcGFnZVRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNvdXJjZXMsIG5leHRQYWdlUmVxdWVzdCwgcmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc3BlY2lhbCBhYmlsaXR5IHRvIHVuZGVyc3RhbmQgcGFnaW5hdGlvbi1zcGVjaWZpYyBmaWVsZHMgdG8gdGhlIGV4aXN0aW5nIGdSUEMgY2FsbC5cbiAgICAgKiBUaGUgb3JpZ2luYWwgZ1JQQyBjYWxsIGp1c3QgY2FsbHMgY2FsbGJhY2soZXJyLCByZXN1bHQpLlxuICAgICAqIFRoZSB3cmFwcGVkIG9uZSB3aWxsIGNhbGwgY2FsbGJhY2soZXJyLCByZXNvdXJjZXMsIG5leHRQYWdlUmVxdWVzdCwgcmF3UmVzcG9uc2UpIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnVuYyBnUlBDIGNhbGwgKG5vcm1hbGx5LCBhIHNlcnZpY2Ugc3R1YiBjYWxsKS4gVGhlIGdSUEMgY2FsbCBpcyBleHBlY3RlZCB0byBhY2NlcHQgZm91ciBwYXJhbWV0ZXJzOlxuICAgICAqIHJlcXVlc3QsIG1ldGFkYXRhLCBjYWxsIG9wdGlvbnMsIGFuZCBjYWxsYmFjay5cbiAgICAgKi9cbiAgICB3cmFwKGZ1bmMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gd3JhcHBlZENhbGwoYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmMoYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zLCBzZWxmLmdlbmVyYXRlUGFyc2VSZXNwb25zZUNhbGxiYWNrKGFyZ3VtZW50LCBjYWxsYmFjaykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBpdCBwb3NzaWJsZSB0byB1c2UgYm90aCBjYWxsYmFjay1iYXNlZCBhbmQgcHJvbWlzZS1iYXNlZCBjYWxscy5cbiAgICAgKiBSZXR1cm5zIGFuIE9uZ29pbmdDYWxsIG9yIE9uZ29pbmdDYWxsUHJvbWlzZSBvYmplY3QuXG4gICAgICogUmVnYXJkbGVzcyBvZiB3aGljaCBvbmUgaXMgcmV0dXJuZWQsIGl0IGFsd2F5cyBoYXMgYSBgLmNhbGxiYWNrYCB0byBjYWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNldHRpbmdzIENhbGwgc2V0dGluZ3MuIENhbiBvbmx5IGJlIHVzZWQgdG8gcmVwbGFjZSBQcm9taXNlIHdpdGggYW5vdGhlciBwcm9taXNlIGltcGxlbWVudGF0aW9uLlxuICAgICAqIEBwYXJhbSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGJlIGNhbGxlZCwgaWYgYW55LlxuICAgICAqL1xuICAgIGluaXQoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNhbGxfMS5PbmdvaW5nQ2FsbChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBjYWxsXzEuT25nb2luZ0NhbGxQcm9taXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgYXV0by1wYWdpbmF0aW9uIGxvZ2ljLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwaUNhbGwgQSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGdSUEMgcmVxdWVzdCBhbmQgY2FsbHMgaXRzIGNhbGxiYWNrIHdpdGggYSByZXNwb25zZSBvciBhbiBlcnJvci5cbiAgICAgKiBJdCdzIHN1cHBvc2VkIHRvIGJlIGEgZ1JQQyBzZXJ2aWNlIHN0dWIgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIHNldmVyYWwgbGF5ZXJzIG9mIHdyYXBwZXJzIHRoYXQgbWFrZSBpdFxuICAgICAqIGFjY2VwdCBqdXN0IHR3byBwYXJhbWV0ZXJzOiAocmVxdWVzdCwgY2FsbGJhY2spLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IEEgcmVxdWVzdCBvYmplY3QgdGhhdCBjYW1lIGZyb20gdGhlIHVzZXIuXG4gICAgICogQHBhcmFtIHNldHRpbmdzIENhbGwgc2V0dGluZ3MuIFdlIGFyZSBpbnRlcmVzdGVkIGluIGBtYXhSZXN1bHRzYCBhbmQgYGF1dG9QYWdpbmF0ZWAgKHRoZXkgYXJlIG9wdGlvbmFsKS5cbiAgICAgKiBAcGFyYW0gb25nb2luZ0NhbGwgQW4gaW5zdGFuY2Ugb2YgT25nb2luZ0NhbGwgb3IgT25nb2luZ0NhbGxQcm9taXNlIHRoYXQgY2FuIGJlIHVzZWQgZm9yIGNhbGwgY2FuY2VsbGF0aW9uLFxuICAgICAqIGFuZCBpcyB1c2VkIHRvIHJldHVybiByZXN1bHRzIHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIGNhbGwoYXBpQ2FsbCwgcmVxdWVzdCwgc2V0dGluZ3MsIG9uZ29pbmdDYWxsKSB7XG4gICAgICAgIHJlcXVlc3QgPSBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0KTtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5hdXRvUGFnaW5hdGUpIHtcbiAgICAgICAgICAgIC8vIHRoZXkgZG9uJ3Qgd2FudCBhdXRvLXBhZ2luYXRpb24gdGhpcyB0aW1lIC0gb2theSwganVzdCBjYWxsIG9uY2VcbiAgICAgICAgICAgIG9uZ29pbmdDYWxsLmNhbGwoYXBpQ2FsbCwgcmVxdWVzdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcXVlc3QucGFnZVNpemUgJiYgc2V0dGluZ3MuYXV0b1BhZ2luYXRlKSB7XG4gICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnYXV0b1BhZ2luYXRlIHRydWUnLCAnUHJvdmlkaW5nIGEgcGFnZVNpemUgd2l0aG91dCBzZXR0aW5nIGF1dG9QYWdpbmF0ZSB0byBmYWxzZSB3aWxsIHN0aWxsIHJldHVybiBhbGwgcmVzdWx0cy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL2dheC1ub2RlanMvYmxvYi9tYWluL2NsaWVudC1saWJyYXJpZXMubWQjYXV0by1wYWdpbmF0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byBjb25maWd1cmUgbWFudWFsIHBhZ2luZycsICdBdXRvcGFnaW5hdGVUcnVlV2FybmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heFJlc3VsdHMgPSBzZXR0aW5ncy5tYXhSZXN1bHRzIHx8IC0xO1xuICAgICAgICBjb25zdCByZXNvdXJjZUNvbGxlY3RvciA9IG5ldyByZXNvdXJjZUNvbGxlY3Rvcl8xLlJlc291cmNlQ29sbGVjdG9yKGFwaUNhbGwsIG1heFJlc3VsdHMpO1xuICAgICAgICByZXNvdXJjZUNvbGxlY3Rvci5wcm9jZXNzQWxsUGFnZXMocmVxdWVzdCkudGhlbihyZXNvdXJjZXMgPT4gb25nb2luZ0NhbGwuY2FsbGJhY2sobnVsbCwgcmVzb3VyY2VzKSwgZXJyID0+IG9uZ29pbmdDYWxsLmNhbGxiYWNrKGVycikpO1xuICAgIH1cbiAgICBmYWlsKG9uZ29pbmdDYWxsLCBlcnIpIHtcbiAgICAgICAgb25nb2luZ0NhbGwuY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgcmVzdWx0KG9uZ29pbmdDYWxsKSB7XG4gICAgICAgIHJldHVybiBvbmdvaW5nQ2FsbC5wcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuUGFnZWRBcGlDYWxsZXIgPSBQYWdlZEFwaUNhbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VkQXBpQ2FsbGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/paginationCalls/pagedApiCaller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResourceCollector = void 0;\n/**\n * ResourceCollector class implements asynchronous logic of calling the API call that supports pagination,\n * page by page, collecting all resources (up to `maxResults`) in the array.\n *\n * Usage:\n *   const resourceCollector = new ResourceCollector(apiCall, maxResults); // -1 for unlimited\n *   resourceCollector.processAllPages(request).then(resources => ...);\n */\nclass ResourceCollector {\n    constructor(apiCall, maxResults = -1) {\n        this.apiCall = apiCall;\n        this.resources = [];\n        this.maxResults = maxResults;\n    }\n    callback(err, resources, nextPageRequest) {\n        if (err) {\n            // Something went wrong with this request - failing everything\n            this.rejectCallback(err);\n            return;\n        }\n        // Process one page\n        for (const resource of resources) {\n            this.resources.push(resource);\n            if (this.resources.length === this.maxResults) {\n                nextPageRequest = null;\n                break;\n            }\n        }\n        // All done?\n        if (!nextPageRequest) {\n            this.resolveCallback(this.resources);\n            return;\n        }\n        // Schedule the next call\n        const callback = (...args) => this.callback(...args);\n        setImmediate(this.apiCall, nextPageRequest, callback);\n    }\n    processAllPages(firstRequest) {\n        return new Promise((resolve, reject) => {\n            this.resolveCallback = resolve;\n            this.rejectCallback = reject;\n            // Schedule the first call\n            const callback = (...args) => this.callback(...args);\n            setImmediate(this.apiCall, firstRequest, callback);\n        });\n    }\n}\nexports.ResourceCollector = ResourceCollector;\n//# sourceMappingURL=resourceCollector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGFnaW5hdGlvbkNhbGxzL3Jlc291cmNlQ29sbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYWdpbmF0aW9uQ2FsbHMvcmVzb3VyY2VDb2xsZWN0b3IuanM/ZmFhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVzb3VyY2VDb2xsZWN0b3IgPSB2b2lkIDA7XG4vKipcbiAqIFJlc291cmNlQ29sbGVjdG9yIGNsYXNzIGltcGxlbWVudHMgYXN5bmNocm9ub3VzIGxvZ2ljIG9mIGNhbGxpbmcgdGhlIEFQSSBjYWxsIHRoYXQgc3VwcG9ydHMgcGFnaW5hdGlvbixcbiAqIHBhZ2UgYnkgcGFnZSwgY29sbGVjdGluZyBhbGwgcmVzb3VyY2VzICh1cCB0byBgbWF4UmVzdWx0c2ApIGluIHRoZSBhcnJheS5cbiAqXG4gKiBVc2FnZTpcbiAqICAgY29uc3QgcmVzb3VyY2VDb2xsZWN0b3IgPSBuZXcgUmVzb3VyY2VDb2xsZWN0b3IoYXBpQ2FsbCwgbWF4UmVzdWx0cyk7IC8vIC0xIGZvciB1bmxpbWl0ZWRcbiAqICAgcmVzb3VyY2VDb2xsZWN0b3IucHJvY2Vzc0FsbFBhZ2VzKHJlcXVlc3QpLnRoZW4ocmVzb3VyY2VzID0+IC4uLik7XG4gKi9cbmNsYXNzIFJlc291cmNlQ29sbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDYWxsLCBtYXhSZXN1bHRzID0gLTEpIHtcbiAgICAgICAgdGhpcy5hcGlDYWxsID0gYXBpQ2FsbDtcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhSZXN1bHRzID0gbWF4UmVzdWx0cztcbiAgICB9XG4gICAgY2FsbGJhY2soZXJyLCByZXNvdXJjZXMsIG5leHRQYWdlUmVxdWVzdCkge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoaXMgcmVxdWVzdCAtIGZhaWxpbmcgZXZlcnl0aGluZ1xuICAgICAgICAgICAgdGhpcy5yZWplY3RDYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb2Nlc3Mgb25lIHBhZ2VcbiAgICAgICAgZm9yIChjb25zdCByZXNvdXJjZSBvZiByZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VzLnB1c2gocmVzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2VzLmxlbmd0aCA9PT0gdGhpcy5tYXhSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBhZ2VSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgZG9uZT9cbiAgICAgICAgaWYgKCFuZXh0UGFnZVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUNhbGxiYWNrKHRoaXMucmVzb3VyY2VzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTY2hlZHVsZSB0aGUgbmV4dCBjYWxsXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKC4uLmFyZ3MpID0+IHRoaXMuY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgIHNldEltbWVkaWF0ZSh0aGlzLmFwaUNhbGwsIG5leHRQYWdlUmVxdWVzdCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBwcm9jZXNzQWxsUGFnZXMoZmlyc3RSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVDYWxsYmFjayA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLnJlamVjdENhbGxiYWNrID0gcmVqZWN0O1xuICAgICAgICAgICAgLy8gU2NoZWR1bGUgdGhlIGZpcnN0IGNhbGxcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKC4uLmFyZ3MpID0+IHRoaXMuY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUodGhpcy5hcGlDYWxsLCBmaXJzdFJlcXVlc3QsIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5SZXNvdXJjZUNvbGxlY3RvciA9IFJlc291cmNlQ29sbGVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2VDb2xsZWN0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/paginationCalls/resourceCollector.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/pathTemplate.js":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/src/pathTemplate.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PathTemplate = void 0;\nclass PathTemplate {\n    /**\n     * @param {String} data the of the template\n     *\n     * @constructor\n     */\n    constructor(data) {\n        this.bindings = {};\n        this.data = data;\n        this.segments = this.parsePathTemplate(data);\n        this.size = this.segments.length;\n    }\n    /**\n     * Matches a fully-qualified path template string.\n     *\n     * @param {String} path a fully-qualified path template string\n     * @return {Object} contains const names matched to binding values\n     * @throws {TypeError} if path can't be matched to this template\n     */\n    match(path) {\n        let pathSegments = path.split('/');\n        const bindings = {};\n        if (pathSegments.length !== this.segments.length) {\n            // if the path contains a wildcard, then the length may differ by 1.\n            if (!this.data.includes('**')) {\n                throw new TypeError(`This path ${path} does not match path template ${this.data}, the number of parameters is not same.`);\n            }\n            else if (pathSegments.length !== this.segments.length + 1) {\n                throw new TypeError(`This path ${path} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`);\n            }\n        }\n        for (let index = 0; index < this.segments.length && pathSegments.length > 0; index++) {\n            if (this.segments[index] !== pathSegments[0]) {\n                if (!this.segments[index].includes('*')) {\n                    throw new TypeError(`segment does not match, ${this.segments[index]} and  ${pathSegments[index]}.`);\n                }\n                else {\n                    let segment = this.segments[index];\n                    const matches = segment.match(/\\{[$0-9a-zA-Z_]+=.*?\\}/g);\n                    if (!matches) {\n                        throw new Error(`Error processing path template segment ${segment}`);\n                    }\n                    const variables = matches.map(str => str.replace(/^\\{/, '').replace(/=.*/, ''));\n                    if (segment.includes('**')) {\n                        bindings[variables[0]] = pathSegments[0] + '/' + pathSegments[1];\n                        pathSegments = pathSegments.slice(2);\n                    }\n                    else {\n                        // atomic resource\n                        if (variables.length === 1) {\n                            bindings[variables[0]] = pathSegments[0];\n                        }\n                        else {\n                            // non-slash resource\n                            // segment: {blurb_id=*}.{legacy_user=*} to match pathSegments: ['bar.user2']\n                            // split the match pathSegments[0] -> value: ['bar', 'user2']\n                            // compare the length of two arrays, and compare array items\n                            const value = pathSegments[0].split(/[-_.~]/);\n                            if (value.length !== variables.length) {\n                                throw new Error(`segment ${segment} does not match ${pathSegments[0]}`);\n                            }\n                            for (const v of variables) {\n                                bindings[v] = value[0];\n                                segment = segment.replace(`{${v}=*}`, `${value[0]}`);\n                                value.shift();\n                            }\n                            // segment: {blurb_id=*}.{legacy_user=*} matching pathSegments: ['bar~user2'] should fail\n                            if (segment !== pathSegments[0]) {\n                                throw new TypeError(`non slash resource pattern ${this.segments[index]} and ${pathSegments[0]} should have same separator`);\n                            }\n                        }\n                        pathSegments.shift();\n                    }\n                }\n            }\n            else {\n                pathSegments.shift();\n            }\n        }\n        return bindings;\n    }\n    /**\n     * Renders a path template using the provided bindings.\n     *\n     * @param {Object} bindings a mapping of const names to binding strings\n     * @return {String} a rendered representation of the path template\n     * @throws {TypeError} if a key is missing, or if a sub-template cannot be\n     *   parsed\n     */\n    render(bindings) {\n        if (Object.keys(bindings).length !== Object.keys(this.bindings).length) {\n            throw new TypeError(`The number of variables ${Object.keys(bindings).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);\n        }\n        let path = this.inspect();\n        for (const key of Object.keys(bindings)) {\n            const b = bindings[key].toString();\n            if (!this.bindings[key]) {\n                throw new TypeError(`render fails for not matching ${bindings[key]}`);\n            }\n            const variable = this.bindings[key];\n            if (variable === '*') {\n                if (!b.match(/[^/{}]+/)) {\n                    throw new TypeError(`render fails for not matching ${b}`);\n                }\n                path = path.replace(`{${key}=*}`, `${b}`);\n            }\n            else if (variable === '**') {\n                if (!b.match(/[^{}]+/)) {\n                    throw new TypeError(`render fails for not matching ${b}`);\n                }\n                path = path.replace(`{${key}=**}`, `${b}`);\n            }\n        }\n        return path;\n    }\n    /**\n     * Renders the path template.\n     *\n     * @return {string} contains const names matched to binding values\n     */\n    inspect() {\n        return this.segments.join('/');\n    }\n    /**\n     * Parse the path template.\n     *\n     * @return {string[]} return segments of the input path.\n     * For example: 'buckets/{hello}'' will give back ['buckets', {hello=*}]\n     */\n    parsePathTemplate(data) {\n        const pathSegments = splitPathTemplate(data);\n        let index = 0;\n        let wildCardCount = 0;\n        const segments = [];\n        let matches;\n        pathSegments.forEach(segment => {\n            // * or ** -> segments.push('{$0=*}');\n            //         -> bindings['$0'] = '*'\n            if (segment === '*' || segment === '**') {\n                this.bindings[`$${index}`] = segment;\n                segments.push(`{$${index}=${segment}}`);\n                index = index + 1;\n                if (segment === '**') {\n                    ++wildCardCount;\n                }\n            }\n            else if ((matches = segment.match(/\\{[0-9a-zA-Z-.~_]+(?:=.*?)?\\}/g))) {\n                for (const subsegment of matches) {\n                    const pairMatch = subsegment.match(/^\\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\\}$/);\n                    if (!pairMatch) {\n                        throw new Error(`Cannot process path template segment ${subsegment}`);\n                    }\n                    const key = pairMatch[1];\n                    let value = pairMatch[2];\n                    if (!value) {\n                        value = '*';\n                        segment = segment.replace(key, key + '=*');\n                        this.bindings[key] = value;\n                    }\n                    else if (value === '*') {\n                        this.bindings[key] = value;\n                    }\n                    else if (value === '**') {\n                        ++wildCardCount;\n                        this.bindings[key] = value;\n                    }\n                }\n                segments.push(segment);\n            }\n            else if (segment.match(/[0-9a-zA-Z-.~_]+/)) {\n                segments.push(segment);\n            }\n        });\n        if (wildCardCount > 1) {\n            throw new TypeError('Can not have more than one wildcard.');\n        }\n        return segments;\n    }\n}\nexports.PathTemplate = PathTemplate;\n/**\n * Split the path template by `/`.\n * It can not be simply splitted by `/` because there might be `/` in the segments.\n * For example: 'a/b/{a=hello/world}' we do not want to break the brackets pair\n * so above path will be splitted as ['a', 'b', '{a=hello/world}']\n */\nfunction splitPathTemplate(data) {\n    let left = 0;\n    let right = 0;\n    let bracketCount = 0;\n    const segments = [];\n    while (right >= left && right < data.length) {\n        if (data.charAt(right) === '{') {\n            bracketCount = bracketCount + 1;\n        }\n        else if (data.charAt(right) === '}') {\n            bracketCount = bracketCount - 1;\n        }\n        else if (data.charAt(right) === '/') {\n            if (right === data.length - 1) {\n                throw new TypeError('Invalid path, it can not be ended by /');\n            }\n            if (bracketCount === 0) {\n                // complete bracket, to avoid the case a/b/**/*/{a=hello/world}\n                segments.push(data.substring(left, right));\n                left = right + 1;\n            }\n        }\n        if (right === data.length - 1) {\n            if (bracketCount !== 0) {\n                throw new TypeError('Brackets are invalid.');\n            }\n            segments.push(data.substring(left));\n        }\n        right = right + 1;\n    }\n    return segments;\n}\n//# sourceMappingURL=pathTemplate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcGF0aFRlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0IsUUFBUTtBQUN4QixnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxNQUFNLCtCQUErQixVQUFVO0FBQ2hHO0FBQ0E7QUFDQSxpREFBaUQsTUFBTSwrQkFBK0IsVUFBVTtBQUNoRztBQUNBO0FBQ0EsNEJBQTRCLHlEQUF5RDtBQUNyRjtBQUNBO0FBQ0EsbUVBQW1FLHNCQUFzQixPQUFPLG9CQUFvQjtBQUNwSDtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsb0JBQW9CO0FBQ3pFO0FBQ0Esa0ZBQWtGLFFBQVE7QUFDMUY7QUFDQSx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxXQUFXLEVBQUUsZUFBZTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxTQUFTLGlCQUFpQixnQkFBZ0I7QUFDckc7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEVBQUUsRUFBRSxHQUFHLE1BQU0sU0FBUztBQUNsRjtBQUNBO0FBQ0EseUNBQXlDLFdBQVcsRUFBRSxlQUFlO0FBQ3JFO0FBQ0Esa0ZBQWtGLHNCQUFzQixNQUFNLGlCQUFpQjtBQUMvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLFFBQVE7QUFDeEIsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsOEJBQThCLGdEQUFnRCxrQ0FBa0M7QUFDM0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxjQUFjO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyx5RUFBeUUsRUFBRTtBQUMzRTtBQUNBLHNDQUFzQyxFQUFFLElBQUksR0FBRyxNQUFNLEVBQUU7QUFDdkQ7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyx5RUFBeUUsRUFBRTtBQUMzRTtBQUNBLHNDQUFzQyxFQUFFLElBQUksSUFBSSxNQUFNLEVBQUU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCLDhCQUE4QixNQUFNLCtCQUErQixRQUFRO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsS0FBSztBQUMvQztBQUNBO0FBQ0Esa0NBQWtDLE1BQU07QUFDeEMsZ0NBQWdDLEdBQUcsTUFBTSxHQUFHLFNBQVM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwyQkFBMkI7QUFDNUU7QUFDQSwyREFBMkQsK0JBQStCO0FBQzFGO0FBQ0EsZ0ZBQWdGLFdBQVc7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQyxrREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9wYXRoVGVtcGxhdGUuanM/Y2VmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGF0aFRlbXBsYXRlID0gdm9pZCAwO1xuY2xhc3MgUGF0aFRlbXBsYXRlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YSB0aGUgb2YgdGhlIHRlbXBsYXRlXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IHRoaXMucGFyc2VQYXRoVGVtcGxhdGUoZGF0YSk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuc2VnbWVudHMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaGVzIGEgZnVsbHktcXVhbGlmaWVkIHBhdGggdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggYSBmdWxseS1xdWFsaWZpZWQgcGF0aCB0ZW1wbGF0ZSBzdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGNvbnRhaW5zIGNvbnN0IG5hbWVzIG1hdGNoZWQgdG8gYmluZGluZyB2YWx1ZXNcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9IGlmIHBhdGggY2FuJ3QgYmUgbWF0Y2hlZCB0byB0aGlzIHRlbXBsYXRlXG4gICAgICovXG4gICAgbWF0Y2gocGF0aCkge1xuICAgICAgICBsZXQgcGF0aFNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICBjb25zdCBiaW5kaW5ncyA9IHt9O1xuICAgICAgICBpZiAocGF0aFNlZ21lbnRzLmxlbmd0aCAhPT0gdGhpcy5zZWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwYXRoIGNvbnRhaW5zIGEgd2lsZGNhcmQsIHRoZW4gdGhlIGxlbmd0aCBtYXkgZGlmZmVyIGJ5IDEuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGF0YS5pbmNsdWRlcygnKionKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoaXMgcGF0aCAke3BhdGh9IGRvZXMgbm90IG1hdGNoIHBhdGggdGVtcGxhdGUgJHt0aGlzLmRhdGF9LCB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMgaXMgbm90IHNhbWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXRoU2VnbWVudHMubGVuZ3RoICE9PSB0aGlzLnNlZ21lbnRzLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGlzIHBhdGggJHtwYXRofSBkb2VzIG5vdCBtYXRjaCBwYXRoIHRlbXBsYXRlICR7dGhpcy5kYXRhfSwgdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzIGlzIG5vdCBzYW1lIHdpdGggb25lIHdpbGRjYXJkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnNlZ21lbnRzLmxlbmd0aCAmJiBwYXRoU2VnbWVudHMubGVuZ3RoID4gMDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VnbWVudHNbaW5kZXhdICE9PSBwYXRoU2VnbWVudHNbMF0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VnbWVudHNbaW5kZXhdLmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgc2VnbWVudCBkb2VzIG5vdCBtYXRjaCwgJHt0aGlzLnNlZ21lbnRzW2luZGV4XX0gYW5kICAke3BhdGhTZWdtZW50c1tpbmRleF19LmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlZ21lbnQgPSB0aGlzLnNlZ21lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHNlZ21lbnQubWF0Y2goL1xce1skMC05YS16QS1aX10rPS4qP1xcfS9nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgcGF0aCB0ZW1wbGF0ZSBzZWdtZW50ICR7c2VnbWVudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBtYXRjaGVzLm1hcChzdHIgPT4gc3RyLnJlcGxhY2UoL15cXHsvLCAnJykucmVwbGFjZSgvPS4qLywgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQuaW5jbHVkZXMoJyoqJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzW3ZhcmlhYmxlc1swXV0gPSBwYXRoU2VnbWVudHNbMF0gKyAnLycgKyBwYXRoU2VnbWVudHNbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoU2VnbWVudHMgPSBwYXRoU2VnbWVudHMuc2xpY2UoMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdG9taWMgcmVzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ3NbdmFyaWFibGVzWzBdXSA9IHBhdGhTZWdtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vbi1zbGFzaCByZXNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZ21lbnQ6IHtibHVyYl9pZD0qfS57bGVnYWN5X3VzZXI9Kn0gdG8gbWF0Y2ggcGF0aFNlZ21lbnRzOiBbJ2Jhci51c2VyMiddXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIG1hdGNoIHBhdGhTZWdtZW50c1swXSAtPiB2YWx1ZTogWydiYXInLCAndXNlcjInXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBhcmUgdGhlIGxlbmd0aCBvZiB0d28gYXJyYXlzLCBhbmQgY29tcGFyZSBhcnJheSBpdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGF0aFNlZ21lbnRzWzBdLnNwbGl0KC9bLV8ufl0vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSB2YXJpYWJsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc2VnbWVudCAke3NlZ21lbnR9IGRvZXMgbm90IG1hdGNoICR7cGF0aFNlZ21lbnRzWzBdfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzW3ZdID0gdmFsdWVbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBzZWdtZW50LnJlcGxhY2UoYHske3Z9PSp9YCwgYCR7dmFsdWVbMF19YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZ21lbnQ6IHtibHVyYl9pZD0qfS57bGVnYWN5X3VzZXI9Kn0gbWF0Y2hpbmcgcGF0aFNlZ21lbnRzOiBbJ2Jhcn51c2VyMiddIHNob3VsZCBmYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQgIT09IHBhdGhTZWdtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBub24gc2xhc2ggcmVzb3VyY2UgcGF0dGVybiAke3RoaXMuc2VnbWVudHNbaW5kZXhdfSBhbmQgJHtwYXRoU2VnbWVudHNbMF19IHNob3VsZCBoYXZlIHNhbWUgc2VwYXJhdG9yYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFNlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoU2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmluZGluZ3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYSBwYXRoIHRlbXBsYXRlIHVzaW5nIHRoZSBwcm92aWRlZCBiaW5kaW5ncy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBiaW5kaW5ncyBhIG1hcHBpbmcgb2YgY29uc3QgbmFtZXMgdG8gYmluZGluZyBzdHJpbmdzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBhIHJlbmRlcmVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRoIHRlbXBsYXRlXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfSBpZiBhIGtleSBpcyBtaXNzaW5nLCBvciBpZiBhIHN1Yi10ZW1wbGF0ZSBjYW5ub3QgYmVcbiAgICAgKiAgIHBhcnNlZFxuICAgICAqL1xuICAgIHJlbmRlcihiaW5kaW5ncykge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYmluZGluZ3MpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXModGhpcy5iaW5kaW5ncykubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgbnVtYmVyIG9mIHZhcmlhYmxlcyAke09iamVjdC5rZXlzKGJpbmRpbmdzKS5sZW5ndGh9IGRvZXMgbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgbmVlZGVkIHZhcmlhYmxlcyAke09iamVjdC5rZXlzKHRoaXMuYmluZGluZ3MpLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF0aCA9IHRoaXMuaW5zcGVjdCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhiaW5kaW5ncykpIHtcbiAgICAgICAgICAgIGNvbnN0IGIgPSBiaW5kaW5nc1trZXldLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmluZGluZ3Nba2V5XSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYHJlbmRlciBmYWlscyBmb3Igbm90IG1hdGNoaW5nICR7YmluZGluZ3Nba2V5XX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdGhpcy5iaW5kaW5nc1trZXldO1xuICAgICAgICAgICAgaWYgKHZhcmlhYmxlID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWIubWF0Y2goL1teL3t9XSsvKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGByZW5kZXIgZmFpbHMgZm9yIG5vdCBtYXRjaGluZyAke2J9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoYHske2tleX09Kn1gLCBgJHtifWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFyaWFibGUgPT09ICcqKicpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWIubWF0Y2goL1tee31dKy8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYHJlbmRlciBmYWlscyBmb3Igbm90IG1hdGNoaW5nICR7Yn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShgeyR7a2V5fT0qKn1gLCBgJHtifWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBwYXRoIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBjb250YWlucyBjb25zdCBuYW1lcyBtYXRjaGVkIHRvIGJpbmRpbmcgdmFsdWVzXG4gICAgICovXG4gICAgaW5zcGVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHMuam9pbignLycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgcGF0aCB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSByZXR1cm4gc2VnbWVudHMgb2YgdGhlIGlucHV0IHBhdGguXG4gICAgICogRm9yIGV4YW1wbGU6ICdidWNrZXRzL3toZWxsb30nJyB3aWxsIGdpdmUgYmFjayBbJ2J1Y2tldHMnLCB7aGVsbG89Kn1dXG4gICAgICovXG4gICAgcGFyc2VQYXRoVGVtcGxhdGUoZGF0YSkge1xuICAgICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBzcGxpdFBhdGhUZW1wbGF0ZShkYXRhKTtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IHdpbGRDYXJkQ291bnQgPSAwO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICAgICAgICBsZXQgbWF0Y2hlcztcbiAgICAgICAgcGF0aFNlZ21lbnRzLmZvckVhY2goc2VnbWVudCA9PiB7XG4gICAgICAgICAgICAvLyAqIG9yICoqIC0+IHNlZ21lbnRzLnB1c2goJ3skMD0qfScpO1xuICAgICAgICAgICAgLy8gICAgICAgICAtPiBiaW5kaW5nc1snJDAnXSA9ICcqJ1xuICAgICAgICAgICAgaWYgKHNlZ21lbnQgPT09ICcqJyB8fCBzZWdtZW50ID09PSAnKionKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1tgJCR7aW5kZXh9YF0gPSBzZWdtZW50O1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goYHskJHtpbmRleH09JHtzZWdtZW50fX1gKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICArK3dpbGRDYXJkQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKG1hdGNoZXMgPSBzZWdtZW50Lm1hdGNoKC9cXHtbMC05YS16QS1aLS5+X10rKD86PS4qPyk/XFx9L2cpKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3Vic2VnbWVudCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaXJNYXRjaCA9IHN1YnNlZ21lbnQubWF0Y2goL15cXHsoWzAtOWEtekEtWi0ufl9dKykoPzo9KC4qPykpP1xcfSQvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYWlyTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHByb2Nlc3MgcGF0aCB0ZW1wbGF0ZSBzZWdtZW50ICR7c3Vic2VnbWVudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyTWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHBhaXJNYXRjaFsyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnKic7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50ID0gc2VnbWVudC5yZXBsYWNlKGtleSwga2V5ICsgJz0qJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmRpbmdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJyoqJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgKyt3aWxkQ2FyZENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlZ21lbnQubWF0Y2goL1swLTlhLXpBLVotLn5fXSsvKSkge1xuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAod2lsZENhcmRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NhbiBub3QgaGF2ZSBtb3JlIHRoYW4gb25lIHdpbGRjYXJkLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG59XG5leHBvcnRzLlBhdGhUZW1wbGF0ZSA9IFBhdGhUZW1wbGF0ZTtcbi8qKlxuICogU3BsaXQgdGhlIHBhdGggdGVtcGxhdGUgYnkgYC9gLlxuICogSXQgY2FuIG5vdCBiZSBzaW1wbHkgc3BsaXR0ZWQgYnkgYC9gIGJlY2F1c2UgdGhlcmUgbWlnaHQgYmUgYC9gIGluIHRoZSBzZWdtZW50cy5cbiAqIEZvciBleGFtcGxlOiAnYS9iL3thPWhlbGxvL3dvcmxkfScgd2UgZG8gbm90IHdhbnQgdG8gYnJlYWsgdGhlIGJyYWNrZXRzIHBhaXJcbiAqIHNvIGFib3ZlIHBhdGggd2lsbCBiZSBzcGxpdHRlZCBhcyBbJ2EnLCAnYicsICd7YT1oZWxsby93b3JsZH0nXVxuICovXG5mdW5jdGlvbiBzcGxpdFBhdGhUZW1wbGF0ZShkYXRhKSB7XG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCByaWdodCA9IDA7XG4gICAgbGV0IGJyYWNrZXRDb3VudCA9IDA7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBbXTtcbiAgICB3aGlsZSAocmlnaHQgPj0gbGVmdCAmJiByaWdodCA8IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIGlmIChkYXRhLmNoYXJBdChyaWdodCkgPT09ICd7Jykge1xuICAgICAgICAgICAgYnJhY2tldENvdW50ID0gYnJhY2tldENvdW50ICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLmNoYXJBdChyaWdodCkgPT09ICd9Jykge1xuICAgICAgICAgICAgYnJhY2tldENvdW50ID0gYnJhY2tldENvdW50IC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLmNoYXJBdChyaWdodCkgPT09ICcvJykge1xuICAgICAgICAgICAgaWYgKHJpZ2h0ID09PSBkYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHBhdGgsIGl0IGNhbiBub3QgYmUgZW5kZWQgYnkgLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJyYWNrZXRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbXBsZXRlIGJyYWNrZXQsIHRvIGF2b2lkIHRoZSBjYXNlIGEvYi8qKi8qL3thPWhlbGxvL3dvcmxkfVxuICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goZGF0YS5zdWJzdHJpbmcobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gcmlnaHQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyaWdodCA9PT0gZGF0YS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBpZiAoYnJhY2tldENvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnJhY2tldHMgYXJlIGludmFsaWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKGRhdGEuc3Vic3RyaW5nKGxlZnQpKTtcbiAgICAgICAgfVxuICAgICAgICByaWdodCA9IHJpZ2h0ICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZ21lbnRzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0aFRlbXBsYXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/pathTemplate.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/routingHeader.js":
/*!************************************************************!*\
  !*** ./node_modules/google-gax/build/src/routingHeader.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fromParams = fromParams;\nconst querystring = __webpack_require__(/*! querystring */ \"querystring\");\n/**\n * Helpers for constructing routing headers.\n *\n * These headers are used by Google infrastructure to determine how to route\n * requests, especially for services that are regional.\n *\n * Generally, these headers are specified as gRPC metadata.\n */\n/**\n * Constructs the routing header from the given params\n *\n * @param {Object} params - the request header parameters.\n * @return {string} the routing header value.\n */\nfunction fromParams(params) {\n    return querystring.stringify(params);\n}\n//# sourceMappingURL=routingHeader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvcm91dGluZ0hlYWRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsb0JBQW9CLG1CQUFPLENBQUMsZ0NBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9yb3V0aW5nSGVhZGVyLmpzP2Q0YTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZyb21QYXJhbXMgPSBmcm9tUGFyYW1zO1xuY29uc3QgcXVlcnlzdHJpbmcgPSByZXF1aXJlKFwicXVlcnlzdHJpbmdcIik7XG4vKipcbiAqIEhlbHBlcnMgZm9yIGNvbnN0cnVjdGluZyByb3V0aW5nIGhlYWRlcnMuXG4gKlxuICogVGhlc2UgaGVhZGVycyBhcmUgdXNlZCBieSBHb29nbGUgaW5mcmFzdHJ1Y3R1cmUgdG8gZGV0ZXJtaW5lIGhvdyB0byByb3V0ZVxuICogcmVxdWVzdHMsIGVzcGVjaWFsbHkgZm9yIHNlcnZpY2VzIHRoYXQgYXJlIHJlZ2lvbmFsLlxuICpcbiAqIEdlbmVyYWxseSwgdGhlc2UgaGVhZGVycyBhcmUgc3BlY2lmaWVkIGFzIGdSUEMgbWV0YWRhdGEuXG4gKi9cbi8qKlxuICogQ29uc3RydWN0cyB0aGUgcm91dGluZyBoZWFkZXIgZnJvbSB0aGUgZ2l2ZW4gcGFyYW1zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIHRoZSByZXF1ZXN0IGhlYWRlciBwYXJhbWV0ZXJzLlxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgcm91dGluZyBoZWFkZXIgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGZyb21QYXJhbXMocGFyYW1zKSB7XG4gICAgcmV0dXJuIHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShwYXJhbXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGluZ0hlYWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/routingHeader.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/status.js":
/*!*****************************************************!*\
  !*** ./node_modules/google-gax/build/src/status.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HttpCodeToRpcCodeMap = exports.Status = void 0;\nexports.rpcCodeFromHttpStatusCode = rpcCodeFromHttpStatusCode;\n// The following is a copy of the Status enum defined in @grpc/grpc-js,\n// src/constants.ts. We need to use some of these statuses here and there,\n// but we don't want to include the whole @grpc/grpc-js into the browser\n// bundle just to have this small enum.\nvar Status;\n(function (Status) {\n    Status[Status[\"OK\"] = 0] = \"OK\";\n    Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n    Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n    Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status || (exports.Status = Status = {}));\nexports.HttpCodeToRpcCodeMap = new Map([\n    [400, Status.INVALID_ARGUMENT],\n    [401, Status.UNAUTHENTICATED],\n    [403, Status.PERMISSION_DENIED],\n    [404, Status.NOT_FOUND],\n    [409, Status.ABORTED],\n    [416, Status.OUT_OF_RANGE],\n    [429, Status.RESOURCE_EXHAUSTED],\n    [499, Status.CANCELLED],\n    [501, Status.UNIMPLEMENTED],\n    [503, Status.UNAVAILABLE],\n    [504, Status.DEADLINE_EXCEEDED],\n]);\n// Maps HTTP status codes to gRPC status codes above.\nfunction rpcCodeFromHttpStatusCode(httpStatusCode) {\n    if (exports.HttpCodeToRpcCodeMap.has(httpStatusCode)) {\n        return exports.HttpCodeToRpcCodeMap.get(httpStatusCode);\n    }\n    // All 2xx\n    if (httpStatusCode >= 200 && httpStatusCode < 300) {\n        return Status.OK;\n    }\n    // All other 4xx\n    if (httpStatusCode >= 400 && httpStatusCode < 500) {\n        return Status.FAILED_PRECONDITION;\n    }\n    // All other 5xx\n    if (httpStatusCode >= 500 && httpStatusCode < 600) {\n        return Status.INTERNAL;\n    }\n    // Everything else\n    return Status.UNKNOWN;\n}\n//# sourceMappingURL=status.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RhdHVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDRCQUE0QixHQUFHLGNBQWM7QUFDN0MsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGFBQWEsY0FBYyxjQUFjO0FBQzFDLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RhdHVzLmpzPzg3NTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkh0dHBDb2RlVG9ScGNDb2RlTWFwID0gZXhwb3J0cy5TdGF0dXMgPSB2b2lkIDA7XG5leHBvcnRzLnJwY0NvZGVGcm9tSHR0cFN0YXR1c0NvZGUgPSBycGNDb2RlRnJvbUh0dHBTdGF0dXNDb2RlO1xuLy8gVGhlIGZvbGxvd2luZyBpcyBhIGNvcHkgb2YgdGhlIFN0YXR1cyBlbnVtIGRlZmluZWQgaW4gQGdycGMvZ3JwYy1qcyxcbi8vIHNyYy9jb25zdGFudHMudHMuIFdlIG5lZWQgdG8gdXNlIHNvbWUgb2YgdGhlc2Ugc3RhdHVzZXMgaGVyZSBhbmQgdGhlcmUsXG4vLyBidXQgd2UgZG9uJ3Qgd2FudCB0byBpbmNsdWRlIHRoZSB3aG9sZSBAZ3JwYy9ncnBjLWpzIGludG8gdGhlIGJyb3dzZXJcbi8vIGJ1bmRsZSBqdXN0IHRvIGhhdmUgdGhpcyBzbWFsbCBlbnVtLlxudmFyIFN0YXR1cztcbihmdW5jdGlvbiAoU3RhdHVzKSB7XG4gICAgU3RhdHVzW1N0YXR1c1tcIk9LXCJdID0gMF0gPSBcIk9LXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkNBTkNFTExFRFwiXSA9IDFdID0gXCJDQU5DRUxMRURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5LTk9XTlwiXSA9IDJdID0gXCJVTktOT1dOXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIklOVkFMSURfQVJHVU1FTlRcIl0gPSAzXSA9IFwiSU5WQUxJRF9BUkdVTUVOVFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJERUFETElORV9FWENFRURFRFwiXSA9IDRdID0gXCJERUFETElORV9FWENFRURFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJOT1RfRk9VTkRcIl0gPSA1XSA9IFwiTk9UX0ZPVU5EXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkFMUkVBRFlfRVhJU1RTXCJdID0gNl0gPSBcIkFMUkVBRFlfRVhJU1RTXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlBFUk1JU1NJT05fREVOSUVEXCJdID0gN10gPSBcIlBFUk1JU1NJT05fREVOSUVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlJFU09VUkNFX0VYSEFVU1RFRFwiXSA9IDhdID0gXCJSRVNPVVJDRV9FWEhBVVNURURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiRkFJTEVEX1BSRUNPTkRJVElPTlwiXSA9IDldID0gXCJGQUlMRURfUFJFQ09ORElUSU9OXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkFCT1JURURcIl0gPSAxMF0gPSBcIkFCT1JURURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiT1VUX09GX1JBTkdFXCJdID0gMTFdID0gXCJPVVRfT0ZfUkFOR0VcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5JTVBMRU1FTlRFRFwiXSA9IDEyXSA9IFwiVU5JTVBMRU1FTlRFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJJTlRFUk5BTFwiXSA9IDEzXSA9IFwiSU5URVJOQUxcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5BVkFJTEFCTEVcIl0gPSAxNF0gPSBcIlVOQVZBSUxBQkxFXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkRBVEFfTE9TU1wiXSA9IDE1XSA9IFwiREFUQV9MT1NTXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOQVVUSEVOVElDQVRFRFwiXSA9IDE2XSA9IFwiVU5BVVRIRU5USUNBVEVEXCI7XG59KShTdGF0dXMgfHwgKGV4cG9ydHMuU3RhdHVzID0gU3RhdHVzID0ge30pKTtcbmV4cG9ydHMuSHR0cENvZGVUb1JwY0NvZGVNYXAgPSBuZXcgTWFwKFtcbiAgICBbNDAwLCBTdGF0dXMuSU5WQUxJRF9BUkdVTUVOVF0sXG4gICAgWzQwMSwgU3RhdHVzLlVOQVVUSEVOVElDQVRFRF0sXG4gICAgWzQwMywgU3RhdHVzLlBFUk1JU1NJT05fREVOSUVEXSxcbiAgICBbNDA0LCBTdGF0dXMuTk9UX0ZPVU5EXSxcbiAgICBbNDA5LCBTdGF0dXMuQUJPUlRFRF0sXG4gICAgWzQxNiwgU3RhdHVzLk9VVF9PRl9SQU5HRV0sXG4gICAgWzQyOSwgU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRF0sXG4gICAgWzQ5OSwgU3RhdHVzLkNBTkNFTExFRF0sXG4gICAgWzUwMSwgU3RhdHVzLlVOSU1QTEVNRU5URURdLFxuICAgIFs1MDMsIFN0YXR1cy5VTkFWQUlMQUJMRV0sXG4gICAgWzUwNCwgU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVEXSxcbl0pO1xuLy8gTWFwcyBIVFRQIHN0YXR1cyBjb2RlcyB0byBnUlBDIHN0YXR1cyBjb2RlcyBhYm92ZS5cbmZ1bmN0aW9uIHJwY0NvZGVGcm9tSHR0cFN0YXR1c0NvZGUoaHR0cFN0YXR1c0NvZGUpIHtcbiAgICBpZiAoZXhwb3J0cy5IdHRwQ29kZVRvUnBjQ29kZU1hcC5oYXMoaHR0cFN0YXR1c0NvZGUpKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLkh0dHBDb2RlVG9ScGNDb2RlTWFwLmdldChodHRwU3RhdHVzQ29kZSk7XG4gICAgfVxuICAgIC8vIEFsbCAyeHhcbiAgICBpZiAoaHR0cFN0YXR1c0NvZGUgPj0gMjAwICYmIGh0dHBTdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAgICAgIHJldHVybiBTdGF0dXMuT0s7XG4gICAgfVxuICAgIC8vIEFsbCBvdGhlciA0eHhcbiAgICBpZiAoaHR0cFN0YXR1c0NvZGUgPj0gNDAwICYmIGh0dHBTdGF0dXNDb2RlIDwgNTAwKSB7XG4gICAgICAgIHJldHVybiBTdGF0dXMuRkFJTEVEX1BSRUNPTkRJVElPTjtcbiAgICB9XG4gICAgLy8gQWxsIG90aGVyIDV4eFxuICAgIGlmIChodHRwU3RhdHVzQ29kZSA+PSA1MDAgJiYgaHR0cFN0YXR1c0NvZGUgPCA2MDApIHtcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5JTlRFUk5BTDtcbiAgICB9XG4gICAgLy8gRXZlcnl0aGluZyBlbHNlXG4gICAgcmV0dXJuIFN0YXR1cy5VTktOT1dOO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdHVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/status.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/streamArrayParser.js":
/*!****************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamArrayParser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamArrayParser = void 0;\nconst abort_controller_1 = __webpack_require__(/*! abort-controller */ \"(rsc)/./node_modules/abort-controller/dist/abort-controller.js\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst fallbackRest_1 = __webpack_require__(/*! ./fallbackRest */ \"(rsc)/./node_modules/google-gax/build/src/fallbackRest.js\");\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(rsc)/./node_modules/google-gax/build/src/featureDetection.js\");\nclass StreamArrayParser extends stream_1.Transform {\n    /**\n     * StreamArrayParser processes array of valid JSON objects in random chunks\n     * through readable stream, and produces a stream of plain Javascript objects\n     * where it converted from the corresponding protobuf message instance.\n     *\n     * The default JSON parser decodes the input stream under the\n     * following rules:\n     *  1. The stream represents a valid JSON array (must start with a \"[\" and\n     * close with the corresponding \"]\"). Each element of this array is assumed to\n     * be either an array or an object, and will be decoded as a JS object and\n     *    delivered.\n     *  2. All JSON elements in the buffer will be decoded and delivered in a\n     * stream.\n     *\n     * @private\n     * @constructor\n     * @param {protobuf.Method} rpc - the protobuf method produce array of JSON.\n     * @param {Object} options - the options pass to Transform Stream. See more\n     * details\n     * https://nodejs.org/api/stream.html#stream_new_stream_transform_options.\n     */\n    constructor(rpc, options) {\n        super(Object.assign({}, options, { readableObjectMode: true }));\n        this._done = false;\n        this._prevBlock = Buffer.from('');\n        this._isInString = false;\n        this._isSkipped = false;\n        this._level = 0;\n        this.rpc = rpc;\n        this.cancelController = (0, featureDetection_1.hasAbortController)()\n            ? new AbortController()\n            : new abort_controller_1.AbortController();\n        this.cancelSignal = this.cancelController.signal;\n        this.cancelRequested = false;\n    }\n    _transform(chunk, _, callback) {\n        let objectStart = 0;\n        let curIndex = 0;\n        if (this._level === 0 && curIndex === 0) {\n            if (String.fromCharCode(chunk[0]) !== '[') {\n                this.emit('error', new Error(`Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with ${String.fromCharCode(chunk[0])}`));\n            }\n            curIndex++;\n            this._level++;\n        }\n        while (curIndex < chunk.length) {\n            const curValue = String.fromCharCode(chunk[curIndex]);\n            if (!this._isSkipped) {\n                switch (curValue) {\n                    case '{':\n                        // Check if it's in string, we ignore the curly brace in string.\n                        // Otherwise the object level++.\n                        if (!this._isInString) {\n                            this._level++;\n                        }\n                        if (!this._isInString && this._level === 2) {\n                            objectStart = curIndex;\n                        }\n                        break;\n                    case '\"':\n                        // Flip the string status\n                        this._isInString = !this._isInString;\n                        break;\n                    case '}':\n                        // check if it's in string\n                        // if true, do nothing\n                        // if false and level = 0, push data\n                        if (!this._isInString) {\n                            this._level--;\n                        }\n                        if (!this._isInString && this._level === 1) {\n                            // find a object\n                            const objBuff = Buffer.concat([\n                                this._prevBlock,\n                                chunk.slice(objectStart, curIndex + 1),\n                            ]);\n                            try {\n                                // HTTP response.ok is true.\n                                const msgObj = (0, fallbackRest_1.decodeResponse)(this.rpc, true, objBuff);\n                                this.push(msgObj);\n                            }\n                            catch (err) {\n                                this.emit('error', err);\n                            }\n                            objectStart = curIndex + 1;\n                            this._prevBlock = Buffer.from('');\n                        }\n                        break;\n                    case ']':\n                        if (!this._isInString && this._level === 1) {\n                            this._done = true;\n                            this.push(null);\n                        }\n                        break;\n                    case '\\\\':\n                        // Escaping escape character.\n                        this._isSkipped = true;\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else {\n                this._isSkipped = false;\n            }\n            curIndex++;\n        }\n        if (this._level > 1) {\n            this._prevBlock = Buffer.concat([\n                this._prevBlock,\n                chunk.slice(objectStart, curIndex),\n            ]);\n        }\n        callback();\n    }\n    _flush(callback) {\n        callback();\n    }\n    cancel() {\n        this._done = true;\n        this.cancelRequested = true;\n        this.cancelController.abort();\n        this.end();\n    }\n}\nexports.StreamArrayParser = StreamArrayParser;\n//# sourceMappingURL=streamArrayParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RyZWFtQXJyYXlQYXJzZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCLDJCQUEyQixtQkFBTyxDQUFDLHdGQUFrQjtBQUNyRCxpQkFBaUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNqQyx1QkFBdUIsbUJBQU8sQ0FBQyxpRkFBZ0I7QUFDL0MsMkJBQTJCLG1CQUFPLENBQUMseUZBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsYUFBYSwwQkFBMEI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNLQUFzSyw4QkFBOEI7QUFDcE07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy9zdHJlYW1BcnJheVBhcnNlci5qcz8zNmU4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdHJlYW1BcnJheVBhcnNlciA9IHZvaWQgMDtcbmNvbnN0IGFib3J0X2NvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCJhYm9ydC1jb250cm9sbGVyXCIpO1xuY29uc3Qgc3RyZWFtXzEgPSByZXF1aXJlKFwic3RyZWFtXCIpO1xuY29uc3QgZmFsbGJhY2tSZXN0XzEgPSByZXF1aXJlKFwiLi9mYWxsYmFja1Jlc3RcIik7XG5jb25zdCBmZWF0dXJlRGV0ZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9mZWF0dXJlRGV0ZWN0aW9uXCIpO1xuY2xhc3MgU3RyZWFtQXJyYXlQYXJzZXIgZXh0ZW5kcyBzdHJlYW1fMS5UcmFuc2Zvcm0ge1xuICAgIC8qKlxuICAgICAqIFN0cmVhbUFycmF5UGFyc2VyIHByb2Nlc3NlcyBhcnJheSBvZiB2YWxpZCBKU09OIG9iamVjdHMgaW4gcmFuZG9tIGNodW5rc1xuICAgICAqIHRocm91Z2ggcmVhZGFibGUgc3RyZWFtLCBhbmQgcHJvZHVjZXMgYSBzdHJlYW0gb2YgcGxhaW4gSmF2YXNjcmlwdCBvYmplY3RzXG4gICAgICogd2hlcmUgaXQgY29udmVydGVkIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgcHJvdG9idWYgbWVzc2FnZSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IEpTT04gcGFyc2VyIGRlY29kZXMgdGhlIGlucHV0IHN0cmVhbSB1bmRlciB0aGVcbiAgICAgKiBmb2xsb3dpbmcgcnVsZXM6XG4gICAgICogIDEuIFRoZSBzdHJlYW0gcmVwcmVzZW50cyBhIHZhbGlkIEpTT04gYXJyYXkgKG11c3Qgc3RhcnQgd2l0aCBhIFwiW1wiIGFuZFxuICAgICAqIGNsb3NlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgXCJdXCIpLiBFYWNoIGVsZW1lbnQgb2YgdGhpcyBhcnJheSBpcyBhc3N1bWVkIHRvXG4gICAgICogYmUgZWl0aGVyIGFuIGFycmF5IG9yIGFuIG9iamVjdCwgYW5kIHdpbGwgYmUgZGVjb2RlZCBhcyBhIEpTIG9iamVjdCBhbmRcbiAgICAgKiAgICBkZWxpdmVyZWQuXG4gICAgICogIDIuIEFsbCBKU09OIGVsZW1lbnRzIGluIHRoZSBidWZmZXIgd2lsbCBiZSBkZWNvZGVkIGFuZCBkZWxpdmVyZWQgaW4gYVxuICAgICAqIHN0cmVhbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtwcm90b2J1Zi5NZXRob2R9IHJwYyAtIHRoZSBwcm90b2J1ZiBtZXRob2QgcHJvZHVjZSBhcnJheSBvZiBKU09OLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gdGhlIG9wdGlvbnMgcGFzcyB0byBUcmFuc2Zvcm0gU3RyZWFtLiBTZWUgbW9yZVxuICAgICAqIGRldGFpbHNcbiAgICAgKiBodHRwczovL25vZGVqcy5vcmcvYXBpL3N0cmVhbS5odG1sI3N0cmVhbV9uZXdfc3RyZWFtX3RyYW5zZm9ybV9vcHRpb25zLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJwYywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7IHJlYWRhYmxlT2JqZWN0TW9kZTogdHJ1ZSB9KSk7XG4gICAgICAgIHRoaXMuX2RvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcHJldkJsb2NrID0gQnVmZmVyLmZyb20oJycpO1xuICAgICAgICB0aGlzLl9pc0luU3RyaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzU2tpcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IDA7XG4gICAgICAgIHRoaXMucnBjID0gcnBjO1xuICAgICAgICB0aGlzLmNhbmNlbENvbnRyb2xsZXIgPSAoMCwgZmVhdHVyZURldGVjdGlvbl8xLmhhc0Fib3J0Q29udHJvbGxlcikoKVxuICAgICAgICAgICAgPyBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICAgICAgICAgIDogbmV3IGFib3J0X2NvbnRyb2xsZXJfMS5BYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5jYW5jZWxTaWduYWwgPSB0aGlzLmNhbmNlbENvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBfdHJhbnNmb3JtKGNodW5rLCBfLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgb2JqZWN0U3RhcnQgPSAwO1xuICAgICAgICBsZXQgY3VySW5kZXggPSAwO1xuICAgICAgICBpZiAodGhpcy5fbGV2ZWwgPT09IDAgJiYgY3VySW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChTdHJpbmcuZnJvbUNoYXJDb2RlKGNodW5rWzBdKSAhPT0gJ1snKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcihgSW50ZXJuYWwgRXJyb3I6IEFQSSBzZXJ2aWNlIHN0cmVhbSBkYXRhIG11c3Qgc3RhcnQgd2l0aCBhICdbJyBhbmQgY2xvc2Ugd2l0aCB0aGUgY29ycmVzcG9uZGluZyAnXScsIGJ1dCBpdCBzdGFydCB3aXRoICR7U3RyaW5nLmZyb21DaGFyQ29kZShjaHVua1swXSl9YCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VySW5kZXgrKztcbiAgICAgICAgICAgIHRoaXMuX2xldmVsKys7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGN1ckluZGV4IDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJWYWx1ZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2h1bmtbY3VySW5kZXhdKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNTa2lwcGVkKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjdXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgaW4gc3RyaW5nLCB3ZSBpZ25vcmUgdGhlIGN1cmx5IGJyYWNlIGluIHN0cmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0aGUgb2JqZWN0IGxldmVsKysuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzSW5TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0luU3RyaW5nICYmIHRoaXMuX2xldmVsID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0U3RhcnQgPSBjdXJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdcIic6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGbGlwIHRoZSBzdHJpbmcgc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0luU3RyaW5nID0gIXRoaXMuX2lzSW5TdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBpdCdzIGluIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdHJ1ZSwgZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgZmFsc2UgYW5kIGxldmVsID0gMCwgcHVzaCBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzSW5TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0luU3RyaW5nICYmIHRoaXMuX2xldmVsID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCBhIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iakJ1ZmYgPSBCdWZmZXIuY29uY2F0KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldkJsb2NrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuay5zbGljZShvYmplY3RTdGFydCwgY3VySW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIVFRQIHJlc3BvbnNlLm9rIGlzIHRydWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZ09iaiA9ICgwLCBmYWxsYmFja1Jlc3RfMS5kZWNvZGVSZXNwb25zZSkodGhpcy5ycGMsIHRydWUsIG9iakJ1ZmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2gobXNnT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0U3RhcnQgPSBjdXJJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldkJsb2NrID0gQnVmZmVyLmZyb20oJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0luU3RyaW5nICYmIHRoaXMuX2xldmVsID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXNjYXBpbmcgZXNjYXBlIGNoYXJhY3Rlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzU2tpcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzU2tpcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VySW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbGV2ZWwgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmV2QmxvY2sgPSBCdWZmZXIuY29uY2F0KFtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2QmxvY2ssXG4gICAgICAgICAgICAgICAgY2h1bmsuc2xpY2Uob2JqZWN0U3RhcnQsIGN1ckluZGV4KSxcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIF9mbHVzaChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FuY2VsQ29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB0aGlzLmVuZCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RyZWFtQXJyYXlQYXJzZXIgPSBTdHJlYW1BcnJheVBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbUFycmF5UGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/streamArrayParser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js":
/*!******************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamDescriptor = void 0;\nconst streamingApiCaller_1 = __webpack_require__(/*! ./streamingApiCaller */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js\");\n/**\n * A descriptor for streaming calls.\n */\nclass StreamDescriptor {\n    constructor(streamType, rest, gaxStreamingRetries) {\n        this.type = streamType;\n        this.streaming = true;\n        this.rest = rest;\n        this.gaxStreamingRetries = gaxStreamingRetries;\n    }\n    getApiCaller() {\n        // Right now retrying does not work with gRPC-streaming, because retryable\n        // assumes an API call returns an event emitter while gRPC-streaming methods\n        // return Stream.\n        return new streamingApiCaller_1.StreamingApiCaller(this);\n    }\n}\nexports.StreamDescriptor = StreamDescriptor;\n//# sourceMappingURL=streamDescriptor.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RyZWFtaW5nQ2FsbHMvc3RyZWFtRGVzY3JpcHRvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0I7QUFDeEIsNkJBQTZCLG1CQUFPLENBQUMsNEdBQXNCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RyZWFtaW5nQ2FsbHMvc3RyZWFtRGVzY3JpcHRvci5qcz81YjMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdHJlYW1EZXNjcmlwdG9yID0gdm9pZCAwO1xuY29uc3Qgc3RyZWFtaW5nQXBpQ2FsbGVyXzEgPSByZXF1aXJlKFwiLi9zdHJlYW1pbmdBcGlDYWxsZXJcIik7XG4vKipcbiAqIEEgZGVzY3JpcHRvciBmb3Igc3RyZWFtaW5nIGNhbGxzLlxuICovXG5jbGFzcyBTdHJlYW1EZXNjcmlwdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzdHJlYW1UeXBlLCByZXN0LCBnYXhTdHJlYW1pbmdSZXRyaWVzKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHN0cmVhbVR5cGU7XG4gICAgICAgIHRoaXMuc3RyZWFtaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXN0ID0gcmVzdDtcbiAgICAgICAgdGhpcy5nYXhTdHJlYW1pbmdSZXRyaWVzID0gZ2F4U3RyZWFtaW5nUmV0cmllcztcbiAgICB9XG4gICAgZ2V0QXBpQ2FsbGVyKCkge1xuICAgICAgICAvLyBSaWdodCBub3cgcmV0cnlpbmcgZG9lcyBub3Qgd29yayB3aXRoIGdSUEMtc3RyZWFtaW5nLCBiZWNhdXNlIHJldHJ5YWJsZVxuICAgICAgICAvLyBhc3N1bWVzIGFuIEFQSSBjYWxsIHJldHVybnMgYW4gZXZlbnQgZW1pdHRlciB3aGlsZSBnUlBDLXN0cmVhbWluZyBtZXRob2RzXG4gICAgICAgIC8vIHJldHVybiBTdHJlYW0uXG4gICAgICAgIHJldHVybiBuZXcgc3RyZWFtaW5nQXBpQ2FsbGVyXzEuU3RyZWFtaW5nQXBpQ2FsbGVyKHRoaXMpO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RyZWFtRGVzY3JpcHRvciA9IFN0cmVhbURlc2NyaXB0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW1EZXNjcmlwdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamDescriptor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/streamingCalls/streaming.js":
/*!***********************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamingCalls/streaming.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamProxy = exports.StreamType = void 0;\nconst gax_1 = __webpack_require__(/*! ../gax */ \"(rsc)/./node_modules/google-gax/build/src/gax.js\");\nconst googleError_1 = __webpack_require__(/*! ../googleError */ \"(rsc)/./node_modules/google-gax/build/src/googleError.js\");\nconst status_1 = __webpack_require__(/*! ../status */ \"(rsc)/./node_modules/google-gax/build/src/status.js\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst duplexify = __webpack_require__(/*! duplexify */ \"(rsc)/./node_modules/duplexify/index.js\");\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst retryRequest = __webpack_require__(/*! retry-request */ \"(rsc)/./node_modules/retry-request/index.js\");\n/**\n * The type of gRPC streaming.\n * @enum {number}\n */\nvar StreamType;\n(function (StreamType) {\n    /** Client sends a single request, server streams responses. */\n    StreamType[StreamType[\"SERVER_STREAMING\"] = 1] = \"SERVER_STREAMING\";\n    /** Client streams requests, server returns a single response. */\n    StreamType[StreamType[\"CLIENT_STREAMING\"] = 2] = \"CLIENT_STREAMING\";\n    /** Both client and server stream objects. */\n    StreamType[StreamType[\"BIDI_STREAMING\"] = 3] = \"BIDI_STREAMING\";\n})(StreamType || (exports.StreamType = StreamType = {}));\n// In retry-request, you could pass parameters to request using the requestOpts parameter\n// when we called retry-request from gax, we always passed null\n// passing null here removes an unnecessary parameter from this implementation\nconst requestOps = null;\nclass StreamProxy extends duplexify {\n    /**\n     * StreamProxy is a proxy to gRPC-streaming method.\n     *\n     * @private\n     * @constructor\n     * @param {StreamType} type - the type of gRPC stream.\n     * @param {ApiCallback} callback - the callback for further API call.\n     */\n    constructor(type, callback, rest, gaxServerStreamingRetries) {\n        super(undefined, undefined, {\n            objectMode: true,\n            readable: type !== StreamType.CLIENT_STREAMING,\n            writable: type !== StreamType.SERVER_STREAMING,\n        });\n        this.type = type;\n        this._callback = callback;\n        this._isCancelCalled = false;\n        this._responseHasSent = false;\n        this.rest = rest;\n        this.gaxServerStreamingRetries = gaxServerStreamingRetries;\n    }\n    shouldRetryRequest(error, retry) {\n        const e = googleError_1.GoogleError.parseGRPCStatusDetails(error);\n        let shouldRetry = this.defaultShouldRetry(e, retry);\n        if (retry.shouldRetryFn) {\n            shouldRetry = retry.shouldRetryFn(e);\n        }\n        return shouldRetry;\n    }\n    cancel() {\n        if (this.stream) {\n            this.stream.cancel();\n        }\n        else {\n            this._isCancelCalled = true;\n        }\n    }\n    /**\n     * Helper function to handle total timeout + max retry check for server streaming retries\n     * @param {number} deadline - the current retry deadline\n     * @param {number} maxRetries - maximum total number of retries\n     * @param {number} totalTimeoutMillis - total timeout in milliseconds used in timeout calculation\n     * @param {GoogleError} originalError - underlying error received by the stream\n     * @param {originalTimeout} originalTimeout - the original Timeout set in backoff settings\n     * @param {retries} retries - the number of retries the call has made so far\n     */\n    throwIfMaxRetriesOrTotalTimeoutExceeded(deadline, maxRetries, totalTimeoutMillis, originalError, originalTimeout, retries) {\n        const now = new Date();\n        const nowTime = now.getTime();\n        if (originalTimeout &&\n            (totalTimeoutMillis === 0 ||\n                totalTimeoutMillis < 0 ||\n                (deadline && nowTime >= deadline))) {\n            const error = new googleError_1.GoogleError(`Total timeout of API exceeded ${originalTimeout} milliseconds ${originalError ? `retrying error ${originalError} ` : ''} before any response was received.`);\n            error.code = status_1.Status.DEADLINE_EXCEEDED;\n            throw error;\n        }\n        if (maxRetries === 0) {\n            const error = originalError;\n            error.note = 'Max retries is set to zero.';\n            throw error;\n        }\n        if (retries && retries >= maxRetries) {\n            const error = new googleError_1.GoogleError('Exceeded maximum number of retries ' +\n                (originalError ? `retrying error ${originalError} ` : '') +\n                'before any response was received');\n            error.code = status_1.Status.DEADLINE_EXCEEDED;\n            throw error;\n        }\n    }\n    /**\n     * Forwards events from an API request stream to the user's stream.\n     * @param {Stream} stream - The API request stream.\n     */\n    eventForwardHelper(stream) {\n        const eventsToForward = ['metadata', 'response', 'status'];\n        eventsToForward.forEach(event => {\n            stream.on(event, this.emit.bind(this, event));\n        });\n    }\n    /**\n     * Helper function that emits a response on the stream after either a 'metadata'\n     * or a 'status' event - this helps streams to behave more like http consumers expect\n     * @param {Stream} stream - The API request stream.\n     */\n    statusMetadataHelper(stream) {\n        // gRPC is guaranteed emit the 'status' event but not 'metadata', and 'status' is the last event to emit.\n        // Emit the 'response' event if stream has no 'metadata' event.\n        // This avoids the stream swallowing the other events, such as 'end'.\n        stream.on('status', () => {\n            if (!this._responseHasSent) {\n                stream.emit('response', {\n                    code: 200,\n                    details: '',\n                    message: 'OK',\n                });\n            }\n        });\n        // We also want to supply the status data as 'response' event to support\n        // the behavior of google-cloud-node expects.\n        // see:\n        // https://github.com/GoogleCloudPlatform/google-cloud-node/pull/1775#issuecomment-259141029\n        // https://github.com/GoogleCloudPlatform/google-cloud-node/blob/116436fa789d8b0f7fc5100b19b424e3ec63e6bf/packages/common/src/grpc-service.js#L355\n        stream.on('metadata', metadata => {\n            // Create a response object with succeeds.\n            // TODO: unify this logic with the decoration of gRPC response when it's\n            // added. see: https://github.com/googleapis/gax-nodejs/issues/65\n            stream.emit('response', {\n                code: 200,\n                details: '',\n                message: 'OK',\n                metadata,\n            });\n            this._responseHasSent = true;\n        });\n    }\n    /**\n     * Forward events from an API request stream to the user's stream.\n     * @param {Stream} stream - The API request stream.\n     * @param {RetryOptions} retry - Configures the exceptions upon which the\n     *   function should retry, and the parameters to the exponential backoff retry\n     *   algorithm.\n     */\n    forwardEvents(stream) {\n        this.eventForwardHelper(stream);\n        this.statusMetadataHelper(stream);\n        stream.on('error', error => {\n            googleError_1.GoogleError.parseGRPCStatusDetails(error);\n        });\n    }\n    /**\n     * Default mechanism for determining whether a streaming call should retry\n     * If a user passes in a \"shouldRetryFn\", this will not be used\n     * @param {GoogleError} errpr - The error we need to determine is retryable or not\n     * @param {RetryOptions} retry - Configures the exceptions upon which the\n     *   function should retry, and the parameters to the exponential backoff retry\n     *   algorithm.\n     */\n    defaultShouldRetry(error, retry) {\n        if ((retry.retryCodes.length > 0 &&\n            retry.retryCodes.indexOf(error.code) < 0) ||\n            retry.retryCodes.length === 0) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Specifies the target stream.\n     * @param {ApiCall} apiCall - the API function to be called.\n     * @param {Object} argument - the argument to be passed to the apiCall.\n     * @param {RetryOptions} retry - Configures the exceptions upon which the\n     *   function should retry, and the parameters to the exponential backoff retry\n     *   algorithm.\n     */\n    setStream(apiCall, argument, retryRequestOptions = {}, retry) {\n        this.apiCall = apiCall;\n        this.argument = argument;\n        if (this.type === StreamType.SERVER_STREAMING) {\n            if (this.rest) {\n                const stream = apiCall(argument, this._callback);\n                this.stream = stream;\n                this.setReadable(stream);\n            }\n            else if (this.gaxServerStreamingRetries) {\n                const request = () => {\n                    if (this._isCancelCalled) {\n                        if (this.stream) {\n                            this.stream.cancel();\n                        }\n                        return;\n                    }\n                    const stream = apiCall(argument, this._callback);\n                    return stream;\n                };\n                const retryStream = this.newStreamingRetryRequest({ request, retry });\n                this.stream = retryStream;\n                this.eventForwardHelper(retryStream);\n                this.setReadable(retryStream);\n            }\n            else {\n                const retryStream = retryRequest(null, {\n                    objectMode: true,\n                    request: () => {\n                        if (this._isCancelCalled) {\n                            if (this.stream) {\n                                this.stream.cancel();\n                            }\n                            return;\n                        }\n                        const stream = apiCall(argument, this._callback);\n                        this.stream = stream;\n                        this.forwardEvents(stream);\n                        return stream;\n                    },\n                    retries: retryRequestOptions.retries,\n                    currentRetryAttempt: retryRequestOptions.currentRetryAttempt,\n                    noResponseRetries: retryRequestOptions.noResponseRetries,\n                    shouldRetryFn: retryRequestOptions.shouldRetryFn,\n                });\n                this.setReadable(retryStream);\n            }\n            return;\n        }\n        const stream = apiCall(argument, this._callback);\n        this.stream = stream;\n        this.forwardEvents(stream);\n        if (this.type === StreamType.CLIENT_STREAMING) {\n            this.setWritable(stream);\n        }\n        if (this.type === StreamType.BIDI_STREAMING) {\n            this.setReadable(stream);\n            this.setWritable(stream);\n        }\n        if (this._isCancelCalled && this.stream) {\n            this.stream.cancel();\n        }\n    }\n    /**\n     * Creates a new retry request stream -\n     *inner arrow function \"newMakeRequest\" handles retrying and resumption\n     * @param {streamingRetryRequestOptions} opts\n     *   {request} - the request to be made if the stream errors\n     *   {retry} - the retry options associated with the call\n     * @returns {CancellableStream} - the stream that handles retry logic\n     */\n    newStreamingRetryRequest(opts) {\n        var _a, _b, _c, _d;\n        // at this point, it would be unexpected if retry were undefined\n        // but if it is, provide a logical default so we don't run into trouble\n        const retry = (_a = opts.retry) !== null && _a !== void 0 ? _a : {\n            retryCodes: [],\n            backoffSettings: (0, gax_1.createDefaultBackoffSettings)(),\n        };\n        let retries = 0;\n        const retryStream = new stream_1.PassThrough({\n            objectMode: true,\n        });\n        const totalTimeout = (_b = retry.backoffSettings.totalTimeoutMillis) !== null && _b !== void 0 ? _b : undefined;\n        const maxRetries = (_c = retry.backoffSettings.maxRetries) !== null && _c !== void 0 ? _c : undefined;\n        let timeout = (_d = retry.backoffSettings.initialRpcTimeoutMillis) !== null && _d !== void 0 ? _d : undefined;\n        let now = new Date();\n        let deadline = 0;\n        if (totalTimeout) {\n            deadline = now.getTime() + totalTimeout;\n        }\n        const transientErrorHelper = (error, requestStream) => {\n            const e = googleError_1.GoogleError.parseGRPCStatusDetails(error);\n            e.note =\n                'Exception occurred in retry method that was ' +\n                    'not classified as transient';\n            // clean up the request stream and retryStreams, silently destroy it on the request stream\n            // but do raise it on destructin of the retryStream so the consumer can see it\n            requestStream.destroy();\n            retryStream.destroy(e);\n            return retryStream;\n        };\n        const newMakeRequest = (newopts) => {\n            let dataEnd = false;\n            let statusReceived = false;\n            let enteredError = false;\n            // make the request\n            const requestStream = newopts.request(requestOps);\n            retryStream.cancel = requestStream.cancel; // make sure the retryStream is also cancellable by the user\n            const eventsToForward = ['metadata', 'response', 'status'];\n            eventsToForward.forEach(event => {\n                requestStream.on(event, retryStream.emit.bind(retryStream, event));\n            });\n            this.statusMetadataHelper(requestStream);\n            // TODO - b/353262542 address buffer stuff\n            requestStream.on('data', (data) => {\n                retries = 0;\n                this.emit.bind(this, 'data')(data);\n            });\n            /* in retry-request, which previously handled retries,\n             * \"end\" could be emitted on a request stream before other gRPC events.\n             * To ensure it doesn't reach the consumer stream prematurely, retry-request piped\n             * two streams together (delayStream and retryStream)\n             * to ensure that \"end\" only emitted after a \"response\" event\n             *\n             * We are consciously NOT using pipeline or .pipe as part of similar logic here\n             * because we want more control over what happens during event handoff and we want to\n             * avoid the undesired behavior that can happen with error events\n             * if consumers in client libraries are also using pipes\n             *\n             * Since \"status\" is guaranteed to be the last event emitted by gRPC.\n             * If we have seen an \"end\" event, the dataEnd boolean will be true and we can safely\n             * end the stream.\n             *\n             * The \"statusReceived\" boolean covers the opposite case - that we receive the \"status\" event before\n             * a successful stream end event - this signals the .on('end') event handler that it's okay to end the stream\n             *\n             *\n             */\n            requestStream.on('status', () => {\n                statusReceived = true;\n                if (dataEnd) {\n                    retryStream.end();\n                }\n                return retryStream;\n            });\n            requestStream.on('end', () => {\n                if (!enteredError) {\n                    dataEnd = true;\n                    // in this case, we've already received \"status\"\n                    // which is the last event from gRPC, so it's cool to end the stream\n                    if (statusReceived) {\n                        retryStream.end();\n                    }\n                }\n                return retryStream;\n                // there is no else case because if enteredError\n                // is true, we will handle stream destruction as part of\n                // either retrying (where we don't want to end the stream)\n                // or as part of error handling, which will take care of stream destruction\n            });\n            requestStream.on('error', (error) => {\n                enteredError = true;\n                // type check for undefined instead of for truthiness in case maxRetries or timeout is equal to zero\n                if (typeof maxRetries !== undefined ||\n                    typeof totalTimeout !== undefined) {\n                    if (this.shouldRetryRequest(error, retry)) {\n                        if (maxRetries && totalTimeout) {\n                            const newError = new googleError_1.GoogleError('Cannot set both totalTimeoutMillis and maxRetries ' +\n                                'in backoffSettings.');\n                            newError.code = status_1.Status.INVALID_ARGUMENT;\n                            // clean up the request stream and retryStreams, silently destroy it on the request stream\n                            // but do raise it on destructin of the retryStream so the consumer can see it\n                            requestStream.destroy();\n                            retryStream.destroy(newError);\n                            return retryStream;\n                        }\n                        else {\n                            // check for exceeding timeout or max retries\n                            try {\n                                this.throwIfMaxRetriesOrTotalTimeoutExceeded(deadline, maxRetries, timeout, error, totalTimeout, retries);\n                            }\n                            catch (error) {\n                                const e = googleError_1.GoogleError.parseGRPCStatusDetails(error);\n                                // clean up the request stream and retryStreams, silently destroy it on the request stream\n                                // but do raise it on destruction of the retryStream so the consumer can see it\n                                requestStream.destroy();\n                                retryStream.destroy(e);\n                                return retryStream;\n                            }\n                            const delayMult = retry.backoffSettings.retryDelayMultiplier;\n                            const maxDelay = retry.backoffSettings.maxRetryDelayMillis;\n                            const timeoutMult = retry.backoffSettings.rpcTimeoutMultiplier;\n                            const maxTimeout = retry.backoffSettings.maxRpcTimeoutMillis;\n                            let delay = retry.backoffSettings.initialRetryDelayMillis;\n                            // calculate new deadlines\n                            const toSleep = Math.random() * delay;\n                            const calculateTimeoutAndResumptionFunction = () => {\n                                setTimeout(() => {\n                                    // only do timeout calculations if not using maxRetries\n                                    if (timeout) {\n                                        now = new Date();\n                                        delay = Math.min(delay * delayMult, maxDelay);\n                                        const timeoutCal = timeout && timeoutMult ? timeout * timeoutMult : 0;\n                                        const rpcTimeout = maxTimeout ? maxTimeout : 0;\n                                        const newDeadline = deadline ? deadline - now.getTime() : 0;\n                                        timeout = Math.min(timeoutCal, rpcTimeout, newDeadline);\n                                    }\n                                    retries++;\n                                    let retryArgument = this.argument;\n                                    // if resumption logic is passed, use it to determined the\n                                    // new argument for the new request made to the server\n                                    // otherwise, the original argument will be passed\n                                    if (retry.getResumptionRequestFn !== undefined) {\n                                        retryArgument = retry.getResumptionRequestFn(retryArgument);\n                                    }\n                                    const newRequest = () => {\n                                        if (this._isCancelCalled) {\n                                            if (this.stream) {\n                                                this.stream.cancel();\n                                            }\n                                            return;\n                                        }\n                                        const newStream = this.apiCall(retryArgument, this._callback);\n                                        return newStream;\n                                    };\n                                    opts.request = newRequest;\n                                    // make a request with the updated parameters\n                                    // based on the resumption strategy\n                                    return newMakeRequest(opts);\n                                }, toSleep);\n                            };\n                            return calculateTimeoutAndResumptionFunction();\n                        }\n                    }\n                    else {\n                        // non retryable error\n                        return transientErrorHelper(error, requestStream);\n                    }\n                }\n                else {\n                    // neither timeout nor maxRetries are defined, surface the error to the caller\n                    return transientErrorHelper(error, requestStream);\n                }\n            });\n            // return the stream if we didn't return it as\n            // part of an error state\n            return retryStream;\n        };\n        // this is the first make request call with the options the user passed in\n        return newMakeRequest(opts);\n    }\n}\nexports.StreamProxy = StreamProxy;\n//# sourceMappingURL=streaming.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RyZWFtaW5nQ2FsbHMvc3RyZWFtaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixHQUFHLGtCQUFrQjtBQUN4QyxjQUFjLG1CQUFPLENBQUMsZ0VBQVE7QUFDOUIsc0JBQXNCLG1CQUFPLENBQUMsZ0ZBQWdCO0FBQzlDLGlCQUFpQixtQkFBTyxDQUFDLHNFQUFXO0FBQ3BDLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsMERBQVc7QUFDckM7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxrRUFBZTtBQUM1QztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsaUJBQWlCLGtCQUFrQixrQkFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0IsZUFBZSxhQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsYUFBYTtBQUM1QixlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixpQkFBaUIsZUFBZSxrQ0FBa0MsZUFBZSxRQUFRO0FBQ2xMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsY0FBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxhQUFhO0FBQzVCLGVBQWUsY0FBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxnQkFBZ0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsOEJBQThCO0FBQzdDLFVBQVUsU0FBUztBQUNuQixVQUFVLE9BQU87QUFDakIsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL3N0cmVhbWluZ0NhbGxzL3N0cmVhbWluZy5qcz8xYWJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdHJlYW1Qcm94eSA9IGV4cG9ydHMuU3RyZWFtVHlwZSA9IHZvaWQgMDtcbmNvbnN0IGdheF8xID0gcmVxdWlyZShcIi4uL2dheFwiKTtcbmNvbnN0IGdvb2dsZUVycm9yXzEgPSByZXF1aXJlKFwiLi4vZ29vZ2xlRXJyb3JcIik7XG5jb25zdCBzdGF0dXNfMSA9IHJlcXVpcmUoXCIuLi9zdGF0dXNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlc1xuY29uc3QgZHVwbGV4aWZ5ID0gcmVxdWlyZSgnZHVwbGV4aWZ5Jyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlc1xuY29uc3QgcmV0cnlSZXF1ZXN0ID0gcmVxdWlyZSgncmV0cnktcmVxdWVzdCcpO1xuLyoqXG4gKiBUaGUgdHlwZSBvZiBnUlBDIHN0cmVhbWluZy5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbnZhciBTdHJlYW1UeXBlO1xuKGZ1bmN0aW9uIChTdHJlYW1UeXBlKSB7XG4gICAgLyoqIENsaWVudCBzZW5kcyBhIHNpbmdsZSByZXF1ZXN0LCBzZXJ2ZXIgc3RyZWFtcyByZXNwb25zZXMuICovXG4gICAgU3RyZWFtVHlwZVtTdHJlYW1UeXBlW1wiU0VSVkVSX1NUUkVBTUlOR1wiXSA9IDFdID0gXCJTRVJWRVJfU1RSRUFNSU5HXCI7XG4gICAgLyoqIENsaWVudCBzdHJlYW1zIHJlcXVlc3RzLCBzZXJ2ZXIgcmV0dXJucyBhIHNpbmdsZSByZXNwb25zZS4gKi9cbiAgICBTdHJlYW1UeXBlW1N0cmVhbVR5cGVbXCJDTElFTlRfU1RSRUFNSU5HXCJdID0gMl0gPSBcIkNMSUVOVF9TVFJFQU1JTkdcIjtcbiAgICAvKiogQm90aCBjbGllbnQgYW5kIHNlcnZlciBzdHJlYW0gb2JqZWN0cy4gKi9cbiAgICBTdHJlYW1UeXBlW1N0cmVhbVR5cGVbXCJCSURJX1NUUkVBTUlOR1wiXSA9IDNdID0gXCJCSURJX1NUUkVBTUlOR1wiO1xufSkoU3RyZWFtVHlwZSB8fCAoZXhwb3J0cy5TdHJlYW1UeXBlID0gU3RyZWFtVHlwZSA9IHt9KSk7XG4vLyBJbiByZXRyeS1yZXF1ZXN0LCB5b3UgY291bGQgcGFzcyBwYXJhbWV0ZXJzIHRvIHJlcXVlc3QgdXNpbmcgdGhlIHJlcXVlc3RPcHRzIHBhcmFtZXRlclxuLy8gd2hlbiB3ZSBjYWxsZWQgcmV0cnktcmVxdWVzdCBmcm9tIGdheCwgd2UgYWx3YXlzIHBhc3NlZCBudWxsXG4vLyBwYXNzaW5nIG51bGwgaGVyZSByZW1vdmVzIGFuIHVubmVjZXNzYXJ5IHBhcmFtZXRlciBmcm9tIHRoaXMgaW1wbGVtZW50YXRpb25cbmNvbnN0IHJlcXVlc3RPcHMgPSBudWxsO1xuY2xhc3MgU3RyZWFtUHJveHkgZXh0ZW5kcyBkdXBsZXhpZnkge1xuICAgIC8qKlxuICAgICAqIFN0cmVhbVByb3h5IGlzIGEgcHJveHkgdG8gZ1JQQy1zdHJlYW1pbmcgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1N0cmVhbVR5cGV9IHR5cGUgLSB0aGUgdHlwZSBvZiBnUlBDIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0ge0FwaUNhbGxiYWNrfSBjYWxsYmFjayAtIHRoZSBjYWxsYmFjayBmb3IgZnVydGhlciBBUEkgY2FsbC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBjYWxsYmFjaywgcmVzdCwgZ2F4U2VydmVyU3RyZWFtaW5nUmV0cmllcykge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgb2JqZWN0TW9kZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlYWRhYmxlOiB0eXBlICE9PSBTdHJlYW1UeXBlLkNMSUVOVF9TVFJFQU1JTkcsXG4gICAgICAgICAgICB3cml0YWJsZTogdHlwZSAhPT0gU3RyZWFtVHlwZS5TRVJWRVJfU1RSRUFNSU5HLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5faXNDYW5jZWxDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVzcG9uc2VIYXNTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzdCA9IHJlc3Q7XG4gICAgICAgIHRoaXMuZ2F4U2VydmVyU3RyZWFtaW5nUmV0cmllcyA9IGdheFNlcnZlclN0cmVhbWluZ1JldHJpZXM7XG4gICAgfVxuICAgIHNob3VsZFJldHJ5UmVxdWVzdChlcnJvciwgcmV0cnkpIHtcbiAgICAgICAgY29uc3QgZSA9IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IucGFyc2VHUlBDU3RhdHVzRGV0YWlscyhlcnJvcik7XG4gICAgICAgIGxldCBzaG91bGRSZXRyeSA9IHRoaXMuZGVmYXVsdFNob3VsZFJldHJ5KGUsIHJldHJ5KTtcbiAgICAgICAgaWYgKHJldHJ5LnNob3VsZFJldHJ5Rm4pIHtcbiAgICAgICAgICAgIHNob3VsZFJldHJ5ID0gcmV0cnkuc2hvdWxkUmV0cnlGbihlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkUmV0cnk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ2FuY2VsQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gaGFuZGxlIHRvdGFsIHRpbWVvdXQgKyBtYXggcmV0cnkgY2hlY2sgZm9yIHNlcnZlciBzdHJlYW1pbmcgcmV0cmllc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWFkbGluZSAtIHRoZSBjdXJyZW50IHJldHJ5IGRlYWRsaW5lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFJldHJpZXMgLSBtYXhpbXVtIHRvdGFsIG51bWJlciBvZiByZXRyaWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvdGFsVGltZW91dE1pbGxpcyAtIHRvdGFsIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHVzZWQgaW4gdGltZW91dCBjYWxjdWxhdGlvblxuICAgICAqIEBwYXJhbSB7R29vZ2xlRXJyb3J9IG9yaWdpbmFsRXJyb3IgLSB1bmRlcmx5aW5nIGVycm9yIHJlY2VpdmVkIGJ5IHRoZSBzdHJlYW1cbiAgICAgKiBAcGFyYW0ge29yaWdpbmFsVGltZW91dH0gb3JpZ2luYWxUaW1lb3V0IC0gdGhlIG9yaWdpbmFsIFRpbWVvdXQgc2V0IGluIGJhY2tvZmYgc2V0dGluZ3NcbiAgICAgKiBAcGFyYW0ge3JldHJpZXN9IHJldHJpZXMgLSB0aGUgbnVtYmVyIG9mIHJldHJpZXMgdGhlIGNhbGwgaGFzIG1hZGUgc28gZmFyXG4gICAgICovXG4gICAgdGhyb3dJZk1heFJldHJpZXNPclRvdGFsVGltZW91dEV4Y2VlZGVkKGRlYWRsaW5lLCBtYXhSZXRyaWVzLCB0b3RhbFRpbWVvdXRNaWxsaXMsIG9yaWdpbmFsRXJyb3IsIG9yaWdpbmFsVGltZW91dCwgcmV0cmllcykge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBub3dUaW1lID0gbm93LmdldFRpbWUoKTtcbiAgICAgICAgaWYgKG9yaWdpbmFsVGltZW91dCAmJlxuICAgICAgICAgICAgKHRvdGFsVGltZW91dE1pbGxpcyA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIHRvdGFsVGltZW91dE1pbGxpcyA8IDAgfHxcbiAgICAgICAgICAgICAgICAoZGVhZGxpbmUgJiYgbm93VGltZSA+PSBkZWFkbGluZSkpKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBnb29nbGVFcnJvcl8xLkdvb2dsZUVycm9yKGBUb3RhbCB0aW1lb3V0IG9mIEFQSSBleGNlZWRlZCAke29yaWdpbmFsVGltZW91dH0gbWlsbGlzZWNvbmRzICR7b3JpZ2luYWxFcnJvciA/IGByZXRyeWluZyBlcnJvciAke29yaWdpbmFsRXJyb3J9IGAgOiAnJ30gYmVmb3JlIGFueSByZXNwb25zZSB3YXMgcmVjZWl2ZWQuYCk7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVEO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFJldHJpZXMgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgIGVycm9yLm5vdGUgPSAnTWF4IHJldHJpZXMgaXMgc2V0IHRvIHplcm8uJztcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXRyaWVzICYmIHJldHJpZXMgPj0gbWF4UmV0cmllcykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignRXhjZWVkZWQgbWF4aW11bSBudW1iZXIgb2YgcmV0cmllcyAnICtcbiAgICAgICAgICAgICAgICAob3JpZ2luYWxFcnJvciA/IGByZXRyeWluZyBlcnJvciAke29yaWdpbmFsRXJyb3J9IGAgOiAnJykgK1xuICAgICAgICAgICAgICAgICdiZWZvcmUgYW55IHJlc3BvbnNlIHdhcyByZWNlaXZlZCcpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IHN0YXR1c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRDtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcndhcmRzIGV2ZW50cyBmcm9tIGFuIEFQSSByZXF1ZXN0IHN0cmVhbSB0byB0aGUgdXNlcidzIHN0cmVhbS5cbiAgICAgKiBAcGFyYW0ge1N0cmVhbX0gc3RyZWFtIC0gVGhlIEFQSSByZXF1ZXN0IHN0cmVhbS5cbiAgICAgKi9cbiAgICBldmVudEZvcndhcmRIZWxwZXIoc3RyZWFtKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50c1RvRm9yd2FyZCA9IFsnbWV0YWRhdGEnLCAncmVzcG9uc2UnLCAnc3RhdHVzJ107XG4gICAgICAgIGV2ZW50c1RvRm9yd2FyZC5mb3JFYWNoKGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHN0cmVhbS5vbihldmVudCwgdGhpcy5lbWl0LmJpbmQodGhpcywgZXZlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGVtaXRzIGEgcmVzcG9uc2Ugb24gdGhlIHN0cmVhbSBhZnRlciBlaXRoZXIgYSAnbWV0YWRhdGEnXG4gICAgICogb3IgYSAnc3RhdHVzJyBldmVudCAtIHRoaXMgaGVscHMgc3RyZWFtcyB0byBiZWhhdmUgbW9yZSBsaWtlIGh0dHAgY29uc3VtZXJzIGV4cGVjdFxuICAgICAqIEBwYXJhbSB7U3RyZWFtfSBzdHJlYW0gLSBUaGUgQVBJIHJlcXVlc3Qgc3RyZWFtLlxuICAgICAqL1xuICAgIHN0YXR1c01ldGFkYXRhSGVscGVyKHN0cmVhbSkge1xuICAgICAgICAvLyBnUlBDIGlzIGd1YXJhbnRlZWQgZW1pdCB0aGUgJ3N0YXR1cycgZXZlbnQgYnV0IG5vdCAnbWV0YWRhdGEnLCBhbmQgJ3N0YXR1cycgaXMgdGhlIGxhc3QgZXZlbnQgdG8gZW1pdC5cbiAgICAgICAgLy8gRW1pdCB0aGUgJ3Jlc3BvbnNlJyBldmVudCBpZiBzdHJlYW0gaGFzIG5vICdtZXRhZGF0YScgZXZlbnQuXG4gICAgICAgIC8vIFRoaXMgYXZvaWRzIHRoZSBzdHJlYW0gc3dhbGxvd2luZyB0aGUgb3RoZXIgZXZlbnRzLCBzdWNoIGFzICdlbmQnLlxuICAgICAgICBzdHJlYW0ub24oJ3N0YXR1cycsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVzcG9uc2VIYXNTZW50KSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ3Jlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnT0snLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgYWxzbyB3YW50IHRvIHN1cHBseSB0aGUgc3RhdHVzIGRhdGEgYXMgJ3Jlc3BvbnNlJyBldmVudCB0byBzdXBwb3J0XG4gICAgICAgIC8vIHRoZSBiZWhhdmlvciBvZiBnb29nbGUtY2xvdWQtbm9kZSBleHBlY3RzLlxuICAgICAgICAvLyBzZWU6XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDbG91ZFBsYXRmb3JtL2dvb2dsZS1jbG91ZC1ub2RlL3B1bGwvMTc3NSNpc3N1ZWNvbW1lbnQtMjU5MTQxMDI5XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDbG91ZFBsYXRmb3JtL2dvb2dsZS1jbG91ZC1ub2RlL2Jsb2IvMTE2NDM2ZmE3ODlkOGIwZjdmYzUxMDBiMTliNDI0ZTNlYzYzZTZiZi9wYWNrYWdlcy9jb21tb24vc3JjL2dycGMtc2VydmljZS5qcyNMMzU1XG4gICAgICAgIHN0cmVhbS5vbignbWV0YWRhdGEnLCBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSByZXNwb25zZSBvYmplY3Qgd2l0aCBzdWNjZWVkcy5cbiAgICAgICAgICAgIC8vIFRPRE86IHVuaWZ5IHRoaXMgbG9naWMgd2l0aCB0aGUgZGVjb3JhdGlvbiBvZiBnUlBDIHJlc3BvbnNlIHdoZW4gaXQnc1xuICAgICAgICAgICAgLy8gYWRkZWQuIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZWFwaXMvZ2F4LW5vZGVqcy9pc3N1ZXMvNjVcbiAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdyZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJycsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ09LJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VIYXNTZW50ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcndhcmQgZXZlbnRzIGZyb20gYW4gQVBJIHJlcXVlc3Qgc3RyZWFtIHRvIHRoZSB1c2VyJ3Mgc3RyZWFtLlxuICAgICAqIEBwYXJhbSB7U3RyZWFtfSBzdHJlYW0gLSBUaGUgQVBJIHJlcXVlc3Qgc3RyZWFtLlxuICAgICAqIEBwYXJhbSB7UmV0cnlPcHRpb25zfSByZXRyeSAtIENvbmZpZ3VyZXMgdGhlIGV4Y2VwdGlvbnMgdXBvbiB3aGljaCB0aGVcbiAgICAgKiAgIGZ1bmN0aW9uIHNob3VsZCByZXRyeSwgYW5kIHRoZSBwYXJhbWV0ZXJzIHRvIHRoZSBleHBvbmVudGlhbCBiYWNrb2ZmIHJldHJ5XG4gICAgICogICBhbGdvcml0aG0uXG4gICAgICovXG4gICAgZm9yd2FyZEV2ZW50cyhzdHJlYW0pIHtcbiAgICAgICAgdGhpcy5ldmVudEZvcndhcmRIZWxwZXIoc3RyZWFtKTtcbiAgICAgICAgdGhpcy5zdGF0dXNNZXRhZGF0YUhlbHBlcihzdHJlYW0pO1xuICAgICAgICBzdHJlYW0ub24oJ2Vycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvci5wYXJzZUdSUENTdGF0dXNEZXRhaWxzKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgbWVjaGFuaXNtIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIGEgc3RyZWFtaW5nIGNhbGwgc2hvdWxkIHJldHJ5XG4gICAgICogSWYgYSB1c2VyIHBhc3NlcyBpbiBhIFwic2hvdWxkUmV0cnlGblwiLCB0aGlzIHdpbGwgbm90IGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge0dvb2dsZUVycm9yfSBlcnJwciAtIFRoZSBlcnJvciB3ZSBuZWVkIHRvIGRldGVybWluZSBpcyByZXRyeWFibGUgb3Igbm90XG4gICAgICogQHBhcmFtIHtSZXRyeU9wdGlvbnN9IHJldHJ5IC0gQ29uZmlndXJlcyB0aGUgZXhjZXB0aW9ucyB1cG9uIHdoaWNoIHRoZVxuICAgICAqICAgZnVuY3Rpb24gc2hvdWxkIHJldHJ5LCBhbmQgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgcmV0cnlcbiAgICAgKiAgIGFsZ29yaXRobS5cbiAgICAgKi9cbiAgICBkZWZhdWx0U2hvdWxkUmV0cnkoZXJyb3IsIHJldHJ5KSB7XG4gICAgICAgIGlmICgocmV0cnkucmV0cnlDb2Rlcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICByZXRyeS5yZXRyeUNvZGVzLmluZGV4T2YoZXJyb3IuY29kZSkgPCAwKSB8fFxuICAgICAgICAgICAgcmV0cnkucmV0cnlDb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSB0YXJnZXQgc3RyZWFtLlxuICAgICAqIEBwYXJhbSB7QXBpQ2FsbH0gYXBpQ2FsbCAtIHRoZSBBUEkgZnVuY3Rpb24gdG8gYmUgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmd1bWVudCAtIHRoZSBhcmd1bWVudCB0byBiZSBwYXNzZWQgdG8gdGhlIGFwaUNhbGwuXG4gICAgICogQHBhcmFtIHtSZXRyeU9wdGlvbnN9IHJldHJ5IC0gQ29uZmlndXJlcyB0aGUgZXhjZXB0aW9ucyB1cG9uIHdoaWNoIHRoZVxuICAgICAqICAgZnVuY3Rpb24gc2hvdWxkIHJldHJ5LCBhbmQgdGhlIHBhcmFtZXRlcnMgdG8gdGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgcmV0cnlcbiAgICAgKiAgIGFsZ29yaXRobS5cbiAgICAgKi9cbiAgICBzZXRTdHJlYW0oYXBpQ2FsbCwgYXJndW1lbnQsIHJldHJ5UmVxdWVzdE9wdGlvbnMgPSB7fSwgcmV0cnkpIHtcbiAgICAgICAgdGhpcy5hcGlDYWxsID0gYXBpQ2FsbDtcbiAgICAgICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSBTdHJlYW1UeXBlLlNFUlZFUl9TVFJFQU1JTkcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhcGlDYWxsKGFyZ3VtZW50LCB0aGlzLl9jYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZWFkYWJsZShzdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nYXhTZXJ2ZXJTdHJlYW1pbmdSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ2FuY2VsQ2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhcGlDYWxsKGFyZ3VtZW50LCB0aGlzLl9jYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXRyeVN0cmVhbSA9IHRoaXMubmV3U3RyZWFtaW5nUmV0cnlSZXF1ZXN0KHsgcmVxdWVzdCwgcmV0cnkgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0gPSByZXRyeVN0cmVhbTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50Rm9yd2FyZEhlbHBlcihyZXRyeVN0cmVhbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZWFkYWJsZShyZXRyeVN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXRyeVN0cmVhbSA9IHJldHJ5UmVxdWVzdChudWxsLCB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdE1vZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0NhbmNlbENhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXBpQ2FsbChhcmd1bWVudCwgdGhpcy5fY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmRFdmVudHMoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXM6IHJldHJ5UmVxdWVzdE9wdGlvbnMucmV0cmllcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJldHJ5QXR0ZW1wdDogcmV0cnlSZXF1ZXN0T3B0aW9ucy5jdXJyZW50UmV0cnlBdHRlbXB0LFxuICAgICAgICAgICAgICAgICAgICBub1Jlc3BvbnNlUmV0cmllczogcmV0cnlSZXF1ZXN0T3B0aW9ucy5ub1Jlc3BvbnNlUmV0cmllcyxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmV0cnlGbjogcmV0cnlSZXF1ZXN0T3B0aW9ucy5zaG91bGRSZXRyeUZuLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVhZGFibGUocmV0cnlTdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGFwaUNhbGwoYXJndW1lbnQsIHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIHRoaXMuZm9yd2FyZEV2ZW50cyhzdHJlYW0pO1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSBTdHJlYW1UeXBlLkNMSUVOVF9TVFJFQU1JTkcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0V3JpdGFibGUoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBTdHJlYW1UeXBlLkJJRElfU1RSRUFNSU5HKSB7XG4gICAgICAgICAgICB0aGlzLnNldFJlYWRhYmxlKHN0cmVhbSk7XG4gICAgICAgICAgICB0aGlzLnNldFdyaXRhYmxlKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzQ2FuY2VsQ2FsbGVkICYmIHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJldHJ5IHJlcXVlc3Qgc3RyZWFtIC1cbiAgICAgKmlubmVyIGFycm93IGZ1bmN0aW9uIFwibmV3TWFrZVJlcXVlc3RcIiBoYW5kbGVzIHJldHJ5aW5nIGFuZCByZXN1bXB0aW9uXG4gICAgICogQHBhcmFtIHtzdHJlYW1pbmdSZXRyeVJlcXVlc3RPcHRpb25zfSBvcHRzXG4gICAgICogICB7cmVxdWVzdH0gLSB0aGUgcmVxdWVzdCB0byBiZSBtYWRlIGlmIHRoZSBzdHJlYW0gZXJyb3JzXG4gICAgICogICB7cmV0cnl9IC0gdGhlIHJldHJ5IG9wdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjYWxsXG4gICAgICogQHJldHVybnMge0NhbmNlbGxhYmxlU3RyZWFtfSAtIHRoZSBzdHJlYW0gdGhhdCBoYW5kbGVzIHJldHJ5IGxvZ2ljXG4gICAgICovXG4gICAgbmV3U3RyZWFtaW5nUmV0cnlSZXF1ZXN0KG9wdHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAvLyBhdCB0aGlzIHBvaW50LCBpdCB3b3VsZCBiZSB1bmV4cGVjdGVkIGlmIHJldHJ5IHdlcmUgdW5kZWZpbmVkXG4gICAgICAgIC8vIGJ1dCBpZiBpdCBpcywgcHJvdmlkZSBhIGxvZ2ljYWwgZGVmYXVsdCBzbyB3ZSBkb24ndCBydW4gaW50byB0cm91YmxlXG4gICAgICAgIGNvbnN0IHJldHJ5ID0gKF9hID0gb3B0cy5yZXRyeSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge1xuICAgICAgICAgICAgcmV0cnlDb2RlczogW10sXG4gICAgICAgICAgICBiYWNrb2ZmU2V0dGluZ3M6ICgwLCBnYXhfMS5jcmVhdGVEZWZhdWx0QmFja29mZlNldHRpbmdzKSgpLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgcmV0cmllcyA9IDA7XG4gICAgICAgIGNvbnN0IHJldHJ5U3RyZWFtID0gbmV3IHN0cmVhbV8xLlBhc3NUaHJvdWdoKHtcbiAgICAgICAgICAgIG9iamVjdE1vZGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0b3RhbFRpbWVvdXQgPSAoX2IgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MudG90YWxUaW1lb3V0TWlsbGlzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG1heFJldHJpZXMgPSAoX2MgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MubWF4UmV0cmllcykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgdGltZW91dCA9IChfZCA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5pbml0aWFsUnBjVGltZW91dE1pbGxpcykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IGRlYWRsaW5lID0gMDtcbiAgICAgICAgaWYgKHRvdGFsVGltZW91dCkge1xuICAgICAgICAgICAgZGVhZGxpbmUgPSBub3cuZ2V0VGltZSgpICsgdG90YWxUaW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYW5zaWVudEVycm9ySGVscGVyID0gKGVycm9yLCByZXF1ZXN0U3RyZWFtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvci5wYXJzZUdSUENTdGF0dXNEZXRhaWxzKGVycm9yKTtcbiAgICAgICAgICAgIGUubm90ZSA9XG4gICAgICAgICAgICAgICAgJ0V4Y2VwdGlvbiBvY2N1cnJlZCBpbiByZXRyeSBtZXRob2QgdGhhdCB3YXMgJyArXG4gICAgICAgICAgICAgICAgICAgICdub3QgY2xhc3NpZmllZCBhcyB0cmFuc2llbnQnO1xuICAgICAgICAgICAgLy8gY2xlYW4gdXAgdGhlIHJlcXVlc3Qgc3RyZWFtIGFuZCByZXRyeVN0cmVhbXMsIHNpbGVudGx5IGRlc3Ryb3kgaXQgb24gdGhlIHJlcXVlc3Qgc3RyZWFtXG4gICAgICAgICAgICAvLyBidXQgZG8gcmFpc2UgaXQgb24gZGVzdHJ1Y3RpbiBvZiB0aGUgcmV0cnlTdHJlYW0gc28gdGhlIGNvbnN1bWVyIGNhbiBzZWUgaXRcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICAgICAgcmV0cnlTdHJlYW0uZGVzdHJveShlKTtcbiAgICAgICAgICAgIHJldHVybiByZXRyeVN0cmVhbTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbmV3TWFrZVJlcXVlc3QgPSAobmV3b3B0cykgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGFFbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBzdGF0dXNSZWNlaXZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGVudGVyZWRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdFN0cmVhbSA9IG5ld29wdHMucmVxdWVzdChyZXF1ZXN0T3BzKTtcbiAgICAgICAgICAgIHJldHJ5U3RyZWFtLmNhbmNlbCA9IHJlcXVlc3RTdHJlYW0uY2FuY2VsOyAvLyBtYWtlIHN1cmUgdGhlIHJldHJ5U3RyZWFtIGlzIGFsc28gY2FuY2VsbGFibGUgYnkgdGhlIHVzZXJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50c1RvRm9yd2FyZCA9IFsnbWV0YWRhdGEnLCAncmVzcG9uc2UnLCAnc3RhdHVzJ107XG4gICAgICAgICAgICBldmVudHNUb0ZvcndhcmQuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFN0cmVhbS5vbihldmVudCwgcmV0cnlTdHJlYW0uZW1pdC5iaW5kKHJldHJ5U3RyZWFtLCBldmVudCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c01ldGFkYXRhSGVscGVyKHJlcXVlc3RTdHJlYW0pO1xuICAgICAgICAgICAgLy8gVE9ETyAtIGIvMzUzMjYyNTQyIGFkZHJlc3MgYnVmZmVyIHN0dWZmXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtLm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICByZXRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQuYmluZCh0aGlzLCAnZGF0YScpKGRhdGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiBpbiByZXRyeS1yZXF1ZXN0LCB3aGljaCBwcmV2aW91c2x5IGhhbmRsZWQgcmV0cmllcyxcbiAgICAgICAgICAgICAqIFwiZW5kXCIgY291bGQgYmUgZW1pdHRlZCBvbiBhIHJlcXVlc3Qgc3RyZWFtIGJlZm9yZSBvdGhlciBnUlBDIGV2ZW50cy5cbiAgICAgICAgICAgICAqIFRvIGVuc3VyZSBpdCBkb2Vzbid0IHJlYWNoIHRoZSBjb25zdW1lciBzdHJlYW0gcHJlbWF0dXJlbHksIHJldHJ5LXJlcXVlc3QgcGlwZWRcbiAgICAgICAgICAgICAqIHR3byBzdHJlYW1zIHRvZ2V0aGVyIChkZWxheVN0cmVhbSBhbmQgcmV0cnlTdHJlYW0pXG4gICAgICAgICAgICAgKiB0byBlbnN1cmUgdGhhdCBcImVuZFwiIG9ubHkgZW1pdHRlZCBhZnRlciBhIFwicmVzcG9uc2VcIiBldmVudFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFdlIGFyZSBjb25zY2lvdXNseSBOT1QgdXNpbmcgcGlwZWxpbmUgb3IgLnBpcGUgYXMgcGFydCBvZiBzaW1pbGFyIGxvZ2ljIGhlcmVcbiAgICAgICAgICAgICAqIGJlY2F1c2Ugd2Ugd2FudCBtb3JlIGNvbnRyb2wgb3ZlciB3aGF0IGhhcHBlbnMgZHVyaW5nIGV2ZW50IGhhbmRvZmYgYW5kIHdlIHdhbnQgdG9cbiAgICAgICAgICAgICAqIGF2b2lkIHRoZSB1bmRlc2lyZWQgYmVoYXZpb3IgdGhhdCBjYW4gaGFwcGVuIHdpdGggZXJyb3IgZXZlbnRzXG4gICAgICAgICAgICAgKiBpZiBjb25zdW1lcnMgaW4gY2xpZW50IGxpYnJhcmllcyBhcmUgYWxzbyB1c2luZyBwaXBlc1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFNpbmNlIFwic3RhdHVzXCIgaXMgZ3VhcmFudGVlZCB0byBiZSB0aGUgbGFzdCBldmVudCBlbWl0dGVkIGJ5IGdSUEMuXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIHNlZW4gYW4gXCJlbmRcIiBldmVudCwgdGhlIGRhdGFFbmQgYm9vbGVhbiB3aWxsIGJlIHRydWUgYW5kIHdlIGNhbiBzYWZlbHlcbiAgICAgICAgICAgICAqIGVuZCB0aGUgc3RyZWFtLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRoZSBcInN0YXR1c1JlY2VpdmVkXCIgYm9vbGVhbiBjb3ZlcnMgdGhlIG9wcG9zaXRlIGNhc2UgLSB0aGF0IHdlIHJlY2VpdmUgdGhlIFwic3RhdHVzXCIgZXZlbnQgYmVmb3JlXG4gICAgICAgICAgICAgKiBhIHN1Y2Nlc3NmdWwgc3RyZWFtIGVuZCBldmVudCAtIHRoaXMgc2lnbmFscyB0aGUgLm9uKCdlbmQnKSBldmVudCBoYW5kbGVyIHRoYXQgaXQncyBva2F5IHRvIGVuZCB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbS5vbignc3RhdHVzJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXR1c1JlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXRyeVN0cmVhbS5lbmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyZWFtO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRlcmVkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YUVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FzZSwgd2UndmUgYWxyZWFkeSByZWNlaXZlZCBcInN0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzIHRoZSBsYXN0IGV2ZW50IGZyb20gZ1JQQywgc28gaXQncyBjb29sIHRvIGVuZCB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlTdHJlYW0uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyZWFtO1xuICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGVsc2UgY2FzZSBiZWNhdXNlIGlmIGVudGVyZWRFcnJvclxuICAgICAgICAgICAgICAgIC8vIGlzIHRydWUsIHdlIHdpbGwgaGFuZGxlIHN0cmVhbSBkZXN0cnVjdGlvbiBhcyBwYXJ0IG9mXG4gICAgICAgICAgICAgICAgLy8gZWl0aGVyIHJldHJ5aW5nICh3aGVyZSB3ZSBkb24ndCB3YW50IHRvIGVuZCB0aGUgc3RyZWFtKVxuICAgICAgICAgICAgICAgIC8vIG9yIGFzIHBhcnQgb2YgZXJyb3IgaGFuZGxpbmcsIHdoaWNoIHdpbGwgdGFrZSBjYXJlIG9mIHN0cmVhbSBkZXN0cnVjdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGVudGVyZWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gdHlwZSBjaGVjayBmb3IgdW5kZWZpbmVkIGluc3RlYWQgb2YgZm9yIHRydXRoaW5lc3MgaW4gY2FzZSBtYXhSZXRyaWVzIG9yIHRpbWVvdXQgaXMgZXF1YWwgdG8gemVyb1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF4UmV0cmllcyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB0b3RhbFRpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG91bGRSZXRyeVJlcXVlc3QoZXJyb3IsIHJldHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heFJldHJpZXMgJiYgdG90YWxUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RXJyb3IgPSBuZXcgZ29vZ2xlRXJyb3JfMS5Hb29nbGVFcnJvcignQ2Fubm90IHNldCBib3RoIHRvdGFsVGltZW91dE1pbGxpcyBhbmQgbWF4UmV0cmllcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luIGJhY2tvZmZTZXR0aW5ncy4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdFcnJvci5jb2RlID0gc3RhdHVzXzEuU3RhdHVzLklOVkFMSURfQVJHVU1FTlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgdGhlIHJlcXVlc3Qgc3RyZWFtIGFuZCByZXRyeVN0cmVhbXMsIHNpbGVudGx5IGRlc3Ryb3kgaXQgb24gdGhlIHJlcXVlc3Qgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGRvIHJhaXNlIGl0IG9uIGRlc3RydWN0aW4gb2YgdGhlIHJldHJ5U3RyZWFtIHNvIHRoZSBjb25zdW1lciBjYW4gc2VlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlTdHJlYW0uZGVzdHJveShuZXdFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHJ5U3RyZWFtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGV4Y2VlZGluZyB0aW1lb3V0IG9yIG1heCByZXRyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aHJvd0lmTWF4UmV0cmllc09yVG90YWxUaW1lb3V0RXhjZWVkZWQoZGVhZGxpbmUsIG1heFJldHJpZXMsIHRpbWVvdXQsIGVycm9yLCB0b3RhbFRpbWVvdXQsIHJldHJpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IGdvb2dsZUVycm9yXzEuR29vZ2xlRXJyb3IucGFyc2VHUlBDU3RhdHVzRGV0YWlscyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsZWFuIHVwIHRoZSByZXF1ZXN0IHN0cmVhbSBhbmQgcmV0cnlTdHJlYW1zLCBzaWxlbnRseSBkZXN0cm95IGl0IG9uIHRoZSByZXF1ZXN0IHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgZG8gcmFpc2UgaXQgb24gZGVzdHJ1Y3Rpb24gb2YgdGhlIHJldHJ5U3RyZWFtIHNvIHRoZSBjb25zdW1lciBjYW4gc2VlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RTdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeVN0cmVhbS5kZXN0cm95KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJlYW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5TXVsdCA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5yZXRyeURlbGF5TXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhEZWxheSA9IHJldHJ5LmJhY2tvZmZTZXR0aW5ncy5tYXhSZXRyeURlbGF5TWlsbGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRNdWx0ID0gcmV0cnkuYmFja29mZlNldHRpbmdzLnJwY1RpbWVvdXRNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFRpbWVvdXQgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MubWF4UnBjVGltZW91dE1pbGxpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXkgPSByZXRyeS5iYWNrb2ZmU2V0dGluZ3MuaW5pdGlhbFJldHJ5RGVsYXlNaWxsaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIG5ldyBkZWFkbGluZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b1NsZWVwID0gTWF0aC5yYW5kb20oKSAqIGRlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZVRpbWVvdXRBbmRSZXN1bXB0aW9uRnVuY3Rpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBkbyB0aW1lb3V0IGNhbGN1bGF0aW9ucyBpZiBub3QgdXNpbmcgbWF4UmV0cmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5ID0gTWF0aC5taW4oZGVsYXkgKiBkZWxheU11bHQsIG1heERlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0Q2FsID0gdGltZW91dCAmJiB0aW1lb3V0TXVsdCA/IHRpbWVvdXQgKiB0aW1lb3V0TXVsdCA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcnBjVGltZW91dCA9IG1heFRpbWVvdXQgPyBtYXhUaW1lb3V0IDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEZWFkbGluZSA9IGRlYWRsaW5lID8gZGVhZGxpbmUgLSBub3cuZ2V0VGltZSgpIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gTWF0aC5taW4odGltZW91dENhbCwgcnBjVGltZW91dCwgbmV3RGVhZGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cmllcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ5QXJndW1lbnQgPSB0aGlzLmFyZ3VtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgcmVzdW1wdGlvbiBsb2dpYyBpcyBwYXNzZWQsIHVzZSBpdCB0byBkZXRlcm1pbmVkIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGFyZ3VtZW50IGZvciB0aGUgbmV3IHJlcXVlc3QgbWFkZSB0byB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBvcmlnaW5hbCBhcmd1bWVudCB3aWxsIGJlIHBhc3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5LmdldFJlc3VtcHRpb25SZXF1ZXN0Rm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5QXJndW1lbnQgPSByZXRyeS5nZXRSZXN1bXB0aW9uUmVxdWVzdEZuKHJldHJ5QXJndW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNDYW5jZWxDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0cmVhbSA9IHRoaXMuYXBpQ2FsbChyZXRyeUFyZ3VtZW50LCB0aGlzLl9jYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1N0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLnJlcXVlc3QgPSBuZXdSZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBhIHJlcXVlc3Qgd2l0aCB0aGUgdXBkYXRlZCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiYXNlZCBvbiB0aGUgcmVzdW1wdGlvbiBzdHJhdGVneVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld01ha2VSZXF1ZXN0KG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0b1NsZWVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVUaW1lb3V0QW5kUmVzdW1wdGlvbkZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub24gcmV0cnlhYmxlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNpZW50RXJyb3JIZWxwZXIoZXJyb3IsIHJlcXVlc3RTdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBuZWl0aGVyIHRpbWVvdXQgbm9yIG1heFJldHJpZXMgYXJlIGRlZmluZWQsIHN1cmZhY2UgdGhlIGVycm9yIHRvIHRoZSBjYWxsZXJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zaWVudEVycm9ySGVscGVyKGVycm9yLCByZXF1ZXN0U3RyZWFtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgc3RyZWFtIGlmIHdlIGRpZG4ndCByZXR1cm4gaXQgYXNcbiAgICAgICAgICAgIC8vIHBhcnQgb2YgYW4gZXJyb3Igc3RhdGVcbiAgICAgICAgICAgIHJldHVybiByZXRyeVN0cmVhbTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgZmlyc3QgbWFrZSByZXF1ZXN0IGNhbGwgd2l0aCB0aGUgb3B0aW9ucyB0aGUgdXNlciBwYXNzZWQgaW5cbiAgICAgICAgcmV0dXJuIG5ld01ha2VSZXF1ZXN0KG9wdHMpO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RyZWFtUHJveHkgPSBTdHJlYW1Qcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamingApiCaller = void 0;\nconst warnings_1 = __webpack_require__(/*! ../warnings */ \"(rsc)/./node_modules/google-gax/build/src/warnings.js\");\nconst streaming_1 = __webpack_require__(/*! ./streaming */ \"(rsc)/./node_modules/google-gax/build/src/streamingCalls/streaming.js\");\nclass StreamingApiCaller {\n    /**\n     * An API caller for methods of gRPC streaming.\n     * @private\n     * @constructor\n     * @param {StreamDescriptor} descriptor - the descriptor of the method structure.\n     */\n    constructor(descriptor) {\n        this.descriptor = descriptor;\n    }\n    init(callback) {\n        return new streaming_1.StreamProxy(this.descriptor.type, callback, this.descriptor.rest, this.descriptor.gaxStreamingRetries);\n    }\n    wrap(func) {\n        switch (this.descriptor.type) {\n            case streaming_1.StreamType.SERVER_STREAMING:\n                return (argument, metadata, options) => {\n                    return func(argument, metadata, options);\n                };\n            case streaming_1.StreamType.CLIENT_STREAMING:\n                return (argument, metadata, options, callback) => {\n                    return func(metadata, options, callback);\n                };\n            case streaming_1.StreamType.BIDI_STREAMING:\n                return (argument, metadata, options) => {\n                    return func(metadata, options);\n                };\n            default:\n                (0, warnings_1.warn)('streaming_wrap_unknown_stream_type', `Unknown stream type: ${this.descriptor.type}`);\n        }\n        return func;\n    }\n    call(apiCall, argument, settings, stream) {\n        stream.setStream(apiCall, argument, settings.retryRequestOptions, settings.retry);\n    }\n    fail(stream, err) {\n        stream.emit('error', err);\n    }\n    result(stream) {\n        return stream;\n    }\n}\nexports.StreamingApiCaller = StreamingApiCaller;\n//# sourceMappingURL=streamingApiCaller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvc3RyZWFtaW5nQ2FsbHMvc3RyZWFtaW5nQXBpQ2FsbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQixtQkFBbUIsbUJBQU8sQ0FBQywwRUFBYTtBQUN4QyxvQkFBb0IsbUJBQU8sQ0FBQywwRkFBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcscUJBQXFCO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvYnVpbGQvc3JjL3N0cmVhbWluZ0NhbGxzL3N0cmVhbWluZ0FwaUNhbGxlci5qcz9kODVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdHJlYW1pbmdBcGlDYWxsZXIgPSB2b2lkIDA7XG5jb25zdCB3YXJuaW5nc18xID0gcmVxdWlyZShcIi4uL3dhcm5pbmdzXCIpO1xuY29uc3Qgc3RyZWFtaW5nXzEgPSByZXF1aXJlKFwiLi9zdHJlYW1pbmdcIik7XG5jbGFzcyBTdHJlYW1pbmdBcGlDYWxsZXIge1xuICAgIC8qKlxuICAgICAqIEFuIEFQSSBjYWxsZXIgZm9yIG1ldGhvZHMgb2YgZ1JQQyBzdHJlYW1pbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1N0cmVhbURlc2NyaXB0b3J9IGRlc2NyaXB0b3IgLSB0aGUgZGVzY3JpcHRvciBvZiB0aGUgbWV0aG9kIHN0cnVjdHVyZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkZXNjcmlwdG9yKSB7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRvciA9IGRlc2NyaXB0b3I7XG4gICAgfVxuICAgIGluaXQoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBzdHJlYW1pbmdfMS5TdHJlYW1Qcm94eSh0aGlzLmRlc2NyaXB0b3IudHlwZSwgY2FsbGJhY2ssIHRoaXMuZGVzY3JpcHRvci5yZXN0LCB0aGlzLmRlc2NyaXB0b3IuZ2F4U3RyZWFtaW5nUmV0cmllcyk7XG4gICAgfVxuICAgIHdyYXAoZnVuYykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZGVzY3JpcHRvci50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIHN0cmVhbWluZ18xLlN0cmVhbVR5cGUuU0VSVkVSX1NUUkVBTUlORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuYyhhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIHN0cmVhbWluZ18xLlN0cmVhbVR5cGUuQ0xJRU5UX1NUUkVBTUlORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMobWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBzdHJlYW1pbmdfMS5TdHJlYW1UeXBlLkJJRElfU1RSRUFNSU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiAoYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jKG1ldGFkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAoMCwgd2FybmluZ3NfMS53YXJuKSgnc3RyZWFtaW5nX3dyYXBfdW5rbm93bl9zdHJlYW1fdHlwZScsIGBVbmtub3duIHN0cmVhbSB0eXBlOiAke3RoaXMuZGVzY3JpcHRvci50eXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBjYWxsKGFwaUNhbGwsIGFyZ3VtZW50LCBzZXR0aW5ncywgc3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbS5zZXRTdHJlYW0oYXBpQ2FsbCwgYXJndW1lbnQsIHNldHRpbmdzLnJldHJ5UmVxdWVzdE9wdGlvbnMsIHNldHRpbmdzLnJldHJ5KTtcbiAgICB9XG4gICAgZmFpbChzdHJlYW0sIGVycikge1xuICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICByZXN1bHQoc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfVxufVxuZXhwb3J0cy5TdHJlYW1pbmdBcGlDYWxsZXIgPSBTdHJlYW1pbmdBcGlDYWxsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW1pbmdBcGlDYWxsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/transcoding.js":
/*!**********************************************************!*\
  !*** ./node_modules/google-gax/build/src/transcoding.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getField = getField;\nexports.deepCopyWithoutMatchedFields = deepCopyWithoutMatchedFields;\nexports.deleteField = deleteField;\nexports.buildQueryStringComponents = buildQueryStringComponents;\nexports.encodeWithSlashes = encodeWithSlashes;\nexports.encodeWithoutSlashes = encodeWithoutSlashes;\nexports.applyPattern = applyPattern;\nexports.match = match;\nexports.flattenObject = flattenObject;\nexports.isProto3OptionalField = isProto3OptionalField;\nexports.transcode = transcode;\nexports.overrideHttpRules = overrideHttpRules;\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/google-gax/build/src/util.js\");\nconst httpOptionName = '(google.api.http)';\nconst proto3OptionalName = 'proto3_optional';\n// List of methods as defined in google/api/http.proto (see HttpRule)\nconst supportedHttpMethods = ['get', 'post', 'put', 'patch', 'delete'];\nfunction getField(request, field, allowObjects = false // in most cases, we need leaf fields\n) {\n    const parts = field.split('.');\n    let value = request;\n    for (const part of parts) {\n        if (typeof value !== 'object') {\n            return undefined;\n        }\n        value = value[part];\n    }\n    if (!allowObjects &&\n        typeof value === 'object' &&\n        !Array.isArray(value) &&\n        value !== null) {\n        return undefined;\n    }\n    return value;\n}\nfunction deepCopyWithoutMatchedFields(request, fieldsToSkip, fullNamePrefix = '') {\n    if (typeof request !== 'object' || request === null) {\n        return request;\n    }\n    const copy = Object.assign({}, request);\n    for (const key in copy) {\n        if (fieldsToSkip.has(`${fullNamePrefix}${key}`)) {\n            delete copy[key];\n            continue;\n        }\n        const nextFullNamePrefix = `${fullNamePrefix}${key}.`;\n        if (Array.isArray(copy[key])) {\n            // a field of an array cannot be addressed as \"request.field\", so we omit the skipping logic for array descendants\n            copy[key] = copy[key].map(value => deepCopyWithoutMatchedFields(value, new Set()));\n        }\n        else if (typeof copy[key] === 'object' && copy[key] !== null) {\n            copy[key] = deepCopyWithoutMatchedFields(copy[key], fieldsToSkip, nextFullNamePrefix);\n        }\n    }\n    return copy;\n}\nfunction deleteField(request, field) {\n    const parts = field.split('.');\n    while (parts.length > 1) {\n        if (typeof request !== 'object') {\n            return;\n        }\n        const part = parts.shift();\n        request = request[part];\n    }\n    const part = parts.shift();\n    if (typeof request !== 'object') {\n        return;\n    }\n    delete request[part];\n}\nfunction buildQueryStringComponents(request, prefix = '') {\n    const resultList = [];\n    for (const key in request) {\n        if (Array.isArray(request[key])) {\n            for (const value of request[key]) {\n                resultList.push(`${prefix}${encodeWithoutSlashes(key)}=${encodeWithoutSlashes(value.toString())}`);\n            }\n        }\n        else if (typeof request[key] === 'object' && request[key] !== null) {\n            resultList.push(...buildQueryStringComponents(request[key], `${key}.`));\n        }\n        else {\n            resultList.push(`${prefix}${encodeWithoutSlashes(key)}=${encodeWithoutSlashes(request[key] === null ? 'null' : request[key].toString())}`);\n        }\n    }\n    return resultList;\n}\nfunction encodeWithSlashes(str) {\n    return str\n        .split('')\n        .map(c => (c.match(/[-_.~0-9a-zA-Z]/) ? c : encodeURIComponent(c)))\n        .join('');\n}\nfunction encodeWithoutSlashes(str) {\n    return str\n        .split('')\n        .map(c => (c.match(/[-_.~0-9a-zA-Z/]/) ? c : encodeURIComponent(c)))\n        .join('');\n}\nfunction escapeRegExp(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nfunction applyPattern(pattern, fieldValue) {\n    if (!pattern || pattern === '*') {\n        return encodeWithSlashes(fieldValue);\n    }\n    if (!pattern.includes('*') && pattern !== fieldValue) {\n        return undefined;\n    }\n    // since we're converting the pattern to a regex, make necessary precautions:\n    const regex = new RegExp('^' +\n        escapeRegExp(pattern)\n            .replace(/\\\\\\*\\\\\\*/g, '(.+)')\n            .replace(/\\\\\\*/g, '([^/]+)') +\n        '$');\n    if (!fieldValue.match(regex)) {\n        return undefined;\n    }\n    return encodeWithoutSlashes(fieldValue);\n}\nfunction fieldToCamelCase(field) {\n    const parts = field.split('.');\n    return parts.map(part => (0, util_1.toCamelCase)(part)).join('.');\n}\nfunction match(request, pattern) {\n    let url = pattern;\n    const matchedFields = [];\n    for (;;) {\n        const match = url.match(/^(.*)\\{([^}=]+)(?:=([^}]*))?\\}(.*)/);\n        if (!match) {\n            break;\n        }\n        const [, before, field, pattern, after] = match;\n        const camelCasedField = fieldToCamelCase(field);\n        matchedFields.push(fieldToCamelCase(camelCasedField));\n        const fieldValue = getField(request, camelCasedField);\n        if (fieldValue === undefined) {\n            return undefined;\n        }\n        const appliedPattern = applyPattern(pattern, fieldValue === null ? 'null' : fieldValue.toString());\n        if (appliedPattern === undefined) {\n            return undefined;\n        }\n        url = before + appliedPattern + after;\n    }\n    return { matchedFields, url };\n}\nfunction flattenObject(request) {\n    const result = {};\n    for (const key in request) {\n        if (request[key] === undefined) {\n            continue;\n        }\n        if (Array.isArray(request[key])) {\n            // According to the http.proto comments, a repeated field may only\n            // contain primitive types, so no extra recursion here.\n            result[key] = request[key];\n            continue;\n        }\n        if (typeof request[key] === 'object' && request[key] !== null) {\n            const nested = flattenObject(request[key]);\n            for (const nestedKey in nested) {\n                result[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n            continue;\n        }\n        result[key] = request[key];\n    }\n    return result;\n}\nfunction isProto3OptionalField(field) {\n    return field && field.options && field.options[proto3OptionalName];\n}\nfunction transcode(request, parsedOptions) {\n    const httpRules = [];\n    for (const option of parsedOptions) {\n        if (!(httpOptionName in option)) {\n            continue;\n        }\n        const httpRule = option[httpOptionName];\n        httpRules.push(httpRule);\n        if (httpRule === null || httpRule === void 0 ? void 0 : httpRule.additional_bindings) {\n            const additionalBindings = Array.isArray(httpRule.additional_bindings)\n                ? httpRule.additional_bindings\n                : [httpRule.additional_bindings];\n            httpRules.push(...additionalBindings);\n        }\n    }\n    for (const httpRule of httpRules) {\n        for (const httpMethod of supportedHttpMethods) {\n            if (!(httpMethod in httpRule)) {\n                continue;\n            }\n            const pathTemplate = httpRule[httpMethod];\n            const matchResult = match(request, pathTemplate);\n            if (matchResult === undefined) {\n                continue;\n            }\n            const { url, matchedFields } = matchResult;\n            let data = deepCopyWithoutMatchedFields(request, new Set(matchedFields));\n            if (httpRule.body === '*') {\n                return { httpMethod, url, queryString: '', data };\n            }\n            // one field possibly goes to request data, others go to query string\n            const queryStringObject = data;\n            if (httpRule.body) {\n                data = getField(queryStringObject, fieldToCamelCase(httpRule.body), \n                /*allowObjects:*/ true);\n                deleteField(queryStringObject, fieldToCamelCase(httpRule.body));\n            }\n            else {\n                data = '';\n            }\n            const queryStringComponents = buildQueryStringComponents(queryStringObject);\n            const queryString = queryStringComponents.join('&');\n            if (!data ||\n                (typeof data === 'object' && Object.keys(data).length === 0)) {\n                data = '';\n            }\n            return { httpMethod, url, queryString, data };\n        }\n    }\n    return undefined;\n}\n// Override the protobuf json's the http rules.\nfunction overrideHttpRules(httpRules, protoJson) {\n    for (const rule of httpRules) {\n        if (!rule.selector) {\n            continue;\n        }\n        const rpc = protoJson.lookup(rule.selector);\n        // Not support override on non-exist RPC or a RPC without an annotation.\n        // We could reconsider if we have the use case later.\n        if (!rpc || !rpc.parsedOptions) {\n            continue;\n        }\n        for (const item of rpc.parsedOptions) {\n            if (!(httpOptionName in item)) {\n                continue;\n            }\n            const httpOptions = item[httpOptionName];\n            for (const httpMethod in httpOptions) {\n                if (httpMethod in rule) {\n                    if (httpMethod === 'additional_bindings') {\n                        continue;\n                    }\n                    httpOptions[httpMethod] =\n                        rule[httpMethod];\n                }\n                if (rule.additional_bindings) {\n                    httpOptions['additional_bindings'] = !httpOptions['additional_bindings']\n                        ? []\n                        : Array.isArray(httpOptions['additional_bindings'])\n                            ? httpOptions['additional_bindings']\n                            : [httpOptions['additional_bindings']];\n                    // Make the additional_binding to be an array if it is not.\n                    httpOptions['additional_bindings'].push(...rule.additional_bindings);\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=transcoding.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvdHJhbnNjb2RpbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCLG9DQUFvQztBQUNwQyxtQkFBbUI7QUFDbkIsa0NBQWtDO0FBQ2xDLHlCQUF5QjtBQUN6Qiw0QkFBNEI7QUFDNUIsb0JBQW9CO0FBQ3BCLGFBQWE7QUFDYixxQkFBcUI7QUFDckIsNkJBQTZCO0FBQzdCLGlCQUFpQjtBQUNqQix5QkFBeUI7QUFDekIsZUFBZSxtQkFBTyxDQUFDLGlFQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSxnQ0FBZ0MsZUFBZSxFQUFFLElBQUk7QUFDckQ7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGVBQWUsRUFBRSxJQUFJO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPLEVBQUUsMEJBQTBCLEdBQUcsdUNBQXVDO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTyxFQUFFLDBCQUEwQixHQUFHLCtFQUErRTtBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsd0NBQXdDLElBQUksWUFBWSxPQUFPO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLElBQUksR0FBRyxVQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUJBQXFCO0FBQ3pDO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy90cmFuc2NvZGluZy5qcz9jNWZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRGaWVsZCA9IGdldEZpZWxkO1xuZXhwb3J0cy5kZWVwQ29weVdpdGhvdXRNYXRjaGVkRmllbGRzID0gZGVlcENvcHlXaXRob3V0TWF0Y2hlZEZpZWxkcztcbmV4cG9ydHMuZGVsZXRlRmllbGQgPSBkZWxldGVGaWVsZDtcbmV4cG9ydHMuYnVpbGRRdWVyeVN0cmluZ0NvbXBvbmVudHMgPSBidWlsZFF1ZXJ5U3RyaW5nQ29tcG9uZW50cztcbmV4cG9ydHMuZW5jb2RlV2l0aFNsYXNoZXMgPSBlbmNvZGVXaXRoU2xhc2hlcztcbmV4cG9ydHMuZW5jb2RlV2l0aG91dFNsYXNoZXMgPSBlbmNvZGVXaXRob3V0U2xhc2hlcztcbmV4cG9ydHMuYXBwbHlQYXR0ZXJuID0gYXBwbHlQYXR0ZXJuO1xuZXhwb3J0cy5tYXRjaCA9IG1hdGNoO1xuZXhwb3J0cy5mbGF0dGVuT2JqZWN0ID0gZmxhdHRlbk9iamVjdDtcbmV4cG9ydHMuaXNQcm90bzNPcHRpb25hbEZpZWxkID0gaXNQcm90bzNPcHRpb25hbEZpZWxkO1xuZXhwb3J0cy50cmFuc2NvZGUgPSB0cmFuc2NvZGU7XG5leHBvcnRzLm92ZXJyaWRlSHR0cFJ1bGVzID0gb3ZlcnJpZGVIdHRwUnVsZXM7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgaHR0cE9wdGlvbk5hbWUgPSAnKGdvb2dsZS5hcGkuaHR0cCknO1xuY29uc3QgcHJvdG8zT3B0aW9uYWxOYW1lID0gJ3Byb3RvM19vcHRpb25hbCc7XG4vLyBMaXN0IG9mIG1ldGhvZHMgYXMgZGVmaW5lZCBpbiBnb29nbGUvYXBpL2h0dHAucHJvdG8gKHNlZSBIdHRwUnVsZSlcbmNvbnN0IHN1cHBvcnRlZEh0dHBNZXRob2RzID0gWydnZXQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnZGVsZXRlJ107XG5mdW5jdGlvbiBnZXRGaWVsZChyZXF1ZXN0LCBmaWVsZCwgYWxsb3dPYmplY3RzID0gZmFsc2UgLy8gaW4gbW9zdCBjYXNlcywgd2UgbmVlZCBsZWFmIGZpZWxkc1xuKSB7XG4gICAgY29uc3QgcGFydHMgPSBmaWVsZC5zcGxpdCgnLicpO1xuICAgIGxldCB2YWx1ZSA9IHJlcXVlc3Q7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdmFsdWVbcGFydF07XG4gICAgfVxuICAgIGlmICghYWxsb3dPYmplY3RzICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmXG4gICAgICAgIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGRlZXBDb3B5V2l0aG91dE1hdGNoZWRGaWVsZHMocmVxdWVzdCwgZmllbGRzVG9Ta2lwLCBmdWxsTmFtZVByZWZpeCA9ICcnKSB7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0ICE9PSAnb2JqZWN0JyB8fCByZXF1ZXN0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbiAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgcmVxdWVzdCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29weSkge1xuICAgICAgICBpZiAoZmllbGRzVG9Ta2lwLmhhcyhgJHtmdWxsTmFtZVByZWZpeH0ke2tleX1gKSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvcHlba2V5XTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRGdWxsTmFtZVByZWZpeCA9IGAke2Z1bGxOYW1lUHJlZml4fSR7a2V5fS5gO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb3B5W2tleV0pKSB7XG4gICAgICAgICAgICAvLyBhIGZpZWxkIG9mIGFuIGFycmF5IGNhbm5vdCBiZSBhZGRyZXNzZWQgYXMgXCJyZXF1ZXN0LmZpZWxkXCIsIHNvIHdlIG9taXQgdGhlIHNraXBwaW5nIGxvZ2ljIGZvciBhcnJheSBkZXNjZW5kYW50c1xuICAgICAgICAgICAgY29weVtrZXldID0gY29weVtrZXldLm1hcCh2YWx1ZSA9PiBkZWVwQ29weVdpdGhvdXRNYXRjaGVkRmllbGRzKHZhbHVlLCBuZXcgU2V0KCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29weVtrZXldID09PSAnb2JqZWN0JyAmJiBjb3B5W2tleV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5V2l0aG91dE1hdGNoZWRGaWVsZHMoY29weVtrZXldLCBmaWVsZHNUb1NraXAsIG5leHRGdWxsTmFtZVByZWZpeCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG59XG5mdW5jdGlvbiBkZWxldGVGaWVsZChyZXF1ZXN0LCBmaWVsZCkge1xuICAgIGNvbnN0IHBhcnRzID0gZmllbGQuc3BsaXQoJy4nKTtcbiAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3QgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0W3BhcnRdO1xuICAgIH1cbiAgICBjb25zdCBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIHJlcXVlc3RbcGFydF07XG59XG5mdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nQ29tcG9uZW50cyhyZXF1ZXN0LCBwcmVmaXggPSAnJykge1xuICAgIGNvbnN0IHJlc3VsdExpc3QgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByZXF1ZXN0KSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlcXVlc3Rba2V5XSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgcmVxdWVzdFtrZXldKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TGlzdC5wdXNoKGAke3ByZWZpeH0ke2VuY29kZVdpdGhvdXRTbGFzaGVzKGtleSl9PSR7ZW5jb2RlV2l0aG91dFNsYXNoZXModmFsdWUudG9TdHJpbmcoKSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJlcXVlc3Rba2V5XSA9PT0gJ29iamVjdCcgJiYgcmVxdWVzdFtrZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHRMaXN0LnB1c2goLi4uYnVpbGRRdWVyeVN0cmluZ0NvbXBvbmVudHMocmVxdWVzdFtrZXldLCBgJHtrZXl9LmApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdExpc3QucHVzaChgJHtwcmVmaXh9JHtlbmNvZGVXaXRob3V0U2xhc2hlcyhrZXkpfT0ke2VuY29kZVdpdGhvdXRTbGFzaGVzKHJlcXVlc3Rba2V5XSA9PT0gbnVsbCA/ICdudWxsJyA6IHJlcXVlc3Rba2V5XS50b1N0cmluZygpKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0TGlzdDtcbn1cbmZ1bmN0aW9uIGVuY29kZVdpdGhTbGFzaGVzKHN0cikge1xuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAubWFwKGMgPT4gKGMubWF0Y2goL1stXy5+MC05YS16QS1aXS8pID8gYyA6IGVuY29kZVVSSUNvbXBvbmVudChjKSkpXG4gICAgICAgIC5qb2luKCcnKTtcbn1cbmZ1bmN0aW9uIGVuY29kZVdpdGhvdXRTbGFzaGVzKHN0cikge1xuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAubWFwKGMgPT4gKGMubWF0Y2goL1stXy5+MC05YS16QS1aL10vKSA/IGMgOiBlbmNvZGVVUklDb21wb25lbnQoYykpKVxuICAgICAgICAuam9pbignJyk7XG59XG5mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xufVxuZnVuY3Rpb24gYXBwbHlQYXR0ZXJuKHBhdHRlcm4sIGZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIXBhdHRlcm4gfHwgcGF0dGVybiA9PT0gJyonKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVXaXRoU2xhc2hlcyhmaWVsZFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKCFwYXR0ZXJuLmluY2x1ZGVzKCcqJykgJiYgcGF0dGVybiAhPT0gZmllbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBzaW5jZSB3ZSdyZSBjb252ZXJ0aW5nIHRoZSBwYXR0ZXJuIHRvIGEgcmVnZXgsIG1ha2UgbmVjZXNzYXJ5IHByZWNhdXRpb25zOlxuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgK1xuICAgICAgICBlc2NhcGVSZWdFeHAocGF0dGVybilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXFwqXFxcXFxcKi9nLCAnKC4rKScpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXFxcKi9nLCAnKFteL10rKScpICtcbiAgICAgICAgJyQnKTtcbiAgICBpZiAoIWZpZWxkVmFsdWUubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVXaXRob3V0U2xhc2hlcyhmaWVsZFZhbHVlKTtcbn1cbmZ1bmN0aW9uIGZpZWxkVG9DYW1lbENhc2UoZmllbGQpIHtcbiAgICBjb25zdCBwYXJ0cyA9IGZpZWxkLnNwbGl0KCcuJyk7XG4gICAgcmV0dXJuIHBhcnRzLm1hcChwYXJ0ID0+ICgwLCB1dGlsXzEudG9DYW1lbENhc2UpKHBhcnQpKS5qb2luKCcuJyk7XG59XG5mdW5jdGlvbiBtYXRjaChyZXF1ZXN0LCBwYXR0ZXJuKSB7XG4gICAgbGV0IHVybCA9IHBhdHRlcm47XG4gICAgY29uc3QgbWF0Y2hlZEZpZWxkcyA9IFtdO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2goL14oLiopXFx7KFtefT1dKykoPzo9KFtefV0qKSk/XFx9KC4qKS8pO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbLCBiZWZvcmUsIGZpZWxkLCBwYXR0ZXJuLCBhZnRlcl0gPSBtYXRjaDtcbiAgICAgICAgY29uc3QgY2FtZWxDYXNlZEZpZWxkID0gZmllbGRUb0NhbWVsQ2FzZShmaWVsZCk7XG4gICAgICAgIG1hdGNoZWRGaWVsZHMucHVzaChmaWVsZFRvQ2FtZWxDYXNlKGNhbWVsQ2FzZWRGaWVsZCkpO1xuICAgICAgICBjb25zdCBmaWVsZFZhbHVlID0gZ2V0RmllbGQocmVxdWVzdCwgY2FtZWxDYXNlZEZpZWxkKTtcbiAgICAgICAgaWYgKGZpZWxkVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHBsaWVkUGF0dGVybiA9IGFwcGx5UGF0dGVybihwYXR0ZXJuLCBmaWVsZFZhbHVlID09PSBudWxsID8gJ251bGwnIDogZmllbGRWYWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKGFwcGxpZWRQYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdXJsID0gYmVmb3JlICsgYXBwbGllZFBhdHRlcm4gKyBhZnRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWF0Y2hlZEZpZWxkcywgdXJsIH07XG59XG5mdW5jdGlvbiBmbGF0dGVuT2JqZWN0KHJlcXVlc3QpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByZXF1ZXN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0W2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVxdWVzdFtrZXldKSkge1xuICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBodHRwLnByb3RvIGNvbW1lbnRzLCBhIHJlcGVhdGVkIGZpZWxkIG1heSBvbmx5XG4gICAgICAgICAgICAvLyBjb250YWluIHByaW1pdGl2ZSB0eXBlcywgc28gbm8gZXh0cmEgcmVjdXJzaW9uIGhlcmUuXG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHJlcXVlc3Rba2V5XTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdFtrZXldID09PSAnb2JqZWN0JyAmJiByZXF1ZXN0W2tleV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5lc3RlZCA9IGZsYXR0ZW5PYmplY3QocmVxdWVzdFtrZXldKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmVzdGVkS2V5IGluIG5lc3RlZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtgJHtrZXl9LiR7bmVzdGVkS2V5fWBdID0gbmVzdGVkW25lc3RlZEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRba2V5XSA9IHJlcXVlc3Rba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGlzUHJvdG8zT3B0aW9uYWxGaWVsZChmaWVsZCkge1xuICAgIHJldHVybiBmaWVsZCAmJiBmaWVsZC5vcHRpb25zICYmIGZpZWxkLm9wdGlvbnNbcHJvdG8zT3B0aW9uYWxOYW1lXTtcbn1cbmZ1bmN0aW9uIHRyYW5zY29kZShyZXF1ZXN0LCBwYXJzZWRPcHRpb25zKSB7XG4gICAgY29uc3QgaHR0cFJ1bGVzID0gW107XG4gICAgZm9yIChjb25zdCBvcHRpb24gb2YgcGFyc2VkT3B0aW9ucykge1xuICAgICAgICBpZiAoIShodHRwT3B0aW9uTmFtZSBpbiBvcHRpb24pKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBodHRwUnVsZSA9IG9wdGlvbltodHRwT3B0aW9uTmFtZV07XG4gICAgICAgIGh0dHBSdWxlcy5wdXNoKGh0dHBSdWxlKTtcbiAgICAgICAgaWYgKGh0dHBSdWxlID09PSBudWxsIHx8IGh0dHBSdWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBodHRwUnVsZS5hZGRpdGlvbmFsX2JpbmRpbmdzKSB7XG4gICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsQmluZGluZ3MgPSBBcnJheS5pc0FycmF5KGh0dHBSdWxlLmFkZGl0aW9uYWxfYmluZGluZ3MpXG4gICAgICAgICAgICAgICAgPyBodHRwUnVsZS5hZGRpdGlvbmFsX2JpbmRpbmdzXG4gICAgICAgICAgICAgICAgOiBbaHR0cFJ1bGUuYWRkaXRpb25hbF9iaW5kaW5nc107XG4gICAgICAgICAgICBodHRwUnVsZXMucHVzaCguLi5hZGRpdGlvbmFsQmluZGluZ3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgaHR0cFJ1bGUgb2YgaHR0cFJ1bGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaHR0cE1ldGhvZCBvZiBzdXBwb3J0ZWRIdHRwTWV0aG9kcykge1xuICAgICAgICAgICAgaWYgKCEoaHR0cE1ldGhvZCBpbiBodHRwUnVsZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhdGhUZW1wbGF0ZSA9IGh0dHBSdWxlW2h0dHBNZXRob2RdO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBtYXRjaChyZXF1ZXN0LCBwYXRoVGVtcGxhdGUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoUmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdXJsLCBtYXRjaGVkRmllbGRzIH0gPSBtYXRjaFJlc3VsdDtcbiAgICAgICAgICAgIGxldCBkYXRhID0gZGVlcENvcHlXaXRob3V0TWF0Y2hlZEZpZWxkcyhyZXF1ZXN0LCBuZXcgU2V0KG1hdGNoZWRGaWVsZHMpKTtcbiAgICAgICAgICAgIGlmIChodHRwUnVsZS5ib2R5ID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBodHRwTWV0aG9kLCB1cmwsIHF1ZXJ5U3RyaW5nOiAnJywgZGF0YSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25lIGZpZWxkIHBvc3NpYmx5IGdvZXMgdG8gcmVxdWVzdCBkYXRhLCBvdGhlcnMgZ28gdG8gcXVlcnkgc3RyaW5nXG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZ09iamVjdCA9IGRhdGE7XG4gICAgICAgICAgICBpZiAoaHR0cFJ1bGUuYm9keSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBnZXRGaWVsZChxdWVyeVN0cmluZ09iamVjdCwgZmllbGRUb0NhbWVsQ2FzZShodHRwUnVsZS5ib2R5KSwgXG4gICAgICAgICAgICAgICAgLyphbGxvd09iamVjdHM6Ki8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlRmllbGQocXVlcnlTdHJpbmdPYmplY3QsIGZpZWxkVG9DYW1lbENhc2UoaHR0cFJ1bGUuYm9keSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmdDb21wb25lbnRzID0gYnVpbGRRdWVyeVN0cmluZ0NvbXBvbmVudHMocXVlcnlTdHJpbmdPYmplY3QpO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZ0NvbXBvbmVudHMuam9pbignJicpO1xuICAgICAgICAgICAgaWYgKCFkYXRhIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgaHR0cE1ldGhvZCwgdXJsLCBxdWVyeVN0cmluZywgZGF0YSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vLyBPdmVycmlkZSB0aGUgcHJvdG9idWYganNvbidzIHRoZSBodHRwIHJ1bGVzLlxuZnVuY3Rpb24gb3ZlcnJpZGVIdHRwUnVsZXMoaHR0cFJ1bGVzLCBwcm90b0pzb24pIHtcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgaHR0cFJ1bGVzKSB7XG4gICAgICAgIGlmICghcnVsZS5zZWxlY3Rvcikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcnBjID0gcHJvdG9Kc29uLmxvb2t1cChydWxlLnNlbGVjdG9yKTtcbiAgICAgICAgLy8gTm90IHN1cHBvcnQgb3ZlcnJpZGUgb24gbm9uLWV4aXN0IFJQQyBvciBhIFJQQyB3aXRob3V0IGFuIGFubm90YXRpb24uXG4gICAgICAgIC8vIFdlIGNvdWxkIHJlY29uc2lkZXIgaWYgd2UgaGF2ZSB0aGUgdXNlIGNhc2UgbGF0ZXIuXG4gICAgICAgIGlmICghcnBjIHx8ICFycGMucGFyc2VkT3B0aW9ucykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHJwYy5wYXJzZWRPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIShodHRwT3B0aW9uTmFtZSBpbiBpdGVtKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaHR0cE9wdGlvbnMgPSBpdGVtW2h0dHBPcHRpb25OYW1lXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaHR0cE1ldGhvZCBpbiBodHRwT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChodHRwTWV0aG9kIGluIHJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh0dHBNZXRob2QgPT09ICdhZGRpdGlvbmFsX2JpbmRpbmdzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaHR0cE9wdGlvbnNbaHR0cE1ldGhvZF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZVtodHRwTWV0aG9kXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUuYWRkaXRpb25hbF9iaW5kaW5ncykge1xuICAgICAgICAgICAgICAgICAgICBodHRwT3B0aW9uc1snYWRkaXRpb25hbF9iaW5kaW5ncyddID0gIWh0dHBPcHRpb25zWydhZGRpdGlvbmFsX2JpbmRpbmdzJ11cbiAgICAgICAgICAgICAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgICAgICAgICAgICAgIDogQXJyYXkuaXNBcnJheShodHRwT3B0aW9uc1snYWRkaXRpb25hbF9iaW5kaW5ncyddKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHR0cE9wdGlvbnNbJ2FkZGl0aW9uYWxfYmluZGluZ3MnXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW2h0dHBPcHRpb25zWydhZGRpdGlvbmFsX2JpbmRpbmdzJ11dO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHRoZSBhZGRpdGlvbmFsX2JpbmRpbmcgdG8gYmUgYW4gYXJyYXkgaWYgaXQgaXMgbm90LlxuICAgICAgICAgICAgICAgICAgICBodHRwT3B0aW9uc1snYWRkaXRpb25hbF9iaW5kaW5ncyddLnB1c2goLi4ucnVsZS5hZGRpdGlvbmFsX2JpbmRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2NvZGluZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/transcoding.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/util.js":
/*!***************************************************!*\
  !*** ./node_modules/google-gax/build/src/util.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.camelToSnakeCase = camelToSnakeCase;\nexports.toCamelCase = toCamelCase;\nexports.toLowerCamelCase = toLowerCamelCase;\nexports.makeUUID = makeUUID;\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst uuid_1 = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/index.js\");\nfunction words(str, normalize = false) {\n    if (normalize) {\n        // strings like somethingABCSomething are special case for protobuf.js,\n        // they should be split as \"something\", \"abc\", \"something\".\n        // Deal with sequences of capital letters first.\n        str = str.replace(/([A-Z])([A-Z]+)([A-Z])/g, (str) => {\n            return (str[0] +\n                str.slice(1, str.length - 1).toLowerCase() +\n                str[str.length - 1]);\n        });\n    }\n    // split on spaces, non-alphanumeric, or capital letters\n    // note: we keep the capitalization of the first word (special case: IPProtocol)\n    return str\n        .split(/(?=[A-Z])|[^A-Za-z0-9.]+/)\n        .filter(w => w.length > 0)\n        .map((w, index) => (index === 0 ? w : w.toLowerCase()));\n}\n/**\n * Converts the first character of the given string to lower case.\n */\nfunction lowercase(str) {\n    if (str.length === 0) {\n        return str;\n    }\n    return str[0].toLowerCase() + str.slice(1);\n}\n/**\n * Converts a given string from camelCase (used by protobuf.js and in JSON)\n * to snake_case (normally used in proto definitions).\n */\nfunction camelToSnakeCase(str) {\n    // Keep the first position capitalization, otherwise decapitalize with underscore.\n    const wordsList = words(str);\n    if (wordsList.length === 0) {\n        return str;\n    }\n    const result = [wordsList[0]];\n    result.push(...wordsList.slice(1).map(lowercase));\n    return result.join('_');\n}\n/**\n * Capitalizes the first character of the given string.\n */\nfunction capitalize(str) {\n    if (str.length === 0) {\n        return str;\n    }\n    return str[0].toUpperCase() + str.slice(1);\n}\n/**\n * Converts a given string from snake_case (normally used in proto definitions) or\n * PascalCase (also used in proto definitions) to camelCase (used by protobuf.js).\n * Preserves capitalization of the first character.\n */\nfunction toCamelCase(str) {\n    const wordsList = words(str, /*normalize:*/ true);\n    if (wordsList.length === 0) {\n        return str;\n    }\n    const result = [wordsList[0]];\n    result.push(...wordsList.slice(1).map(w => {\n        if (w.match(/^\\d+$/)) {\n            return '_' + w;\n        }\n        return capitalize(w);\n    }));\n    return result.join('');\n}\n/**\n * Converts a given string to lower camel case (forcing the first character to be\n * in lower case).\n */\nfunction toLowerCamelCase(str) {\n    const camelCase = toCamelCase(str);\n    if (camelCase.length === 0) {\n        return camelCase;\n    }\n    return camelCase[0].toLowerCase() + camelCase.slice(1);\n}\n/**\n * Converts a given string to lower camel case (forcing the first character to be\n * in lower case).\n */\nfunction makeUUID() {\n    return (0, uuid_1.v4)();\n}\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvdXRpbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0I7QUFDeEIsbUJBQW1CO0FBQ25CLHdCQUF3QjtBQUN4QixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLDhEQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy91dGlsLmpzPzAwNjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNhbWVsVG9TbmFrZUNhc2UgPSBjYW1lbFRvU25ha2VDYXNlO1xuZXhwb3J0cy50b0NhbWVsQ2FzZSA9IHRvQ2FtZWxDYXNlO1xuZXhwb3J0cy50b0xvd2VyQ2FtZWxDYXNlID0gdG9Mb3dlckNhbWVsQ2FzZTtcbmV4cG9ydHMubWFrZVVVSUQgPSBtYWtlVVVJRDtcbi8qKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IHV1aWRfMSA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuZnVuY3Rpb24gd29yZHMoc3RyLCBub3JtYWxpemUgPSBmYWxzZSkge1xuICAgIGlmIChub3JtYWxpemUpIHtcbiAgICAgICAgLy8gc3RyaW5ncyBsaWtlIHNvbWV0aGluZ0FCQ1NvbWV0aGluZyBhcmUgc3BlY2lhbCBjYXNlIGZvciBwcm90b2J1Zi5qcyxcbiAgICAgICAgLy8gdGhleSBzaG91bGQgYmUgc3BsaXQgYXMgXCJzb21ldGhpbmdcIiwgXCJhYmNcIiwgXCJzb21ldGhpbmdcIi5cbiAgICAgICAgLy8gRGVhbCB3aXRoIHNlcXVlbmNlcyBvZiBjYXBpdGFsIGxldHRlcnMgZmlyc3QuXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8oW0EtWl0pKFtBLVpdKykoW0EtWl0pL2csIChzdHIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoc3RyWzBdICtcbiAgICAgICAgICAgICAgICBzdHIuc2xpY2UoMSwgc3RyLmxlbmd0aCAtIDEpLnRvTG93ZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgIHN0cltzdHIubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gc3BsaXQgb24gc3BhY2VzLCBub24tYWxwaGFudW1lcmljLCBvciBjYXBpdGFsIGxldHRlcnNcbiAgICAvLyBub3RlOiB3ZSBrZWVwIHRoZSBjYXBpdGFsaXphdGlvbiBvZiB0aGUgZmlyc3Qgd29yZCAoc3BlY2lhbCBjYXNlOiBJUFByb3RvY29sKVxuICAgIHJldHVybiBzdHJcbiAgICAgICAgLnNwbGl0KC8oPz1bQS1aXSl8W15BLVphLXowLTkuXSsvKVxuICAgICAgICAuZmlsdGVyKHcgPT4gdy5sZW5ndGggPiAwKVxuICAgICAgICAubWFwKCh3LCBpbmRleCkgPT4gKGluZGV4ID09PSAwID8gdyA6IHcudG9Mb3dlckNhc2UoKSkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBnaXZlbiBzdHJpbmcgdG8gbG93ZXIgY2FzZS5cbiAqL1xuZnVuY3Rpb24gbG93ZXJjYXNlKHN0cikge1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBzdHJbMF0udG9Mb3dlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBnaXZlbiBzdHJpbmcgZnJvbSBjYW1lbENhc2UgKHVzZWQgYnkgcHJvdG9idWYuanMgYW5kIGluIEpTT04pXG4gKiB0byBzbmFrZV9jYXNlIChub3JtYWxseSB1c2VkIGluIHByb3RvIGRlZmluaXRpb25zKS5cbiAqL1xuZnVuY3Rpb24gY2FtZWxUb1NuYWtlQ2FzZShzdHIpIHtcbiAgICAvLyBLZWVwIHRoZSBmaXJzdCBwb3NpdGlvbiBjYXBpdGFsaXphdGlvbiwgb3RoZXJ3aXNlIGRlY2FwaXRhbGl6ZSB3aXRoIHVuZGVyc2NvcmUuXG4gICAgY29uc3Qgd29yZHNMaXN0ID0gd29yZHMoc3RyKTtcbiAgICBpZiAod29yZHNMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbd29yZHNMaXN0WzBdXTtcbiAgICByZXN1bHQucHVzaCguLi53b3Jkc0xpc3Quc2xpY2UoMSkubWFwKGxvd2VyY2FzZSkpO1xuICAgIHJldHVybiByZXN1bHQuam9pbignXycpO1xufVxuLyoqXG4gKiBDYXBpdGFsaXplcyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBnaXZlbiBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0clswXS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGdpdmVuIHN0cmluZyBmcm9tIHNuYWtlX2Nhc2UgKG5vcm1hbGx5IHVzZWQgaW4gcHJvdG8gZGVmaW5pdGlvbnMpIG9yXG4gKiBQYXNjYWxDYXNlIChhbHNvIHVzZWQgaW4gcHJvdG8gZGVmaW5pdGlvbnMpIHRvIGNhbWVsQ2FzZSAodXNlZCBieSBwcm90b2J1Zi5qcykuXG4gKiBQcmVzZXJ2ZXMgY2FwaXRhbGl6YXRpb24gb2YgdGhlIGZpcnN0IGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gdG9DYW1lbENhc2Uoc3RyKSB7XG4gICAgY29uc3Qgd29yZHNMaXN0ID0gd29yZHMoc3RyLCAvKm5vcm1hbGl6ZToqLyB0cnVlKTtcbiAgICBpZiAod29yZHNMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbd29yZHNMaXN0WzBdXTtcbiAgICByZXN1bHQucHVzaCguLi53b3Jkc0xpc3Quc2xpY2UoMSkubWFwKHcgPT4ge1xuICAgICAgICBpZiAody5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgICAgICAgIHJldHVybiAnXycgKyB3O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYXBpdGFsaXplKHcpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGdpdmVuIHN0cmluZyB0byBsb3dlciBjYW1lbCBjYXNlIChmb3JjaW5nIHRoZSBmaXJzdCBjaGFyYWN0ZXIgdG8gYmVcbiAqIGluIGxvd2VyIGNhc2UpLlxuICovXG5mdW5jdGlvbiB0b0xvd2VyQ2FtZWxDYXNlKHN0cikge1xuICAgIGNvbnN0IGNhbWVsQ2FzZSA9IHRvQ2FtZWxDYXNlKHN0cik7XG4gICAgaWYgKGNhbWVsQ2FzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNhbWVsQ2FzZTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbWVsQ2FzZVswXS50b0xvd2VyQ2FzZSgpICsgY2FtZWxDYXNlLnNsaWNlKDEpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIGdpdmVuIHN0cmluZyB0byBsb3dlciBjYW1lbCBjYXNlIChmb3JjaW5nIHRoZSBmaXJzdCBjaGFyYWN0ZXIgdG8gYmVcbiAqIGluIGxvd2VyIGNhc2UpLlxuICovXG5mdW5jdGlvbiBtYWtlVVVJRCgpIHtcbiAgICByZXR1cm4gKDAsIHV1aWRfMS52NCkoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/warnings.js":
/*!*******************************************************!*\
  !*** ./node_modules/google-gax/build/src/warnings.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.warn = warn;\nconst featureDetection_1 = __webpack_require__(/*! ./featureDetection */ \"(rsc)/./node_modules/google-gax/build/src/featureDetection.js\");\nconst emittedWarnings = new Set();\n// warnType is the type of warning (e.g. 'DeprecationWarning', 'ExperimentalWarning', etc.)\nfunction warn(code, message, warnType) {\n    // Only show a given warning once\n    if (emittedWarnings.has(code)) {\n        return;\n    }\n    emittedWarnings.add(code);\n    if (!(0, featureDetection_1.isNodeJS)()) {\n        console.warn(message);\n    }\n    else if (typeof warnType !== 'undefined') {\n        process.emitWarning(message, {\n            type: warnType,\n        });\n    }\n    else {\n        process.emitWarning(message);\n    }\n}\n//# sourceMappingURL=warnings.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9idWlsZC9zcmMvd2FybmluZ3MuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLDJCQUEyQixtQkFBTyxDQUFDLHlGQUFvQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L2J1aWxkL3NyYy93YXJuaW5ncy5qcz9jNTg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy53YXJuID0gd2FybjtcbmNvbnN0IGZlYXR1cmVEZXRlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ZlYXR1cmVEZXRlY3Rpb25cIik7XG5jb25zdCBlbWl0dGVkV2FybmluZ3MgPSBuZXcgU2V0KCk7XG4vLyB3YXJuVHlwZSBpcyB0aGUgdHlwZSBvZiB3YXJuaW5nIChlLmcuICdEZXByZWNhdGlvbldhcm5pbmcnLCAnRXhwZXJpbWVudGFsV2FybmluZycsIGV0Yy4pXG5mdW5jdGlvbiB3YXJuKGNvZGUsIG1lc3NhZ2UsIHdhcm5UeXBlKSB7XG4gICAgLy8gT25seSBzaG93IGEgZ2l2ZW4gd2FybmluZyBvbmNlXG4gICAgaWYgKGVtaXR0ZWRXYXJuaW5ncy5oYXMoY29kZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbWl0dGVkV2FybmluZ3MuYWRkKGNvZGUpO1xuICAgIGlmICghKDAsIGZlYXR1cmVEZXRlY3Rpb25fMS5pc05vZGVKUykoKSkge1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB3YXJuVHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcHJvY2Vzcy5lbWl0V2FybmluZyhtZXNzYWdlLCB7XG4gICAgICAgICAgICB0eXBlOiB3YXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVtaXRXYXJuaW5nKG1lc3NhZ2UpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhcm5pbmdzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/build/src/warnings.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.registerAdminService = registerAdminService;\nexports.addAdminServicesToServer = addAdminServicesToServer;\nconst registeredAdminServices = [];\nfunction registerAdminService(getServiceDefinition, getHandlers) {\n    registeredAdminServices.push({ getServiceDefinition, getHandlers });\n}\nfunction addAdminServicesToServer(server) {\n    for (const { getServiceDefinition, getHandlers } of registeredAdminServices) {\n        server.addService(getServiceDefinition(), getHandlers());\n    }\n}\n//# sourceMappingURL=admin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvYWRtaW4uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw0QkFBNEI7QUFDNUIsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxtQ0FBbUMsbUNBQW1DO0FBQ3RFO0FBQ0E7QUFDQSxpQkFBaUIsb0NBQW9DO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2FkbWluLmpzPzhjM2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVnaXN0ZXJBZG1pblNlcnZpY2UgPSByZWdpc3RlckFkbWluU2VydmljZTtcbmV4cG9ydHMuYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyID0gYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyO1xuY29uc3QgcmVnaXN0ZXJlZEFkbWluU2VydmljZXMgPSBbXTtcbmZ1bmN0aW9uIHJlZ2lzdGVyQWRtaW5TZXJ2aWNlKGdldFNlcnZpY2VEZWZpbml0aW9uLCBnZXRIYW5kbGVycykge1xuICAgIHJlZ2lzdGVyZWRBZG1pblNlcnZpY2VzLnB1c2goeyBnZXRTZXJ2aWNlRGVmaW5pdGlvbiwgZ2V0SGFuZGxlcnMgfSk7XG59XG5mdW5jdGlvbiBhZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXIoc2VydmVyKSB7XG4gICAgZm9yIChjb25zdCB7IGdldFNlcnZpY2VEZWZpbml0aW9uLCBnZXRIYW5kbGVycyB9IG9mIHJlZ2lzdGVyZWRBZG1pblNlcnZpY2VzKSB7XG4gICAgICAgIHNlcnZlci5hZGRTZXJ2aWNlKGdldFNlcnZpY2VEZWZpbml0aW9uKCksIGdldEhhbmRsZXJzKCkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkbWluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BackoffTimeout = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'backoff';\nconst INITIAL_BACKOFF_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.6;\nconst MAX_BACKOFF_MS = 120000;\nconst BACKOFF_JITTER = 0.2;\n/**\n * Get a number uniformly at random in the range [min, max)\n * @param min\n * @param max\n */\nfunction uniformRandom(min, max) {\n    return Math.random() * (max - min) + min;\n}\nclass BackoffTimeout {\n    constructor(callback, options) {\n        this.callback = callback;\n        /**\n         * The delay time at the start, and after each reset.\n         */\n        this.initialDelay = INITIAL_BACKOFF_MS;\n        /**\n         * The exponential backoff multiplier.\n         */\n        this.multiplier = BACKOFF_MULTIPLIER;\n        /**\n         * The maximum delay time\n         */\n        this.maxDelay = MAX_BACKOFF_MS;\n        /**\n         * The maximum fraction by which the delay time can randomly vary after\n         * applying the multiplier.\n         */\n        this.jitter = BACKOFF_JITTER;\n        /**\n         * Indicates whether the timer is currently running.\n         */\n        this.running = false;\n        /**\n         * Indicates whether the timer should keep the Node process running if no\n         * other async operation is doing so.\n         */\n        this.hasRef = true;\n        /**\n         * The time that the currently running timer was started. Only valid if\n         * running is true.\n         */\n        this.startTime = new Date();\n        /**\n         * The approximate time that the currently running timer will end. Only valid\n         * if running is true.\n         */\n        this.endTime = new Date();\n        this.id = BackoffTimeout.getNextId();\n        if (options) {\n            if (options.initialDelay) {\n                this.initialDelay = options.initialDelay;\n            }\n            if (options.multiplier) {\n                this.multiplier = options.multiplier;\n            }\n            if (options.jitter) {\n                this.jitter = options.jitter;\n            }\n            if (options.maxDelay) {\n                this.maxDelay = options.maxDelay;\n            }\n        }\n        this.trace('constructed initialDelay=' + this.initialDelay + ' multiplier=' + this.multiplier + ' jitter=' + this.jitter + ' maxDelay=' + this.maxDelay);\n        this.nextDelay = this.initialDelay;\n        this.timerId = setTimeout(() => { }, 0);\n        clearTimeout(this.timerId);\n    }\n    static getNextId() {\n        return this.nextId++;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '{' + this.id + '} ' + text);\n    }\n    runTimer(delay) {\n        var _a, _b;\n        this.trace('runTimer(delay=' + delay + ')');\n        this.endTime = this.startTime;\n        this.endTime.setMilliseconds(this.endTime.getMilliseconds() + delay);\n        clearTimeout(this.timerId);\n        this.timerId = setTimeout(() => {\n            this.trace('timer fired');\n            this.running = false;\n            this.callback();\n        }, delay);\n        if (!this.hasRef) {\n            (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    /**\n     * Call the callback after the current amount of delay time\n     */\n    runOnce() {\n        this.trace('runOnce()');\n        this.running = true;\n        this.startTime = new Date();\n        this.runTimer(this.nextDelay);\n        const nextBackoff = Math.min(this.nextDelay * this.multiplier, this.maxDelay);\n        const jitterMagnitude = nextBackoff * this.jitter;\n        this.nextDelay =\n            nextBackoff + uniformRandom(-jitterMagnitude, jitterMagnitude);\n    }\n    /**\n     * Stop the timer. The callback will not be called until `runOnce` is called\n     * again.\n     */\n    stop() {\n        this.trace('stop()');\n        clearTimeout(this.timerId);\n        this.running = false;\n    }\n    /**\n     * Reset the delay time to its initial value. If the timer is still running,\n     * retroactively apply that reset to the current timer.\n     */\n    reset() {\n        this.trace('reset() running=' + this.running);\n        this.nextDelay = this.initialDelay;\n        if (this.running) {\n            const now = new Date();\n            const newEndTime = this.startTime;\n            newEndTime.setMilliseconds(newEndTime.getMilliseconds() + this.nextDelay);\n            clearTimeout(this.timerId);\n            if (now < newEndTime) {\n                this.runTimer(newEndTime.getTime() - now.getTime());\n            }\n            else {\n                this.running = false;\n            }\n        }\n    }\n    /**\n     * Check whether the timer is currently running.\n     */\n    isRunning() {\n        return this.running;\n    }\n    /**\n     * Set that while the timer is running, it should keep the Node process\n     * running.\n     */\n    ref() {\n        var _a, _b;\n        this.hasRef = true;\n        (_b = (_a = this.timerId).ref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Set that while the timer is running, it should not keep the Node process\n     * running.\n     */\n    unref() {\n        var _a, _b;\n        this.hasRef = false;\n        (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Get the approximate timestamp of when the timer will fire. Only valid if\n     * this.isRunning() is true.\n     */\n    getEndTime() {\n        return this.endTime;\n    }\n}\nexports.BackoffTimeout = BackoffTimeout;\nBackoffTimeout.nextId = 0;\n//# sourceMappingURL=backoff-timeout.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvYmFja29mZi10aW1lb3V0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsaUJBQWlCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvYmFja29mZi10aW1lb3V0LmpzPzMxZjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFja29mZlRpbWVvdXQgPSB2b2lkIDA7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnYmFja29mZic7XG5jb25zdCBJTklUSUFMX0JBQ0tPRkZfTVMgPSAxMDAwO1xuY29uc3QgQkFDS09GRl9NVUxUSVBMSUVSID0gMS42O1xuY29uc3QgTUFYX0JBQ0tPRkZfTVMgPSAxMjAwMDA7XG5jb25zdCBCQUNLT0ZGX0pJVFRFUiA9IDAuMjtcbi8qKlxuICogR2V0IGEgbnVtYmVyIHVuaWZvcm1seSBhdCByYW5kb20gaW4gdGhlIHJhbmdlIFttaW4sIG1heClcbiAqIEBwYXJhbSBtaW5cbiAqIEBwYXJhbSBtYXhcbiAqL1xuZnVuY3Rpb24gdW5pZm9ybVJhbmRvbShtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG59XG5jbGFzcyBCYWNrb2ZmVGltZW91dCB7XG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlbGF5IHRpbWUgYXQgdGhlIHN0YXJ0LCBhbmQgYWZ0ZXIgZWFjaCByZXNldC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5pdGlhbERlbGF5ID0gSU5JVElBTF9CQUNLT0ZGX01TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgbXVsdGlwbGllci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXVsdGlwbGllciA9IEJBQ0tPRkZfTVVMVElQTElFUjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIGRlbGF5IHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4RGVsYXkgPSBNQVhfQkFDS09GRl9NUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIGZyYWN0aW9uIGJ5IHdoaWNoIHRoZSBkZWxheSB0aW1lIGNhbiByYW5kb21seSB2YXJ5IGFmdGVyXG4gICAgICAgICAqIGFwcGx5aW5nIHRoZSBtdWx0aXBsaWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5qaXR0ZXIgPSBCQUNLT0ZGX0pJVFRFUjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0aW1lciBpcyBjdXJyZW50bHkgcnVubmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRpbWVyIHNob3VsZCBrZWVwIHRoZSBOb2RlIHByb2Nlc3MgcnVubmluZyBpZiBub1xuICAgICAgICAgKiBvdGhlciBhc3luYyBvcGVyYXRpb24gaXMgZG9pbmcgc28uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1JlZiA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGltZSB0aGF0IHRoZSBjdXJyZW50bHkgcnVubmluZyB0aW1lciB3YXMgc3RhcnRlZC4gT25seSB2YWxpZCBpZlxuICAgICAgICAgKiBydW5uaW5nIGlzIHRydWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXBwcm94aW1hdGUgdGltZSB0aGF0IHRoZSBjdXJyZW50bHkgcnVubmluZyB0aW1lciB3aWxsIGVuZC4gT25seSB2YWxpZFxuICAgICAgICAgKiBpZiBydW5uaW5nIGlzIHRydWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmlkID0gQmFja29mZlRpbWVvdXQuZ2V0TmV4dElkKCk7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbml0aWFsRGVsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxEZWxheSA9IG9wdGlvbnMuaW5pdGlhbERlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubXVsdGlwbGllcikge1xuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllciA9IG9wdGlvbnMubXVsdGlwbGllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmppdHRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuaml0dGVyID0gb3B0aW9ucy5qaXR0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhEZWxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4RGVsYXkgPSBvcHRpb25zLm1heERlbGF5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2UoJ2NvbnN0cnVjdGVkIGluaXRpYWxEZWxheT0nICsgdGhpcy5pbml0aWFsRGVsYXkgKyAnIG11bHRpcGxpZXI9JyArIHRoaXMubXVsdGlwbGllciArICcgaml0dGVyPScgKyB0aGlzLmppdHRlciArICcgbWF4RGVsYXk9JyArIHRoaXMubWF4RGVsYXkpO1xuICAgICAgICB0aGlzLm5leHREZWxheSA9IHRoaXMuaW5pdGlhbERlbGF5O1xuICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0TmV4dElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0SWQrKztcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICd7JyArIHRoaXMuaWQgKyAnfSAnICsgdGV4dCk7XG4gICAgfVxuICAgIHJ1blRpbWVyKGRlbGF5KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMudHJhY2UoJ3J1blRpbWVyKGRlbGF5PScgKyBkZWxheSArICcpJyk7XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IHRoaXMuc3RhcnRUaW1lO1xuICAgICAgICB0aGlzLmVuZFRpbWUuc2V0TWlsbGlzZWNvbmRzKHRoaXMuZW5kVGltZS5nZXRNaWxsaXNlY29uZHMoKSArIGRlbGF5KTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgndGltZXIgZmlyZWQnKTtcbiAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIGlmICghdGhpcy5oYXNSZWYpIHtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMudGltZXJJZCkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoZSBjYWxsYmFjayBhZnRlciB0aGUgY3VycmVudCBhbW91bnQgb2YgZGVsYXkgdGltZVxuICAgICAqL1xuICAgIHJ1bk9uY2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3J1bk9uY2UoKScpO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMucnVuVGltZXIodGhpcy5uZXh0RGVsYXkpO1xuICAgICAgICBjb25zdCBuZXh0QmFja29mZiA9IE1hdGgubWluKHRoaXMubmV4dERlbGF5ICogdGhpcy5tdWx0aXBsaWVyLCB0aGlzLm1heERlbGF5KTtcbiAgICAgICAgY29uc3Qgaml0dGVyTWFnbml0dWRlID0gbmV4dEJhY2tvZmYgKiB0aGlzLmppdHRlcjtcbiAgICAgICAgdGhpcy5uZXh0RGVsYXkgPVxuICAgICAgICAgICAgbmV4dEJhY2tvZmYgKyB1bmlmb3JtUmFuZG9tKC1qaXR0ZXJNYWduaXR1ZGUsIGppdHRlck1hZ25pdHVkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHRpbWVyLiBUaGUgY2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkIHVudGlsIGBydW5PbmNlYCBpcyBjYWxsZWRcbiAgICAgKiBhZ2Fpbi5cbiAgICAgKi9cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdG9wKCknKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgZGVsYXkgdGltZSB0byBpdHMgaW5pdGlhbCB2YWx1ZS4gSWYgdGhlIHRpbWVyIGlzIHN0aWxsIHJ1bm5pbmcsXG4gICAgICogcmV0cm9hY3RpdmVseSBhcHBseSB0aGF0IHJlc2V0IHRvIHRoZSBjdXJyZW50IHRpbWVyLlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdyZXNldCgpIHJ1bm5pbmc9JyArIHRoaXMucnVubmluZyk7XG4gICAgICAgIHRoaXMubmV4dERlbGF5ID0gdGhpcy5pbml0aWFsRGVsYXk7XG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBuZXdFbmRUaW1lID0gdGhpcy5zdGFydFRpbWU7XG4gICAgICAgICAgICBuZXdFbmRUaW1lLnNldE1pbGxpc2Vjb25kcyhuZXdFbmRUaW1lLmdldE1pbGxpc2Vjb25kcygpICsgdGhpcy5uZXh0RGVsYXkpO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgICAgICAgICBpZiAobm93IDwgbmV3RW5kVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucnVuVGltZXIobmV3RW5kVGltZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIHRpbWVyIGlzIGN1cnJlbnRseSBydW5uaW5nLlxuICAgICAqL1xuICAgIGlzUnVubmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVubmluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoYXQgd2hpbGUgdGhlIHRpbWVyIGlzIHJ1bm5pbmcsIGl0IHNob3VsZCBrZWVwIHRoZSBOb2RlIHByb2Nlc3NcbiAgICAgKiBydW5uaW5nLlxuICAgICAqL1xuICAgIHJlZigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5oYXNSZWYgPSB0cnVlO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLnRpbWVySWQpLnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhhdCB3aGlsZSB0aGUgdGltZXIgaXMgcnVubmluZywgaXQgc2hvdWxkIG5vdCBrZWVwIHRoZSBOb2RlIHByb2Nlc3NcbiAgICAgKiBydW5uaW5nLlxuICAgICAqL1xuICAgIHVucmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmhhc1JlZiA9IGZhbHNlO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLnRpbWVySWQpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYXBwcm94aW1hdGUgdGltZXN0YW1wIG9mIHdoZW4gdGhlIHRpbWVyIHdpbGwgZmlyZS4gT25seSB2YWxpZCBpZlxuICAgICAqIHRoaXMuaXNSdW5uaW5nKCkgaXMgdHJ1ZS5cbiAgICAgKi9cbiAgICBnZXRFbmRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRUaW1lO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFja29mZlRpbWVvdXQgPSBCYWNrb2ZmVGltZW91dDtcbkJhY2tvZmZUaW1lb3V0Lm5leHRJZCA9IDA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYWNrb2ZmLXRpbWVvdXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CallCredentials = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nfunction isCurrentOauth2Client(client) {\n    return ('getRequestHeaders' in client &&\n        typeof client.getRequestHeaders === 'function');\n}\n/**\n * A class that represents a generic method of adding authentication-related\n * metadata on a per-request basis.\n */\nclass CallCredentials {\n    /**\n     * Creates a new CallCredentials object from a given function that generates\n     * Metadata objects.\n     * @param metadataGenerator A function that accepts a set of options, and\n     * generates a Metadata object based on these options, which is passed back\n     * to the caller via a supplied (err, metadata) callback.\n     */\n    static createFromMetadataGenerator(metadataGenerator) {\n        return new SingleCallCredentials(metadataGenerator);\n    }\n    /**\n     * Create a gRPC credential from a Google credential object.\n     * @param googleCredentials The authentication client to use.\n     * @return The resulting CallCredentials object.\n     */\n    static createFromGoogleCredential(googleCredentials) {\n        return CallCredentials.createFromMetadataGenerator((options, callback) => {\n            let getHeaders;\n            if (isCurrentOauth2Client(googleCredentials)) {\n                getHeaders = googleCredentials.getRequestHeaders(options.service_url);\n            }\n            else {\n                getHeaders = new Promise((resolve, reject) => {\n                    googleCredentials.getRequestMetadata(options.service_url, (err, headers) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (!headers) {\n                            reject(new Error('Headers not set by metadata plugin'));\n                            return;\n                        }\n                        resolve(headers);\n                    });\n                });\n            }\n            getHeaders.then(headers => {\n                const metadata = new metadata_1.Metadata();\n                for (const key of Object.keys(headers)) {\n                    metadata.add(key, headers[key]);\n                }\n                callback(null, metadata);\n            }, err => {\n                callback(err);\n            });\n        });\n    }\n    static createEmpty() {\n        return new EmptyCallCredentials();\n    }\n}\nexports.CallCredentials = CallCredentials;\nclass ComposedCallCredentials extends CallCredentials {\n    constructor(creds) {\n        super();\n        this.creds = creds;\n    }\n    async generateMetadata(options) {\n        const base = new metadata_1.Metadata();\n        const generated = await Promise.all(this.creds.map(cred => cred.generateMetadata(options)));\n        for (const gen of generated) {\n            base.merge(gen);\n        }\n        return base;\n    }\n    compose(other) {\n        return new ComposedCallCredentials(this.creds.concat([other]));\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof ComposedCallCredentials) {\n            return this.creds.every((value, index) => value._equals(other.creds[index]));\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass SingleCallCredentials extends CallCredentials {\n    constructor(metadataGenerator) {\n        super();\n        this.metadataGenerator = metadataGenerator;\n    }\n    generateMetadata(options) {\n        return new Promise((resolve, reject) => {\n            this.metadataGenerator(options, (err, metadata) => {\n                if (metadata !== undefined) {\n                    resolve(metadata);\n                }\n                else {\n                    reject(err);\n                }\n            });\n        });\n    }\n    compose(other) {\n        return new ComposedCallCredentials([this, other]);\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof SingleCallCredentials) {\n            return this.metadataGenerator === other.metadataGenerator;\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass EmptyCallCredentials extends CallCredentials {\n    generateMetadata(options) {\n        return Promise.resolve(new metadata_1.Metadata());\n    }\n    compose(other) {\n        return other;\n    }\n    _equals(other) {\n        return other instanceof EmptyCallCredentials;\n    }\n}\n//# sourceMappingURL=call-credentials.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1jcmVkZW50aWFscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QjtBQUN2QixtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1jcmVkZW50aWFscy5qcz81Yjk2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhbGxDcmVkZW50aWFscyA9IHZvaWQgMDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmZ1bmN0aW9uIGlzQ3VycmVudE9hdXRoMkNsaWVudChjbGllbnQpIHtcbiAgICByZXR1cm4gKCdnZXRSZXF1ZXN0SGVhZGVycycgaW4gY2xpZW50ICYmXG4gICAgICAgIHR5cGVvZiBjbGllbnQuZ2V0UmVxdWVzdEhlYWRlcnMgPT09ICdmdW5jdGlvbicpO1xufVxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGdlbmVyaWMgbWV0aG9kIG9mIGFkZGluZyBhdXRoZW50aWNhdGlvbi1yZWxhdGVkXG4gKiBtZXRhZGF0YSBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzLlxuICovXG5jbGFzcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQ2FsbENyZWRlbnRpYWxzIG9iamVjdCBmcm9tIGEgZ2l2ZW4gZnVuY3Rpb24gdGhhdCBnZW5lcmF0ZXNcbiAgICAgKiBNZXRhZGF0YSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSBtZXRhZGF0YUdlbmVyYXRvciBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhIHNldCBvZiBvcHRpb25zLCBhbmRcbiAgICAgKiBnZW5lcmF0ZXMgYSBNZXRhZGF0YSBvYmplY3QgYmFzZWQgb24gdGhlc2Ugb3B0aW9ucywgd2hpY2ggaXMgcGFzc2VkIGJhY2tcbiAgICAgKiB0byB0aGUgY2FsbGVyIHZpYSBhIHN1cHBsaWVkIChlcnIsIG1ldGFkYXRhKSBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRnJvbU1ldGFkYXRhR2VuZXJhdG9yKG1ldGFkYXRhR2VuZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlQ2FsbENyZWRlbnRpYWxzKG1ldGFkYXRhR2VuZXJhdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZ1JQQyBjcmVkZW50aWFsIGZyb20gYSBHb29nbGUgY3JlZGVudGlhbCBvYmplY3QuXG4gICAgICogQHBhcmFtIGdvb2dsZUNyZWRlbnRpYWxzIFRoZSBhdXRoZW50aWNhdGlvbiBjbGllbnQgdG8gdXNlLlxuICAgICAqIEByZXR1cm4gVGhlIHJlc3VsdGluZyBDYWxsQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVGcm9tR29vZ2xlQ3JlZGVudGlhbChnb29nbGVDcmVkZW50aWFscykge1xuICAgICAgICByZXR1cm4gQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcigob3B0aW9ucywgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGxldCBnZXRIZWFkZXJzO1xuICAgICAgICAgICAgaWYgKGlzQ3VycmVudE9hdXRoMkNsaWVudChnb29nbGVDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICBnZXRIZWFkZXJzID0gZ29vZ2xlQ3JlZGVudGlhbHMuZ2V0UmVxdWVzdEhlYWRlcnMob3B0aW9ucy5zZXJ2aWNlX3VybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRIZWFkZXJzID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnb29nbGVDcmVkZW50aWFscy5nZXRSZXF1ZXN0TWV0YWRhdGEob3B0aW9ucy5zZXJ2aWNlX3VybCwgKGVyciwgaGVhZGVycykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0hlYWRlcnMgbm90IHNldCBieSBtZXRhZGF0YSBwbHVnaW4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRIZWFkZXJzLnRoZW4oaGVhZGVycyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmFkZChrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEVtcHR5Q2FsbENyZWRlbnRpYWxzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5DYWxsQ3JlZGVudGlhbHMgPSBDYWxsQ3JlZGVudGlhbHM7XG5jbGFzcyBDb21wb3NlZENhbGxDcmVkZW50aWFscyBleHRlbmRzIENhbGxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY3JlZHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jcmVkcyA9IGNyZWRzO1xuICAgIH1cbiAgICBhc3luYyBnZW5lcmF0ZU1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZCA9IGF3YWl0IFByb21pc2UuYWxsKHRoaXMuY3JlZHMubWFwKGNyZWQgPT4gY3JlZC5nZW5lcmF0ZU1ldGFkYXRhKG9wdGlvbnMpKSk7XG4gICAgICAgIGZvciAoY29uc3QgZ2VuIG9mIGdlbmVyYXRlZCkge1xuICAgICAgICAgICAgYmFzZS5tZXJnZShnZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlO1xuICAgIH1cbiAgICBjb21wb3NlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zZWRDYWxsQ3JlZGVudGlhbHModGhpcy5jcmVkcy5jb25jYXQoW290aGVyXSkpO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29tcG9zZWRDYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWRzLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlLl9lcXVhbHMob3RoZXIuY3JlZHNbaW5kZXhdKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTaW5nbGVDYWxsQ3JlZGVudGlhbHMgZXh0ZW5kcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhR2VuZXJhdG9yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWV0YWRhdGFHZW5lcmF0b3IgPSBtZXRhZGF0YUdlbmVyYXRvcjtcbiAgICB9XG4gICAgZ2VuZXJhdGVNZXRhZGF0YShvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhR2VuZXJhdG9yKG9wdGlvbnMsIChlcnIsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvc2Uob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENhbGxDcmVkZW50aWFscyhbdGhpcywgb3RoZXJdKTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFNpbmdsZUNhbGxDcmVkZW50aWFscykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGFHZW5lcmF0b3IgPT09IG90aGVyLm1ldGFkYXRhR2VuZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRW1wdHlDYWxsQ3JlZGVudGlhbHMgZXh0ZW5kcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIGdlbmVyYXRlTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkpO1xuICAgIH1cbiAgICBjb21wb3NlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBFbXB0eUNhbGxDcmVkZW50aWFscztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsLWNyZWRlbnRpYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InterceptingListenerImpl = void 0;\nexports.statusOrFromValue = statusOrFromValue;\nexports.statusOrFromError = statusOrFromError;\nexports.isInterceptingListener = isInterceptingListener;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nfunction statusOrFromValue(value) {\n    return {\n        ok: true,\n        value: value\n    };\n}\nfunction statusOrFromError(error) {\n    var _a;\n    return {\n        ok: false,\n        error: Object.assign(Object.assign({}, error), { metadata: (_a = error.metadata) !== null && _a !== void 0 ? _a : new metadata_1.Metadata() })\n    };\n}\nfunction isInterceptingListener(listener) {\n    return (listener.onReceiveMetadata !== undefined &&\n        listener.onReceiveMetadata.length === 1);\n}\nclass InterceptingListenerImpl {\n    constructor(listener, nextListener) {\n        this.listener = listener;\n        this.nextListener = nextListener;\n        this.processingMetadata = false;\n        this.hasPendingMessage = false;\n        this.processingMessage = false;\n        this.pendingStatus = null;\n    }\n    processPendingMessage() {\n        if (this.hasPendingMessage) {\n            this.nextListener.onReceiveMessage(this.pendingMessage);\n            this.pendingMessage = null;\n            this.hasPendingMessage = false;\n        }\n    }\n    processPendingStatus() {\n        if (this.pendingStatus) {\n            this.nextListener.onReceiveStatus(this.pendingStatus);\n        }\n    }\n    onReceiveMetadata(metadata) {\n        this.processingMetadata = true;\n        this.listener.onReceiveMetadata(metadata, metadata => {\n            this.processingMetadata = false;\n            this.nextListener.onReceiveMetadata(metadata);\n            this.processPendingMessage();\n            this.processPendingStatus();\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onReceiveMessage(message) {\n        /* If this listener processes messages asynchronously, the last message may\n         * be reordered with respect to the status */\n        this.processingMessage = true;\n        this.listener.onReceiveMessage(message, msg => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessage = msg;\n                this.hasPendingMessage = true;\n            }\n            else {\n                this.nextListener.onReceiveMessage(msg);\n                this.processPendingStatus();\n            }\n        });\n    }\n    onReceiveStatus(status) {\n        this.listener.onReceiveStatus(status, processedStatus => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingStatus = processedStatus;\n            }\n            else {\n                this.nextListener.onReceiveStatus(processedStatus);\n            }\n        });\n    }\n}\nexports.InterceptingListenerImpl = InterceptingListenerImpl;\n//# sourceMappingURL=call-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0M7QUFDaEMseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6Qiw4QkFBOEI7QUFDOUIsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsWUFBWSw0RkFBNEY7QUFDcko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1pbnRlcmZhY2UuanM/MzlmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwgPSB2b2lkIDA7XG5leHBvcnRzLnN0YXR1c09yRnJvbVZhbHVlID0gc3RhdHVzT3JGcm9tVmFsdWU7XG5leHBvcnRzLnN0YXR1c09yRnJvbUVycm9yID0gc3RhdHVzT3JGcm9tRXJyb3I7XG5leHBvcnRzLmlzSW50ZXJjZXB0aW5nTGlzdGVuZXIgPSBpc0ludGVyY2VwdGluZ0xpc3RlbmVyO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuZnVuY3Rpb24gc3RhdHVzT3JGcm9tVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0YXR1c09yRnJvbUVycm9yKGVycm9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXJyb3IpLCB7IG1ldGFkYXRhOiAoX2EgPSBlcnJvci5tZXRhZGF0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9KVxuICAgIH07XG59XG5mdW5jdGlvbiBpc0ludGVyY2VwdGluZ0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhLmxlbmd0aCA9PT0gMSk7XG59XG5jbGFzcyBJbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyLCBuZXh0TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLm5leHRMaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UodGhpcy5wZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ1N0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1N0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhLCBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIC8qIElmIHRoaXMgbGlzdGVuZXIgcHJvY2Vzc2VzIG1lc3NhZ2VzIGFzeW5jaHJvbm91c2x5LCB0aGUgbGFzdCBtZXNzYWdlIG1heVxuICAgICAgICAgKiBiZSByZW9yZGVyZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBzdGF0dXMgKi9cbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlLCBtc2cgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nU3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHN0YXR1cywgcHJvY2Vzc2VkU3RhdHVzID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSB8fCB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gcHJvY2Vzc2VkU3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHByb2Nlc3NlZFN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsID0gSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC1pbnRlcmZhY2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getNextCallNumber = getNextCallNumber;\nlet nextCallNumber = 0;\nfunction getNextCallNumber() {\n    return nextCallNumber++;\n}\n//# sourceMappingURL=call-number.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC1udW1iZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLW51bWJlci5qcz81OTdhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldE5leHRDYWxsTnVtYmVyID0gZ2V0TmV4dENhbGxOdW1iZXI7XG5sZXQgbmV4dENhbGxOdW1iZXIgPSAwO1xuZnVuY3Rpb24gZ2V0TmV4dENhbGxOdW1iZXIoKSB7XG4gICAgcmV0dXJuIG5leHRDYWxsTnVtYmVyKys7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxsLW51bWJlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js":
/*!******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ClientDuplexStreamImpl = exports.ClientWritableStreamImpl = exports.ClientReadableStreamImpl = exports.ClientUnaryCallImpl = void 0;\nexports.callErrorFromStatus = callErrorFromStatus;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Construct a ServiceError from a StatusObject. This function exists primarily\n * as an attempt to make the error stack trace clearly communicate that the\n * error is not necessarily a problem in gRPC itself.\n * @param status\n */\nfunction callErrorFromStatus(status, callerStack) {\n    const message = `${status.code} ${constants_1.Status[status.code]}: ${status.details}`;\n    const error = new Error(message);\n    const stack = `${error.stack}\\nfor call at\\n${callerStack}`;\n    return Object.assign(new Error(message), status, { stack });\n}\nclass ClientUnaryCallImpl extends events_1.EventEmitter {\n    constructor() {\n        super();\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    getAuthContext() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getAuthContext()) !== null && _b !== void 0 ? _b : null;\n    }\n}\nexports.ClientUnaryCallImpl = ClientUnaryCallImpl;\nclass ClientReadableStreamImpl extends stream_1.Readable {\n    constructor(deserialize) {\n        super({ objectMode: true });\n        this.deserialize = deserialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    getAuthContext() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getAuthContext()) !== null && _b !== void 0 ? _b : null;\n    }\n    _read(_size) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n    }\n}\nexports.ClientReadableStreamImpl = ClientReadableStreamImpl;\nclass ClientWritableStreamImpl extends stream_1.Writable {\n    constructor(serialize) {\n        super({ objectMode: true });\n        this.serialize = serialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    getAuthContext() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getAuthContext()) !== null && _b !== void 0 ? _b : null;\n    }\n    _write(chunk, encoding, cb) {\n        var _a;\n        const context = {\n            callback: cb,\n        };\n        const flags = Number(encoding);\n        if (!Number.isNaN(flags)) {\n            context.flags = flags;\n        }\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n    }\n    _final(cb) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n        cb();\n    }\n}\nexports.ClientWritableStreamImpl = ClientWritableStreamImpl;\nclass ClientDuplexStreamImpl extends stream_1.Duplex {\n    constructor(serialize, deserialize) {\n        super({ objectMode: true });\n        this.serialize = serialize;\n        this.deserialize = deserialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    getAuthContext() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getAuthContext()) !== null && _b !== void 0 ? _b : null;\n    }\n    _read(_size) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n    }\n    _write(chunk, encoding, cb) {\n        var _a;\n        const context = {\n            callback: cb,\n        };\n        const flags = Number(encoding);\n        if (!Number.isNaN(flags)) {\n            context.flags = flags;\n        }\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n    }\n    _final(cb) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n        cb();\n    }\n}\nexports.ClientDuplexStreamImpl = ClientDuplexStreamImpl;\n//# sourceMappingURL=call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QixHQUFHLGdDQUFnQyxHQUFHLGdDQUFnQyxHQUFHLDJCQUEyQjtBQUNsSSwyQkFBMkI7QUFDM0IsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsYUFBYSxFQUFFLGdDQUFnQyxJQUFJLGVBQWU7QUFDekY7QUFDQSxxQkFBcUIsWUFBWSxpQkFBaUIsWUFBWTtBQUM5RCx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NhbGwuanM/NjhlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGllbnREdXBsZXhTdHJlYW1JbXBsID0gZXhwb3J0cy5DbGllbnRXcml0YWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLkNsaWVudFJlYWRhYmxlU3RyZWFtSW1wbCA9IGV4cG9ydHMuQ2xpZW50VW5hcnlDYWxsSW1wbCA9IHZvaWQgMDtcbmV4cG9ydHMuY2FsbEVycm9yRnJvbVN0YXR1cyA9IGNhbGxFcnJvckZyb21TdGF0dXM7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogQ29uc3RydWN0IGEgU2VydmljZUVycm9yIGZyb20gYSBTdGF0dXNPYmplY3QuIFRoaXMgZnVuY3Rpb24gZXhpc3RzIHByaW1hcmlseVxuICogYXMgYW4gYXR0ZW1wdCB0byBtYWtlIHRoZSBlcnJvciBzdGFjayB0cmFjZSBjbGVhcmx5IGNvbW11bmljYXRlIHRoYXQgdGhlXG4gKiBlcnJvciBpcyBub3QgbmVjZXNzYXJpbHkgYSBwcm9ibGVtIGluIGdSUEMgaXRzZWxmLlxuICogQHBhcmFtIHN0YXR1c1xuICovXG5mdW5jdGlvbiBjYWxsRXJyb3JGcm9tU3RhdHVzKHN0YXR1cywgY2FsbGVyU3RhY2spIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7c3RhdHVzLmNvZGV9ICR7Y29uc3RhbnRzXzEuU3RhdHVzW3N0YXR1cy5jb2RlXX06ICR7c3RhdHVzLmRldGFpbHN9YDtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBjb25zdCBzdGFjayA9IGAke2Vycm9yLnN0YWNrfVxcbmZvciBjYWxsIGF0XFxuJHtjYWxsZXJTdGFja31gO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihtZXNzYWdlKSwgc3RhdHVzLCB7IHN0YWNrIH0pO1xufVxuY2xhc3MgQ2xpZW50VW5hcnlDYWxsSW1wbCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgb24gY2xpZW50Jyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd1bmtub3duJztcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBdXRoQ29udGV4dCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50VW5hcnlDYWxsSW1wbCA9IENsaWVudFVuYXJ5Q2FsbEltcGw7XG5jbGFzcyBDbGllbnRSZWFkYWJsZVN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5SZWFkYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZGVzZXJpYWxpemUpIHtcbiAgICAgICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgb24gY2xpZW50Jyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd1bmtub3duJztcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBdXRoQ29udGV4dCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIH1cbiAgICBfcmVhZChfc2l6ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0UmVhZCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsID0gQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsO1xuY2xhc3MgQ2xpZW50V3JpdGFibGVTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuV3JpdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKHNlcmlhbGl6ZSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXV0aENvbnRleHQoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbGFncyA9IE51bWJlcihlbmNvZGluZyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGZsYWdzKSkge1xuICAgICAgICAgICAgY29udGV4dC5mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgY2h1bmspO1xuICAgIH1cbiAgICBfZmluYWwoY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYWxmQ2xvc2UoKTtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudFdyaXRhYmxlU3RyZWFtSW1wbCA9IENsaWVudFdyaXRhYmxlU3RyZWFtSW1wbDtcbmNsYXNzIENsaWVudER1cGxleFN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5EdXBsZXgge1xuICAgIGNvbnN0cnVjdG9yKHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpIHtcbiAgICAgICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXV0aENvbnRleHQoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB9XG4gICAgX3JlYWQoX3NpemUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbGFncyA9IE51bWJlcihlbmNvZGluZyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGZsYWdzKSkge1xuICAgICAgICAgICAgY29udGV4dC5mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgY2h1bmspO1xuICAgIH1cbiAgICBfZmluYWwoY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYWxmQ2xvc2UoKTtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudER1cGxleFN0cmVhbUltcGwgPSBDbGllbnREdXBsZXhTdHJlYW1JbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2024 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FileWatcherCertificateProvider = void 0;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst util_1 = __webpack_require__(/*! util */ \"util\");\nconst TRACER_NAME = 'certificate_provider';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst readFilePromise = (0, util_1.promisify)(fs.readFile);\nclass FileWatcherCertificateProvider {\n    constructor(config) {\n        this.config = config;\n        this.refreshTimer = null;\n        this.fileResultPromise = null;\n        this.latestCaUpdate = undefined;\n        this.caListeners = new Set();\n        this.latestIdentityUpdate = undefined;\n        this.identityListeners = new Set();\n        this.lastUpdateTime = null;\n        if ((config.certificateFile === undefined) !== (config.privateKeyFile === undefined)) {\n            throw new Error('certificateFile and privateKeyFile must be set or unset together');\n        }\n        if (config.certificateFile === undefined && config.caCertificateFile === undefined) {\n            throw new Error('At least one of certificateFile and caCertificateFile must be set');\n        }\n        trace('File watcher constructed with config ' + JSON.stringify(config));\n    }\n    updateCertificates() {\n        if (this.fileResultPromise) {\n            return;\n        }\n        this.fileResultPromise = Promise.allSettled([\n            this.config.certificateFile ? readFilePromise(this.config.certificateFile) : Promise.reject(),\n            this.config.privateKeyFile ? readFilePromise(this.config.privateKeyFile) : Promise.reject(),\n            this.config.caCertificateFile ? readFilePromise(this.config.caCertificateFile) : Promise.reject()\n        ]);\n        this.fileResultPromise.then(([certificateResult, privateKeyResult, caCertificateResult]) => {\n            if (!this.refreshTimer) {\n                return;\n            }\n            trace('File watcher read certificates certificate ' + certificateResult.status + ', privateKey ' + privateKeyResult.status + ', CA certificate ' + caCertificateResult.status);\n            this.lastUpdateTime = new Date();\n            this.fileResultPromise = null;\n            if (certificateResult.status === 'fulfilled' && privateKeyResult.status === 'fulfilled') {\n                this.latestIdentityUpdate = {\n                    certificate: certificateResult.value,\n                    privateKey: privateKeyResult.value\n                };\n            }\n            else {\n                this.latestIdentityUpdate = null;\n            }\n            if (caCertificateResult.status === 'fulfilled') {\n                this.latestCaUpdate = {\n                    caCertificate: caCertificateResult.value\n                };\n            }\n            else {\n                this.latestCaUpdate = null;\n            }\n            for (const listener of this.identityListeners) {\n                listener(this.latestIdentityUpdate);\n            }\n            for (const listener of this.caListeners) {\n                listener(this.latestCaUpdate);\n            }\n        });\n        trace('File watcher initiated certificate update');\n    }\n    maybeStartWatchingFiles() {\n        if (!this.refreshTimer) {\n            /* Perform the first read immediately, but only if there was not already\n             * a recent read, to avoid reading from the filesystem significantly more\n             * frequently than configured if the provider quickly switches between\n             * used and unused. */\n            const timeSinceLastUpdate = this.lastUpdateTime ? (new Date()).getTime() - this.lastUpdateTime.getTime() : Infinity;\n            if (timeSinceLastUpdate > this.config.refreshIntervalMs) {\n                this.updateCertificates();\n            }\n            if (timeSinceLastUpdate > this.config.refreshIntervalMs * 2) {\n                // Clear out old updates if they are definitely stale\n                this.latestCaUpdate = undefined;\n                this.latestIdentityUpdate = undefined;\n            }\n            this.refreshTimer = setInterval(() => this.updateCertificates(), this.config.refreshIntervalMs);\n            trace('File watcher started watching');\n        }\n    }\n    maybeStopWatchingFiles() {\n        if (this.caListeners.size === 0 && this.identityListeners.size === 0) {\n            this.fileResultPromise = null;\n            if (this.refreshTimer) {\n                clearInterval(this.refreshTimer);\n                this.refreshTimer = null;\n            }\n        }\n    }\n    addCaCertificateListener(listener) {\n        this.caListeners.add(listener);\n        this.maybeStartWatchingFiles();\n        if (this.latestCaUpdate !== undefined) {\n            process.nextTick(listener, this.latestCaUpdate);\n        }\n    }\n    removeCaCertificateListener(listener) {\n        this.caListeners.delete(listener);\n        this.maybeStopWatchingFiles();\n    }\n    addIdentityCertificateListener(listener) {\n        this.identityListeners.add(listener);\n        this.maybeStartWatchingFiles();\n        if (this.latestIdentityUpdate !== undefined) {\n            process.nextTick(listener, this.latestIdentityUpdate);\n        }\n    }\n    removeIdentityCertificateListener(listener) {\n        this.identityListeners.delete(listener);\n        this.maybeStopWatchingFiles();\n    }\n}\nexports.FileWatcherCertificateProvider = FileWatcherCertificateProvider;\n//# sourceMappingURL=certificate-provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2VydGlmaWNhdGUtcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQ0FBc0M7QUFDdEMsV0FBVyxtQkFBTyxDQUFDLGNBQUk7QUFDdkIsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsZUFBZSxtQkFBTyxDQUFDLGtCQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jZXJ0aWZpY2F0ZS1wcm92aWRlci5qcz85MGVmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDI0IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnY2VydGlmaWNhdGVfcHJvdmlkZXInO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCByZWFkRmlsZVByb21pc2UgPSAoMCwgdXRpbF8xLnByb21pc2lmeSkoZnMucmVhZEZpbGUpO1xuY2xhc3MgRmlsZVdhdGNoZXJDZXJ0aWZpY2F0ZVByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucmVmcmVzaFRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWxlUmVzdWx0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2FMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBudWxsO1xuICAgICAgICBpZiAoKGNvbmZpZy5jZXJ0aWZpY2F0ZUZpbGUgPT09IHVuZGVmaW5lZCkgIT09IChjb25maWcucHJpdmF0ZUtleUZpbGUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2VydGlmaWNhdGVGaWxlIGFuZCBwcml2YXRlS2V5RmlsZSBtdXN0IGJlIHNldCBvciB1bnNldCB0b2dldGhlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuY2VydGlmaWNhdGVGaWxlID09PSB1bmRlZmluZWQgJiYgY29uZmlnLmNhQ2VydGlmaWNhdGVGaWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXQgbGVhc3Qgb25lIG9mIGNlcnRpZmljYXRlRmlsZSBhbmQgY2FDZXJ0aWZpY2F0ZUZpbGUgbXVzdCBiZSBzZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnRmlsZSB3YXRjaGVyIGNvbnN0cnVjdGVkIHdpdGggY29uZmlnICcgKyBKU09OLnN0cmluZ2lmeShjb25maWcpKTtcbiAgICB9XG4gICAgdXBkYXRlQ2VydGlmaWNhdGVzKCkge1xuICAgICAgICBpZiAodGhpcy5maWxlUmVzdWx0UHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlsZVJlc3VsdFByb21pc2UgPSBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgICAgICAgdGhpcy5jb25maWcuY2VydGlmaWNhdGVGaWxlID8gcmVhZEZpbGVQcm9taXNlKHRoaXMuY29uZmlnLmNlcnRpZmljYXRlRmlsZSkgOiBQcm9taXNlLnJlamVjdCgpLFxuICAgICAgICAgICAgdGhpcy5jb25maWcucHJpdmF0ZUtleUZpbGUgPyByZWFkRmlsZVByb21pc2UodGhpcy5jb25maWcucHJpdmF0ZUtleUZpbGUpIDogUHJvbWlzZS5yZWplY3QoKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmNhQ2VydGlmaWNhdGVGaWxlID8gcmVhZEZpbGVQcm9taXNlKHRoaXMuY29uZmlnLmNhQ2VydGlmaWNhdGVGaWxlKSA6IFByb21pc2UucmVqZWN0KClcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMuZmlsZVJlc3VsdFByb21pc2UudGhlbigoW2NlcnRpZmljYXRlUmVzdWx0LCBwcml2YXRlS2V5UmVzdWx0LCBjYUNlcnRpZmljYXRlUmVzdWx0XSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKCdGaWxlIHdhdGNoZXIgcmVhZCBjZXJ0aWZpY2F0ZXMgY2VydGlmaWNhdGUgJyArIGNlcnRpZmljYXRlUmVzdWx0LnN0YXR1cyArICcsIHByaXZhdGVLZXkgJyArIHByaXZhdGVLZXlSZXN1bHQuc3RhdHVzICsgJywgQ0EgY2VydGlmaWNhdGUgJyArIGNhQ2VydGlmaWNhdGVSZXN1bHQuc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5maWxlUmVzdWx0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY2VydGlmaWNhdGVSZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiBwcml2YXRlS2V5UmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBjZXJ0aWZpY2F0ZTogY2VydGlmaWNhdGVSZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGVLZXk6IHByaXZhdGVLZXlSZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FDZXJ0aWZpY2F0ZVJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FDZXJ0aWZpY2F0ZTogY2FDZXJ0aWZpY2F0ZVJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5pZGVudGl0eUxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmNhTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5sYXRlc3RDYVVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFjZSgnRmlsZSB3YXRjaGVyIGluaXRpYXRlZCBjZXJ0aWZpY2F0ZSB1cGRhdGUnKTtcbiAgICB9XG4gICAgbWF5YmVTdGFydFdhdGNoaW5nRmlsZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgIC8qIFBlcmZvcm0gdGhlIGZpcnN0IHJlYWQgaW1tZWRpYXRlbHksIGJ1dCBvbmx5IGlmIHRoZXJlIHdhcyBub3QgYWxyZWFkeVxuICAgICAgICAgICAgICogYSByZWNlbnQgcmVhZCwgdG8gYXZvaWQgcmVhZGluZyBmcm9tIHRoZSBmaWxlc3lzdGVtIHNpZ25pZmljYW50bHkgbW9yZVxuICAgICAgICAgICAgICogZnJlcXVlbnRseSB0aGFuIGNvbmZpZ3VyZWQgaWYgdGhlIHByb3ZpZGVyIHF1aWNrbHkgc3dpdGNoZXMgYmV0d2VlblxuICAgICAgICAgICAgICogdXNlZCBhbmQgdW51c2VkLiAqL1xuICAgICAgICAgICAgY29uc3QgdGltZVNpbmNlTGFzdFVwZGF0ZSA9IHRoaXMubGFzdFVwZGF0ZVRpbWUgPyAobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gdGhpcy5sYXN0VXBkYXRlVGltZS5nZXRUaW1lKCkgOiBJbmZpbml0eTtcbiAgICAgICAgICAgIGlmICh0aW1lU2luY2VMYXN0VXBkYXRlID4gdGhpcy5jb25maWcucmVmcmVzaEludGVydmFsTXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNlcnRpZmljYXRlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWVTaW5jZUxhc3RVcGRhdGUgPiB0aGlzLmNvbmZpZy5yZWZyZXNoSW50ZXJ2YWxNcyAqIDIpIHtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBvdXQgb2xkIHVwZGF0ZXMgaWYgdGhleSBhcmUgZGVmaW5pdGVseSBzdGFsZVxuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy51cGRhdGVDZXJ0aWZpY2F0ZXMoKSwgdGhpcy5jb25maWcucmVmcmVzaEludGVydmFsTXMpO1xuICAgICAgICAgICAgdHJhY2UoJ0ZpbGUgd2F0Y2hlciBzdGFydGVkIHdhdGNoaW5nJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF5YmVTdG9wV2F0Y2hpbmdGaWxlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FMaXN0ZW5lcnMuc2l6ZSA9PT0gMCAmJiB0aGlzLmlkZW50aXR5TGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmlsZVJlc3VsdFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmcmVzaFRpbWVyKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlZnJlc2hUaW1lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENhQ2VydGlmaWNhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNhTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMubWF5YmVTdGFydFdhdGNoaW5nRmlsZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0Q2FVcGRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhsaXN0ZW5lciwgdGhpcy5sYXRlc3RDYVVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuY2FMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5tYXliZVN0b3BXYXRjaGluZ0ZpbGVzKCk7XG4gICAgfVxuICAgIGFkZElkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmlkZW50aXR5TGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMubWF5YmVTdGFydFdhdGNoaW5nRmlsZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhsaXN0ZW5lciwgdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5tYXliZVN0b3BXYXRjaGluZ0ZpbGVzKCk7XG4gICAgfVxufVxuZXhwb3J0cy5GaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXIgPSBGaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jZXJ0aWZpY2F0ZS1wcm92aWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChannelCredentials = void 0;\nexports.createCertificateProviderChannelCredentials = createCertificateProviderChannelCredentials;\nconst tls_1 = __webpack_require__(/*! tls */ \"tls\");\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nconst tls_helpers_1 = __webpack_require__(/*! ./tls-helpers */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction verifyIsBufferOrNull(obj, friendlyName) {\n    if (obj && !(obj instanceof Buffer)) {\n        throw new TypeError(`${friendlyName}, if provided, must be a Buffer.`);\n    }\n}\n/**\n * A class that contains credentials for communicating over a channel, as well\n * as a set of per-call credentials, which are applied to every method call made\n * over a channel initialized with an instance of this class.\n */\nclass ChannelCredentials {\n    /**\n     * Returns a copy of this object with the included set of per-call credentials\n     * expanded to include callCredentials.\n     * @param callCredentials A CallCredentials object to associate with this\n     * instance.\n     */\n    compose(callCredentials) {\n        return new ComposedChannelCredentialsImpl(this, callCredentials);\n    }\n    /**\n     * Return a new ChannelCredentials instance with a given set of credentials.\n     * The resulting instance can be used to construct a Channel that communicates\n     * over TLS.\n     * @param rootCerts The root certificate data.\n     * @param privateKey The client certificate private key, if available.\n     * @param certChain The client certificate key chain, if available.\n     * @param verifyOptions Additional options to modify certificate verification\n     */\n    static createSsl(rootCerts, privateKey, certChain, verifyOptions) {\n        var _a;\n        verifyIsBufferOrNull(rootCerts, 'Root certificate');\n        verifyIsBufferOrNull(privateKey, 'Private key');\n        verifyIsBufferOrNull(certChain, 'Certificate chain');\n        if (privateKey && !certChain) {\n            throw new Error('Private key must be given with accompanying certificate chain');\n        }\n        if (!privateKey && certChain) {\n            throw new Error('Certificate chain must be given with accompanying private key');\n        }\n        const secureContext = (0, tls_1.createSecureContext)({\n            ca: (_a = rootCerts !== null && rootCerts !== void 0 ? rootCerts : (0, tls_helpers_1.getDefaultRootsData)()) !== null && _a !== void 0 ? _a : undefined,\n            key: privateKey !== null && privateKey !== void 0 ? privateKey : undefined,\n            cert: certChain !== null && certChain !== void 0 ? certChain : undefined,\n            ciphers: tls_helpers_1.CIPHER_SUITES,\n        });\n        return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n    }\n    /**\n     * Return a new ChannelCredentials instance with credentials created using\n     * the provided secureContext. The resulting instances can be used to\n     * construct a Channel that communicates over TLS. gRPC will not override\n     * anything in the provided secureContext, so the environment variables\n     * GRPC_SSL_CIPHER_SUITES and GRPC_DEFAULT_SSL_ROOTS_FILE_PATH will\n     * not be applied.\n     * @param secureContext The return value of tls.createSecureContext()\n     * @param verifyOptions Additional options to modify certificate verification\n     */\n    static createFromSecureContext(secureContext, verifyOptions) {\n        return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n    }\n    /**\n     * Return a new ChannelCredentials instance with no credentials.\n     */\n    static createInsecure() {\n        return new InsecureChannelCredentialsImpl();\n    }\n}\nexports.ChannelCredentials = ChannelCredentials;\nclass InsecureChannelCredentialsImpl extends ChannelCredentials {\n    constructor() {\n        super();\n    }\n    compose(callCredentials) {\n        throw new Error('Cannot compose insecure credentials');\n    }\n    _isSecure() {\n        return false;\n    }\n    _equals(other) {\n        return other instanceof InsecureChannelCredentialsImpl;\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        return {\n            connect(socket) {\n                return Promise.resolve({\n                    socket,\n                    secure: false\n                });\n            },\n            waitForReady: () => {\n                return Promise.resolve();\n            },\n            getCallCredentials: () => {\n                return callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty();\n            },\n            destroy() { }\n        };\n    }\n}\nfunction getConnectionOptions(secureContext, verifyOptions, channelTarget, options) {\n    var _a, _b;\n    const connectionOptions = {\n        secureContext: secureContext\n    };\n    let realTarget = channelTarget;\n    if ('grpc.http_connect_target' in options) {\n        const parsedTarget = (0, uri_parser_1.parseUri)(options['grpc.http_connect_target']);\n        if (parsedTarget) {\n            realTarget = parsedTarget;\n        }\n    }\n    const targetPath = (0, resolver_1.getDefaultAuthority)(realTarget);\n    const hostPort = (0, uri_parser_1.splitHostPort)(targetPath);\n    const remoteHost = (_a = hostPort === null || hostPort === void 0 ? void 0 : hostPort.host) !== null && _a !== void 0 ? _a : targetPath;\n    connectionOptions.host = remoteHost;\n    if (verifyOptions.checkServerIdentity) {\n        connectionOptions.checkServerIdentity = verifyOptions.checkServerIdentity;\n    }\n    if (verifyOptions.rejectUnauthorized !== undefined) {\n        connectionOptions.rejectUnauthorized = verifyOptions.rejectUnauthorized;\n    }\n    connectionOptions.ALPNProtocols = ['h2'];\n    if (options['grpc.ssl_target_name_override']) {\n        const sslTargetNameOverride = options['grpc.ssl_target_name_override'];\n        const originalCheckServerIdentity = (_b = connectionOptions.checkServerIdentity) !== null && _b !== void 0 ? _b : tls_1.checkServerIdentity;\n        connectionOptions.checkServerIdentity = (host, cert) => {\n            return originalCheckServerIdentity(sslTargetNameOverride, cert);\n        };\n        connectionOptions.servername = sslTargetNameOverride;\n    }\n    else {\n        connectionOptions.servername = remoteHost;\n    }\n    if (options['grpc-node.tls_enable_trace']) {\n        connectionOptions.enableTrace = true;\n    }\n    return connectionOptions;\n}\nclass SecureConnectorImpl {\n    constructor(connectionOptions, callCredentials) {\n        this.connectionOptions = connectionOptions;\n        this.callCredentials = callCredentials;\n    }\n    connect(socket) {\n        const tlsConnectOptions = Object.assign({ socket: socket }, this.connectionOptions);\n        return new Promise((resolve, reject) => {\n            const tlsSocket = (0, tls_1.connect)(tlsConnectOptions, () => {\n                var _a;\n                if (((_a = this.connectionOptions.rejectUnauthorized) !== null && _a !== void 0 ? _a : true) && !tlsSocket.authorized) {\n                    reject(tlsSocket.authorizationError);\n                    return;\n                }\n                resolve({\n                    socket: tlsSocket,\n                    secure: true\n                });\n            });\n            tlsSocket.on('error', (error) => {\n                reject(error);\n            });\n        });\n    }\n    waitForReady() {\n        return Promise.resolve();\n    }\n    getCallCredentials() {\n        return this.callCredentials;\n    }\n    destroy() { }\n}\nclass SecureChannelCredentialsImpl extends ChannelCredentials {\n    constructor(secureContext, verifyOptions) {\n        super();\n        this.secureContext = secureContext;\n        this.verifyOptions = verifyOptions;\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof SecureChannelCredentialsImpl) {\n            return (this.secureContext === other.secureContext &&\n                this.verifyOptions.checkServerIdentity ===\n                    other.verifyOptions.checkServerIdentity);\n        }\n        else {\n            return false;\n        }\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        const connectionOptions = getConnectionOptions(this.secureContext, this.verifyOptions, channelTarget, options);\n        return new SecureConnectorImpl(connectionOptions, callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty());\n    }\n}\nclass CertificateProviderChannelCredentialsImpl extends ChannelCredentials {\n    constructor(caCertificateProvider, identityCertificateProvider, verifyOptions) {\n        super();\n        this.caCertificateProvider = caCertificateProvider;\n        this.identityCertificateProvider = identityCertificateProvider;\n        this.verifyOptions = verifyOptions;\n        this.refcount = 0;\n        /**\n         * `undefined` means that the certificates have not yet been loaded. `null`\n         * means that an attempt to load them has completed, and has failed.\n         */\n        this.latestCaUpdate = undefined;\n        /**\n         * `undefined` means that the certificates have not yet been loaded. `null`\n         * means that an attempt to load them has completed, and has failed.\n         */\n        this.latestIdentityUpdate = undefined;\n        this.caCertificateUpdateListener = this.handleCaCertificateUpdate.bind(this);\n        this.identityCertificateUpdateListener = this.handleIdentityCertitificateUpdate.bind(this);\n        this.secureContextWatchers = [];\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        var _a, _b;\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof CertificateProviderChannelCredentialsImpl) {\n            return this.caCertificateProvider === other.caCertificateProvider &&\n                this.identityCertificateProvider === other.identityCertificateProvider &&\n                ((_a = this.verifyOptions) === null || _a === void 0 ? void 0 : _a.checkServerIdentity) === ((_b = other.verifyOptions) === null || _b === void 0 ? void 0 : _b.checkServerIdentity);\n        }\n        else {\n            return false;\n        }\n    }\n    ref() {\n        var _a;\n        if (this.refcount === 0) {\n            this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener);\n            (_a = this.identityCertificateProvider) === null || _a === void 0 ? void 0 : _a.addIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n        this.refcount += 1;\n    }\n    unref() {\n        var _a;\n        this.refcount -= 1;\n        if (this.refcount === 0) {\n            this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener);\n            (_a = this.identityCertificateProvider) === null || _a === void 0 ? void 0 : _a.removeIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        this.ref();\n        return new CertificateProviderChannelCredentialsImpl.SecureConnectorImpl(this, channelTarget, options, callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty());\n    }\n    maybeUpdateWatchers() {\n        if (this.hasReceivedUpdates()) {\n            for (const watcher of this.secureContextWatchers) {\n                watcher(this.getLatestSecureContext());\n            }\n            this.secureContextWatchers = [];\n        }\n    }\n    handleCaCertificateUpdate(update) {\n        this.latestCaUpdate = update;\n        this.maybeUpdateWatchers();\n    }\n    handleIdentityCertitificateUpdate(update) {\n        this.latestIdentityUpdate = update;\n        this.maybeUpdateWatchers();\n    }\n    hasReceivedUpdates() {\n        if (this.latestCaUpdate === undefined) {\n            return false;\n        }\n        if (this.identityCertificateProvider && this.latestIdentityUpdate === undefined) {\n            return false;\n        }\n        return true;\n    }\n    getSecureContext() {\n        if (this.hasReceivedUpdates()) {\n            return Promise.resolve(this.getLatestSecureContext());\n        }\n        else {\n            return new Promise(resolve => {\n                this.secureContextWatchers.push(resolve);\n            });\n        }\n    }\n    getLatestSecureContext() {\n        var _a, _b;\n        if (!this.latestCaUpdate) {\n            return null;\n        }\n        if (this.identityCertificateProvider !== null && !this.latestIdentityUpdate) {\n            return null;\n        }\n        try {\n            return (0, tls_1.createSecureContext)({\n                ca: this.latestCaUpdate.caCertificate,\n                key: (_a = this.latestIdentityUpdate) === null || _a === void 0 ? void 0 : _a.privateKey,\n                cert: (_b = this.latestIdentityUpdate) === null || _b === void 0 ? void 0 : _b.certificate,\n                ciphers: tls_helpers_1.CIPHER_SUITES\n            });\n        }\n        catch (e) {\n            (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to createSecureContext with error ' + e.message);\n            return null;\n        }\n    }\n}\nCertificateProviderChannelCredentialsImpl.SecureConnectorImpl = class {\n    constructor(parent, channelTarget, options, callCredentials) {\n        this.parent = parent;\n        this.channelTarget = channelTarget;\n        this.options = options;\n        this.callCredentials = callCredentials;\n    }\n    connect(socket) {\n        return new Promise((resolve, reject) => {\n            const secureContext = this.parent.getLatestSecureContext();\n            if (!secureContext) {\n                reject(new Error('Failed to load credentials'));\n                return;\n            }\n            if (socket.closed) {\n                reject(new Error('Socket closed while loading credentials'));\n            }\n            const connnectionOptions = getConnectionOptions(secureContext, this.parent.verifyOptions, this.channelTarget, this.options);\n            const tlsConnectOptions = Object.assign({ socket: socket }, connnectionOptions);\n            const closeCallback = () => {\n                reject(new Error('Socket closed'));\n            };\n            const errorCallback = (error) => {\n                reject(error);\n            };\n            const tlsSocket = (0, tls_1.connect)(tlsConnectOptions, () => {\n                var _a;\n                tlsSocket.removeListener('close', closeCallback);\n                tlsSocket.removeListener('error', errorCallback);\n                if (((_a = this.parent.verifyOptions.rejectUnauthorized) !== null && _a !== void 0 ? _a : true) && !tlsSocket.authorized) {\n                    reject(tlsSocket.authorizationError);\n                    return;\n                }\n                resolve({\n                    socket: tlsSocket,\n                    secure: true\n                });\n            });\n            tlsSocket.once('close', closeCallback);\n            tlsSocket.once('error', errorCallback);\n        });\n    }\n    async waitForReady() {\n        await this.parent.getSecureContext();\n    }\n    getCallCredentials() {\n        return this.callCredentials;\n    }\n    destroy() {\n        this.parent.unref();\n    }\n};\nfunction createCertificateProviderChannelCredentials(caCertificateProvider, identityCertificateProvider, verifyOptions) {\n    return new CertificateProviderChannelCredentialsImpl(caCertificateProvider, identityCertificateProvider, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n}\nclass ComposedChannelCredentialsImpl extends ChannelCredentials {\n    constructor(channelCredentials, callCredentials) {\n        super();\n        this.channelCredentials = channelCredentials;\n        this.callCredentials = callCredentials;\n        if (!channelCredentials._isSecure()) {\n            throw new Error('Cannot compose insecure credentials');\n        }\n    }\n    compose(callCredentials) {\n        const combinedCallCredentials = this.callCredentials.compose(callCredentials);\n        return new ComposedChannelCredentialsImpl(this.channelCredentials, combinedCallCredentials);\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof ComposedChannelCredentialsImpl) {\n            return (this.channelCredentials._equals(other.channelCredentials) &&\n                this.callCredentials._equals(other.callCredentials));\n        }\n        else {\n            return false;\n        }\n    }\n    _createSecureConnector(channelTarget, options, callCredentials) {\n        const combinedCallCredentials = this.callCredentials.compose(callCredentials !== null && callCredentials !== void 0 ? callCredentials : call_credentials_1.CallCredentials.createEmpty());\n        return this.channelCredentials._createSecureConnector(channelTarget, options, combinedCallCredentials);\n    }\n}\n//# sourceMappingURL=channel-credentials.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1jcmVkZW50aWFscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQjtBQUMxQixtREFBbUQ7QUFDbkQsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLDJCQUEyQixtQkFBTyxDQUFDLG9IQUFvQjtBQUN2RCxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBZTtBQUM3QyxxQkFBcUIsbUJBQU8sQ0FBQyx3R0FBYztBQUMzQyxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QyxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYUFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsc0lBQXNJO0FBQ3RJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNJQUFzSTtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsZ0JBQWdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0JBQWdCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0xBQW9MO0FBQ3BMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1jcmVkZW50aWFscy5qcz84YTQ3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNoYW5uZWxDcmVkZW50aWFscyA9IHZvaWQgMDtcbmV4cG9ydHMuY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFscyA9IGNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHM7XG5jb25zdCB0bHNfMSA9IHJlcXVpcmUoXCJ0bHNcIik7XG5jb25zdCBjYWxsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jYWxsLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgdGxzX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL3Rscy1oZWxwZXJzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiB2ZXJpZnlJc0J1ZmZlck9yTnVsbChvYmosIGZyaWVuZGx5TmFtZSkge1xuICAgIGlmIChvYmogJiYgIShvYmogaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7ZnJpZW5kbHlOYW1lfSwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBCdWZmZXIuYCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgY29udGFpbnMgY3JlZGVudGlhbHMgZm9yIGNvbW11bmljYXRpbmcgb3ZlciBhIGNoYW5uZWwsIGFzIHdlbGxcbiAqIGFzIGEgc2V0IG9mIHBlci1jYWxsIGNyZWRlbnRpYWxzLCB3aGljaCBhcmUgYXBwbGllZCB0byBldmVyeSBtZXRob2QgY2FsbCBtYWRlXG4gKiBvdmVyIGEgY2hhbm5lbCBpbml0aWFsaXplZCB3aXRoIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG4gKi9cbmNsYXNzIENoYW5uZWxDcmVkZW50aWFscyB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhpcyBvYmplY3Qgd2l0aCB0aGUgaW5jbHVkZWQgc2V0IG9mIHBlci1jYWxsIGNyZWRlbnRpYWxzXG4gICAgICogZXhwYW5kZWQgdG8gaW5jbHVkZSBjYWxsQ3JlZGVudGlhbHMuXG4gICAgICogQHBhcmFtIGNhbGxDcmVkZW50aWFscyBBIENhbGxDcmVkZW50aWFscyBvYmplY3QgdG8gYXNzb2NpYXRlIHdpdGggdGhpc1xuICAgICAqIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zZWRDaGFubmVsQ3JlZGVudGlhbHNJbXBsKHRoaXMsIGNhbGxDcmVkZW50aWFscyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIG5ldyBDaGFubmVsQ3JlZGVudGlhbHMgaW5zdGFuY2Ugd2l0aCBhIGdpdmVuIHNldCBvZiBjcmVkZW50aWFscy5cbiAgICAgKiBUaGUgcmVzdWx0aW5nIGluc3RhbmNlIGNhbiBiZSB1c2VkIHRvIGNvbnN0cnVjdCBhIENoYW5uZWwgdGhhdCBjb21tdW5pY2F0ZXNcbiAgICAgKiBvdmVyIFRMUy5cbiAgICAgKiBAcGFyYW0gcm9vdENlcnRzIFRoZSByb290IGNlcnRpZmljYXRlIGRhdGEuXG4gICAgICogQHBhcmFtIHByaXZhdGVLZXkgVGhlIGNsaWVudCBjZXJ0aWZpY2F0ZSBwcml2YXRlIGtleSwgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSBjZXJ0Q2hhaW4gVGhlIGNsaWVudCBjZXJ0aWZpY2F0ZSBrZXkgY2hhaW4sIGlmIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0gdmVyaWZ5T3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgdG8gbW9kaWZ5IGNlcnRpZmljYXRlIHZlcmlmaWNhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVTc2wocm9vdENlcnRzLCBwcml2YXRlS2V5LCBjZXJ0Q2hhaW4sIHZlcmlmeU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2ZXJpZnlJc0J1ZmZlck9yTnVsbChyb290Q2VydHMsICdSb290IGNlcnRpZmljYXRlJyk7XG4gICAgICAgIHZlcmlmeUlzQnVmZmVyT3JOdWxsKHByaXZhdGVLZXksICdQcml2YXRlIGtleScpO1xuICAgICAgICB2ZXJpZnlJc0J1ZmZlck9yTnVsbChjZXJ0Q2hhaW4sICdDZXJ0aWZpY2F0ZSBjaGFpbicpO1xuICAgICAgICBpZiAocHJpdmF0ZUtleSAmJiAhY2VydENoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByaXZhdGUga2V5IG11c3QgYmUgZ2l2ZW4gd2l0aCBhY2NvbXBhbnlpbmcgY2VydGlmaWNhdGUgY2hhaW4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByaXZhdGVLZXkgJiYgY2VydENoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NlcnRpZmljYXRlIGNoYWluIG11c3QgYmUgZ2l2ZW4gd2l0aCBhY2NvbXBhbnlpbmcgcHJpdmF0ZSBrZXknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0ID0gKDAsIHRsc18xLmNyZWF0ZVNlY3VyZUNvbnRleHQpKHtcbiAgICAgICAgICAgIGNhOiAoX2EgPSByb290Q2VydHMgIT09IG51bGwgJiYgcm9vdENlcnRzICE9PSB2b2lkIDAgPyByb290Q2VydHMgOiAoMCwgdGxzX2hlbHBlcnNfMS5nZXREZWZhdWx0Um9vdHNEYXRhKSgpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBrZXk6IHByaXZhdGVLZXkgIT09IG51bGwgJiYgcHJpdmF0ZUtleSAhPT0gdm9pZCAwID8gcHJpdmF0ZUtleSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNlcnQ6IGNlcnRDaGFpbiAhPT0gbnVsbCAmJiBjZXJ0Q2hhaW4gIT09IHZvaWQgMCA/IGNlcnRDaGFpbiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNpcGhlcnM6IHRsc19oZWxwZXJzXzEuQ0lQSEVSX1NVSVRFUyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgU2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbChzZWN1cmVDb250ZXh0LCB2ZXJpZnlPcHRpb25zICE9PSBudWxsICYmIHZlcmlmeU9wdGlvbnMgIT09IHZvaWQgMCA/IHZlcmlmeU9wdGlvbnMgOiB7fSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIG5ldyBDaGFubmVsQ3JlZGVudGlhbHMgaW5zdGFuY2Ugd2l0aCBjcmVkZW50aWFscyBjcmVhdGVkIHVzaW5nXG4gICAgICogdGhlIHByb3ZpZGVkIHNlY3VyZUNvbnRleHQuIFRoZSByZXN1bHRpbmcgaW5zdGFuY2VzIGNhbiBiZSB1c2VkIHRvXG4gICAgICogY29uc3RydWN0IGEgQ2hhbm5lbCB0aGF0IGNvbW11bmljYXRlcyBvdmVyIFRMUy4gZ1JQQyB3aWxsIG5vdCBvdmVycmlkZVxuICAgICAqIGFueXRoaW5nIGluIHRoZSBwcm92aWRlZCBzZWN1cmVDb250ZXh0LCBzbyB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgICogR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUyBhbmQgR1JQQ19ERUZBVUxUX1NTTF9ST09UU19GSUxFX1BBVEggd2lsbFxuICAgICAqIG5vdCBiZSBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSBzZWN1cmVDb250ZXh0IFRoZSByZXR1cm4gdmFsdWUgb2YgdGxzLmNyZWF0ZVNlY3VyZUNvbnRleHQoKVxuICAgICAqIEBwYXJhbSB2ZXJpZnlPcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucyB0byBtb2RpZnkgY2VydGlmaWNhdGUgdmVyaWZpY2F0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUZyb21TZWN1cmVDb250ZXh0KHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsKHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMgIT09IG51bGwgJiYgdmVyaWZ5T3B0aW9ucyAhPT0gdm9pZCAwID8gdmVyaWZ5T3B0aW9ucyA6IHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IENoYW5uZWxDcmVkZW50aWFscyBpbnN0YW5jZSB3aXRoIG5vIGNyZWRlbnRpYWxzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVJbnNlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwoKTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWxDcmVkZW50aWFscyA9IENoYW5uZWxDcmVkZW50aWFscztcbmNsYXNzIEluc2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCBleHRlbmRzIENoYW5uZWxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIGNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBvc2UgaW5zZWN1cmUgY3JlZGVudGlhbHMnKTtcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgSW5zZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsO1xuICAgIH1cbiAgICBfY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29ubmVjdChzb2NrZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LFxuICAgICAgICAgICAgICAgICAgICBzZWN1cmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2FpdEZvclJlYWR5OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldENhbGxDcmVkZW50aWFsczogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsQ3JlZGVudGlhbHMgIT09IG51bGwgJiYgY2FsbENyZWRlbnRpYWxzICE9PSB2b2lkIDAgPyBjYWxsQ3JlZGVudGlhbHMgOiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUVtcHR5KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzdHJveSgpIHsgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENvbm5lY3Rpb25PcHRpb25zKHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMsIGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0ge1xuICAgICAgICBzZWN1cmVDb250ZXh0OiBzZWN1cmVDb250ZXh0XG4gICAgfTtcbiAgICBsZXQgcmVhbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgaWYgKCdncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVGFyZ2V0ID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkob3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0J10pO1xuICAgICAgICBpZiAocGFyc2VkVGFyZ2V0KSB7XG4gICAgICAgICAgICByZWFsVGFyZ2V0ID0gcGFyc2VkVGFyZ2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldFBhdGggPSAoMCwgcmVzb2x2ZXJfMS5nZXREZWZhdWx0QXV0aG9yaXR5KShyZWFsVGFyZ2V0KTtcbiAgICBjb25zdCBob3N0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkodGFyZ2V0UGF0aCk7XG4gICAgY29uc3QgcmVtb3RlSG9zdCA9IChfYSA9IGhvc3RQb3J0ID09PSBudWxsIHx8IGhvc3RQb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3N0UG9ydC5ob3N0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0YXJnZXRQYXRoO1xuICAgIGNvbm5lY3Rpb25PcHRpb25zLmhvc3QgPSByZW1vdGVIb3N0O1xuICAgIGlmICh2ZXJpZnlPcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkpIHtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9IHZlcmlmeU9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKHZlcmlmeU9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkID0gdmVyaWZ5T3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQ7XG4gICAgfVxuICAgIGNvbm5lY3Rpb25PcHRpb25zLkFMUE5Qcm90b2NvbHMgPSBbJ2gyJ107XG4gICAgaWYgKG9wdGlvbnNbJ2dycGMuc3NsX3RhcmdldF9uYW1lX292ZXJyaWRlJ10pIHtcbiAgICAgICAgY29uc3Qgc3NsVGFyZ2V0TmFtZU92ZXJyaWRlID0gb3B0aW9uc1snZ3JwYy5zc2xfdGFyZ2V0X25hbWVfb3ZlcnJpZGUnXTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDaGVja1NlcnZlcklkZW50aXR5ID0gKF9iID0gY29ubmVjdGlvbk9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGxzXzEuY2hlY2tTZXJ2ZXJJZGVudGl0eTtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9IChob3N0LCBjZXJ0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxDaGVja1NlcnZlcklkZW50aXR5KHNzbFRhcmdldE5hbWVPdmVycmlkZSwgY2VydCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbm5lY3Rpb25PcHRpb25zLnNlcnZlcm5hbWUgPSBzc2xUYXJnZXROYW1lT3ZlcnJpZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5zZXJ2ZXJuYW1lID0gcmVtb3RlSG9zdDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnNbJ2dycGMtbm9kZS50bHNfZW5hYmxlX3RyYWNlJ10pIHtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuZW5hYmxlVHJhY2UgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gY29ubmVjdGlvbk9wdGlvbnM7XG59XG5jbGFzcyBTZWN1cmVDb25uZWN0b3JJbXBsIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uT3B0aW9ucywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbk9wdGlvbnMgPSBjb25uZWN0aW9uT3B0aW9ucztcbiAgICAgICAgdGhpcy5jYWxsQ3JlZGVudGlhbHMgPSBjYWxsQ3JlZGVudGlhbHM7XG4gICAgfVxuICAgIGNvbm5lY3Qoc29ja2V0KSB7XG4gICAgICAgIGNvbnN0IHRsc0Nvbm5lY3RPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHNvY2tldDogc29ja2V0IH0sIHRoaXMuY29ubmVjdGlvbk9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGxzU29ja2V0ID0gKDAsIHRsc18xLmNvbm5lY3QpKHRsc0Nvbm5lY3RPcHRpb25zLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5jb25uZWN0aW9uT3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUpICYmICF0bHNTb2NrZXQuYXV0aG9yaXplZCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QodGxzU29ja2V0LmF1dGhvcml6YXRpb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldDogdGxzU29ja2V0LFxuICAgICAgICAgICAgICAgICAgICBzZWN1cmU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGxzU29ja2V0Lm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdhaXRGb3JSZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRDYWxsQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxDcmVkZW50aWFscztcbiAgICB9XG4gICAgZGVzdHJveSgpIHsgfVxufVxuY2xhc3MgU2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCBleHRlbmRzIENoYW5uZWxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3Ioc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNlY3VyZUNvbnRleHQgPSBzZWN1cmVDb250ZXh0O1xuICAgICAgICB0aGlzLnZlcmlmeU9wdGlvbnMgPSB2ZXJpZnlPcHRpb25zO1xuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgU2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLnNlY3VyZUNvbnRleHQgPT09IG90aGVyLnNlY3VyZUNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeU9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9PT1cbiAgICAgICAgICAgICAgICAgICAgb3RoZXIudmVyaWZ5T3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uT3B0aW9ucyA9IGdldENvbm5lY3Rpb25PcHRpb25zKHRoaXMuc2VjdXJlQ29udGV4dCwgdGhpcy52ZXJpZnlPcHRpb25zLCBjaGFubmVsVGFyZ2V0LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVDb25uZWN0b3JJbXBsKGNvbm5lY3Rpb25PcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMgIT09IG51bGwgJiYgY2FsbENyZWRlbnRpYWxzICE9PSB2b2lkIDAgPyBjYWxsQ3JlZGVudGlhbHMgOiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUVtcHR5KCkpO1xuICAgIH1cbn1cbmNsYXNzIENlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsIGV4dGVuZHMgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihjYUNlcnRpZmljYXRlUHJvdmlkZXIsIGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciwgdmVyaWZ5T3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlciA9IGNhQ2VydGlmaWNhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIgPSBpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXI7XG4gICAgICAgIHRoaXMudmVyaWZ5T3B0aW9ucyA9IHZlcmlmeU9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVmY291bnQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHVuZGVmaW5lZGAgbWVhbnMgdGhhdCB0aGUgY2VydGlmaWNhdGVzIGhhdmUgbm90IHlldCBiZWVuIGxvYWRlZC4gYG51bGxgXG4gICAgICAgICAqIG1lYW5zIHRoYXQgYW4gYXR0ZW1wdCB0byBsb2FkIHRoZW0gaGFzIGNvbXBsZXRlZCwgYW5kIGhhcyBmYWlsZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogYHVuZGVmaW5lZGAgbWVhbnMgdGhhdCB0aGUgY2VydGlmaWNhdGVzIGhhdmUgbm90IHlldCBiZWVuIGxvYWRlZC4gYG51bGxgXG4gICAgICAgICAqIG1lYW5zIHRoYXQgYW4gYXR0ZW1wdCB0byBsb2FkIHRoZW0gaGFzIGNvbXBsZXRlZCwgYW5kIGhhcyBmYWlsZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lciA9IHRoaXMuaGFuZGxlQ2FDZXJ0aWZpY2F0ZVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lciA9IHRoaXMuaGFuZGxlSWRlbnRpdHlDZXJ0aXRpZmljYXRlVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2VjdXJlQ29udGV4dFdhdGNoZXJzID0gW107XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyID09PSBvdGhlci5jYUNlcnRpZmljYXRlUHJvdmlkZXIgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciA9PT0gb3RoZXIuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyICYmXG4gICAgICAgICAgICAgICAgKChfYSA9IHRoaXMudmVyaWZ5T3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNoZWNrU2VydmVySWRlbnRpdHkpID09PSAoKF9iID0gb3RoZXIudmVyaWZ5T3B0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNoZWNrU2VydmVySWRlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIuYWRkQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZmNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucmVmY291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyLnJlbW92ZUNhQ2VydGlmaWNhdGVMaXN0ZW5lcih0aGlzLmNhQ2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUlkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcih0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVNlY3VyZUNvbm5lY3RvcihjaGFubmVsVGFyZ2V0LCBvcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhpcy5yZWYoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzSW1wbC5TZWN1cmVDb25uZWN0b3JJbXBsKHRoaXMsIGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKSk7XG4gICAgfVxuICAgIG1heWJlVXBkYXRlV2F0Y2hlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1JlY2VpdmVkVXBkYXRlcygpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHdhdGNoZXIgb2YgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMpIHtcbiAgICAgICAgICAgICAgICB3YXRjaGVyKHRoaXMuZ2V0TGF0ZXN0U2VjdXJlQ29udGV4dCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VjdXJlQ29udGV4dFdhdGNoZXJzID0gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlQ2FDZXJ0aWZpY2F0ZVVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgdGhpcy5tYXliZVVwZGF0ZVdhdGNoZXJzKCk7XG4gICAgfVxuICAgIGhhbmRsZUlkZW50aXR5Q2VydGl0aWZpY2F0ZVVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgdGhpcy5tYXliZVVwZGF0ZVdhdGNoZXJzKCk7XG4gICAgfVxuICAgIGhhc1JlY2VpdmVkVXBkYXRlcygpIHtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0Q2FVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciAmJiB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZ2V0U2VjdXJlQ29udGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVjZWl2ZWRVcGRhdGVzKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5nZXRMYXRlc3RTZWN1cmVDb250ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VjdXJlQ29udGV4dFdhdGNoZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRMYXRlc3RTZWN1cmVDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMubGF0ZXN0Q2FVcGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciAhPT0gbnVsbCAmJiAhdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdGxzXzEuY3JlYXRlU2VjdXJlQ29udGV4dCkoe1xuICAgICAgICAgICAgICAgIGNhOiB0aGlzLmxhdGVzdENhVXBkYXRlLmNhQ2VydGlmaWNhdGUsXG4gICAgICAgICAgICAgICAga2V5OiAoX2EgPSB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJpdmF0ZUtleSxcbiAgICAgICAgICAgICAgICBjZXJ0OiAoX2IgPSB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2VydGlmaWNhdGUsXG4gICAgICAgICAgICAgICAgY2lwaGVyczogdGxzX2hlbHBlcnNfMS5DSVBIRVJfU1VJVEVTXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgJ0ZhaWxlZCB0byBjcmVhdGVTZWN1cmVDb250ZXh0IHdpdGggZXJyb3IgJyArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbkNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsLlNlY3VyZUNvbm5lY3RvckltcGwgPSBjbGFzcyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCBjaGFubmVsVGFyZ2V0LCBvcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY2FsbENyZWRlbnRpYWxzID0gY2FsbENyZWRlbnRpYWxzO1xuICAgIH1cbiAgICBjb25uZWN0KHNvY2tldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdXJlQ29udGV4dCA9IHRoaXMucGFyZW50LmdldExhdGVzdFNlY3VyZUNvbnRleHQoKTtcbiAgICAgICAgICAgIGlmICghc2VjdXJlQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNyZWRlbnRpYWxzJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzb2NrZXQuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignU29ja2V0IGNsb3NlZCB3aGlsZSBsb2FkaW5nIGNyZWRlbnRpYWxzJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY29ubm5lY3Rpb25PcHRpb25zID0gZ2V0Q29ubmVjdGlvbk9wdGlvbnMoc2VjdXJlQ29udGV4dCwgdGhpcy5wYXJlbnQudmVyaWZ5T3B0aW9ucywgdGhpcy5jaGFubmVsVGFyZ2V0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgdGxzQ29ubmVjdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgc29ja2V0OiBzb2NrZXQgfSwgY29ubm5lY3Rpb25PcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignU29ja2V0IGNsb3NlZCcpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlcnJvckNhbGxiYWNrID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSAoMCwgdGxzXzEuY29ubmVjdCkodGxzQ29ubmVjdE9wdGlvbnMsICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdGxzU29ja2V0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHRsc1NvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMucGFyZW50LnZlcmlmeU9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlKSAmJiAhdGxzU29ja2V0LmF1dGhvcml6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHRsc1NvY2tldC5hdXRob3JpemF0aW9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQ6IHRsc1NvY2tldCxcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRsc1NvY2tldC5vbmNlKCdjbG9zZScsIGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGxzU29ja2V0Lm9uY2UoJ2Vycm9yJywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyB3YWl0Rm9yUmVhZHkoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGFyZW50LmdldFNlY3VyZUNvbnRleHQoKTtcbiAgICB9XG4gICAgZ2V0Q2FsbENyZWRlbnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsQ3JlZGVudGlhbHM7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucGFyZW50LnVucmVmKCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHMoY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyLCBpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIsIHZlcmlmeU9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IENlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsKGNhQ2VydGlmaWNhdGVQcm92aWRlciwgaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCB2ZXJpZnlPcHRpb25zICE9PSBudWxsICYmIHZlcmlmeU9wdGlvbnMgIT09IHZvaWQgMCA/IHZlcmlmeU9wdGlvbnMgOiB7fSk7XG59XG5jbGFzcyBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwgZXh0ZW5kcyBDaGFubmVsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDcmVkZW50aWFscywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbENyZWRlbnRpYWxzID0gY2hhbm5lbENyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmNhbGxDcmVkZW50aWFscyA9IGNhbGxDcmVkZW50aWFscztcbiAgICAgICAgaWYgKCFjaGFubmVsQ3JlZGVudGlhbHMuX2lzU2VjdXJlKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbXBvc2UgaW5zZWN1cmUgY3JlZGVudGlhbHMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb3NlKGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICBjb25zdCBjb21iaW5lZENhbGxDcmVkZW50aWFscyA9IHRoaXMuY2FsbENyZWRlbnRpYWxzLmNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwodGhpcy5jaGFubmVsQ3JlZGVudGlhbHMsIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmNoYW5uZWxDcmVkZW50aWFscy5fZXF1YWxzKG90aGVyLmNoYW5uZWxDcmVkZW50aWFscykgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxDcmVkZW50aWFscy5fZXF1YWxzKG90aGVyLmNhbGxDcmVkZW50aWFscykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jcmVhdGVTZWN1cmVDb25uZWN0b3IoY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzID0gdGhpcy5jYWxsQ3JlZGVudGlhbHMuY29tcG9zZShjYWxsQ3JlZGVudGlhbHMgIT09IG51bGwgJiYgY2FsbENyZWRlbnRpYWxzICE9PSB2b2lkIDAgPyBjYWxsQ3JlZGVudGlhbHMgOiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUVtcHR5KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsQ3JlZGVudGlhbHMuX2NyZWF0ZVNlY3VyZUNvbm5lY3RvcihjaGFubmVsVGFyZ2V0LCBvcHRpb25zLCBjb21iaW5lZENhbGxDcmVkZW50aWFscyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1jcmVkZW50aWFscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.recognizedOptions = void 0;\nexports.channelOptionsEqual = channelOptionsEqual;\n/**\n * This is for checking provided options at runtime. This is an object for\n * easier membership checking.\n */\nexports.recognizedOptions = {\n    'grpc.ssl_target_name_override': true,\n    'grpc.primary_user_agent': true,\n    'grpc.secondary_user_agent': true,\n    'grpc.default_authority': true,\n    'grpc.keepalive_time_ms': true,\n    'grpc.keepalive_timeout_ms': true,\n    'grpc.keepalive_permit_without_calls': true,\n    'grpc.service_config': true,\n    'grpc.max_concurrent_streams': true,\n    'grpc.initial_reconnect_backoff_ms': true,\n    'grpc.max_reconnect_backoff_ms': true,\n    'grpc.use_local_subchannel_pool': true,\n    'grpc.max_send_message_length': true,\n    'grpc.max_receive_message_length': true,\n    'grpc.enable_http_proxy': true,\n    'grpc.enable_channelz': true,\n    'grpc.dns_min_time_between_resolutions_ms': true,\n    'grpc.enable_retries': true,\n    'grpc.per_rpc_retry_buffer_size': true,\n    'grpc.retry_buffer_size': true,\n    'grpc.max_connection_age_ms': true,\n    'grpc.max_connection_age_grace_ms': true,\n    'grpc-node.max_session_memory': true,\n    'grpc.service_config_disable_resolution': true,\n    'grpc.client_idle_timeout_ms': true,\n    'grpc-node.tls_enable_trace': true,\n    'grpc.lb.ring_hash.ring_size_cap': true,\n    'grpc-node.retry_max_attempts_limit': true,\n    'grpc-node.flow_control_window': true,\n    'grpc.server_call_metric_recording': true\n};\nfunction channelOptionsEqual(options1, options2) {\n    const keys1 = Object.keys(options1).sort();\n    const keys2 = Object.keys(options2).sort();\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (let i = 0; i < keys1.length; i += 1) {\n        if (keys1[i] !== keys2[i]) {\n            return false;\n        }\n        if (options1[keys1[i]] !== options2[keys2[i]]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=channel-options.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1vcHRpb25zLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC1vcHRpb25zLmpzPzNiYzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVjb2duaXplZE9wdGlvbnMgPSB2b2lkIDA7XG5leHBvcnRzLmNoYW5uZWxPcHRpb25zRXF1YWwgPSBjaGFubmVsT3B0aW9uc0VxdWFsO1xuLyoqXG4gKiBUaGlzIGlzIGZvciBjaGVja2luZyBwcm92aWRlZCBvcHRpb25zIGF0IHJ1bnRpbWUuIFRoaXMgaXMgYW4gb2JqZWN0IGZvclxuICogZWFzaWVyIG1lbWJlcnNoaXAgY2hlY2tpbmcuXG4gKi9cbmV4cG9ydHMucmVjb2duaXplZE9wdGlvbnMgPSB7XG4gICAgJ2dycGMuc3NsX3RhcmdldF9uYW1lX292ZXJyaWRlJzogdHJ1ZSxcbiAgICAnZ3JwYy5wcmltYXJ5X3VzZXJfYWdlbnQnOiB0cnVlLFxuICAgICdncnBjLnNlY29uZGFyeV91c2VyX2FnZW50JzogdHJ1ZSxcbiAgICAnZ3JwYy5kZWZhdWx0X2F1dGhvcml0eSc6IHRydWUsXG4gICAgJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnOiB0cnVlLFxuICAgICdncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5rZWVwYWxpdmVfcGVybWl0X3dpdGhvdXRfY2FsbHMnOiB0cnVlLFxuICAgICdncnBjLnNlcnZpY2VfY29uZmlnJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfY29uY3VycmVudF9zdHJlYW1zJzogdHJ1ZSxcbiAgICAnZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnOiB0cnVlLFxuICAgICdncnBjLnVzZV9sb2NhbF9zdWJjaGFubmVsX3Bvb2wnOiB0cnVlLFxuICAgICdncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCc6IHRydWUsXG4gICAgJ2dycGMuZW5hYmxlX2h0dHBfcHJveHknOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9jaGFubmVseic6IHRydWUsXG4gICAgJ2dycGMuZG5zX21pbl90aW1lX2JldHdlZW5fcmVzb2x1dGlvbnNfbXMnOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9yZXRyaWVzJzogdHJ1ZSxcbiAgICAnZ3JwYy5wZXJfcnBjX3JldHJ5X2J1ZmZlcl9zaXplJzogdHJ1ZSxcbiAgICAnZ3JwYy5yZXRyeV9idWZmZXJfc2l6ZSc6IHRydWUsXG4gICAgJ2dycGMubWF4X2Nvbm5lY3Rpb25fYWdlX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfY29ubmVjdGlvbl9hZ2VfZ3JhY2VfbXMnOiB0cnVlLFxuICAgICdncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5JzogdHJ1ZSxcbiAgICAnZ3JwYy5zZXJ2aWNlX2NvbmZpZ19kaXNhYmxlX3Jlc29sdXRpb24nOiB0cnVlLFxuICAgICdncnBjLmNsaWVudF9pZGxlX3RpbWVvdXRfbXMnOiB0cnVlLFxuICAgICdncnBjLW5vZGUudGxzX2VuYWJsZV90cmFjZSc6IHRydWUsXG4gICAgJ2dycGMubGIucmluZ19oYXNoLnJpbmdfc2l6ZV9jYXAnOiB0cnVlLFxuICAgICdncnBjLW5vZGUucmV0cnlfbWF4X2F0dGVtcHRzX2xpbWl0JzogdHJ1ZSxcbiAgICAnZ3JwYy1ub2RlLmZsb3dfY29udHJvbF93aW5kb3cnOiB0cnVlLFxuICAgICdncnBjLnNlcnZlcl9jYWxsX21ldHJpY19yZWNvcmRpbmcnOiB0cnVlXG59O1xuZnVuY3Rpb24gY2hhbm5lbE9wdGlvbnNFcXVhbChvcHRpb25zMSwgb3B0aW9uczIpIHtcbiAgICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9wdGlvbnMxKS5zb3J0KCk7XG4gICAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvcHRpb25zMikuc29ydCgpO1xuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5czEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGtleXMxW2ldICE9PSBrZXlzMltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zMVtrZXlzMVtpXV0gIT09IG9wdGlvbnMyW2tleXMyW2ldXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1vcHRpb25zLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChannelImplementation = void 0;\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst internal_channel_1 = __webpack_require__(/*! ./internal-channel */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js\");\nclass ChannelImplementation {\n    constructor(target, credentials, options) {\n        if (typeof target !== 'string') {\n            throw new TypeError('Channel target must be a string');\n        }\n        if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n            throw new TypeError('Channel credentials must be a ChannelCredentials object');\n        }\n        if (options) {\n            if (typeof options !== 'object') {\n                throw new TypeError('Channel options must be an object');\n            }\n        }\n        this.internalChannel = new internal_channel_1.InternalChannel(target, credentials, options);\n    }\n    close() {\n        this.internalChannel.close();\n    }\n    getTarget() {\n        return this.internalChannel.getTarget();\n    }\n    getConnectivityState(tryToConnect) {\n        return this.internalChannel.getConnectivityState(tryToConnect);\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        this.internalChannel.watchConnectivityState(currentState, deadline, callback);\n    }\n    /**\n     * Get the channelz reference object for this channel. The returned value is\n     * garbage if channelz is disabled for this channel.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.internalChannel.getChannelzRef();\n    }\n    createCall(method, deadline, host, parentCall, propagateFlags) {\n        if (typeof method !== 'string') {\n            throw new TypeError('Channel#createCall: method must be a string');\n        }\n        if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n            throw new TypeError('Channel#createCall: deadline must be a number or Date');\n        }\n        return this.internalChannel.createCall(method, deadline, host, parentCall, propagateFlags);\n    }\n}\nexports.ChannelImplementation = ChannelImplementation;\n//# sourceMappingURL=channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3Qiw4QkFBOEIsbUJBQU8sQ0FBQywwSEFBdUI7QUFDN0QsMkJBQTJCLG1CQUFPLENBQUMsb0hBQW9CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLmpzPzVkYjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2hhbm5lbEltcGxlbWVudGF0aW9uID0gdm9pZCAwO1xuY29uc3QgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IGludGVybmFsX2NoYW5uZWxfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsLWNoYW5uZWxcIik7XG5jbGFzcyBDaGFubmVsSW1wbGVtZW50YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIHRhcmdldCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY3JlZGVudGlhbHMgaW5zdGFuY2VvZiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCBjcmVkZW50aWFscyBtdXN0IGJlIGEgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcm5hbENoYW5uZWwgPSBuZXcgaW50ZXJuYWxfY2hhbm5lbF8xLkludGVybmFsQ2hhbm5lbCh0YXJnZXQsIGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxDaGFubmVsLmNsb3NlKCk7XG4gICAgfVxuICAgIGdldFRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxDaGFubmVsLmdldFRhcmdldCgpO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSh0cnlUb0Nvbm5lY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxDaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKHRyeVRvQ29ubmVjdCk7XG4gICAgfVxuICAgIHdhdGNoQ29ubmVjdGl2aXR5U3RhdGUoY3VycmVudFN0YXRlLCBkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbENoYW5uZWwud2F0Y2hDb25uZWN0aXZpdHlTdGF0ZShjdXJyZW50U3RhdGUsIGRlYWRsaW5lLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2hhbm5lbHogcmVmZXJlbmNlIG9iamVjdCBmb3IgdGhpcyBjaGFubmVsLiBUaGUgcmV0dXJuZWQgdmFsdWUgaXNcbiAgICAgKiBnYXJiYWdlIGlmIGNoYW5uZWx6IGlzIGRpc2FibGVkIGZvciB0aGlzIGNoYW5uZWwuXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxDaGFubmVsLmdldENoYW5uZWx6UmVmKCk7XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsI2NyZWF0ZUNhbGw6IG1ldGhvZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodHlwZW9mIGRlYWRsaW5lID09PSAnbnVtYmVyJyB8fCBkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsI2NyZWF0ZUNhbGw6IGRlYWRsaW5lIG11c3QgYmUgYSBudW1iZXIgb3IgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsQ2hhbm5lbC5jcmVhdGVDYWxsKG1ldGhvZCwgZGVhZGxpbmUsIGhvc3QsIHBhcmVudENhbGwsIHByb3BhZ2F0ZUZsYWdzKTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWxJbXBsZW1lbnRhdGlvbiA9IENoYW5uZWxJbXBsZW1lbnRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.registerChannelzSocket = exports.registerChannelzServer = exports.registerChannelzSubchannel = exports.registerChannelzChannel = exports.ChannelzCallTrackerStub = exports.ChannelzCallTracker = exports.ChannelzChildrenTrackerStub = exports.ChannelzChildrenTracker = exports.ChannelzTrace = exports.ChannelzTraceStub = void 0;\nexports.unregisterChannelzRef = unregisterChannelzRef;\nexports.getChannelzHandlers = getChannelzHandlers;\nexports.getChannelzServiceDefinition = getChannelzServiceDefinition;\nexports.setup = setup;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst ordered_map_1 = __webpack_require__(/*! @js-sdsl/ordered-map */ \"(rsc)/./node_modules/@js-sdsl/ordered-map/dist/esm/index.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst admin_1 = __webpack_require__(/*! ./admin */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\");\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\");\nfunction channelRefToMessage(ref) {\n    return {\n        channel_id: ref.id,\n        name: ref.name,\n    };\n}\nfunction subchannelRefToMessage(ref) {\n    return {\n        subchannel_id: ref.id,\n        name: ref.name,\n    };\n}\nfunction serverRefToMessage(ref) {\n    return {\n        server_id: ref.id,\n    };\n}\nfunction socketRefToMessage(ref) {\n    return {\n        socket_id: ref.id,\n        name: ref.name,\n    };\n}\n/**\n * The loose upper bound on the number of events that should be retained in a\n * trace. This may be exceeded by up to a factor of 2. Arbitrarily chosen as a\n * number that should be large enough to contain the recent relevant\n * information, but small enough to not use excessive memory.\n */\nconst TARGET_RETAINED_TRACES = 32;\n/**\n * Default number of sockets/servers/channels/subchannels to return\n */\nconst DEFAULT_MAX_RESULTS = 100;\nclass ChannelzTraceStub {\n    constructor() {\n        this.events = [];\n        this.creationTimestamp = new Date();\n        this.eventsLogged = 0;\n    }\n    addTrace() { }\n    getTraceMessage() {\n        return {\n            creation_timestamp: dateToProtoTimestamp(this.creationTimestamp),\n            num_events_logged: this.eventsLogged,\n            events: [],\n        };\n    }\n}\nexports.ChannelzTraceStub = ChannelzTraceStub;\nclass ChannelzTrace {\n    constructor() {\n        this.events = [];\n        this.eventsLogged = 0;\n        this.creationTimestamp = new Date();\n    }\n    addTrace(severity, description, child) {\n        const timestamp = new Date();\n        this.events.push({\n            description: description,\n            severity: severity,\n            timestamp: timestamp,\n            childChannel: (child === null || child === void 0 ? void 0 : child.kind) === 'channel' ? child : undefined,\n            childSubchannel: (child === null || child === void 0 ? void 0 : child.kind) === 'subchannel' ? child : undefined,\n        });\n        // Whenever the trace array gets too large, discard the first half\n        if (this.events.length >= TARGET_RETAINED_TRACES * 2) {\n            this.events = this.events.slice(TARGET_RETAINED_TRACES);\n        }\n        this.eventsLogged += 1;\n    }\n    getTraceMessage() {\n        return {\n            creation_timestamp: dateToProtoTimestamp(this.creationTimestamp),\n            num_events_logged: this.eventsLogged,\n            events: this.events.map(event => {\n                return {\n                    description: event.description,\n                    severity: event.severity,\n                    timestamp: dateToProtoTimestamp(event.timestamp),\n                    channel_ref: event.childChannel\n                        ? channelRefToMessage(event.childChannel)\n                        : null,\n                    subchannel_ref: event.childSubchannel\n                        ? subchannelRefToMessage(event.childSubchannel)\n                        : null,\n                };\n            }),\n        };\n    }\n}\nexports.ChannelzTrace = ChannelzTrace;\nclass ChannelzChildrenTracker {\n    constructor() {\n        this.channelChildren = new ordered_map_1.OrderedMap();\n        this.subchannelChildren = new ordered_map_1.OrderedMap();\n        this.socketChildren = new ordered_map_1.OrderedMap();\n        this.trackerMap = {\n            [\"channel\" /* EntityTypes.channel */]: this.channelChildren,\n            [\"subchannel\" /* EntityTypes.subchannel */]: this.subchannelChildren,\n            [\"socket\" /* EntityTypes.socket */]: this.socketChildren,\n        };\n    }\n    refChild(child) {\n        const tracker = this.trackerMap[child.kind];\n        const trackedChild = tracker.find(child.id);\n        if (trackedChild.equals(tracker.end())) {\n            tracker.setElement(child.id, {\n                ref: child,\n                count: 1,\n            }, trackedChild);\n        }\n        else {\n            trackedChild.pointer[1].count += 1;\n        }\n    }\n    unrefChild(child) {\n        const tracker = this.trackerMap[child.kind];\n        const trackedChild = tracker.getElementByKey(child.id);\n        if (trackedChild !== undefined) {\n            trackedChild.count -= 1;\n            if (trackedChild.count === 0) {\n                tracker.eraseElementByKey(child.id);\n            }\n        }\n    }\n    getChildLists() {\n        return {\n            channels: this.channelChildren,\n            subchannels: this.subchannelChildren,\n            sockets: this.socketChildren,\n        };\n    }\n}\nexports.ChannelzChildrenTracker = ChannelzChildrenTracker;\nclass ChannelzChildrenTrackerStub extends ChannelzChildrenTracker {\n    refChild() { }\n    unrefChild() { }\n}\nexports.ChannelzChildrenTrackerStub = ChannelzChildrenTrackerStub;\nclass ChannelzCallTracker {\n    constructor() {\n        this.callsStarted = 0;\n        this.callsSucceeded = 0;\n        this.callsFailed = 0;\n        this.lastCallStartedTimestamp = null;\n    }\n    addCallStarted() {\n        this.callsStarted += 1;\n        this.lastCallStartedTimestamp = new Date();\n    }\n    addCallSucceeded() {\n        this.callsSucceeded += 1;\n    }\n    addCallFailed() {\n        this.callsFailed += 1;\n    }\n}\nexports.ChannelzCallTracker = ChannelzCallTracker;\nclass ChannelzCallTrackerStub extends ChannelzCallTracker {\n    addCallStarted() { }\n    addCallSucceeded() { }\n    addCallFailed() { }\n}\nexports.ChannelzCallTrackerStub = ChannelzCallTrackerStub;\nconst entityMaps = {\n    [\"channel\" /* EntityTypes.channel */]: new ordered_map_1.OrderedMap(),\n    [\"subchannel\" /* EntityTypes.subchannel */]: new ordered_map_1.OrderedMap(),\n    [\"server\" /* EntityTypes.server */]: new ordered_map_1.OrderedMap(),\n    [\"socket\" /* EntityTypes.socket */]: new ordered_map_1.OrderedMap(),\n};\nconst generateRegisterFn = (kind) => {\n    let nextId = 1;\n    function getNextId() {\n        return nextId++;\n    }\n    const entityMap = entityMaps[kind];\n    return (name, getInfo, channelzEnabled) => {\n        const id = getNextId();\n        const ref = { id, name, kind };\n        if (channelzEnabled) {\n            entityMap.setElement(id, { ref, getInfo });\n        }\n        return ref;\n    };\n};\nexports.registerChannelzChannel = generateRegisterFn(\"channel\" /* EntityTypes.channel */);\nexports.registerChannelzSubchannel = generateRegisterFn(\"subchannel\" /* EntityTypes.subchannel */);\nexports.registerChannelzServer = generateRegisterFn(\"server\" /* EntityTypes.server */);\nexports.registerChannelzSocket = generateRegisterFn(\"socket\" /* EntityTypes.socket */);\nfunction unregisterChannelzRef(ref) {\n    entityMaps[ref.kind].eraseElementByKey(ref.id);\n}\n/**\n * Parse a single section of an IPv6 address as two bytes\n * @param addressSection A hexadecimal string of length up to 4\n * @returns The pair of bytes representing this address section\n */\nfunction parseIPv6Section(addressSection) {\n    const numberValue = Number.parseInt(addressSection, 16);\n    return [(numberValue / 256) | 0, numberValue % 256];\n}\n/**\n * Parse a chunk of an IPv6 address string to some number of bytes\n * @param addressChunk Some number of segments of up to 4 hexadecimal\n *   characters each, joined by colons.\n * @returns The list of bytes representing this address chunk\n */\nfunction parseIPv6Chunk(addressChunk) {\n    if (addressChunk === '') {\n        return [];\n    }\n    const bytePairs = addressChunk\n        .split(':')\n        .map(section => parseIPv6Section(section));\n    const result = [];\n    return result.concat(...bytePairs);\n}\nfunction isIPv6MappedIPv4(ipAddress) {\n    return (0, net_1.isIPv6)(ipAddress) && ipAddress.toLowerCase().startsWith('::ffff:') && (0, net_1.isIPv4)(ipAddress.substring(7));\n}\n/**\n * Prerequisite: isIPv4(ipAddress)\n * @param ipAddress\n * @returns\n */\nfunction ipv4AddressStringToBuffer(ipAddress) {\n    return Buffer.from(Uint8Array.from(ipAddress.split('.').map(segment => Number.parseInt(segment))));\n}\n/**\n * Converts an IPv4 or IPv6 address from string representation to binary\n * representation\n * @param ipAddress an IP address in standard IPv4 or IPv6 text format\n * @returns\n */\nfunction ipAddressStringToBuffer(ipAddress) {\n    if ((0, net_1.isIPv4)(ipAddress)) {\n        return ipv4AddressStringToBuffer(ipAddress);\n    }\n    else if (isIPv6MappedIPv4(ipAddress)) {\n        return ipv4AddressStringToBuffer(ipAddress.substring(7));\n    }\n    else if ((0, net_1.isIPv6)(ipAddress)) {\n        let leftSection;\n        let rightSection;\n        const doubleColonIndex = ipAddress.indexOf('::');\n        if (doubleColonIndex === -1) {\n            leftSection = ipAddress;\n            rightSection = '';\n        }\n        else {\n            leftSection = ipAddress.substring(0, doubleColonIndex);\n            rightSection = ipAddress.substring(doubleColonIndex + 2);\n        }\n        const leftBuffer = Buffer.from(parseIPv6Chunk(leftSection));\n        const rightBuffer = Buffer.from(parseIPv6Chunk(rightSection));\n        const middleBuffer = Buffer.alloc(16 - leftBuffer.length - rightBuffer.length, 0);\n        return Buffer.concat([leftBuffer, middleBuffer, rightBuffer]);\n    }\n    else {\n        return null;\n    }\n}\nfunction connectivityStateToMessage(state) {\n    switch (state) {\n        case connectivity_state_1.ConnectivityState.CONNECTING:\n            return {\n                state: 'CONNECTING',\n            };\n        case connectivity_state_1.ConnectivityState.IDLE:\n            return {\n                state: 'IDLE',\n            };\n        case connectivity_state_1.ConnectivityState.READY:\n            return {\n                state: 'READY',\n            };\n        case connectivity_state_1.ConnectivityState.SHUTDOWN:\n            return {\n                state: 'SHUTDOWN',\n            };\n        case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n            return {\n                state: 'TRANSIENT_FAILURE',\n            };\n        default:\n            return {\n                state: 'UNKNOWN',\n            };\n    }\n}\nfunction dateToProtoTimestamp(date) {\n    if (!date) {\n        return null;\n    }\n    const millisSinceEpoch = date.getTime();\n    return {\n        seconds: (millisSinceEpoch / 1000) | 0,\n        nanos: (millisSinceEpoch % 1000) * 1000000,\n    };\n}\nfunction getChannelMessage(channelEntry) {\n    const resolvedInfo = channelEntry.getInfo();\n    const channelRef = [];\n    const subchannelRef = [];\n    resolvedInfo.children.channels.forEach(el => {\n        channelRef.push(channelRefToMessage(el[1].ref));\n    });\n    resolvedInfo.children.subchannels.forEach(el => {\n        subchannelRef.push(subchannelRefToMessage(el[1].ref));\n    });\n    return {\n        ref: channelRefToMessage(channelEntry.ref),\n        data: {\n            target: resolvedInfo.target,\n            state: connectivityStateToMessage(resolvedInfo.state),\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage(),\n        },\n        channel_ref: channelRef,\n        subchannel_ref: subchannelRef,\n    };\n}\nfunction GetChannel(call, callback) {\n    const channelId = parseInt(call.request.channel_id, 10);\n    const channelEntry = entityMaps[\"channel\" /* EntityTypes.channel */].getElementByKey(channelId);\n    if (channelEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No channel data found for id ' + channelId,\n        });\n        return;\n    }\n    callback(null, { channel: getChannelMessage(channelEntry) });\n}\nfunction GetTopChannels(call, callback) {\n    const maxResults = parseInt(call.request.max_results, 10) || DEFAULT_MAX_RESULTS;\n    const resultList = [];\n    const startId = parseInt(call.request.start_channel_id, 10);\n    const channelEntries = entityMaps[\"channel\" /* EntityTypes.channel */];\n    let i;\n    for (i = channelEntries.lowerBound(startId); !i.equals(channelEntries.end()) && resultList.length < maxResults; i = i.next()) {\n        resultList.push(getChannelMessage(i.pointer[1]));\n    }\n    callback(null, {\n        channel: resultList,\n        end: i.equals(channelEntries.end()),\n    });\n}\nfunction getServerMessage(serverEntry) {\n    const resolvedInfo = serverEntry.getInfo();\n    const listenSocket = [];\n    resolvedInfo.listenerChildren.sockets.forEach(el => {\n        listenSocket.push(socketRefToMessage(el[1].ref));\n    });\n    return {\n        ref: serverRefToMessage(serverEntry.ref),\n        data: {\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage(),\n        },\n        listen_socket: listenSocket,\n    };\n}\nfunction GetServer(call, callback) {\n    const serverId = parseInt(call.request.server_id, 10);\n    const serverEntries = entityMaps[\"server\" /* EntityTypes.server */];\n    const serverEntry = serverEntries.getElementByKey(serverId);\n    if (serverEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No server data found for id ' + serverId,\n        });\n        return;\n    }\n    callback(null, { server: getServerMessage(serverEntry) });\n}\nfunction GetServers(call, callback) {\n    const maxResults = parseInt(call.request.max_results, 10) || DEFAULT_MAX_RESULTS;\n    const startId = parseInt(call.request.start_server_id, 10);\n    const serverEntries = entityMaps[\"server\" /* EntityTypes.server */];\n    const resultList = [];\n    let i;\n    for (i = serverEntries.lowerBound(startId); !i.equals(serverEntries.end()) && resultList.length < maxResults; i = i.next()) {\n        resultList.push(getServerMessage(i.pointer[1]));\n    }\n    callback(null, {\n        server: resultList,\n        end: i.equals(serverEntries.end()),\n    });\n}\nfunction GetSubchannel(call, callback) {\n    const subchannelId = parseInt(call.request.subchannel_id, 10);\n    const subchannelEntry = entityMaps[\"subchannel\" /* EntityTypes.subchannel */].getElementByKey(subchannelId);\n    if (subchannelEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No subchannel data found for id ' + subchannelId,\n        });\n        return;\n    }\n    const resolvedInfo = subchannelEntry.getInfo();\n    const listenSocket = [];\n    resolvedInfo.children.sockets.forEach(el => {\n        listenSocket.push(socketRefToMessage(el[1].ref));\n    });\n    const subchannelMessage = {\n        ref: subchannelRefToMessage(subchannelEntry.ref),\n        data: {\n            target: resolvedInfo.target,\n            state: connectivityStateToMessage(resolvedInfo.state),\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage(),\n        },\n        socket_ref: listenSocket,\n    };\n    callback(null, { subchannel: subchannelMessage });\n}\nfunction subchannelAddressToAddressMessage(subchannelAddress) {\n    var _a;\n    if ((0, subchannel_address_1.isTcpSubchannelAddress)(subchannelAddress)) {\n        return {\n            address: 'tcpip_address',\n            tcpip_address: {\n                ip_address: (_a = ipAddressStringToBuffer(subchannelAddress.host)) !== null && _a !== void 0 ? _a : undefined,\n                port: subchannelAddress.port,\n            },\n        };\n    }\n    else {\n        return {\n            address: 'uds_address',\n            uds_address: {\n                filename: subchannelAddress.path,\n            },\n        };\n    }\n}\nfunction GetSocket(call, callback) {\n    var _a, _b, _c, _d, _e;\n    const socketId = parseInt(call.request.socket_id, 10);\n    const socketEntry = entityMaps[\"socket\" /* EntityTypes.socket */].getElementByKey(socketId);\n    if (socketEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No socket data found for id ' + socketId,\n        });\n        return;\n    }\n    const resolvedInfo = socketEntry.getInfo();\n    const securityMessage = resolvedInfo.security\n        ? {\n            model: 'tls',\n            tls: {\n                cipher_suite: resolvedInfo.security.cipherSuiteStandardName\n                    ? 'standard_name'\n                    : 'other_name',\n                standard_name: (_a = resolvedInfo.security.cipherSuiteStandardName) !== null && _a !== void 0 ? _a : undefined,\n                other_name: (_b = resolvedInfo.security.cipherSuiteOtherName) !== null && _b !== void 0 ? _b : undefined,\n                local_certificate: (_c = resolvedInfo.security.localCertificate) !== null && _c !== void 0 ? _c : undefined,\n                remote_certificate: (_d = resolvedInfo.security.remoteCertificate) !== null && _d !== void 0 ? _d : undefined,\n            },\n        }\n        : null;\n    const socketMessage = {\n        ref: socketRefToMessage(socketEntry.ref),\n        local: resolvedInfo.localAddress\n            ? subchannelAddressToAddressMessage(resolvedInfo.localAddress)\n            : null,\n        remote: resolvedInfo.remoteAddress\n            ? subchannelAddressToAddressMessage(resolvedInfo.remoteAddress)\n            : null,\n        remote_name: (_e = resolvedInfo.remoteName) !== null && _e !== void 0 ? _e : undefined,\n        security: securityMessage,\n        data: {\n            keep_alives_sent: resolvedInfo.keepAlivesSent,\n            streams_started: resolvedInfo.streamsStarted,\n            streams_succeeded: resolvedInfo.streamsSucceeded,\n            streams_failed: resolvedInfo.streamsFailed,\n            last_local_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastLocalStreamCreatedTimestamp),\n            last_remote_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastRemoteStreamCreatedTimestamp),\n            messages_received: resolvedInfo.messagesReceived,\n            messages_sent: resolvedInfo.messagesSent,\n            last_message_received_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageReceivedTimestamp),\n            last_message_sent_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageSentTimestamp),\n            local_flow_control_window: resolvedInfo.localFlowControlWindow\n                ? { value: resolvedInfo.localFlowControlWindow }\n                : null,\n            remote_flow_control_window: resolvedInfo.remoteFlowControlWindow\n                ? { value: resolvedInfo.remoteFlowControlWindow }\n                : null,\n        },\n    };\n    callback(null, { socket: socketMessage });\n}\nfunction GetServerSockets(call, callback) {\n    const serverId = parseInt(call.request.server_id, 10);\n    const serverEntry = entityMaps[\"server\" /* EntityTypes.server */].getElementByKey(serverId);\n    if (serverEntry === undefined) {\n        callback({\n            code: constants_1.Status.NOT_FOUND,\n            details: 'No server data found for id ' + serverId,\n        });\n        return;\n    }\n    const startId = parseInt(call.request.start_socket_id, 10);\n    const maxResults = parseInt(call.request.max_results, 10) || DEFAULT_MAX_RESULTS;\n    const resolvedInfo = serverEntry.getInfo();\n    // If we wanted to include listener sockets in the result, this line would\n    // instead say\n    // const allSockets = resolvedInfo.listenerChildren.sockets.concat(resolvedInfo.sessionChildren.sockets).sort((ref1, ref2) => ref1.id - ref2.id);\n    const allSockets = resolvedInfo.sessionChildren.sockets;\n    const resultList = [];\n    let i;\n    for (i = allSockets.lowerBound(startId); !i.equals(allSockets.end()) && resultList.length < maxResults; i = i.next()) {\n        resultList.push(socketRefToMessage(i.pointer[1].ref));\n    }\n    callback(null, {\n        socket_ref: resultList,\n        end: i.equals(allSockets.end()),\n    });\n}\nfunction getChannelzHandlers() {\n    return {\n        GetChannel,\n        GetTopChannels,\n        GetServer,\n        GetServers,\n        GetSubchannel,\n        GetSocket,\n        GetServerSockets,\n    };\n}\nlet loadedChannelzDefinition = null;\nfunction getChannelzServiceDefinition() {\n    if (loadedChannelzDefinition) {\n        return loadedChannelzDefinition;\n    }\n    /* The purpose of this complexity is to avoid loading @grpc/proto-loader at\n     * runtime for users who will not use/enable channelz. */\n    const loaderLoadSync = (__webpack_require__(/*! @grpc/proto-loader */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/index.js\").loadSync);\n    const loadedProto = loaderLoadSync('channelz.proto', {\n        keepCase: true,\n        longs: String,\n        enums: String,\n        defaults: true,\n        oneofs: true,\n        includeDirs: [`${__dirname}/../../proto`],\n    });\n    const channelzGrpcObject = (0, make_client_1.loadPackageDefinition)(loadedProto);\n    loadedChannelzDefinition =\n        channelzGrpcObject.grpc.channelz.v1.Channelz.service;\n    return loadedChannelzDefinition;\n}\nfunction setup() {\n    (0, admin_1.registerAdminService)(getChannelzServiceDefinition, getChannelzHandlers);\n}\n//# sourceMappingURL=channelz.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2hhbm5lbHouanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsR0FBRyw4QkFBOEIsR0FBRyxrQ0FBa0MsR0FBRywrQkFBK0IsR0FBRywrQkFBK0IsR0FBRywyQkFBMkIsR0FBRyxtQ0FBbUMsR0FBRywrQkFBK0IsR0FBRyxxQkFBcUIsR0FBRyx5QkFBeUI7QUFDbFUsNkJBQTZCO0FBQzdCLDJCQUEyQjtBQUMzQixvQ0FBb0M7QUFDcEMsYUFBYTtBQUNiLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQixzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBc0I7QUFDcEQsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRCxnQkFBZ0IsbUJBQU8sQ0FBQyw4RkFBUztBQUNqQyxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsdUNBQXVDLGNBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0Isa0NBQWtDO0FBQ2xDLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EscUJBQXFCLDBDQUEwQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxtRUFBbUU7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsdUNBQXVDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGtFQUFrRTtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxxQkFBcUIsK0JBQStCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywrREFBK0Q7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5S0FDVjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsVUFBVTtBQUNuQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NoYW5uZWx6LmpzP2I0MzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVnaXN0ZXJDaGFubmVselNvY2tldCA9IGV4cG9ydHMucmVnaXN0ZXJDaGFubmVselNlcnZlciA9IGV4cG9ydHMucmVnaXN0ZXJDaGFubmVselN1YmNoYW5uZWwgPSBleHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsID0gZXhwb3J0cy5DaGFubmVsekNhbGxUcmFja2VyU3R1YiA9IGV4cG9ydHMuQ2hhbm5lbHpDYWxsVHJhY2tlciA9IGV4cG9ydHMuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViID0gZXhwb3J0cy5DaGFubmVsekNoaWxkcmVuVHJhY2tlciA9IGV4cG9ydHMuQ2hhbm5lbHpUcmFjZSA9IGV4cG9ydHMuQ2hhbm5lbHpUcmFjZVN0dWIgPSB2b2lkIDA7XG5leHBvcnRzLnVucmVnaXN0ZXJDaGFubmVselJlZiA9IHVucmVnaXN0ZXJDaGFubmVselJlZjtcbmV4cG9ydHMuZ2V0Q2hhbm5lbHpIYW5kbGVycyA9IGdldENoYW5uZWx6SGFuZGxlcnM7XG5leHBvcnRzLmdldENoYW5uZWx6U2VydmljZURlZmluaXRpb24gPSBnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3Qgb3JkZXJlZF9tYXBfMSA9IHJlcXVpcmUoXCJAanMtc2RzbC9vcmRlcmVkLW1hcFwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IGFkbWluXzEgPSByZXF1aXJlKFwiLi9hZG1pblwiKTtcbmNvbnN0IG1ha2VfY2xpZW50XzEgPSByZXF1aXJlKFwiLi9tYWtlLWNsaWVudFwiKTtcbmZ1bmN0aW9uIGNoYW5uZWxSZWZUb01lc3NhZ2UocmVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hhbm5lbF9pZDogcmVmLmlkLFxuICAgICAgICBuYW1lOiByZWYubmFtZSxcbiAgICB9O1xufVxuZnVuY3Rpb24gc3ViY2hhbm5lbFJlZlRvTWVzc2FnZShyZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJjaGFubmVsX2lkOiByZWYuaWQsXG4gICAgICAgIG5hbWU6IHJlZi5uYW1lLFxuICAgIH07XG59XG5mdW5jdGlvbiBzZXJ2ZXJSZWZUb01lc3NhZ2UocmVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VydmVyX2lkOiByZWYuaWQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNvY2tldFJlZlRvTWVzc2FnZShyZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzb2NrZXRfaWQ6IHJlZi5pZCxcbiAgICAgICAgbmFtZTogcmVmLm5hbWUsXG4gICAgfTtcbn1cbi8qKlxuICogVGhlIGxvb3NlIHVwcGVyIGJvdW5kIG9uIHRoZSBudW1iZXIgb2YgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIHJldGFpbmVkIGluIGFcbiAqIHRyYWNlLiBUaGlzIG1heSBiZSBleGNlZWRlZCBieSB1cCB0byBhIGZhY3RvciBvZiAyLiBBcmJpdHJhcmlseSBjaG9zZW4gYXMgYVxuICogbnVtYmVyIHRoYXQgc2hvdWxkIGJlIGxhcmdlIGVub3VnaCB0byBjb250YWluIHRoZSByZWNlbnQgcmVsZXZhbnRcbiAqIGluZm9ybWF0aW9uLCBidXQgc21hbGwgZW5vdWdoIHRvIG5vdCB1c2UgZXhjZXNzaXZlIG1lbW9yeS5cbiAqL1xuY29uc3QgVEFSR0VUX1JFVEFJTkVEX1RSQUNFUyA9IDMyO1xuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiBzb2NrZXRzL3NlcnZlcnMvY2hhbm5lbHMvc3ViY2hhbm5lbHMgdG8gcmV0dXJuXG4gKi9cbmNvbnN0IERFRkFVTFRfTUFYX1JFU1VMVFMgPSAxMDA7XG5jbGFzcyBDaGFubmVselRyYWNlU3R1YiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuY3JlYXRpb25UaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmV2ZW50c0xvZ2dlZCA9IDA7XG4gICAgfVxuICAgIGFkZFRyYWNlKCkgeyB9XG4gICAgZ2V0VHJhY2VNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlYXRpb25fdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcCh0aGlzLmNyZWF0aW9uVGltZXN0YW1wKSxcbiAgICAgICAgICAgIG51bV9ldmVudHNfbG9nZ2VkOiB0aGlzLmV2ZW50c0xvZ2dlZCxcbiAgICAgICAgICAgIGV2ZW50czogW10sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5DaGFubmVselRyYWNlU3R1YiA9IENoYW5uZWx6VHJhY2VTdHViO1xuY2xhc3MgQ2hhbm5lbHpUcmFjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuZXZlbnRzTG9nZ2VkID0gMDtcbiAgICAgICAgdGhpcy5jcmVhdGlvblRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICAgIGFkZFRyYWNlKHNldmVyaXR5LCBkZXNjcmlwdGlvbiwgY2hpbGQpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVzaCh7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBzZXZlcml0eTogc2V2ZXJpdHksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIGNoaWxkQ2hhbm5lbDogKGNoaWxkID09PSBudWxsIHx8IGNoaWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGlsZC5raW5kKSA9PT0gJ2NoYW5uZWwnID8gY2hpbGQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGlsZFN1YmNoYW5uZWw6IChjaGlsZCA9PT0gbnVsbCB8fCBjaGlsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hpbGQua2luZCkgPT09ICdzdWJjaGFubmVsJyA/IGNoaWxkIDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIHRyYWNlIGFycmF5IGdldHMgdG9vIGxhcmdlLCBkaXNjYXJkIHRoZSBmaXJzdCBoYWxmXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5sZW5ndGggPj0gVEFSR0VUX1JFVEFJTkVEX1RSQUNFUyAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gdGhpcy5ldmVudHMuc2xpY2UoVEFSR0VUX1JFVEFJTkVEX1RSQUNFUyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHNMb2dnZWQgKz0gMTtcbiAgICB9XG4gICAgZ2V0VHJhY2VNZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlYXRpb25fdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcCh0aGlzLmNyZWF0aW9uVGltZXN0YW1wKSxcbiAgICAgICAgICAgIG51bV9ldmVudHNfbG9nZ2VkOiB0aGlzLmV2ZW50c0xvZ2dlZCxcbiAgICAgICAgICAgIGV2ZW50czogdGhpcy5ldmVudHMubWFwKGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXZlbnQuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBldmVudC5zZXZlcml0eSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChldmVudC50aW1lc3RhbXApLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX3JlZjogZXZlbnQuY2hpbGRDaGFubmVsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNoYW5uZWxSZWZUb01lc3NhZ2UoZXZlbnQuY2hpbGRDaGFubmVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsX3JlZjogZXZlbnQuY2hpbGRTdWJjaGFubmVsXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN1YmNoYW5uZWxSZWZUb01lc3NhZ2UoZXZlbnQuY2hpbGRTdWJjaGFubmVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWx6VHJhY2UgPSBDaGFubmVselRyYWNlO1xuY2xhc3MgQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxDaGlsZHJlbiA9IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKTtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsQ2hpbGRyZW4gPSBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2hpbGRyZW4gPSBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCk7XG4gICAgICAgIHRoaXMudHJhY2tlck1hcCA9IHtcbiAgICAgICAgICAgIFtcImNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5jaGFubmVsICovXTogdGhpcy5jaGFubmVsQ2hpbGRyZW4sXG4gICAgICAgICAgICBbXCJzdWJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuc3ViY2hhbm5lbCAqL106IHRoaXMuc3ViY2hhbm5lbENoaWxkcmVuLFxuICAgICAgICAgICAgW1wic29ja2V0XCIgLyogRW50aXR5VHlwZXMuc29ja2V0ICovXTogdGhpcy5zb2NrZXRDaGlsZHJlbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVmQ2hpbGQoY2hpbGQpIHtcbiAgICAgICAgY29uc3QgdHJhY2tlciA9IHRoaXMudHJhY2tlck1hcFtjaGlsZC5raW5kXTtcbiAgICAgICAgY29uc3QgdHJhY2tlZENoaWxkID0gdHJhY2tlci5maW5kKGNoaWxkLmlkKTtcbiAgICAgICAgaWYgKHRyYWNrZWRDaGlsZC5lcXVhbHModHJhY2tlci5lbmQoKSkpIHtcbiAgICAgICAgICAgIHRyYWNrZXIuc2V0RWxlbWVudChjaGlsZC5pZCwge1xuICAgICAgICAgICAgICAgIHJlZjogY2hpbGQsXG4gICAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICB9LCB0cmFja2VkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhY2tlZENoaWxkLnBvaW50ZXJbMV0uY291bnQgKz0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnJlZkNoaWxkKGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrZXIgPSB0aGlzLnRyYWNrZXJNYXBbY2hpbGQua2luZF07XG4gICAgICAgIGNvbnN0IHRyYWNrZWRDaGlsZCA9IHRyYWNrZXIuZ2V0RWxlbWVudEJ5S2V5KGNoaWxkLmlkKTtcbiAgICAgICAgaWYgKHRyYWNrZWRDaGlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cmFja2VkQ2hpbGQuY291bnQgLT0gMTtcbiAgICAgICAgICAgIGlmICh0cmFja2VkQ2hpbGQuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0cmFja2VyLmVyYXNlRWxlbWVudEJ5S2V5KGNoaWxkLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDaGlsZExpc3RzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbm5lbHM6IHRoaXMuY2hhbm5lbENoaWxkcmVuLFxuICAgICAgICAgICAgc3ViY2hhbm5lbHM6IHRoaXMuc3ViY2hhbm5lbENoaWxkcmVuLFxuICAgICAgICAgICAgc29ja2V0czogdGhpcy5zb2NrZXRDaGlsZHJlbixcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyID0gQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXI7XG5jbGFzcyBDaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWIgZXh0ZW5kcyBDaGFubmVsekNoaWxkcmVuVHJhY2tlciB7XG4gICAgcmVmQ2hpbGQoKSB7IH1cbiAgICB1bnJlZkNoaWxkKCkgeyB9XG59XG5leHBvcnRzLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YiA9IENoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YjtcbmNsYXNzIENoYW5uZWx6Q2FsbFRyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNhbGxzU3RhcnRlZCA9IDA7XG4gICAgICAgIHRoaXMuY2FsbHNTdWNjZWVkZWQgPSAwO1xuICAgICAgICB0aGlzLmNhbGxzRmFpbGVkID0gMDtcbiAgICAgICAgdGhpcy5sYXN0Q2FsbFN0YXJ0ZWRUaW1lc3RhbXAgPSBudWxsO1xuICAgIH1cbiAgICBhZGRDYWxsU3RhcnRlZCgpIHtcbiAgICAgICAgdGhpcy5jYWxsc1N0YXJ0ZWQgKz0gMTtcbiAgICAgICAgdGhpcy5sYXN0Q2FsbFN0YXJ0ZWRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBhZGRDYWxsU3VjY2VlZGVkKCkge1xuICAgICAgICB0aGlzLmNhbGxzU3VjY2VlZGVkICs9IDE7XG4gICAgfVxuICAgIGFkZENhbGxGYWlsZWQoKSB7XG4gICAgICAgIHRoaXMuY2FsbHNGYWlsZWQgKz0gMTtcbiAgICB9XG59XG5leHBvcnRzLkNoYW5uZWx6Q2FsbFRyYWNrZXIgPSBDaGFubmVsekNhbGxUcmFja2VyO1xuY2xhc3MgQ2hhbm5lbHpDYWxsVHJhY2tlclN0dWIgZXh0ZW5kcyBDaGFubmVsekNhbGxUcmFja2VyIHtcbiAgICBhZGRDYWxsU3RhcnRlZCgpIHsgfVxuICAgIGFkZENhbGxTdWNjZWVkZWQoKSB7IH1cbiAgICBhZGRDYWxsRmFpbGVkKCkgeyB9XG59XG5leHBvcnRzLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViID0gQ2hhbm5lbHpDYWxsVHJhY2tlclN0dWI7XG5jb25zdCBlbnRpdHlNYXBzID0ge1xuICAgIFtcImNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5jaGFubmVsICovXTogbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpLFxuICAgIFtcInN1YmNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5zdWJjaGFubmVsICovXTogbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpLFxuICAgIFtcInNlcnZlclwiIC8qIEVudGl0eVR5cGVzLnNlcnZlciAqL106IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKSxcbiAgICBbXCJzb2NrZXRcIiAvKiBFbnRpdHlUeXBlcy5zb2NrZXQgKi9dOiBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCksXG59O1xuY29uc3QgZ2VuZXJhdGVSZWdpc3RlckZuID0gKGtpbmQpID0+IHtcbiAgICBsZXQgbmV4dElkID0gMTtcbiAgICBmdW5jdGlvbiBnZXROZXh0SWQoKSB7XG4gICAgICAgIHJldHVybiBuZXh0SWQrKztcbiAgICB9XG4gICAgY29uc3QgZW50aXR5TWFwID0gZW50aXR5TWFwc1traW5kXTtcbiAgICByZXR1cm4gKG5hbWUsIGdldEluZm8sIGNoYW5uZWx6RW5hYmxlZCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldE5leHRJZCgpO1xuICAgICAgICBjb25zdCByZWYgPSB7IGlkLCBuYW1lLCBraW5kIH07XG4gICAgICAgIGlmIChjaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIGVudGl0eU1hcC5zZXRFbGVtZW50KGlkLCB7IHJlZiwgZ2V0SW5mbyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVmO1xuICAgIH07XG59O1xuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6Q2hhbm5lbCA9IGdlbmVyYXRlUmVnaXN0ZXJGbihcImNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5jaGFubmVsICovKTtcbmV4cG9ydHMucmVnaXN0ZXJDaGFubmVselN1YmNoYW5uZWwgPSBnZW5lcmF0ZVJlZ2lzdGVyRm4oXCJzdWJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuc3ViY2hhbm5lbCAqLyk7XG5leHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpTZXJ2ZXIgPSBnZW5lcmF0ZVJlZ2lzdGVyRm4oXCJzZXJ2ZXJcIiAvKiBFbnRpdHlUeXBlcy5zZXJ2ZXIgKi8pO1xuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U29ja2V0ID0gZ2VuZXJhdGVSZWdpc3RlckZuKFwic29ja2V0XCIgLyogRW50aXR5VHlwZXMuc29ja2V0ICovKTtcbmZ1bmN0aW9uIHVucmVnaXN0ZXJDaGFubmVselJlZihyZWYpIHtcbiAgICBlbnRpdHlNYXBzW3JlZi5raW5kXS5lcmFzZUVsZW1lbnRCeUtleShyZWYuaWQpO1xufVxuLyoqXG4gKiBQYXJzZSBhIHNpbmdsZSBzZWN0aW9uIG9mIGFuIElQdjYgYWRkcmVzcyBhcyB0d28gYnl0ZXNcbiAqIEBwYXJhbSBhZGRyZXNzU2VjdGlvbiBBIGhleGFkZWNpbWFsIHN0cmluZyBvZiBsZW5ndGggdXAgdG8gNFxuICogQHJldHVybnMgVGhlIHBhaXIgb2YgYnl0ZXMgcmVwcmVzZW50aW5nIHRoaXMgYWRkcmVzcyBzZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSVB2NlNlY3Rpb24oYWRkcmVzc1NlY3Rpb24pIHtcbiAgICBjb25zdCBudW1iZXJWYWx1ZSA9IE51bWJlci5wYXJzZUludChhZGRyZXNzU2VjdGlvbiwgMTYpO1xuICAgIHJldHVybiBbKG51bWJlclZhbHVlIC8gMjU2KSB8IDAsIG51bWJlclZhbHVlICUgMjU2XTtcbn1cbi8qKlxuICogUGFyc2UgYSBjaHVuayBvZiBhbiBJUHY2IGFkZHJlc3Mgc3RyaW5nIHRvIHNvbWUgbnVtYmVyIG9mIGJ5dGVzXG4gKiBAcGFyYW0gYWRkcmVzc0NodW5rIFNvbWUgbnVtYmVyIG9mIHNlZ21lbnRzIG9mIHVwIHRvIDQgaGV4YWRlY2ltYWxcbiAqICAgY2hhcmFjdGVycyBlYWNoLCBqb2luZWQgYnkgY29sb25zLlxuICogQHJldHVybnMgVGhlIGxpc3Qgb2YgYnl0ZXMgcmVwcmVzZW50aW5nIHRoaXMgYWRkcmVzcyBjaHVua1xuICovXG5mdW5jdGlvbiBwYXJzZUlQdjZDaHVuayhhZGRyZXNzQ2h1bmspIHtcbiAgICBpZiAoYWRkcmVzc0NodW5rID09PSAnJykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGJ5dGVQYWlycyA9IGFkZHJlc3NDaHVua1xuICAgICAgICAuc3BsaXQoJzonKVxuICAgICAgICAubWFwKHNlY3Rpb24gPT4gcGFyc2VJUHY2U2VjdGlvbihzZWN0aW9uKSk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoLi4uYnl0ZVBhaXJzKTtcbn1cbmZ1bmN0aW9uIGlzSVB2Nk1hcHBlZElQdjQoaXBBZGRyZXNzKSB7XG4gICAgcmV0dXJuICgwLCBuZXRfMS5pc0lQdjYpKGlwQWRkcmVzcykgJiYgaXBBZGRyZXNzLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnOjpmZmZmOicpICYmICgwLCBuZXRfMS5pc0lQdjQpKGlwQWRkcmVzcy5zdWJzdHJpbmcoNykpO1xufVxuLyoqXG4gKiBQcmVyZXF1aXNpdGU6IGlzSVB2NChpcEFkZHJlc3MpXG4gKiBAcGFyYW0gaXBBZGRyZXNzXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBpcHY0QWRkcmVzc1N0cmluZ1RvQnVmZmVyKGlwQWRkcmVzcykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShVaW50OEFycmF5LmZyb20oaXBBZGRyZXNzLnNwbGl0KCcuJykubWFwKHNlZ21lbnQgPT4gTnVtYmVyLnBhcnNlSW50KHNlZ21lbnQpKSkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBJUHY0IG9yIElQdjYgYWRkcmVzcyBmcm9tIHN0cmluZyByZXByZXNlbnRhdGlvbiB0byBiaW5hcnlcbiAqIHJlcHJlc2VudGF0aW9uXG4gKiBAcGFyYW0gaXBBZGRyZXNzIGFuIElQIGFkZHJlc3MgaW4gc3RhbmRhcmQgSVB2NCBvciBJUHY2IHRleHQgZm9ybWF0XG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBpcEFkZHJlc3NTdHJpbmdUb0J1ZmZlcihpcEFkZHJlc3MpIHtcbiAgICBpZiAoKDAsIG5ldF8xLmlzSVB2NCkoaXBBZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4gaXB2NEFkZHJlc3NTdHJpbmdUb0J1ZmZlcihpcEFkZHJlc3MpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0lQdjZNYXBwZWRJUHY0KGlwQWRkcmVzcykpIHtcbiAgICAgICAgcmV0dXJuIGlwdjRBZGRyZXNzU3RyaW5nVG9CdWZmZXIoaXBBZGRyZXNzLnN1YnN0cmluZyg3KSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCBuZXRfMS5pc0lQdjYpKGlwQWRkcmVzcykpIHtcbiAgICAgICAgbGV0IGxlZnRTZWN0aW9uO1xuICAgICAgICBsZXQgcmlnaHRTZWN0aW9uO1xuICAgICAgICBjb25zdCBkb3VibGVDb2xvbkluZGV4ID0gaXBBZGRyZXNzLmluZGV4T2YoJzo6Jyk7XG4gICAgICAgIGlmIChkb3VibGVDb2xvbkluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgbGVmdFNlY3Rpb24gPSBpcEFkZHJlc3M7XG4gICAgICAgICAgICByaWdodFNlY3Rpb24gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxlZnRTZWN0aW9uID0gaXBBZGRyZXNzLnN1YnN0cmluZygwLCBkb3VibGVDb2xvbkluZGV4KTtcbiAgICAgICAgICAgIHJpZ2h0U2VjdGlvbiA9IGlwQWRkcmVzcy5zdWJzdHJpbmcoZG91YmxlQ29sb25JbmRleCArIDIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlZnRCdWZmZXIgPSBCdWZmZXIuZnJvbShwYXJzZUlQdjZDaHVuayhsZWZ0U2VjdGlvbikpO1xuICAgICAgICBjb25zdCByaWdodEJ1ZmZlciA9IEJ1ZmZlci5mcm9tKHBhcnNlSVB2NkNodW5rKHJpZ2h0U2VjdGlvbikpO1xuICAgICAgICBjb25zdCBtaWRkbGVCdWZmZXIgPSBCdWZmZXIuYWxsb2MoMTYgLSBsZWZ0QnVmZmVyLmxlbmd0aCAtIHJpZ2h0QnVmZmVyLmxlbmd0aCwgMCk7XG4gICAgICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtsZWZ0QnVmZmVyLCBtaWRkbGVCdWZmZXIsIHJpZ2h0QnVmZmVyXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBjb25uZWN0aXZpdHlTdGF0ZVRvTWVzc2FnZShzdGF0ZSkge1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ0NPTk5FQ1RJTkcnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ0lETEUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdSRUFEWScsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ1NIVVRET1dOJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkU6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnVFJBTlNJRU5UX0ZBSUxVUkUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdVTktOT1dOJyxcbiAgICAgICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gZGF0ZVRvUHJvdG9UaW1lc3RhbXAoZGF0ZSkge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbWlsbGlzU2luY2VFcG9jaCA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IChtaWxsaXNTaW5jZUVwb2NoIC8gMTAwMCkgfCAwLFxuICAgICAgICBuYW5vczogKG1pbGxpc1NpbmNlRXBvY2ggJSAxMDAwKSAqIDEwMDAwMDAsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldENoYW5uZWxNZXNzYWdlKGNoYW5uZWxFbnRyeSkge1xuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IGNoYW5uZWxFbnRyeS5nZXRJbmZvKCk7XG4gICAgY29uc3QgY2hhbm5lbFJlZiA9IFtdO1xuICAgIGNvbnN0IHN1YmNoYW5uZWxSZWYgPSBbXTtcbiAgICByZXNvbHZlZEluZm8uY2hpbGRyZW4uY2hhbm5lbHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGNoYW5uZWxSZWYucHVzaChjaGFubmVsUmVmVG9NZXNzYWdlKGVsWzFdLnJlZikpO1xuICAgIH0pO1xuICAgIHJlc29sdmVkSW5mby5jaGlsZHJlbi5zdWJjaGFubmVscy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgc3ViY2hhbm5lbFJlZi5wdXNoKHN1YmNoYW5uZWxSZWZUb01lc3NhZ2UoZWxbMV0ucmVmKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVmOiBjaGFubmVsUmVmVG9NZXNzYWdlKGNoYW5uZWxFbnRyeS5yZWYpLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0YXJnZXQ6IHJlc29sdmVkSW5mby50YXJnZXQsXG4gICAgICAgICAgICBzdGF0ZTogY29ubmVjdGl2aXR5U3RhdGVUb01lc3NhZ2UocmVzb2x2ZWRJbmZvLnN0YXRlKSxcbiAgICAgICAgICAgIGNhbGxzX3N0YXJ0ZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICBjYWxsc19zdWNjZWVkZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgIGNhbGxzX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbGFzdF9jYWxsX3N0YXJ0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIHRyYWNlOiByZXNvbHZlZEluZm8udHJhY2UuZ2V0VHJhY2VNZXNzYWdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5uZWxfcmVmOiBjaGFubmVsUmVmLFxuICAgICAgICBzdWJjaGFubmVsX3JlZjogc3ViY2hhbm5lbFJlZixcbiAgICB9O1xufVxuZnVuY3Rpb24gR2V0Q2hhbm5lbChjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGNoYW5uZWxJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5jaGFubmVsX2lkLCAxMCk7XG4gICAgY29uc3QgY2hhbm5lbEVudHJ5ID0gZW50aXR5TWFwc1tcImNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5jaGFubmVsICovXS5nZXRFbGVtZW50QnlLZXkoY2hhbm5lbElkKTtcbiAgICBpZiAoY2hhbm5lbEVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICAgICAgICAgIGRldGFpbHM6ICdObyBjaGFubmVsIGRhdGEgZm91bmQgZm9yIGlkICcgKyBjaGFubmVsSWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHsgY2hhbm5lbDogZ2V0Q2hhbm5lbE1lc3NhZ2UoY2hhbm5lbEVudHJ5KSB9KTtcbn1cbmZ1bmN0aW9uIEdldFRvcENoYW5uZWxzKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbWF4UmVzdWx0cyA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5tYXhfcmVzdWx0cywgMTApIHx8IERFRkFVTFRfTUFYX1JFU1VMVFM7XG4gICAgY29uc3QgcmVzdWx0TGlzdCA9IFtdO1xuICAgIGNvbnN0IHN0YXJ0SWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc3RhcnRfY2hhbm5lbF9pZCwgMTApO1xuICAgIGNvbnN0IGNoYW5uZWxFbnRyaWVzID0gZW50aXR5TWFwc1tcImNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5jaGFubmVsICovXTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSBjaGFubmVsRW50cmllcy5sb3dlckJvdW5kKHN0YXJ0SWQpOyAhaS5lcXVhbHMoY2hhbm5lbEVudHJpZXMuZW5kKCkpICYmIHJlc3VsdExpc3QubGVuZ3RoIDwgbWF4UmVzdWx0czsgaSA9IGkubmV4dCgpKSB7XG4gICAgICAgIHJlc3VsdExpc3QucHVzaChnZXRDaGFubmVsTWVzc2FnZShpLnBvaW50ZXJbMV0pKTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBjaGFubmVsOiByZXN1bHRMaXN0LFxuICAgICAgICBlbmQ6IGkuZXF1YWxzKGNoYW5uZWxFbnRyaWVzLmVuZCgpKSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFNlcnZlck1lc3NhZ2Uoc2VydmVyRW50cnkpIHtcbiAgICBjb25zdCByZXNvbHZlZEluZm8gPSBzZXJ2ZXJFbnRyeS5nZXRJbmZvKCk7XG4gICAgY29uc3QgbGlzdGVuU29ja2V0ID0gW107XG4gICAgcmVzb2x2ZWRJbmZvLmxpc3RlbmVyQ2hpbGRyZW4uc29ja2V0cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgbGlzdGVuU29ja2V0LnB1c2goc29ja2V0UmVmVG9NZXNzYWdlKGVsWzFdLnJlZikpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZjogc2VydmVyUmVmVG9NZXNzYWdlKHNlcnZlckVudHJ5LnJlZiksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNhbGxzX3N0YXJ0ZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICBjYWxsc19zdWNjZWVkZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgIGNhbGxzX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbGFzdF9jYWxsX3N0YXJ0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIHRyYWNlOiByZXNvbHZlZEluZm8udHJhY2UuZ2V0VHJhY2VNZXNzYWdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Rlbl9zb2NrZXQ6IGxpc3RlblNvY2tldCxcbiAgICB9O1xufVxuZnVuY3Rpb24gR2V0U2VydmVyKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VydmVySWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc2VydmVyX2lkLCAxMCk7XG4gICAgY29uc3Qgc2VydmVyRW50cmllcyA9IGVudGl0eU1hcHNbXCJzZXJ2ZXJcIiAvKiBFbnRpdHlUeXBlcy5zZXJ2ZXIgKi9dO1xuICAgIGNvbnN0IHNlcnZlckVudHJ5ID0gc2VydmVyRW50cmllcy5nZXRFbGVtZW50QnlLZXkoc2VydmVySWQpO1xuICAgIGlmIChzZXJ2ZXJFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgICAgICAgICBkZXRhaWxzOiAnTm8gc2VydmVyIGRhdGEgZm91bmQgZm9yIGlkICcgKyBzZXJ2ZXJJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgeyBzZXJ2ZXI6IGdldFNlcnZlck1lc3NhZ2Uoc2VydmVyRW50cnkpIH0pO1xufVxuZnVuY3Rpb24gR2V0U2VydmVycyhjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG1heFJlc3VsdHMgPSBwYXJzZUludChjYWxsLnJlcXVlc3QubWF4X3Jlc3VsdHMsIDEwKSB8fCBERUZBVUxUX01BWF9SRVNVTFRTO1xuICAgIGNvbnN0IHN0YXJ0SWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc3RhcnRfc2VydmVyX2lkLCAxMCk7XG4gICAgY29uc3Qgc2VydmVyRW50cmllcyA9IGVudGl0eU1hcHNbXCJzZXJ2ZXJcIiAvKiBFbnRpdHlUeXBlcy5zZXJ2ZXIgKi9dO1xuICAgIGNvbnN0IHJlc3VsdExpc3QgPSBbXTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSBzZXJ2ZXJFbnRyaWVzLmxvd2VyQm91bmQoc3RhcnRJZCk7ICFpLmVxdWFscyhzZXJ2ZXJFbnRyaWVzLmVuZCgpKSAmJiByZXN1bHRMaXN0Lmxlbmd0aCA8IG1heFJlc3VsdHM7IGkgPSBpLm5leHQoKSkge1xuICAgICAgICByZXN1bHRMaXN0LnB1c2goZ2V0U2VydmVyTWVzc2FnZShpLnBvaW50ZXJbMV0pKTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBzZXJ2ZXI6IHJlc3VsdExpc3QsXG4gICAgICAgIGVuZDogaS5lcXVhbHMoc2VydmVyRW50cmllcy5lbmQoKSksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBHZXRTdWJjaGFubmVsKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc3ViY2hhbm5lbElkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnN1YmNoYW5uZWxfaWQsIDEwKTtcbiAgICBjb25zdCBzdWJjaGFubmVsRW50cnkgPSBlbnRpdHlNYXBzW1wic3ViY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLnN1YmNoYW5uZWwgKi9dLmdldEVsZW1lbnRCeUtleShzdWJjaGFubmVsSWQpO1xuICAgIGlmIChzdWJjaGFubmVsRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHN1YmNoYW5uZWwgZGF0YSBmb3VuZCBmb3IgaWQgJyArIHN1YmNoYW5uZWxJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gc3ViY2hhbm5lbEVudHJ5LmdldEluZm8oKTtcbiAgICBjb25zdCBsaXN0ZW5Tb2NrZXQgPSBbXTtcbiAgICByZXNvbHZlZEluZm8uY2hpbGRyZW4uc29ja2V0cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgbGlzdGVuU29ja2V0LnB1c2goc29ja2V0UmVmVG9NZXNzYWdlKGVsWzFdLnJlZikpO1xuICAgIH0pO1xuICAgIGNvbnN0IHN1YmNoYW5uZWxNZXNzYWdlID0ge1xuICAgICAgICByZWY6IHN1YmNoYW5uZWxSZWZUb01lc3NhZ2Uoc3ViY2hhbm5lbEVudHJ5LnJlZiksXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRhcmdldDogcmVzb2x2ZWRJbmZvLnRhcmdldCxcbiAgICAgICAgICAgIHN0YXRlOiBjb25uZWN0aXZpdHlTdGF0ZVRvTWVzc2FnZShyZXNvbHZlZEluZm8uc3RhdGUpLFxuICAgICAgICAgICAgY2FsbHNfc3RhcnRlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzU3RhcnRlZCxcbiAgICAgICAgICAgIGNhbGxzX3N1Y2NlZWRlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgY2FsbHNfZmFpbGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNGYWlsZWQsXG4gICAgICAgICAgICBsYXN0X2NhbGxfc3RhcnRlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5sYXN0Q2FsbFN0YXJ0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgdHJhY2U6IHJlc29sdmVkSW5mby50cmFjZS5nZXRUcmFjZU1lc3NhZ2UoKSxcbiAgICAgICAgfSxcbiAgICAgICAgc29ja2V0X3JlZjogbGlzdGVuU29ja2V0LFxuICAgIH07XG4gICAgY2FsbGJhY2sobnVsbCwgeyBzdWJjaGFubmVsOiBzdWJjaGFubmVsTWVzc2FnZSB9KTtcbn1cbmZ1bmN0aW9uIHN1YmNoYW5uZWxBZGRyZXNzVG9BZGRyZXNzTWVzc2FnZShzdWJjaGFubmVsQWRkcmVzcykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKHN1YmNoYW5uZWxBZGRyZXNzKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogJ3RjcGlwX2FkZHJlc3MnLFxuICAgICAgICAgICAgdGNwaXBfYWRkcmVzczoge1xuICAgICAgICAgICAgICAgIGlwX2FkZHJlc3M6IChfYSA9IGlwQWRkcmVzc1N0cmluZ1RvQnVmZmVyKHN1YmNoYW5uZWxBZGRyZXNzLmhvc3QpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcG9ydDogc3ViY2hhbm5lbEFkZHJlc3MucG9ydCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogJ3Vkc19hZGRyZXNzJyxcbiAgICAgICAgICAgIHVkc19hZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHN1YmNoYW5uZWxBZGRyZXNzLnBhdGgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIEdldFNvY2tldChjYWxsLCBjYWxsYmFjaykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3Qgc29ja2V0SWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc29ja2V0X2lkLCAxMCk7XG4gICAgY29uc3Qgc29ja2V0RW50cnkgPSBlbnRpdHlNYXBzW1wic29ja2V0XCIgLyogRW50aXR5VHlwZXMuc29ja2V0ICovXS5nZXRFbGVtZW50QnlLZXkoc29ja2V0SWQpO1xuICAgIGlmIChzb2NrZXRFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgICAgICAgICBkZXRhaWxzOiAnTm8gc29ja2V0IGRhdGEgZm91bmQgZm9yIGlkICcgKyBzb2NrZXRJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gc29ja2V0RW50cnkuZ2V0SW5mbygpO1xuICAgIGNvbnN0IHNlY3VyaXR5TWVzc2FnZSA9IHJlc29sdmVkSW5mby5zZWN1cml0eVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG1vZGVsOiAndGxzJyxcbiAgICAgICAgICAgIHRsczoge1xuICAgICAgICAgICAgICAgIGNpcGhlcl9zdWl0ZTogcmVzb2x2ZWRJbmZvLnNlY3VyaXR5LmNpcGhlclN1aXRlU3RhbmRhcmROYW1lXG4gICAgICAgICAgICAgICAgICAgID8gJ3N0YW5kYXJkX25hbWUnXG4gICAgICAgICAgICAgICAgICAgIDogJ290aGVyX25hbWUnLFxuICAgICAgICAgICAgICAgIHN0YW5kYXJkX25hbWU6IChfYSA9IHJlc29sdmVkSW5mby5zZWN1cml0eS5jaXBoZXJTdWl0ZVN0YW5kYXJkTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG90aGVyX25hbWU6IChfYiA9IHJlc29sdmVkSW5mby5zZWN1cml0eS5jaXBoZXJTdWl0ZU90aGVyTmFtZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGxvY2FsX2NlcnRpZmljYXRlOiAoX2MgPSByZXNvbHZlZEluZm8uc2VjdXJpdHkubG9jYWxDZXJ0aWZpY2F0ZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlbW90ZV9jZXJ0aWZpY2F0ZTogKF9kID0gcmVzb2x2ZWRJbmZvLnNlY3VyaXR5LnJlbW90ZUNlcnRpZmljYXRlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICAgIDogbnVsbDtcbiAgICBjb25zdCBzb2NrZXRNZXNzYWdlID0ge1xuICAgICAgICByZWY6IHNvY2tldFJlZlRvTWVzc2FnZShzb2NrZXRFbnRyeS5yZWYpLFxuICAgICAgICBsb2NhbDogcmVzb2x2ZWRJbmZvLmxvY2FsQWRkcmVzc1xuICAgICAgICAgICAgPyBzdWJjaGFubmVsQWRkcmVzc1RvQWRkcmVzc01lc3NhZ2UocmVzb2x2ZWRJbmZvLmxvY2FsQWRkcmVzcylcbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgcmVtb3RlOiByZXNvbHZlZEluZm8ucmVtb3RlQWRkcmVzc1xuICAgICAgICAgICAgPyBzdWJjaGFubmVsQWRkcmVzc1RvQWRkcmVzc01lc3NhZ2UocmVzb2x2ZWRJbmZvLnJlbW90ZUFkZHJlc3MpXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIHJlbW90ZV9uYW1lOiAoX2UgPSByZXNvbHZlZEluZm8ucmVtb3RlTmFtZSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogdW5kZWZpbmVkLFxuICAgICAgICBzZWN1cml0eTogc2VjdXJpdHlNZXNzYWdlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBrZWVwX2FsaXZlc19zZW50OiByZXNvbHZlZEluZm8ua2VlcEFsaXZlc1NlbnQsXG4gICAgICAgICAgICBzdHJlYW1zX3N0YXJ0ZWQ6IHJlc29sdmVkSW5mby5zdHJlYW1zU3RhcnRlZCxcbiAgICAgICAgICAgIHN0cmVhbXNfc3VjY2VlZGVkOiByZXNvbHZlZEluZm8uc3RyZWFtc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgIHN0cmVhbXNfZmFpbGVkOiByZXNvbHZlZEluZm8uc3RyZWFtc0ZhaWxlZCxcbiAgICAgICAgICAgIGxhc3RfbG9jYWxfc3RyZWFtX2NyZWF0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8ubGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICBsYXN0X3JlbW90ZV9zdHJlYW1fY3JlYXRlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5sYXN0UmVtb3RlU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICBtZXNzYWdlc19yZWNlaXZlZDogcmVzb2x2ZWRJbmZvLm1lc3NhZ2VzUmVjZWl2ZWQsXG4gICAgICAgICAgICBtZXNzYWdlc19zZW50OiByZXNvbHZlZEluZm8ubWVzc2FnZXNTZW50LFxuICAgICAgICAgICAgbGFzdF9tZXNzYWdlX3JlY2VpdmVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgbGFzdF9tZXNzYWdlX3NlbnRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8ubGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wKSxcbiAgICAgICAgICAgIGxvY2FsX2Zsb3dfY29udHJvbF93aW5kb3c6IHJlc29sdmVkSW5mby5sb2NhbEZsb3dDb250cm9sV2luZG93XG4gICAgICAgICAgICAgICAgPyB7IHZhbHVlOiByZXNvbHZlZEluZm8ubG9jYWxGbG93Q29udHJvbFdpbmRvdyB9XG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgcmVtb3RlX2Zsb3dfY29udHJvbF93aW5kb3c6IHJlc29sdmVkSW5mby5yZW1vdGVGbG93Q29udHJvbFdpbmRvd1xuICAgICAgICAgICAgICAgID8geyB2YWx1ZTogcmVzb2x2ZWRJbmZvLnJlbW90ZUZsb3dDb250cm9sV2luZG93IH1cbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBjYWxsYmFjayhudWxsLCB7IHNvY2tldDogc29ja2V0TWVzc2FnZSB9KTtcbn1cbmZ1bmN0aW9uIEdldFNlcnZlclNvY2tldHMoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBzZXJ2ZXJJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zZXJ2ZXJfaWQsIDEwKTtcbiAgICBjb25zdCBzZXJ2ZXJFbnRyeSA9IGVudGl0eU1hcHNbXCJzZXJ2ZXJcIiAvKiBFbnRpdHlUeXBlcy5zZXJ2ZXIgKi9dLmdldEVsZW1lbnRCeUtleShzZXJ2ZXJJZCk7XG4gICAgaWYgKHNlcnZlckVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICAgICAgICAgIGRldGFpbHM6ICdObyBzZXJ2ZXIgZGF0YSBmb3VuZCBmb3IgaWQgJyArIHNlcnZlcklkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdGFydElkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnN0YXJ0X3NvY2tldF9pZCwgMTApO1xuICAgIGNvbnN0IG1heFJlc3VsdHMgPSBwYXJzZUludChjYWxsLnJlcXVlc3QubWF4X3Jlc3VsdHMsIDEwKSB8fCBERUZBVUxUX01BWF9SRVNVTFRTO1xuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IHNlcnZlckVudHJ5LmdldEluZm8oKTtcbiAgICAvLyBJZiB3ZSB3YW50ZWQgdG8gaW5jbHVkZSBsaXN0ZW5lciBzb2NrZXRzIGluIHRoZSByZXN1bHQsIHRoaXMgbGluZSB3b3VsZFxuICAgIC8vIGluc3RlYWQgc2F5XG4gICAgLy8gY29uc3QgYWxsU29ja2V0cyA9IHJlc29sdmVkSW5mby5saXN0ZW5lckNoaWxkcmVuLnNvY2tldHMuY29uY2F0KHJlc29sdmVkSW5mby5zZXNzaW9uQ2hpbGRyZW4uc29ja2V0cykuc29ydCgocmVmMSwgcmVmMikgPT4gcmVmMS5pZCAtIHJlZjIuaWQpO1xuICAgIGNvbnN0IGFsbFNvY2tldHMgPSByZXNvbHZlZEluZm8uc2Vzc2lvbkNoaWxkcmVuLnNvY2tldHM7XG4gICAgY29uc3QgcmVzdWx0TGlzdCA9IFtdO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IGFsbFNvY2tldHMubG93ZXJCb3VuZChzdGFydElkKTsgIWkuZXF1YWxzKGFsbFNvY2tldHMuZW5kKCkpICYmIHJlc3VsdExpc3QubGVuZ3RoIDwgbWF4UmVzdWx0czsgaSA9IGkubmV4dCgpKSB7XG4gICAgICAgIHJlc3VsdExpc3QucHVzaChzb2NrZXRSZWZUb01lc3NhZ2UoaS5wb2ludGVyWzFdLnJlZikpO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIHNvY2tldF9yZWY6IHJlc3VsdExpc3QsXG4gICAgICAgIGVuZDogaS5lcXVhbHMoYWxsU29ja2V0cy5lbmQoKSksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRDaGFubmVsekhhbmRsZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIEdldENoYW5uZWwsXG4gICAgICAgIEdldFRvcENoYW5uZWxzLFxuICAgICAgICBHZXRTZXJ2ZXIsXG4gICAgICAgIEdldFNlcnZlcnMsXG4gICAgICAgIEdldFN1YmNoYW5uZWwsXG4gICAgICAgIEdldFNvY2tldCxcbiAgICAgICAgR2V0U2VydmVyU29ja2V0cyxcbiAgICB9O1xufVxubGV0IGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbiA9IG51bGw7XG5mdW5jdGlvbiBnZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uKCkge1xuICAgIGlmIChsb2FkZWRDaGFubmVsekRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlZENoYW5uZWx6RGVmaW5pdGlvbjtcbiAgICB9XG4gICAgLyogVGhlIHB1cnBvc2Ugb2YgdGhpcyBjb21wbGV4aXR5IGlzIHRvIGF2b2lkIGxvYWRpbmcgQGdycGMvcHJvdG8tbG9hZGVyIGF0XG4gICAgICogcnVudGltZSBmb3IgdXNlcnMgd2hvIHdpbGwgbm90IHVzZS9lbmFibGUgY2hhbm5lbHouICovXG4gICAgY29uc3QgbG9hZGVyTG9hZFN5bmMgPSByZXF1aXJlKCdAZ3JwYy9wcm90by1sb2FkZXInKVxuICAgICAgICAubG9hZFN5bmM7XG4gICAgY29uc3QgbG9hZGVkUHJvdG8gPSBsb2FkZXJMb2FkU3luYygnY2hhbm5lbHoucHJvdG8nLCB7XG4gICAgICAgIGtlZXBDYXNlOiB0cnVlLFxuICAgICAgICBsb25nczogU3RyaW5nLFxuICAgICAgICBlbnVtczogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0czogdHJ1ZSxcbiAgICAgICAgb25lb2ZzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlRGlyczogW2Ake19fZGlybmFtZX0vLi4vLi4vcHJvdG9gXSxcbiAgICB9KTtcbiAgICBjb25zdCBjaGFubmVsekdycGNPYmplY3QgPSAoMCwgbWFrZV9jbGllbnRfMS5sb2FkUGFja2FnZURlZmluaXRpb24pKGxvYWRlZFByb3RvKTtcbiAgICBsb2FkZWRDaGFubmVsekRlZmluaXRpb24gPVxuICAgICAgICBjaGFubmVsekdycGNPYmplY3QuZ3JwYy5jaGFubmVsei52MS5DaGFubmVsei5zZXJ2aWNlO1xuICAgIHJldHVybiBsb2FkZWRDaGFubmVsekRlZmluaXRpb247XG59XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgYWRtaW5fMS5yZWdpc3RlckFkbWluU2VydmljZSkoZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiwgZ2V0Q2hhbm5lbHpIYW5kbGVycyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsei5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.InterceptorConfigurationError = void 0;\nexports.getInterceptingCall = getInterceptingCall;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\");\n/**\n * Error class associated with passing both interceptors and interceptor\n * providers to a client constructor or as call options.\n */\nclass InterceptorConfigurationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'InterceptorConfigurationError';\n        Error.captureStackTrace(this, InterceptorConfigurationError);\n    }\n}\nexports.InterceptorConfigurationError = InterceptorConfigurationError;\nclass ListenerBuilder {\n    constructor() {\n        this.metadata = undefined;\n        this.message = undefined;\n        this.status = undefined;\n    }\n    withOnReceiveMetadata(onReceiveMetadata) {\n        this.metadata = onReceiveMetadata;\n        return this;\n    }\n    withOnReceiveMessage(onReceiveMessage) {\n        this.message = onReceiveMessage;\n        return this;\n    }\n    withOnReceiveStatus(onReceiveStatus) {\n        this.status = onReceiveStatus;\n        return this;\n    }\n    build() {\n        return {\n            onReceiveMetadata: this.metadata,\n            onReceiveMessage: this.message,\n            onReceiveStatus: this.status,\n        };\n    }\n}\nexports.ListenerBuilder = ListenerBuilder;\nclass RequesterBuilder {\n    constructor() {\n        this.start = undefined;\n        this.message = undefined;\n        this.halfClose = undefined;\n        this.cancel = undefined;\n    }\n    withStart(start) {\n        this.start = start;\n        return this;\n    }\n    withSendMessage(sendMessage) {\n        this.message = sendMessage;\n        return this;\n    }\n    withHalfClose(halfClose) {\n        this.halfClose = halfClose;\n        return this;\n    }\n    withCancel(cancel) {\n        this.cancel = cancel;\n        return this;\n    }\n    build() {\n        return {\n            start: this.start,\n            sendMessage: this.message,\n            halfClose: this.halfClose,\n            cancel: this.cancel,\n        };\n    }\n}\nexports.RequesterBuilder = RequesterBuilder;\n/**\n * A Listener with a default pass-through implementation of each method. Used\n * for filling out Listeners with some methods omitted.\n */\nconst defaultListener = {\n    onReceiveMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    onReceiveMessage: (message, next) => {\n        next(message);\n    },\n    onReceiveStatus: (status, next) => {\n        next(status);\n    },\n};\n/**\n * A Requester with a default pass-through implementation of each method. Used\n * for filling out Requesters with some methods omitted.\n */\nconst defaultRequester = {\n    start: (metadata, listener, next) => {\n        next(metadata, listener);\n    },\n    sendMessage: (message, next) => {\n        next(message);\n    },\n    halfClose: next => {\n        next();\n    },\n    cancel: next => {\n        next();\n    },\n};\nclass InterceptingCall {\n    constructor(nextCall, requester) {\n        var _a, _b, _c, _d;\n        this.nextCall = nextCall;\n        /**\n         * Indicates that metadata has been passed to the requester's start\n         * method but it has not been passed to the corresponding next callback\n         */\n        this.processingMetadata = false;\n        /**\n         * Message context for a pending message that is waiting for\n         */\n        this.pendingMessageContext = null;\n        /**\n         * Indicates that a message has been passed to the requester's sendMessage\n         * method but it has not been passed to the corresponding next callback\n         */\n        this.processingMessage = false;\n        /**\n         * Indicates that a status was received but could not be propagated because\n         * a message was still being processed.\n         */\n        this.pendingHalfClose = false;\n        if (requester) {\n            this.requester = {\n                start: (_a = requester.start) !== null && _a !== void 0 ? _a : defaultRequester.start,\n                sendMessage: (_b = requester.sendMessage) !== null && _b !== void 0 ? _b : defaultRequester.sendMessage,\n                halfClose: (_c = requester.halfClose) !== null && _c !== void 0 ? _c : defaultRequester.halfClose,\n                cancel: (_d = requester.cancel) !== null && _d !== void 0 ? _d : defaultRequester.cancel,\n            };\n        }\n        else {\n            this.requester = defaultRequester;\n        }\n    }\n    cancelWithStatus(status, details) {\n        this.requester.cancel(() => {\n            this.nextCall.cancelWithStatus(status, details);\n        });\n    }\n    getPeer() {\n        return this.nextCall.getPeer();\n    }\n    processPendingMessage() {\n        if (this.pendingMessageContext) {\n            this.nextCall.sendMessageWithContext(this.pendingMessageContext, this.pendingMessage);\n            this.pendingMessageContext = null;\n            this.pendingMessage = null;\n        }\n    }\n    processPendingHalfClose() {\n        if (this.pendingHalfClose) {\n            this.nextCall.halfClose();\n        }\n    }\n    start(metadata, interceptingListener) {\n        var _a, _b, _c, _d, _e, _f;\n        const fullInterceptingListener = {\n            onReceiveMetadata: (_b = (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(interceptingListener)) !== null && _b !== void 0 ? _b : (metadata => { }),\n            onReceiveMessage: (_d = (_c = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _c === void 0 ? void 0 : _c.bind(interceptingListener)) !== null && _d !== void 0 ? _d : (message => { }),\n            onReceiveStatus: (_f = (_e = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _e === void 0 ? void 0 : _e.bind(interceptingListener)) !== null && _f !== void 0 ? _f : (status => { }),\n        };\n        this.processingMetadata = true;\n        this.requester.start(metadata, fullInterceptingListener, (md, listener) => {\n            var _a, _b, _c;\n            this.processingMetadata = false;\n            let finalInterceptingListener;\n            if ((0, call_interface_1.isInterceptingListener)(listener)) {\n                finalInterceptingListener = listener;\n            }\n            else {\n                const fullListener = {\n                    onReceiveMetadata: (_a = listener.onReceiveMetadata) !== null && _a !== void 0 ? _a : defaultListener.onReceiveMetadata,\n                    onReceiveMessage: (_b = listener.onReceiveMessage) !== null && _b !== void 0 ? _b : defaultListener.onReceiveMessage,\n                    onReceiveStatus: (_c = listener.onReceiveStatus) !== null && _c !== void 0 ? _c : defaultListener.onReceiveStatus,\n                };\n                finalInterceptingListener = new call_interface_1.InterceptingListenerImpl(fullListener, fullInterceptingListener);\n            }\n            this.nextCall.start(md, finalInterceptingListener);\n            this.processPendingMessage();\n            this.processPendingHalfClose();\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessageWithContext(context, message) {\n        this.processingMessage = true;\n        this.requester.sendMessage(message, finalMessage => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessageContext = context;\n                this.pendingMessage = message;\n            }\n            else {\n                this.nextCall.sendMessageWithContext(context, finalMessage);\n                this.processPendingHalfClose();\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessage(message) {\n        this.sendMessageWithContext({}, message);\n    }\n    startRead() {\n        this.nextCall.startRead();\n    }\n    halfClose() {\n        this.requester.halfClose(() => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingHalfClose = true;\n            }\n            else {\n                this.nextCall.halfClose();\n            }\n        });\n    }\n    getAuthContext() {\n        return this.nextCall.getAuthContext();\n    }\n}\nexports.InterceptingCall = InterceptingCall;\nfunction getCall(channel, path, options) {\n    var _a, _b;\n    const deadline = (_a = options.deadline) !== null && _a !== void 0 ? _a : Infinity;\n    const host = options.host;\n    const parent = (_b = options.parent) !== null && _b !== void 0 ? _b : null;\n    const propagateFlags = options.propagate_flags;\n    const credentials = options.credentials;\n    const call = channel.createCall(path, deadline, host, parent, propagateFlags);\n    if (credentials) {\n        call.setCredentials(credentials);\n    }\n    return call;\n}\n/**\n * InterceptingCall implementation that directly owns the underlying Call\n * object and handles serialization and deseraizliation.\n */\nclass BaseInterceptingCall {\n    constructor(call, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    methodDefinition) {\n        this.call = call;\n        this.methodDefinition = methodDefinition;\n    }\n    cancelWithStatus(status, details) {\n        this.call.cancelWithStatus(status, details);\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessageWithContext(context, message) {\n        let serialized;\n        try {\n            serialized = this.methodDefinition.requestSerialize(message);\n        }\n        catch (e) {\n            this.call.cancelWithStatus(constants_1.Status.INTERNAL, `Request message serialization failure: ${(0, error_1.getErrorMessage)(e)}`);\n            return;\n        }\n        this.call.sendMessageWithContext(context, serialized);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessage(message) {\n        this.sendMessageWithContext({}, message);\n    }\n    start(metadata, interceptingListener) {\n        let readError = null;\n        this.call.start(metadata, {\n            onReceiveMetadata: metadata => {\n                var _a;\n                (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, metadata);\n            },\n            onReceiveMessage: message => {\n                var _a;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                let deserialized;\n                try {\n                    deserialized = this.methodDefinition.responseDeserialize(message);\n                }\n                catch (e) {\n                    readError = {\n                        code: constants_1.Status.INTERNAL,\n                        details: `Response message parsing error: ${(0, error_1.getErrorMessage)(e)}`,\n                        metadata: new metadata_1.Metadata(),\n                    };\n                    this.call.cancelWithStatus(readError.code, readError.details);\n                    return;\n                }\n                (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, deserialized);\n            },\n            onReceiveStatus: status => {\n                var _a, _b;\n                if (readError) {\n                    (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, readError);\n                }\n                else {\n                    (_b = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(interceptingListener, status);\n                }\n            },\n        });\n    }\n    startRead() {\n        this.call.startRead();\n    }\n    halfClose() {\n        this.call.halfClose();\n    }\n    getAuthContext() {\n        return this.call.getAuthContext();\n    }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with unary\n * responses.\n */\nclass BaseUnaryInterceptingCall extends BaseInterceptingCall {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    constructor(call, methodDefinition) {\n        super(call, methodDefinition);\n    }\n    start(metadata, listener) {\n        var _a, _b;\n        let receivedMessage = false;\n        const wrapperListener = {\n            onReceiveMetadata: (_b = (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(listener)) !== null && _b !== void 0 ? _b : (metadata => { }),\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage: (message) => {\n                var _a;\n                receivedMessage = true;\n                (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, message);\n            },\n            onReceiveStatus: (status) => {\n                var _a, _b;\n                if (!receivedMessage) {\n                    (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, null);\n                }\n                (_b = listener === null || listener === void 0 ? void 0 : listener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(listener, status);\n            },\n        };\n        super.start(metadata, wrapperListener);\n        this.call.startRead();\n    }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with streaming\n * responses.\n */\nclass BaseStreamingInterceptingCall extends BaseInterceptingCall {\n}\nfunction getBottomInterceptingCall(channel, options, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition) {\n    const call = getCall(channel, methodDefinition.path, options);\n    if (methodDefinition.responseStream) {\n        return new BaseStreamingInterceptingCall(call, methodDefinition);\n    }\n    else {\n        return new BaseUnaryInterceptingCall(call, methodDefinition);\n    }\n}\nfunction getInterceptingCall(interceptorArgs, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition, options, channel) {\n    if (interceptorArgs.clientInterceptors.length > 0 &&\n        interceptorArgs.clientInterceptorProviders.length > 0) {\n        throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as options ' +\n            'to the client constructor. Only one of these is allowed.');\n    }\n    if (interceptorArgs.callInterceptors.length > 0 &&\n        interceptorArgs.callInterceptorProviders.length > 0) {\n        throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as call ' +\n            'options. Only one of these is allowed.');\n    }\n    let interceptors = [];\n    // Interceptors passed to the call override interceptors passed to the client constructor\n    if (interceptorArgs.callInterceptors.length > 0 ||\n        interceptorArgs.callInterceptorProviders.length > 0) {\n        interceptors = []\n            .concat(interceptorArgs.callInterceptors, interceptorArgs.callInterceptorProviders.map(provider => provider(methodDefinition)))\n            .filter(interceptor => interceptor);\n        // Filter out falsy values when providers return nothing\n    }\n    else {\n        interceptors = []\n            .concat(interceptorArgs.clientInterceptors, interceptorArgs.clientInterceptorProviders.map(provider => provider(methodDefinition)))\n            .filter(interceptor => interceptor);\n        // Filter out falsy values when providers return nothing\n    }\n    const interceptorOptions = Object.assign({}, options, {\n        method_definition: methodDefinition,\n    });\n    /* For each interceptor in the list, the nextCall function passed to it is\n     * based on the next interceptor in the list, using a nextCall function\n     * constructed with the following interceptor in the list, and so on. The\n     * initialValue, which is effectively at the end of the list, is a nextCall\n     * function that invokes getBottomInterceptingCall, the result of which\n     * handles (de)serialization and also gets the underlying call from the\n     * channel. */\n    const getCall = interceptors.reduceRight((nextCall, nextInterceptor) => {\n        return currentOptions => nextInterceptor(currentOptions, nextCall);\n    }, (finalOptions) => getBottomInterceptingCall(channel, finalOptions, methodDefinition));\n    return getCall(interceptorOptions);\n}\n//# sourceMappingURL=client-interceptors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LWludGVyY2VwdG9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLHdCQUF3QixHQUFHLHVCQUF1QixHQUFHLHFDQUFxQztBQUNySCwyQkFBMkI7QUFDM0IsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMseUJBQXlCLG1CQUFPLENBQUMsZ0hBQWtCO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLDhGQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9SQUFvUjtBQUNwUixpUkFBaVI7QUFDalIsOFFBQThRO0FBQzlRO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEcsZ0NBQWdDO0FBQzlJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxnQ0FBZ0M7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9PQUFvTztBQUNwTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LWludGVyY2VwdG9ycy5qcz84NTY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVyY2VwdGluZ0NhbGwgPSBleHBvcnRzLlJlcXVlc3RlckJ1aWxkZXIgPSBleHBvcnRzLkxpc3RlbmVyQnVpbGRlciA9IGV4cG9ydHMuSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IgPSB2b2lkIDA7XG5leHBvcnRzLmdldEludGVyY2VwdGluZ0NhbGwgPSBnZXRJbnRlcmNlcHRpbmdDYWxsO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgY2FsbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2NhbGwtaW50ZXJmYWNlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG4vKipcbiAqIEVycm9yIGNsYXNzIGFzc29jaWF0ZWQgd2l0aCBwYXNzaW5nIGJvdGggaW50ZXJjZXB0b3JzIGFuZCBpbnRlcmNlcHRvclxuICogcHJvdmlkZXJzIHRvIGEgY2xpZW50IGNvbnN0cnVjdG9yIG9yIGFzIGNhbGwgb3B0aW9ucy5cbiAqL1xuY2xhc3MgSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0ludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yJztcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IpO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IgPSBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcjtcbmNsYXNzIExpc3RlbmVyQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVNZXRhZGF0YShvblJlY2VpdmVNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb25SZWNlaXZlTWV0YWRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlTWVzc2FnZShvblJlY2VpdmVNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9uUmVjZWl2ZU1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlU3RhdHVzKG9uUmVjZWl2ZVN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IG9uUmVjZWl2ZVN0YXR1cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJ1aWxkKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IHRoaXMubWV0YWRhdGEsXG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuTGlzdGVuZXJCdWlsZGVyID0gTGlzdGVuZXJCdWlsZGVyO1xuY2xhc3MgUmVxdWVzdGVyQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oYWxmQ2xvc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2FuY2VsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB3aXRoU3RhcnQoc3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aFNlbmRNZXNzYWdlKHNlbmRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aEhhbGZDbG9zZShoYWxmQ2xvc2UpIHtcbiAgICAgICAgdGhpcy5oYWxmQ2xvc2UgPSBoYWxmQ2xvc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoQ2FuY2VsKGNhbmNlbCkge1xuICAgICAgICB0aGlzLmNhbmNlbCA9IGNhbmNlbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJ1aWxkKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgaGFsZkNsb3NlOiB0aGlzLmhhbGZDbG9zZSxcbiAgICAgICAgICAgIGNhbmNlbDogdGhpcy5jYW5jZWwsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1ZXN0ZXJCdWlsZGVyID0gUmVxdWVzdGVyQnVpbGRlcjtcbi8qKlxuICogQSBMaXN0ZW5lciB3aXRoIGEgZGVmYXVsdCBwYXNzLXRocm91Z2ggaW1wbGVtZW50YXRpb24gb2YgZWFjaCBtZXRob2QuIFVzZWRcbiAqIGZvciBmaWxsaW5nIG91dCBMaXN0ZW5lcnMgd2l0aCBzb21lIG1ldGhvZHMgb21pdHRlZC5cbiAqL1xuY29uc3QgZGVmYXVsdExpc3RlbmVyID0ge1xuICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiAobWV0YWRhdGEsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChtZXRhZGF0YSk7XG4gICAgfSxcbiAgICBvblJlY2VpdmVNZXNzYWdlOiAobWVzc2FnZSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1lc3NhZ2UpO1xuICAgIH0sXG4gICAgb25SZWNlaXZlU3RhdHVzOiAoc3RhdHVzLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQoc3RhdHVzKTtcbiAgICB9LFxufTtcbi8qKlxuICogQSBSZXF1ZXN0ZXIgd2l0aCBhIGRlZmF1bHQgcGFzcy10aHJvdWdoIGltcGxlbWVudGF0aW9uIG9mIGVhY2ggbWV0aG9kLiBVc2VkXG4gKiBmb3IgZmlsbGluZyBvdXQgUmVxdWVzdGVycyB3aXRoIHNvbWUgbWV0aG9kcyBvbWl0dGVkLlxuICovXG5jb25zdCBkZWZhdWx0UmVxdWVzdGVyID0ge1xuICAgIHN0YXJ0OiAobWV0YWRhdGEsIGxpc3RlbmVyLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWV0YWRhdGEsIGxpc3RlbmVyKTtcbiAgICB9LFxuICAgIHNlbmRNZXNzYWdlOiAobWVzc2FnZSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1lc3NhZ2UpO1xuICAgIH0sXG4gICAgaGFsZkNsb3NlOiBuZXh0ID0+IHtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0sXG4gICAgY2FuY2VsOiBuZXh0ID0+IHtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0sXG59O1xuY2xhc3MgSW50ZXJjZXB0aW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3IobmV4dENhbGwsIHJlcXVlc3Rlcikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHRoaXMubmV4dENhbGwgPSBuZXh0Q2FsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IG1ldGFkYXRhIGhhcyBiZWVuIHBhc3NlZCB0byB0aGUgcmVxdWVzdGVyJ3Mgc3RhcnRcbiAgICAgICAgICogbWV0aG9kIGJ1dCBpdCBoYXMgbm90IGJlZW4gcGFzc2VkIHRvIHRoZSBjb3JyZXNwb25kaW5nIG5leHQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNZXNzYWdlIGNvbnRleHQgZm9yIGEgcGVuZGluZyBtZXNzYWdlIHRoYXQgaXMgd2FpdGluZyBmb3JcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IGEgbWVzc2FnZSBoYXMgYmVlbiBwYXNzZWQgdG8gdGhlIHJlcXVlc3RlcidzIHNlbmRNZXNzYWdlXG4gICAgICAgICAqIG1ldGhvZCBidXQgaXQgaGFzIG5vdCBiZWVuIHBhc3NlZCB0byB0aGUgY29ycmVzcG9uZGluZyBuZXh0IGNhbGxiYWNrXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCBhIHN0YXR1cyB3YXMgcmVjZWl2ZWQgYnV0IGNvdWxkIG5vdCBiZSBwcm9wYWdhdGVkIGJlY2F1c2VcbiAgICAgICAgICogYSBtZXNzYWdlIHdhcyBzdGlsbCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHJlcXVlc3Rlcikge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZXIgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IChfYSA9IHJlcXVlc3Rlci5zdGFydCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdFJlcXVlc3Rlci5zdGFydCxcbiAgICAgICAgICAgICAgICBzZW5kTWVzc2FnZTogKF9iID0gcmVxdWVzdGVyLnNlbmRNZXNzYWdlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0UmVxdWVzdGVyLnNlbmRNZXNzYWdlLFxuICAgICAgICAgICAgICAgIGhhbGZDbG9zZTogKF9jID0gcmVxdWVzdGVyLmhhbGZDbG9zZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdFJlcXVlc3Rlci5oYWxmQ2xvc2UsXG4gICAgICAgICAgICAgICAgY2FuY2VsOiAoX2QgPSByZXF1ZXN0ZXIuY2FuY2VsKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0UmVxdWVzdGVyLmNhbmNlbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RlciA9IGRlZmF1bHRSZXF1ZXN0ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuY2FuY2VsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ01lc3NhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdNZXNzYWdlQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0LCB0aGlzLnBlbmRpbmdNZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nSGFsZkNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nSGFsZkNsb3NlKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBpbnRlcmNlcHRpbmdMaXN0ZW5lcikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgY29uc3QgZnVsbEludGVyY2VwdGluZ0xpc3RlbmVyID0ge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IChfYiA9IChfYSA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQoaW50ZXJjZXB0aW5nTGlzdGVuZXIpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAobWV0YWRhdGEgPT4geyB9KSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChfZCA9IChfYyA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYmluZChpbnRlcmNlcHRpbmdMaXN0ZW5lcikpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChtZXNzYWdlID0+IHsgfSksXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IChfZiA9IChfZSA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5iaW5kKGludGVyY2VwdGluZ0xpc3RlbmVyKSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogKHN0YXR1cyA9PiB7IH0pLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMucmVxdWVzdGVyLnN0YXJ0KG1ldGFkYXRhLCBmdWxsSW50ZXJjZXB0aW5nTGlzdGVuZXIsIChtZCwgbGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyO1xuICAgICAgICAgICAgaWYgKCgwLCBjYWxsX2ludGVyZmFjZV8xLmlzSW50ZXJjZXB0aW5nTGlzdGVuZXIpKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIGZpbmFsSW50ZXJjZXB0aW5nTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IChfYSA9IGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0TGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChfYiA9IGxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRMaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IChfYyA9IGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdExpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZpbmFsSW50ZXJjZXB0aW5nTGlzdGVuZXIgPSBuZXcgY2FsbF9pbnRlcmZhY2VfMS5JbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwoZnVsbExpc3RlbmVyLCBmdWxsSW50ZXJjZXB0aW5nTGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zdGFydChtZCwgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgIHRoaXMucmVxdWVzdGVyLnNlbmRNZXNzYWdlKG1lc3NhZ2UsIGZpbmFsTWVzc2FnZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgZmluYWxNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nSGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHt9LCBtZXNzYWdlKTtcbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLm5leHRDYWxsLnN0YXJ0UmVhZCgpO1xuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdGVyLmhhbGZDbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgfHwgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRDYWxsLmdldEF1dGhDb250ZXh0KCk7XG4gICAgfVxufVxuZXhwb3J0cy5JbnRlcmNlcHRpbmdDYWxsID0gSW50ZXJjZXB0aW5nQ2FsbDtcbmZ1bmN0aW9uIGdldENhbGwoY2hhbm5lbCwgcGF0aCwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgZGVhZGxpbmUgPSAoX2EgPSBvcHRpb25zLmRlYWRsaW5lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBJbmZpbml0eTtcbiAgICBjb25zdCBob3N0ID0gb3B0aW9ucy5ob3N0O1xuICAgIGNvbnN0IHBhcmVudCA9IChfYiA9IG9wdGlvbnMucGFyZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIGNvbnN0IHByb3BhZ2F0ZUZsYWdzID0gb3B0aW9ucy5wcm9wYWdhdGVfZmxhZ3M7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzO1xuICAgIGNvbnN0IGNhbGwgPSBjaGFubmVsLmNyZWF0ZUNhbGwocGF0aCwgZGVhZGxpbmUsIGhvc3QsIHBhcmVudCwgcHJvcGFnYXRlRmxhZ3MpO1xuICAgIGlmIChjcmVkZW50aWFscykge1xuICAgICAgICBjYWxsLnNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGw7XG59XG4vKipcbiAqIEludGVyY2VwdGluZ0NhbGwgaW1wbGVtZW50YXRpb24gdGhhdCBkaXJlY3RseSBvd25zIHRoZSB1bmRlcmx5aW5nIENhbGxcbiAqIG9iamVjdCBhbmQgaGFuZGxlcyBzZXJpYWxpemF0aW9uIGFuZCBkZXNlcmFpemxpYXRpb24uXG4gKi9cbmNsYXNzIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsLCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIG1ldGhvZERlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRob2REZWZpbml0aW9uID0gbWV0aG9kRGVmaW5pdGlvbjtcbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5jYWxsLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIGxldCBzZXJpYWxpemVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2VyaWFsaXplZCA9IHRoaXMubWV0aG9kRGVmaW5pdGlvbi5yZXF1ZXN0U2VyaWFsaXplKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsIGBSZXF1ZXN0IG1lc3NhZ2Ugc2VyaWFsaXphdGlvbiBmYWlsdXJlOiAkeygwLCBlcnJvcl8xLmdldEVycm9yTWVzc2FnZSkoZSl9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgc2VyaWFsaXplZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe30sIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgaW50ZXJjZXB0aW5nTGlzdGVuZXIpIHtcbiAgICAgICAgbGV0IHJlYWRFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydChtZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChpbnRlcmNlcHRpbmdMaXN0ZW5lciwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIGxldCBkZXNlcmlhbGl6ZWQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemVkID0gdGhpcy5tZXRob2REZWZpbml0aW9uLnJlc3BvbnNlRGVzZXJpYWxpemUobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRFcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZXNwb25zZSBtZXNzYWdlIHBhcnNpbmcgZXJyb3I6ICR7KDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbC5jYW5jZWxXaXRoU3RhdHVzKHJlYWRFcnJvci5jb2RlLCByZWFkRXJyb3IuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGludGVyY2VwdGluZ0xpc3RlbmVyLCBkZXNlcmlhbGl6ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogc3RhdHVzID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaW50ZXJjZXB0aW5nTGlzdGVuZXIsIHJlYWRFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChpbnRlcmNlcHRpbmdMaXN0ZW5lciwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jYWxsLmhhbGZDbG9zZSgpO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZUludGVyY2VwdGluZ0NhbGwgd2l0aCBzcGVjaWFsLWNhc2VkIGJlaGF2aW9yIGZvciBtZXRob2RzIHdpdGggdW5hcnlcbiAqIHJlc3BvbnNlcy5cbiAqL1xuY2xhc3MgQmFzZVVuYXJ5SW50ZXJjZXB0aW5nQ2FsbCBleHRlbmRzIEJhc2VJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0cnVjdG9yKGNhbGwsIG1ldGhvZERlZmluaXRpb24pIHtcbiAgICAgICAgc3VwZXIoY2FsbCwgbWV0aG9kRGVmaW5pdGlvbik7XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgcmVjZWl2ZWRNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiAoX2IgPSAoX2EgPSBsaXN0ZW5lciA9PT0gbnVsbCB8fCBsaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKGxpc3RlbmVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKG1ldGFkYXRhID0+IHsgfSksXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoX2EgPSBsaXN0ZW5lciA9PT0gbnVsbCB8fCBsaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwobGlzdGVuZXIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWNlaXZlZE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGxpc3RlbmVyLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwobGlzdGVuZXIsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBzdXBlci5zdGFydChtZXRhZGF0YSwgd3JhcHBlckxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5jYWxsLnN0YXJ0UmVhZCgpO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZUludGVyY2VwdGluZ0NhbGwgd2l0aCBzcGVjaWFsLWNhc2VkIGJlaGF2aW9yIGZvciBtZXRob2RzIHdpdGggc3RyZWFtaW5nXG4gKiByZXNwb25zZXMuXG4gKi9cbmNsYXNzIEJhc2VTdHJlYW1pbmdJbnRlcmNlcHRpbmdDYWxsIGV4dGVuZHMgQmFzZUludGVyY2VwdGluZ0NhbGwge1xufVxuZnVuY3Rpb24gZ2V0Qm90dG9tSW50ZXJjZXB0aW5nQ2FsbChjaGFubmVsLCBvcHRpb25zLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5tZXRob2REZWZpbml0aW9uKSB7XG4gICAgY29uc3QgY2FsbCA9IGdldENhbGwoY2hhbm5lbCwgbWV0aG9kRGVmaW5pdGlvbi5wYXRoLCBvcHRpb25zKTtcbiAgICBpZiAobWV0aG9kRGVmaW5pdGlvbi5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VTdHJlYW1pbmdJbnRlcmNlcHRpbmdDYWxsKGNhbGwsIG1ldGhvZERlZmluaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlVW5hcnlJbnRlcmNlcHRpbmdDYWxsKGNhbGwsIG1ldGhvZERlZmluaXRpb24pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEludGVyY2VwdGluZ0NhbGwoaW50ZXJjZXB0b3JBcmdzLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5tZXRob2REZWZpbml0aW9uLCBvcHRpb25zLCBjaGFubmVsKSB7XG4gICAgaWYgKGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICBpbnRlcmNlcHRvckFyZ3MuY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IoJ0JvdGggaW50ZXJjZXB0b3JzIGFuZCBpbnRlcmNlcHRvcl9wcm92aWRlcnMgd2VyZSBwYXNzZWQgYXMgb3B0aW9ucyAnICtcbiAgICAgICAgICAgICd0byB0aGUgY2xpZW50IGNvbnN0cnVjdG9yLiBPbmx5IG9uZSBvZiB0aGVzZSBpcyBhbGxvd2VkLicpO1xuICAgIH1cbiAgICBpZiAoaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICBpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yKCdCb3RoIGludGVyY2VwdG9ycyBhbmQgaW50ZXJjZXB0b3JfcHJvdmlkZXJzIHdlcmUgcGFzc2VkIGFzIGNhbGwgJyArXG4gICAgICAgICAgICAnb3B0aW9ucy4gT25seSBvbmUgb2YgdGhlc2UgaXMgYWxsb3dlZC4nKTtcbiAgICB9XG4gICAgbGV0IGludGVyY2VwdG9ycyA9IFtdO1xuICAgIC8vIEludGVyY2VwdG9ycyBwYXNzZWQgdG8gdGhlIGNhbGwgb3ZlcnJpZGUgaW50ZXJjZXB0b3JzIHBhc3NlZCB0byB0aGUgY2xpZW50IGNvbnN0cnVjdG9yXG4gICAgaWYgKGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvclByb3ZpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGludGVyY2VwdG9ycyA9IFtdXG4gICAgICAgICAgICAuY29uY2F0KGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JzLCBpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiBwcm92aWRlcihtZXRob2REZWZpbml0aW9uKSkpXG4gICAgICAgICAgICAuZmlsdGVyKGludGVyY2VwdG9yID0+IGludGVyY2VwdG9yKTtcbiAgICAgICAgLy8gRmlsdGVyIG91dCBmYWxzeSB2YWx1ZXMgd2hlbiBwcm92aWRlcnMgcmV0dXJuIG5vdGhpbmdcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGludGVyY2VwdG9ycyA9IFtdXG4gICAgICAgICAgICAuY29uY2F0KGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvcnMsIGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvclByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4gcHJvdmlkZXIobWV0aG9kRGVmaW5pdGlvbikpKVxuICAgICAgICAgICAgLmZpbHRlcihpbnRlcmNlcHRvciA9PiBpbnRlcmNlcHRvcik7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgZmFsc3kgdmFsdWVzIHdoZW4gcHJvdmlkZXJzIHJldHVybiBub3RoaW5nXG4gICAgfVxuICAgIGNvbnN0IGludGVyY2VwdG9yT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgbWV0aG9kX2RlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgfSk7XG4gICAgLyogRm9yIGVhY2ggaW50ZXJjZXB0b3IgaW4gdGhlIGxpc3QsIHRoZSBuZXh0Q2FsbCBmdW5jdGlvbiBwYXNzZWQgdG8gaXQgaXNcbiAgICAgKiBiYXNlZCBvbiB0aGUgbmV4dCBpbnRlcmNlcHRvciBpbiB0aGUgbGlzdCwgdXNpbmcgYSBuZXh0Q2FsbCBmdW5jdGlvblxuICAgICAqIGNvbnN0cnVjdGVkIHdpdGggdGhlIGZvbGxvd2luZyBpbnRlcmNlcHRvciBpbiB0aGUgbGlzdCwgYW5kIHNvIG9uLiBUaGVcbiAgICAgKiBpbml0aWFsVmFsdWUsIHdoaWNoIGlzIGVmZmVjdGl2ZWx5IGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QsIGlzIGEgbmV4dENhbGxcbiAgICAgKiBmdW5jdGlvbiB0aGF0IGludm9rZXMgZ2V0Qm90dG9tSW50ZXJjZXB0aW5nQ2FsbCwgdGhlIHJlc3VsdCBvZiB3aGljaFxuICAgICAqIGhhbmRsZXMgKGRlKXNlcmlhbGl6YXRpb24gYW5kIGFsc28gZ2V0cyB0aGUgdW5kZXJseWluZyBjYWxsIGZyb20gdGhlXG4gICAgICogY2hhbm5lbC4gKi9cbiAgICBjb25zdCBnZXRDYWxsID0gaW50ZXJjZXB0b3JzLnJlZHVjZVJpZ2h0KChuZXh0Q2FsbCwgbmV4dEludGVyY2VwdG9yKSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyZW50T3B0aW9ucyA9PiBuZXh0SW50ZXJjZXB0b3IoY3VycmVudE9wdGlvbnMsIG5leHRDYWxsKTtcbiAgICB9LCAoZmluYWxPcHRpb25zKSA9PiBnZXRCb3R0b21JbnRlcmNlcHRpbmdDYWxsKGNoYW5uZWwsIGZpbmFsT3B0aW9ucywgbWV0aG9kRGVmaW5pdGlvbikpO1xuICAgIHJldHVybiBnZXRDYWxsKGludGVyY2VwdG9yT3B0aW9ucyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQtaW50ZXJjZXB0b3JzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Client = void 0;\nconst call_1 = __webpack_require__(/*! ./call */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js\");\nconst channel_1 = __webpack_require__(/*! ./channel */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst client_interceptors_1 = __webpack_require__(/*! ./client-interceptors */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js\");\nconst CHANNEL_SYMBOL = Symbol();\nconst INTERCEPTOR_SYMBOL = Symbol();\nconst INTERCEPTOR_PROVIDER_SYMBOL = Symbol();\nconst CALL_INVOCATION_TRANSFORMER_SYMBOL = Symbol();\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\nfunction getErrorStackString(error) {\n    var _a;\n    return ((_a = error.stack) === null || _a === void 0 ? void 0 : _a.split('\\n').slice(1).join('\\n')) || 'no stack trace available';\n}\n/**\n * A generic gRPC client. Primarily useful as a base class for all generated\n * clients.\n */\nclass Client {\n    constructor(address, credentials, options = {}) {\n        var _a, _b;\n        options = Object.assign({}, options);\n        this[INTERCEPTOR_SYMBOL] = (_a = options.interceptors) !== null && _a !== void 0 ? _a : [];\n        delete options.interceptors;\n        this[INTERCEPTOR_PROVIDER_SYMBOL] = (_b = options.interceptor_providers) !== null && _b !== void 0 ? _b : [];\n        delete options.interceptor_providers;\n        if (this[INTERCEPTOR_SYMBOL].length > 0 &&\n            this[INTERCEPTOR_PROVIDER_SYMBOL].length > 0) {\n            throw new Error('Both interceptors and interceptor_providers were passed as options ' +\n                'to the client constructor. Only one of these is allowed.');\n        }\n        this[CALL_INVOCATION_TRANSFORMER_SYMBOL] =\n            options.callInvocationTransformer;\n        delete options.callInvocationTransformer;\n        if (options.channelOverride) {\n            this[CHANNEL_SYMBOL] = options.channelOverride;\n        }\n        else if (options.channelFactoryOverride) {\n            const channelFactoryOverride = options.channelFactoryOverride;\n            delete options.channelFactoryOverride;\n            this[CHANNEL_SYMBOL] = channelFactoryOverride(address, credentials, options);\n        }\n        else {\n            this[CHANNEL_SYMBOL] = new channel_1.ChannelImplementation(address, credentials, options);\n        }\n    }\n    close() {\n        this[CHANNEL_SYMBOL].close();\n    }\n    getChannel() {\n        return this[CHANNEL_SYMBOL];\n    }\n    waitForReady(deadline, callback) {\n        const checkState = (err) => {\n            if (err) {\n                callback(new Error('Failed to connect before the deadline'));\n                return;\n            }\n            let newState;\n            try {\n                newState = this[CHANNEL_SYMBOL].getConnectivityState(true);\n            }\n            catch (e) {\n                callback(new Error('The channel has been closed'));\n                return;\n            }\n            if (newState === connectivity_state_1.ConnectivityState.READY) {\n                callback();\n            }\n            else {\n                try {\n                    this[CHANNEL_SYMBOL].watchConnectivityState(newState, deadline, checkState);\n                }\n                catch (e) {\n                    callback(new Error('The channel has been closed'));\n                }\n            }\n        };\n        setImmediate(checkState);\n    }\n    checkOptionalUnaryResponseArguments(arg1, arg2, arg3) {\n        if (isFunction(arg1)) {\n            return { metadata: new metadata_1.Metadata(), options: {}, callback: arg1 };\n        }\n        else if (isFunction(arg2)) {\n            if (arg1 instanceof metadata_1.Metadata) {\n                return { metadata: arg1, options: {}, callback: arg2 };\n            }\n            else {\n                return { metadata: new metadata_1.Metadata(), options: arg1, callback: arg2 };\n            }\n        }\n        else {\n            if (!(arg1 instanceof metadata_1.Metadata &&\n                arg2 instanceof Object &&\n                isFunction(arg3))) {\n                throw new Error('Incorrect arguments passed');\n            }\n            return { metadata: arg1, options: arg2, callback: arg3 };\n        }\n    }\n    makeUnaryRequest(method, serialize, deserialize, argument, metadata, options, callback) {\n        var _a, _b;\n        const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n        const methodDefinition = {\n            path: method,\n            requestStream: false,\n            responseStream: false,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            argument: argument,\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientUnaryCallImpl(),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n            callback: checkedArguments.callback,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const emitter = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        emitter.call = call;\n        let responseMessage = null;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata: metadata => {\n                emitter.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                if (responseMessage !== null) {\n                    call.cancelWithStatus(constants_1.Status.UNIMPLEMENTED, 'Too many responses received');\n                }\n                responseMessage = message;\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                if (status.code === constants_1.Status.OK) {\n                    if (responseMessage === null) {\n                        const callerStack = getErrorStackString(callerStackError);\n                        callProperties.callback((0, call_1.callErrorFromStatus)({\n                            code: constants_1.Status.UNIMPLEMENTED,\n                            details: 'No message received',\n                            metadata: status.metadata,\n                        }, callerStack));\n                    }\n                    else {\n                        callProperties.callback(null, responseMessage);\n                    }\n                }\n                else {\n                    const callerStack = getErrorStackString(callerStackError);\n                    callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                emitter.emit('status', status);\n            },\n        });\n        call.sendMessage(argument);\n        call.halfClose();\n        return emitter;\n    }\n    makeClientStreamRequest(method, serialize, deserialize, metadata, options, callback) {\n        var _a, _b;\n        const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n        const methodDefinition = {\n            path: method,\n            requestStream: true,\n            responseStream: false,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientWritableStreamImpl(serialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n            callback: checkedArguments.callback,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const emitter = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        emitter.call = call;\n        let responseMessage = null;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata: metadata => {\n                emitter.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                if (responseMessage !== null) {\n                    call.cancelWithStatus(constants_1.Status.UNIMPLEMENTED, 'Too many responses received');\n                }\n                responseMessage = message;\n                call.startRead();\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                if (status.code === constants_1.Status.OK) {\n                    if (responseMessage === null) {\n                        const callerStack = getErrorStackString(callerStackError);\n                        callProperties.callback((0, call_1.callErrorFromStatus)({\n                            code: constants_1.Status.UNIMPLEMENTED,\n                            details: 'No message received',\n                            metadata: status.metadata,\n                        }, callerStack));\n                    }\n                    else {\n                        callProperties.callback(null, responseMessage);\n                    }\n                }\n                else {\n                    const callerStack = getErrorStackString(callerStackError);\n                    callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                emitter.emit('status', status);\n            },\n        });\n        return emitter;\n    }\n    checkMetadataAndOptions(arg1, arg2) {\n        let metadata;\n        let options;\n        if (arg1 instanceof metadata_1.Metadata) {\n            metadata = arg1;\n            if (arg2) {\n                options = arg2;\n            }\n            else {\n                options = {};\n            }\n        }\n        else {\n            if (arg1) {\n                options = arg1;\n            }\n            else {\n                options = {};\n            }\n            metadata = new metadata_1.Metadata();\n        }\n        return { metadata, options };\n    }\n    makeServerStreamRequest(method, serialize, deserialize, argument, metadata, options) {\n        var _a, _b;\n        const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n        const methodDefinition = {\n            path: method,\n            requestStream: false,\n            responseStream: true,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            argument: argument,\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientReadableStreamImpl(deserialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const stream = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        stream.call = call;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata(metadata) {\n                stream.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                stream.push(message);\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                stream.push(null);\n                if (status.code !== constants_1.Status.OK) {\n                    const callerStack = getErrorStackString(callerStackError);\n                    stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                stream.emit('status', status);\n            },\n        });\n        call.sendMessage(argument);\n        call.halfClose();\n        return stream;\n    }\n    makeBidiStreamRequest(method, serialize, deserialize, metadata, options) {\n        var _a, _b;\n        const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n        const methodDefinition = {\n            path: method,\n            requestStream: true,\n            responseStream: true,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientDuplexStreamImpl(serialize, deserialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const stream = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        stream.call = call;\n        let receivedStatus = false;\n        let callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata(metadata) {\n                stream.emit('metadata', metadata);\n            },\n            onReceiveMessage(message) {\n                stream.push(message);\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                stream.push(null);\n                if (status.code !== constants_1.Status.OK) {\n                    const callerStack = getErrorStackString(callerStackError);\n                    stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                /* Avoid retaining the callerStackError object in the call context of\n                 * the status event handler. */\n                callerStackError = null;\n                stream.emit('status', status);\n            },\n        });\n        return stream;\n    }\n}\nexports.Client = Client;\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGVBQWUsbUJBQU8sQ0FBQyw0RkFBUTtBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNyQyw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0Qsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsOEJBQThCLG1CQUFPLENBQUMsMEhBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnREFBZ0Q7QUFDckU7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQjtBQUNwRDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jbGllbnQuanM/ZjNhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGllbnQgPSB2b2lkIDA7XG5jb25zdCBjYWxsXzEgPSByZXF1aXJlKFwiLi9jYWxsXCIpO1xuY29uc3QgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vY2hhbm5lbFwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjbGllbnRfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9jbGllbnQtaW50ZXJjZXB0b3JzXCIpO1xuY29uc3QgQ0hBTk5FTF9TWU1CT0wgPSBTeW1ib2woKTtcbmNvbnN0IElOVEVSQ0VQVE9SX1NZTUJPTCA9IFN5bWJvbCgpO1xuY29uc3QgSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MID0gU3ltYm9sKCk7XG5jb25zdCBDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MID0gU3ltYm9sKCk7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JTdGFja1N0cmluZyhlcnJvcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGVycm9yLnN0YWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3BsaXQoJ1xcbicpLnNsaWNlKDEpLmpvaW4oJ1xcbicpKSB8fCAnbm8gc3RhY2sgdHJhY2UgYXZhaWxhYmxlJztcbn1cbi8qKlxuICogQSBnZW5lcmljIGdSUEMgY2xpZW50LiBQcmltYXJpbHkgdXNlZnVsIGFzIGEgYmFzZSBjbGFzcyBmb3IgYWxsIGdlbmVyYXRlZFxuICogY2xpZW50cy5cbiAqL1xuY2xhc3MgQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBjcmVkZW50aWFscywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdID0gKF9hID0gb3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5pbnRlcmNlcHRvcnM7XG4gICAgICAgIHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSA9IChfYiA9IG9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzO1xuICAgICAgICBpZiAodGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggaW50ZXJjZXB0b3JzIGFuZCBpbnRlcmNlcHRvcl9wcm92aWRlcnMgd2VyZSBwYXNzZWQgYXMgb3B0aW9ucyAnICtcbiAgICAgICAgICAgICAgICAndG8gdGhlIGNsaWVudCBjb25zdHJ1Y3Rvci4gT25seSBvbmUgb2YgdGhlc2UgaXMgYWxsb3dlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdID1cbiAgICAgICAgICAgIG9wdGlvbnMuY2FsbEludm9jYXRpb25UcmFuc2Zvcm1lcjtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuY2FsbEludm9jYXRpb25UcmFuc2Zvcm1lcjtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhbm5lbE92ZXJyaWRlKSB7XG4gICAgICAgICAgICB0aGlzW0NIQU5ORUxfU1lNQk9MXSA9IG9wdGlvbnMuY2hhbm5lbE92ZXJyaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuY2hhbm5lbEZhY3RvcnlPdmVycmlkZSkge1xuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEZhY3RvcnlPdmVycmlkZSA9IG9wdGlvbnMuY2hhbm5lbEZhY3RvcnlPdmVycmlkZTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmNoYW5uZWxGYWN0b3J5T3ZlcnJpZGU7XG4gICAgICAgICAgICB0aGlzW0NIQU5ORUxfU1lNQk9MXSA9IGNoYW5uZWxGYWN0b3J5T3ZlcnJpZGUoYWRkcmVzcywgY3JlZGVudGlhbHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0gPSBuZXcgY2hhbm5lbF8xLkNoYW5uZWxJbXBsZW1lbnRhdGlvbihhZGRyZXNzLCBjcmVkZW50aWFscywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdLmNsb3NlKCk7XG4gICAgfVxuICAgIGdldENoYW5uZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0NIQU5ORUxfU1lNQk9MXTtcbiAgICB9XG4gICAgd2FpdEZvclJlYWR5KGRlYWRsaW5lLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjaGVja1N0YXRlID0gKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgYmVmb3JlIHRoZSBkZWFkbGluZScpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmV3U3RhdGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gdGhpc1tDSEFOTkVMX1NZTUJPTF0uZ2V0Q29ubmVjdGl2aXR5U3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignVGhlIGNoYW5uZWwgaGFzIGJlZW4gY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0ud2F0Y2hDb25uZWN0aXZpdHlTdGF0ZShuZXdTdGF0ZSwgZGVhZGxpbmUsIGNoZWNrU3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1RoZSBjaGFubmVsIGhhcyBiZWVuIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldEltbWVkaWF0ZShjaGVja1N0YXRlKTtcbiAgICB9XG4gICAgY2hlY2tPcHRpb25hbFVuYXJ5UmVzcG9uc2VBcmd1bWVudHMoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihhcmcxKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksIG9wdGlvbnM6IHt9LCBjYWxsYmFjazogYXJnMSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oYXJnMikpIHtcbiAgICAgICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgbWV0YWRhdGFfMS5NZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1ldGFkYXRhOiBhcmcxLCBvcHRpb25zOiB7fSwgY2FsbGJhY2s6IGFyZzIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLCBvcHRpb25zOiBhcmcxLCBjYWxsYmFjazogYXJnMiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEoYXJnMSBpbnN0YW5jZW9mIG1ldGFkYXRhXzEuTWV0YWRhdGEgJiZcbiAgICAgICAgICAgICAgICBhcmcyIGluc3RhbmNlb2YgT2JqZWN0ICYmXG4gICAgICAgICAgICAgICAgaXNGdW5jdGlvbihhcmczKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBhcmd1bWVudHMgcGFzc2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBtZXRhZGF0YTogYXJnMSwgb3B0aW9uczogYXJnMiwgY2FsbGJhY2s6IGFyZzMgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYWtlVW5hcnlSZXF1ZXN0KG1ldGhvZCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjaGVja2VkQXJndW1lbnRzID0gdGhpcy5jaGVja09wdGlvbmFsVW5hcnlSZXNwb25zZUFyZ3VtZW50cyhtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgcGF0aDogbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICByZXF1ZXN0U2VyaWFsaXplOiBzZXJpYWxpemUsXG4gICAgICAgICAgICByZXNwb25zZURlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNhbGxQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgYXJndW1lbnQ6IGFyZ3VtZW50LFxuICAgICAgICAgICAgbWV0YWRhdGE6IGNoZWNrZWRBcmd1bWVudHMubWV0YWRhdGEsXG4gICAgICAgICAgICBjYWxsOiBuZXcgY2FsbF8xLkNsaWVudFVuYXJ5Q2FsbEltcGwoKSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLFxuICAgICAgICAgICAgbWV0aG9kRGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICAgICAgICAgIGNhbGxPcHRpb25zOiBjaGVja2VkQXJndW1lbnRzLm9wdGlvbnMsXG4gICAgICAgICAgICBjYWxsYmFjazogY2hlY2tlZEFyZ3VtZW50cy5jYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0pIHtcbiAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzID0gdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXShjYWxsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNhbGxQcm9wZXJ0aWVzLmNhbGw7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yQXJncyA9IHtcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yczogdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnM6IHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvcnM6IChfYSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JQcm92aWRlcnM6IChfYiA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgY2xpZW50X2ludGVyY2VwdG9yc18xLmdldEludGVyY2VwdGluZ0NhbGwpKGludGVyY2VwdG9yQXJncywgY2FsbFByb3BlcnRpZXMubWV0aG9kRGVmaW5pdGlvbiwgY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMsIGNhbGxQcm9wZXJ0aWVzLmNoYW5uZWwpO1xuICAgICAgICAvKiBUaGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgdGhlIGVtaXR0ZXIgaXMgdXNlZC4gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndFxuICAgICAgICAgKiBlbmZvcmNlIHRoaXMgd2l0aCB0aGUgdHlwZSBzeXN0ZW0uIFdlIG5lZWQgdG8gY29uc3RydWN0IHRoaXMgZW1pdHRlclxuICAgICAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGUgQ2FsbEludm9jYXRpb25UcmFuc2Zvcm1lciwgYW5kIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgKiBjYWxsIGFmdGVyIHRoYXQuICovXG4gICAgICAgIGVtaXR0ZXIuY2FsbCA9IGNhbGw7XG4gICAgICAgIGxldCByZXNwb25zZU1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBsZXQgcmVjZWl2ZWRTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbGxlclN0YWNrRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgY2FsbC5zdGFydChjYWxsUHJvcGVydGllcy5tZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ21ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNZXNzYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCwgJ1RvbyBtYW55IHJlc3BvbnNlcyByZWNlaXZlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZWRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNlaXZlZFN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2soKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ05vIG1lc3NhZ2UgcmVjZWl2ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXMubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2sobnVsbCwgcmVzcG9uc2VNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjaygoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHN0YXR1cywgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQXZvaWQgcmV0YWluaW5nIHRoZSBjYWxsZXJTdGFja0Vycm9yIG9iamVjdCBpbiB0aGUgY2FsbCBjb250ZXh0IG9mXG4gICAgICAgICAgICAgICAgICogdGhlIHN0YXR1cyBldmVudCBoYW5kbGVyLiAqL1xuICAgICAgICAgICAgICAgIGNhbGxlclN0YWNrRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsLnNlbmRNZXNzYWdlKGFyZ3VtZW50KTtcbiAgICAgICAgY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXI7XG4gICAgfVxuICAgIG1ha2VDbGllbnRTdHJlYW1SZXF1ZXN0KG1ldGhvZCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgbWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNoZWNrZWRBcmd1bWVudHMgPSB0aGlzLmNoZWNrT3B0aW9uYWxVbmFyeVJlc3BvbnNlQXJndW1lbnRzKG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgIGNvbnN0IG1ldGhvZERlZmluaXRpb24gPSB7XG4gICAgICAgICAgICBwYXRoOiBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnRXcml0YWJsZVN0cmVhbUltcGwoc2VyaWFsaXplKSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLFxuICAgICAgICAgICAgbWV0aG9kRGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICAgICAgICAgIGNhbGxPcHRpb25zOiBjaGVja2VkQXJndW1lbnRzLm9wdGlvbnMsXG4gICAgICAgICAgICBjYWxsYmFjazogY2hlY2tlZEFyZ3VtZW50cy5jYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0pIHtcbiAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzID0gdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXShjYWxsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlciA9IGNhbGxQcm9wZXJ0aWVzLmNhbGw7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yQXJncyA9IHtcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yczogdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnM6IHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvcnM6IChfYSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JQcm92aWRlcnM6IChfYiA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgY2xpZW50X2ludGVyY2VwdG9yc18xLmdldEludGVyY2VwdGluZ0NhbGwpKGludGVyY2VwdG9yQXJncywgY2FsbFByb3BlcnRpZXMubWV0aG9kRGVmaW5pdGlvbiwgY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMsIGNhbGxQcm9wZXJ0aWVzLmNoYW5uZWwpO1xuICAgICAgICAvKiBUaGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgdGhlIGVtaXR0ZXIgaXMgdXNlZC4gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndFxuICAgICAgICAgKiBlbmZvcmNlIHRoaXMgd2l0aCB0aGUgdHlwZSBzeXN0ZW0uIFdlIG5lZWQgdG8gY29uc3RydWN0IHRoaXMgZW1pdHRlclxuICAgICAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGUgQ2FsbEludm9jYXRpb25UcmFuc2Zvcm1lciwgYW5kIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgKiBjYWxsIGFmdGVyIHRoYXQuICovXG4gICAgICAgIGVtaXR0ZXIuY2FsbCA9IGNhbGw7XG4gICAgICAgIGxldCByZXNwb25zZU1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBsZXQgcmVjZWl2ZWRTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbGxlclN0YWNrRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgY2FsbC5zdGFydChjYWxsUHJvcGVydGllcy5tZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ21ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNZXNzYWdlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCwgJ1RvbyBtYW55IHJlc3BvbnNlcyByZWNlaXZlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIGNhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY2VpdmVkU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjaygoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnTm8gbWVzc2FnZSByZWNlaXZlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHN0YXR1cy5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjayhudWxsLCByZXNwb25zZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKCgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoc3RhdHVzLCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBBdm9pZCByZXRhaW5pbmcgdGhlIGNhbGxlclN0YWNrRXJyb3Igb2JqZWN0IGluIHRoZSBjYWxsIGNvbnRleHQgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3RhdHVzIGV2ZW50IGhhbmRsZXIuICovXG4gICAgICAgICAgICAgICAgY2FsbGVyU3RhY2tFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbWl0dGVyO1xuICAgIH1cbiAgICBjaGVja01ldGFkYXRhQW5kT3B0aW9ucyhhcmcxLCBhcmcyKSB7XG4gICAgICAgIGxldCBtZXRhZGF0YTtcbiAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgbWV0YWRhdGFfMS5NZXRhZGF0YSkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBhcmcxO1xuICAgICAgICAgICAgaWYgKGFyZzIpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJnMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhcmcxKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGEsIG9wdGlvbnMgfTtcbiAgICB9XG4gICAgbWFrZVNlcnZlclN0cmVhbVJlcXVlc3QobWV0aG9kLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCBhcmd1bWVudCwgbWV0YWRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tNZXRhZGF0YUFuZE9wdGlvbnMobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgcGF0aDogbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2FsbFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBhcmd1bWVudDogYXJndW1lbnQsXG4gICAgICAgICAgICBtZXRhZGF0YTogY2hlY2tlZEFyZ3VtZW50cy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGNhbGw6IG5ldyBjYWxsXzEuQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsKGRlc2VyaWFsaXplKSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLFxuICAgICAgICAgICAgbWV0aG9kRGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICAgICAgICAgIGNhbGxPcHRpb25zOiBjaGVja2VkQXJndW1lbnRzLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKSB7XG4gICAgICAgICAgICBjYWxsUHJvcGVydGllcyA9IHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0oY2FsbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGw7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yQXJncyA9IHtcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yczogdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnM6IHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvcnM6IChfYSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JQcm92aWRlcnM6IChfYiA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgY2xpZW50X2ludGVyY2VwdG9yc18xLmdldEludGVyY2VwdGluZ0NhbGwpKGludGVyY2VwdG9yQXJncywgY2FsbFByb3BlcnRpZXMubWV0aG9kRGVmaW5pdGlvbiwgY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMsIGNhbGxQcm9wZXJ0aWVzLmNoYW5uZWwpO1xuICAgICAgICAvKiBUaGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgdGhlIGVtaXR0ZXIgaXMgdXNlZC4gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndFxuICAgICAgICAgKiBlbmZvcmNlIHRoaXMgd2l0aCB0aGUgdHlwZSBzeXN0ZW0uIFdlIG5lZWQgdG8gY29uc3RydWN0IHRoaXMgZW1pdHRlclxuICAgICAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGUgQ2FsbEludm9jYXRpb25UcmFuc2Zvcm1lciwgYW5kIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgKiBjYWxsIGFmdGVyIHRoYXQuICovXG4gICAgICAgIHN0cmVhbS5jYWxsID0gY2FsbDtcbiAgICAgICAgbGV0IHJlY2VpdmVkU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsZXJTdGFja0Vycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGNhbGwuc3RhcnQoY2FsbFByb3BlcnRpZXMubWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ21ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKShzdGF0dXMsIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEF2b2lkIHJldGFpbmluZyB0aGUgY2FsbGVyU3RhY2tFcnJvciBvYmplY3QgaW4gdGhlIGNhbGwgY29udGV4dCBvZlxuICAgICAgICAgICAgICAgICAqIHRoZSBzdGF0dXMgZXZlbnQgaGFuZGxlci4gKi9cbiAgICAgICAgICAgICAgICBjYWxsZXJTdGFja0Vycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsLnNlbmRNZXNzYWdlKGFyZ3VtZW50KTtcbiAgICAgICAgY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG4gICAgbWFrZUJpZGlTdHJlYW1SZXF1ZXN0KG1ldGhvZCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgbWV0YWRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tNZXRhZGF0YUFuZE9wdGlvbnMobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgcGF0aDogbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtOiB0cnVlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnREdXBsZXhTdHJlYW1JbXBsKHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpLFxuICAgICAgICAgICAgY2hhbm5lbDogdGhpc1tDSEFOTkVMX1NZTUJPTF0sXG4gICAgICAgICAgICBtZXRob2REZWZpbml0aW9uOiBtZXRob2REZWZpbml0aW9uLFxuICAgICAgICAgICAgY2FsbE9wdGlvbnM6IGNoZWNrZWRBcmd1bWVudHMub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0pIHtcbiAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzID0gdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXShjYWxsUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyZWFtID0gY2FsbFByb3BlcnRpZXMuY2FsbDtcbiAgICAgICAgY29uc3QgaW50ZXJjZXB0b3JBcmdzID0ge1xuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JzOiB0aGlzW0lOVEVSQ0VQVE9SX1NZTUJPTF0sXG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvclByb3ZpZGVyczogdGhpc1tJTlRFUkNFUFRPUl9QUk9WSURFUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yczogKF9hID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvclByb3ZpZGVyczogKF9iID0gY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMuaW50ZXJjZXB0b3JfcHJvdmlkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBjbGllbnRfaW50ZXJjZXB0b3JzXzEuZ2V0SW50ZXJjZXB0aW5nQ2FsbCkoaW50ZXJjZXB0b3JBcmdzLCBjYWxsUHJvcGVydGllcy5tZXRob2REZWZpbml0aW9uLCBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucywgY2FsbFByb3BlcnRpZXMuY2hhbm5lbCk7XG4gICAgICAgIC8qIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB0aGUgZW1pdHRlciBpcyB1c2VkLiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0XG4gICAgICAgICAqIGVuZm9yY2UgdGhpcyB3aXRoIHRoZSB0eXBlIHN5c3RlbS4gV2UgbmVlZCB0byBjb25zdHJ1Y3QgdGhpcyBlbWl0dGVyXG4gICAgICAgICAqIGJlZm9yZSBjYWxsaW5nIHRoZSBDYWxsSW52b2NhdGlvblRyYW5zZm9ybWVyLCBhbmQgd2UgbmVlZCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIGNhbGwgYWZ0ZXIgdGhhdC4gKi9cbiAgICAgICAgc3RyZWFtLmNhbGwgPSBjYWxsO1xuICAgICAgICBsZXQgcmVjZWl2ZWRTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNhbGxlclN0YWNrRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgY2FsbC5zdGFydChjYWxsUHJvcGVydGllcy5tZXRhZGF0YSwge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnbWV0YWRhdGEnLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY2VpdmVkU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgIT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsICgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoc3RhdHVzLCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBBdm9pZCByZXRhaW5pbmcgdGhlIGNhbGxlclN0YWNrRXJyb3Igb2JqZWN0IGluIHRoZSBjYWxsIGNvbnRleHQgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3RhdHVzIGV2ZW50IGhhbmRsZXIuICovXG4gICAgICAgICAgICAgICAgY2FsbGVyU3RhY2tFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudCA9IENsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CompressionAlgorithms = void 0;\nvar CompressionAlgorithms;\n(function (CompressionAlgorithms) {\n    CompressionAlgorithms[CompressionAlgorithms[\"identity\"] = 0] = \"identity\";\n    CompressionAlgorithms[CompressionAlgorithms[\"deflate\"] = 1] = \"deflate\";\n    CompressionAlgorithms[CompressionAlgorithms[\"gzip\"] = 2] = \"gzip\";\n})(CompressionAlgorithms || (exports.CompressionAlgorithms = CompressionAlgorithms = {}));\n//# sourceMappingURL=compression-algorithms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tYWxnb3JpdGhtcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEIsNkJBQTZCLDZCQUE2QjtBQUN2RiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb21wcmVzc2lvbi1hbGdvcml0aG1zLmpzPzJjM2EiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tcHJlc3Npb25BbGdvcml0aG1zID0gdm9pZCAwO1xudmFyIENvbXByZXNzaW9uQWxnb3JpdGhtcztcbihmdW5jdGlvbiAoQ29tcHJlc3Npb25BbGdvcml0aG1zKSB7XG4gICAgQ29tcHJlc3Npb25BbGdvcml0aG1zW0NvbXByZXNzaW9uQWxnb3JpdGhtc1tcImlkZW50aXR5XCJdID0gMF0gPSBcImlkZW50aXR5XCI7XG4gICAgQ29tcHJlc3Npb25BbGdvcml0aG1zW0NvbXByZXNzaW9uQWxnb3JpdGhtc1tcImRlZmxhdGVcIl0gPSAxXSA9IFwiZGVmbGF0ZVwiO1xuICAgIENvbXByZXNzaW9uQWxnb3JpdGhtc1tDb21wcmVzc2lvbkFsZ29yaXRobXNbXCJnemlwXCJdID0gMl0gPSBcImd6aXBcIjtcbn0pKENvbXByZXNzaW9uQWxnb3JpdGhtcyB8fCAoZXhwb3J0cy5Db21wcmVzc2lvbkFsZ29yaXRobXMgPSBDb21wcmVzc2lvbkFsZ29yaXRobXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHJlc3Npb24tYWxnb3JpdGhtcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CompressionFilterFactory = exports.CompressionFilter = void 0;\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst compression_algorithms_1 = __webpack_require__(/*! ./compression-algorithms */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst filter_1 = __webpack_require__(/*! ./filter */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst isCompressionAlgorithmKey = (key) => {\n    return (typeof key === 'number' && typeof compression_algorithms_1.CompressionAlgorithms[key] === 'string');\n};\nclass CompressionHandler {\n    /**\n     * @param message Raw uncompressed message bytes\n     * @param compress Indicates whether the message should be compressed\n     * @return Framed message, compressed if applicable\n     */\n    async writeMessage(message, compress) {\n        let messageBuffer = message;\n        if (compress) {\n            messageBuffer = await this.compressMessage(messageBuffer);\n        }\n        const output = Buffer.allocUnsafe(messageBuffer.length + 5);\n        output.writeUInt8(compress ? 1 : 0, 0);\n        output.writeUInt32BE(messageBuffer.length, 1);\n        messageBuffer.copy(output, 5);\n        return output;\n    }\n    /**\n     * @param data Framed message, possibly compressed\n     * @return Uncompressed message\n     */\n    async readMessage(data) {\n        const compressed = data.readUInt8(0) === 1;\n        let messageBuffer = data.slice(5);\n        if (compressed) {\n            messageBuffer = await this.decompressMessage(messageBuffer);\n        }\n        return messageBuffer;\n    }\n}\nclass IdentityHandler extends CompressionHandler {\n    async compressMessage(message) {\n        return message;\n    }\n    async writeMessage(message, compress) {\n        const output = Buffer.allocUnsafe(message.length + 5);\n        /* With \"identity\" compression, messages should always be marked as\n         * uncompressed */\n        output.writeUInt8(0, 0);\n        output.writeUInt32BE(message.length, 1);\n        message.copy(output, 5);\n        return output;\n    }\n    decompressMessage(message) {\n        return Promise.reject(new Error('Received compressed message but \"grpc-encoding\" header was identity'));\n    }\n}\nclass DeflateHandler extends CompressionHandler {\n    constructor(maxRecvMessageLength) {\n        super();\n        this.maxRecvMessageLength = maxRecvMessageLength;\n    }\n    compressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.deflate(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n    decompressMessage(message) {\n        return new Promise((resolve, reject) => {\n            let totalLength = 0;\n            const messageParts = [];\n            const decompresser = zlib.createInflate();\n            decompresser.on('data', (chunk) => {\n                messageParts.push(chunk);\n                totalLength += chunk.byteLength;\n                if (this.maxRecvMessageLength !== -1 && totalLength > this.maxRecvMessageLength) {\n                    decompresser.destroy();\n                    reject({\n                        code: constants_1.Status.RESOURCE_EXHAUSTED,\n                        details: `Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`\n                    });\n                }\n            });\n            decompresser.on('end', () => {\n                resolve(Buffer.concat(messageParts));\n            });\n            decompresser.write(message);\n            decompresser.end();\n        });\n    }\n}\nclass GzipHandler extends CompressionHandler {\n    constructor(maxRecvMessageLength) {\n        super();\n        this.maxRecvMessageLength = maxRecvMessageLength;\n    }\n    compressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.gzip(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n    decompressMessage(message) {\n        return new Promise((resolve, reject) => {\n            let totalLength = 0;\n            const messageParts = [];\n            const decompresser = zlib.createGunzip();\n            decompresser.on('data', (chunk) => {\n                messageParts.push(chunk);\n                totalLength += chunk.byteLength;\n                if (this.maxRecvMessageLength !== -1 && totalLength > this.maxRecvMessageLength) {\n                    decompresser.destroy();\n                    reject({\n                        code: constants_1.Status.RESOURCE_EXHAUSTED,\n                        details: `Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`\n                    });\n                }\n            });\n            decompresser.on('end', () => {\n                resolve(Buffer.concat(messageParts));\n            });\n            decompresser.write(message);\n            decompresser.end();\n        });\n    }\n}\nclass UnknownHandler extends CompressionHandler {\n    constructor(compressionName) {\n        super();\n        this.compressionName = compressionName;\n    }\n    compressMessage(message) {\n        return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`));\n    }\n    decompressMessage(message) {\n        // This should be unreachable\n        return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`));\n    }\n}\nfunction getCompressionHandler(compressionName, maxReceiveMessageSize) {\n    switch (compressionName) {\n        case 'identity':\n            return new IdentityHandler();\n        case 'deflate':\n            return new DeflateHandler(maxReceiveMessageSize);\n        case 'gzip':\n            return new GzipHandler(maxReceiveMessageSize);\n        default:\n            return new UnknownHandler(compressionName);\n    }\n}\nclass CompressionFilter extends filter_1.BaseFilter {\n    constructor(channelOptions, sharedFilterConfig) {\n        var _a, _b, _c;\n        super();\n        this.sharedFilterConfig = sharedFilterConfig;\n        this.sendCompression = new IdentityHandler();\n        this.receiveCompression = new IdentityHandler();\n        this.currentCompressionAlgorithm = 'identity';\n        const compressionAlgorithmKey = channelOptions['grpc.default_compression_algorithm'];\n        this.maxReceiveMessageLength = (_a = channelOptions['grpc.max_receive_message_length']) !== null && _a !== void 0 ? _a : constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.maxSendMessageLength = (_b = channelOptions['grpc.max_send_message_length']) !== null && _b !== void 0 ? _b : constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n        if (compressionAlgorithmKey !== undefined) {\n            if (isCompressionAlgorithmKey(compressionAlgorithmKey)) {\n                const clientSelectedEncoding = compression_algorithms_1.CompressionAlgorithms[compressionAlgorithmKey];\n                const serverSupportedEncodings = (_c = sharedFilterConfig.serverSupportedEncodingHeader) === null || _c === void 0 ? void 0 : _c.split(',');\n                /**\n                 * There are two possible situations here:\n                 * 1) We don't have any info yet from the server about what compression it supports\n                 *    In that case we should just use what the client tells us to use\n                 * 2) We've previously received a response from the server including a grpc-accept-encoding header\n                 *    In that case we only want to use the encoding chosen by the client if the server supports it\n                 */\n                if (!serverSupportedEncodings ||\n                    serverSupportedEncodings.includes(clientSelectedEncoding)) {\n                    this.currentCompressionAlgorithm = clientSelectedEncoding;\n                    this.sendCompression = getCompressionHandler(this.currentCompressionAlgorithm, -1);\n                }\n            }\n            else {\n                logging.log(constants_1.LogVerbosity.ERROR, `Invalid value provided for grpc.default_compression_algorithm option: ${compressionAlgorithmKey}`);\n            }\n        }\n    }\n    async sendMetadata(metadata) {\n        const headers = await metadata;\n        headers.set('grpc-accept-encoding', 'identity,deflate,gzip');\n        headers.set('accept-encoding', 'identity');\n        // No need to send the header if it's \"identity\" -  behavior is identical; save the bandwidth\n        if (this.currentCompressionAlgorithm === 'identity') {\n            headers.remove('grpc-encoding');\n        }\n        else {\n            headers.set('grpc-encoding', this.currentCompressionAlgorithm);\n        }\n        return headers;\n    }\n    receiveMetadata(metadata) {\n        const receiveEncoding = metadata.get('grpc-encoding');\n        if (receiveEncoding.length > 0) {\n            const encoding = receiveEncoding[0];\n            if (typeof encoding === 'string') {\n                this.receiveCompression = getCompressionHandler(encoding, this.maxReceiveMessageLength);\n            }\n        }\n        metadata.remove('grpc-encoding');\n        /* Check to see if the compression we're using to send messages is supported by the server\n         * If not, reset the sendCompression filter and have it use the default IdentityHandler */\n        const serverSupportedEncodingsHeader = metadata.get('grpc-accept-encoding')[0];\n        if (serverSupportedEncodingsHeader) {\n            this.sharedFilterConfig.serverSupportedEncodingHeader =\n                serverSupportedEncodingsHeader;\n            const serverSupportedEncodings = serverSupportedEncodingsHeader.split(',');\n            if (!serverSupportedEncodings.includes(this.currentCompressionAlgorithm)) {\n                this.sendCompression = new IdentityHandler();\n                this.currentCompressionAlgorithm = 'identity';\n            }\n        }\n        metadata.remove('grpc-accept-encoding');\n        return metadata;\n    }\n    async sendMessage(message) {\n        var _a;\n        /* This filter is special. The input message is the bare message bytes,\n         * and the output is a framed and possibly compressed message. For this\n         * reason, this filter should be at the bottom of the filter stack */\n        const resolvedMessage = await message;\n        if (this.maxSendMessageLength !== -1 && resolvedMessage.message.length > this.maxSendMessageLength) {\n            throw {\n                code: constants_1.Status.RESOURCE_EXHAUSTED,\n                details: `Attempted to send message with a size larger than ${this.maxSendMessageLength}`\n            };\n        }\n        let compress;\n        if (this.sendCompression instanceof IdentityHandler) {\n            compress = false;\n        }\n        else {\n            compress = (((_a = resolvedMessage.flags) !== null && _a !== void 0 ? _a : 0) & 2 /* WriteFlags.NoCompress */) === 0;\n        }\n        return {\n            message: await this.sendCompression.writeMessage(resolvedMessage.message, compress),\n            flags: resolvedMessage.flags,\n        };\n    }\n    async receiveMessage(message) {\n        /* This filter is also special. The input message is framed and possibly\n         * compressed, and the output message is deframed and uncompressed. So\n         * this is another reason that this filter should be at the bottom of the\n         * filter stack. */\n        return this.receiveCompression.readMessage(await message);\n    }\n}\nexports.CompressionFilter = CompressionFilter;\nclass CompressionFilterFactory {\n    constructor(channel, options) {\n        this.options = options;\n        this.sharedFilterConfig = {};\n    }\n    createFilter() {\n        return new CompressionFilter(this.options, this.sharedFilterConfig);\n    }\n}\nexports.CompressionFilterFactory = CompressionFilterFactory;\n//# sourceMappingURL=compression-filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tZmlsdGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLEdBQUcseUJBQXlCO0FBQzVELGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQixpQ0FBaUMsbUJBQU8sQ0FBQyxnSUFBMEI7QUFDbkUsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsaUJBQWlCLG1CQUFPLENBQUMsZ0dBQVU7QUFDbkMsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGLDBCQUEwQjtBQUN2SCxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RiwwQkFBMEI7QUFDdkgscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkdBQTJHLHFCQUFxQjtBQUNoSTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUscUJBQXFCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUlBQXFJLHdCQUF3QjtBQUM3SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDBCQUEwQjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tZmlsdGVyLmpzPzlmMjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5ID0gZXhwb3J0cy5Db21wcmVzc2lvbkZpbHRlciA9IHZvaWQgMDtcbmNvbnN0IHpsaWIgPSByZXF1aXJlKFwiemxpYlwiKTtcbmNvbnN0IGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMSA9IHJlcXVpcmUoXCIuL2NvbXByZXNzaW9uLWFsZ29yaXRobXNcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBpc0NvbXByZXNzaW9uQWxnb3JpdGhtS2V5ID0gKGtleSkgPT4ge1xuICAgIHJldHVybiAodHlwZW9mIGtleSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMS5Db21wcmVzc2lvbkFsZ29yaXRobXNba2V5XSA9PT0gJ3N0cmluZycpO1xufTtcbmNsYXNzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgUmF3IHVuY29tcHJlc3NlZCBtZXNzYWdlIGJ5dGVzXG4gICAgICogQHBhcmFtIGNvbXByZXNzIEluZGljYXRlcyB3aGV0aGVyIHRoZSBtZXNzYWdlIHNob3VsZCBiZSBjb21wcmVzc2VkXG4gICAgICogQHJldHVybiBGcmFtZWQgbWVzc2FnZSwgY29tcHJlc3NlZCBpZiBhcHBsaWNhYmxlXG4gICAgICovXG4gICAgYXN5bmMgd3JpdGVNZXNzYWdlKG1lc3NhZ2UsIGNvbXByZXNzKSB7XG4gICAgICAgIGxldCBtZXNzYWdlQnVmZmVyID0gbWVzc2FnZTtcbiAgICAgICAgaWYgKGNvbXByZXNzKSB7XG4gICAgICAgICAgICBtZXNzYWdlQnVmZmVyID0gYXdhaXQgdGhpcy5jb21wcmVzc01lc3NhZ2UobWVzc2FnZUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG1lc3NhZ2VCdWZmZXIubGVuZ3RoICsgNSk7XG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQ4KGNvbXByZXNzID8gMSA6IDAsIDApO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50MzJCRShtZXNzYWdlQnVmZmVyLmxlbmd0aCwgMSk7XG4gICAgICAgIG1lc3NhZ2VCdWZmZXIuY29weShvdXRwdXQsIDUpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGF0YSBGcmFtZWQgbWVzc2FnZSwgcG9zc2libHkgY29tcHJlc3NlZFxuICAgICAqIEByZXR1cm4gVW5jb21wcmVzc2VkIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyByZWFkTWVzc2FnZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWQgPSBkYXRhLnJlYWRVSW50OCgwKSA9PT0gMTtcbiAgICAgICAgbGV0IG1lc3NhZ2VCdWZmZXIgPSBkYXRhLnNsaWNlKDUpO1xuICAgICAgICBpZiAoY29tcHJlc3NlZCkge1xuICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlciA9IGF3YWl0IHRoaXMuZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VCdWZmZXI7XG4gICAgfVxufVxuY2xhc3MgSWRlbnRpdHlIYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBhc3luYyBjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgYXN5bmMgd3JpdGVNZXNzYWdlKG1lc3NhZ2UsIGNvbXByZXNzKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShtZXNzYWdlLmxlbmd0aCArIDUpO1xuICAgICAgICAvKiBXaXRoIFwiaWRlbnRpdHlcIiBjb21wcmVzc2lvbiwgbWVzc2FnZXMgc2hvdWxkIGFsd2F5cyBiZSBtYXJrZWQgYXNcbiAgICAgICAgICogdW5jb21wcmVzc2VkICovXG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQ4KDAsIDApO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50MzJCRShtZXNzYWdlLmxlbmd0aCwgMSk7XG4gICAgICAgIG1lc3NhZ2UuY29weShvdXRwdXQsIDUpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1JlY2VpdmVkIGNvbXByZXNzZWQgbWVzc2FnZSBidXQgXCJncnBjLWVuY29kaW5nXCIgaGVhZGVyIHdhcyBpZGVudGl0eScpKTtcbiAgICB9XG59XG5jbGFzcyBEZWZsYXRlSGFuZGxlciBleHRlbmRzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IobWF4UmVjdk1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aCA9IG1heFJlY3ZNZXNzYWdlTGVuZ3RoO1xuICAgIH1cbiAgICBjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgemxpYi5kZWZsYXRlKG1lc3NhZ2UsIChlcnIsIG91dHB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZVBhcnRzID0gW107XG4gICAgICAgICAgICBjb25zdCBkZWNvbXByZXNzZXIgPSB6bGliLmNyZWF0ZUluZmxhdGUoKTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci5vbignZGF0YScsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VQYXJ0cy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICB0b3RhbExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RoICE9PSAtMSAmJiB0b3RhbExlbmd0aCA+IHRoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb21wcmVzc2VyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbWVzc2FnZSB0aGF0IGRlY29tcHJlc3NlcyB0byBhIHNpemUgbGFyZ2VyIHRoYW4gJHt0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RofWBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEJ1ZmZlci5jb25jYXQobWVzc2FnZVBhcnRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci53cml0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgR3ppcEhhbmRsZXIgZXh0ZW5kcyBDb21wcmVzc2lvbkhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFJlY3ZNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGggPSBtYXhSZWN2TWVzc2FnZUxlbmd0aDtcbiAgICB9XG4gICAgY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHpsaWIuZ3ppcChtZXNzYWdlLCAoZXJyLCBvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VQYXJ0cyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgZGVjb21wcmVzc2VyID0gemxpYi5jcmVhdGVHdW56aXAoKTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci5vbignZGF0YScsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VQYXJ0cy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICB0b3RhbExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RoICE9PSAtMSAmJiB0b3RhbExlbmd0aCA+IHRoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb21wcmVzc2VyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbWVzc2FnZSB0aGF0IGRlY29tcHJlc3NlcyB0byBhIHNpemUgbGFyZ2VyIHRoYW4gJHt0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RofWBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEJ1ZmZlci5jb25jYXQobWVzc2FnZVBhcnRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci53cml0ZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGRlY29tcHJlc3Nlci5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgVW5rbm93bkhhbmRsZXIgZXh0ZW5kcyBDb21wcmVzc2lvbkhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbXByZXNzaW9uTmFtZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbXByZXNzaW9uTmFtZSA9IGNvbXByZXNzaW9uTmFtZTtcbiAgICB9XG4gICAgY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgUmVjZWl2ZWQgbWVzc2FnZSBjb21wcmVzc2VkIHdpdGggdW5zdXBwb3J0ZWQgY29tcHJlc3Npb24gbWV0aG9kICR7dGhpcy5jb21wcmVzc2lvbk5hbWV9YCkpO1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIHVucmVhY2hhYmxlXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYENvbXByZXNzaW9uIG1ldGhvZCBub3Qgc3VwcG9ydGVkOiAke3RoaXMuY29tcHJlc3Npb25OYW1lfWApKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDb21wcmVzc2lvbkhhbmRsZXIoY29tcHJlc3Npb25OYW1lLCBtYXhSZWNlaXZlTWVzc2FnZVNpemUpIHtcbiAgICBzd2l0Y2ggKGNvbXByZXNzaW9uTmFtZSkge1xuICAgICAgICBjYXNlICdpZGVudGl0eSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IElkZW50aXR5SGFuZGxlcigpO1xuICAgICAgICBjYXNlICdkZWZsYXRlJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGVmbGF0ZUhhbmRsZXIobWF4UmVjZWl2ZU1lc3NhZ2VTaXplKTtcbiAgICAgICAgY2FzZSAnZ3ppcCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEd6aXBIYW5kbGVyKG1heFJlY2VpdmVNZXNzYWdlU2l6ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVua25vd25IYW5kbGVyKGNvbXByZXNzaW9uTmFtZSk7XG4gICAgfVxufVxuY2xhc3MgQ29tcHJlc3Npb25GaWx0ZXIgZXh0ZW5kcyBmaWx0ZXJfMS5CYXNlRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsT3B0aW9ucywgc2hhcmVkRmlsdGVyQ29uZmlnKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNoYXJlZEZpbHRlckNvbmZpZyA9IHNoYXJlZEZpbHRlckNvbmZpZztcbiAgICAgICAgdGhpcy5zZW5kQ29tcHJlc3Npb24gPSBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUNvbXByZXNzaW9uID0gbmV3IElkZW50aXR5SGFuZGxlcigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSA9ICdpZGVudGl0eSc7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzaW9uQWxnb3JpdGhtS2V5ID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMuZGVmYXVsdF9jb21wcmVzc2lvbl9hbGdvcml0aG0nXTtcbiAgICAgICAgdGhpcy5tYXhSZWNlaXZlTWVzc2FnZUxlbmd0aCA9IChfYSA9IGNoYW5uZWxPcHRpb25zWydncnBjLm1heF9yZWNlaXZlX21lc3NhZ2VfbGVuZ3RoJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1JFQ0VJVkVfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIHRoaXMubWF4U2VuZE1lc3NhZ2VMZW5ndGggPSAoX2IgPSBjaGFubmVsT3B0aW9uc1snZ3JwYy5tYXhfc2VuZF9tZXNzYWdlX2xlbmd0aCddKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb25zdGFudHNfMS5ERUZBVUxUX01BWF9TRU5EX01FU1NBR0VfTEVOR1RIO1xuICAgICAgICBpZiAoY29tcHJlc3Npb25BbGdvcml0aG1LZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGlzQ29tcHJlc3Npb25BbGdvcml0aG1LZXkoY29tcHJlc3Npb25BbGdvcml0aG1LZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50U2VsZWN0ZWRFbmNvZGluZyA9IGNvbXByZXNzaW9uX2FsZ29yaXRobXNfMS5Db21wcmVzc2lvbkFsZ29yaXRobXNbY29tcHJlc3Npb25BbGdvcml0aG1LZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclN1cHBvcnRlZEVuY29kaW5ncyA9IChfYyA9IHNoYXJlZEZpbHRlckNvbmZpZy5zZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ0hlYWRlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhlcmUgYXJlIHR3byBwb3NzaWJsZSBzaXR1YXRpb25zIGhlcmU6XG4gICAgICAgICAgICAgICAgICogMSkgV2UgZG9uJ3QgaGF2ZSBhbnkgaW5mbyB5ZXQgZnJvbSB0aGUgc2VydmVyIGFib3V0IHdoYXQgY29tcHJlc3Npb24gaXQgc3VwcG9ydHNcbiAgICAgICAgICAgICAgICAgKiAgICBJbiB0aGF0IGNhc2Ugd2Ugc2hvdWxkIGp1c3QgdXNlIHdoYXQgdGhlIGNsaWVudCB0ZWxscyB1cyB0byB1c2VcbiAgICAgICAgICAgICAgICAgKiAyKSBXZSd2ZSBwcmV2aW91c2x5IHJlY2VpdmVkIGEgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIGluY2x1ZGluZyBhIGdycGMtYWNjZXB0LWVuY29kaW5nIGhlYWRlclxuICAgICAgICAgICAgICAgICAqICAgIEluIHRoYXQgY2FzZSB3ZSBvbmx5IHdhbnQgdG8gdXNlIHRoZSBlbmNvZGluZyBjaG9zZW4gYnkgdGhlIGNsaWVudCBpZiB0aGUgc2VydmVyIHN1cHBvcnRzIGl0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MgfHxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzLmluY2x1ZGVzKGNsaWVudFNlbGVjdGVkRW5jb2RpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtID0gY2xpZW50U2VsZWN0ZWRFbmNvZGluZztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kQ29tcHJlc3Npb24gPSBnZXRDb21wcmVzc2lvbkhhbmRsZXIodGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0sIC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nLmxvZyhjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIGBJbnZhbGlkIHZhbHVlIHByb3ZpZGVkIGZvciBncnBjLmRlZmF1bHRfY29tcHJlc3Npb25fYWxnb3JpdGhtIG9wdGlvbjogJHtjb21wcmVzc2lvbkFsZ29yaXRobUtleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzZW5kTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGF3YWl0IG1ldGFkYXRhO1xuICAgICAgICBoZWFkZXJzLnNldCgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnLCAnaWRlbnRpdHksZGVmbGF0ZSxnemlwJyk7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdhY2NlcHQtZW5jb2RpbmcnLCAnaWRlbnRpdHknKTtcbiAgICAgICAgLy8gTm8gbmVlZCB0byBzZW5kIHRoZSBoZWFkZXIgaWYgaXQncyBcImlkZW50aXR5XCIgLSAgYmVoYXZpb3IgaXMgaWRlbnRpY2FsOyBzYXZlIHRoZSBiYW5kd2lkdGhcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtID09PSAnaWRlbnRpdHknKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnJlbW92ZSgnZ3JwYy1lbmNvZGluZycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ2dycGMtZW5jb2RpbmcnLCB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCByZWNlaXZlRW5jb2RpbmcgPSBtZXRhZGF0YS5nZXQoJ2dycGMtZW5jb2RpbmcnKTtcbiAgICAgICAgaWYgKHJlY2VpdmVFbmNvZGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGluZyA9IHJlY2VpdmVFbmNvZGluZ1swXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlQ29tcHJlc3Npb24gPSBnZXRDb21wcmVzc2lvbkhhbmRsZXIoZW5jb2RpbmcsIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1lbmNvZGluZycpO1xuICAgICAgICAvKiBDaGVjayB0byBzZWUgaWYgdGhlIGNvbXByZXNzaW9uIHdlJ3JlIHVzaW5nIHRvIHNlbmQgbWVzc2FnZXMgaXMgc3VwcG9ydGVkIGJ5IHRoZSBzZXJ2ZXJcbiAgICAgICAgICogSWYgbm90LCByZXNldCB0aGUgc2VuZENvbXByZXNzaW9uIGZpbHRlciBhbmQgaGF2ZSBpdCB1c2UgdGhlIGRlZmF1bHQgSWRlbnRpdHlIYW5kbGVyICovXG4gICAgICAgIGNvbnN0IHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlciA9IG1ldGFkYXRhLmdldCgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnKVswXTtcbiAgICAgICAgaWYgKHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlcikge1xuICAgICAgICAgICAgdGhpcy5zaGFyZWRGaWx0ZXJDb25maWcuc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdIZWFkZXIgPVxuICAgICAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlcjtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclN1cHBvcnRlZEVuY29kaW5ncyA9IHNlcnZlclN1cHBvcnRlZEVuY29kaW5nc0hlYWRlci5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MuaW5jbHVkZXModGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kQ29tcHJlc3Npb24gPSBuZXcgSWRlbnRpdHlIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0gPSAnaWRlbnRpdHknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZSgnZ3JwYy1hY2NlcHQtZW5jb2RpbmcnKTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICBhc3luYyBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLyogVGhpcyBmaWx0ZXIgaXMgc3BlY2lhbC4gVGhlIGlucHV0IG1lc3NhZ2UgaXMgdGhlIGJhcmUgbWVzc2FnZSBieXRlcyxcbiAgICAgICAgICogYW5kIHRoZSBvdXRwdXQgaXMgYSBmcmFtZWQgYW5kIHBvc3NpYmx5IGNvbXByZXNzZWQgbWVzc2FnZS4gRm9yIHRoaXNcbiAgICAgICAgICogcmVhc29uLCB0aGlzIGZpbHRlciBzaG91bGQgYmUgYXQgdGhlIGJvdHRvbSBvZiB0aGUgZmlsdGVyIHN0YWNrICovXG4gICAgICAgIGNvbnN0IHJlc29sdmVkTWVzc2FnZSA9IGF3YWl0IG1lc3NhZ2U7XG4gICAgICAgIGlmICh0aGlzLm1heFNlbmRNZXNzYWdlTGVuZ3RoICE9PSAtMSAmJiByZXNvbHZlZE1lc3NhZ2UubWVzc2FnZS5sZW5ndGggPiB0aGlzLm1heFNlbmRNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgQXR0ZW1wdGVkIHRvIHNlbmQgbWVzc2FnZSB3aXRoIGEgc2l6ZSBsYXJnZXIgdGhhbiAke3RoaXMubWF4U2VuZE1lc3NhZ2VMZW5ndGh9YFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcHJlc3M7XG4gICAgICAgIGlmICh0aGlzLnNlbmRDb21wcmVzc2lvbiBpbnN0YW5jZW9mIElkZW50aXR5SGFuZGxlcikge1xuICAgICAgICAgICAgY29tcHJlc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXByZXNzID0gKCgoX2EgPSByZXNvbHZlZE1lc3NhZ2UuZmxhZ3MpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApICYgMiAvKiBXcml0ZUZsYWdzLk5vQ29tcHJlc3MgKi8pID09PSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBhd2FpdCB0aGlzLnNlbmRDb21wcmVzc2lvbi53cml0ZU1lc3NhZ2UocmVzb2x2ZWRNZXNzYWdlLm1lc3NhZ2UsIGNvbXByZXNzKSxcbiAgICAgICAgICAgIGZsYWdzOiByZXNvbHZlZE1lc3NhZ2UuZmxhZ3MsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgLyogVGhpcyBmaWx0ZXIgaXMgYWxzbyBzcGVjaWFsLiBUaGUgaW5wdXQgbWVzc2FnZSBpcyBmcmFtZWQgYW5kIHBvc3NpYmx5XG4gICAgICAgICAqIGNvbXByZXNzZWQsIGFuZCB0aGUgb3V0cHV0IG1lc3NhZ2UgaXMgZGVmcmFtZWQgYW5kIHVuY29tcHJlc3NlZC4gU29cbiAgICAgICAgICogdGhpcyBpcyBhbm90aGVyIHJlYXNvbiB0aGF0IHRoaXMgZmlsdGVyIHNob3VsZCBiZSBhdCB0aGUgYm90dG9tIG9mIHRoZVxuICAgICAgICAgKiBmaWx0ZXIgc3RhY2suICovXG4gICAgICAgIHJldHVybiB0aGlzLnJlY2VpdmVDb21wcmVzc2lvbi5yZWFkTWVzc2FnZShhd2FpdCBtZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbXByZXNzaW9uRmlsdGVyID0gQ29tcHJlc3Npb25GaWx0ZXI7XG5jbGFzcyBDb21wcmVzc2lvbkZpbHRlckZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zaGFyZWRGaWx0ZXJDb25maWcgPSB7fTtcbiAgICB9XG4gICAgY3JlYXRlRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXByZXNzaW9uRmlsdGVyKHRoaXMub3B0aW9ucywgdGhpcy5zaGFyZWRGaWx0ZXJDb25maWcpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5ID0gQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcHJlc3Npb24tZmlsdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ConnectivityState = void 0;\nvar ConnectivityState;\n(function (ConnectivityState) {\n    ConnectivityState[ConnectivityState[\"IDLE\"] = 0] = \"IDLE\";\n    ConnectivityState[ConnectivityState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectivityState[ConnectivityState[\"READY\"] = 2] = \"READY\";\n    ConnectivityState[ConnectivityState[\"TRANSIENT_FAILURE\"] = 3] = \"TRANSIENT_FAILURE\";\n    ConnectivityState[ConnectivityState[\"SHUTDOWN\"] = 4] = \"SHUTDOWN\";\n})(ConnectivityState || (exports.ConnectivityState = ConnectivityState = {}));\n//# sourceMappingURL=connectivity-state.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29ubmVjdGl2aXR5LXN0YXRlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0IseUJBQXlCLHlCQUF5QjtBQUMzRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb25uZWN0aXZpdHktc3RhdGUuanM/YmIxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db25uZWN0aXZpdHlTdGF0ZSA9IHZvaWQgMDtcbnZhciBDb25uZWN0aXZpdHlTdGF0ZTtcbihmdW5jdGlvbiAoQ29ubmVjdGl2aXR5U3RhdGUpIHtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIklETEVcIl0gPSAwXSA9IFwiSURMRVwiO1xuICAgIENvbm5lY3Rpdml0eVN0YXRlW0Nvbm5lY3Rpdml0eVN0YXRlW1wiQ09OTkVDVElOR1wiXSA9IDFdID0gXCJDT05ORUNUSU5HXCI7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJSRUFEWVwiXSA9IDJdID0gXCJSRUFEWVwiO1xuICAgIENvbm5lY3Rpdml0eVN0YXRlW0Nvbm5lY3Rpdml0eVN0YXRlW1wiVFJBTlNJRU5UX0ZBSUxVUkVcIl0gPSAzXSA9IFwiVFJBTlNJRU5UX0ZBSUxVUkVcIjtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIlNIVVRET1dOXCJdID0gNF0gPSBcIlNIVVRET1dOXCI7XG59KShDb25uZWN0aXZpdHlTdGF0ZSB8fCAoZXhwb3J0cy5Db25uZWN0aXZpdHlTdGF0ZSA9IENvbm5lY3Rpdml0eVN0YXRlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3Rpdml0eS1zdGF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = exports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = exports.Propagate = exports.LogVerbosity = exports.Status = void 0;\nvar Status;\n(function (Status) {\n    Status[Status[\"OK\"] = 0] = \"OK\";\n    Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n    Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n    Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status || (exports.Status = Status = {}));\nvar LogVerbosity;\n(function (LogVerbosity) {\n    LogVerbosity[LogVerbosity[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogVerbosity[LogVerbosity[\"INFO\"] = 1] = \"INFO\";\n    LogVerbosity[LogVerbosity[\"ERROR\"] = 2] = \"ERROR\";\n    LogVerbosity[LogVerbosity[\"NONE\"] = 3] = \"NONE\";\n})(LogVerbosity || (exports.LogVerbosity = LogVerbosity = {}));\n/**\n * NOTE: This enum is not currently used in any implemented API in this\n * library. It is included only for type parity with the other implementation.\n */\nvar Propagate;\n(function (Propagate) {\n    Propagate[Propagate[\"DEADLINE\"] = 1] = \"DEADLINE\";\n    Propagate[Propagate[\"CENSUS_STATS_CONTEXT\"] = 2] = \"CENSUS_STATS_CONTEXT\";\n    Propagate[Propagate[\"CENSUS_TRACING_CONTEXT\"] = 4] = \"CENSUS_TRACING_CONTEXT\";\n    Propagate[Propagate[\"CANCELLATION\"] = 8] = \"CANCELLATION\";\n    // https://github.com/grpc/grpc/blob/master/include/grpc/impl/codegen/propagation_bits.h#L43\n    Propagate[Propagate[\"DEFAULTS\"] = 65535] = \"DEFAULTS\";\n})(Propagate || (exports.Propagate = Propagate = {}));\n// -1 means unlimited\nexports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = -1;\n// 4 MB default\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = 4 * 1024 * 1024;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29uc3RhbnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMENBQTBDLEdBQUcsdUNBQXVDLEdBQUcsaUJBQWlCLEdBQUcsb0JBQW9CLEdBQUcsY0FBYztBQUNoSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsYUFBYSxjQUFjLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUIsb0JBQW9CLG9CQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdCQUFnQixpQkFBaUIsaUJBQWlCO0FBQ25EO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0EsMENBQTBDO0FBQzFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbnN0YW50cy5qcz8xZGVmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRFRkFVTFRfTUFYX1JFQ0VJVkVfTUVTU0FHRV9MRU5HVEggPSBleHBvcnRzLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEggPSBleHBvcnRzLlByb3BhZ2F0ZSA9IGV4cG9ydHMuTG9nVmVyYm9zaXR5ID0gZXhwb3J0cy5TdGF0dXMgPSB2b2lkIDA7XG52YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICBTdGF0dXNbU3RhdHVzW1wiT0tcIl0gPSAwXSA9IFwiT0tcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiQ0FOQ0VMTEVEXCJdID0gMV0gPSBcIkNBTkNFTExFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTktOT1dOXCJdID0gMl0gPSBcIlVOS05PV05cIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiSU5WQUxJRF9BUkdVTUVOVFwiXSA9IDNdID0gXCJJTlZBTElEX0FSR1VNRU5UXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkRFQURMSU5FX0VYQ0VFREVEXCJdID0gNF0gPSBcIkRFQURMSU5FX0VYQ0VFREVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIk5PVF9GT1VORFwiXSA9IDVdID0gXCJOT1RfRk9VTkRcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiQUxSRUFEWV9FWElTVFNcIl0gPSA2XSA9IFwiQUxSRUFEWV9FWElTVFNcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiUEVSTUlTU0lPTl9ERU5JRURcIl0gPSA3XSA9IFwiUEVSTUlTU0lPTl9ERU5JRURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiUkVTT1VSQ0VfRVhIQVVTVEVEXCJdID0gOF0gPSBcIlJFU09VUkNFX0VYSEFVU1RFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJGQUlMRURfUFJFQ09ORElUSU9OXCJdID0gOV0gPSBcIkZBSUxFRF9QUkVDT05ESVRJT05cIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiQUJPUlRFRFwiXSA9IDEwXSA9IFwiQUJPUlRFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJPVVRfT0ZfUkFOR0VcIl0gPSAxMV0gPSBcIk9VVF9PRl9SQU5HRVwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTklNUExFTUVOVEVEXCJdID0gMTJdID0gXCJVTklNUExFTUVOVEVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIklOVEVSTkFMXCJdID0gMTNdID0gXCJJTlRFUk5BTFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJVTkFWQUlMQUJMRVwiXSA9IDE0XSA9IFwiVU5BVkFJTEFCTEVcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiREFUQV9MT1NTXCJdID0gMTVdID0gXCJEQVRBX0xPU1NcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5BVVRIRU5USUNBVEVEXCJdID0gMTZdID0gXCJVTkFVVEhFTlRJQ0FURURcIjtcbn0pKFN0YXR1cyB8fCAoZXhwb3J0cy5TdGF0dXMgPSBTdGF0dXMgPSB7fSkpO1xudmFyIExvZ1ZlcmJvc2l0eTtcbihmdW5jdGlvbiAoTG9nVmVyYm9zaXR5KSB7XG4gICAgTG9nVmVyYm9zaXR5W0xvZ1ZlcmJvc2l0eVtcIkRFQlVHXCJdID0gMF0gPSBcIkRFQlVHXCI7XG4gICAgTG9nVmVyYm9zaXR5W0xvZ1ZlcmJvc2l0eVtcIklORk9cIl0gPSAxXSA9IFwiSU5GT1wiO1xuICAgIExvZ1ZlcmJvc2l0eVtMb2dWZXJib3NpdHlbXCJFUlJPUlwiXSA9IDJdID0gXCJFUlJPUlwiO1xuICAgIExvZ1ZlcmJvc2l0eVtMb2dWZXJib3NpdHlbXCJOT05FXCJdID0gM10gPSBcIk5PTkVcIjtcbn0pKExvZ1ZlcmJvc2l0eSB8fCAoZXhwb3J0cy5Mb2dWZXJib3NpdHkgPSBMb2dWZXJib3NpdHkgPSB7fSkpO1xuLyoqXG4gKiBOT1RFOiBUaGlzIGVudW0gaXMgbm90IGN1cnJlbnRseSB1c2VkIGluIGFueSBpbXBsZW1lbnRlZCBBUEkgaW4gdGhpc1xuICogbGlicmFyeS4gSXQgaXMgaW5jbHVkZWQgb25seSBmb3IgdHlwZSBwYXJpdHkgd2l0aCB0aGUgb3RoZXIgaW1wbGVtZW50YXRpb24uXG4gKi9cbnZhciBQcm9wYWdhdGU7XG4oZnVuY3Rpb24gKFByb3BhZ2F0ZSkge1xuICAgIFByb3BhZ2F0ZVtQcm9wYWdhdGVbXCJERUFETElORVwiXSA9IDFdID0gXCJERUFETElORVwiO1xuICAgIFByb3BhZ2F0ZVtQcm9wYWdhdGVbXCJDRU5TVVNfU1RBVFNfQ09OVEVYVFwiXSA9IDJdID0gXCJDRU5TVVNfU1RBVFNfQ09OVEVYVFwiO1xuICAgIFByb3BhZ2F0ZVtQcm9wYWdhdGVbXCJDRU5TVVNfVFJBQ0lOR19DT05URVhUXCJdID0gNF0gPSBcIkNFTlNVU19UUkFDSU5HX0NPTlRFWFRcIjtcbiAgICBQcm9wYWdhdGVbUHJvcGFnYXRlW1wiQ0FOQ0VMTEFUSU9OXCJdID0gOF0gPSBcIkNBTkNFTExBVElPTlwiO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvaW5jbHVkZS9ncnBjL2ltcGwvY29kZWdlbi9wcm9wYWdhdGlvbl9iaXRzLmgjTDQzXG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkRFRkFVTFRTXCJdID0gNjU1MzVdID0gXCJERUZBVUxUU1wiO1xufSkoUHJvcGFnYXRlIHx8IChleHBvcnRzLlByb3BhZ2F0ZSA9IFByb3BhZ2F0ZSA9IHt9KSk7XG4vLyAtMSBtZWFucyB1bmxpbWl0ZWRcbmV4cG9ydHMuREVGQVVMVF9NQVhfU0VORF9NRVNTQUdFX0xFTkdUSCA9IC0xO1xuLy8gNCBNQiBkZWZhdWx0XG5leHBvcnRzLkRFRkFVTFRfTUFYX1JFQ0VJVkVfTUVTU0FHRV9MRU5HVEggPSA0ICogMTAyNCAqIDEwMjQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.restrictControlPlaneStatusCode = restrictControlPlaneStatusCode;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst INAPPROPRIATE_CONTROL_PLANE_CODES = [\n    constants_1.Status.OK,\n    constants_1.Status.INVALID_ARGUMENT,\n    constants_1.Status.NOT_FOUND,\n    constants_1.Status.ALREADY_EXISTS,\n    constants_1.Status.FAILED_PRECONDITION,\n    constants_1.Status.ABORTED,\n    constants_1.Status.OUT_OF_RANGE,\n    constants_1.Status.DATA_LOSS,\n];\nfunction restrictControlPlaneStatusCode(code, details) {\n    if (INAPPROPRIATE_CONTROL_PLANE_CODES.includes(code)) {\n        return {\n            code: constants_1.Status.INTERNAL,\n            details: `Invalid status from control plane: ${code} ${constants_1.Status[code]} ${details}`,\n        };\n    }\n    else {\n        return { code, details };\n    }\n}\n//# sourceMappingURL=control-plane-status.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29udHJvbC1wbGFuZS1zdGF0dXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQ0FBc0M7QUFDdEMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxNQUFNLEVBQUUsMEJBQTBCLEVBQUUsUUFBUTtBQUN2RztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbnRyb2wtcGxhbmUtc3RhdHVzLmpzP2VhNzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlID0gcmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBJTkFQUFJPUFJJQVRFX0NPTlRST0xfUExBTkVfQ09ERVMgPSBbXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5JTlZBTElEX0FSR1VNRU5ULFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkFMUkVBRFlfRVhJU1RTLFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5GQUlMRURfUFJFQ09ORElUSU9OLFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5BQk9SVEVELFxuICAgIGNvbnN0YW50c18xLlN0YXR1cy5PVVRfT0ZfUkFOR0UsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkRBVEFfTE9TUyxcbl07XG5mdW5jdGlvbiByZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUoY29kZSwgZGV0YWlscykge1xuICAgIGlmIChJTkFQUFJPUFJJQVRFX0NPTlRST0xfUExBTkVfQ09ERVMuaW5jbHVkZXMoY29kZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgIGRldGFpbHM6IGBJbnZhbGlkIHN0YXR1cyBmcm9tIGNvbnRyb2wgcGxhbmU6ICR7Y29kZX0gJHtjb25zdGFudHNfMS5TdGF0dXNbY29kZV19ICR7ZGV0YWlsc31gLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgY29kZSwgZGV0YWlscyB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2wtcGxhbmUtc3RhdHVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.minDeadline = minDeadline;\nexports.getDeadlineTimeoutString = getDeadlineTimeoutString;\nexports.getRelativeTimeout = getRelativeTimeout;\nexports.deadlineToString = deadlineToString;\nexports.formatDateDifference = formatDateDifference;\nfunction minDeadline(...deadlineList) {\n    let minValue = Infinity;\n    for (const deadline of deadlineList) {\n        const deadlineMsecs = deadline instanceof Date ? deadline.getTime() : deadline;\n        if (deadlineMsecs < minValue) {\n            minValue = deadlineMsecs;\n        }\n    }\n    return minValue;\n}\nconst units = [\n    ['m', 1],\n    ['S', 1000],\n    ['M', 60 * 1000],\n    ['H', 60 * 60 * 1000],\n];\nfunction getDeadlineTimeoutString(deadline) {\n    const now = new Date().getTime();\n    if (deadline instanceof Date) {\n        deadline = deadline.getTime();\n    }\n    const timeoutMs = Math.max(deadline - now, 0);\n    for (const [unit, factor] of units) {\n        const amount = timeoutMs / factor;\n        if (amount < 1e8) {\n            return String(Math.ceil(amount)) + unit;\n        }\n    }\n    throw new Error('Deadline is too far in the future');\n}\n/**\n * See https://nodejs.org/api/timers.html#settimeoutcallback-delay-args\n * In particular, \"When delay is larger than 2147483647 or less than 1, the\n * delay will be set to 1. Non-integer delays are truncated to an integer.\"\n * This number of milliseconds is almost 25 days.\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\n/**\n * Get the timeout value that should be passed to setTimeout now for the timer\n * to end at the deadline. For any deadline before now, the timer should end\n * immediately, represented by a value of 0. For any deadline more than\n * MAX_TIMEOUT_TIME milliseconds in the future, a timer cannot be set that will\n * end at that time, so it is treated as infinitely far in the future.\n * @param deadline\n * @returns\n */\nfunction getRelativeTimeout(deadline) {\n    const deadlineMs = deadline instanceof Date ? deadline.getTime() : deadline;\n    const now = new Date().getTime();\n    const timeout = deadlineMs - now;\n    if (timeout < 0) {\n        return 0;\n    }\n    else if (timeout > MAX_TIMEOUT_TIME) {\n        return Infinity;\n    }\n    else {\n        return timeout;\n    }\n}\nfunction deadlineToString(deadline) {\n    if (deadline instanceof Date) {\n        return deadline.toISOString();\n    }\n    else {\n        const dateDeadline = new Date(deadline);\n        if (Number.isNaN(dateDeadline.getTime())) {\n            return '' + deadline;\n        }\n        else {\n            return dateDeadline.toISOString();\n        }\n    }\n}\n/**\n * Calculate the difference between two dates as a number of seconds and format\n * it as a string.\n * @param startDate\n * @param endDate\n * @returns\n */\nfunction formatDateDifference(startDate, endDate) {\n    return ((endDate.getTime() - startDate.getTime()) / 1000).toFixed(3) + 's';\n}\n//# sourceMappingURL=deadline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZGVhZGxpbmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsZ0NBQWdDO0FBQ2hDLDBCQUEwQjtBQUMxQix3QkFBd0I7QUFDeEIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2RlYWRsaW5lLmpzPzY1MjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWluRGVhZGxpbmUgPSBtaW5EZWFkbGluZTtcbmV4cG9ydHMuZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nID0gZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nO1xuZXhwb3J0cy5nZXRSZWxhdGl2ZVRpbWVvdXQgPSBnZXRSZWxhdGl2ZVRpbWVvdXQ7XG5leHBvcnRzLmRlYWRsaW5lVG9TdHJpbmcgPSBkZWFkbGluZVRvU3RyaW5nO1xuZXhwb3J0cy5mb3JtYXREYXRlRGlmZmVyZW5jZSA9IGZvcm1hdERhdGVEaWZmZXJlbmNlO1xuZnVuY3Rpb24gbWluRGVhZGxpbmUoLi4uZGVhZGxpbmVMaXN0KSB7XG4gICAgbGV0IG1pblZhbHVlID0gSW5maW5pdHk7XG4gICAgZm9yIChjb25zdCBkZWFkbGluZSBvZiBkZWFkbGluZUxpc3QpIHtcbiAgICAgICAgY29uc3QgZGVhZGxpbmVNc2VjcyA9IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSA/IGRlYWRsaW5lLmdldFRpbWUoKSA6IGRlYWRsaW5lO1xuICAgICAgICBpZiAoZGVhZGxpbmVNc2VjcyA8IG1pblZhbHVlKSB7XG4gICAgICAgICAgICBtaW5WYWx1ZSA9IGRlYWRsaW5lTXNlY3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1pblZhbHVlO1xufVxuY29uc3QgdW5pdHMgPSBbXG4gICAgWydtJywgMV0sXG4gICAgWydTJywgMTAwMF0sXG4gICAgWydNJywgNjAgKiAxMDAwXSxcbiAgICBbJ0gnLCA2MCAqIDYwICogMTAwMF0sXG5dO1xuZnVuY3Rpb24gZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nKGRlYWRsaW5lKSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBkZWFkbGluZSA9IGRlYWRsaW5lLmdldFRpbWUoKTtcbiAgICB9XG4gICAgY29uc3QgdGltZW91dE1zID0gTWF0aC5tYXgoZGVhZGxpbmUgLSBub3csIDApO1xuICAgIGZvciAoY29uc3QgW3VuaXQsIGZhY3Rvcl0gb2YgdW5pdHMpIHtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gdGltZW91dE1zIC8gZmFjdG9yO1xuICAgICAgICBpZiAoYW1vdW50IDwgMWU4KSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKE1hdGguY2VpbChhbW91bnQpKSArIHVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEZWFkbGluZSBpcyB0b28gZmFyIGluIHRoZSBmdXR1cmUnKTtcbn1cbi8qKlxuICogU2VlIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGltZXJzLmh0bWwjc2V0dGltZW91dGNhbGxiYWNrLWRlbGF5LWFyZ3NcbiAqIEluIHBhcnRpY3VsYXIsIFwiV2hlbiBkZWxheSBpcyBsYXJnZXIgdGhhbiAyMTQ3NDgzNjQ3IG9yIGxlc3MgdGhhbiAxLCB0aGVcbiAqIGRlbGF5IHdpbGwgYmUgc2V0IHRvIDEuIE5vbi1pbnRlZ2VyIGRlbGF5cyBhcmUgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXCJcbiAqIFRoaXMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpcyBhbG1vc3QgMjUgZGF5cy5cbiAqL1xuY29uc3QgTUFYX1RJTUVPVVRfVElNRSA9IDIxNDc0ODM2NDc7XG4vKipcbiAqIEdldCB0aGUgdGltZW91dCB2YWx1ZSB0aGF0IHNob3VsZCBiZSBwYXNzZWQgdG8gc2V0VGltZW91dCBub3cgZm9yIHRoZSB0aW1lclxuICogdG8gZW5kIGF0IHRoZSBkZWFkbGluZS4gRm9yIGFueSBkZWFkbGluZSBiZWZvcmUgbm93LCB0aGUgdGltZXIgc2hvdWxkIGVuZFxuICogaW1tZWRpYXRlbHksIHJlcHJlc2VudGVkIGJ5IGEgdmFsdWUgb2YgMC4gRm9yIGFueSBkZWFkbGluZSBtb3JlIHRoYW5cbiAqIE1BWF9USU1FT1VUX1RJTUUgbWlsbGlzZWNvbmRzIGluIHRoZSBmdXR1cmUsIGEgdGltZXIgY2Fubm90IGJlIHNldCB0aGF0IHdpbGxcbiAqIGVuZCBhdCB0aGF0IHRpbWUsIHNvIGl0IGlzIHRyZWF0ZWQgYXMgaW5maW5pdGVseSBmYXIgaW4gdGhlIGZ1dHVyZS5cbiAqIEBwYXJhbSBkZWFkbGluZVxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lb3V0KGRlYWRsaW5lKSB7XG4gICAgY29uc3QgZGVhZGxpbmVNcyA9IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSA/IGRlYWRsaW5lLmdldFRpbWUoKSA6IGRlYWRsaW5lO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBkZWFkbGluZU1zIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGltZW91dCA+IE1BWF9USU1FT1VUX1RJTUUpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVhZGxpbmVUb1N0cmluZyhkZWFkbGluZSkge1xuICAgIGlmIChkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRlYWRsaW5lLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRlRGVhZGxpbmUgPSBuZXcgRGF0ZShkZWFkbGluZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZURlYWRsaW5lLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJyArIGRlYWRsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVEZWFkbGluZS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gZGF0ZXMgYXMgYSBudW1iZXIgb2Ygc2Vjb25kcyBhbmQgZm9ybWF0XG4gKiBpdCBhcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdGFydERhdGVcbiAqIEBwYXJhbSBlbmREYXRlXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBmb3JtYXREYXRlRGlmZmVyZW5jZShzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgICByZXR1cm4gKChlbmREYXRlLmdldFRpbWUoKSAtIHN0YXJ0RGF0ZS5nZXRUaW1lKCkpIC8gMTAwMCkudG9GaXhlZCgzKSArICdzJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYWRsaW5lLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.durationMessageToDuration = durationMessageToDuration;\nexports.msToDuration = msToDuration;\nexports.durationToMs = durationToMs;\nexports.isDuration = isDuration;\nexports.isDurationMessage = isDurationMessage;\nexports.parseDuration = parseDuration;\nexports.durationToString = durationToString;\nfunction durationMessageToDuration(message) {\n    return {\n        seconds: Number.parseInt(message.seconds),\n        nanos: message.nanos\n    };\n}\nfunction msToDuration(millis) {\n    return {\n        seconds: (millis / 1000) | 0,\n        nanos: ((millis % 1000) * 1000000) | 0,\n    };\n}\nfunction durationToMs(duration) {\n    return (duration.seconds * 1000 + duration.nanos / 1000000) | 0;\n}\nfunction isDuration(value) {\n    return typeof value.seconds === 'number' && typeof value.nanos === 'number';\n}\nfunction isDurationMessage(value) {\n    return typeof value.seconds === 'string' && typeof value.nanos === 'number';\n}\nconst durationRegex = /^(\\d+)(?:\\.(\\d+))?s$/;\nfunction parseDuration(value) {\n    const match = value.match(durationRegex);\n    if (!match) {\n        return null;\n    }\n    return {\n        seconds: Number.parseInt(match[1], 10),\n        nanos: match[2] ? Number.parseInt(match[2].padEnd(9, '0'), 10) : 0\n    };\n}\nfunction durationToString(duration) {\n    if (duration.nanos === 0) {\n        return `${duration.seconds}s`;\n    }\n    let scaleFactor;\n    if (duration.nanos % 1000000 === 0) {\n        scaleFactor = 1000000;\n    }\n    else if (duration.nanos % 1000 === 0) {\n        scaleFactor = 1000;\n    }\n    else {\n        scaleFactor = 1;\n    }\n    return `${duration.seconds}.${duration.nanos / scaleFactor}s`;\n}\n//# sourceMappingURL=duration.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZHVyYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUM7QUFDakMsb0JBQW9CO0FBQ3BCLG9CQUFvQjtBQUNwQixrQkFBa0I7QUFDbEIseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUJBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQixHQUFHLDZCQUE2QjtBQUMvRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2R1cmF0aW9uLmpzPzc0MWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZHVyYXRpb25NZXNzYWdlVG9EdXJhdGlvbiA9IGR1cmF0aW9uTWVzc2FnZVRvRHVyYXRpb247XG5leHBvcnRzLm1zVG9EdXJhdGlvbiA9IG1zVG9EdXJhdGlvbjtcbmV4cG9ydHMuZHVyYXRpb25Ub01zID0gZHVyYXRpb25Ub01zO1xuZXhwb3J0cy5pc0R1cmF0aW9uID0gaXNEdXJhdGlvbjtcbmV4cG9ydHMuaXNEdXJhdGlvbk1lc3NhZ2UgPSBpc0R1cmF0aW9uTWVzc2FnZTtcbmV4cG9ydHMucGFyc2VEdXJhdGlvbiA9IHBhcnNlRHVyYXRpb247XG5leHBvcnRzLmR1cmF0aW9uVG9TdHJpbmcgPSBkdXJhdGlvblRvU3RyaW5nO1xuZnVuY3Rpb24gZHVyYXRpb25NZXNzYWdlVG9EdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogTnVtYmVyLnBhcnNlSW50KG1lc3NhZ2Uuc2Vjb25kcyksXG4gICAgICAgIG5hbm9zOiBtZXNzYWdlLm5hbm9zXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1zVG9EdXJhdGlvbihtaWxsaXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiAobWlsbGlzIC8gMTAwMCkgfCAwLFxuICAgICAgICBuYW5vczogKChtaWxsaXMgJSAxMDAwKSAqIDEwMDAwMDApIHwgMCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZHVyYXRpb25Ub01zKGR1cmF0aW9uKSB7XG4gICAgcmV0dXJuIChkdXJhdGlvbi5zZWNvbmRzICogMTAwMCArIGR1cmF0aW9uLm5hbm9zIC8gMTAwMDAwMCkgfCAwO1xufVxuZnVuY3Rpb24gaXNEdXJhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUuc2Vjb25kcyA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLm5hbm9zID09PSAnbnVtYmVyJztcbn1cbmZ1bmN0aW9uIGlzRHVyYXRpb25NZXNzYWdlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5zZWNvbmRzID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFub3MgPT09ICdudW1iZXInO1xufVxuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eKFxcZCspKD86XFwuKFxcZCspKT9zJC87XG5mdW5jdGlvbiBwYXJzZUR1cmF0aW9uKHZhbHVlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaChkdXJhdGlvblJlZ2V4KTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiBOdW1iZXIucGFyc2VJbnQobWF0Y2hbMV0sIDEwKSxcbiAgICAgICAgbmFub3M6IG1hdGNoWzJdID8gTnVtYmVyLnBhcnNlSW50KG1hdGNoWzJdLnBhZEVuZCg5LCAnMCcpLCAxMCkgOiAwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGR1cmF0aW9uVG9TdHJpbmcoZHVyYXRpb24pIHtcbiAgICBpZiAoZHVyYXRpb24ubmFub3MgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGAke2R1cmF0aW9uLnNlY29uZHN9c2A7XG4gICAgfVxuICAgIGxldCBzY2FsZUZhY3RvcjtcbiAgICBpZiAoZHVyYXRpb24ubmFub3MgJSAxMDAwMDAwID09PSAwKSB7XG4gICAgICAgIHNjYWxlRmFjdG9yID0gMTAwMDAwMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZHVyYXRpb24ubmFub3MgJSAxMDAwID09PSAwKSB7XG4gICAgICAgIHNjYWxlRmFjdG9yID0gMTAwMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjYWxlRmFjdG9yID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGAke2R1cmF0aW9uLnNlY29uZHN9LiR7ZHVyYXRpb24ubmFub3MgLyBzY2FsZUZhY3Rvcn1zYDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR1cmF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2024 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GRPC_NODE_USE_ALTERNATIVE_RESOLVER = void 0;\nexports.GRPC_NODE_USE_ALTERNATIVE_RESOLVER = ((_a = process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER) !== null && _a !== void 0 ? _a : 'false') === 'true';\n//# sourceMappingURL=environment.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZW52aXJvbm1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBDQUEwQztBQUMxQywwQ0FBMEM7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZW52aXJvbm1lbnQuanM/YzRmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9hO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSID0gdm9pZCAwO1xuZXhwb3J0cy5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSID0gKChfYSA9IHByb2Nlc3MuZW52LkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdmYWxzZScpID09PSAndHJ1ZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnZpcm9ubWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getErrorMessage = getErrorMessage;\nexports.getErrorCode = getErrorCode;\nfunction getErrorMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    else {\n        return String(error);\n    }\n}\nfunction getErrorCode(error) {\n    if (typeof error === 'object' &&\n        error !== null &&\n        'code' in error &&\n        typeof error.code === 'number') {\n        return error.code;\n    }\n    else {\n        return null;\n    }\n}\n//# sourceMappingURL=error.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUI7QUFDdkIsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXJyb3IuanM/ZTQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRFcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2U7XG5leHBvcnRzLmdldEVycm9yQ29kZSA9IGdldEVycm9yQ29kZTtcbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RXJyb3JDb2RlKGVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgJ2NvZGUnIGluIGVycm9yICYmXG4gICAgICAgIHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gZXJyb3IuY29kZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX = exports.createCertificateProviderChannelCredentials = exports.FileWatcherCertificateProvider = exports.createCertificateProviderServerCredentials = exports.createServerCredentialsWithInterceptors = exports.BaseSubchannelWrapper = exports.registerAdminService = exports.FilterStackFactory = exports.BaseFilter = exports.statusOrFromError = exports.statusOrFromValue = exports.PickResultType = exports.QueuePicker = exports.UnavailablePicker = exports.ChildLoadBalancerHandler = exports.EndpointMap = exports.endpointHasAddress = exports.endpointToString = exports.subchannelAddressToString = exports.LeafLoadBalancer = exports.isLoadBalancerNameRegistered = exports.parseLoadBalancingConfig = exports.selectLbConfigFromList = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = exports.BackoffTimeout = exports.parseDuration = exports.durationToMs = exports.splitHostPort = exports.uriToString = exports.CHANNEL_ARGS_CONFIG_SELECTOR_KEY = exports.createResolver = exports.registerResolver = exports.log = exports.trace = void 0;\nvar logging_1 = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nObject.defineProperty(exports, \"trace\", ({ enumerable: true, get: function () { return logging_1.trace; } }));\nObject.defineProperty(exports, \"log\", ({ enumerable: true, get: function () { return logging_1.log; } }));\nvar resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nObject.defineProperty(exports, \"registerResolver\", ({ enumerable: true, get: function () { return resolver_1.registerResolver; } }));\nObject.defineProperty(exports, \"createResolver\", ({ enumerable: true, get: function () { return resolver_1.createResolver; } }));\nObject.defineProperty(exports, \"CHANNEL_ARGS_CONFIG_SELECTOR_KEY\", ({ enumerable: true, get: function () { return resolver_1.CHANNEL_ARGS_CONFIG_SELECTOR_KEY; } }));\nvar uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nObject.defineProperty(exports, \"uriToString\", ({ enumerable: true, get: function () { return uri_parser_1.uriToString; } }));\nObject.defineProperty(exports, \"splitHostPort\", ({ enumerable: true, get: function () { return uri_parser_1.splitHostPort; } }));\nvar duration_1 = __webpack_require__(/*! ./duration */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\");\nObject.defineProperty(exports, \"durationToMs\", ({ enumerable: true, get: function () { return duration_1.durationToMs; } }));\nObject.defineProperty(exports, \"parseDuration\", ({ enumerable: true, get: function () { return duration_1.parseDuration; } }));\nvar backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nObject.defineProperty(exports, \"BackoffTimeout\", ({ enumerable: true, get: function () { return backoff_timeout_1.BackoffTimeout; } }));\nvar load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nObject.defineProperty(exports, \"createChildChannelControlHelper\", ({ enumerable: true, get: function () { return load_balancer_1.createChildChannelControlHelper; } }));\nObject.defineProperty(exports, \"registerLoadBalancerType\", ({ enumerable: true, get: function () { return load_balancer_1.registerLoadBalancerType; } }));\nObject.defineProperty(exports, \"selectLbConfigFromList\", ({ enumerable: true, get: function () { return load_balancer_1.selectLbConfigFromList; } }));\nObject.defineProperty(exports, \"parseLoadBalancingConfig\", ({ enumerable: true, get: function () { return load_balancer_1.parseLoadBalancingConfig; } }));\nObject.defineProperty(exports, \"isLoadBalancerNameRegistered\", ({ enumerable: true, get: function () { return load_balancer_1.isLoadBalancerNameRegistered; } }));\nvar load_balancer_pick_first_1 = __webpack_require__(/*! ./load-balancer-pick-first */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nObject.defineProperty(exports, \"LeafLoadBalancer\", ({ enumerable: true, get: function () { return load_balancer_pick_first_1.LeafLoadBalancer; } }));\nvar subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nObject.defineProperty(exports, \"subchannelAddressToString\", ({ enumerable: true, get: function () { return subchannel_address_1.subchannelAddressToString; } }));\nObject.defineProperty(exports, \"endpointToString\", ({ enumerable: true, get: function () { return subchannel_address_1.endpointToString; } }));\nObject.defineProperty(exports, \"endpointHasAddress\", ({ enumerable: true, get: function () { return subchannel_address_1.endpointHasAddress; } }));\nObject.defineProperty(exports, \"EndpointMap\", ({ enumerable: true, get: function () { return subchannel_address_1.EndpointMap; } }));\nvar load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nObject.defineProperty(exports, \"ChildLoadBalancerHandler\", ({ enumerable: true, get: function () { return load_balancer_child_handler_1.ChildLoadBalancerHandler; } }));\nvar picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nObject.defineProperty(exports, \"UnavailablePicker\", ({ enumerable: true, get: function () { return picker_1.UnavailablePicker; } }));\nObject.defineProperty(exports, \"QueuePicker\", ({ enumerable: true, get: function () { return picker_1.QueuePicker; } }));\nObject.defineProperty(exports, \"PickResultType\", ({ enumerable: true, get: function () { return picker_1.PickResultType; } }));\nvar call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nObject.defineProperty(exports, \"statusOrFromValue\", ({ enumerable: true, get: function () { return call_interface_1.statusOrFromValue; } }));\nObject.defineProperty(exports, \"statusOrFromError\", ({ enumerable: true, get: function () { return call_interface_1.statusOrFromError; } }));\nvar filter_1 = __webpack_require__(/*! ./filter */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js\");\nObject.defineProperty(exports, \"BaseFilter\", ({ enumerable: true, get: function () { return filter_1.BaseFilter; } }));\nvar filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nObject.defineProperty(exports, \"FilterStackFactory\", ({ enumerable: true, get: function () { return filter_stack_1.FilterStackFactory; } }));\nvar admin_1 = __webpack_require__(/*! ./admin */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\");\nObject.defineProperty(exports, \"registerAdminService\", ({ enumerable: true, get: function () { return admin_1.registerAdminService; } }));\nvar subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nObject.defineProperty(exports, \"BaseSubchannelWrapper\", ({ enumerable: true, get: function () { return subchannel_interface_1.BaseSubchannelWrapper; } }));\nvar server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nObject.defineProperty(exports, \"createServerCredentialsWithInterceptors\", ({ enumerable: true, get: function () { return server_credentials_1.createServerCredentialsWithInterceptors; } }));\nObject.defineProperty(exports, \"createCertificateProviderServerCredentials\", ({ enumerable: true, get: function () { return server_credentials_1.createCertificateProviderServerCredentials; } }));\nvar certificate_provider_1 = __webpack_require__(/*! ./certificate-provider */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/certificate-provider.js\");\nObject.defineProperty(exports, \"FileWatcherCertificateProvider\", ({ enumerable: true, get: function () { return certificate_provider_1.FileWatcherCertificateProvider; } }));\nvar channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nObject.defineProperty(exports, \"createCertificateProviderChannelCredentials\", ({ enumerable: true, get: function () { return channel_credentials_1.createCertificateProviderChannelCredentials; } }));\nvar internal_channel_1 = __webpack_require__(/*! ./internal-channel */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js\");\nObject.defineProperty(exports, \"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX\", ({ enumerable: true, get: function () { return internal_channel_1.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX; } }));\n//# sourceMappingURL=experimental.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXhwZXJpbWVudGFsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBDQUEwQyxHQUFHLG1EQUFtRCxHQUFHLHNDQUFzQyxHQUFHLGtEQUFrRCxHQUFHLCtDQUErQyxHQUFHLDZCQUE2QixHQUFHLDRCQUE0QixHQUFHLDBCQUEwQixHQUFHLGtCQUFrQixHQUFHLHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLHNCQUFzQixHQUFHLG1CQUFtQixHQUFHLHlCQUF5QixHQUFHLGdDQUFnQyxHQUFHLG1CQUFtQixHQUFHLDBCQUEwQixHQUFHLHdCQUF3QixHQUFHLGlDQUFpQyxHQUFHLHdCQUF3QixHQUFHLG9DQUFvQyxHQUFHLGdDQUFnQyxHQUFHLDhCQUE4QixHQUFHLGdDQUFnQyxHQUFHLHVDQUF1QyxHQUFHLHNCQUFzQixHQUFHLHFCQUFxQixHQUFHLG9CQUFvQixHQUFHLHFCQUFxQixHQUFHLG1CQUFtQixHQUFHLHdDQUF3QyxHQUFHLHNCQUFzQixHQUFHLHdCQUF3QixHQUFHLFdBQVcsR0FBRyxhQUFhO0FBQy9qQyxnQkFBZ0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNuQyx5Q0FBd0MsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDM0csdUNBQXNDLEVBQUUscUNBQXFDLHlCQUF5QixFQUFDO0FBQ3ZHLGlCQUFpQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3JDLG9EQUFtRCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUNsSSxrREFBaUQsRUFBRSxxQ0FBcUMscUNBQXFDLEVBQUM7QUFDOUgsb0VBQW1FLEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQ2xLLG1CQUFtQixtQkFBTyxDQUFDLHdHQUFjO0FBQ3pDLCtDQUE4QyxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUMxSCxpREFBZ0QsRUFBRSxxQ0FBcUMsc0NBQXNDLEVBQUM7QUFDOUgsaUJBQWlCLG1CQUFPLENBQUMsb0dBQVk7QUFDckMsZ0RBQStDLEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQzFILGlEQUFnRCxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUM1SCx3QkFBd0IsbUJBQU8sQ0FBQyxrSEFBbUI7QUFDbkQsa0RBQWlELEVBQUUscUNBQXFDLDRDQUE0QyxFQUFDO0FBQ3JJLHNCQUFzQixtQkFBTyxDQUFDLDhHQUFpQjtBQUMvQyxtRUFBa0UsRUFBRSxxQ0FBcUMsMkRBQTJELEVBQUM7QUFDckssNERBQTJELEVBQUUscUNBQXFDLG9EQUFvRCxFQUFDO0FBQ3ZKLDBEQUF5RCxFQUFFLHFDQUFxQyxrREFBa0QsRUFBQztBQUNuSiw0REFBMkQsRUFBRSxxQ0FBcUMsb0RBQW9ELEVBQUM7QUFDdkosZ0VBQStELEVBQUUscUNBQXFDLHdEQUF3RCxFQUFDO0FBQy9KLGlDQUFpQyxtQkFBTyxDQUFDLG9JQUE0QjtBQUNyRSxvREFBbUQsRUFBRSxxQ0FBcUMsdURBQXVELEVBQUM7QUFDbEosMkJBQTJCLG1CQUFPLENBQUMsd0hBQXNCO0FBQ3pELDZEQUE0RCxFQUFFLHFDQUFxQywwREFBMEQsRUFBQztBQUM5SixvREFBbUQsRUFBRSxxQ0FBcUMsaURBQWlELEVBQUM7QUFDNUksc0RBQXFELEVBQUUscUNBQXFDLG1EQUFtRCxFQUFDO0FBQ2hKLCtDQUE4QyxFQUFFLHFDQUFxQyw0Q0FBNEMsRUFBQztBQUNsSSxvQ0FBb0MsbUJBQU8sQ0FBQywwSUFBK0I7QUFDM0UsNERBQTJELEVBQUUscUNBQXFDLGtFQUFrRSxFQUFDO0FBQ3JLLGVBQWUsbUJBQU8sQ0FBQyxnR0FBVTtBQUNqQyxxREFBb0QsRUFBRSxxQ0FBcUMsc0NBQXNDLEVBQUM7QUFDbEksK0NBQThDLEVBQUUscUNBQXFDLGdDQUFnQyxFQUFDO0FBQ3RILGtEQUFpRCxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUM1SCx1QkFBdUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDakQscURBQW9ELEVBQUUscUNBQXFDLDhDQUE4QyxFQUFDO0FBQzFJLHFEQUFvRCxFQUFFLHFDQUFxQyw4Q0FBOEMsRUFBQztBQUMxSSxlQUFlLG1CQUFPLENBQUMsZ0dBQVU7QUFDakMsOENBQTZDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ3BILHFCQUFxQixtQkFBTyxDQUFDLDRHQUFnQjtBQUM3QyxzREFBcUQsRUFBRSxxQ0FBcUMsNkNBQTZDLEVBQUM7QUFDMUksY0FBYyxtQkFBTyxDQUFDLDhGQUFTO0FBQy9CLHdEQUF1RCxFQUFFLHFDQUFxQyx3Q0FBd0MsRUFBQztBQUN2SSw2QkFBNkIsbUJBQU8sQ0FBQyw0SEFBd0I7QUFDN0QseURBQXdELEVBQUUscUNBQXFDLHdEQUF3RCxFQUFDO0FBQ3hKLDJCQUEyQixtQkFBTyxDQUFDLHdIQUFzQjtBQUN6RCwyRUFBMEUsRUFBRSxxQ0FBcUMsd0VBQXdFLEVBQUM7QUFDMUwsOEVBQTZFLEVBQUUscUNBQXFDLDJFQUEyRSxFQUFDO0FBQ2hNLDZCQUE2QixtQkFBTyxDQUFDLDRIQUF3QjtBQUM3RCxrRUFBaUUsRUFBRSxxQ0FBcUMsaUVBQWlFLEVBQUM7QUFDMUssNEJBQTRCLG1CQUFPLENBQUMsMEhBQXVCO0FBQzNELCtFQUE4RSxFQUFFLHFDQUFxQyw2RUFBNkUsRUFBQztBQUNuTSx5QkFBeUIsbUJBQU8sQ0FBQyxvSEFBb0I7QUFDckQsc0VBQXFFLEVBQUUscUNBQXFDLGlFQUFpRSxFQUFDO0FBQzlLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2V4cGVyaW1lbnRhbC5qcz9mYWUwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYID0gZXhwb3J0cy5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzID0gZXhwb3J0cy5GaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXIgPSBleHBvcnRzLmNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyA9IGV4cG9ydHMuY3JlYXRlU2VydmVyQ3JlZGVudGlhbHNXaXRoSW50ZXJjZXB0b3JzID0gZXhwb3J0cy5CYXNlU3ViY2hhbm5lbFdyYXBwZXIgPSBleHBvcnRzLnJlZ2lzdGVyQWRtaW5TZXJ2aWNlID0gZXhwb3J0cy5GaWx0ZXJTdGFja0ZhY3RvcnkgPSBleHBvcnRzLkJhc2VGaWx0ZXIgPSBleHBvcnRzLnN0YXR1c09yRnJvbUVycm9yID0gZXhwb3J0cy5zdGF0dXNPckZyb21WYWx1ZSA9IGV4cG9ydHMuUGlja1Jlc3VsdFR5cGUgPSBleHBvcnRzLlF1ZXVlUGlja2VyID0gZXhwb3J0cy5VbmF2YWlsYWJsZVBpY2tlciA9IGV4cG9ydHMuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyID0gZXhwb3J0cy5FbmRwb2ludE1hcCA9IGV4cG9ydHMuZW5kcG9pbnRIYXNBZGRyZXNzID0gZXhwb3J0cy5lbmRwb2ludFRvU3RyaW5nID0gZXhwb3J0cy5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nID0gZXhwb3J0cy5MZWFmTG9hZEJhbGFuY2VyID0gZXhwb3J0cy5pc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkID0gZXhwb3J0cy5wYXJzZUxvYWRCYWxhbmNpbmdDb25maWcgPSBleHBvcnRzLnNlbGVjdExiQ29uZmlnRnJvbUxpc3QgPSBleHBvcnRzLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSA9IGV4cG9ydHMuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciA9IGV4cG9ydHMuQmFja29mZlRpbWVvdXQgPSBleHBvcnRzLnBhcnNlRHVyYXRpb24gPSBleHBvcnRzLmR1cmF0aW9uVG9NcyA9IGV4cG9ydHMuc3BsaXRIb3N0UG9ydCA9IGV4cG9ydHMudXJpVG9TdHJpbmcgPSBleHBvcnRzLkNIQU5ORUxfQVJHU19DT05GSUdfU0VMRUNUT1JfS0VZID0gZXhwb3J0cy5jcmVhdGVSZXNvbHZlciA9IGV4cG9ydHMucmVnaXN0ZXJSZXNvbHZlciA9IGV4cG9ydHMubG9nID0gZXhwb3J0cy50cmFjZSA9IHZvaWQgMDtcbnZhciBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidHJhY2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvZ2dpbmdfMS50cmFjZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImxvZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9nZ2luZ18xLmxvZzsgfSB9KTtcbnZhciByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWdpc3RlclJlc29sdmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVSZXNvbHZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZXJfMS5jcmVhdGVSZXNvbHZlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNIQU5ORUxfQVJHU19DT05GSUdfU0VMRUNUT1JfS0VZXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlcl8xLkNIQU5ORUxfQVJHU19DT05GSUdfU0VMRUNUT1JfS0VZOyB9IH0pO1xudmFyIHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1cmlUb1N0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3BsaXRIb3N0UG9ydFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQ7IH0gfSk7XG52YXIgZHVyYXRpb25fMSA9IHJlcXVpcmUoXCIuL2R1cmF0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZHVyYXRpb25Ub01zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkdXJhdGlvbl8xLmR1cmF0aW9uVG9NczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnNlRHVyYXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uXzEucGFyc2VEdXJhdGlvbjsgfSB9KTtcbnZhciBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJhY2tvZmZUaW1lb3V0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dDsgfSB9KTtcbnZhciBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWdpc3RlckxvYWRCYWxhbmNlclR5cGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfMS5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzZWxlY3RMYkNvbmZpZ0Zyb21MaXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEuc2VsZWN0TGJDb25maWdGcm9tTGlzdDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLnBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZzsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfMS5pc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkOyB9IH0pO1xudmFyIGxvYWRfYmFsYW5jZXJfcGlja19maXJzdF8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1waWNrLWZpcnN0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTGVhZkxvYWRCYWxhbmNlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0XzEuTGVhZkxvYWRCYWxhbmNlcjsgfSB9KTtcbnZhciBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbmRwb2ludFRvU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZW5kcG9pbnRIYXNBZGRyZXNzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludEhhc0FkZHJlc3M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJFbmRwb2ludE1hcFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViY2hhbm5lbF9hZGRyZXNzXzEuRW5kcG9pbnRNYXA7IH0gfSk7XG52YXIgbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGlsZExvYWRCYWxhbmNlckhhbmRsZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xLkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlcjsgfSB9KTtcbnZhciBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlVuYXZhaWxhYmxlUGlja2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlF1ZXVlUGlja2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwaWNrZXJfMS5RdWV1ZVBpY2tlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlBpY2tSZXN1bHRUeXBlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZTsgfSB9KTtcbnZhciBjYWxsX2ludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vY2FsbC1pbnRlcmZhY2VcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdGF0dXNPckZyb21WYWx1ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YXR1c09yRnJvbUVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbUVycm9yOyB9IH0pO1xudmFyIGZpbHRlcl8xID0gcmVxdWlyZShcIi4vZmlsdGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFzZUZpbHRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyXzEuQmFzZUZpbHRlcjsgfSB9KTtcbnZhciBmaWx0ZXJfc3RhY2tfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlci1zdGFja1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZpbHRlclN0YWNrRmFjdG9yeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyX3N0YWNrXzEuRmlsdGVyU3RhY2tGYWN0b3J5OyB9IH0pO1xudmFyIGFkbWluXzEgPSByZXF1aXJlKFwiLi9hZG1pblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyQWRtaW5TZXJ2aWNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhZG1pbl8xLnJlZ2lzdGVyQWRtaW5TZXJ2aWNlOyB9IH0pO1xudmFyIHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJhc2VTdWJjaGFubmVsV3JhcHBlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViY2hhbm5lbF9pbnRlcmZhY2VfMS5CYXNlU3ViY2hhbm5lbFdyYXBwZXI7IH0gfSk7XG52YXIgc2VydmVyX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlcnZlcl9jcmVkZW50aWFsc18xLmNyZWF0ZVNlcnZlckNyZWRlbnRpYWxzV2l0aEludGVyY2VwdG9yczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFsc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2NyZWRlbnRpYWxzXzEuY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzOyB9IH0pO1xudmFyIGNlcnRpZmljYXRlX3Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9jZXJ0aWZpY2F0ZS1wcm92aWRlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2VydGlmaWNhdGVfcHJvdmlkZXJfMS5GaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXI7IH0gfSk7XG52YXIgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfY3JlZGVudGlhbHNfMS5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzOyB9IH0pO1xudmFyIGludGVybmFsX2NoYW5uZWxfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsLWNoYW5uZWxcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnRlcm5hbF9jaGFubmVsXzEuU1VCQ0hBTk5FTF9BUkdTX0VYQ0xVREVfS0VZX1BSRUZJWDsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGVyaW1lbnRhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FilterStackFactory = exports.FilterStack = void 0;\nclass FilterStack {\n    constructor(filters) {\n        this.filters = filters;\n    }\n    sendMetadata(metadata) {\n        let result = metadata;\n        for (let i = 0; i < this.filters.length; i++) {\n            result = this.filters[i].sendMetadata(result);\n        }\n        return result;\n    }\n    receiveMetadata(metadata) {\n        let result = metadata;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveMetadata(result);\n        }\n        return result;\n    }\n    sendMessage(message) {\n        let result = message;\n        for (let i = 0; i < this.filters.length; i++) {\n            result = this.filters[i].sendMessage(result);\n        }\n        return result;\n    }\n    receiveMessage(message) {\n        let result = message;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveMessage(result);\n        }\n        return result;\n    }\n    receiveTrailers(status) {\n        let result = status;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveTrailers(result);\n        }\n        return result;\n    }\n    push(filters) {\n        this.filters.unshift(...filters);\n    }\n    getFilters() {\n        return this.filters;\n    }\n}\nexports.FilterStack = FilterStack;\nclass FilterStackFactory {\n    constructor(factories) {\n        this.factories = factories;\n    }\n    push(filterFactories) {\n        this.factories.unshift(...filterFactories);\n    }\n    clone() {\n        return new FilterStackFactory([...this.factories]);\n    }\n    createFilter() {\n        return new FilterStack(this.factories.map(factory => factory.createFilter()));\n    }\n}\nexports.FilterStackFactory = FilterStackFactory;\n//# sourceMappingURL=filter-stack.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLXN0YWNrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCLEdBQUcsbUJBQW1CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLXN0YWNrLmpzPzY4ODAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmlsdGVyU3RhY2tGYWN0b3J5ID0gZXhwb3J0cy5GaWx0ZXJTdGFjayA9IHZvaWQgMDtcbmNsYXNzIEZpbHRlclN0YWNrIHtcbiAgICBjb25zdHJ1Y3RvcihmaWx0ZXJzKSB7XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbWV0YWRhdGE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0uc2VuZE1ldGFkYXRhKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBtZXRhZGF0YTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW2ldLnJlY2VpdmVNZXRhZGF0YShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1lc3NhZ2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWx0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0uc2VuZE1lc3NhZ2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBtZXNzYWdlO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5maWx0ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0ucmVjZWl2ZU1lc3NhZ2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZWNlaXZlVHJhaWxlcnMoc3RhdHVzKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBzdGF0dXM7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyc1tpXS5yZWNlaXZlVHJhaWxlcnMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwdXNoKGZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJzLnVuc2hpZnQoLi4uZmlsdGVycyk7XG4gICAgfVxuICAgIGdldEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlcnM7XG4gICAgfVxufVxuZXhwb3J0cy5GaWx0ZXJTdGFjayA9IEZpbHRlclN0YWNrO1xuY2xhc3MgRmlsdGVyU3RhY2tGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihmYWN0b3JpZXMpIHtcbiAgICAgICAgdGhpcy5mYWN0b3JpZXMgPSBmYWN0b3JpZXM7XG4gICAgfVxuICAgIHB1c2goZmlsdGVyRmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzLnVuc2hpZnQoLi4uZmlsdGVyRmFjdG9yaWVzKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsdGVyU3RhY2tGYWN0b3J5KFsuLi50aGlzLmZhY3Rvcmllc10pO1xuICAgIH1cbiAgICBjcmVhdGVGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsdGVyU3RhY2sodGhpcy5mYWN0b3JpZXMubWFwKGZhY3RvcnkgPT4gZmFjdG9yeS5jcmVhdGVGaWx0ZXIoKSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsdGVyU3RhY2tGYWN0b3J5ID0gRmlsdGVyU3RhY2tGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLXN0YWNrLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseFilter = void 0;\nclass BaseFilter {\n    async sendMetadata(metadata) {\n        return metadata;\n    }\n    receiveMetadata(metadata) {\n        return metadata;\n    }\n    async sendMessage(message) {\n        return message;\n    }\n    async receiveMessage(message) {\n        return message;\n    }\n    receiveTrailers(status) {\n        return status;\n    }\n}\nexports.BaseFilter = BaseFilter;\n//# sourceMappingURL=filter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLmpzPzgwNzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFzZUZpbHRlciA9IHZvaWQgMDtcbmNsYXNzIEJhc2VGaWx0ZXIge1xuICAgIGFzeW5jIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGFzeW5jIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHJlY2VpdmVUcmFpbGVycyhzdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59XG5leHBvcnRzLkJhc2VGaWx0ZXIgPSBCYXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseCIDR = parseCIDR;\nexports.mapProxyName = mapProxyName;\nexports.getProxiedConnection = getProxiedConnection;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst url_1 = __webpack_require__(/*! url */ \"url\");\nconst resolver_dns_1 = __webpack_require__(/*! ./resolver-dns */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js\");\nconst TRACER_NAME = 'proxy';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nfunction getProxyInfo() {\n    let proxyEnv = '';\n    let envVar = '';\n    /* Prefer using 'grpc_proxy'. Fallback on 'http_proxy' if it is not set.\n     * Also prefer using 'https_proxy' with fallback on 'http_proxy'. The\n     * fallback behavior can be removed if there's a demand for it.\n     */\n    if (process.env.grpc_proxy) {\n        envVar = 'grpc_proxy';\n        proxyEnv = process.env.grpc_proxy;\n    }\n    else if (process.env.https_proxy) {\n        envVar = 'https_proxy';\n        proxyEnv = process.env.https_proxy;\n    }\n    else if (process.env.http_proxy) {\n        envVar = 'http_proxy';\n        proxyEnv = process.env.http_proxy;\n    }\n    else {\n        return {};\n    }\n    let proxyUrl;\n    try {\n        proxyUrl = new url_1.URL(proxyEnv);\n    }\n    catch (e) {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `cannot parse value of \"${envVar}\" env var`);\n        return {};\n    }\n    if (proxyUrl.protocol !== 'http:') {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `\"${proxyUrl.protocol}\" scheme not supported in proxy URI`);\n        return {};\n    }\n    let userCred = null;\n    if (proxyUrl.username) {\n        if (proxyUrl.password) {\n            (0, logging_1.log)(constants_1.LogVerbosity.INFO, 'userinfo found in proxy URI');\n            userCred = decodeURIComponent(`${proxyUrl.username}:${proxyUrl.password}`);\n        }\n        else {\n            userCred = proxyUrl.username;\n        }\n    }\n    const hostname = proxyUrl.hostname;\n    let port = proxyUrl.port;\n    /* The proxy URL uses the scheme \"http:\", which has a default port number of\n     * 80. We need to set that explicitly here if it is omitted because otherwise\n     * it will use gRPC's default port 443. */\n    if (port === '') {\n        port = '80';\n    }\n    const result = {\n        address: `${hostname}:${port}`,\n    };\n    if (userCred) {\n        result.creds = userCred;\n    }\n    trace('Proxy server ' + result.address + ' set by environment variable ' + envVar);\n    return result;\n}\nfunction getNoProxyHostList() {\n    /* Prefer using 'no_grpc_proxy'. Fallback on 'no_proxy' if it is not set. */\n    let noProxyStr = process.env.no_grpc_proxy;\n    let envVar = 'no_grpc_proxy';\n    if (!noProxyStr) {\n        noProxyStr = process.env.no_proxy;\n        envVar = 'no_proxy';\n    }\n    if (noProxyStr) {\n        trace('No proxy server list set by environment variable ' + envVar);\n        return noProxyStr.split(',');\n    }\n    else {\n        return [];\n    }\n}\n/*\n * The groups correspond to CIDR parts as follows:\n * 1. ip\n * 2. prefixLength\n */\nfunction parseCIDR(cidrString) {\n    const splitRange = cidrString.split('/');\n    if (splitRange.length !== 2) {\n        return null;\n    }\n    const prefixLength = parseInt(splitRange[1], 10);\n    if (!(0, net_1.isIPv4)(splitRange[0]) || Number.isNaN(prefixLength) || prefixLength < 0 || prefixLength > 32) {\n        return null;\n    }\n    return {\n        ip: ipToInt(splitRange[0]),\n        prefixLength: prefixLength\n    };\n}\nfunction ipToInt(ip) {\n    return ip.split(\".\").reduce((acc, octet) => (acc << 8) + parseInt(octet, 10), 0);\n}\nfunction isIpInCIDR(cidr, serverHost) {\n    const ip = cidr.ip;\n    const mask = -1 << (32 - cidr.prefixLength);\n    const hostIP = ipToInt(serverHost);\n    return (hostIP & mask) === (ip & mask);\n}\nfunction hostMatchesNoProxyList(serverHost) {\n    for (const host of getNoProxyHostList()) {\n        const parsedCIDR = parseCIDR(host);\n        // host is a CIDR and serverHost is an IP address\n        if ((0, net_1.isIPv4)(serverHost) && parsedCIDR && isIpInCIDR(parsedCIDR, serverHost)) {\n            return true;\n        }\n        else if (serverHost.endsWith(host)) {\n            // host is a single IP or a domain name suffix\n            return true;\n        }\n    }\n    return false;\n}\nfunction mapProxyName(target, options) {\n    var _a;\n    const noProxyResult = {\n        target: target,\n        extraOptions: {},\n    };\n    if (((_a = options['grpc.enable_http_proxy']) !== null && _a !== void 0 ? _a : 1) === 0) {\n        return noProxyResult;\n    }\n    if (target.scheme === 'unix') {\n        return noProxyResult;\n    }\n    const proxyInfo = getProxyInfo();\n    if (!proxyInfo.address) {\n        return noProxyResult;\n    }\n    const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n    if (!hostPort) {\n        return noProxyResult;\n    }\n    const serverHost = hostPort.host;\n    if (hostMatchesNoProxyList(serverHost)) {\n        trace('Not using proxy for target in no_proxy list: ' + (0, uri_parser_1.uriToString)(target));\n        return noProxyResult;\n    }\n    const extraOptions = {\n        'grpc.http_connect_target': (0, uri_parser_1.uriToString)(target),\n    };\n    if (proxyInfo.creds) {\n        extraOptions['grpc.http_connect_creds'] = proxyInfo.creds;\n    }\n    return {\n        target: {\n            scheme: 'dns',\n            path: proxyInfo.address,\n        },\n        extraOptions: extraOptions,\n    };\n}\nfunction getProxiedConnection(address, channelOptions) {\n    var _a;\n    if (!('grpc.http_connect_target' in channelOptions)) {\n        return Promise.resolve(null);\n    }\n    const realTarget = channelOptions['grpc.http_connect_target'];\n    const parsedTarget = (0, uri_parser_1.parseUri)(realTarget);\n    if (parsedTarget === null) {\n        return Promise.resolve(null);\n    }\n    const splitHostPost = (0, uri_parser_1.splitHostPort)(parsedTarget.path);\n    if (splitHostPost === null) {\n        return Promise.resolve(null);\n    }\n    const hostPort = `${splitHostPost.host}:${(_a = splitHostPost.port) !== null && _a !== void 0 ? _a : resolver_dns_1.DEFAULT_PORT}`;\n    const options = {\n        method: 'CONNECT',\n        path: hostPort,\n    };\n    const headers = {\n        Host: hostPort,\n    };\n    // Connect to the subchannel address as a proxy\n    if ((0, subchannel_address_1.isTcpSubchannelAddress)(address)) {\n        options.host = address.host;\n        options.port = address.port;\n    }\n    else {\n        options.socketPath = address.path;\n    }\n    if ('grpc.http_connect_creds' in channelOptions) {\n        headers['Proxy-Authorization'] =\n            'Basic ' +\n                Buffer.from(channelOptions['grpc.http_connect_creds']).toString('base64');\n    }\n    options.headers = headers;\n    const proxyAddressString = (0, subchannel_address_1.subchannelAddressToString)(address);\n    trace('Using proxy ' + proxyAddressString + ' to connect to ' + options.path);\n    return new Promise((resolve, reject) => {\n        const request = http.request(options);\n        request.once('connect', (res, socket, head) => {\n            request.removeAllListeners();\n            socket.removeAllListeners();\n            if (res.statusCode === 200) {\n                trace('Successfully connected to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString);\n                // The HTTP client may have already read a few bytes of the proxied\n                // connection. If that's the case, put them back into the socket.\n                // See https://github.com/grpc/grpc-node/issues/2744.\n                if (head.length > 0) {\n                    socket.unshift(head);\n                }\n                trace('Successfully established a plaintext connection to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString);\n                resolve(socket);\n            }\n            else {\n                (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString +\n                    ' with status ' +\n                    res.statusCode);\n                reject();\n            }\n        });\n        request.once('error', err => {\n            request.removeAllListeners();\n            (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to proxy ' +\n                proxyAddressString +\n                ' with error ' +\n                err.message);\n            reject();\n        });\n        request.end();\n    });\n}\n//# sourceMappingURL=http_proxy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaHR0cF9wcm94eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixvQkFBb0I7QUFDcEIsNEJBQTRCO0FBQzVCLGtCQUFrQixtQkFBTyxDQUFDLGtHQUFXO0FBQ3JDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQixhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQix1QkFBdUIsbUJBQU8sQ0FBQyw0R0FBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsT0FBTztBQUM1RjtBQUNBO0FBQ0E7QUFDQSwrREFBK0Qsa0JBQWtCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrQkFBa0IsR0FBRyxrQkFBa0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTLEdBQUcsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CLEdBQUcsdUZBQXVGO0FBQ3JJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2h0dHBfcHJveHkuanM/ZGY1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZUNJRFIgPSBwYXJzZUNJRFI7XG5leHBvcnRzLm1hcFByb3h5TmFtZSA9IG1hcFByb3h5TmFtZTtcbmV4cG9ydHMuZ2V0UHJveGllZENvbm5lY3Rpb24gPSBnZXRQcm94aWVkQ29ubmVjdGlvbjtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG5ldF8xID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgdXJsXzEgPSByZXF1aXJlKFwidXJsXCIpO1xuY29uc3QgcmVzb2x2ZXJfZG5zXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlci1kbnNcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdwcm94eSc7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIGdldFByb3h5SW5mbygpIHtcbiAgICBsZXQgcHJveHlFbnYgPSAnJztcbiAgICBsZXQgZW52VmFyID0gJyc7XG4gICAgLyogUHJlZmVyIHVzaW5nICdncnBjX3Byb3h5Jy4gRmFsbGJhY2sgb24gJ2h0dHBfcHJveHknIGlmIGl0IGlzIG5vdCBzZXQuXG4gICAgICogQWxzbyBwcmVmZXIgdXNpbmcgJ2h0dHBzX3Byb3h5JyB3aXRoIGZhbGxiYWNrIG9uICdodHRwX3Byb3h5Jy4gVGhlXG4gICAgICogZmFsbGJhY2sgYmVoYXZpb3IgY2FuIGJlIHJlbW92ZWQgaWYgdGhlcmUncyBhIGRlbWFuZCBmb3IgaXQuXG4gICAgICovXG4gICAgaWYgKHByb2Nlc3MuZW52LmdycGNfcHJveHkpIHtcbiAgICAgICAgZW52VmFyID0gJ2dycGNfcHJveHknO1xuICAgICAgICBwcm94eUVudiA9IHByb2Nlc3MuZW52LmdycGNfcHJveHk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lmh0dHBzX3Byb3h5KSB7XG4gICAgICAgIGVudlZhciA9ICdodHRwc19wcm94eSc7XG4gICAgICAgIHByb3h5RW52ID0gcHJvY2Vzcy5lbnYuaHR0cHNfcHJveHk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lmh0dHBfcHJveHkpIHtcbiAgICAgICAgZW52VmFyID0gJ2h0dHBfcHJveHknO1xuICAgICAgICBwcm94eUVudiA9IHByb2Nlc3MuZW52Lmh0dHBfcHJveHk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGxldCBwcm94eVVybDtcbiAgICB0cnkge1xuICAgICAgICBwcm94eVVybCA9IG5ldyB1cmxfMS5VUkwocHJveHlFbnYpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBgY2Fubm90IHBhcnNlIHZhbHVlIG9mIFwiJHtlbnZWYXJ9XCIgZW52IHZhcmApO1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChwcm94eVVybC5wcm90b2NvbCAhPT0gJ2h0dHA6Jykge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBgXCIke3Byb3h5VXJsLnByb3RvY29sfVwiIHNjaGVtZSBub3Qgc3VwcG9ydGVkIGluIHByb3h5IFVSSWApO1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGxldCB1c2VyQ3JlZCA9IG51bGw7XG4gICAgaWYgKHByb3h5VXJsLnVzZXJuYW1lKSB7XG4gICAgICAgIGlmIChwcm94eVVybC5wYXNzd29yZCkge1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5JTkZPLCAndXNlcmluZm8gZm91bmQgaW4gcHJveHkgVVJJJyk7XG4gICAgICAgICAgICB1c2VyQ3JlZCA9IGRlY29kZVVSSUNvbXBvbmVudChgJHtwcm94eVVybC51c2VybmFtZX06JHtwcm94eVVybC5wYXNzd29yZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJDcmVkID0gcHJveHlVcmwudXNlcm5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaG9zdG5hbWUgPSBwcm94eVVybC5ob3N0bmFtZTtcbiAgICBsZXQgcG9ydCA9IHByb3h5VXJsLnBvcnQ7XG4gICAgLyogVGhlIHByb3h5IFVSTCB1c2VzIHRoZSBzY2hlbWUgXCJodHRwOlwiLCB3aGljaCBoYXMgYSBkZWZhdWx0IHBvcnQgbnVtYmVyIG9mXG4gICAgICogODAuIFdlIG5lZWQgdG8gc2V0IHRoYXQgZXhwbGljaXRseSBoZXJlIGlmIGl0IGlzIG9taXR0ZWQgYmVjYXVzZSBvdGhlcndpc2VcbiAgICAgKiBpdCB3aWxsIHVzZSBnUlBDJ3MgZGVmYXVsdCBwb3J0IDQ0My4gKi9cbiAgICBpZiAocG9ydCA9PT0gJycpIHtcbiAgICAgICAgcG9ydCA9ICc4MCc7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgYWRkcmVzczogYCR7aG9zdG5hbWV9OiR7cG9ydH1gLFxuICAgIH07XG4gICAgaWYgKHVzZXJDcmVkKSB7XG4gICAgICAgIHJlc3VsdC5jcmVkcyA9IHVzZXJDcmVkO1xuICAgIH1cbiAgICB0cmFjZSgnUHJveHkgc2VydmVyICcgKyByZXN1bHQuYWRkcmVzcyArICcgc2V0IGJ5IGVudmlyb25tZW50IHZhcmlhYmxlICcgKyBlbnZWYXIpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXROb1Byb3h5SG9zdExpc3QoKSB7XG4gICAgLyogUHJlZmVyIHVzaW5nICdub19ncnBjX3Byb3h5Jy4gRmFsbGJhY2sgb24gJ25vX3Byb3h5JyBpZiBpdCBpcyBub3Qgc2V0LiAqL1xuICAgIGxldCBub1Byb3h5U3RyID0gcHJvY2Vzcy5lbnYubm9fZ3JwY19wcm94eTtcbiAgICBsZXQgZW52VmFyID0gJ25vX2dycGNfcHJveHknO1xuICAgIGlmICghbm9Qcm94eVN0cikge1xuICAgICAgICBub1Byb3h5U3RyID0gcHJvY2Vzcy5lbnYubm9fcHJveHk7XG4gICAgICAgIGVudlZhciA9ICdub19wcm94eSc7XG4gICAgfVxuICAgIGlmIChub1Byb3h5U3RyKSB7XG4gICAgICAgIHRyYWNlKCdObyBwcm94eSBzZXJ2ZXIgbGlzdCBzZXQgYnkgZW52aXJvbm1lbnQgdmFyaWFibGUgJyArIGVudlZhcik7XG4gICAgICAgIHJldHVybiBub1Byb3h5U3RyLnNwbGl0KCcsJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuLypcbiAqIFRoZSBncm91cHMgY29ycmVzcG9uZCB0byBDSURSIHBhcnRzIGFzIGZvbGxvd3M6XG4gKiAxLiBpcFxuICogMi4gcHJlZml4TGVuZ3RoXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ0lEUihjaWRyU3RyaW5nKSB7XG4gICAgY29uc3Qgc3BsaXRSYW5nZSA9IGNpZHJTdHJpbmcuc3BsaXQoJy8nKTtcbiAgICBpZiAoc3BsaXRSYW5nZS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHByZWZpeExlbmd0aCA9IHBhcnNlSW50KHNwbGl0UmFuZ2VbMV0sIDEwKTtcbiAgICBpZiAoISgwLCBuZXRfMS5pc0lQdjQpKHNwbGl0UmFuZ2VbMF0pIHx8IE51bWJlci5pc05hTihwcmVmaXhMZW5ndGgpIHx8IHByZWZpeExlbmd0aCA8IDAgfHwgcHJlZml4TGVuZ3RoID4gMzIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlwOiBpcFRvSW50KHNwbGl0UmFuZ2VbMF0pLFxuICAgICAgICBwcmVmaXhMZW5ndGg6IHByZWZpeExlbmd0aFxuICAgIH07XG59XG5mdW5jdGlvbiBpcFRvSW50KGlwKSB7XG4gICAgcmV0dXJuIGlwLnNwbGl0KFwiLlwiKS5yZWR1Y2UoKGFjYywgb2N0ZXQpID0+IChhY2MgPDwgOCkgKyBwYXJzZUludChvY3RldCwgMTApLCAwKTtcbn1cbmZ1bmN0aW9uIGlzSXBJbkNJRFIoY2lkciwgc2VydmVySG9zdCkge1xuICAgIGNvbnN0IGlwID0gY2lkci5pcDtcbiAgICBjb25zdCBtYXNrID0gLTEgPDwgKDMyIC0gY2lkci5wcmVmaXhMZW5ndGgpO1xuICAgIGNvbnN0IGhvc3RJUCA9IGlwVG9JbnQoc2VydmVySG9zdCk7XG4gICAgcmV0dXJuIChob3N0SVAgJiBtYXNrKSA9PT0gKGlwICYgbWFzayk7XG59XG5mdW5jdGlvbiBob3N0TWF0Y2hlc05vUHJveHlMaXN0KHNlcnZlckhvc3QpIHtcbiAgICBmb3IgKGNvbnN0IGhvc3Qgb2YgZ2V0Tm9Qcm94eUhvc3RMaXN0KCkpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkQ0lEUiA9IHBhcnNlQ0lEUihob3N0KTtcbiAgICAgICAgLy8gaG9zdCBpcyBhIENJRFIgYW5kIHNlcnZlckhvc3QgaXMgYW4gSVAgYWRkcmVzc1xuICAgICAgICBpZiAoKDAsIG5ldF8xLmlzSVB2NCkoc2VydmVySG9zdCkgJiYgcGFyc2VkQ0lEUiAmJiBpc0lwSW5DSURSKHBhcnNlZENJRFIsIHNlcnZlckhvc3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZXJ2ZXJIb3N0LmVuZHNXaXRoKGhvc3QpKSB7XG4gICAgICAgICAgICAvLyBob3N0IGlzIGEgc2luZ2xlIElQIG9yIGEgZG9tYWluIG5hbWUgc3VmZml4XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBtYXBQcm94eU5hbWUodGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG5vUHJveHlSZXN1bHQgPSB7XG4gICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICBleHRyYU9wdGlvbnM6IHt9LFxuICAgIH07XG4gICAgaWYgKCgoX2EgPSBvcHRpb25zWydncnBjLmVuYWJsZV9odHRwX3Byb3h5J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBub1Byb3h5UmVzdWx0O1xuICAgIH1cbiAgICBpZiAodGFyZ2V0LnNjaGVtZSA9PT0gJ3VuaXgnKSB7XG4gICAgICAgIHJldHVybiBub1Byb3h5UmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBwcm94eUluZm8gPSBnZXRQcm94eUluZm8oKTtcbiAgICBpZiAoIXByb3h5SW5mby5hZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiBub1Byb3h5UmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBob3N0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkodGFyZ2V0LnBhdGgpO1xuICAgIGlmICghaG9zdFBvcnQpIHtcbiAgICAgICAgcmV0dXJuIG5vUHJveHlSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IHNlcnZlckhvc3QgPSBob3N0UG9ydC5ob3N0O1xuICAgIGlmIChob3N0TWF0Y2hlc05vUHJveHlMaXN0KHNlcnZlckhvc3QpKSB7XG4gICAgICAgIHRyYWNlKCdOb3QgdXNpbmcgcHJveHkgZm9yIHRhcmdldCBpbiBub19wcm94eSBsaXN0OiAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSk7XG4gICAgICAgIHJldHVybiBub1Byb3h5UmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBleHRyYU9wdGlvbnMgPSB7XG4gICAgICAgICdncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnOiAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpLFxuICAgIH07XG4gICAgaWYgKHByb3h5SW5mby5jcmVkcykge1xuICAgICAgICBleHRyYU9wdGlvbnNbJ2dycGMuaHR0cF9jb25uZWN0X2NyZWRzJ10gPSBwcm94eUluZm8uY3JlZHM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgc2NoZW1lOiAnZG5zJyxcbiAgICAgICAgICAgIHBhdGg6IHByb3h5SW5mby5hZGRyZXNzLFxuICAgICAgICB9LFxuICAgICAgICBleHRyYU9wdGlvbnM6IGV4dHJhT3B0aW9ucyxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0UHJveGllZENvbm5lY3Rpb24oYWRkcmVzcywgY2hhbm5lbE9wdGlvbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCEoJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCcgaW4gY2hhbm5lbE9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IHJlYWxUYXJnZXQgPSBjaGFubmVsT3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0J107XG4gICAgY29uc3QgcGFyc2VkVGFyZ2V0ID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkocmVhbFRhcmdldCk7XG4gICAgaWYgKHBhcnNlZFRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBzcGxpdEhvc3RQb3N0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwYXJzZWRUYXJnZXQucGF0aCk7XG4gICAgaWYgKHNwbGl0SG9zdFBvc3QgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgY29uc3QgaG9zdFBvcnQgPSBgJHtzcGxpdEhvc3RQb3N0Lmhvc3R9OiR7KF9hID0gc3BsaXRIb3N0UG9zdC5wb3J0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiByZXNvbHZlcl9kbnNfMS5ERUZBVUxUX1BPUlR9YDtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdDT05ORUNUJyxcbiAgICAgICAgcGF0aDogaG9zdFBvcnQsXG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBIb3N0OiBob3N0UG9ydCxcbiAgICB9O1xuICAgIC8vIENvbm5lY3QgdG8gdGhlIHN1YmNoYW5uZWwgYWRkcmVzcyBhcyBhIHByb3h5XG4gICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzKShhZGRyZXNzKSkge1xuICAgICAgICBvcHRpb25zLmhvc3QgPSBhZGRyZXNzLmhvc3Q7XG4gICAgICAgIG9wdGlvbnMucG9ydCA9IGFkZHJlc3MucG9ydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuc29ja2V0UGF0aCA9IGFkZHJlc3MucGF0aDtcbiAgICB9XG4gICAgaWYgKCdncnBjLmh0dHBfY29ubmVjdF9jcmVkcycgaW4gY2hhbm5lbE9wdGlvbnMpIHtcbiAgICAgICAgaGVhZGVyc1snUHJveHktQXV0aG9yaXphdGlvbiddID1cbiAgICAgICAgICAgICdCYXNpYyAnICtcbiAgICAgICAgICAgICAgICBCdWZmZXIuZnJvbShjaGFubmVsT3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfY3JlZHMnXSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBvcHRpb25zLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIGNvbnN0IHByb3h5QWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKTtcbiAgICB0cmFjZSgnVXNpbmcgcHJveHkgJyArIHByb3h5QWRkcmVzc1N0cmluZyArICcgdG8gY29ubmVjdCB0byAnICsgb3B0aW9ucy5wYXRoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gaHR0cC5yZXF1ZXN0KG9wdGlvbnMpO1xuICAgICAgICByZXF1ZXN0Lm9uY2UoJ2Nvbm5lY3QnLCAocmVzLCBzb2NrZXQsIGhlYWQpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICBpZiAocmVzLnN0YXR1c0NvZGUgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRyYWNlKCdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggK1xuICAgICAgICAgICAgICAgICAgICAnIHRocm91Z2ggcHJveHkgJyArXG4gICAgICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIEhUVFAgY2xpZW50IG1heSBoYXZlIGFscmVhZHkgcmVhZCBhIGZldyBieXRlcyBvZiB0aGUgcHJveGllZFxuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24uIElmIHRoYXQncyB0aGUgY2FzZSwgcHV0IHRoZW0gYmFjayBpbnRvIHRoZSBzb2NrZXQuXG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMtbm9kZS9pc3N1ZXMvMjc0NC5cbiAgICAgICAgICAgICAgICBpZiAoaGVhZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC51bnNoaWZ0KGhlYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjZSgnU3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVkIGEgcGxhaW50ZXh0IGNvbm5lY3Rpb24gdG8gJyArXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGF0aCArXG4gICAgICAgICAgICAgICAgICAgICcgdGhyb3VnaCBwcm94eSAnICtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBZGRyZXNzU3RyaW5nKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHNvY2tldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGF0aCArXG4gICAgICAgICAgICAgICAgICAgICcgdGhyb3VnaCBwcm94eSAnICtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgJyB3aXRoIHN0YXR1cyAnICtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5vbmNlKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgJ0ZhaWxlZCB0byBjb25uZWN0IHRvIHByb3h5ICcgK1xuICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5lbmQoKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHBfcHJveHkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.experimental = exports.ServerMetricRecorder = exports.ServerInterceptingCall = exports.ResponderBuilder = exports.ServerListenerBuilder = exports.addAdminServicesToServer = exports.getChannelzHandlers = exports.getChannelzServiceDefinition = exports.InterceptorConfigurationError = exports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.StatusBuilder = exports.getClientChannel = exports.ServerCredentials = exports.Server = exports.setLogVerbosity = exports.setLogger = exports.load = exports.loadObject = exports.CallCredentials = exports.ChannelCredentials = exports.waitForClientReady = exports.closeClient = exports.Channel = exports.makeGenericClientConstructor = exports.makeClientConstructor = exports.loadPackageDefinition = exports.Client = exports.compressionAlgorithms = exports.propagate = exports.connectivityState = exports.status = exports.logVerbosity = exports.Metadata = exports.credentials = void 0;\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nObject.defineProperty(exports, \"CallCredentials\", ({ enumerable: true, get: function () { return call_credentials_1.CallCredentials; } }));\nconst channel_1 = __webpack_require__(/*! ./channel */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel.js\");\nObject.defineProperty(exports, \"Channel\", ({ enumerable: true, get: function () { return channel_1.ChannelImplementation; } }));\nconst compression_algorithms_1 = __webpack_require__(/*! ./compression-algorithms */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js\");\nObject.defineProperty(exports, \"compressionAlgorithms\", ({ enumerable: true, get: function () { return compression_algorithms_1.CompressionAlgorithms; } }));\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nObject.defineProperty(exports, \"connectivityState\", ({ enumerable: true, get: function () { return connectivity_state_1.ConnectivityState; } }));\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nObject.defineProperty(exports, \"ChannelCredentials\", ({ enumerable: true, get: function () { return channel_credentials_1.ChannelCredentials; } }));\nconst client_1 = __webpack_require__(/*! ./client */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js\");\nObject.defineProperty(exports, \"Client\", ({ enumerable: true, get: function () { return client_1.Client; } }));\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nObject.defineProperty(exports, \"logVerbosity\", ({ enumerable: true, get: function () { return constants_1.LogVerbosity; } }));\nObject.defineProperty(exports, \"status\", ({ enumerable: true, get: function () { return constants_1.Status; } }));\nObject.defineProperty(exports, \"propagate\", ({ enumerable: true, get: function () { return constants_1.Propagate; } }));\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\");\nObject.defineProperty(exports, \"loadPackageDefinition\", ({ enumerable: true, get: function () { return make_client_1.loadPackageDefinition; } }));\nObject.defineProperty(exports, \"makeClientConstructor\", ({ enumerable: true, get: function () { return make_client_1.makeClientConstructor; } }));\nObject.defineProperty(exports, \"makeGenericClientConstructor\", ({ enumerable: true, get: function () { return make_client_1.makeClientConstructor; } }));\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nObject.defineProperty(exports, \"Metadata\", ({ enumerable: true, get: function () { return metadata_1.Metadata; } }));\nconst server_1 = __webpack_require__(/*! ./server */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js\");\nObject.defineProperty(exports, \"Server\", ({ enumerable: true, get: function () { return server_1.Server; } }));\nconst server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nObject.defineProperty(exports, \"ServerCredentials\", ({ enumerable: true, get: function () { return server_credentials_1.ServerCredentials; } }));\nconst status_builder_1 = __webpack_require__(/*! ./status-builder */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js\");\nObject.defineProperty(exports, \"StatusBuilder\", ({ enumerable: true, get: function () { return status_builder_1.StatusBuilder; } }));\n/**** Client Credentials ****/\n// Using assign only copies enumerable properties, which is what we want\nexports.credentials = {\n    /**\n     * Combine a ChannelCredentials with any number of CallCredentials into a\n     * single ChannelCredentials object.\n     * @param channelCredentials The ChannelCredentials object.\n     * @param callCredentials Any number of CallCredentials objects.\n     * @return The resulting ChannelCredentials object.\n     */\n    combineChannelCredentials: (channelCredentials, ...callCredentials) => {\n        return callCredentials.reduce((acc, other) => acc.compose(other), channelCredentials);\n    },\n    /**\n     * Combine any number of CallCredentials into a single CallCredentials\n     * object.\n     * @param first The first CallCredentials object.\n     * @param additional Any number of additional CallCredentials objects.\n     * @return The resulting CallCredentials object.\n     */\n    combineCallCredentials: (first, ...additional) => {\n        return additional.reduce((acc, other) => acc.compose(other), first);\n    },\n    // from channel-credentials.ts\n    createInsecure: channel_credentials_1.ChannelCredentials.createInsecure,\n    createSsl: channel_credentials_1.ChannelCredentials.createSsl,\n    createFromSecureContext: channel_credentials_1.ChannelCredentials.createFromSecureContext,\n    // from call-credentials.ts\n    createFromMetadataGenerator: call_credentials_1.CallCredentials.createFromMetadataGenerator,\n    createFromGoogleCredential: call_credentials_1.CallCredentials.createFromGoogleCredential,\n    createEmpty: call_credentials_1.CallCredentials.createEmpty,\n};\n/**\n * Close a Client object.\n * @param client The client to close.\n */\nconst closeClient = (client) => client.close();\nexports.closeClient = closeClient;\nconst waitForClientReady = (client, deadline, callback) => client.waitForReady(deadline, callback);\nexports.waitForClientReady = waitForClientReady;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n/**** Unimplemented function stubs ****/\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst loadObject = (value, options) => {\n    throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.loadObject = loadObject;\nconst load = (filename, format, options) => {\n    throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.load = load;\nconst setLogger = (logger) => {\n    logging.setLogger(logger);\n};\nexports.setLogger = setLogger;\nconst setLogVerbosity = (verbosity) => {\n    logging.setLoggerVerbosity(verbosity);\n};\nexports.setLogVerbosity = setLogVerbosity;\nconst getClientChannel = (client) => {\n    return client_1.Client.prototype.getChannel.call(client);\n};\nexports.getClientChannel = getClientChannel;\nvar client_interceptors_1 = __webpack_require__(/*! ./client-interceptors */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js\");\nObject.defineProperty(exports, \"ListenerBuilder\", ({ enumerable: true, get: function () { return client_interceptors_1.ListenerBuilder; } }));\nObject.defineProperty(exports, \"RequesterBuilder\", ({ enumerable: true, get: function () { return client_interceptors_1.RequesterBuilder; } }));\nObject.defineProperty(exports, \"InterceptingCall\", ({ enumerable: true, get: function () { return client_interceptors_1.InterceptingCall; } }));\nObject.defineProperty(exports, \"InterceptorConfigurationError\", ({ enumerable: true, get: function () { return client_interceptors_1.InterceptorConfigurationError; } }));\nvar channelz_1 = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nObject.defineProperty(exports, \"getChannelzServiceDefinition\", ({ enumerable: true, get: function () { return channelz_1.getChannelzServiceDefinition; } }));\nObject.defineProperty(exports, \"getChannelzHandlers\", ({ enumerable: true, get: function () { return channelz_1.getChannelzHandlers; } }));\nvar admin_1 = __webpack_require__(/*! ./admin */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/admin.js\");\nObject.defineProperty(exports, \"addAdminServicesToServer\", ({ enumerable: true, get: function () { return admin_1.addAdminServicesToServer; } }));\nvar server_interceptors_1 = __webpack_require__(/*! ./server-interceptors */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js\");\nObject.defineProperty(exports, \"ServerListenerBuilder\", ({ enumerable: true, get: function () { return server_interceptors_1.ServerListenerBuilder; } }));\nObject.defineProperty(exports, \"ResponderBuilder\", ({ enumerable: true, get: function () { return server_interceptors_1.ResponderBuilder; } }));\nObject.defineProperty(exports, \"ServerInterceptingCall\", ({ enumerable: true, get: function () { return server_interceptors_1.ServerInterceptingCall; } }));\nvar orca_1 = __webpack_require__(/*! ./orca */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/orca.js\");\nObject.defineProperty(exports, \"ServerMetricRecorder\", ({ enumerable: true, get: function () { return orca_1.ServerMetricRecorder; } }));\nconst experimental = __webpack_require__(/*! ./experimental */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js\");\nexports.experimental = experimental;\nconst resolver_dns = __webpack_require__(/*! ./resolver-dns */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js\");\nconst resolver_uds = __webpack_require__(/*! ./resolver-uds */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js\");\nconst resolver_ip = __webpack_require__(/*! ./resolver-ip */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js\");\nconst load_balancer_pick_first = __webpack_require__(/*! ./load-balancer-pick-first */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nconst load_balancer_round_robin = __webpack_require__(/*! ./load-balancer-round-robin */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js\");\nconst load_balancer_outlier_detection = __webpack_require__(/*! ./load-balancer-outlier-detection */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\");\nconst load_balancer_weighted_round_robin = __webpack_require__(/*! ./load-balancer-weighted-round-robin */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-weighted-round-robin.js\");\nconst channelz = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\n(() => {\n    resolver_dns.setup();\n    resolver_uds.setup();\n    resolver_ip.setup();\n    load_balancer_pick_first.setup();\n    load_balancer_round_robin.setup();\n    load_balancer_outlier_detection.setup();\n    load_balancer_weighted_round_robin.setup();\n    channelz.setup();\n})();\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyw0QkFBNEIsR0FBRyw4QkFBOEIsR0FBRyx3QkFBd0IsR0FBRyw2QkFBNkIsR0FBRyxnQ0FBZ0MsR0FBRywyQkFBMkIsR0FBRyxvQ0FBb0MsR0FBRyxxQ0FBcUMsR0FBRyx3QkFBd0IsR0FBRyx3QkFBd0IsR0FBRyx1QkFBdUIsR0FBRyxxQkFBcUIsR0FBRyx3QkFBd0IsR0FBRyx5QkFBeUIsR0FBRyxjQUFjLEdBQUcsdUJBQXVCLEdBQUcsaUJBQWlCLEdBQUcsWUFBWSxHQUFHLGtCQUFrQixHQUFHLHVCQUF1QixHQUFHLDBCQUEwQixHQUFHLDBCQUEwQixHQUFHLG1CQUFtQixHQUFHLGVBQWUsR0FBRyxvQ0FBb0MsR0FBRyw2QkFBNkIsR0FBRyw2QkFBNkIsR0FBRyxjQUFjLEdBQUcsNkJBQTZCLEdBQUcsaUJBQWlCLEdBQUcseUJBQXlCLEdBQUcsY0FBYyxHQUFHLG9CQUFvQixHQUFHLGdCQUFnQixHQUFHLG1CQUFtQjtBQUN0N0IsMkJBQTJCLG1CQUFPLENBQUMsb0hBQW9CO0FBQ3ZELG1EQUFrRCxFQUFFLHFDQUFxQyw4Q0FBOEMsRUFBQztBQUN4SSxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNyQywyQ0FBMEMsRUFBRSxxQ0FBcUMsMkNBQTJDLEVBQUM7QUFDN0gsaUNBQWlDLG1CQUFPLENBQUMsZ0lBQTBCO0FBQ25FLHlEQUF3RCxFQUFFLHFDQUFxQywwREFBMEQsRUFBQztBQUMxSiw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QscURBQW9ELEVBQUUscUNBQXFDLGtEQUFrRCxFQUFDO0FBQzlJLDhCQUE4QixtQkFBTyxDQUFDLDBIQUF1QjtBQUM3RCxzREFBcUQsRUFBRSxxQ0FBcUMsb0RBQW9ELEVBQUM7QUFDakosaUJBQWlCLG1CQUFPLENBQUMsZ0dBQVU7QUFDbkMsMENBQXlDLEVBQUUscUNBQXFDLDJCQUEyQixFQUFDO0FBQzVHLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLGdEQUErQyxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUMzSCwwQ0FBeUMsRUFBRSxxQ0FBcUMsOEJBQThCLEVBQUM7QUFDL0csNkNBQTRDLEVBQUUscUNBQXFDLGlDQUFpQyxFQUFDO0FBQ3JILGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DLHNCQUFzQixtQkFBTyxDQUFDLDBHQUFlO0FBQzdDLHlEQUF3RCxFQUFFLHFDQUFxQywrQ0FBK0MsRUFBQztBQUMvSSx5REFBd0QsRUFBRSxxQ0FBcUMsK0NBQStDLEVBQUM7QUFDL0ksZ0VBQStELEVBQUUscUNBQXFDLCtDQUErQyxFQUFDO0FBQ3RKLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLDRDQUEyQyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNsSCxpQkFBaUIsbUJBQU8sQ0FBQyxnR0FBVTtBQUNuQywwQ0FBeUMsRUFBRSxxQ0FBcUMsMkJBQTJCLEVBQUM7QUFDNUcsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELHFEQUFvRCxFQUFFLHFDQUFxQyxrREFBa0QsRUFBQztBQUM5SSx5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQsaURBQWdELEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQ2xJO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsNEJBQTRCLG1CQUFPLENBQUMsMEhBQXVCO0FBQzNELG1EQUFrRCxFQUFFLHFDQUFxQyxpREFBaUQsRUFBQztBQUMzSSxvREFBbUQsRUFBRSxxQ0FBcUMsa0RBQWtELEVBQUM7QUFDN0ksb0RBQW1ELEVBQUUscUNBQXFDLGtEQUFrRCxFQUFDO0FBQzdJLGlFQUFnRSxFQUFFLHFDQUFxQywrREFBK0QsRUFBQztBQUN2SyxpQkFBaUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUNyQyxnRUFBK0QsRUFBRSxxQ0FBcUMsbURBQW1ELEVBQUM7QUFDMUosdURBQXNELEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQ3hJLGNBQWMsbUJBQU8sQ0FBQyw4RkFBUztBQUMvQiw0REFBMkQsRUFBRSxxQ0FBcUMsNENBQTRDLEVBQUM7QUFDL0ksNEJBQTRCLG1CQUFPLENBQUMsMEhBQXVCO0FBQzNELHlEQUF3RCxFQUFFLHFDQUFxQyx1REFBdUQsRUFBQztBQUN2SixvREFBbUQsRUFBRSxxQ0FBcUMsa0RBQWtELEVBQUM7QUFDN0ksMERBQXlELEVBQUUscUNBQXFDLHdEQUF3RCxFQUFDO0FBQ3pKLGFBQWEsbUJBQU8sQ0FBQyw0RkFBUTtBQUM3Qix3REFBdUQsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDdEkscUJBQXFCLG1CQUFPLENBQUMsNEdBQWdCO0FBQzdDLG9CQUFvQjtBQUNwQixxQkFBcUIsbUJBQU8sQ0FBQyw0R0FBZ0I7QUFDN0MscUJBQXFCLG1CQUFPLENBQUMsNEdBQWdCO0FBQzdDLG9CQUFvQixtQkFBTyxDQUFDLDBHQUFlO0FBQzNDLGlDQUFpQyxtQkFBTyxDQUFDLG9JQUE0QjtBQUNyRSxrQ0FBa0MsbUJBQU8sQ0FBQyxzSUFBNkI7QUFDdkUsd0NBQXdDLG1CQUFPLENBQUMsa0pBQW1DO0FBQ25GLDJDQUEyQyxtQkFBTyxDQUFDLHdKQUFzQztBQUN6RixpQkFBaUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW5kZXguanM/NTFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHBlcmltZW50YWwgPSBleHBvcnRzLlNlcnZlck1ldHJpY1JlY29yZGVyID0gZXhwb3J0cy5TZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gZXhwb3J0cy5SZXNwb25kZXJCdWlsZGVyID0gZXhwb3J0cy5TZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIgPSBleHBvcnRzLmFkZEFkbWluU2VydmljZXNUb1NlcnZlciA9IGV4cG9ydHMuZ2V0Q2hhbm5lbHpIYW5kbGVycyA9IGV4cG9ydHMuZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiA9IGV4cG9ydHMuSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IgPSBleHBvcnRzLkludGVyY2VwdGluZ0NhbGwgPSBleHBvcnRzLlJlcXVlc3RlckJ1aWxkZXIgPSBleHBvcnRzLkxpc3RlbmVyQnVpbGRlciA9IGV4cG9ydHMuU3RhdHVzQnVpbGRlciA9IGV4cG9ydHMuZ2V0Q2xpZW50Q2hhbm5lbCA9IGV4cG9ydHMuU2VydmVyQ3JlZGVudGlhbHMgPSBleHBvcnRzLlNlcnZlciA9IGV4cG9ydHMuc2V0TG9nVmVyYm9zaXR5ID0gZXhwb3J0cy5zZXRMb2dnZXIgPSBleHBvcnRzLmxvYWQgPSBleHBvcnRzLmxvYWRPYmplY3QgPSBleHBvcnRzLkNhbGxDcmVkZW50aWFscyA9IGV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gZXhwb3J0cy53YWl0Rm9yQ2xpZW50UmVhZHkgPSBleHBvcnRzLmNsb3NlQ2xpZW50ID0gZXhwb3J0cy5DaGFubmVsID0gZXhwb3J0cy5tYWtlR2VuZXJpY0NsaWVudENvbnN0cnVjdG9yID0gZXhwb3J0cy5tYWtlQ2xpZW50Q29uc3RydWN0b3IgPSBleHBvcnRzLmxvYWRQYWNrYWdlRGVmaW5pdGlvbiA9IGV4cG9ydHMuQ2xpZW50ID0gZXhwb3J0cy5jb21wcmVzc2lvbkFsZ29yaXRobXMgPSBleHBvcnRzLnByb3BhZ2F0ZSA9IGV4cG9ydHMuY29ubmVjdGl2aXR5U3RhdGUgPSBleHBvcnRzLnN0YXR1cyA9IGV4cG9ydHMubG9nVmVyYm9zaXR5ID0gZXhwb3J0cy5NZXRhZGF0YSA9IGV4cG9ydHMuY3JlZGVudGlhbHMgPSB2b2lkIDA7XG5jb25zdCBjYWxsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jYWxsLWNyZWRlbnRpYWxzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2FsbENyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzOyB9IH0pO1xuY29uc3QgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vY2hhbm5lbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNoYW5uZWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfMS5DaGFubmVsSW1wbGVtZW50YXRpb247IH0gfSk7XG5jb25zdCBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEgPSByZXF1aXJlKFwiLi9jb21wcmVzc2lvbi1hbGdvcml0aG1zXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29tcHJlc3Npb25BbGdvcml0aG1zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEuQ29tcHJlc3Npb25BbGdvcml0aG1zOyB9IH0pO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25uZWN0aXZpdHlTdGF0ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGU7IH0gfSk7XG5jb25zdCBjaGFubmVsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWNyZWRlbnRpYWxzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hhbm5lbENyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzOyB9IH0pO1xuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiLi9jbGllbnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF8xLkNsaWVudDsgfSB9KTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibG9nVmVyYm9zaXR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdGF0dXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnN0YW50c18xLlN0YXR1czsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInByb3BhZ2F0ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uc3RhbnRzXzEuUHJvcGFnYXRlOyB9IH0pO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBtYWtlX2NsaWVudF8xID0gcmVxdWlyZShcIi4vbWFrZS1jbGllbnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsb2FkUGFja2FnZURlZmluaXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VfY2xpZW50XzEubG9hZFBhY2thZ2VEZWZpbml0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZUNsaWVudENvbnN0cnVjdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYWtlX2NsaWVudF8xLm1ha2VDbGllbnRDb25zdHJ1Y3RvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1ha2VHZW5lcmljQ2xpZW50Q29uc3RydWN0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VfY2xpZW50XzEubWFrZUNsaWVudENvbnN0cnVjdG9yOyB9IH0pO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWV0YWRhdGFcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGFkYXRhXzEuTWV0YWRhdGE7IH0gfSk7XG5jb25zdCBzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3NlcnZlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyXzEuU2VydmVyOyB9IH0pO1xuY29uc3Qgc2VydmVyX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTZXJ2ZXJDcmVkZW50aWFsc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2NyZWRlbnRpYWxzXzEuU2VydmVyQ3JlZGVudGlhbHM7IH0gfSk7XG5jb25zdCBzdGF0dXNfYnVpbGRlcl8xID0gcmVxdWlyZShcIi4vc3RhdHVzLWJ1aWxkZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdGF0dXNCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0dXNfYnVpbGRlcl8xLlN0YXR1c0J1aWxkZXI7IH0gfSk7XG4vKioqKiBDbGllbnQgQ3JlZGVudGlhbHMgKioqKi9cbi8vIFVzaW5nIGFzc2lnbiBvbmx5IGNvcGllcyBlbnVtZXJhYmxlIHByb3BlcnRpZXMsIHdoaWNoIGlzIHdoYXQgd2Ugd2FudFxuZXhwb3J0cy5jcmVkZW50aWFscyA9IHtcbiAgICAvKipcbiAgICAgKiBDb21iaW5lIGEgQ2hhbm5lbENyZWRlbnRpYWxzIHdpdGggYW55IG51bWJlciBvZiBDYWxsQ3JlZGVudGlhbHMgaW50byBhXG4gICAgICogc2luZ2xlIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICogQHBhcmFtIGNoYW5uZWxDcmVkZW50aWFscyBUaGUgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gY2FsbENyZWRlbnRpYWxzIEFueSBudW1iZXIgb2YgQ2FsbENyZWRlbnRpYWxzIG9iamVjdHMuXG4gICAgICogQHJldHVybiBUaGUgcmVzdWx0aW5nIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICovXG4gICAgY29tYmluZUNoYW5uZWxDcmVkZW50aWFsczogKGNoYW5uZWxDcmVkZW50aWFscywgLi4uY2FsbENyZWRlbnRpYWxzKSA9PiB7XG4gICAgICAgIHJldHVybiBjYWxsQ3JlZGVudGlhbHMucmVkdWNlKChhY2MsIG90aGVyKSA9PiBhY2MuY29tcG9zZShvdGhlciksIGNoYW5uZWxDcmVkZW50aWFscyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb21iaW5lIGFueSBudW1iZXIgb2YgQ2FsbENyZWRlbnRpYWxzIGludG8gYSBzaW5nbGUgQ2FsbENyZWRlbnRpYWxzXG4gICAgICogb2JqZWN0LlxuICAgICAqIEBwYXJhbSBmaXJzdCBUaGUgZmlyc3QgQ2FsbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gYWRkaXRpb25hbCBBbnkgbnVtYmVyIG9mIGFkZGl0aW9uYWwgQ2FsbENyZWRlbnRpYWxzIG9iamVjdHMuXG4gICAgICogQHJldHVybiBUaGUgcmVzdWx0aW5nIENhbGxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICovXG4gICAgY29tYmluZUNhbGxDcmVkZW50aWFsczogKGZpcnN0LCAuLi5hZGRpdGlvbmFsKSA9PiB7XG4gICAgICAgIHJldHVybiBhZGRpdGlvbmFsLnJlZHVjZSgoYWNjLCBvdGhlcikgPT4gYWNjLmNvbXBvc2Uob3RoZXIpLCBmaXJzdCk7XG4gICAgfSxcbiAgICAvLyBmcm9tIGNoYW5uZWwtY3JlZGVudGlhbHMudHNcbiAgICBjcmVhdGVJbnNlY3VyZTogY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscy5jcmVhdGVJbnNlY3VyZSxcbiAgICBjcmVhdGVTc2w6IGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHMuY3JlYXRlU3NsLFxuICAgIGNyZWF0ZUZyb21TZWN1cmVDb250ZXh0OiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzLmNyZWF0ZUZyb21TZWN1cmVDb250ZXh0LFxuICAgIC8vIGZyb20gY2FsbC1jcmVkZW50aWFscy50c1xuICAgIGNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcjogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVGcm9tTWV0YWRhdGFHZW5lcmF0b3IsXG4gICAgY3JlYXRlRnJvbUdvb2dsZUNyZWRlbnRpYWw6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRnJvbUdvb2dsZUNyZWRlbnRpYWwsXG4gICAgY3JlYXRlRW1wdHk6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHksXG59O1xuLyoqXG4gKiBDbG9zZSBhIENsaWVudCBvYmplY3QuXG4gKiBAcGFyYW0gY2xpZW50IFRoZSBjbGllbnQgdG8gY2xvc2UuXG4gKi9cbmNvbnN0IGNsb3NlQ2xpZW50ID0gKGNsaWVudCkgPT4gY2xpZW50LmNsb3NlKCk7XG5leHBvcnRzLmNsb3NlQ2xpZW50ID0gY2xvc2VDbGllbnQ7XG5jb25zdCB3YWl0Rm9yQ2xpZW50UmVhZHkgPSAoY2xpZW50LCBkZWFkbGluZSwgY2FsbGJhY2spID0+IGNsaWVudC53YWl0Rm9yUmVhZHkoZGVhZGxpbmUsIGNhbGxiYWNrKTtcbmV4cG9ydHMud2FpdEZvckNsaWVudFJlYWR5ID0gd2FpdEZvckNsaWVudFJlYWR5O1xuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKioqKiBVbmltcGxlbWVudGVkIGZ1bmN0aW9uIHN0dWJzICoqKiovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5jb25zdCBsb2FkT2JqZWN0ID0gKHZhbHVlLCBvcHRpb25zKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXZhaWxhYmxlIGluIHRoaXMgbGlicmFyeS4gVXNlIEBncnBjL3Byb3RvLWxvYWRlciBhbmQgbG9hZFBhY2thZ2VEZWZpbml0aW9uIGluc3RlYWQnKTtcbn07XG5leHBvcnRzLmxvYWRPYmplY3QgPSBsb2FkT2JqZWN0O1xuY29uc3QgbG9hZCA9IChmaWxlbmFtZSwgZm9ybWF0LCBvcHRpb25zKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXZhaWxhYmxlIGluIHRoaXMgbGlicmFyeS4gVXNlIEBncnBjL3Byb3RvLWxvYWRlciBhbmQgbG9hZFBhY2thZ2VEZWZpbml0aW9uIGluc3RlYWQnKTtcbn07XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuY29uc3Qgc2V0TG9nZ2VyID0gKGxvZ2dlcikgPT4ge1xuICAgIGxvZ2dpbmcuc2V0TG9nZ2VyKGxvZ2dlcik7XG59O1xuZXhwb3J0cy5zZXRMb2dnZXIgPSBzZXRMb2dnZXI7XG5jb25zdCBzZXRMb2dWZXJib3NpdHkgPSAodmVyYm9zaXR5KSA9PiB7XG4gICAgbG9nZ2luZy5zZXRMb2dnZXJWZXJib3NpdHkodmVyYm9zaXR5KTtcbn07XG5leHBvcnRzLnNldExvZ1ZlcmJvc2l0eSA9IHNldExvZ1ZlcmJvc2l0eTtcbmNvbnN0IGdldENsaWVudENoYW5uZWwgPSAoY2xpZW50KSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUuZ2V0Q2hhbm5lbC5jYWxsKGNsaWVudCk7XG59O1xuZXhwb3J0cy5nZXRDbGllbnRDaGFubmVsID0gZ2V0Q2xpZW50Q2hhbm5lbDtcbnZhciBjbGllbnRfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9jbGllbnQtaW50ZXJjZXB0b3JzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTGlzdGVuZXJCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuTGlzdGVuZXJCdWlsZGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVxdWVzdGVyQnVpbGRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50X2ludGVyY2VwdG9yc18xLlJlcXVlc3RlckJ1aWxkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJJbnRlcmNlcHRpbmdDYWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuSW50ZXJjZXB0aW5nQ2FsbDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3I7IH0gfSk7XG52YXIgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbHpfMS5nZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q2hhbm5lbHpIYW5kbGVyc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbHpfMS5nZXRDaGFubmVsekhhbmRsZXJzOyB9IH0pO1xudmFyIGFkbWluXzEgPSByZXF1aXJlKFwiLi9hZG1pblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImFkZEFkbWluU2VydmljZXNUb1NlcnZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRtaW5fMS5hZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXI7IH0gfSk7XG52YXIgc2VydmVyX2ludGVyY2VwdG9yc18xID0gcmVxdWlyZShcIi4vc2VydmVyLWludGVyY2VwdG9yc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlckxpc3RlbmVyQnVpbGRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2ludGVyY2VwdG9yc18xLlNlcnZlckxpc3RlbmVyQnVpbGRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlc3BvbmRlckJ1aWxkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlcnZlcl9pbnRlcmNlcHRvcnNfMS5SZXNwb25kZXJCdWlsZGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVySW50ZXJjZXB0aW5nQ2FsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2ludGVyY2VwdG9yc18xLlNlcnZlckludGVyY2VwdGluZ0NhbGw7IH0gfSk7XG52YXIgb3JjYV8xID0gcmVxdWlyZShcIi4vb3JjYVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlck1ldHJpY1JlY29yZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvcmNhXzEuU2VydmVyTWV0cmljUmVjb3JkZXI7IH0gfSk7XG5jb25zdCBleHBlcmltZW50YWwgPSByZXF1aXJlKFwiLi9leHBlcmltZW50YWxcIik7XG5leHBvcnRzLmV4cGVyaW1lbnRhbCA9IGV4cGVyaW1lbnRhbDtcbmNvbnN0IHJlc29sdmVyX2RucyA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyLWRuc1wiKTtcbmNvbnN0IHJlc29sdmVyX3VkcyA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyLXVkc1wiKTtcbmNvbnN0IHJlc29sdmVyX2lwID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItaXBcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3QgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3RcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3JvdW5kX3JvYmluID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1yb3VuZC1yb2JpblwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfb3V0bGllcl9kZXRlY3Rpb24gPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl93ZWlnaHRlZF9yb3VuZF9yb2JpbiA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItd2VpZ2h0ZWQtcm91bmQtcm9iaW5cIik7XG5jb25zdCBjaGFubmVseiA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuKCgpID0+IHtcbiAgICByZXNvbHZlcl9kbnMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl91ZHMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl9pcC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcGlja19maXJzdC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4uc2V0dXAoKTtcbiAgICBsb2FkX2JhbGFuY2VyX291dGxpZXJfZGV0ZWN0aW9uLnNldHVwKCk7XG4gICAgbG9hZF9iYWxhbmNlcl93ZWlnaHRlZF9yb3VuZF9yb2Jpbi5zZXR1cCgpO1xuICAgIGNoYW5uZWx6LnNldHVwKCk7XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.InternalChannel = exports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX = void 0;\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst resolving_load_balancer_1 = __webpack_require__(/*! ./resolving-load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js\");\nconst subchannel_pool_1 = __webpack_require__(/*! ./subchannel-pool */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nconst compression_filter_1 = __webpack_require__(/*! ./compression-filter */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst http_proxy_1 = __webpack_require__(/*! ./http_proxy */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst load_balancing_call_1 = __webpack_require__(/*! ./load-balancing-call */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst resolving_call_1 = __webpack_require__(/*! ./resolving-call */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js\");\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst retrying_call_1 = __webpack_require__(/*! ./retrying-call */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\n/**\n * See https://nodejs.org/api/timers.html#timers_setinterval_callback_delay_args\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\nconst MIN_IDLE_TIMEOUT_MS = 1000;\n// 30 minutes\nconst DEFAULT_IDLE_TIMEOUT_MS = 30 * 60 * 1000;\nconst RETRY_THROTTLER_MAP = new Map();\nconst DEFAULT_RETRY_BUFFER_SIZE_BYTES = 1 << 24; // 16 MB\nconst DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES = 1 << 20; // 1 MB\nclass ChannelSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(childSubchannel, channel) {\n        super(childSubchannel);\n        this.channel = channel;\n        this.refCount = 0;\n        this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime) => {\n            channel.throttleKeepalive(keepaliveTime);\n        };\n    }\n    ref() {\n        if (this.refCount === 0) {\n            this.child.addConnectivityStateListener(this.subchannelStateListener);\n            this.channel.addWrappedSubchannel(this);\n        }\n        this.child.ref();\n        this.refCount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refCount -= 1;\n        if (this.refCount <= 0) {\n            this.child.removeConnectivityStateListener(this.subchannelStateListener);\n            this.channel.removeWrappedSubchannel(this);\n        }\n    }\n}\nclass ShutdownPicker {\n    pick(pickArgs) {\n        return {\n            pickResultType: picker_1.PickResultType.DROP,\n            status: {\n                code: constants_1.Status.UNAVAILABLE,\n                details: 'Channel closed before call started',\n                metadata: new metadata_1.Metadata()\n            },\n            subchannel: null,\n            onCallStarted: null,\n            onCallEnded: null\n        };\n    }\n}\nexports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX = 'grpc.internal.no_subchannel';\nclass ChannelzInfoTracker {\n    constructor(target) {\n        this.target = target;\n        this.trace = new channelz_1.ChannelzTrace();\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.state = connectivity_state_1.ConnectivityState.IDLE;\n    }\n    getChannelzInfoCallback() {\n        return () => {\n            return {\n                target: this.target,\n                state: this.state,\n                trace: this.trace,\n                callTracker: this.callTracker,\n                children: this.childrenTracker.getChildLists()\n            };\n        };\n    }\n}\nclass InternalChannel {\n    constructor(target, credentials, options) {\n        var _a, _b, _c, _d, _e, _f;\n        this.credentials = credentials;\n        this.options = options;\n        this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n        this.currentPicker = new picker_1.UnavailablePicker();\n        /**\n         * Calls queued up to get a call config. Should only be populated before the\n         * first time the resolver returns a result, which includes the ConfigSelector.\n         */\n        this.configSelectionQueue = [];\n        this.pickQueue = [];\n        this.connectivityStateWatchers = [];\n        /**\n         * This timer does not do anything on its own. Its purpose is to hold the\n         * event loop open while there are any pending calls for the channel that\n         * have not yet been assigned to specific subchannels. In other words,\n         * the invariant is that callRefTimer is reffed if and only if pickQueue\n         * is non-empty. In addition, the timer is null while the state is IDLE or\n         * SHUTDOWN and there are no pending calls.\n         */\n        this.callRefTimer = null;\n        this.configSelector = null;\n        /**\n         * This is the error from the name resolver if it failed most recently. It\n         * is only used to end calls that start while there is no config selector\n         * and the name resolver is in backoff, so it should be nulled if\n         * configSelector becomes set or the channel state becomes anything other\n         * than TRANSIENT_FAILURE.\n         */\n        this.currentResolutionError = null;\n        this.wrappedSubchannels = new Set();\n        this.callCount = 0;\n        this.idleTimer = null;\n        // Channelz info\n        this.channelzEnabled = true;\n        /**\n         * Randomly generated ID to be passed to the config selector, for use by\n         * ring_hash in xDS. An integer distributed approximately uniformly between\n         * 0 and MAX_SAFE_INTEGER.\n         */\n        this.randomChannelId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n        if (typeof target !== 'string') {\n            throw new TypeError('Channel target must be a string');\n        }\n        if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n            throw new TypeError('Channel credentials must be a ChannelCredentials object');\n        }\n        if (options) {\n            if (typeof options !== 'object') {\n                throw new TypeError('Channel options must be an object');\n            }\n        }\n        this.channelzInfoTracker = new ChannelzInfoTracker(target);\n        const originalTargetUri = (0, uri_parser_1.parseUri)(target);\n        if (originalTargetUri === null) {\n            throw new Error(`Could not parse target name \"${target}\"`);\n        }\n        /* This ensures that the target has a scheme that is registered with the\n         * resolver */\n        const defaultSchemeMapResult = (0, resolver_1.mapUriDefaultScheme)(originalTargetUri);\n        if (defaultSchemeMapResult === null) {\n            throw new Error(`Could not find a default scheme for target name \"${target}\"`);\n        }\n        if (this.options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzChannel)(target, this.channelzInfoTracker.getChannelzInfoCallback(), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Channel created');\n        }\n        if (this.options['grpc.default_authority']) {\n            this.defaultAuthority = this.options['grpc.default_authority'];\n        }\n        else {\n            this.defaultAuthority = (0, resolver_1.getDefaultAuthority)(defaultSchemeMapResult);\n        }\n        const proxyMapResult = (0, http_proxy_1.mapProxyName)(defaultSchemeMapResult, options);\n        this.target = proxyMapResult.target;\n        this.options = Object.assign({}, this.options, proxyMapResult.extraOptions);\n        /* The global boolean parameter to getSubchannelPool has the inverse meaning to what\n         * the grpc.use_local_subchannel_pool channel option means. */\n        this.subchannelPool = (0, subchannel_pool_1.getSubchannelPool)(((_a = this.options['grpc.use_local_subchannel_pool']) !== null && _a !== void 0 ? _a : 0) === 0);\n        this.retryBufferTracker = new retrying_call_1.MessageBufferTracker((_b = this.options['grpc.retry_buffer_size']) !== null && _b !== void 0 ? _b : DEFAULT_RETRY_BUFFER_SIZE_BYTES, (_c = this.options['grpc.per_rpc_retry_buffer_size']) !== null && _c !== void 0 ? _c : DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES);\n        this.keepaliveTime = (_d = this.options['grpc.keepalive_time_ms']) !== null && _d !== void 0 ? _d : -1;\n        this.idleTimeoutMs = Math.max((_e = this.options['grpc.client_idle_timeout_ms']) !== null && _e !== void 0 ? _e : DEFAULT_IDLE_TIMEOUT_MS, MIN_IDLE_TIMEOUT_MS);\n        const channelControlHelper = {\n            createSubchannel: (subchannelAddress, subchannelArgs) => {\n                const finalSubchannelArgs = {};\n                for (const [key, value] of Object.entries(subchannelArgs)) {\n                    if (!key.startsWith(exports.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)) {\n                        finalSubchannelArgs[key] = value;\n                    }\n                }\n                const subchannel = this.subchannelPool.getOrCreateSubchannel(this.target, subchannelAddress, finalSubchannelArgs, this.credentials);\n                subchannel.throttleKeepalive(this.keepaliveTime);\n                if (this.channelzEnabled) {\n                    this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Created subchannel or used existing subchannel', subchannel.getChannelzRef());\n                }\n                const wrappedSubchannel = new ChannelSubchannelWrapper(subchannel, this);\n                return wrappedSubchannel;\n            },\n            updateState: (connectivityState, picker) => {\n                this.currentPicker = picker;\n                const queueCopy = this.pickQueue.slice();\n                this.pickQueue = [];\n                if (queueCopy.length > 0) {\n                    this.callRefTimerUnref();\n                }\n                for (const call of queueCopy) {\n                    call.doPick();\n                }\n                this.updateState(connectivityState);\n            },\n            requestReresolution: () => {\n                // This should never be called.\n                throw new Error('Resolving load balancer should never call requestReresolution');\n            },\n            addChannelzChild: (child) => {\n                if (this.channelzEnabled) {\n                    this.channelzInfoTracker.childrenTracker.refChild(child);\n                }\n            },\n            removeChannelzChild: (child) => {\n                if (this.channelzEnabled) {\n                    this.channelzInfoTracker.childrenTracker.unrefChild(child);\n                }\n            },\n        };\n        this.resolvingLoadBalancer = new resolving_load_balancer_1.ResolvingLoadBalancer(this.target, channelControlHelper, this.options, (serviceConfig, configSelector) => {\n            var _a;\n            if (serviceConfig.retryThrottling) {\n                RETRY_THROTTLER_MAP.set(this.getTarget(), new retrying_call_1.RetryThrottler(serviceConfig.retryThrottling.maxTokens, serviceConfig.retryThrottling.tokenRatio, RETRY_THROTTLER_MAP.get(this.getTarget())));\n            }\n            else {\n                RETRY_THROTTLER_MAP.delete(this.getTarget());\n            }\n            if (this.channelzEnabled) {\n                this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Address resolution succeeded');\n            }\n            (_a = this.configSelector) === null || _a === void 0 ? void 0 : _a.unref();\n            this.configSelector = configSelector;\n            this.currentResolutionError = null;\n            /* We process the queue asynchronously to ensure that the corresponding\n             * load balancer update has completed. */\n            process.nextTick(() => {\n                const localQueue = this.configSelectionQueue;\n                this.configSelectionQueue = [];\n                if (localQueue.length > 0) {\n                    this.callRefTimerUnref();\n                }\n                for (const call of localQueue) {\n                    call.getConfig();\n                }\n            });\n        }, status => {\n            if (this.channelzEnabled) {\n                this.channelzInfoTracker.trace.addTrace('CT_WARNING', 'Address resolution failed with code ' +\n                    status.code +\n                    ' and details \"' +\n                    status.details +\n                    '\"');\n            }\n            if (this.configSelectionQueue.length > 0) {\n                this.trace('Name resolution failed with calls queued for config selection');\n            }\n            if (this.configSelector === null) {\n                this.currentResolutionError = Object.assign(Object.assign({}, (0, control_plane_status_1.restrictControlPlaneStatusCode)(status.code, status.details)), { metadata: status.metadata });\n            }\n            const localQueue = this.configSelectionQueue;\n            this.configSelectionQueue = [];\n            if (localQueue.length > 0) {\n                this.callRefTimerUnref();\n            }\n            for (const call of localQueue) {\n                call.reportResolverError(status);\n            }\n        });\n        this.filterStackFactory = new filter_stack_1.FilterStackFactory([\n            new compression_filter_1.CompressionFilterFactory(this, this.options),\n        ]);\n        this.trace('Channel constructed with options ' +\n            JSON.stringify(options, undefined, 2));\n        const error = new Error();\n        if ((0, logging_1.isTracerEnabled)('channel_stacktrace')) {\n            (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'channel_stacktrace', '(' +\n                this.channelzRef.id +\n                ') ' +\n                'Channel constructed \\n' +\n                ((_f = error.stack) === null || _f === void 0 ? void 0 : _f.substring(error.stack.indexOf('\\n') + 1)));\n        }\n        this.lastActivityTimestamp = new Date();\n    }\n    trace(text, verbosityOverride) {\n        (0, logging_1.trace)(verbosityOverride !== null && verbosityOverride !== void 0 ? verbosityOverride : constants_1.LogVerbosity.DEBUG, 'channel', '(' + this.channelzRef.id + ') ' + (0, uri_parser_1.uriToString)(this.target) + ' ' + text);\n    }\n    callRefTimerRef() {\n        var _a, _b, _c, _d;\n        if (!this.callRefTimer) {\n            this.callRefTimer = setInterval(() => { }, MAX_TIMEOUT_TIME);\n        }\n        // If the hasRef function does not exist, always run the code\n        if (!((_b = (_a = this.callRefTimer).hasRef) === null || _b === void 0 ? void 0 : _b.call(_a))) {\n            this.trace('callRefTimer.ref | configSelectionQueue.length=' +\n                this.configSelectionQueue.length +\n                ' pickQueue.length=' +\n                this.pickQueue.length);\n            (_d = (_c = this.callRefTimer).ref) === null || _d === void 0 ? void 0 : _d.call(_c);\n        }\n    }\n    callRefTimerUnref() {\n        var _a, _b, _c;\n        // If the timer or the hasRef function does not exist, always run the code\n        if (!((_a = this.callRefTimer) === null || _a === void 0 ? void 0 : _a.hasRef) || this.callRefTimer.hasRef()) {\n            this.trace('callRefTimer.unref | configSelectionQueue.length=' +\n                this.configSelectionQueue.length +\n                ' pickQueue.length=' +\n                this.pickQueue.length);\n            (_c = (_b = this.callRefTimer) === null || _b === void 0 ? void 0 : _b.unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n        }\n    }\n    removeConnectivityStateWatcher(watcherObject) {\n        const watcherIndex = this.connectivityStateWatchers.findIndex(value => value === watcherObject);\n        if (watcherIndex >= 0) {\n            this.connectivityStateWatchers.splice(watcherIndex, 1);\n        }\n    }\n    updateState(newState) {\n        (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'connectivity_state', '(' +\n            this.channelzRef.id +\n            ') ' +\n            (0, uri_parser_1.uriToString)(this.target) +\n            ' ' +\n            connectivity_state_1.ConnectivityState[this.connectivityState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (this.channelzEnabled) {\n            this.channelzInfoTracker.trace.addTrace('CT_INFO', 'Connectivity state change to ' + connectivity_state_1.ConnectivityState[newState]);\n        }\n        this.connectivityState = newState;\n        this.channelzInfoTracker.state = newState;\n        const watchersCopy = this.connectivityStateWatchers.slice();\n        for (const watcherObject of watchersCopy) {\n            if (newState !== watcherObject.currentState) {\n                if (watcherObject.timer) {\n                    clearTimeout(watcherObject.timer);\n                }\n                this.removeConnectivityStateWatcher(watcherObject);\n                watcherObject.callback();\n            }\n        }\n        if (newState !== connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n            this.currentResolutionError = null;\n        }\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        if (newKeepaliveTime > this.keepaliveTime) {\n            this.keepaliveTime = newKeepaliveTime;\n            for (const wrappedSubchannel of this.wrappedSubchannels) {\n                wrappedSubchannel.throttleKeepalive(newKeepaliveTime);\n            }\n        }\n    }\n    addWrappedSubchannel(wrappedSubchannel) {\n        this.wrappedSubchannels.add(wrappedSubchannel);\n    }\n    removeWrappedSubchannel(wrappedSubchannel) {\n        this.wrappedSubchannels.delete(wrappedSubchannel);\n    }\n    doPick(metadata, extraPickInfo) {\n        return this.currentPicker.pick({\n            metadata: metadata,\n            extraPickInfo: extraPickInfo,\n        });\n    }\n    queueCallForPick(call) {\n        this.pickQueue.push(call);\n        this.callRefTimerRef();\n    }\n    getConfig(method, metadata) {\n        if (this.connectivityState !== connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            this.resolvingLoadBalancer.exitIdle();\n        }\n        if (this.configSelector) {\n            return {\n                type: 'SUCCESS',\n                config: this.configSelector.invoke(method, metadata, this.randomChannelId),\n            };\n        }\n        else {\n            if (this.currentResolutionError) {\n                return {\n                    type: 'ERROR',\n                    error: this.currentResolutionError,\n                };\n            }\n            else {\n                return {\n                    type: 'NONE',\n                };\n            }\n        }\n    }\n    queueCallForConfig(call) {\n        this.configSelectionQueue.push(call);\n        this.callRefTimerRef();\n    }\n    enterIdle() {\n        this.resolvingLoadBalancer.destroy();\n        this.updateState(connectivity_state_1.ConnectivityState.IDLE);\n        this.currentPicker = new picker_1.QueuePicker(this.resolvingLoadBalancer);\n        if (this.idleTimer) {\n            clearTimeout(this.idleTimer);\n            this.idleTimer = null;\n        }\n        if (this.callRefTimer) {\n            clearInterval(this.callRefTimer);\n            this.callRefTimer = null;\n        }\n    }\n    startIdleTimeout(timeoutMs) {\n        var _a, _b;\n        this.idleTimer = setTimeout(() => {\n            if (this.callCount > 0) {\n                /* If there is currently a call, the channel will not go idle for a\n                 * period of at least idleTimeoutMs, so check again after that time.\n                 */\n                this.startIdleTimeout(this.idleTimeoutMs);\n                return;\n            }\n            const now = new Date();\n            const timeSinceLastActivity = now.valueOf() - this.lastActivityTimestamp.valueOf();\n            if (timeSinceLastActivity >= this.idleTimeoutMs) {\n                this.trace('Idle timer triggered after ' +\n                    this.idleTimeoutMs +\n                    'ms of inactivity');\n                this.enterIdle();\n            }\n            else {\n                /* Whenever the timer fires with the latest activity being too recent,\n                 * set the timer again for the time when the time since the last\n                 * activity is equal to the timeout. This should result in the timer\n                 * firing no more than once every idleTimeoutMs/2 on average. */\n                this.startIdleTimeout(this.idleTimeoutMs - timeSinceLastActivity);\n            }\n        }, timeoutMs);\n        (_b = (_a = this.idleTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    maybeStartIdleTimer() {\n        if (this.connectivityState !== connectivity_state_1.ConnectivityState.SHUTDOWN &&\n            !this.idleTimer) {\n            this.startIdleTimeout(this.idleTimeoutMs);\n        }\n    }\n    onCallStart() {\n        if (this.channelzEnabled) {\n            this.channelzInfoTracker.callTracker.addCallStarted();\n        }\n        this.callCount += 1;\n    }\n    onCallEnd(status) {\n        if (this.channelzEnabled) {\n            if (status.code === constants_1.Status.OK) {\n                this.channelzInfoTracker.callTracker.addCallSucceeded();\n            }\n            else {\n                this.channelzInfoTracker.callTracker.addCallFailed();\n            }\n        }\n        this.callCount -= 1;\n        this.lastActivityTimestamp = new Date();\n        this.maybeStartIdleTimer();\n    }\n    createLoadBalancingCall(callConfig, method, host, credentials, deadline) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createLoadBalancingCall [' + callNumber + '] method=\"' + method + '\"');\n        return new load_balancing_call_1.LoadBalancingCall(this, callConfig, method, host, credentials, deadline, callNumber);\n    }\n    createRetryingCall(callConfig, method, host, credentials, deadline) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createRetryingCall [' + callNumber + '] method=\"' + method + '\"');\n        return new retrying_call_1.RetryingCall(this, callConfig, method, host, credentials, deadline, callNumber, this.retryBufferTracker, RETRY_THROTTLER_MAP.get(this.getTarget()));\n    }\n    createResolvingCall(method, deadline, host, parentCall, propagateFlags) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createResolvingCall [' +\n            callNumber +\n            '] method=\"' +\n            method +\n            '\", deadline=' +\n            (0, deadline_1.deadlineToString)(deadline));\n        const finalOptions = {\n            deadline: deadline,\n            flags: propagateFlags !== null && propagateFlags !== void 0 ? propagateFlags : constants_1.Propagate.DEFAULTS,\n            host: host !== null && host !== void 0 ? host : this.defaultAuthority,\n            parentCall: parentCall,\n        };\n        const call = new resolving_call_1.ResolvingCall(this, method, finalOptions, this.filterStackFactory.clone(), callNumber);\n        this.onCallStart();\n        call.addStatusWatcher(status => {\n            this.onCallEnd(status);\n        });\n        return call;\n    }\n    close() {\n        var _a;\n        this.resolvingLoadBalancer.destroy();\n        this.updateState(connectivity_state_1.ConnectivityState.SHUTDOWN);\n        this.currentPicker = new ShutdownPicker();\n        for (const call of this.configSelectionQueue) {\n            call.cancelWithStatus(constants_1.Status.UNAVAILABLE, 'Channel closed before call started');\n        }\n        this.configSelectionQueue = [];\n        for (const call of this.pickQueue) {\n            call.cancelWithStatus(constants_1.Status.UNAVAILABLE, 'Channel closed before call started');\n        }\n        this.pickQueue = [];\n        if (this.callRefTimer) {\n            clearInterval(this.callRefTimer);\n        }\n        if (this.idleTimer) {\n            clearTimeout(this.idleTimer);\n        }\n        if (this.channelzEnabled) {\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n        }\n        this.subchannelPool.unrefUnusedSubchannels();\n        (_a = this.configSelector) === null || _a === void 0 ? void 0 : _a.unref();\n        this.configSelector = null;\n    }\n    getTarget() {\n        return (0, uri_parser_1.uriToString)(this.target);\n    }\n    getConnectivityState(tryToConnect) {\n        const connectivityState = this.connectivityState;\n        if (tryToConnect) {\n            this.resolvingLoadBalancer.exitIdle();\n            this.lastActivityTimestamp = new Date();\n            this.maybeStartIdleTimer();\n        }\n        return connectivityState;\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            throw new Error('Channel has been shut down');\n        }\n        let timer = null;\n        if (deadline !== Infinity) {\n            const deadlineDate = deadline instanceof Date ? deadline : new Date(deadline);\n            const now = new Date();\n            if (deadline === -Infinity || deadlineDate <= now) {\n                process.nextTick(callback, new Error('Deadline passed without connectivity state change'));\n                return;\n            }\n            timer = setTimeout(() => {\n                this.removeConnectivityStateWatcher(watcherObject);\n                callback(new Error('Deadline passed without connectivity state change'));\n            }, deadlineDate.getTime() - now.getTime());\n        }\n        const watcherObject = {\n            currentState,\n            callback,\n            timer,\n        };\n        this.connectivityStateWatchers.push(watcherObject);\n    }\n    /**\n     * Get the channelz reference object for this channel. The returned value is\n     * garbage if channelz is disabled for this channel.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    createCall(method, deadline, host, parentCall, propagateFlags) {\n        if (typeof method !== 'string') {\n            throw new TypeError('Channel#createCall: method must be a string');\n        }\n        if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n            throw new TypeError('Channel#createCall: deadline must be a number or Date');\n        }\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            throw new Error('Channel has been shut down');\n        }\n        return this.createResolvingCall(method, deadline, host, parentCall, propagateFlags);\n    }\n    getOptions() {\n        return this.options;\n    }\n}\nexports.InternalChannel = InternalChannel;\n//# sourceMappingURL=internal-channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW50ZXJuYWwtY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLDBDQUEwQztBQUNwRSw4QkFBOEIsbUJBQU8sQ0FBQywwSEFBdUI7QUFDN0Qsa0NBQWtDLG1CQUFPLENBQUMsa0lBQTJCO0FBQ3JFLDBCQUEwQixtQkFBTyxDQUFDLGtIQUFtQjtBQUNyRCxpQkFBaUIsbUJBQU8sQ0FBQyxnR0FBVTtBQUNuQyxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QyxvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6Qyx1QkFBdUIsbUJBQU8sQ0FBQyw0R0FBZ0I7QUFDL0MsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLGtCQUFrQixtQkFBTyxDQUFDLGtHQUFXO0FBQ3JDLHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRCxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2Qyw4QkFBOEIsbUJBQU8sQ0FBQywwSEFBdUI7QUFDN0QsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMseUJBQXlCLG1CQUFPLENBQUMsZ0hBQWtCO0FBQ25ELHNCQUFzQixtQkFBTyxDQUFDLDBHQUFlO0FBQzdDLCtCQUErQixtQkFBTyxDQUFDLDRIQUF3QjtBQUMvRCx3QkFBd0IsbUJBQU8sQ0FBQyw4R0FBaUI7QUFDakQsK0JBQStCLG1CQUFPLENBQUMsNEhBQXdCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELE9BQU87QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixPQUFPO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDhGQUE4RiwyQkFBMkI7QUFDck07QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW50ZXJuYWwtY2hhbm5lbC5qcz84ZDZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkludGVybmFsQ2hhbm5lbCA9IGV4cG9ydHMuU1VCQ0hBTk5FTF9BUkdTX0VYQ0xVREVfS0VZX1BSRUZJWCA9IHZvaWQgMDtcbmNvbnN0IGNoYW5uZWxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWwtY3JlZGVudGlhbHNcIik7XG5jb25zdCByZXNvbHZpbmdfbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2aW5nLWxvYWQtYmFsYW5jZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX3Bvb2xfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtcG9vbFwiKTtcbmNvbnN0IHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBmaWx0ZXJfc3RhY2tfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlci1zdGFja1wiKTtcbmNvbnN0IGNvbXByZXNzaW9uX2ZpbHRlcl8xID0gcmVxdWlyZShcIi4vY29tcHJlc3Npb24tZmlsdGVyXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGh0dHBfcHJveHlfMSA9IHJlcXVpcmUoXCIuL2h0dHBfcHJveHlcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjaGFubmVsel8xID0gcmVxdWlyZShcIi4vY2hhbm5lbHpcIik7XG5jb25zdCBsb2FkX2JhbGFuY2luZ19jYWxsXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2luZy1jYWxsXCIpO1xuY29uc3QgZGVhZGxpbmVfMSA9IHJlcXVpcmUoXCIuL2RlYWRsaW5lXCIpO1xuY29uc3QgcmVzb2x2aW5nX2NhbGxfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmluZy1jYWxsXCIpO1xuY29uc3QgY2FsbF9udW1iZXJfMSA9IHJlcXVpcmUoXCIuL2NhbGwtbnVtYmVyXCIpO1xuY29uc3QgY29udHJvbF9wbGFuZV9zdGF0dXNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2wtcGxhbmUtc3RhdHVzXCIpO1xuY29uc3QgcmV0cnlpbmdfY2FsbF8xID0gcmVxdWlyZShcIi4vcmV0cnlpbmctY2FsbFwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbi8qKlxuICogU2VlIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGltZXJzLmh0bWwjdGltZXJzX3NldGludGVydmFsX2NhbGxiYWNrX2RlbGF5X2FyZ3NcbiAqL1xuY29uc3QgTUFYX1RJTUVPVVRfVElNRSA9IDIxNDc0ODM2NDc7XG5jb25zdCBNSU5fSURMRV9USU1FT1VUX01TID0gMTAwMDtcbi8vIDMwIG1pbnV0ZXNcbmNvbnN0IERFRkFVTFRfSURMRV9USU1FT1VUX01TID0gMzAgKiA2MCAqIDEwMDA7XG5jb25zdCBSRVRSWV9USFJPVFRMRVJfTUFQID0gbmV3IE1hcCgpO1xuY29uc3QgREVGQVVMVF9SRVRSWV9CVUZGRVJfU0laRV9CWVRFUyA9IDEgPDwgMjQ7IC8vIDE2IE1CXG5jb25zdCBERUZBVUxUX1BFUl9SUENfUkVUUllfQlVGRkVSX1NJWkVfQllURVMgPSAxIDw8IDIwOyAvLyAxIE1CXG5jbGFzcyBDaGFubmVsU3ViY2hhbm5lbFdyYXBwZXIgZXh0ZW5kcyBzdWJjaGFubmVsX2ludGVyZmFjZV8xLkJhc2VTdWJjaGFubmVsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRTdWJjaGFubmVsLCBjaGFubmVsKSB7XG4gICAgICAgIHN1cGVyKGNoaWxkU3ViY2hhbm5lbCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyID0gKHN1YmNoYW5uZWwsIHByZXZpb3VzU3RhdGUsIG5ld1N0YXRlLCBrZWVwYWxpdmVUaW1lKSA9PiB7XG4gICAgICAgICAgICBjaGFubmVsLnRocm90dGxlS2VlcGFsaXZlKGtlZXBhbGl2ZVRpbWUpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZWYoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLmFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuYWRkV3JhcHBlZFN1YmNoYW5uZWwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZC5yZWYoKTtcbiAgICAgICAgdGhpcy5yZWZDb3VudCArPSAxO1xuICAgIH1cbiAgICB1bnJlZigpIHtcbiAgICAgICAgdGhpcy5jaGlsZC51bnJlZigpO1xuICAgICAgICB0aGlzLnJlZkNvdW50IC09IDE7XG4gICAgICAgIGlmICh0aGlzLnJlZkNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5yZW1vdmVXcmFwcGVkU3ViY2hhbm5lbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNodXRkb3duUGlja2VyIHtcbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaWNrUmVzdWx0VHlwZTogcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuRFJPUCxcbiAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnQ2hhbm5lbCBjbG9zZWQgYmVmb3JlIGNhbGwgc3RhcnRlZCcsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWJjaGFubmVsOiBudWxsLFxuICAgICAgICAgICAgb25DYWxsU3RhcnRlZDogbnVsbCxcbiAgICAgICAgICAgIG9uQ2FsbEVuZGVkOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5TVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYID0gJ2dycGMuaW50ZXJuYWwubm9fc3ViY2hhbm5lbCc7XG5jbGFzcyBDaGFubmVsekluZm9UcmFja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMudHJhY2UgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVselRyYWNlKCk7XG4gICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgfVxuICAgIGdldENoYW5uZWx6SW5mb0NhbGxiYWNrKCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0LFxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHRyYWNlOiB0aGlzLnRyYWNlLFxuICAgICAgICAgICAgICAgIGNhbGxUcmFja2VyOiB0aGlzLmNhbGxUcmFja2VyLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuVHJhY2tlci5nZXRDaGlsZExpc3RzKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxufVxuY2xhc3MgSW50ZXJuYWxDaGFubmVsIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGNyZWRlbnRpYWxzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHF1ZXVlZCB1cCB0byBnZXQgYSBjYWxsIGNvbmZpZy4gU2hvdWxkIG9ubHkgYmUgcG9wdWxhdGVkIGJlZm9yZSB0aGVcbiAgICAgICAgICogZmlyc3QgdGltZSB0aGUgcmVzb2x2ZXIgcmV0dXJucyBhIHJlc3VsdCwgd2hpY2ggaW5jbHVkZXMgdGhlIENvbmZpZ1NlbGVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnBpY2tRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdGltZXIgZG9lcyBub3QgZG8gYW55dGhpbmcgb24gaXRzIG93bi4gSXRzIHB1cnBvc2UgaXMgdG8gaG9sZCB0aGVcbiAgICAgICAgICogZXZlbnQgbG9vcCBvcGVuIHdoaWxlIHRoZXJlIGFyZSBhbnkgcGVuZGluZyBjYWxscyBmb3IgdGhlIGNoYW5uZWwgdGhhdFxuICAgICAgICAgKiBoYXZlIG5vdCB5ZXQgYmVlbiBhc3NpZ25lZCB0byBzcGVjaWZpYyBzdWJjaGFubmVscy4gSW4gb3RoZXIgd29yZHMsXG4gICAgICAgICAqIHRoZSBpbnZhcmlhbnQgaXMgdGhhdCBjYWxsUmVmVGltZXIgaXMgcmVmZmVkIGlmIGFuZCBvbmx5IGlmIHBpY2tRdWV1ZVxuICAgICAgICAgKiBpcyBub24tZW1wdHkuIEluIGFkZGl0aW9uLCB0aGUgdGltZXIgaXMgbnVsbCB3aGlsZSB0aGUgc3RhdGUgaXMgSURMRSBvclxuICAgICAgICAgKiBTSFVURE9XTiBhbmQgdGhlcmUgYXJlIG5vIHBlbmRpbmcgY2FsbHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhbGxSZWZUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0b3IgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZXJyb3IgZnJvbSB0aGUgbmFtZSByZXNvbHZlciBpZiBpdCBmYWlsZWQgbW9zdCByZWNlbnRseS4gSXRcbiAgICAgICAgICogaXMgb25seSB1c2VkIHRvIGVuZCBjYWxscyB0aGF0IHN0YXJ0IHdoaWxlIHRoZXJlIGlzIG5vIGNvbmZpZyBzZWxlY3RvclxuICAgICAgICAgKiBhbmQgdGhlIG5hbWUgcmVzb2x2ZXIgaXMgaW4gYmFja29mZiwgc28gaXQgc2hvdWxkIGJlIG51bGxlZCBpZlxuICAgICAgICAgKiBjb25maWdTZWxlY3RvciBiZWNvbWVzIHNldCBvciB0aGUgY2hhbm5lbCBzdGF0ZSBiZWNvbWVzIGFueXRoaW5nIG90aGVyXG4gICAgICAgICAqIHRoYW4gVFJBTlNJRU5UX0ZBSUxVUkUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLndyYXBwZWRTdWJjaGFubmVscyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5jYWxsQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmlkbGVUaW1lciA9IG51bGw7XG4gICAgICAgIC8vIENoYW5uZWx6IGluZm9cbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFuZG9tbHkgZ2VuZXJhdGVkIElEIHRvIGJlIHBhc3NlZCB0byB0aGUgY29uZmlnIHNlbGVjdG9yLCBmb3IgdXNlIGJ5XG4gICAgICAgICAqIHJpbmdfaGFzaCBpbiB4RFMuIEFuIGludGVnZXIgZGlzdHJpYnV0ZWQgYXBwcm94aW1hdGVseSB1bmlmb3JtbHkgYmV0d2VlblxuICAgICAgICAgKiAwIGFuZCBNQVhfU0FGRV9JTlRFR0VSLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYW5kb21DaGFubmVsSWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCB0YXJnZXQgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGNyZWRlbnRpYWxzIGluc3RhbmNlb2YgY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgY3JlZGVudGlhbHMgbXVzdCBiZSBhIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlciA9IG5ldyBDaGFubmVsekluZm9UcmFja2VyKHRhcmdldCk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGFyZ2V0VXJpID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkodGFyZ2V0KTtcbiAgICAgICAgaWYgKG9yaWdpbmFsVGFyZ2V0VXJpID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBwYXJzZSB0YXJnZXQgbmFtZSBcIiR7dGFyZ2V0fVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIHRhcmdldCBoYXMgYSBzY2hlbWUgdGhhdCBpcyByZWdpc3RlcmVkIHdpdGggdGhlXG4gICAgICAgICAqIHJlc29sdmVyICovXG4gICAgICAgIGNvbnN0IGRlZmF1bHRTY2hlbWVNYXBSZXN1bHQgPSAoMCwgcmVzb2x2ZXJfMS5tYXBVcmlEZWZhdWx0U2NoZW1lKShvcmlnaW5hbFRhcmdldFVyaSk7XG4gICAgICAgIGlmIChkZWZhdWx0U2NoZW1lTWFwUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGEgZGVmYXVsdCBzY2hlbWUgZm9yIHRhcmdldCBuYW1lIFwiJHt0YXJnZXR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6Q2hhbm5lbCkodGFyZ2V0LCB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuZ2V0Q2hhbm5lbHpJbmZvQ2FsbGJhY2soKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci50cmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDaGFubmVsIGNyZWF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zWydncnBjLmRlZmF1bHRfYXV0aG9yaXR5J10pIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEF1dGhvcml0eSA9IHRoaXMub3B0aW9uc1snZ3JwYy5kZWZhdWx0X2F1dGhvcml0eSddO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0QXV0aG9yaXR5ID0gKDAsIHJlc29sdmVyXzEuZ2V0RGVmYXVsdEF1dGhvcml0eSkoZGVmYXVsdFNjaGVtZU1hcFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJveHlNYXBSZXN1bHQgPSAoMCwgaHR0cF9wcm94eV8xLm1hcFByb3h5TmFtZSkoZGVmYXVsdFNjaGVtZU1hcFJlc3VsdCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gcHJveHlNYXBSZXN1bHQudGFyZ2V0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIHByb3h5TWFwUmVzdWx0LmV4dHJhT3B0aW9ucyk7XG4gICAgICAgIC8qIFRoZSBnbG9iYWwgYm9vbGVhbiBwYXJhbWV0ZXIgdG8gZ2V0U3ViY2hhbm5lbFBvb2wgaGFzIHRoZSBpbnZlcnNlIG1lYW5pbmcgdG8gd2hhdFxuICAgICAgICAgKiB0aGUgZ3JwYy51c2VfbG9jYWxfc3ViY2hhbm5lbF9wb29sIGNoYW5uZWwgb3B0aW9uIG1lYW5zLiAqL1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWxQb29sID0gKDAsIHN1YmNoYW5uZWxfcG9vbF8xLmdldFN1YmNoYW5uZWxQb29sKSgoKF9hID0gdGhpcy5vcHRpb25zWydncnBjLnVzZV9sb2NhbF9zdWJjaGFubmVsX3Bvb2wnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgPT09IDApO1xuICAgICAgICB0aGlzLnJldHJ5QnVmZmVyVHJhY2tlciA9IG5ldyByZXRyeWluZ19jYWxsXzEuTWVzc2FnZUJ1ZmZlclRyYWNrZXIoKF9iID0gdGhpcy5vcHRpb25zWydncnBjLnJldHJ5X2J1ZmZlcl9zaXplJ10pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IERFRkFVTFRfUkVUUllfQlVGRkVSX1NJWkVfQllURVMsIChfYyA9IHRoaXMub3B0aW9uc1snZ3JwYy5wZXJfcnBjX3JldHJ5X2J1ZmZlcl9zaXplJ10pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IERFRkFVTFRfUEVSX1JQQ19SRVRSWV9CVUZGRVJfU0laRV9CWVRFUyk7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IChfZCA9IHRoaXMub3B0aW9uc1snZ3JwYy5rZWVwYWxpdmVfdGltZV9tcyddKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAtMTtcbiAgICAgICAgdGhpcy5pZGxlVGltZW91dE1zID0gTWF0aC5tYXgoKF9lID0gdGhpcy5vcHRpb25zWydncnBjLmNsaWVudF9pZGxlX3RpbWVvdXRfbXMnXSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogREVGQVVMVF9JRExFX1RJTUVPVVRfTVMsIE1JTl9JRExFX1RJTUVPVVRfTVMpO1xuICAgICAgICBjb25zdCBjaGFubmVsQ29udHJvbEhlbHBlciA9IHtcbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFN1YmNoYW5uZWxBcmdzID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3ViY2hhbm5lbEFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoZXhwb3J0cy5TVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxTdWJjaGFubmVsQXJnc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbCA9IHRoaXMuc3ViY2hhbm5lbFBvb2wuZ2V0T3JDcmVhdGVTdWJjaGFubmVsKHRoaXMudGFyZ2V0LCBzdWJjaGFubmVsQWRkcmVzcywgZmluYWxTdWJjaGFubmVsQXJncywgdGhpcy5jcmVkZW50aWFscyk7XG4gICAgICAgICAgICAgICAgc3ViY2hhbm5lbC50aHJvdHRsZUtlZXBhbGl2ZSh0aGlzLmtlZXBhbGl2ZVRpbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIudHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ3JlYXRlZCBzdWJjaGFubmVsIG9yIHVzZWQgZXhpc3Rpbmcgc3ViY2hhbm5lbCcsIHN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRTdWJjaGFubmVsID0gbmV3IENoYW5uZWxTdWJjaGFubmVsV3JhcHBlcihzdWJjaGFubmVsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZFN1YmNoYW5uZWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gcGlja2VyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXVlQ29weSA9IHRoaXMucGlja1F1ZXVlLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5waWNrUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAocXVldWVDb3B5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsUmVmVGltZXJVbnJlZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgcXVldWVDb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuZG9QaWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb246ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBiZSBjYWxsZWQuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvbHZpbmcgbG9hZCBiYWxhbmNlciBzaG91bGQgbmV2ZXIgY2FsbCByZXF1ZXN0UmVyZXNvbHV0aW9uJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkQ2hhbm5lbHpDaGlsZDogKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5jaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVDaGFubmVsekNoaWxkOiAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLmNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlciA9IG5ldyByZXNvbHZpbmdfbG9hZF9iYWxhbmNlcl8xLlJlc29sdmluZ0xvYWRCYWxhbmNlcih0aGlzLnRhcmdldCwgY2hhbm5lbENvbnRyb2xIZWxwZXIsIHRoaXMub3B0aW9ucywgKHNlcnZpY2VDb25maWcsIGNvbmZpZ1NlbGVjdG9yKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoc2VydmljZUNvbmZpZy5yZXRyeVRocm90dGxpbmcpIHtcbiAgICAgICAgICAgICAgICBSRVRSWV9USFJPVFRMRVJfTUFQLnNldCh0aGlzLmdldFRhcmdldCgpLCBuZXcgcmV0cnlpbmdfY2FsbF8xLlJldHJ5VGhyb3R0bGVyKHNlcnZpY2VDb25maWcucmV0cnlUaHJvdHRsaW5nLm1heFRva2Vucywgc2VydmljZUNvbmZpZy5yZXRyeVRocm90dGxpbmcudG9rZW5SYXRpbywgUkVUUllfVEhST1RUTEVSX01BUC5nZXQodGhpcy5nZXRUYXJnZXQoKSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFJFVFJZX1RIUk9UVExFUl9NQVAuZGVsZXRlKHRoaXMuZ2V0VGFyZ2V0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0FkZHJlc3MgcmVzb2x1dGlvbiBzdWNjZWVkZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuY29uZmlnU2VsZWN0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bnJlZigpO1xuICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3RvciA9IGNvbmZpZ1NlbGVjdG9yO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVzb2x1dGlvbkVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIC8qIFdlIHByb2Nlc3MgdGhlIHF1ZXVlIGFzeW5jaHJvbm91c2x5IHRvIGVuc3VyZSB0aGF0IHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAgKiBsb2FkIGJhbGFuY2VyIHVwZGF0ZSBoYXMgY29tcGxldGVkLiAqL1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxRdWV1ZSA9IHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsUmVmVGltZXJVbnJlZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgbG9jYWxRdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLmdldENvbmZpZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnRyYWNlLmFkZFRyYWNlKCdDVF9XQVJOSU5HJywgJ0FkZHJlc3MgcmVzb2x1dGlvbiBmYWlsZWQgd2l0aCBjb2RlICcgK1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuY29kZSArXG4gICAgICAgICAgICAgICAgICAgICcgYW5kIGRldGFpbHMgXCInICtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRldGFpbHMgK1xuICAgICAgICAgICAgICAgICAgICAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdOYW1lIHJlc29sdXRpb24gZmFpbGVkIHdpdGggY2FsbHMgcXVldWVkIGZvciBjb25maWcgc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWdTZWxlY3RvciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvciA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKDAsIGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEucmVzdHJpY3RDb250cm9sUGxhbmVTdGF0dXNDb2RlKShzdGF0dXMuY29kZSwgc3RhdHVzLmRldGFpbHMpKSwgeyBtZXRhZGF0YTogc3RhdHVzLm1ldGFkYXRhIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxRdWV1ZSA9IHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWU7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlID0gW107XG4gICAgICAgICAgICBpZiAobG9jYWxRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUmVmVGltZXJVbnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIGxvY2FsUXVldWUpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnJlcG9ydFJlc29sdmVyRXJyb3Ioc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5ID0gbmV3IGZpbHRlcl9zdGFja18xLkZpbHRlclN0YWNrRmFjdG9yeShbXG4gICAgICAgICAgICBuZXcgY29tcHJlc3Npb25fZmlsdGVyXzEuQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5KHRoaXMsIHRoaXMub3B0aW9ucyksXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnRyYWNlKCdDaGFubmVsIGNvbnN0cnVjdGVkIHdpdGggb3B0aW9ucyAnICtcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMsIHVuZGVmaW5lZCwgMikpO1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBpZiAoKDAsIGxvZ2dpbmdfMS5pc1RyYWNlckVuYWJsZWQpKCdjaGFubmVsX3N0YWNrdHJhY2UnKSkge1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS50cmFjZSkoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnY2hhbm5lbF9zdGFja3RyYWNlJywgJygnICtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgICAgICAnQ2hhbm5lbCBjb25zdHJ1Y3RlZCBcXG4nICtcbiAgICAgICAgICAgICAgICAoKF9mID0gZXJyb3Iuc3RhY2spID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5zdWJzdHJpbmcoZXJyb3Iuc3RhY2suaW5kZXhPZignXFxuJykgKyAxKSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdEFjdGl2aXR5VGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICB9XG4gICAgdHJhY2UodGV4dCwgdmVyYm9zaXR5T3ZlcnJpZGUpIHtcbiAgICAgICAgKDAsIGxvZ2dpbmdfMS50cmFjZSkodmVyYm9zaXR5T3ZlcnJpZGUgIT09IG51bGwgJiYgdmVyYm9zaXR5T3ZlcnJpZGUgIT09IHZvaWQgMCA/IHZlcmJvc2l0eU92ZXJyaWRlIDogY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnY2hhbm5lbCcsICcoJyArIHRoaXMuY2hhbm5lbHpSZWYuaWQgKyAnKSAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpICsgJyAnICsgdGV4dCk7XG4gICAgfVxuICAgIGNhbGxSZWZUaW1lclJlZigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoIXRoaXMuY2FsbFJlZlRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lciA9IHNldEludGVydmFsKCgpID0+IHsgfSwgTUFYX1RJTUVPVVRfVElNRSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGhhc1JlZiBmdW5jdGlvbiBkb2VzIG5vdCBleGlzdCwgYWx3YXlzIHJ1biB0aGUgY29kZVxuICAgICAgICBpZiAoISgoX2IgPSAoX2EgPSB0aGlzLmNhbGxSZWZUaW1lcikuaGFzUmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdjYWxsUmVmVGltZXIucmVmIHwgY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoPScgK1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoICtcbiAgICAgICAgICAgICAgICAnIHBpY2tRdWV1ZS5sZW5ndGg9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrUXVldWUubGVuZ3RoKTtcbiAgICAgICAgICAgIChfZCA9IChfYyA9IHRoaXMuY2FsbFJlZlRpbWVyKS5yZWYpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsUmVmVGltZXJVbnJlZigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIC8vIElmIHRoZSB0aW1lciBvciB0aGUgaGFzUmVmIGZ1bmN0aW9uIGRvZXMgbm90IGV4aXN0LCBhbHdheXMgcnVuIHRoZSBjb2RlXG4gICAgICAgIGlmICghKChfYSA9IHRoaXMuY2FsbFJlZlRpbWVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGFzUmVmKSB8fCB0aGlzLmNhbGxSZWZUaW1lci5oYXNSZWYoKSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnY2FsbFJlZlRpbWVyLnVucmVmIHwgY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoPScgK1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoICtcbiAgICAgICAgICAgICAgICAnIHBpY2tRdWV1ZS5sZW5ndGg9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5waWNrUXVldWUubGVuZ3RoKTtcbiAgICAgICAgICAgIChfYyA9IChfYiA9IHRoaXMuY2FsbFJlZlRpbWVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXIod2F0Y2hlck9iamVjdCkge1xuICAgICAgICBjb25zdCB3YXRjaGVySW5kZXggPSB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcnMuZmluZEluZGV4KHZhbHVlID0+IHZhbHVlID09PSB3YXRjaGVyT2JqZWN0KTtcbiAgICAgICAgaWYgKHdhdGNoZXJJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcnMuc3BsaWNlKHdhdGNoZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU3RhdGUobmV3U3RhdGUpIHtcbiAgICAgICAgKDAsIGxvZ2dpbmdfMS50cmFjZSkoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnY29ubmVjdGl2aXR5X3N0YXRlJywgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY29ubmVjdGl2aXR5U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci50cmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aXZpdHkgc3RhdGUgY2hhbmdlIHRvICcgKyBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIGNvbnN0IHdhdGNoZXJzQ29weSA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHdhdGNoZXJPYmplY3Qgb2Ygd2F0Y2hlcnNDb3B5KSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgIT09IHdhdGNoZXJPYmplY3QuY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdhdGNoZXJPYmplY3QudGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHdhdGNoZXJPYmplY3QudGltZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcih3YXRjaGVyT2JqZWN0KTtcbiAgICAgICAgICAgICAgICB3YXRjaGVyT2JqZWN0LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVzb2x1dGlvbkVycm9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdHRsZUtlZXBhbGl2ZShuZXdLZWVwYWxpdmVUaW1lKSB7XG4gICAgICAgIGlmIChuZXdLZWVwYWxpdmVUaW1lID4gdGhpcy5rZWVwYWxpdmVUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWUgPSBuZXdLZWVwYWxpdmVUaW1lO1xuICAgICAgICAgICAgZm9yIChjb25zdCB3cmFwcGVkU3ViY2hhbm5lbCBvZiB0aGlzLndyYXBwZWRTdWJjaGFubmVscykge1xuICAgICAgICAgICAgICAgIHdyYXBwZWRTdWJjaGFubmVsLnRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFdyYXBwZWRTdWJjaGFubmVsKHdyYXBwZWRTdWJjaGFubmVsKSB7XG4gICAgICAgIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzLmFkZCh3cmFwcGVkU3ViY2hhbm5lbCk7XG4gICAgfVxuICAgIHJlbW92ZVdyYXBwZWRTdWJjaGFubmVsKHdyYXBwZWRTdWJjaGFubmVsKSB7XG4gICAgICAgIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzLmRlbGV0ZSh3cmFwcGVkU3ViY2hhbm5lbCk7XG4gICAgfVxuICAgIGRvUGljayhtZXRhZGF0YSwgZXh0cmFQaWNrSW5mbykge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGlja2VyLnBpY2soe1xuICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhLFxuICAgICAgICAgICAgZXh0cmFQaWNrSW5mbzogZXh0cmFQaWNrSW5mbyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHF1ZXVlQ2FsbEZvclBpY2soY2FsbCkge1xuICAgICAgICB0aGlzLnBpY2tRdWV1ZS5wdXNoKGNhbGwpO1xuICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclJlZigpO1xuICAgIH1cbiAgICBnZXRDb25maWcobWV0aG9kLCBtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aXZpdHlTdGF0ZSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuU0hVVERPV04pIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnU2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1NVQ0NFU1MnLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWdTZWxlY3Rvci5pbnZva2UobWV0aG9kLCBtZXRhZGF0YSwgdGhpcy5yYW5kb21DaGFubmVsSWQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRVJST1InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogdGhpcy5jdXJyZW50UmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTk9ORScsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZUNhbGxGb3JDb25maWcoY2FsbCkge1xuICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlLnB1c2goY2FsbCk7XG4gICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyUmVmKCk7XG4gICAgfVxuICAgIGVudGVySWRsZSgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIpO1xuICAgICAgICBpZiAodGhpcy5pZGxlVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmlkbGVUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmlkbGVUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FsbFJlZlRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2FsbFJlZlRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydElkbGVUaW1lb3V0KHRpbWVvdXRNcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmlkbGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIC8qIElmIHRoZXJlIGlzIGN1cnJlbnRseSBhIGNhbGwsIHRoZSBjaGFubmVsIHdpbGwgbm90IGdvIGlkbGUgZm9yIGFcbiAgICAgICAgICAgICAgICAgKiBwZXJpb2Qgb2YgYXQgbGVhc3QgaWRsZVRpbWVvdXRNcywgc28gY2hlY2sgYWdhaW4gYWZ0ZXIgdGhhdCB0aW1lLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJZGxlVGltZW91dCh0aGlzLmlkbGVUaW1lb3V0TXMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0QWN0aXZpdHkgPSBub3cudmFsdWVPZigpIC0gdGhpcy5sYXN0QWN0aXZpdHlUaW1lc3RhbXAudmFsdWVPZigpO1xuICAgICAgICAgICAgaWYgKHRpbWVTaW5jZUxhc3RBY3Rpdml0eSA+PSB0aGlzLmlkbGVUaW1lb3V0TXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdJZGxlIHRpbWVyIHRyaWdnZXJlZCBhZnRlciAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlVGltZW91dE1zICtcbiAgICAgICAgICAgICAgICAgICAgJ21zIG9mIGluYWN0aXZpdHknKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGVySWRsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogV2hlbmV2ZXIgdGhlIHRpbWVyIGZpcmVzIHdpdGggdGhlIGxhdGVzdCBhY3Rpdml0eSBiZWluZyB0b28gcmVjZW50LFxuICAgICAgICAgICAgICAgICAqIHNldCB0aGUgdGltZXIgYWdhaW4gZm9yIHRoZSB0aW1lIHdoZW4gdGhlIHRpbWUgc2luY2UgdGhlIGxhc3RcbiAgICAgICAgICAgICAgICAgKiBhY3Rpdml0eSBpcyBlcXVhbCB0byB0aGUgdGltZW91dC4gVGhpcyBzaG91bGQgcmVzdWx0IGluIHRoZSB0aW1lclxuICAgICAgICAgICAgICAgICAqIGZpcmluZyBubyBtb3JlIHRoYW4gb25jZSBldmVyeSBpZGxlVGltZW91dE1zLzIgb24gYXZlcmFnZS4gKi9cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0SWRsZVRpbWVvdXQodGhpcy5pZGxlVGltZW91dE1zIC0gdGltZVNpbmNlTGFzdEFjdGl2aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dE1zKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5pZGxlVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfVxuICAgIG1heWJlU3RhcnRJZGxlVGltZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTiAmJlxuICAgICAgICAgICAgIXRoaXMuaWRsZVRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SWRsZVRpbWVvdXQodGhpcy5pZGxlVGltZW91dE1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkNhbGxTdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuY2FsbFRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxDb3VudCArPSAxO1xuICAgIH1cbiAgICBvbkNhbGxFbmQoc3RhdHVzKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuY2FsbFRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLmNhbGxUcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxDb3VudCAtPSAxO1xuICAgICAgICB0aGlzLmxhc3RBY3Rpdml0eVRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMubWF5YmVTdGFydElkbGVUaW1lcigpO1xuICAgIH1cbiAgICBjcmVhdGVMb2FkQmFsYW5jaW5nQ2FsbChjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSkge1xuICAgICAgICBjb25zdCBjYWxsTnVtYmVyID0gKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCk7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NyZWF0ZUxvYWRCYWxhbmNpbmdDYWxsIFsnICsgY2FsbE51bWJlciArICddIG1ldGhvZD1cIicgKyBtZXRob2QgKyAnXCInKTtcbiAgICAgICAgcmV0dXJuIG5ldyBsb2FkX2JhbGFuY2luZ19jYWxsXzEuTG9hZEJhbGFuY2luZ0NhbGwodGhpcywgY2FsbENvbmZpZywgbWV0aG9kLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUsIGNhbGxOdW1iZXIpO1xuICAgIH1cbiAgICBjcmVhdGVSZXRyeWluZ0NhbGwoY2FsbENvbmZpZywgbWV0aG9kLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUpIHtcbiAgICAgICAgY29uc3QgY2FsbE51bWJlciA9ICgwLCBjYWxsX251bWJlcl8xLmdldE5leHRDYWxsTnVtYmVyKSgpO1xuICAgICAgICB0aGlzLnRyYWNlKCdjcmVhdGVSZXRyeWluZ0NhbGwgWycgKyBjYWxsTnVtYmVyICsgJ10gbWV0aG9kPVwiJyArIG1ldGhvZCArICdcIicpO1xuICAgICAgICByZXR1cm4gbmV3IHJldHJ5aW5nX2NhbGxfMS5SZXRyeWluZ0NhbGwodGhpcywgY2FsbENvbmZpZywgbWV0aG9kLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUsIGNhbGxOdW1iZXIsIHRoaXMucmV0cnlCdWZmZXJUcmFja2VyLCBSRVRSWV9USFJPVFRMRVJfTUFQLmdldCh0aGlzLmdldFRhcmdldCgpKSk7XG4gICAgfVxuICAgIGNyZWF0ZVJlc29sdmluZ0NhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpIHtcbiAgICAgICAgY29uc3QgY2FsbE51bWJlciA9ICgwLCBjYWxsX251bWJlcl8xLmdldE5leHRDYWxsTnVtYmVyKSgpO1xuICAgICAgICB0aGlzLnRyYWNlKCdjcmVhdGVSZXNvbHZpbmdDYWxsIFsnICtcbiAgICAgICAgICAgIGNhbGxOdW1iZXIgK1xuICAgICAgICAgICAgJ10gbWV0aG9kPVwiJyArXG4gICAgICAgICAgICBtZXRob2QgK1xuICAgICAgICAgICAgJ1wiLCBkZWFkbGluZT0nICtcbiAgICAgICAgICAgICgwLCBkZWFkbGluZV8xLmRlYWRsaW5lVG9TdHJpbmcpKGRlYWRsaW5lKSk7XG4gICAgICAgIGNvbnN0IGZpbmFsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGRlYWRsaW5lOiBkZWFkbGluZSxcbiAgICAgICAgICAgIGZsYWdzOiBwcm9wYWdhdGVGbGFncyAhPT0gbnVsbCAmJiBwcm9wYWdhdGVGbGFncyAhPT0gdm9pZCAwID8gcHJvcGFnYXRlRmxhZ3MgOiBjb25zdGFudHNfMS5Qcm9wYWdhdGUuREVGQVVMVFMsXG4gICAgICAgICAgICBob3N0OiBob3N0ICE9PSBudWxsICYmIGhvc3QgIT09IHZvaWQgMCA/IGhvc3QgOiB0aGlzLmRlZmF1bHRBdXRob3JpdHksXG4gICAgICAgICAgICBwYXJlbnRDYWxsOiBwYXJlbnRDYWxsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gbmV3IHJlc29sdmluZ19jYWxsXzEuUmVzb2x2aW5nQ2FsbCh0aGlzLCBtZXRob2QsIGZpbmFsT3B0aW9ucywgdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkuY2xvbmUoKSwgY2FsbE51bWJlcik7XG4gICAgICAgIHRoaXMub25DYWxsU3RhcnQoKTtcbiAgICAgICAgY2FsbC5hZGRTdGF0dXNXYXRjaGVyKHN0YXR1cyA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2FsbEVuZChzdGF0dXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTik7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9IG5ldyBTaHV0ZG93blBpY2tlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZSkge1xuICAgICAgICAgICAgY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSwgJ0NoYW5uZWwgY2xvc2VkIGJlZm9yZSBjYWxsIHN0YXJ0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLnBpY2tRdWV1ZSkge1xuICAgICAgICAgICAgY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSwgJ0NoYW5uZWwgY2xvc2VkIGJlZm9yZSBjYWxsIHN0YXJ0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBpY2tRdWV1ZSA9IFtdO1xuICAgICAgICBpZiAodGhpcy5jYWxsUmVmVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jYWxsUmVmVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlkbGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWRsZVRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJjaGFubmVsUG9vbC51bnJlZlVudXNlZFN1YmNoYW5uZWxzKCk7XG4gICAgICAgIChfYSA9IHRoaXMuY29uZmlnU2VsZWN0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51bnJlZigpO1xuICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdG9yID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSh0cnlUb0Nvbm5lY3QpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGl2aXR5U3RhdGUgPSB0aGlzLmNvbm5lY3Rpdml0eVN0YXRlO1xuICAgICAgICBpZiAodHJ5VG9Db25uZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgICAgICAgICAgdGhpcy5sYXN0QWN0aXZpdHlUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5tYXliZVN0YXJ0SWRsZVRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpdml0eVN0YXRlO1xuICAgIH1cbiAgICB3YXRjaENvbm5lY3Rpdml0eVN0YXRlKGN1cnJlbnRTdGF0ZSwgZGVhZGxpbmUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFubmVsIGhhcyBiZWVuIHNodXQgZG93bicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0aW1lciA9IG51bGw7XG4gICAgICAgIGlmIChkZWFkbGluZSAhPT0gSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlYWRsaW5lRGF0ZSA9IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSA/IGRlYWRsaW5lIDogbmV3IERhdGUoZGVhZGxpbmUpO1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGlmIChkZWFkbGluZSA9PT0gLUluZmluaXR5IHx8IGRlYWRsaW5lRGF0ZSA8PSBub3cpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNrLCBuZXcgRXJyb3IoJ0RlYWRsaW5lIHBhc3NlZCB3aXRob3V0IGNvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2UnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcih3YXRjaGVyT2JqZWN0KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0RlYWRsaW5lIHBhc3NlZCB3aXRob3V0IGNvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2UnKSk7XG4gICAgICAgICAgICB9LCBkZWFkbGluZURhdGUuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2F0Y2hlck9iamVjdCA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgdGltZXIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycy5wdXNoKHdhdGNoZXJPYmplY3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNoYW5uZWx6IHJlZmVyZW5jZSBvYmplY3QgZm9yIHRoaXMgY2hhbm5lbC4gVGhlIHJldHVybmVkIHZhbHVlIGlzXG4gICAgICogZ2FyYmFnZSBpZiBjaGFubmVseiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjaGFubmVsLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWx6UmVmO1xuICAgIH1cbiAgICBjcmVhdGVDYWxsKG1ldGhvZCwgZGVhZGxpbmUsIGhvc3QsIHBhcmVudENhbGwsIHByb3BhZ2F0ZUZsYWdzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCNjcmVhdGVDYWxsOiBtZXRob2QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHR5cGVvZiBkZWFkbGluZSA9PT0gJ251bWJlcicgfHwgZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCNjcmVhdGVDYWxsOiBkZWFkbGluZSBtdXN0IGJlIGEgbnVtYmVyIG9yIERhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuU0hVVERPV04pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhbm5lbCBoYXMgYmVlbiBzaHV0IGRvd24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVSZXNvbHZpbmdDYWxsKG1ldGhvZCwgZGVhZGxpbmUsIGhvc3QsIHBhcmVudENhbGwsIHByb3BhZ2F0ZUZsYWdzKTtcbiAgICB9XG4gICAgZ2V0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucztcbiAgICB9XG59XG5leHBvcnRzLkludGVybmFsQ2hhbm5lbCA9IEludGVybmFsQ2hhbm5lbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVybmFsLWNoYW5uZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/internal-channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChildLoadBalancerHandler = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst TYPE_NAME = 'child_load_balancer_helper';\nclass ChildLoadBalancerHandler {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.currentChild = null;\n        this.pendingChild = null;\n        this.latestConfig = null;\n        this.ChildPolicyHelper = class {\n            constructor(parent) {\n                this.parent = parent;\n                this.child = null;\n            }\n            createSubchannel(subchannelAddress, subchannelArgs) {\n                return this.parent.channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n            }\n            updateState(connectivityState, picker, errorMessage) {\n                var _a;\n                if (this.calledByPendingChild()) {\n                    if (connectivityState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                        return;\n                    }\n                    (_a = this.parent.currentChild) === null || _a === void 0 ? void 0 : _a.destroy();\n                    this.parent.currentChild = this.parent.pendingChild;\n                    this.parent.pendingChild = null;\n                }\n                else if (!this.calledByCurrentChild()) {\n                    return;\n                }\n                this.parent.channelControlHelper.updateState(connectivityState, picker, errorMessage);\n            }\n            requestReresolution() {\n                var _a;\n                const latestChild = (_a = this.parent.pendingChild) !== null && _a !== void 0 ? _a : this.parent.currentChild;\n                if (this.child === latestChild) {\n                    this.parent.channelControlHelper.requestReresolution();\n                }\n            }\n            setChild(newChild) {\n                this.child = newChild;\n            }\n            addChannelzChild(child) {\n                this.parent.channelControlHelper.addChannelzChild(child);\n            }\n            removeChannelzChild(child) {\n                this.parent.channelControlHelper.removeChannelzChild(child);\n            }\n            calledByPendingChild() {\n                return this.child === this.parent.pendingChild;\n            }\n            calledByCurrentChild() {\n                return this.child === this.parent.currentChild;\n            }\n        };\n    }\n    configUpdateRequiresNewPolicyInstance(oldConfig, newConfig) {\n        return oldConfig.getLoadBalancerName() !== newConfig.getLoadBalancerName();\n    }\n    /**\n     * Prerequisites: lbConfig !== null and lbConfig.name is registered\n     * @param endpointList\n     * @param lbConfig\n     * @param attributes\n     */\n    updateAddressList(endpointList, lbConfig, options, resolutionNote) {\n        let childToUpdate;\n        if (this.currentChild === null ||\n            this.latestConfig === null ||\n            this.configUpdateRequiresNewPolicyInstance(this.latestConfig, lbConfig)) {\n            const newHelper = new this.ChildPolicyHelper(this);\n            const newChild = (0, load_balancer_1.createLoadBalancer)(lbConfig, newHelper);\n            newHelper.setChild(newChild);\n            if (this.currentChild === null) {\n                this.currentChild = newChild;\n                childToUpdate = this.currentChild;\n            }\n            else {\n                if (this.pendingChild) {\n                    this.pendingChild.destroy();\n                }\n                this.pendingChild = newChild;\n                childToUpdate = this.pendingChild;\n            }\n        }\n        else {\n            if (this.pendingChild === null) {\n                childToUpdate = this.currentChild;\n            }\n            else {\n                childToUpdate = this.pendingChild;\n            }\n        }\n        this.latestConfig = lbConfig;\n        return childToUpdate.updateAddressList(endpointList, lbConfig, options, resolutionNote);\n    }\n    exitIdle() {\n        if (this.currentChild) {\n            this.currentChild.exitIdle();\n            if (this.pendingChild) {\n                this.pendingChild.exitIdle();\n            }\n        }\n    }\n    resetBackoff() {\n        if (this.currentChild) {\n            this.currentChild.resetBackoff();\n            if (this.pendingChild) {\n                this.pendingChild.resetBackoff();\n            }\n        }\n    }\n    destroy() {\n        /* Note: state updates are only propagated from the child balancer if that\n         * object is equal to this.currentChild or this.pendingChild. Since this\n         * function sets both of those to null, no further state updates will\n         * occur after this function returns. */\n        if (this.currentChild) {\n            this.currentChild.destroy();\n            this.currentChild = null;\n        }\n        if (this.pendingChild) {\n            this.pendingChild.destroy();\n            this.pendingChild = null;\n        }\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.ChildLoadBalancerHandler = ChildLoadBalancerHandler;\n//# sourceMappingURL=load-balancer-child-handler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDO0FBQ2hDLHdCQUF3QixtQkFBTyxDQUFDLDhHQUFpQjtBQUNqRCw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXIuanM/ZTI4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSB2b2lkIDA7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBUWVBFX05BTUUgPSAnY2hpbGRfbG9hZF9iYWxhbmNlcl9oZWxwZXInO1xuY2xhc3MgQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIHRoaXMuY3VycmVudENoaWxkID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdENvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMuQ2hpbGRQb2xpY3lIZWxwZXIgPSBjbGFzcyB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWwoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWxsZWRCeVBlbmRpbmdDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMucGFyZW50LmN1cnJlbnRDaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3VycmVudENoaWxkID0gdGhpcy5wYXJlbnQucGVuZGluZ0NoaWxkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jYWxsZWRCeUN1cnJlbnRDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdENoaWxkID0gKF9hID0gdGhpcy5wYXJlbnQucGVuZGluZ0NoaWxkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnBhcmVudC5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGQgPT09IGxhdGVzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLnJlcXVlc3RSZXJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDaGlsZChuZXdDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZENoYW5uZWx6Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5hZGRDaGFubmVsekNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5yZW1vdmVDaGFubmVsekNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZEJ5UGVuZGluZ0NoaWxkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkID09PSB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsZWRCeUN1cnJlbnRDaGlsZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZCA9PT0gdGhpcy5wYXJlbnQuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25maWdVcGRhdGVSZXF1aXJlc05ld1BvbGljeUluc3RhbmNlKG9sZENvbmZpZywgbmV3Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiBvbGRDb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpICE9PSBuZXdDb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVyZXF1aXNpdGVzOiBsYkNvbmZpZyAhPT0gbnVsbCBhbmQgbGJDb25maWcubmFtZSBpcyByZWdpc3RlcmVkXG4gICAgICogQHBhcmFtIGVuZHBvaW50TGlzdFxuICAgICAqIEBwYXJhbSBsYkNvbmZpZ1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgdXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgbGV0IGNoaWxkVG9VcGRhdGU7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnVXBkYXRlUmVxdWlyZXNOZXdQb2xpY3lJbnN0YW5jZSh0aGlzLmxhdGVzdENvbmZpZywgbGJDb25maWcpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdIZWxwZXIgPSBuZXcgdGhpcy5DaGlsZFBvbGljeUhlbHBlcih0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoaWxkID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVMb2FkQmFsYW5jZXIpKGxiQ29uZmlnLCBuZXdIZWxwZXIpO1xuICAgICAgICAgICAgbmV3SGVscGVyLnNldENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGRUb1VwZGF0ZSA9IHRoaXMuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBsYkNvbmZpZztcbiAgICAgICAgcmV0dXJuIGNoaWxkVG9VcGRhdGUudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpO1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5leGl0SWRsZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQuZXhpdElkbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hpbGQucmVzZXRCYWNrb2ZmKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5yZXNldEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICAvKiBOb3RlOiBzdGF0ZSB1cGRhdGVzIGFyZSBvbmx5IHByb3BhZ2F0ZWQgZnJvbSB0aGUgY2hpbGQgYmFsYW5jZXIgaWYgdGhhdFxuICAgICAgICAgKiBvYmplY3QgaXMgZXF1YWwgdG8gdGhpcy5jdXJyZW50Q2hpbGQgb3IgdGhpcy5wZW5kaW5nQ2hpbGQuIFNpbmNlIHRoaXNcbiAgICAgICAgICogZnVuY3Rpb24gc2V0cyBib3RoIG9mIHRob3NlIHRvIG51bGwsIG5vIGZ1cnRoZXIgc3RhdGUgdXBkYXRlcyB3aWxsXG4gICAgICAgICAqIG9jY3VyIGFmdGVyIHRoaXMgZnVuY3Rpb24gcmV0dXJucy4gKi9cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxufVxuZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSBDaGlsZExvYWRCYWxhbmNlckhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OutlierDetectionLoadBalancer = exports.OutlierDetectionLoadBalancingConfig = void 0;\nexports.setup = setup;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst duration_1 = __webpack_require__(/*! ./duration */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\");\nconst experimental_1 = __webpack_require__(/*! ./experimental */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/experimental.js\");\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'outlier_detection';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'outlier_detection';\nconst OUTLIER_DETECTION_ENABLED = ((_a = process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION) !== null && _a !== void 0 ? _a : 'true') === 'true';\nconst defaultSuccessRateEjectionConfig = {\n    stdev_factor: 1900,\n    enforcement_percentage: 100,\n    minimum_hosts: 5,\n    request_volume: 100,\n};\nconst defaultFailurePercentageEjectionConfig = {\n    threshold: 85,\n    enforcement_percentage: 100,\n    minimum_hosts: 5,\n    request_volume: 50,\n};\nfunction validateFieldType(obj, fieldName, expectedType, objectName) {\n    if (fieldName in obj &&\n        obj[fieldName] !== undefined &&\n        typeof obj[fieldName] !== expectedType) {\n        const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n        throw new Error(`outlier detection config ${fullFieldName} parse error: expected ${expectedType}, got ${typeof obj[fieldName]}`);\n    }\n}\nfunction validatePositiveDuration(obj, fieldName, objectName) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    if (fieldName in obj && obj[fieldName] !== undefined) {\n        if (!(0, duration_1.isDuration)(obj[fieldName])) {\n            throw new Error(`outlier detection config ${fullFieldName} parse error: expected Duration, got ${typeof obj[fieldName]}`);\n        }\n        if (!(obj[fieldName].seconds >= 0 &&\n            obj[fieldName].seconds <= 315576000000 &&\n            obj[fieldName].nanos >= 0 &&\n            obj[fieldName].nanos <= 999999999)) {\n            throw new Error(`outlier detection config ${fullFieldName} parse error: values out of range for non-negative Duaration`);\n        }\n    }\n}\nfunction validatePercentage(obj, fieldName, objectName) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    validateFieldType(obj, fieldName, 'number', objectName);\n    if (fieldName in obj &&\n        obj[fieldName] !== undefined &&\n        !(obj[fieldName] >= 0 && obj[fieldName] <= 100)) {\n        throw new Error(`outlier detection config ${fullFieldName} parse error: value out of range for percentage (0-100)`);\n    }\n}\nclass OutlierDetectionLoadBalancingConfig {\n    constructor(intervalMs, baseEjectionTimeMs, maxEjectionTimeMs, maxEjectionPercent, successRateEjection, failurePercentageEjection, childPolicy) {\n        this.childPolicy = childPolicy;\n        if (childPolicy.getLoadBalancerName() === 'pick_first') {\n            throw new Error('outlier_detection LB policy cannot have a pick_first child policy');\n        }\n        this.intervalMs = intervalMs !== null && intervalMs !== void 0 ? intervalMs : 10000;\n        this.baseEjectionTimeMs = baseEjectionTimeMs !== null && baseEjectionTimeMs !== void 0 ? baseEjectionTimeMs : 30000;\n        this.maxEjectionTimeMs = maxEjectionTimeMs !== null && maxEjectionTimeMs !== void 0 ? maxEjectionTimeMs : 300000;\n        this.maxEjectionPercent = maxEjectionPercent !== null && maxEjectionPercent !== void 0 ? maxEjectionPercent : 10;\n        this.successRateEjection = successRateEjection\n            ? Object.assign(Object.assign({}, defaultSuccessRateEjectionConfig), successRateEjection) : null;\n        this.failurePercentageEjection = failurePercentageEjection\n            ? Object.assign(Object.assign({}, defaultFailurePercentageEjectionConfig), failurePercentageEjection) : null;\n    }\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    toJsonObject() {\n        var _a, _b;\n        return {\n            outlier_detection: {\n                interval: (0, duration_1.msToDuration)(this.intervalMs),\n                base_ejection_time: (0, duration_1.msToDuration)(this.baseEjectionTimeMs),\n                max_ejection_time: (0, duration_1.msToDuration)(this.maxEjectionTimeMs),\n                max_ejection_percent: this.maxEjectionPercent,\n                success_rate_ejection: (_a = this.successRateEjection) !== null && _a !== void 0 ? _a : undefined,\n                failure_percentage_ejection: (_b = this.failurePercentageEjection) !== null && _b !== void 0 ? _b : undefined,\n                child_policy: [this.childPolicy.toJsonObject()],\n            },\n        };\n    }\n    getIntervalMs() {\n        return this.intervalMs;\n    }\n    getBaseEjectionTimeMs() {\n        return this.baseEjectionTimeMs;\n    }\n    getMaxEjectionTimeMs() {\n        return this.maxEjectionTimeMs;\n    }\n    getMaxEjectionPercent() {\n        return this.maxEjectionPercent;\n    }\n    getSuccessRateEjectionConfig() {\n        return this.successRateEjection;\n    }\n    getFailurePercentageEjectionConfig() {\n        return this.failurePercentageEjection;\n    }\n    getChildPolicy() {\n        return this.childPolicy;\n    }\n    static createFromJson(obj) {\n        var _a;\n        validatePositiveDuration(obj, 'interval');\n        validatePositiveDuration(obj, 'base_ejection_time');\n        validatePositiveDuration(obj, 'max_ejection_time');\n        validatePercentage(obj, 'max_ejection_percent');\n        if ('success_rate_ejection' in obj &&\n            obj.success_rate_ejection !== undefined) {\n            if (typeof obj.success_rate_ejection !== 'object') {\n                throw new Error('outlier detection config success_rate_ejection must be an object');\n            }\n            validateFieldType(obj.success_rate_ejection, 'stdev_factor', 'number', 'success_rate_ejection');\n            validatePercentage(obj.success_rate_ejection, 'enforcement_percentage', 'success_rate_ejection');\n            validateFieldType(obj.success_rate_ejection, 'minimum_hosts', 'number', 'success_rate_ejection');\n            validateFieldType(obj.success_rate_ejection, 'request_volume', 'number', 'success_rate_ejection');\n        }\n        if ('failure_percentage_ejection' in obj &&\n            obj.failure_percentage_ejection !== undefined) {\n            if (typeof obj.failure_percentage_ejection !== 'object') {\n                throw new Error('outlier detection config failure_percentage_ejection must be an object');\n            }\n            validatePercentage(obj.failure_percentage_ejection, 'threshold', 'failure_percentage_ejection');\n            validatePercentage(obj.failure_percentage_ejection, 'enforcement_percentage', 'failure_percentage_ejection');\n            validateFieldType(obj.failure_percentage_ejection, 'minimum_hosts', 'number', 'failure_percentage_ejection');\n            validateFieldType(obj.failure_percentage_ejection, 'request_volume', 'number', 'failure_percentage_ejection');\n        }\n        if (!('child_policy' in obj) || !Array.isArray(obj.child_policy)) {\n            throw new Error('outlier detection config child_policy must be an array');\n        }\n        const childPolicy = (0, load_balancer_1.selectLbConfigFromList)(obj.child_policy);\n        if (!childPolicy) {\n            throw new Error('outlier detection config child_policy: no valid recognized policy found');\n        }\n        return new OutlierDetectionLoadBalancingConfig(obj.interval ? (0, duration_1.durationToMs)(obj.interval) : null, obj.base_ejection_time ? (0, duration_1.durationToMs)(obj.base_ejection_time) : null, obj.max_ejection_time ? (0, duration_1.durationToMs)(obj.max_ejection_time) : null, (_a = obj.max_ejection_percent) !== null && _a !== void 0 ? _a : null, obj.success_rate_ejection, obj.failure_percentage_ejection, childPolicy);\n    }\n}\nexports.OutlierDetectionLoadBalancingConfig = OutlierDetectionLoadBalancingConfig;\nclass OutlierDetectionSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(childSubchannel, mapEntry) {\n        super(childSubchannel);\n        this.mapEntry = mapEntry;\n        this.refCount = 0;\n    }\n    ref() {\n        this.child.ref();\n        this.refCount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refCount -= 1;\n        if (this.refCount <= 0) {\n            if (this.mapEntry) {\n                const index = this.mapEntry.subchannelWrappers.indexOf(this);\n                if (index >= 0) {\n                    this.mapEntry.subchannelWrappers.splice(index, 1);\n                }\n            }\n        }\n    }\n    eject() {\n        this.setHealthy(false);\n    }\n    uneject() {\n        this.setHealthy(true);\n    }\n    getMapEntry() {\n        return this.mapEntry;\n    }\n    getWrappedSubchannel() {\n        return this.child;\n    }\n}\nfunction createEmptyBucket() {\n    return {\n        success: 0,\n        failure: 0,\n    };\n}\nclass CallCounter {\n    constructor() {\n        this.activeBucket = createEmptyBucket();\n        this.inactiveBucket = createEmptyBucket();\n    }\n    addSuccess() {\n        this.activeBucket.success += 1;\n    }\n    addFailure() {\n        this.activeBucket.failure += 1;\n    }\n    switchBuckets() {\n        this.inactiveBucket = this.activeBucket;\n        this.activeBucket = createEmptyBucket();\n    }\n    getLastSuccesses() {\n        return this.inactiveBucket.success;\n    }\n    getLastFailures() {\n        return this.inactiveBucket.failure;\n    }\n}\nclass OutlierDetectionPicker {\n    constructor(wrappedPicker, countCalls) {\n        this.wrappedPicker = wrappedPicker;\n        this.countCalls = countCalls;\n    }\n    pick(pickArgs) {\n        const wrappedPick = this.wrappedPicker.pick(pickArgs);\n        if (wrappedPick.pickResultType === picker_1.PickResultType.COMPLETE) {\n            const subchannelWrapper = wrappedPick.subchannel;\n            const mapEntry = subchannelWrapper.getMapEntry();\n            if (mapEntry) {\n                let onCallEnded = wrappedPick.onCallEnded;\n                if (this.countCalls) {\n                    onCallEnded = (statusCode, details, metadata) => {\n                        var _a;\n                        if (statusCode === constants_1.Status.OK) {\n                            mapEntry.counter.addSuccess();\n                        }\n                        else {\n                            mapEntry.counter.addFailure();\n                        }\n                        (_a = wrappedPick.onCallEnded) === null || _a === void 0 ? void 0 : _a.call(wrappedPick, statusCode, details, metadata);\n                    };\n                }\n                return Object.assign(Object.assign({}, wrappedPick), { subchannel: subchannelWrapper.getWrappedSubchannel(), onCallEnded: onCallEnded });\n            }\n            else {\n                return Object.assign(Object.assign({}, wrappedPick), { subchannel: subchannelWrapper.getWrappedSubchannel() });\n            }\n        }\n        else {\n            return wrappedPick;\n        }\n    }\n}\nclass OutlierDetectionLoadBalancer {\n    constructor(channelControlHelper) {\n        this.entryMap = new subchannel_address_1.EndpointMap();\n        this.latestConfig = null;\n        this.timerStartTime = null;\n        this.childBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler((0, experimental_1.createChildChannelControlHelper)(channelControlHelper, {\n            createSubchannel: (subchannelAddress, subchannelArgs) => {\n                const originalSubchannel = channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n                const mapEntry = this.entryMap.getForSubchannelAddress(subchannelAddress);\n                const subchannelWrapper = new OutlierDetectionSubchannelWrapper(originalSubchannel, mapEntry);\n                if ((mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.currentEjectionTimestamp) !== null) {\n                    // If the address is ejected, propagate that to the new subchannel wrapper\n                    subchannelWrapper.eject();\n                }\n                mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.subchannelWrappers.push(subchannelWrapper);\n                return subchannelWrapper;\n            },\n            updateState: (connectivityState, picker, errorMessage) => {\n                if (connectivityState === connectivity_state_1.ConnectivityState.READY) {\n                    channelControlHelper.updateState(connectivityState, new OutlierDetectionPicker(picker, this.isCountingEnabled()), errorMessage);\n                }\n                else {\n                    channelControlHelper.updateState(connectivityState, picker, errorMessage);\n                }\n            },\n        }));\n        this.ejectionTimer = setInterval(() => { }, 0);\n        clearInterval(this.ejectionTimer);\n    }\n    isCountingEnabled() {\n        return (this.latestConfig !== null &&\n            (this.latestConfig.getSuccessRateEjectionConfig() !== null ||\n                this.latestConfig.getFailurePercentageEjectionConfig() !== null));\n    }\n    getCurrentEjectionPercent() {\n        let ejectionCount = 0;\n        for (const mapEntry of this.entryMap.values()) {\n            if (mapEntry.currentEjectionTimestamp !== null) {\n                ejectionCount += 1;\n            }\n        }\n        return (ejectionCount * 100) / this.entryMap.size;\n    }\n    runSuccessRateCheck(ejectionTimestamp) {\n        if (!this.latestConfig) {\n            return;\n        }\n        const successRateConfig = this.latestConfig.getSuccessRateEjectionConfig();\n        if (!successRateConfig) {\n            return;\n        }\n        trace('Running success rate check');\n        // Step 1\n        const targetRequestVolume = successRateConfig.request_volume;\n        let addresesWithTargetVolume = 0;\n        const successRates = [];\n        for (const [endpoint, mapEntry] of this.entryMap.entries()) {\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            trace('Stats for ' +\n                (0, subchannel_address_1.endpointToString)(endpoint) +\n                ': successes=' +\n                successes +\n                ' failures=' +\n                failures +\n                ' targetRequestVolume=' +\n                targetRequestVolume);\n            if (successes + failures >= targetRequestVolume) {\n                addresesWithTargetVolume += 1;\n                successRates.push(successes / (successes + failures));\n            }\n        }\n        trace('Found ' +\n            addresesWithTargetVolume +\n            ' success rate candidates; currentEjectionPercent=' +\n            this.getCurrentEjectionPercent() +\n            ' successRates=[' +\n            successRates +\n            ']');\n        if (addresesWithTargetVolume < successRateConfig.minimum_hosts) {\n            return;\n        }\n        // Step 2\n        const successRateMean = successRates.reduce((a, b) => a + b) / successRates.length;\n        let successRateDeviationSum = 0;\n        for (const rate of successRates) {\n            const deviation = rate - successRateMean;\n            successRateDeviationSum += deviation * deviation;\n        }\n        const successRateVariance = successRateDeviationSum / successRates.length;\n        const successRateStdev = Math.sqrt(successRateVariance);\n        const ejectionThreshold = successRateMean -\n            successRateStdev * (successRateConfig.stdev_factor / 1000);\n        trace('stdev=' + successRateStdev + ' ejectionThreshold=' + ejectionThreshold);\n        // Step 3\n        for (const [address, mapEntry] of this.entryMap.entries()) {\n            // Step 3.i\n            if (this.getCurrentEjectionPercent() >=\n                this.latestConfig.getMaxEjectionPercent()) {\n                break;\n            }\n            // Step 3.ii\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            if (successes + failures < targetRequestVolume) {\n                continue;\n            }\n            // Step 3.iii\n            const successRate = successes / (successes + failures);\n            trace('Checking candidate ' + address + ' successRate=' + successRate);\n            if (successRate < ejectionThreshold) {\n                const randomNumber = Math.random() * 100;\n                trace('Candidate ' +\n                    address +\n                    ' randomNumber=' +\n                    randomNumber +\n                    ' enforcement_percentage=' +\n                    successRateConfig.enforcement_percentage);\n                if (randomNumber < successRateConfig.enforcement_percentage) {\n                    trace('Ejecting candidate ' + address);\n                    this.eject(mapEntry, ejectionTimestamp);\n                }\n            }\n        }\n    }\n    runFailurePercentageCheck(ejectionTimestamp) {\n        if (!this.latestConfig) {\n            return;\n        }\n        const failurePercentageConfig = this.latestConfig.getFailurePercentageEjectionConfig();\n        if (!failurePercentageConfig) {\n            return;\n        }\n        trace('Running failure percentage check. threshold=' +\n            failurePercentageConfig.threshold +\n            ' request volume threshold=' +\n            failurePercentageConfig.request_volume);\n        // Step 1\n        let addressesWithTargetVolume = 0;\n        for (const mapEntry of this.entryMap.values()) {\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            if (successes + failures >= failurePercentageConfig.request_volume) {\n                addressesWithTargetVolume += 1;\n            }\n        }\n        if (addressesWithTargetVolume < failurePercentageConfig.minimum_hosts) {\n            return;\n        }\n        // Step 2\n        for (const [address, mapEntry] of this.entryMap.entries()) {\n            // Step 2.i\n            if (this.getCurrentEjectionPercent() >=\n                this.latestConfig.getMaxEjectionPercent()) {\n                break;\n            }\n            // Step 2.ii\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            trace('Candidate successes=' + successes + ' failures=' + failures);\n            if (successes + failures < failurePercentageConfig.request_volume) {\n                continue;\n            }\n            // Step 2.iii\n            const failurePercentage = (failures * 100) / (failures + successes);\n            if (failurePercentage > failurePercentageConfig.threshold) {\n                const randomNumber = Math.random() * 100;\n                trace('Candidate ' +\n                    address +\n                    ' randomNumber=' +\n                    randomNumber +\n                    ' enforcement_percentage=' +\n                    failurePercentageConfig.enforcement_percentage);\n                if (randomNumber < failurePercentageConfig.enforcement_percentage) {\n                    trace('Ejecting candidate ' + address);\n                    this.eject(mapEntry, ejectionTimestamp);\n                }\n            }\n        }\n    }\n    eject(mapEntry, ejectionTimestamp) {\n        mapEntry.currentEjectionTimestamp = new Date();\n        mapEntry.ejectionTimeMultiplier += 1;\n        for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n            subchannelWrapper.eject();\n        }\n    }\n    uneject(mapEntry) {\n        mapEntry.currentEjectionTimestamp = null;\n        for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n            subchannelWrapper.uneject();\n        }\n    }\n    switchAllBuckets() {\n        for (const mapEntry of this.entryMap.values()) {\n            mapEntry.counter.switchBuckets();\n        }\n    }\n    startTimer(delayMs) {\n        var _a, _b;\n        this.ejectionTimer = setTimeout(() => this.runChecks(), delayMs);\n        (_b = (_a = this.ejectionTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    runChecks() {\n        const ejectionTimestamp = new Date();\n        trace('Ejection timer running');\n        this.switchAllBuckets();\n        if (!this.latestConfig) {\n            return;\n        }\n        this.timerStartTime = ejectionTimestamp;\n        this.startTimer(this.latestConfig.getIntervalMs());\n        this.runSuccessRateCheck(ejectionTimestamp);\n        this.runFailurePercentageCheck(ejectionTimestamp);\n        for (const [address, mapEntry] of this.entryMap.entries()) {\n            if (mapEntry.currentEjectionTimestamp === null) {\n                if (mapEntry.ejectionTimeMultiplier > 0) {\n                    mapEntry.ejectionTimeMultiplier -= 1;\n                }\n            }\n            else {\n                const baseEjectionTimeMs = this.latestConfig.getBaseEjectionTimeMs();\n                const maxEjectionTimeMs = this.latestConfig.getMaxEjectionTimeMs();\n                const returnTime = new Date(mapEntry.currentEjectionTimestamp.getTime());\n                returnTime.setMilliseconds(returnTime.getMilliseconds() +\n                    Math.min(baseEjectionTimeMs * mapEntry.ejectionTimeMultiplier, Math.max(baseEjectionTimeMs, maxEjectionTimeMs)));\n                if (returnTime < new Date()) {\n                    trace('Unejecting ' + address);\n                    this.uneject(mapEntry);\n                }\n            }\n        }\n    }\n    updateAddressList(endpointList, lbConfig, options, resolutionNote) {\n        if (!(lbConfig instanceof OutlierDetectionLoadBalancingConfig)) {\n            return false;\n        }\n        trace('Received update with config: ' + JSON.stringify(lbConfig.toJsonObject(), undefined, 2));\n        if (endpointList.ok) {\n            for (const endpoint of endpointList.value) {\n                if (!this.entryMap.has(endpoint)) {\n                    trace('Adding map entry for ' + (0, subchannel_address_1.endpointToString)(endpoint));\n                    this.entryMap.set(endpoint, {\n                        counter: new CallCounter(),\n                        currentEjectionTimestamp: null,\n                        ejectionTimeMultiplier: 0,\n                        subchannelWrappers: [],\n                    });\n                }\n            }\n            this.entryMap.deleteMissing(endpointList.value);\n        }\n        const childPolicy = lbConfig.getChildPolicy();\n        this.childBalancer.updateAddressList(endpointList, childPolicy, options, resolutionNote);\n        if (lbConfig.getSuccessRateEjectionConfig() ||\n            lbConfig.getFailurePercentageEjectionConfig()) {\n            if (this.timerStartTime) {\n                trace('Previous timer existed. Replacing timer');\n                clearTimeout(this.ejectionTimer);\n                const remainingDelay = lbConfig.getIntervalMs() -\n                    (new Date().getTime() - this.timerStartTime.getTime());\n                this.startTimer(remainingDelay);\n            }\n            else {\n                trace('Starting new timer');\n                this.timerStartTime = new Date();\n                this.startTimer(lbConfig.getIntervalMs());\n                this.switchAllBuckets();\n            }\n        }\n        else {\n            trace('Counting disabled. Cancelling timer.');\n            this.timerStartTime = null;\n            clearTimeout(this.ejectionTimer);\n            for (const mapEntry of this.entryMap.values()) {\n                this.uneject(mapEntry);\n                mapEntry.ejectionTimeMultiplier = 0;\n            }\n        }\n        this.latestConfig = lbConfig;\n        return true;\n    }\n    exitIdle() {\n        this.childBalancer.exitIdle();\n    }\n    resetBackoff() {\n        this.childBalancer.resetBackoff();\n    }\n    destroy() {\n        clearTimeout(this.ejectionTimer);\n        this.childBalancer.destroy();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.OutlierDetectionLoadBalancer = OutlierDetectionLoadBalancer;\nfunction setup() {\n    if (OUTLIER_DETECTION_ENABLED) {\n        (0, experimental_1.registerLoadBalancerType)(TYPE_NAME, OutlierDetectionLoadBalancer, OutlierDetectionLoadBalancingConfig);\n    }\n}\n//# sourceMappingURL=load-balancer-outlier-detection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1vdXRsaWVyLWRldGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLEdBQUcsMkNBQTJDO0FBQ2xGLGFBQWE7QUFDYiw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0Qsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsdUJBQXVCLG1CQUFPLENBQUMsNEdBQWdCO0FBQy9DLHdCQUF3QixtQkFBTyxDQUFDLDhHQUFpQjtBQUNqRCxzQ0FBc0MsbUJBQU8sQ0FBQywwSUFBK0I7QUFDN0UsaUJBQWlCLG1CQUFPLENBQUMsZ0dBQVU7QUFDbkMsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELCtCQUErQixtQkFBTyxDQUFDLDRIQUF3QjtBQUMvRCxnQkFBZ0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxXQUFXLEdBQUcsVUFBVTtBQUN0RSxvREFBb0QsZUFBZSx3QkFBd0IsYUFBYSxRQUFRLHNCQUFzQjtBQUN0STtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsV0FBVyxHQUFHLFVBQVU7QUFDbEU7QUFDQTtBQUNBLHdEQUF3RCxlQUFlLHNDQUFzQyxzQkFBc0I7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxlQUFlO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFdBQVcsR0FBRyxVQUFVO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGVBQWU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELGtCQUFrQixnRkFBZ0Y7QUFDdko7QUFDQTtBQUNBLHFEQUFxRCxrQkFBa0Isc0RBQXNEO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1vdXRsaWVyLWRldGVjdGlvbi5qcz81NDJlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX2E7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIgPSBleHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGR1cmF0aW9uXzEgPSByZXF1aXJlKFwiLi9kdXJhdGlvblwiKTtcbmNvbnN0IGV4cGVyaW1lbnRhbF8xID0gcmVxdWlyZShcIi4vZXhwZXJpbWVudGFsXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnb3V0bGllcl9kZXRlY3Rpb24nO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBUWVBFX05BTUUgPSAnb3V0bGllcl9kZXRlY3Rpb24nO1xuY29uc3QgT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCA9ICgoX2EgPSBwcm9jZXNzLmVudi5HUlBDX0VYUEVSSU1FTlRBTF9FTkFCTEVfT1VUTElFUl9ERVRFQ1RJT04pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICd0cnVlJykgPT09ICd0cnVlJztcbmNvbnN0IGRlZmF1bHRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnID0ge1xuICAgIHN0ZGV2X2ZhY3RvcjogMTkwMCxcbiAgICBlbmZvcmNlbWVudF9wZXJjZW50YWdlOiAxMDAsXG4gICAgbWluaW11bV9ob3N0czogNSxcbiAgICByZXF1ZXN0X3ZvbHVtZTogMTAwLFxufTtcbmNvbnN0IGRlZmF1bHRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnID0ge1xuICAgIHRocmVzaG9sZDogODUsXG4gICAgZW5mb3JjZW1lbnRfcGVyY2VudGFnZTogMTAwLFxuICAgIG1pbmltdW1faG9zdHM6IDUsXG4gICAgcmVxdWVzdF92b2x1bWU6IDUwLFxufTtcbmZ1bmN0aW9uIHZhbGlkYXRlRmllbGRUeXBlKG9iaiwgZmllbGROYW1lLCBleHBlY3RlZFR5cGUsIG9iamVjdE5hbWUpIHtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaiAmJlxuICAgICAgICBvYmpbZmllbGROYW1lXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHR5cGVvZiBvYmpbZmllbGROYW1lXSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxGaWVsZE5hbWUgPSBvYmplY3ROYW1lID8gYCR7b2JqZWN0TmFtZX0uJHtmaWVsZE5hbWV9YCA6IGZpZWxkTmFtZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgJHtmdWxsRmllbGROYW1lfSBwYXJzZSBlcnJvcjogZXhwZWN0ZWQgJHtleHBlY3RlZFR5cGV9LCBnb3QgJHt0eXBlb2Ygb2JqW2ZpZWxkTmFtZV19YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQb3NpdGl2ZUR1cmF0aW9uKG9iaiwgZmllbGROYW1lLCBvYmplY3ROYW1lKSB7XG4gICAgY29uc3QgZnVsbEZpZWxkTmFtZSA9IG9iamVjdE5hbWUgPyBgJHtvYmplY3ROYW1lfS4ke2ZpZWxkTmFtZX1gIDogZmllbGROYW1lO1xuICAgIGlmIChmaWVsZE5hbWUgaW4gb2JqICYmIG9ialtmaWVsZE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCEoMCwgZHVyYXRpb25fMS5pc0R1cmF0aW9uKShvYmpbZmllbGROYW1lXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0bGllciBkZXRlY3Rpb24gY29uZmlnICR7ZnVsbEZpZWxkTmFtZX0gcGFyc2UgZXJyb3I6IGV4cGVjdGVkIER1cmF0aW9uLCBnb3QgJHt0eXBlb2Ygb2JqW2ZpZWxkTmFtZV19YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEob2JqW2ZpZWxkTmFtZV0uc2Vjb25kcyA+PSAwICYmXG4gICAgICAgICAgICBvYmpbZmllbGROYW1lXS5zZWNvbmRzIDw9IDMxNTU3NjAwMDAwMCAmJlxuICAgICAgICAgICAgb2JqW2ZpZWxkTmFtZV0ubmFub3MgPj0gMCAmJlxuICAgICAgICAgICAgb2JqW2ZpZWxkTmFtZV0ubmFub3MgPD0gOTk5OTk5OTk5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgJHtmdWxsRmllbGROYW1lfSBwYXJzZSBlcnJvcjogdmFsdWVzIG91dCBvZiByYW5nZSBmb3Igbm9uLW5lZ2F0aXZlIER1YXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQZXJjZW50YWdlKG9iaiwgZmllbGROYW1lLCBvYmplY3ROYW1lKSB7XG4gICAgY29uc3QgZnVsbEZpZWxkTmFtZSA9IG9iamVjdE5hbWUgPyBgJHtvYmplY3ROYW1lfS4ke2ZpZWxkTmFtZX1gIDogZmllbGROYW1lO1xuICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iaiwgZmllbGROYW1lLCAnbnVtYmVyJywgb2JqZWN0TmFtZSk7XG4gICAgaWYgKGZpZWxkTmFtZSBpbiBvYmogJiZcbiAgICAgICAgb2JqW2ZpZWxkTmFtZV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAhKG9ialtmaWVsZE5hbWVdID49IDAgJiYgb2JqW2ZpZWxkTmFtZV0gPD0gMTAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyAke2Z1bGxGaWVsZE5hbWV9IHBhcnNlIGVycm9yOiB2YWx1ZSBvdXQgb2YgcmFuZ2UgZm9yIHBlcmNlbnRhZ2UgKDAtMTAwKWApO1xuICAgIH1cbn1cbmNsYXNzIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcihpbnRlcnZhbE1zLCBiYXNlRWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uVGltZU1zLCBtYXhFamVjdGlvblBlcmNlbnQsIHN1Y2Nlc3NSYXRlRWplY3Rpb24sIGZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb24sIGNoaWxkUG9saWN5KSB7XG4gICAgICAgIHRoaXMuY2hpbGRQb2xpY3kgPSBjaGlsZFBvbGljeTtcbiAgICAgICAgaWYgKGNoaWxkUG9saWN5LmdldExvYWRCYWxhbmNlck5hbWUoKSA9PT0gJ3BpY2tfZmlyc3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXJfZGV0ZWN0aW9uIExCIHBvbGljeSBjYW5ub3QgaGF2ZSBhIHBpY2tfZmlyc3QgY2hpbGQgcG9saWN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcnZhbE1zID0gaW50ZXJ2YWxNcyAhPT0gbnVsbCAmJiBpbnRlcnZhbE1zICE9PSB2b2lkIDAgPyBpbnRlcnZhbE1zIDogMTAwMDA7XG4gICAgICAgIHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zID0gYmFzZUVqZWN0aW9uVGltZU1zICE9PSBudWxsICYmIGJhc2VFamVjdGlvblRpbWVNcyAhPT0gdm9pZCAwID8gYmFzZUVqZWN0aW9uVGltZU1zIDogMzAwMDA7XG4gICAgICAgIHRoaXMubWF4RWplY3Rpb25UaW1lTXMgPSBtYXhFamVjdGlvblRpbWVNcyAhPT0gbnVsbCAmJiBtYXhFamVjdGlvblRpbWVNcyAhPT0gdm9pZCAwID8gbWF4RWplY3Rpb25UaW1lTXMgOiAzMDAwMDA7XG4gICAgICAgIHRoaXMubWF4RWplY3Rpb25QZXJjZW50ID0gbWF4RWplY3Rpb25QZXJjZW50ICE9PSBudWxsICYmIG1heEVqZWN0aW9uUGVyY2VudCAhPT0gdm9pZCAwID8gbWF4RWplY3Rpb25QZXJjZW50IDogMTA7XG4gICAgICAgIHRoaXMuc3VjY2Vzc1JhdGVFamVjdGlvbiA9IHN1Y2Nlc3NSYXRlRWplY3Rpb25cbiAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZyksIHN1Y2Nlc3NSYXRlRWplY3Rpb24pIDogbnVsbDtcbiAgICAgICAgdGhpcy5mYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uID0gZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvblxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnKSwgZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvdXRsaWVyX2RldGVjdGlvbjoge1xuICAgICAgICAgICAgICAgIGludGVydmFsOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMuaW50ZXJ2YWxNcyksXG4gICAgICAgICAgICAgICAgYmFzZV9lamVjdGlvbl90aW1lOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zKSxcbiAgICAgICAgICAgICAgICBtYXhfZWplY3Rpb25fdGltZTogKDAsIGR1cmF0aW9uXzEubXNUb0R1cmF0aW9uKSh0aGlzLm1heEVqZWN0aW9uVGltZU1zKSxcbiAgICAgICAgICAgICAgICBtYXhfZWplY3Rpb25fcGVyY2VudDogdGhpcy5tYXhFamVjdGlvblBlcmNlbnQsXG4gICAgICAgICAgICAgICAgc3VjY2Vzc19yYXRlX2VqZWN0aW9uOiAoX2EgPSB0aGlzLnN1Y2Nlc3NSYXRlRWplY3Rpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb246IChfYiA9IHRoaXMuZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNoaWxkX3BvbGljeTogW3RoaXMuY2hpbGRQb2xpY3kudG9Kc29uT2JqZWN0KCldLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0SW50ZXJ2YWxNcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxNcztcbiAgICB9XG4gICAgZ2V0QmFzZUVqZWN0aW9uVGltZU1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRWplY3Rpb25UaW1lTXM7XG4gICAgfVxuICAgIGdldE1heEVqZWN0aW9uVGltZU1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhFamVjdGlvblRpbWVNcztcbiAgICB9XG4gICAgZ2V0TWF4RWplY3Rpb25QZXJjZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhFamVjdGlvblBlcmNlbnQ7XG4gICAgfVxuICAgIGdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1Y2Nlc3NSYXRlRWplY3Rpb247XG4gICAgfVxuICAgIGdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb247XG4gICAgfVxuICAgIGdldENoaWxkUG9saWN5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZFBvbGljeTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUZyb21Kc29uKG9iaikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdpbnRlcnZhbCcpO1xuICAgICAgICB2YWxpZGF0ZVBvc2l0aXZlRHVyYXRpb24ob2JqLCAnYmFzZV9lamVjdGlvbl90aW1lJyk7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdtYXhfZWplY3Rpb25fdGltZScpO1xuICAgICAgICB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLCAnbWF4X2VqZWN0aW9uX3BlcmNlbnQnKTtcbiAgICAgICAgaWYgKCdzdWNjZXNzX3JhdGVfZWplY3Rpb24nIGluIG9iaiAmJlxuICAgICAgICAgICAgb2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgc3VjY2Vzc19yYXRlX2VqZWN0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZUZpZWxkVHlwZShvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCAnc3RkZXZfZmFjdG9yJywgJ251bWJlcicsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCAnZW5mb3JjZW1lbnRfcGVyY2VudGFnZScsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sICdtaW5pbXVtX2hvc3RzJywgJ251bWJlcicsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sICdyZXF1ZXN0X3ZvbHVtZScsICdudW1iZXInLCAnc3VjY2Vzc19yYXRlX2VqZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nIGluIG9iaiAmJlxuICAgICAgICAgICAgb2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiwgJ3RocmVzaG9sZCcsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCAnZW5mb3JjZW1lbnRfcGVyY2VudGFnZScsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sICdtaW5pbXVtX2hvc3RzJywgJ251bWJlcicsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sICdyZXF1ZXN0X3ZvbHVtZScsICdudW1iZXInLCAnZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoJ2NoaWxkX3BvbGljeScgaW4gb2JqKSB8fCAhQXJyYXkuaXNBcnJheShvYmouY2hpbGRfcG9saWN5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgY2hpbGRfcG9saWN5IG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZFBvbGljeSA9ICgwLCBsb2FkX2JhbGFuY2VyXzEuc2VsZWN0TGJDb25maWdGcm9tTGlzdCkob2JqLmNoaWxkX3BvbGljeSk7XG4gICAgICAgIGlmICghY2hpbGRQb2xpY3kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3V0bGllciBkZXRlY3Rpb24gY29uZmlnIGNoaWxkX3BvbGljeTogbm8gdmFsaWQgcmVjb2duaXplZCBwb2xpY3kgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKG9iai5pbnRlcnZhbCA/ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9Ncykob2JqLmludGVydmFsKSA6IG51bGwsIG9iai5iYXNlX2VqZWN0aW9uX3RpbWUgPyAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvTXMpKG9iai5iYXNlX2VqZWN0aW9uX3RpbWUpIDogbnVsbCwgb2JqLm1heF9lamVjdGlvbl90aW1lID8gKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zKShvYmoubWF4X2VqZWN0aW9uX3RpbWUpIDogbnVsbCwgKF9hID0gb2JqLm1heF9lamVjdGlvbl9wZXJjZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLCBvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCBvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCBjaGlsZFBvbGljeSk7XG4gICAgfVxufVxuZXhwb3J0cy5PdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZyA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnO1xuY2xhc3MgT3V0bGllckRldGVjdGlvblN1YmNoYW5uZWxXcmFwcGVyIGV4dGVuZHMgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMS5CYXNlU3ViY2hhbm5lbFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkU3ViY2hhbm5lbCwgbWFwRW50cnkpIHtcbiAgICAgICAgc3VwZXIoY2hpbGRTdWJjaGFubmVsKTtcbiAgICAgICAgdGhpcy5tYXBFbnRyeSA9IG1hcEVudHJ5O1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnJlZigpO1xuICAgICAgICB0aGlzLnJlZkNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnVucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFwRW50cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubWFwRW50cnkuc3ViY2hhbm5lbFdyYXBwZXJzLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWplY3QoKSB7XG4gICAgICAgIHRoaXMuc2V0SGVhbHRoeShmYWxzZSk7XG4gICAgfVxuICAgIHVuZWplY3QoKSB7XG4gICAgICAgIHRoaXMuc2V0SGVhbHRoeSh0cnVlKTtcbiAgICB9XG4gICAgZ2V0TWFwRW50cnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcEVudHJ5O1xuICAgIH1cbiAgICBnZXRXcmFwcGVkU3ViY2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQ7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRW1wdHlCdWNrZXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogMCxcbiAgICAgICAgZmFpbHVyZTogMCxcbiAgICB9O1xufVxuY2xhc3MgQ2FsbENvdW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgICAgIHRoaXMuaW5hY3RpdmVCdWNrZXQgPSBjcmVhdGVFbXB0eUJ1Y2tldCgpO1xuICAgIH1cbiAgICBhZGRTdWNjZXNzKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldC5zdWNjZXNzICs9IDE7XG4gICAgfVxuICAgIGFkZEZhaWx1cmUoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQnVja2V0LmZhaWx1cmUgKz0gMTtcbiAgICB9XG4gICAgc3dpdGNoQnVja2V0cygpIHtcbiAgICAgICAgdGhpcy5pbmFjdGl2ZUJ1Y2tldCA9IHRoaXMuYWN0aXZlQnVja2V0O1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgfVxuICAgIGdldExhc3RTdWNjZXNzZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluYWN0aXZlQnVja2V0LnN1Y2Nlc3M7XG4gICAgfVxuICAgIGdldExhc3RGYWlsdXJlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5hY3RpdmVCdWNrZXQuZmFpbHVyZTtcbiAgICB9XG59XG5jbGFzcyBPdXRsaWVyRGV0ZWN0aW9uUGlja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVkUGlja2VyLCBjb3VudENhbGxzKSB7XG4gICAgICAgIHRoaXMud3JhcHBlZFBpY2tlciA9IHdyYXBwZWRQaWNrZXI7XG4gICAgICAgIHRoaXMuY291bnRDYWxscyA9IGNvdW50Q2FsbHM7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZFBpY2sgPSB0aGlzLndyYXBwZWRQaWNrZXIucGljayhwaWNrQXJncyk7XG4gICAgICAgIGlmICh3cmFwcGVkUGljay5waWNrUmVzdWx0VHlwZSA9PT0gcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuQ09NUExFVEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxXcmFwcGVyID0gd3JhcHBlZFBpY2suc3ViY2hhbm5lbDtcbiAgICAgICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gc3ViY2hhbm5lbFdyYXBwZXIuZ2V0TWFwRW50cnkoKTtcbiAgICAgICAgICAgIGlmIChtYXBFbnRyeSkge1xuICAgICAgICAgICAgICAgIGxldCBvbkNhbGxFbmRlZCA9IHdyYXBwZWRQaWNrLm9uQ2FsbEVuZGVkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50Q2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DYWxsRW5kZWQgPSAoc3RhdHVzQ29kZSwgZGV0YWlscywgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBFbnRyeS5jb3VudGVyLmFkZFN1Y2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmNvdW50ZXIuYWRkRmFpbHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gd3JhcHBlZFBpY2sub25DYWxsRW5kZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHdyYXBwZWRQaWNrLCBzdGF0dXNDb2RlLCBkZXRhaWxzLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHdyYXBwZWRQaWNrKSwgeyBzdWJjaGFubmVsOiBzdWJjaGFubmVsV3JhcHBlci5nZXRXcmFwcGVkU3ViY2hhbm5lbCgpLCBvbkNhbGxFbmRlZDogb25DYWxsRW5kZWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB3cmFwcGVkUGljayksIHsgc3ViY2hhbm5lbDogc3ViY2hhbm5lbFdyYXBwZXIuZ2V0V3JhcHBlZFN1YmNoYW5uZWwoKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkUGljaztcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgICAgIHRoaXMuZW50cnlNYXAgPSBuZXcgc3ViY2hhbm5lbF9hZGRyZXNzXzEuRW5kcG9pbnRNYXAoKTtcbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVyU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZEJhbGFuY2VyID0gbmV3IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xLkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlcigoMCwgZXhwZXJpbWVudGFsXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcikoY2hhbm5lbENvbnRyb2xIZWxwZXIsIHtcbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN1YmNoYW5uZWwgPSBjaGFubmVsQ29udHJvbEhlbHBlci5jcmVhdGVTdWJjaGFubmVsKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwRW50cnkgPSB0aGlzLmVudHJ5TWFwLmdldEZvclN1YmNoYW5uZWxBZGRyZXNzKHN1YmNoYW5uZWxBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsV3JhcHBlciA9IG5ldyBPdXRsaWVyRGV0ZWN0aW9uU3ViY2hhbm5lbFdyYXBwZXIob3JpZ2luYWxTdWJjaGFubmVsLCBtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgaWYgKChtYXBFbnRyeSA9PT0gbnVsbCB8fCBtYXBFbnRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYWRkcmVzcyBpcyBlamVjdGVkLCBwcm9wYWdhdGUgdGhhdCB0byB0aGUgbmV3IHN1YmNoYW5uZWwgd3JhcHBlclxuICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsV3JhcHBlci5lamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXBFbnRyeSA9PT0gbnVsbCB8fCBtYXBFbnRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFwRW50cnkuc3ViY2hhbm5lbFdyYXBwZXJzLnB1c2goc3ViY2hhbm5lbFdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJjaGFubmVsV3JhcHBlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIG5ldyBPdXRsaWVyRGV0ZWN0aW9uUGlja2VyKHBpY2tlciwgdGhpcy5pc0NvdW50aW5nRW5hYmxlZCgpKSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVqZWN0aW9uVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7IH0sIDApO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgfVxuICAgIGlzQ291bnRpbmdFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMubGF0ZXN0Q29uZmlnICE9PSBudWxsICYmXG4gICAgICAgICAgICAodGhpcy5sYXRlc3RDb25maWcuZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcuZ2V0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZygpICE9PSBudWxsKSk7XG4gICAgfVxuICAgIGdldEN1cnJlbnRFamVjdGlvblBlcmNlbnQoKSB7XG4gICAgICAgIGxldCBlamVjdGlvbkNvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiB0aGlzLmVudHJ5TWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAobWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWplY3Rpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZWplY3Rpb25Db3VudCAqIDEwMCkgLyB0aGlzLmVudHJ5TWFwLnNpemU7XG4gICAgfVxuICAgIHJ1blN1Y2Nlc3NSYXRlQ2hlY2soZWplY3Rpb25UaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlQ29uZmlnID0gdGhpcy5sYXRlc3RDb25maWcuZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpO1xuICAgICAgICBpZiAoIXN1Y2Nlc3NSYXRlQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1J1bm5pbmcgc3VjY2VzcyByYXRlIGNoZWNrJyk7XG4gICAgICAgIC8vIFN0ZXAgMVxuICAgICAgICBjb25zdCB0YXJnZXRSZXF1ZXN0Vm9sdW1lID0gc3VjY2Vzc1JhdGVDb25maWcucmVxdWVzdF92b2x1bWU7XG4gICAgICAgIGxldCBhZGRyZXNlc1dpdGhUYXJnZXRWb2x1bWUgPSAwO1xuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbZW5kcG9pbnQsIG1hcEVudHJ5XSBvZiB0aGlzLmVudHJ5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICB0cmFjZSgnU3RhdHMgZm9yICcgK1xuICAgICAgICAgICAgICAgICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKShlbmRwb2ludCkgK1xuICAgICAgICAgICAgICAgICc6IHN1Y2Nlc3Nlcz0nICtcbiAgICAgICAgICAgICAgICBzdWNjZXNzZXMgK1xuICAgICAgICAgICAgICAgICcgZmFpbHVyZXM9JyArXG4gICAgICAgICAgICAgICAgZmFpbHVyZXMgK1xuICAgICAgICAgICAgICAgICcgdGFyZ2V0UmVxdWVzdFZvbHVtZT0nICtcbiAgICAgICAgICAgICAgICB0YXJnZXRSZXF1ZXN0Vm9sdW1lKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA+PSB0YXJnZXRSZXF1ZXN0Vm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lICs9IDE7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc1JhdGVzLnB1c2goc3VjY2Vzc2VzIC8gKHN1Y2Nlc3NlcyArIGZhaWx1cmVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ0ZvdW5kICcgK1xuICAgICAgICAgICAgYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lICtcbiAgICAgICAgICAgICcgc3VjY2VzcyByYXRlIGNhbmRpZGF0ZXM7IGN1cnJlbnRFamVjdGlvblBlcmNlbnQ9JyArXG4gICAgICAgICAgICB0aGlzLmdldEN1cnJlbnRFamVjdGlvblBlcmNlbnQoKSArXG4gICAgICAgICAgICAnIHN1Y2Nlc3NSYXRlcz1bJyArXG4gICAgICAgICAgICBzdWNjZXNzUmF0ZXMgK1xuICAgICAgICAgICAgJ10nKTtcbiAgICAgICAgaWYgKGFkZHJlc2VzV2l0aFRhcmdldFZvbHVtZSA8IHN1Y2Nlc3NSYXRlQ29uZmlnLm1pbmltdW1faG9zdHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGVwIDJcbiAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGVNZWFuID0gc3VjY2Vzc1JhdGVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpIC8gc3VjY2Vzc1JhdGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IHN1Y2Nlc3NSYXRlRGV2aWF0aW9uU3VtID0gMDtcbiAgICAgICAgZm9yIChjb25zdCByYXRlIG9mIHN1Y2Nlc3NSYXRlcykge1xuICAgICAgICAgICAgY29uc3QgZGV2aWF0aW9uID0gcmF0ZSAtIHN1Y2Nlc3NSYXRlTWVhbjtcbiAgICAgICAgICAgIHN1Y2Nlc3NSYXRlRGV2aWF0aW9uU3VtICs9IGRldmlhdGlvbiAqIGRldmlhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZVZhcmlhbmNlID0gc3VjY2Vzc1JhdGVEZXZpYXRpb25TdW0gLyBzdWNjZXNzUmF0ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZVN0ZGV2ID0gTWF0aC5zcXJ0KHN1Y2Nlc3NSYXRlVmFyaWFuY2UpO1xuICAgICAgICBjb25zdCBlamVjdGlvblRocmVzaG9sZCA9IHN1Y2Nlc3NSYXRlTWVhbiAtXG4gICAgICAgICAgICBzdWNjZXNzUmF0ZVN0ZGV2ICogKHN1Y2Nlc3NSYXRlQ29uZmlnLnN0ZGV2X2ZhY3RvciAvIDEwMDApO1xuICAgICAgICB0cmFjZSgnc3RkZXY9JyArIHN1Y2Nlc3NSYXRlU3RkZXYgKyAnIGVqZWN0aW9uVGhyZXNob2xkPScgKyBlamVjdGlvblRocmVzaG9sZCk7XG4gICAgICAgIC8vIFN0ZXAgM1xuICAgICAgICBmb3IgKGNvbnN0IFthZGRyZXNzLCBtYXBFbnRyeV0gb2YgdGhpcy5lbnRyeU1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIC8vIFN0ZXAgMy5pXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRDdXJyZW50RWplY3Rpb25QZXJjZW50KCkgPj1cbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENvbmZpZy5nZXRNYXhFamVjdGlvblBlcmNlbnQoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAzLmlpXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RTdWNjZXNzZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGZhaWx1cmVzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0RmFpbHVyZXMoKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA8IHRhcmdldFJlcXVlc3RWb2x1bWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgMy5paWlcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gc3VjY2Vzc2VzIC8gKHN1Y2Nlc3NlcyArIGZhaWx1cmVzKTtcbiAgICAgICAgICAgIHRyYWNlKCdDaGVja2luZyBjYW5kaWRhdGUgJyArIGFkZHJlc3MgKyAnIHN1Y2Nlc3NSYXRlPScgKyBzdWNjZXNzUmF0ZSk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc1JhdGUgPCBlamVjdGlvblRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ0NhbmRpZGF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyArXG4gICAgICAgICAgICAgICAgICAgICcgcmFuZG9tTnVtYmVyPScgK1xuICAgICAgICAgICAgICAgICAgICByYW5kb21OdW1iZXIgK1xuICAgICAgICAgICAgICAgICAgICAnIGVuZm9yY2VtZW50X3BlcmNlbnRhZ2U9JyArXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NSYXRlQ29uZmlnLmVuZm9yY2VtZW50X3BlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChyYW5kb21OdW1iZXIgPCBzdWNjZXNzUmF0ZUNvbmZpZy5lbmZvcmNlbWVudF9wZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdFamVjdGluZyBjYW5kaWRhdGUgJyArIGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVqZWN0KG1hcEVudHJ5LCBlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bkZhaWx1cmVQZXJjZW50YWdlQ2hlY2soZWplY3Rpb25UaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnID0gdGhpcy5sYXRlc3RDb25maWcuZ2V0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZygpO1xuICAgICAgICBpZiAoIWZhaWx1cmVQZXJjZW50YWdlQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1J1bm5pbmcgZmFpbHVyZSBwZXJjZW50YWdlIGNoZWNrLiB0aHJlc2hvbGQ9JyArXG4gICAgICAgICAgICBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy50aHJlc2hvbGQgK1xuICAgICAgICAgICAgJyByZXF1ZXN0IHZvbHVtZSB0aHJlc2hvbGQ9JyArXG4gICAgICAgICAgICBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5yZXF1ZXN0X3ZvbHVtZSk7XG4gICAgICAgIC8vIFN0ZXAgMVxuICAgICAgICBsZXQgYWRkcmVzc2VzV2l0aFRhcmdldFZvbHVtZSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyeU1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPj0gZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcucmVxdWVzdF92b2x1bWUpIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzZXNXaXRoVGFyZ2V0Vm9sdW1lICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkZHJlc3Nlc1dpdGhUYXJnZXRWb2x1bWUgPCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5taW5pbXVtX2hvc3RzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RlcCAyXG4gICAgICAgIGZvciAoY29uc3QgW2FkZHJlc3MsIG1hcEVudHJ5XSBvZiB0aGlzLmVudHJ5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgLy8gU3RlcCAyLmlcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEN1cnJlbnRFamVjdGlvblBlcmNlbnQoKSA+PVxuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnLmdldE1heEVqZWN0aW9uUGVyY2VudCgpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDIuaWlcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdFN1Y2Nlc3NlcygpO1xuICAgICAgICAgICAgY29uc3QgZmFpbHVyZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RGYWlsdXJlcygpO1xuICAgICAgICAgICAgdHJhY2UoJ0NhbmRpZGF0ZSBzdWNjZXNzZXM9JyArIHN1Y2Nlc3NlcyArICcgZmFpbHVyZXM9JyArIGZhaWx1cmVzKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA8IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLnJlcXVlc3Rfdm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDIuaWlpXG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlUGVyY2VudGFnZSA9IChmYWlsdXJlcyAqIDEwMCkgLyAoZmFpbHVyZXMgKyBzdWNjZXNzZXMpO1xuICAgICAgICAgICAgaWYgKGZhaWx1cmVQZXJjZW50YWdlID4gZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcudGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIDEwMDtcbiAgICAgICAgICAgICAgICB0cmFjZSgnQ2FuZGlkYXRlICcgK1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzICtcbiAgICAgICAgICAgICAgICAgICAgJyByYW5kb21OdW1iZXI9JyArXG4gICAgICAgICAgICAgICAgICAgIHJhbmRvbU51bWJlciArXG4gICAgICAgICAgICAgICAgICAgICcgZW5mb3JjZW1lbnRfcGVyY2VudGFnZT0nICtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcuZW5mb3JjZW1lbnRfcGVyY2VudGFnZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmRvbU51bWJlciA8IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLmVuZm9yY2VtZW50X3BlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UoJ0VqZWN0aW5nIGNhbmRpZGF0ZSAnICsgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWplY3QobWFwRW50cnksIGVqZWN0aW9uVGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWplY3QobWFwRW50cnksIGVqZWN0aW9uVGltZXN0YW1wKSB7XG4gICAgICAgIG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgKz0gMTtcbiAgICAgICAgZm9yIChjb25zdCBzdWJjaGFubmVsV3JhcHBlciBvZiBtYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMpIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWxXcmFwcGVyLmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5lamVjdChtYXBFbnRyeSkge1xuICAgICAgICBtYXBFbnRyeS5jdXJyZW50RWplY3Rpb25UaW1lc3RhbXAgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWxXcmFwcGVyIG9mIG1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycykge1xuICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXIudW5lamVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN3aXRjaEFsbEJ1Y2tldHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyeU1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgbWFwRW50cnkuY291bnRlci5zd2l0Y2hCdWNrZXRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRUaW1lcihkZWxheU1zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuZWplY3Rpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5ydW5DaGVja3MoKSwgZGVsYXlNcyk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZWplY3Rpb25UaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgcnVuQ2hlY2tzKCkge1xuICAgICAgICBjb25zdCBlamVjdGlvblRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRyYWNlKCdFamVjdGlvbiB0aW1lciBydW5uaW5nJyk7XG4gICAgICAgIHRoaXMuc3dpdGNoQWxsQnVja2V0cygpO1xuICAgICAgICBpZiAoIXRoaXMubGF0ZXN0Q29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lclN0YXJ0VGltZSA9IGVqZWN0aW9uVGltZXN0YW1wO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZXIodGhpcy5sYXRlc3RDb25maWcuZ2V0SW50ZXJ2YWxNcygpKTtcbiAgICAgICAgdGhpcy5ydW5TdWNjZXNzUmF0ZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKTtcbiAgICAgICAgdGhpcy5ydW5GYWlsdXJlUGVyY2VudGFnZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKTtcbiAgICAgICAgZm9yIChjb25zdCBbYWRkcmVzcywgbWFwRW50cnldIG9mIHRoaXMuZW50cnlNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAobWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlRWplY3Rpb25UaW1lTXMgPSB0aGlzLmxhdGVzdENvbmZpZy5nZXRCYXNlRWplY3Rpb25UaW1lTXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhFamVjdGlvblRpbWVNcyA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldE1heEVqZWN0aW9uVGltZU1zKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0dXJuVGltZSA9IG5ldyBEYXRlKG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcC5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIHJldHVyblRpbWUuc2V0TWlsbGlzZWNvbmRzKHJldHVyblRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihiYXNlRWplY3Rpb25UaW1lTXMgKiBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyLCBNYXRoLm1heChiYXNlRWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uVGltZU1zKSkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5UaW1lIDwgbmV3IERhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnVW5lamVjdGluZyAnICsgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5lamVjdChtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KGVuZHBvaW50TGlzdCwgbGJDb25maWcsIG9wdGlvbnMsIHJlc29sdXRpb25Ob3RlKSB7XG4gICAgICAgIGlmICghKGxiQ29uZmlnIGluc3RhbmNlb2YgT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1JlY2VpdmVkIHVwZGF0ZSB3aXRoIGNvbmZpZzogJyArIEpTT04uc3RyaW5naWZ5KGxiQ29uZmlnLnRvSnNvbk9iamVjdCgpLCB1bmRlZmluZWQsIDIpKTtcbiAgICAgICAgaWYgKGVuZHBvaW50TGlzdC5vaykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludExpc3QudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZW50cnlNYXAuaGFzKGVuZHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnQWRkaW5nIG1hcCBlbnRyeSBmb3IgJyArICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKShlbmRwb2ludCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudHJ5TWFwLnNldChlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcjogbmV3IENhbGxDb3VudGVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWplY3Rpb25UaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBlamVjdGlvblRpbWVNdWx0aXBsaWVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRyeU1hcC5kZWxldGVNaXNzaW5nKGVuZHBvaW50TGlzdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hpbGRQb2xpY3kgPSBsYkNvbmZpZy5nZXRDaGlsZFBvbGljeSgpO1xuICAgICAgICB0aGlzLmNoaWxkQmFsYW5jZXIudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBjaGlsZFBvbGljeSwgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpO1xuICAgICAgICBpZiAobGJDb25maWcuZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpIHx8XG4gICAgICAgICAgICBsYkNvbmZpZy5nZXRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1ByZXZpb3VzIHRpbWVyIGV4aXN0ZWQuIFJlcGxhY2luZyB0aW1lcicpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVqZWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0RlbGF5ID0gbGJDb25maWcuZ2V0SW50ZXJ2YWxNcygpIC1cbiAgICAgICAgICAgICAgICAgICAgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy50aW1lclN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcihyZW1haW5pbmdEZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFjZSgnU3RhcnRpbmcgbmV3IHRpbWVyJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lclN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKGxiQ29uZmlnLmdldEludGVydmFsTXMoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hBbGxCdWNrZXRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFjZSgnQ291bnRpbmcgZGlzYWJsZWQuIENhbmNlbGxpbmcgdGltZXIuJyk7XG4gICAgICAgICAgICB0aGlzLnRpbWVyU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVqZWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiB0aGlzLmVudHJ5TWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmVqZWN0KG1hcEVudHJ5KTtcbiAgICAgICAgICAgICAgICBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhdGVzdENvbmZpZyA9IGxiQ29uZmlnO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5yZXNldEJhY2tvZmYoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAoT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCkge1xuICAgICAgICAoMCwgZXhwZXJpbWVudGFsXzEucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlKShUWVBFX05BTUUsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LeafLoadBalancer = exports.PickFirstLoadBalancer = exports.PickFirstLoadBalancingConfig = void 0;\nexports.shuffled = shuffled;\nexports.setup = setup;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_2 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nconst TRACER_NAME = 'pick_first';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'pick_first';\n/**\n * Delay after starting a connection on a subchannel before starting a\n * connection on the next subchannel in the list, for Happy Eyeballs algorithm.\n */\nconst CONNECTION_DELAY_INTERVAL_MS = 250;\nclass PickFirstLoadBalancingConfig {\n    constructor(shuffleAddressList) {\n        this.shuffleAddressList = shuffleAddressList;\n    }\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    toJsonObject() {\n        return {\n            [TYPE_NAME]: {\n                shuffleAddressList: this.shuffleAddressList,\n            },\n        };\n    }\n    getShuffleAddressList() {\n        return this.shuffleAddressList;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static createFromJson(obj) {\n        if ('shuffleAddressList' in obj &&\n            !(typeof obj.shuffleAddressList === 'boolean')) {\n            throw new Error('pick_first config field shuffleAddressList must be a boolean if provided');\n        }\n        return new PickFirstLoadBalancingConfig(obj.shuffleAddressList === true);\n    }\n}\nexports.PickFirstLoadBalancingConfig = PickFirstLoadBalancingConfig;\n/**\n * Picker for a `PickFirstLoadBalancer` in the READY state. Always returns the\n * picked subchannel.\n */\nclass PickFirstPicker {\n    constructor(subchannel) {\n        this.subchannel = subchannel;\n    }\n    pick(pickArgs) {\n        return {\n            pickResultType: picker_1.PickResultType.COMPLETE,\n            subchannel: this.subchannel,\n            status: null,\n            onCallStarted: null,\n            onCallEnded: null,\n        };\n    }\n}\n/**\n * Return a new array with the elements of the input array in a random order\n * @param list The input array\n * @returns A shuffled array of the elements of list\n */\nfunction shuffled(list) {\n    const result = list.slice();\n    for (let i = result.length - 1; i > 1; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        const temp = result[i];\n        result[i] = result[j];\n        result[j] = temp;\n    }\n    return result;\n}\n/**\n * Interleave addresses in addressList by family in accordance with RFC-8304 section 4\n * @param addressList\n * @returns\n */\nfunction interleaveAddressFamilies(addressList) {\n    if (addressList.length === 0) {\n        return [];\n    }\n    const result = [];\n    const ipv6Addresses = [];\n    const ipv4Addresses = [];\n    const ipv6First = (0, subchannel_address_2.isTcpSubchannelAddress)(addressList[0]) && (0, net_1.isIPv6)(addressList[0].host);\n    for (const address of addressList) {\n        if ((0, subchannel_address_2.isTcpSubchannelAddress)(address) && (0, net_1.isIPv6)(address.host)) {\n            ipv6Addresses.push(address);\n        }\n        else {\n            ipv4Addresses.push(address);\n        }\n    }\n    const firstList = ipv6First ? ipv6Addresses : ipv4Addresses;\n    const secondList = ipv6First ? ipv4Addresses : ipv6Addresses;\n    for (let i = 0; i < Math.max(firstList.length, secondList.length); i++) {\n        if (i < firstList.length) {\n            result.push(firstList[i]);\n        }\n        if (i < secondList.length) {\n            result.push(secondList[i]);\n        }\n    }\n    return result;\n}\nconst REPORT_HEALTH_STATUS_OPTION_NAME = 'grpc-node.internal.pick-first.report_health_status';\nclass PickFirstLoadBalancer {\n    /**\n     * Load balancer that attempts to connect to each backend in the address list\n     * in order, and picks the first one that connects, using it for every\n     * request.\n     * @param channelControlHelper `ChannelControlHelper` instance provided by\n     *     this load balancer's owner.\n     */\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        /**\n         * The list of subchannels this load balancer is currently attempting to\n         * connect to.\n         */\n        this.children = [];\n        /**\n         * The current connectivity state of the load balancer.\n         */\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The index within the `subchannels` array of the subchannel with the most\n         * recently started connection attempt.\n         */\n        this.currentSubchannelIndex = 0;\n        /**\n         * The currently picked subchannel used for making calls. Populated if\n         * and only if the load balancer's current state is READY. In that case,\n         * the subchannel's current state is also READY.\n         */\n        this.currentPick = null;\n        /**\n         * Listener callback attached to each subchannel in the `subchannels` list\n         * while establishing a connection.\n         */\n        this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime, errorMessage) => {\n            this.onSubchannelStateUpdate(subchannel, previousState, newState, errorMessage);\n        };\n        this.pickedSubchannelHealthListener = () => this.calculateAndReportNewState();\n        /**\n         * The LB policy enters sticky TRANSIENT_FAILURE mode when all\n         * subchannels have failed to connect at least once, and it stays in that\n         * mode until a connection attempt is successful. While in sticky TF mode,\n         * the LB policy continuously attempts to connect to all of its subchannels.\n         */\n        this.stickyTransientFailureMode = false;\n        this.reportHealthStatus = false;\n        /**\n         * The most recent error reported by any subchannel as it transitioned to\n         * TRANSIENT_FAILURE.\n         */\n        this.lastError = null;\n        this.latestAddressList = null;\n        this.latestOptions = {};\n        this.latestResolutionNote = '';\n        this.connectionDelayTimeout = setTimeout(() => { }, 0);\n        clearTimeout(this.connectionDelayTimeout);\n    }\n    allChildrenHaveReportedTF() {\n        return this.children.every(child => child.hasReportedTransientFailure);\n    }\n    resetChildrenReportedTF() {\n        this.children.every(child => child.hasReportedTransientFailure = false);\n    }\n    calculateAndReportNewState() {\n        var _a;\n        if (this.currentPick) {\n            if (this.reportHealthStatus && !this.currentPick.isHealthy()) {\n                const errorMessage = `Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;\n                this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                    details: errorMessage,\n                }), errorMessage);\n            }\n            else {\n                this.updateState(connectivity_state_1.ConnectivityState.READY, new PickFirstPicker(this.currentPick), null);\n            }\n        }\n        else if (((_a = this.latestAddressList) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            const errorMessage = `No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                details: errorMessage,\n            }), errorMessage);\n        }\n        else if (this.children.length === 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        }\n        else {\n            if (this.stickyTransientFailureMode) {\n                const errorMessage = `No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;\n                this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                    details: errorMessage,\n                }), errorMessage);\n            }\n            else {\n                this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this), null);\n            }\n        }\n    }\n    requestReresolution() {\n        this.channelControlHelper.requestReresolution();\n    }\n    maybeEnterStickyTransientFailureMode() {\n        if (!this.allChildrenHaveReportedTF()) {\n            return;\n        }\n        this.requestReresolution();\n        this.resetChildrenReportedTF();\n        if (this.stickyTransientFailureMode) {\n            this.calculateAndReportNewState();\n            return;\n        }\n        this.stickyTransientFailureMode = true;\n        for (const { subchannel } of this.children) {\n            subchannel.startConnecting();\n        }\n        this.calculateAndReportNewState();\n    }\n    removeCurrentPick() {\n        if (this.currentPick !== null) {\n            this.currentPick.removeConnectivityStateListener(this.subchannelStateListener);\n            this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef());\n            this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener);\n            // Unref last, to avoid triggering listeners\n            this.currentPick.unref();\n            this.currentPick = null;\n        }\n    }\n    onSubchannelStateUpdate(subchannel, previousState, newState, errorMessage) {\n        var _a;\n        if ((_a = this.currentPick) === null || _a === void 0 ? void 0 : _a.realSubchannelEquals(subchannel)) {\n            if (newState !== connectivity_state_1.ConnectivityState.READY) {\n                this.removeCurrentPick();\n                this.calculateAndReportNewState();\n            }\n            return;\n        }\n        for (const [index, child] of this.children.entries()) {\n            if (subchannel.realSubchannelEquals(child.subchannel)) {\n                if (newState === connectivity_state_1.ConnectivityState.READY) {\n                    this.pickSubchannel(child.subchannel);\n                }\n                if (newState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                    child.hasReportedTransientFailure = true;\n                    if (errorMessage) {\n                        this.lastError = errorMessage;\n                    }\n                    this.maybeEnterStickyTransientFailureMode();\n                    if (index === this.currentSubchannelIndex) {\n                        this.startNextSubchannelConnecting(index + 1);\n                    }\n                }\n                child.subchannel.startConnecting();\n                return;\n            }\n        }\n    }\n    startNextSubchannelConnecting(startIndex) {\n        clearTimeout(this.connectionDelayTimeout);\n        for (const [index, child] of this.children.entries()) {\n            if (index >= startIndex) {\n                const subchannelState = child.subchannel.getConnectivityState();\n                if (subchannelState === connectivity_state_1.ConnectivityState.IDLE ||\n                    subchannelState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                    this.startConnecting(index);\n                    return;\n                }\n            }\n        }\n        this.maybeEnterStickyTransientFailureMode();\n    }\n    /**\n     * Have a single subchannel in the `subchannels` list start connecting.\n     * @param subchannelIndex The index into the `subchannels` list.\n     */\n    startConnecting(subchannelIndex) {\n        var _a, _b;\n        clearTimeout(this.connectionDelayTimeout);\n        this.currentSubchannelIndex = subchannelIndex;\n        if (this.children[subchannelIndex].subchannel.getConnectivityState() ===\n            connectivity_state_1.ConnectivityState.IDLE) {\n            trace('Start connecting to subchannel with address ' +\n                this.children[subchannelIndex].subchannel.getAddress());\n            process.nextTick(() => {\n                var _a;\n                (_a = this.children[subchannelIndex]) === null || _a === void 0 ? void 0 : _a.subchannel.startConnecting();\n            });\n        }\n        this.connectionDelayTimeout = setTimeout(() => {\n            this.startNextSubchannelConnecting(subchannelIndex + 1);\n        }, CONNECTION_DELAY_INTERVAL_MS);\n        (_b = (_a = this.connectionDelayTimeout).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Declare that the specified subchannel should be used to make requests.\n     * This functions the same independent of whether subchannel is a member of\n     * this.children and whether it is equal to this.currentPick.\n     * Prerequisite: subchannel.getConnectivityState() === READY.\n     * @param subchannel\n     */\n    pickSubchannel(subchannel) {\n        trace('Pick subchannel with address ' + subchannel.getAddress());\n        this.stickyTransientFailureMode = false;\n        /* Ref before removeCurrentPick and resetSubchannelList to avoid the\n         * refcount dropping to 0 during this process. */\n        subchannel.ref();\n        this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n        this.removeCurrentPick();\n        this.resetSubchannelList();\n        subchannel.addConnectivityStateListener(this.subchannelStateListener);\n        subchannel.addHealthStateWatcher(this.pickedSubchannelHealthListener);\n        this.currentPick = subchannel;\n        clearTimeout(this.connectionDelayTimeout);\n        this.calculateAndReportNewState();\n    }\n    updateState(newState, picker, errorMessage) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker, errorMessage);\n    }\n    resetSubchannelList() {\n        for (const child of this.children) {\n            /* Always remoev the connectivity state listener. If the subchannel is\n               getting picked, it will be re-added then. */\n            child.subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n            /* Refs are counted independently for the children list and the\n             * currentPick, so we call unref whether or not the child is the\n             * currentPick. Channelz child references are also refcounted, so\n             * removeChannelzChild can be handled the same way. */\n            child.subchannel.unref();\n            this.channelControlHelper.removeChannelzChild(child.subchannel.getChannelzRef());\n        }\n        this.currentSubchannelIndex = 0;\n        this.children = [];\n    }\n    connectToAddressList(addressList, options) {\n        trace('connectToAddressList([' + addressList.map(address => (0, subchannel_address_1.subchannelAddressToString)(address)) + '])');\n        const newChildrenList = addressList.map(address => ({\n            subchannel: this.channelControlHelper.createSubchannel(address, options),\n            hasReportedTransientFailure: false,\n        }));\n        for (const { subchannel } of newChildrenList) {\n            if (subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.READY) {\n                this.pickSubchannel(subchannel);\n                return;\n            }\n        }\n        /* Ref each subchannel before resetting the list, to ensure that\n         * subchannels shared between the list don't drop to 0 refs during the\n         * transition. */\n        for (const { subchannel } of newChildrenList) {\n            subchannel.ref();\n            this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n        }\n        this.resetSubchannelList();\n        this.children = newChildrenList;\n        for (const { subchannel } of this.children) {\n            subchannel.addConnectivityStateListener(this.subchannelStateListener);\n        }\n        for (const child of this.children) {\n            if (child.subchannel.getConnectivityState() ===\n                connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                child.hasReportedTransientFailure = true;\n            }\n        }\n        this.startNextSubchannelConnecting(0);\n        this.calculateAndReportNewState();\n    }\n    updateAddressList(maybeEndpointList, lbConfig, options, resolutionNote) {\n        if (!(lbConfig instanceof PickFirstLoadBalancingConfig)) {\n            return false;\n        }\n        if (!maybeEndpointList.ok) {\n            if (this.children.length === 0 && this.currentPick === null) {\n                this.channelControlHelper.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(maybeEndpointList.error), maybeEndpointList.error.details);\n            }\n            return true;\n        }\n        let endpointList = maybeEndpointList.value;\n        this.reportHealthStatus = options[REPORT_HEALTH_STATUS_OPTION_NAME];\n        /* Previously, an update would be discarded if it was identical to the\n         * previous update, to minimize churn. Now the DNS resolver is\n         * rate-limited, so that is less of a concern. */\n        if (lbConfig.getShuffleAddressList()) {\n            endpointList = shuffled(endpointList);\n        }\n        const rawAddressList = [].concat(...endpointList.map(endpoint => endpoint.addresses));\n        trace('updateAddressList([' + rawAddressList.map(address => (0, subchannel_address_1.subchannelAddressToString)(address)) + '])');\n        const addressList = interleaveAddressFamilies(rawAddressList);\n        this.latestAddressList = addressList;\n        this.latestOptions = options;\n        this.connectToAddressList(addressList, options);\n        this.latestResolutionNote = resolutionNote;\n        if (rawAddressList.length > 0) {\n            return true;\n        }\n        else {\n            this.lastError = 'No addresses resolved';\n            return false;\n        }\n    }\n    exitIdle() {\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE &&\n            this.latestAddressList) {\n            this.connectToAddressList(this.latestAddressList, this.latestOptions);\n        }\n    }\n    resetBackoff() {\n        /* The pick first load balancer does not have a connection backoff, so this\n         * does nothing */\n    }\n    destroy() {\n        this.resetSubchannelList();\n        this.removeCurrentPick();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.PickFirstLoadBalancer = PickFirstLoadBalancer;\nconst LEAF_CONFIG = new PickFirstLoadBalancingConfig(false);\n/**\n * This class handles the leaf load balancing operations for a single endpoint.\n * It is a thin wrapper around a PickFirstLoadBalancer with a different API\n * that more closely reflects how it will be used as a leaf balancer.\n */\nclass LeafLoadBalancer {\n    constructor(endpoint, channelControlHelper, options, resolutionNote) {\n        this.endpoint = endpoint;\n        this.options = options;\n        this.resolutionNote = resolutionNote;\n        this.latestState = connectivity_state_1.ConnectivityState.IDLE;\n        const childChannelControlHelper = (0, load_balancer_1.createChildChannelControlHelper)(channelControlHelper, {\n            updateState: (connectivityState, picker, errorMessage) => {\n                this.latestState = connectivityState;\n                this.latestPicker = picker;\n                channelControlHelper.updateState(connectivityState, picker, errorMessage);\n            },\n        });\n        this.pickFirstBalancer = new PickFirstLoadBalancer(childChannelControlHelper);\n        this.latestPicker = new picker_1.QueuePicker(this.pickFirstBalancer);\n    }\n    startConnecting() {\n        this.pickFirstBalancer.updateAddressList((0, call_interface_1.statusOrFromValue)([this.endpoint]), LEAF_CONFIG, Object.assign(Object.assign({}, this.options), { [REPORT_HEALTH_STATUS_OPTION_NAME]: true }), this.resolutionNote);\n    }\n    /**\n     * Update the endpoint associated with this LeafLoadBalancer to a new\n     * endpoint. Does not trigger connection establishment if a connection\n     * attempt is not already in progress.\n     * @param newEndpoint\n     */\n    updateEndpoint(newEndpoint, newOptions) {\n        this.options = newOptions;\n        this.endpoint = newEndpoint;\n        if (this.latestState !== connectivity_state_1.ConnectivityState.IDLE) {\n            this.startConnecting();\n        }\n    }\n    getConnectivityState() {\n        return this.latestState;\n    }\n    getPicker() {\n        return this.latestPicker;\n    }\n    getEndpoint() {\n        return this.endpoint;\n    }\n    exitIdle() {\n        this.pickFirstBalancer.exitIdle();\n    }\n    destroy() {\n        this.pickFirstBalancer.destroy();\n    }\n}\nexports.LeafLoadBalancer = LeafLoadBalancer;\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, PickFirstLoadBalancer, PickFirstLoadBalancingConfig);\n    (0, load_balancer_1.registerDefaultLoadBalancerType)(TYPE_NAME);\n}\n//# sourceMappingURL=load-balancer-pick-first.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1waWNrLWZpcnN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcsb0NBQW9DO0FBQy9GLGdCQUFnQjtBQUNoQixhQUFhO0FBQ2Isd0JBQXdCLG1CQUFPLENBQUMsOEdBQWlCO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRCxpQkFBaUIsbUJBQU8sQ0FBQyxnR0FBVTtBQUNuQyw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQix5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbURBQW1EO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCwrQkFBK0I7QUFDekY7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsZUFBZSxxQkFBcUIsMEJBQTBCO0FBQ3pJO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGVBQWUscUJBQXFCLDBCQUEwQjtBQUM3STtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsYUFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsYUFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixhQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSkFBc0osbUJBQW1CLDBDQUEwQztBQUNuTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3QuanM/NTI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MZWFmTG9hZEJhbGFuY2VyID0gZXhwb3J0cy5QaWNrRmlyc3RMb2FkQmFsYW5jZXIgPSBleHBvcnRzLlBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcgPSB2b2lkIDA7XG5leHBvcnRzLnNodWZmbGVkID0gc2h1ZmZsZWQ7XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18yID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgY2FsbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2NhbGwtaW50ZXJmYWNlXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAncGlja19maXJzdCc7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmNvbnN0IFRZUEVfTkFNRSA9ICdwaWNrX2ZpcnN0Jztcbi8qKlxuICogRGVsYXkgYWZ0ZXIgc3RhcnRpbmcgYSBjb25uZWN0aW9uIG9uIGEgc3ViY2hhbm5lbCBiZWZvcmUgc3RhcnRpbmcgYVxuICogY29ubmVjdGlvbiBvbiB0aGUgbmV4dCBzdWJjaGFubmVsIGluIHRoZSBsaXN0LCBmb3IgSGFwcHkgRXllYmFsbHMgYWxnb3JpdGhtLlxuICovXG5jb25zdCBDT05ORUNUSU9OX0RFTEFZX0lOVEVSVkFMX01TID0gMjUwO1xuY2xhc3MgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3Ioc2h1ZmZsZUFkZHJlc3NMaXN0KSB7XG4gICAgICAgIHRoaXMuc2h1ZmZsZUFkZHJlc3NMaXN0ID0gc2h1ZmZsZUFkZHJlc3NMaXN0O1xuICAgIH1cbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbVFlQRV9OQU1FXToge1xuICAgICAgICAgICAgICAgIHNodWZmbGVBZGRyZXNzTGlzdDogdGhpcy5zaHVmZmxlQWRkcmVzc0xpc3QsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRTaHVmZmxlQWRkcmVzc0xpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNodWZmbGVBZGRyZXNzTGlzdDtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIGlmICgnc2h1ZmZsZUFkZHJlc3NMaXN0JyBpbiBvYmogJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iai5zaHVmZmxlQWRkcmVzc0xpc3QgPT09ICdib29sZWFuJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGlja19maXJzdCBjb25maWcgZmllbGQgc2h1ZmZsZUFkZHJlc3NMaXN0IG11c3QgYmUgYSBib29sZWFuIGlmIHByb3ZpZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnKG9iai5zaHVmZmxlQWRkcmVzc0xpc3QgPT09IHRydWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyA9IFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWc7XG4vKipcbiAqIFBpY2tlciBmb3IgYSBgUGlja0ZpcnN0TG9hZEJhbGFuY2VyYCBpbiB0aGUgUkVBRFkgc3RhdGUuIEFsd2F5cyByZXR1cm5zIHRoZVxuICogcGlja2VkIHN1YmNoYW5uZWwuXG4gKi9cbmNsYXNzIFBpY2tGaXJzdFBpY2tlciB7XG4gICAgY29uc3RydWN0b3Ioc3ViY2hhbm5lbCkge1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWwgPSBzdWJjaGFubmVsO1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaWNrUmVzdWx0VHlwZTogcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuQ09NUExFVEUsXG4gICAgICAgICAgICBzdWJjaGFubmVsOiB0aGlzLnN1YmNoYW5uZWwsXG4gICAgICAgICAgICBzdGF0dXM6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgb25DYWxsRW5kZWQ6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm4gYSBuZXcgYXJyYXkgd2l0aCB0aGUgZWxlbWVudHMgb2YgdGhlIGlucHV0IGFycmF5IGluIGEgcmFuZG9tIG9yZGVyXG4gKiBAcGFyYW0gbGlzdCBUaGUgaW5wdXQgYXJyYXlcbiAqIEByZXR1cm5zIEEgc2h1ZmZsZWQgYXJyYXkgb2YgdGhlIGVsZW1lbnRzIG9mIGxpc3RcbiAqL1xuZnVuY3Rpb24gc2h1ZmZsZWQobGlzdCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGxpc3Quc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gcmVzdWx0Lmxlbmd0aCAtIDE7IGkgPiAxOyBpLS0pIHtcbiAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICBjb25zdCB0ZW1wID0gcmVzdWx0W2ldO1xuICAgICAgICByZXN1bHRbaV0gPSByZXN1bHRbal07XG4gICAgICAgIHJlc3VsdFtqXSA9IHRlbXA7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEludGVybGVhdmUgYWRkcmVzc2VzIGluIGFkZHJlc3NMaXN0IGJ5IGZhbWlseSBpbiBhY2NvcmRhbmNlIHdpdGggUkZDLTgzMDQgc2VjdGlvbiA0XG4gKiBAcGFyYW0gYWRkcmVzc0xpc3RcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGludGVybGVhdmVBZGRyZXNzRmFtaWxpZXMoYWRkcmVzc0xpc3QpIHtcbiAgICBpZiAoYWRkcmVzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3QgaXB2NkFkZHJlc3NlcyA9IFtdO1xuICAgIGNvbnN0IGlwdjRBZGRyZXNzZXMgPSBbXTtcbiAgICBjb25zdCBpcHY2Rmlyc3QgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzIuaXNUY3BTdWJjaGFubmVsQWRkcmVzcykoYWRkcmVzc0xpc3RbMF0pICYmICgwLCBuZXRfMS5pc0lQdjYpKGFkZHJlc3NMaXN0WzBdLmhvc3QpO1xuICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiBhZGRyZXNzTGlzdCkge1xuICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18yLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3MpICYmICgwLCBuZXRfMS5pc0lQdjYpKGFkZHJlc3MuaG9zdCkpIHtcbiAgICAgICAgICAgIGlwdjZBZGRyZXNzZXMucHVzaChhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlwdjRBZGRyZXNzZXMucHVzaChhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmaXJzdExpc3QgPSBpcHY2Rmlyc3QgPyBpcHY2QWRkcmVzc2VzIDogaXB2NEFkZHJlc3NlcztcbiAgICBjb25zdCBzZWNvbmRMaXN0ID0gaXB2NkZpcnN0ID8gaXB2NEFkZHJlc3NlcyA6IGlwdjZBZGRyZXNzZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1heChmaXJzdExpc3QubGVuZ3RoLCBzZWNvbmRMaXN0Lmxlbmd0aCk7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGZpcnN0TGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZpcnN0TGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBzZWNvbmRMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goc2Vjb25kTGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IFJFUE9SVF9IRUFMVEhfU1RBVFVTX09QVElPTl9OQU1FID0gJ2dycGMtbm9kZS5pbnRlcm5hbC5waWNrLWZpcnN0LnJlcG9ydF9oZWFsdGhfc3RhdHVzJztcbmNsYXNzIFBpY2tGaXJzdExvYWRCYWxhbmNlciB7XG4gICAgLyoqXG4gICAgICogTG9hZCBiYWxhbmNlciB0aGF0IGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gZWFjaCBiYWNrZW5kIGluIHRoZSBhZGRyZXNzIGxpc3RcbiAgICAgKiBpbiBvcmRlciwgYW5kIHBpY2tzIHRoZSBmaXJzdCBvbmUgdGhhdCBjb25uZWN0cywgdXNpbmcgaXQgZm9yIGV2ZXJ5XG4gICAgICogcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbENvbnRyb2xIZWxwZXIgYENoYW5uZWxDb250cm9sSGVscGVyYCBpbnN0YW5jZSBwcm92aWRlZCBieVxuICAgICAqICAgICB0aGlzIGxvYWQgYmFsYW5jZXIncyBvd25lci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGlzdCBvZiBzdWJjaGFubmVscyB0aGlzIGxvYWQgYmFsYW5jZXIgaXMgY3VycmVudGx5IGF0dGVtcHRpbmcgdG9cbiAgICAgICAgICogY29ubmVjdCB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZSBvZiB0aGUgbG9hZCBiYWxhbmNlci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCB3aXRoaW4gdGhlIGBzdWJjaGFubmVsc2AgYXJyYXkgb2YgdGhlIHN1YmNoYW5uZWwgd2l0aCB0aGUgbW9zdFxuICAgICAgICAgKiByZWNlbnRseSBzdGFydGVkIGNvbm5lY3Rpb24gYXR0ZW1wdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN1YmNoYW5uZWxJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IHBpY2tlZCBzdWJjaGFubmVsIHVzZWQgZm9yIG1ha2luZyBjYWxscy4gUG9wdWxhdGVkIGlmXG4gICAgICAgICAqIGFuZCBvbmx5IGlmIHRoZSBsb2FkIGJhbGFuY2VyJ3MgY3VycmVudCBzdGF0ZSBpcyBSRUFEWS4gSW4gdGhhdCBjYXNlLFxuICAgICAgICAgKiB0aGUgc3ViY2hhbm5lbCdzIGN1cnJlbnQgc3RhdGUgaXMgYWxzbyBSRUFEWS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdGVuZXIgY2FsbGJhY2sgYXR0YWNoZWQgdG8gZWFjaCBzdWJjaGFubmVsIGluIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3RcbiAgICAgICAgICogd2hpbGUgZXN0YWJsaXNoaW5nIGEgY29ubmVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblN1YmNoYW5uZWxTdGF0ZVVwZGF0ZShzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5waWNrZWRTdWJjaGFubmVsSGVhbHRoTGlzdGVuZXIgPSAoKSA9PiB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgTEIgcG9saWN5IGVudGVycyBzdGlja3kgVFJBTlNJRU5UX0ZBSUxVUkUgbW9kZSB3aGVuIGFsbFxuICAgICAgICAgKiBzdWJjaGFubmVscyBoYXZlIGZhaWxlZCB0byBjb25uZWN0IGF0IGxlYXN0IG9uY2UsIGFuZCBpdCBzdGF5cyBpbiB0aGF0XG4gICAgICAgICAqIG1vZGUgdW50aWwgYSBjb25uZWN0aW9uIGF0dGVtcHQgaXMgc3VjY2Vzc2Z1bC4gV2hpbGUgaW4gc3RpY2t5IFRGIG1vZGUsXG4gICAgICAgICAqIHRoZSBMQiBwb2xpY3kgY29udGludW91c2x5IGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gYWxsIG9mIGl0cyBzdWJjaGFubmVscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3N0IHJlY2VudCBlcnJvciByZXBvcnRlZCBieSBhbnkgc3ViY2hhbm5lbCBhcyBpdCB0cmFuc2l0aW9uZWQgdG9cbiAgICAgICAgICogVFJBTlNJRU5UX0ZBSUxVUkUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdE9wdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5sYXRlc3RSZXNvbHV0aW9uTm90ZSA9ICcnO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgIH1cbiAgICBhbGxDaGlsZHJlbkhhdmVSZXBvcnRlZFRGKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUpO1xuICAgIH1cbiAgICByZXNldENoaWxkcmVuUmVwb3J0ZWRURigpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUgPSBmYWxzZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgJiYgIXRoaXMuY3VycmVudFBpY2suaXNIZWFsdGh5KCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgUGlja2VkIHN1YmNoYW5uZWwgJHt0aGlzLmN1cnJlbnRQaWNrLmdldEFkZHJlc3MoKX0gaXMgdW5oZWFsdGh5YDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgUGlja0ZpcnN0UGlja2VyKHRoaXMuY3VycmVudFBpY2spLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoKF9hID0gdGhpcy5sYXRlc3RBZGRyZXNzTGlzdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBObyBjb25uZWN0aW9uIGVzdGFibGlzaGVkLiBMYXN0IGVycm9yOiAke3RoaXMubGFzdEVycm9yfS4gUmVzb2x1dGlvbiBub3RlOiAke3RoaXMubGF0ZXN0UmVzb2x1dGlvbk5vdGV9YDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSwgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9LiBSZXNvbHV0aW9uIG5vdGU6ICR7dGhpcy5sYXRlc3RSZXNvbHV0aW9uTm90ZX1gO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORywgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXF1ZXN0UmVyZXNvbHV0aW9uKCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlcXVlc3RSZXJlc29sdXRpb24oKTtcbiAgICB9XG4gICAgbWF5YmVFbnRlclN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWxsQ2hpbGRyZW5IYXZlUmVwb3J0ZWRURigpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRDaGlsZHJlblJlcG9ydGVkVEYoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB7IHN1YmNoYW5uZWwgfSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICB9XG4gICAgcmVtb3ZlQ3VycmVudFBpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQodGhpcy5jdXJyZW50UGljay5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBpY2sucmVtb3ZlSGVhbHRoU3RhdGVXYXRjaGVyKHRoaXMucGlja2VkU3ViY2hhbm5lbEhlYWx0aExpc3RlbmVyKTtcbiAgICAgICAgICAgIC8vIFVucmVmIGxhc3QsIHRvIGF2b2lkIHRyaWdnZXJpbmcgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblN1YmNoYW5uZWxTdGF0ZVVwZGF0ZShzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMuY3VycmVudFBpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWFsU3ViY2hhbm5lbEVxdWFscyhzdWJjaGFubmVsKSkge1xuICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ3VycmVudFBpY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNoaWxkXSBvZiB0aGlzLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHN1YmNoYW5uZWwucmVhbFN1YmNoYW5uZWxFcXVhbHMoY2hpbGQuc3ViY2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlja1N1YmNoYW5uZWwoY2hpbGQuc3ViY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuaGFzUmVwb3J0ZWRUcmFuc2llbnRGYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXliZUVudGVyU3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmN1cnJlbnRTdWJjaGFubmVsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3RpbmcoaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZC5zdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZyhzdGFydEluZGV4KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGRdIG9mIHRoaXMuY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxTdGF0ZSA9IGNoaWxkLnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViY2hhbm5lbFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFIHx8XG4gICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q29ubmVjdGluZyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXliZUVudGVyU3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGF2ZSBhIHNpbmdsZSBzdWJjaGFubmVsIGluIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3Qgc3RhcnQgY29ubmVjdGluZy5cbiAgICAgKiBAcGFyYW0gc3ViY2hhbm5lbEluZGV4IFRoZSBpbmRleCBpbnRvIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3QuXG4gICAgICovXG4gICAgc3RhcnRDb25uZWN0aW5nKHN1YmNoYW5uZWxJbmRleCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2hhbm5lbEluZGV4ID0gc3ViY2hhbm5lbEluZGV4O1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltzdWJjaGFubmVsSW5kZXhdLnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT1cbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRyYWNlKCdTdGFydCBjb25uZWN0aW5nIHRvIHN1YmNoYW5uZWwgd2l0aCBhZGRyZXNzICcgK1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bc3ViY2hhbm5lbEluZGV4XS5zdWJjaGFubmVsLmdldEFkZHJlc3MoKSk7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5jaGlsZHJlbltzdWJjaGFubmVsSW5kZXhdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3ViY2hhbm5lbC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZyhzdWJjaGFubmVsSW5kZXggKyAxKTtcbiAgICAgICAgfSwgQ09OTkVDVElPTl9ERUxBWV9JTlRFUlZBTF9NUyk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjbGFyZSB0aGF0IHRoZSBzcGVjaWZpZWQgc3ViY2hhbm5lbCBzaG91bGQgYmUgdXNlZCB0byBtYWtlIHJlcXVlc3RzLlxuICAgICAqIFRoaXMgZnVuY3Rpb25zIHRoZSBzYW1lIGluZGVwZW5kZW50IG9mIHdoZXRoZXIgc3ViY2hhbm5lbCBpcyBhIG1lbWJlciBvZlxuICAgICAqIHRoaXMuY2hpbGRyZW4gYW5kIHdoZXRoZXIgaXQgaXMgZXF1YWwgdG8gdGhpcy5jdXJyZW50UGljay5cbiAgICAgKiBQcmVyZXF1aXNpdGU6IHN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gUkVBRFkuXG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxcbiAgICAgKi9cbiAgICBwaWNrU3ViY2hhbm5lbChzdWJjaGFubmVsKSB7XG4gICAgICAgIHRyYWNlKCdQaWNrIHN1YmNoYW5uZWwgd2l0aCBhZGRyZXNzICcgKyBzdWJjaGFubmVsLmdldEFkZHJlc3MoKSk7XG4gICAgICAgIHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgLyogUmVmIGJlZm9yZSByZW1vdmVDdXJyZW50UGljayBhbmQgcmVzZXRTdWJjaGFubmVsTGlzdCB0byBhdm9pZCB0aGVcbiAgICAgICAgICogcmVmY291bnQgZHJvcHBpbmcgdG8gMCBkdXJpbmcgdGhpcyBwcm9jZXNzLiAqL1xuICAgICAgICBzdWJjaGFubmVsLnJlZigpO1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmFkZENoYW5uZWx6Q2hpbGQoc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgdGhpcy5yZW1vdmVDdXJyZW50UGljaygpO1xuICAgICAgICB0aGlzLnJlc2V0U3ViY2hhbm5lbExpc3QoKTtcbiAgICAgICAgc3ViY2hhbm5lbC5hZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICBzdWJjaGFubmVsLmFkZEhlYWx0aFN0YXRlV2F0Y2hlcih0aGlzLnBpY2tlZFN1YmNoYW5uZWxIZWFsdGhMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBzdWJjaGFubmVsO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRSZXBvcnROZXdTdGF0ZSgpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdHJhY2UoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jdXJyZW50U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIHJlc2V0U3ViY2hhbm5lbExpc3QoKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgLyogQWx3YXlzIHJlbW9ldiB0aGUgY29ubmVjdGl2aXR5IHN0YXRlIGxpc3RlbmVyLiBJZiB0aGUgc3ViY2hhbm5lbCBpc1xuICAgICAgICAgICAgICAgZ2V0dGluZyBwaWNrZWQsIGl0IHdpbGwgYmUgcmUtYWRkZWQgdGhlbi4gKi9cbiAgICAgICAgICAgIGNoaWxkLnN1YmNoYW5uZWwucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIC8qIFJlZnMgYXJlIGNvdW50ZWQgaW5kZXBlbmRlbnRseSBmb3IgdGhlIGNoaWxkcmVuIGxpc3QgYW5kIHRoZVxuICAgICAgICAgICAgICogY3VycmVudFBpY2ssIHNvIHdlIGNhbGwgdW5yZWYgd2hldGhlciBvciBub3QgdGhlIGNoaWxkIGlzIHRoZVxuICAgICAgICAgICAgICogY3VycmVudFBpY2suIENoYW5uZWx6IGNoaWxkIHJlZmVyZW5jZXMgYXJlIGFsc28gcmVmY291bnRlZCwgc29cbiAgICAgICAgICAgICAqIHJlbW92ZUNoYW5uZWx6Q2hpbGQgY2FuIGJlIGhhbmRsZWQgdGhlIHNhbWUgd2F5LiAqL1xuICAgICAgICAgICAgY2hpbGQuc3ViY2hhbm5lbC51bnJlZigpO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZW1vdmVDaGFubmVsekNoaWxkKGNoaWxkLnN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2hhbm5lbEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIH1cbiAgICBjb25uZWN0VG9BZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgb3B0aW9ucykge1xuICAgICAgICB0cmFjZSgnY29ubmVjdFRvQWRkcmVzc0xpc3QoWycgKyBhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcykpICsgJ10pJyk7XG4gICAgICAgIGNvbnN0IG5ld0NoaWxkcmVuTGlzdCA9IGFkZHJlc3NMaXN0Lm1hcChhZGRyZXNzID0+ICh7XG4gICAgICAgICAgICBzdWJjaGFubmVsOiB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoYWRkcmVzcywgb3B0aW9ucyksXG4gICAgICAgICAgICBoYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmU6IGZhbHNlLFxuICAgICAgICB9KSk7XG4gICAgICAgIGZvciAoY29uc3QgeyBzdWJjaGFubmVsIH0gb2YgbmV3Q2hpbGRyZW5MaXN0KSB7XG4gICAgICAgICAgICBpZiAoc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGlja1N1YmNoYW5uZWwoc3ViY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIFJlZiBlYWNoIHN1YmNoYW5uZWwgYmVmb3JlIHJlc2V0dGluZyB0aGUgbGlzdCwgdG8gZW5zdXJlIHRoYXRcbiAgICAgICAgICogc3ViY2hhbm5lbHMgc2hhcmVkIGJldHdlZW4gdGhlIGxpc3QgZG9uJ3QgZHJvcCB0byAwIHJlZnMgZHVyaW5nIHRoZVxuICAgICAgICAgKiB0cmFuc2l0aW9uLiAqL1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIG5ld0NoaWxkcmVuTGlzdCkge1xuICAgICAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuYWRkQ2hhbm5lbHpDaGlsZChzdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW5MaXN0O1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWwuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09XG4gICAgICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3RpbmcoMCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICB9XG4gICAgdXBkYXRlQWRkcmVzc0xpc3QobWF5YmVFbmRwb2ludExpc3QsIGxiQ29uZmlnLCBvcHRpb25zLCByZXNvbHV0aW9uTm90ZSkge1xuICAgICAgICBpZiAoIShsYkNvbmZpZyBpbnN0YW5jZW9mIFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXliZUVuZHBvaW50TGlzdC5vaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwICYmIHRoaXMuY3VycmVudFBpY2sgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIobWF5YmVFbmRwb2ludExpc3QuZXJyb3IpLCBtYXliZUVuZHBvaW50TGlzdC5lcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbmRwb2ludExpc3QgPSBtYXliZUVuZHBvaW50TGlzdC52YWx1ZTtcbiAgICAgICAgdGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgPSBvcHRpb25zW1JFUE9SVF9IRUFMVEhfU1RBVFVTX09QVElPTl9OQU1FXTtcbiAgICAgICAgLyogUHJldmlvdXNseSwgYW4gdXBkYXRlIHdvdWxkIGJlIGRpc2NhcmRlZCBpZiBpdCB3YXMgaWRlbnRpY2FsIHRvIHRoZVxuICAgICAgICAgKiBwcmV2aW91cyB1cGRhdGUsIHRvIG1pbmltaXplIGNodXJuLiBOb3cgdGhlIEROUyByZXNvbHZlciBpc1xuICAgICAgICAgKiByYXRlLWxpbWl0ZWQsIHNvIHRoYXQgaXMgbGVzcyBvZiBhIGNvbmNlcm4uICovXG4gICAgICAgIGlmIChsYkNvbmZpZy5nZXRTaHVmZmxlQWRkcmVzc0xpc3QoKSkge1xuICAgICAgICAgICAgZW5kcG9pbnRMaXN0ID0gc2h1ZmZsZWQoZW5kcG9pbnRMaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdBZGRyZXNzTGlzdCA9IFtdLmNvbmNhdCguLi5lbmRwb2ludExpc3QubWFwKGVuZHBvaW50ID0+IGVuZHBvaW50LmFkZHJlc3NlcykpO1xuICAgICAgICB0cmFjZSgndXBkYXRlQWRkcmVzc0xpc3QoWycgKyByYXdBZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcykpICsgJ10pJyk7XG4gICAgICAgIGNvbnN0IGFkZHJlc3NMaXN0ID0gaW50ZXJsZWF2ZUFkZHJlc3NGYW1pbGllcyhyYXdBZGRyZXNzTGlzdCk7XG4gICAgICAgIHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QgPSBhZGRyZXNzTGlzdDtcbiAgICAgICAgdGhpcy5sYXRlc3RPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0VG9BZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubGF0ZXN0UmVzb2x1dGlvbk5vdGUgPSByZXNvbHV0aW9uTm90ZTtcbiAgICAgICAgaWYgKHJhd0FkZHJlc3NMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSAnTm8gYWRkcmVzc2VzIHJlc29sdmVkJztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFICYmXG4gICAgICAgICAgICB0aGlzLmxhdGVzdEFkZHJlc3NMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0FkZHJlc3NMaXN0KHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QsIHRoaXMubGF0ZXN0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXRCYWNrb2ZmKCkge1xuICAgICAgICAvKiBUaGUgcGljayBmaXJzdCBsb2FkIGJhbGFuY2VyIGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uIGJhY2tvZmYsIHNvIHRoaXNcbiAgICAgICAgICogZG9lcyBub3RoaW5nICovXG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICB0aGlzLnJlbW92ZUN1cnJlbnRQaWNrKCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuUGlja0ZpcnN0TG9hZEJhbGFuY2VyID0gUGlja0ZpcnN0TG9hZEJhbGFuY2VyO1xuY29uc3QgTEVBRl9DT05GSUcgPSBuZXcgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyhmYWxzZSk7XG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgbGVhZiBsb2FkIGJhbGFuY2luZyBvcGVyYXRpb25zIGZvciBhIHNpbmdsZSBlbmRwb2ludC5cbiAqIEl0IGlzIGEgdGhpbiB3cmFwcGVyIGFyb3VuZCBhIFBpY2tGaXJzdExvYWRCYWxhbmNlciB3aXRoIGEgZGlmZmVyZW50IEFQSVxuICogdGhhdCBtb3JlIGNsb3NlbHkgcmVmbGVjdHMgaG93IGl0IHdpbGwgYmUgdXNlZCBhcyBhIGxlYWYgYmFsYW5jZXIuXG4gKi9cbmNsYXNzIExlYWZMb2FkQmFsYW5jZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuZHBvaW50LCBjaGFubmVsQ29udHJvbEhlbHBlciwgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnJlc29sdXRpb25Ob3RlID0gcmVzb2x1dGlvbk5vdGU7XG4gICAgICAgIHRoaXMubGF0ZXN0U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICBjb25zdCBjaGlsZENoYW5uZWxDb250cm9sSGVscGVyID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKShjaGFubmVsQ29udHJvbEhlbHBlciwge1xuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFN0YXRlID0gY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBpY2tGaXJzdEJhbGFuY2VyID0gbmV3IFBpY2tGaXJzdExvYWRCYWxhbmNlcihjaGlsZENoYW5uZWxDb250cm9sSGVscGVyKTtcbiAgICAgICAgdGhpcy5sYXRlc3RQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcy5waWNrRmlyc3RCYWxhbmNlcik7XG4gICAgfVxuICAgIHN0YXJ0Q29ubmVjdGluZygpIHtcbiAgICAgICAgdGhpcy5waWNrRmlyc3RCYWxhbmNlci51cGRhdGVBZGRyZXNzTGlzdCgoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkoW3RoaXMuZW5kcG9pbnRdKSwgTEVBRl9DT05GSUcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgeyBbUkVQT1JUX0hFQUxUSF9TVEFUVVNfT1BUSU9OX05BTUVdOiB0cnVlIH0pLCB0aGlzLnJlc29sdXRpb25Ob3RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBlbmRwb2ludCBhc3NvY2lhdGVkIHdpdGggdGhpcyBMZWFmTG9hZEJhbGFuY2VyIHRvIGEgbmV3XG4gICAgICogZW5kcG9pbnQuIERvZXMgbm90IHRyaWdnZXIgY29ubmVjdGlvbiBlc3RhYmxpc2htZW50IGlmIGEgY29ubmVjdGlvblxuICAgICAqIGF0dGVtcHQgaXMgbm90IGFscmVhZHkgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHBhcmFtIG5ld0VuZHBvaW50XG4gICAgICovXG4gICAgdXBkYXRlRW5kcG9pbnQobmV3RW5kcG9pbnQsIG5ld09wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gbmV3T3B0aW9ucztcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IG5ld0VuZHBvaW50O1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RTdGF0ZSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0ZXN0U3RhdGU7XG4gICAgfVxuICAgIGdldFBpY2tlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0ZXN0UGlja2VyO1xuICAgIH1cbiAgICBnZXRFbmRwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kcG9pbnQ7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICB0aGlzLnBpY2tGaXJzdEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucGlja0ZpcnN0QmFsYW5jZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTGVhZkxvYWRCYWxhbmNlciA9IExlYWZMb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FLCBQaWNrRmlyc3RMb2FkQmFsYW5jZXIsIFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcpO1xuICAgICgwLCBsb2FkX2JhbGFuY2VyXzEucmVnaXN0ZXJEZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWQtYmFsYW5jZXItcGljay1maXJzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RoundRobinLoadBalancer = void 0;\nexports.setup = setup;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst load_balancer_pick_first_1 = __webpack_require__(/*! ./load-balancer-pick-first */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nconst TRACER_NAME = 'round_robin';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'round_robin';\nclass RoundRobinLoadBalancingConfig {\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    constructor() { }\n    toJsonObject() {\n        return {\n            [TYPE_NAME]: {},\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static createFromJson(obj) {\n        return new RoundRobinLoadBalancingConfig();\n    }\n}\nclass RoundRobinPicker {\n    constructor(children, nextIndex = 0) {\n        this.children = children;\n        this.nextIndex = nextIndex;\n    }\n    pick(pickArgs) {\n        const childPicker = this.children[this.nextIndex].picker;\n        this.nextIndex = (this.nextIndex + 1) % this.children.length;\n        return childPicker.pick(pickArgs);\n    }\n    /**\n     * Check what the next subchannel returned would be. Used by the load\n     * balancer implementation to preserve this part of the picker state if\n     * possible when a subchannel connects or disconnects.\n     */\n    peekNextEndpoint() {\n        return this.children[this.nextIndex].endpoint;\n    }\n}\nfunction rotateArray(list, startIndex) {\n    return [...list.slice(startIndex), ...list.slice(0, startIndex)];\n}\nclass RoundRobinLoadBalancer {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.children = [];\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        this.currentReadyPicker = null;\n        this.updatesPaused = false;\n        this.lastError = null;\n        this.childChannelControlHelper = (0, load_balancer_1.createChildChannelControlHelper)(channelControlHelper, {\n            updateState: (connectivityState, picker, errorMessage) => {\n                /* Ensure that name resolution is requested again after active\n                 * connections are dropped. This is more aggressive than necessary to\n                 * accomplish that, so we are counting on resolvers to have\n                 * reasonable rate limits. */\n                if (this.currentState === connectivity_state_1.ConnectivityState.READY && connectivityState !== connectivity_state_1.ConnectivityState.READY) {\n                    this.channelControlHelper.requestReresolution();\n                }\n                if (errorMessage) {\n                    this.lastError = errorMessage;\n                }\n                this.calculateAndUpdateState();\n            },\n        });\n    }\n    countChildrenWithState(state) {\n        return this.children.filter(child => child.getConnectivityState() === state)\n            .length;\n    }\n    calculateAndUpdateState() {\n        if (this.updatesPaused) {\n            return;\n        }\n        if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.READY) > 0) {\n            const readyChildren = this.children.filter(child => child.getConnectivityState() === connectivity_state_1.ConnectivityState.READY);\n            let index = 0;\n            if (this.currentReadyPicker !== null) {\n                const nextPickedEndpoint = this.currentReadyPicker.peekNextEndpoint();\n                index = readyChildren.findIndex(child => (0, subchannel_address_1.endpointEqual)(child.getEndpoint(), nextPickedEndpoint));\n                if (index < 0) {\n                    index = 0;\n                }\n            }\n            this.updateState(connectivity_state_1.ConnectivityState.READY, new RoundRobinPicker(readyChildren.map(child => ({\n                endpoint: child.getEndpoint(),\n                picker: child.getPicker(),\n            })), index), null);\n        }\n        else if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.CONNECTING) > 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this), null);\n        }\n        else if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) > 0) {\n            const errorMessage = `round_robin: No connection established. Last error: ${this.lastError}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                details: errorMessage,\n            }), errorMessage);\n        }\n        else {\n            this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        }\n        /* round_robin should keep all children connected, this is how we do that.\n         * We can't do this more efficiently in the individual child's updateState\n         * callback because that doesn't have a reference to which child the state\n         * change is associated with. */\n        for (const child of this.children) {\n            if (child.getConnectivityState() === connectivity_state_1.ConnectivityState.IDLE) {\n                child.exitIdle();\n            }\n        }\n    }\n    updateState(newState, picker, errorMessage) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (newState === connectivity_state_1.ConnectivityState.READY) {\n            this.currentReadyPicker = picker;\n        }\n        else {\n            this.currentReadyPicker = null;\n        }\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker, errorMessage);\n    }\n    resetSubchannelList() {\n        for (const child of this.children) {\n            child.destroy();\n        }\n        this.children = [];\n    }\n    updateAddressList(maybeEndpointList, lbConfig, options, resolutionNote) {\n        if (!(lbConfig instanceof RoundRobinLoadBalancingConfig)) {\n            return false;\n        }\n        if (!maybeEndpointList.ok) {\n            if (this.children.length === 0) {\n                this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(maybeEndpointList.error), maybeEndpointList.error.details);\n            }\n            return true;\n        }\n        const startIndex = (Math.random() * maybeEndpointList.value.length) | 0;\n        const endpointList = rotateArray(maybeEndpointList.value, startIndex);\n        this.resetSubchannelList();\n        if (endpointList.length === 0) {\n            const errorMessage = `No addresses resolved. Resolution note: ${resolutionNote}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({ details: errorMessage }), errorMessage);\n        }\n        trace('Connect to endpoint list ' + endpointList.map(subchannel_address_1.endpointToString));\n        this.updatesPaused = true;\n        this.children = endpointList.map(endpoint => new load_balancer_pick_first_1.LeafLoadBalancer(endpoint, this.childChannelControlHelper, options, resolutionNote));\n        for (const child of this.children) {\n            child.startConnecting();\n        }\n        this.updatesPaused = false;\n        this.calculateAndUpdateState();\n        return true;\n    }\n    exitIdle() {\n        /* The round_robin LB policy is only in the IDLE state if it has no\n         * addresses to try to connect to and it has no picked subchannel.\n         * In that case, there is no meaningful action that can be taken here. */\n    }\n    resetBackoff() {\n        // This LB policy has no backoff to reset\n    }\n    destroy() {\n        this.resetSubchannelList();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.RoundRobinLoadBalancer = RoundRobinLoadBalancer;\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, RoundRobinLoadBalancer, RoundRobinLoadBalancingConfig);\n}\n//# sourceMappingURL=load-balancer-round-robin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1yb3VuZC1yb2Jpbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixhQUFhO0FBQ2Isd0JBQXdCLG1CQUFPLENBQUMsOEdBQWlCO0FBQ2pELDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRCxpQkFBaUIsbUJBQU8sQ0FBQyxnR0FBVTtBQUNuQyxnQkFBZ0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNuQyxvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6Qyw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QsbUNBQW1DLG1CQUFPLENBQUMsb0lBQTRCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLGVBQWU7QUFDdkc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLGVBQWU7QUFDM0Ysd0hBQXdILHVCQUF1QjtBQUMvSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2xvYWQtYmFsYW5jZXItcm91bmQtcm9iaW4uanM/NzRkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb3VuZFJvYmluTG9hZEJhbGFuY2VyID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItcGljay1maXJzdFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JvdW5kX3JvYmluJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgVFlQRV9OQU1FID0gJ3JvdW5kX3JvYmluJztcbmNsYXNzIFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtUWVBFX05BTUVdOiB7fSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbiAgICB9XG59XG5jbGFzcyBSb3VuZFJvYmluUGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgbmV4dEluZGV4ID0gMCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gbmV4dEluZGV4O1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkUGlja2VyID0gdGhpcy5jaGlsZHJlblt0aGlzLm5leHRJbmRleF0ucGlja2VyO1xuICAgICAgICB0aGlzLm5leHRJbmRleCA9ICh0aGlzLm5leHRJbmRleCArIDEpICUgdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGlsZFBpY2tlci5waWNrKHBpY2tBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hhdCB0aGUgbmV4dCBzdWJjaGFubmVsIHJldHVybmVkIHdvdWxkIGJlLiBVc2VkIGJ5IHRoZSBsb2FkXG4gICAgICogYmFsYW5jZXIgaW1wbGVtZW50YXRpb24gdG8gcHJlc2VydmUgdGhpcyBwYXJ0IG9mIHRoZSBwaWNrZXIgc3RhdGUgaWZcbiAgICAgKiBwb3NzaWJsZSB3aGVuIGEgc3ViY2hhbm5lbCBjb25uZWN0cyBvciBkaXNjb25uZWN0cy5cbiAgICAgKi9cbiAgICBwZWVrTmV4dEVuZHBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLm5leHRJbmRleF0uZW5kcG9pbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcm90YXRlQXJyYXkobGlzdCwgc3RhcnRJbmRleCkge1xuICAgIHJldHVybiBbLi4ubGlzdC5zbGljZShzdGFydEluZGV4KSwgLi4ubGlzdC5zbGljZSgwLCBzdGFydEluZGV4KV07XG59XG5jbGFzcyBSb3VuZFJvYmluTG9hZEJhbGFuY2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciA9ICgwLCBsb2FkX2JhbGFuY2VyXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcikoY2hhbm5lbENvbnRyb2xIZWxwZXIsIHtcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlOiAoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogRW5zdXJlIHRoYXQgbmFtZSByZXNvbHV0aW9uIGlzIHJlcXVlc3RlZCBhZ2FpbiBhZnRlciBhY3RpdmVcbiAgICAgICAgICAgICAgICAgKiBjb25uZWN0aW9ucyBhcmUgZHJvcHBlZC4gVGhpcyBpcyBtb3JlIGFnZ3Jlc3NpdmUgdGhhbiBuZWNlc3NhcnkgdG9cbiAgICAgICAgICAgICAgICAgKiBhY2NvbXBsaXNoIHRoYXQsIHNvIHdlIGFyZSBjb3VudGluZyBvbiByZXNvbHZlcnMgdG8gaGF2ZVxuICAgICAgICAgICAgICAgICAqIHJlYXNvbmFibGUgcmF0ZSBsaW1pdHMuICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSAmJiBjb25uZWN0aXZpdHlTdGF0ZSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb3VudENoaWxkcmVuV2l0aFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PSBzdGF0ZSlcbiAgICAgICAgICAgIC5sZW5ndGg7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVzUGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZWFkeUNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQaWNrZWRFbmRwb2ludCA9IHRoaXMuY3VycmVudFJlYWR5UGlja2VyLnBlZWtOZXh0RW5kcG9pbnQoKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHJlYWR5Q2hpbGRyZW4uZmluZEluZGV4KGNoaWxkID0+ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludEVxdWFsKShjaGlsZC5nZXRFbmRwb2ludCgpLCBuZXh0UGlja2VkRW5kcG9pbnQpKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgUm91bmRSb2JpblBpY2tlcihyZWFkeUNoaWxkcmVuLm1hcChjaGlsZCA9PiAoe1xuICAgICAgICAgICAgICAgIGVuZHBvaW50OiBjaGlsZC5nZXRFbmRwb2ludCgpLFxuICAgICAgICAgICAgICAgIHBpY2tlcjogY2hpbGQuZ2V0UGlja2VyKCksXG4gICAgICAgICAgICB9KSksIGluZGV4KSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb3VudENoaWxkcmVuV2l0aFN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpID4gMCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgcm91bmRfcm9iaW46IE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9YDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogcm91bmRfcm9iaW4gc2hvdWxkIGtlZXAgYWxsIGNoaWxkcmVuIGNvbm5lY3RlZCwgdGhpcyBpcyBob3cgd2UgZG8gdGhhdC5cbiAgICAgICAgICogV2UgY2FuJ3QgZG8gdGhpcyBtb3JlIGVmZmljaWVudGx5IGluIHRoZSBpbmRpdmlkdWFsIGNoaWxkJ3MgdXBkYXRlU3RhdGVcbiAgICAgICAgICogY2FsbGJhY2sgYmVjYXVzZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB3aGljaCBjaGlsZCB0aGUgc3RhdGVcbiAgICAgICAgICogY2hhbmdlIGlzIGFzc29jaWF0ZWQgd2l0aC4gKi9cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY3VycmVudFN0YXRlXSArXG4gICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbbmV3U3RhdGVdKTtcbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXNldFN1YmNoYW5uZWxMaXN0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KG1heWJlRW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgaWYgKCEobGJDb25maWcgaW5zdGFuY2VvZiBSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1heWJlRW5kcG9pbnRMaXN0Lm9rKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIobWF5YmVFbmRwb2ludExpc3QuZXJyb3IpLCBtYXliZUVuZHBvaW50TGlzdC5lcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAoTWF0aC5yYW5kb20oKSAqIG1heWJlRW5kcG9pbnRMaXN0LnZhbHVlLmxlbmd0aCkgfCAwO1xuICAgICAgICBjb25zdCBlbmRwb2ludExpc3QgPSByb3RhdGVBcnJheShtYXliZUVuZHBvaW50TGlzdC52YWx1ZSwgc3RhcnRJbmRleCk7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICBpZiAoZW5kcG9pbnRMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYE5vIGFkZHJlc3NlcyByZXNvbHZlZC4gUmVzb2x1dGlvbiBub3RlOiAke3Jlc29sdXRpb25Ob3RlfWA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoeyBkZXRhaWxzOiBlcnJvck1lc3NhZ2UgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ0Nvbm5lY3QgdG8gZW5kcG9pbnQgbGlzdCAnICsgZW5kcG9pbnRMaXN0Lm1hcChzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKSk7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBlbmRwb2ludExpc3QubWFwKGVuZHBvaW50ID0+IG5ldyBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMS5MZWFmTG9hZEJhbGFuY2VyKGVuZHBvaW50LCB0aGlzLmNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIsIG9wdGlvbnMsIHJlc29sdXRpb25Ob3RlKSk7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGQuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICAvKiBUaGUgcm91bmRfcm9iaW4gTEIgcG9saWN5IGlzIG9ubHkgaW4gdGhlIElETEUgc3RhdGUgaWYgaXQgaGFzIG5vXG4gICAgICAgICAqIGFkZHJlc3NlcyB0byB0cnkgdG8gY29ubmVjdCB0byBhbmQgaXQgaGFzIG5vIHBpY2tlZCBzdWJjaGFubmVsLlxuICAgICAgICAgKiBJbiB0aGF0IGNhc2UsIHRoZXJlIGlzIG5vIG1lYW5pbmdmdWwgYWN0aW9uIHRoYXQgY2FuIGJlIHRha2VuIGhlcmUuICovXG4gICAgfVxuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgLy8gVGhpcyBMQiBwb2xpY3kgaGFzIG5vIGJhY2tvZmYgdG8gcmVzZXRcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZXNldFN1YmNoYW5uZWxMaXN0KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuUm91bmRSb2JpbkxvYWRCYWxhbmNlciA9IFJvdW5kUm9iaW5Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FLCBSb3VuZFJvYmluTG9hZEJhbGFuY2VyLCBSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-weighted-round-robin.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-weighted-round-robin.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2025 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WeightedRoundRobinLoadBalancingConfig = void 0;\nexports.setup = setup;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst duration_1 = __webpack_require__(/*! ./duration */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\");\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst load_balancer_pick_first_1 = __webpack_require__(/*! ./load-balancer-pick-first */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst orca_1 = __webpack_require__(/*! ./orca */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/orca.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst priority_queue_1 = __webpack_require__(/*! ./priority-queue */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/priority-queue.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst TRACER_NAME = 'weighted_round_robin';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'weighted_round_robin';\nconst DEFAULT_OOB_REPORTING_PERIOD_MS = 10000;\nconst DEFAULT_BLACKOUT_PERIOD_MS = 10000;\nconst DEFAULT_WEIGHT_EXPIRATION_PERIOD_MS = 3 * 60000;\nconst DEFAULT_WEIGHT_UPDATE_PERIOD_MS = 1000;\nconst DEFAULT_ERROR_UTILIZATION_PENALTY = 1;\nfunction validateFieldType(obj, fieldName, expectedType) {\n    if (fieldName in obj &&\n        obj[fieldName] !== undefined &&\n        typeof obj[fieldName] !== expectedType) {\n        throw new Error(`weighted round robin config ${fieldName} parse error: expected ${expectedType}, got ${typeof obj[fieldName]}`);\n    }\n}\nfunction parseDurationField(obj, fieldName) {\n    if (fieldName in obj && obj[fieldName] !== undefined && obj[fieldName] !== null) {\n        let durationObject;\n        if ((0, duration_1.isDuration)(obj[fieldName])) {\n            durationObject = obj[fieldName];\n        }\n        else if ((0, duration_1.isDurationMessage)(obj[fieldName])) {\n            durationObject = (0, duration_1.durationMessageToDuration)(obj[fieldName]);\n        }\n        else if (typeof obj[fieldName] === 'string') {\n            const parsedDuration = (0, duration_1.parseDuration)(obj[fieldName]);\n            if (!parsedDuration) {\n                throw new Error(`weighted round robin config ${fieldName}: failed to parse duration string ${obj[fieldName]}`);\n            }\n            durationObject = parsedDuration;\n        }\n        else {\n            throw new Error(`weighted round robin config ${fieldName}: expected duration, got ${typeof obj[fieldName]}`);\n        }\n        return (0, duration_1.durationToMs)(durationObject);\n    }\n    return null;\n}\nclass WeightedRoundRobinLoadBalancingConfig {\n    constructor(enableOobLoadReport, oobLoadReportingPeriodMs, blackoutPeriodMs, weightExpirationPeriodMs, weightUpdatePeriodMs, errorUtilizationPenalty) {\n        this.enableOobLoadReport = enableOobLoadReport !== null && enableOobLoadReport !== void 0 ? enableOobLoadReport : false;\n        this.oobLoadReportingPeriodMs = oobLoadReportingPeriodMs !== null && oobLoadReportingPeriodMs !== void 0 ? oobLoadReportingPeriodMs : DEFAULT_OOB_REPORTING_PERIOD_MS;\n        this.blackoutPeriodMs = blackoutPeriodMs !== null && blackoutPeriodMs !== void 0 ? blackoutPeriodMs : DEFAULT_BLACKOUT_PERIOD_MS;\n        this.weightExpirationPeriodMs = weightExpirationPeriodMs !== null && weightExpirationPeriodMs !== void 0 ? weightExpirationPeriodMs : DEFAULT_WEIGHT_EXPIRATION_PERIOD_MS;\n        this.weightUpdatePeriodMs = Math.max(weightUpdatePeriodMs !== null && weightUpdatePeriodMs !== void 0 ? weightUpdatePeriodMs : DEFAULT_WEIGHT_UPDATE_PERIOD_MS, 100);\n        this.errorUtilizationPenalty = errorUtilizationPenalty !== null && errorUtilizationPenalty !== void 0 ? errorUtilizationPenalty : DEFAULT_ERROR_UTILIZATION_PENALTY;\n    }\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    toJsonObject() {\n        return {\n            enable_oob_load_report: this.enableOobLoadReport,\n            oob_load_reporting_period: (0, duration_1.durationToString)((0, duration_1.msToDuration)(this.oobLoadReportingPeriodMs)),\n            blackout_period: (0, duration_1.durationToString)((0, duration_1.msToDuration)(this.blackoutPeriodMs)),\n            weight_expiration_period: (0, duration_1.durationToString)((0, duration_1.msToDuration)(this.weightExpirationPeriodMs)),\n            weight_update_period: (0, duration_1.durationToString)((0, duration_1.msToDuration)(this.weightUpdatePeriodMs)),\n            error_utilization_penalty: this.errorUtilizationPenalty\n        };\n    }\n    static createFromJson(obj) {\n        validateFieldType(obj, 'enable_oob_load_report', 'boolean');\n        validateFieldType(obj, 'error_utilization_penalty', 'number');\n        if (obj.error_utilization_penalty < 0) {\n            throw new Error('weighted round robin config error_utilization_penalty < 0');\n        }\n        return new WeightedRoundRobinLoadBalancingConfig(obj.enable_oob_load_report, parseDurationField(obj, 'oob_load_reporting_period'), parseDurationField(obj, 'blackout_period'), parseDurationField(obj, 'weight_expiration_period'), parseDurationField(obj, 'weight_update_period'), obj.error_utilization_penalty);\n    }\n    getEnableOobLoadReport() {\n        return this.enableOobLoadReport;\n    }\n    getOobLoadReportingPeriodMs() {\n        return this.oobLoadReportingPeriodMs;\n    }\n    getBlackoutPeriodMs() {\n        return this.blackoutPeriodMs;\n    }\n    getWeightExpirationPeriodMs() {\n        return this.weightExpirationPeriodMs;\n    }\n    getWeightUpdatePeriodMs() {\n        return this.weightUpdatePeriodMs;\n    }\n    getErrorUtilizationPenalty() {\n        return this.errorUtilizationPenalty;\n    }\n}\nexports.WeightedRoundRobinLoadBalancingConfig = WeightedRoundRobinLoadBalancingConfig;\nclass WeightedRoundRobinPicker {\n    constructor(children, metricsHandler) {\n        this.metricsHandler = metricsHandler;\n        this.queue = new priority_queue_1.PriorityQueue((a, b) => a.deadline < b.deadline);\n        const positiveWeight = children.filter(picker => picker.weight > 0);\n        let averageWeight;\n        if (positiveWeight.length < 2) {\n            averageWeight = 1;\n        }\n        else {\n            let weightSum = 0;\n            for (const { weight } of positiveWeight) {\n                weightSum += weight;\n            }\n            averageWeight = weightSum / positiveWeight.length;\n        }\n        for (const child of children) {\n            const period = child.weight > 0 ? 1 / child.weight : averageWeight;\n            this.queue.push({\n                endpointName: child.endpointName,\n                picker: child.picker,\n                period: period,\n                deadline: Math.random() * period\n            });\n        }\n    }\n    pick(pickArgs) {\n        const entry = this.queue.pop();\n        this.queue.push(Object.assign(Object.assign({}, entry), { deadline: entry.deadline + entry.period }));\n        const childPick = entry.picker.pick(pickArgs);\n        if (childPick.pickResultType === picker_1.PickResultType.COMPLETE) {\n            if (this.metricsHandler) {\n                return Object.assign(Object.assign({}, childPick), { onCallEnded: (0, orca_1.createMetricsReader)(loadReport => this.metricsHandler(loadReport, entry.endpointName), childPick.onCallEnded) });\n            }\n            else {\n                const subchannelWrapper = childPick.subchannel;\n                return Object.assign(Object.assign({}, childPick), { subchannel: subchannelWrapper.getWrappedSubchannel() });\n            }\n        }\n        else {\n            return childPick;\n        }\n    }\n}\nclass WeightedRoundRobinLoadBalancer {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.latestConfig = null;\n        this.children = new Map();\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        this.updatesPaused = false;\n        this.lastError = null;\n        this.weightUpdateTimer = null;\n    }\n    countChildrenWithState(state) {\n        let count = 0;\n        for (const entry of this.children.values()) {\n            if (entry.child.getConnectivityState() === state) {\n                count += 1;\n            }\n        }\n        return count;\n    }\n    updateWeight(entry, loadReport) {\n        var _a, _b;\n        const qps = loadReport.rps_fractional;\n        let utilization = loadReport.application_utilization;\n        if (utilization > 0 && qps > 0) {\n            utilization += (loadReport.eps / qps) * ((_b = (_a = this.latestConfig) === null || _a === void 0 ? void 0 : _a.getErrorUtilizationPenalty()) !== null && _b !== void 0 ? _b : 0);\n        }\n        const newWeight = utilization === 0 ? 0 : qps / utilization;\n        if (newWeight === 0) {\n            return;\n        }\n        const now = new Date();\n        if (entry.nonEmptySince === null) {\n            entry.nonEmptySince = now;\n        }\n        entry.lastUpdated = now;\n        entry.weight = newWeight;\n    }\n    getWeight(entry) {\n        if (!this.latestConfig) {\n            return 0;\n        }\n        const now = new Date().getTime();\n        if (now - entry.lastUpdated.getTime() >= this.latestConfig.getWeightExpirationPeriodMs()) {\n            entry.nonEmptySince = null;\n            return 0;\n        }\n        const blackoutPeriod = this.latestConfig.getBlackoutPeriodMs();\n        if (blackoutPeriod > 0 && (entry.nonEmptySince === null || now - entry.nonEmptySince.getTime() < blackoutPeriod)) {\n            return 0;\n        }\n        return entry.weight;\n    }\n    calculateAndUpdateState() {\n        if (this.updatesPaused || !this.latestConfig) {\n            return;\n        }\n        if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.READY) > 0) {\n            const weightedPickers = [];\n            for (const [endpoint, entry] of this.children) {\n                if (entry.child.getConnectivityState() !== connectivity_state_1.ConnectivityState.READY) {\n                    continue;\n                }\n                weightedPickers.push({\n                    endpointName: endpoint,\n                    picker: entry.child.getPicker(),\n                    weight: this.getWeight(entry)\n                });\n            }\n            trace('Created picker with weights: ' + weightedPickers.map(entry => entry.endpointName + ':' + entry.weight).join(','));\n            let metricsHandler;\n            if (!this.latestConfig.getEnableOobLoadReport()) {\n                metricsHandler = (loadReport, endpointName) => {\n                    const childEntry = this.children.get(endpointName);\n                    if (childEntry) {\n                        this.updateWeight(childEntry, loadReport);\n                    }\n                };\n            }\n            else {\n                metricsHandler = null;\n            }\n            this.updateState(connectivity_state_1.ConnectivityState.READY, new WeightedRoundRobinPicker(weightedPickers, metricsHandler), null);\n        }\n        else if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.CONNECTING) > 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this), null);\n        }\n        else if (this.countChildrenWithState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) > 0) {\n            const errorMessage = `weighted_round_robin: No connection established. Last error: ${this.lastError}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({\n                details: errorMessage,\n            }), errorMessage);\n        }\n        else {\n            this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        }\n        /* round_robin should keep all children connected, this is how we do that.\n          * We can't do this more efficiently in the individual child's updateState\n          * callback because that doesn't have a reference to which child the state\n          * change is associated with. */\n        for (const { child } of this.children.values()) {\n            if (child.getConnectivityState() === connectivity_state_1.ConnectivityState.IDLE) {\n                child.exitIdle();\n            }\n        }\n    }\n    updateState(newState, picker, errorMessage) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker, errorMessage);\n    }\n    updateAddressList(maybeEndpointList, lbConfig, options, resolutionNote) {\n        var _a, _b;\n        if (!(lbConfig instanceof WeightedRoundRobinLoadBalancingConfig)) {\n            return false;\n        }\n        if (!maybeEndpointList.ok) {\n            if (this.children.size === 0) {\n                this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(maybeEndpointList.error), maybeEndpointList.error.details);\n            }\n            return true;\n        }\n        if (maybeEndpointList.value.length === 0) {\n            const errorMessage = `No addresses resolved. Resolution note: ${resolutionNote}`;\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker({ details: errorMessage }), errorMessage);\n            return false;\n        }\n        trace('Connect to endpoint list ' + maybeEndpointList.value.map(subchannel_address_1.endpointToString));\n        const now = new Date();\n        const seenEndpointNames = new Set();\n        this.updatesPaused = true;\n        this.latestConfig = lbConfig;\n        for (const endpoint of maybeEndpointList.value) {\n            const name = (0, subchannel_address_1.endpointToString)(endpoint);\n            seenEndpointNames.add(name);\n            let entry = this.children.get(name);\n            if (!entry) {\n                entry = {\n                    child: new load_balancer_pick_first_1.LeafLoadBalancer(endpoint, (0, load_balancer_1.createChildChannelControlHelper)(this.channelControlHelper, {\n                        updateState: (connectivityState, picker, errorMessage) => {\n                            /* Ensure that name resolution is requested again after active\n                              * connections are dropped. This is more aggressive than necessary to\n                              * accomplish that, so we are counting on resolvers to have\n                              * reasonable rate limits. */\n                            if (this.currentState === connectivity_state_1.ConnectivityState.READY && connectivityState !== connectivity_state_1.ConnectivityState.READY) {\n                                this.channelControlHelper.requestReresolution();\n                            }\n                            if (connectivityState === connectivity_state_1.ConnectivityState.READY) {\n                                entry.nonEmptySince = null;\n                            }\n                            if (errorMessage) {\n                                this.lastError = errorMessage;\n                            }\n                            this.calculateAndUpdateState();\n                        },\n                        createSubchannel: (subchannelAddress, subchannelArgs) => {\n                            const subchannel = this.channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n                            if (entry === null || entry === void 0 ? void 0 : entry.oobMetricsListener) {\n                                return new orca_1.OrcaOobMetricsSubchannelWrapper(subchannel, entry.oobMetricsListener, this.latestConfig.getOobLoadReportingPeriodMs());\n                            }\n                            else {\n                                return subchannel;\n                            }\n                        }\n                    }), options, resolutionNote),\n                    lastUpdated: now,\n                    nonEmptySince: null,\n                    weight: 0,\n                    oobMetricsListener: null\n                };\n                this.children.set(name, entry);\n            }\n            if (lbConfig.getEnableOobLoadReport()) {\n                entry.oobMetricsListener = loadReport => {\n                    this.updateWeight(entry, loadReport);\n                };\n            }\n            else {\n                entry.oobMetricsListener = null;\n            }\n        }\n        for (const [endpointName, entry] of this.children) {\n            if (seenEndpointNames.has(endpointName)) {\n                entry.child.startConnecting();\n            }\n            else {\n                entry.child.destroy();\n                this.children.delete(endpointName);\n            }\n        }\n        this.updatesPaused = false;\n        this.calculateAndUpdateState();\n        if (this.weightUpdateTimer) {\n            clearInterval(this.weightUpdateTimer);\n        }\n        this.weightUpdateTimer = (_b = (_a = setInterval(() => {\n            if (this.currentState === connectivity_state_1.ConnectivityState.READY) {\n                this.calculateAndUpdateState();\n            }\n        }, lbConfig.getWeightUpdatePeriodMs())).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        return true;\n    }\n    exitIdle() {\n        /* The weighted_round_robin LB policy is only in the IDLE state if it has\n         * no addresses to try to connect to and it has no picked subchannel.\n         * In that case, there is no meaningful action that can be taken here. */\n    }\n    resetBackoff() {\n        // This LB policy has no backoff to reset\n    }\n    destroy() {\n        for (const entry of this.children.values()) {\n            entry.child.destroy();\n        }\n        this.children.clear();\n        if (this.weightUpdateTimer) {\n            clearInterval(this.weightUpdateTimer);\n        }\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, WeightedRoundRobinLoadBalancer, WeightedRoundRobinLoadBalancingConfig);\n}\n//# sourceMappingURL=load-balancer-weighted-round-robin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci13ZWlnaHRlZC1yb3VuZC1yb2Jpbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZDQUE2QztBQUM3QyxhQUFhO0FBQ2IsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLHdCQUF3QixtQkFBTyxDQUFDLDhHQUFpQjtBQUNqRCxtQ0FBbUMsbUJBQU8sQ0FBQyxvSUFBNEI7QUFDdkUsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLDRGQUFRO0FBQy9CLGlCQUFpQixtQkFBTyxDQUFDLGdHQUFVO0FBQ25DLHlCQUF5QixtQkFBTyxDQUFDLGdIQUFrQjtBQUNuRCw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxXQUFXLHdCQUF3QixhQUFhLFFBQVEsc0JBQXNCO0FBQ3JJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsVUFBVSxvQ0FBb0MsZUFBZTtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxVQUFVLDJCQUEyQixzQkFBc0I7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsU0FBUztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFlBQVkseUNBQXlDO0FBQzNHO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxnQkFBZ0Isd0lBQXdJO0FBQzdNO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxnQkFBZ0Isc0RBQXNEO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsZUFBZTtBQUNoSDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsUUFBUTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsZUFBZTtBQUMzRix3SEFBd0gsdUJBQXVCO0FBQy9JO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLXdlaWdodGVkLXJvdW5kLXJvYmluLmpzP2Y5NzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjUgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyA9IHZvaWQgMDtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkdXJhdGlvbl8xID0gcmVxdWlyZShcIi4vZHVyYXRpb25cIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0XzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3RcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IG9yY2FfMSA9IHJlcXVpcmUoXCIuL29yY2FcIik7XG5jb25zdCBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbmNvbnN0IHByaW9yaXR5X3F1ZXVlXzEgPSByZXF1aXJlKFwiLi9wcmlvcml0eS1xdWV1ZVwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnd2VpZ2h0ZWRfcm91bmRfcm9iaW4nO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBUWVBFX05BTUUgPSAnd2VpZ2h0ZWRfcm91bmRfcm9iaW4nO1xuY29uc3QgREVGQVVMVF9PT0JfUkVQT1JUSU5HX1BFUklPRF9NUyA9IDEwMDAwO1xuY29uc3QgREVGQVVMVF9CTEFDS09VVF9QRVJJT0RfTVMgPSAxMDAwMDtcbmNvbnN0IERFRkFVTFRfV0VJR0hUX0VYUElSQVRJT05fUEVSSU9EX01TID0gMyAqIDYwMDAwO1xuY29uc3QgREVGQVVMVF9XRUlHSFRfVVBEQVRFX1BFUklPRF9NUyA9IDEwMDA7XG5jb25zdCBERUZBVUxUX0VSUk9SX1VUSUxJWkFUSU9OX1BFTkFMVFkgPSAxO1xuZnVuY3Rpb24gdmFsaWRhdGVGaWVsZFR5cGUob2JqLCBmaWVsZE5hbWUsIGV4cGVjdGVkVHlwZSkge1xuICAgIGlmIChmaWVsZE5hbWUgaW4gb2JqICYmXG4gICAgICAgIG9ialtmaWVsZE5hbWVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgdHlwZW9mIG9ialtmaWVsZE5hbWVdICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB3ZWlnaHRlZCByb3VuZCByb2JpbiBjb25maWcgJHtmaWVsZE5hbWV9IHBhcnNlIGVycm9yOiBleHBlY3RlZCAke2V4cGVjdGVkVHlwZX0sIGdvdCAke3R5cGVvZiBvYmpbZmllbGROYW1lXX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZUR1cmF0aW9uRmllbGQob2JqLCBmaWVsZE5hbWUpIHtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaiAmJiBvYmpbZmllbGROYW1lXSAhPT0gdW5kZWZpbmVkICYmIG9ialtmaWVsZE5hbWVdICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBkdXJhdGlvbk9iamVjdDtcbiAgICAgICAgaWYgKCgwLCBkdXJhdGlvbl8xLmlzRHVyYXRpb24pKG9ialtmaWVsZE5hbWVdKSkge1xuICAgICAgICAgICAgZHVyYXRpb25PYmplY3QgPSBvYmpbZmllbGROYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoMCwgZHVyYXRpb25fMS5pc0R1cmF0aW9uTWVzc2FnZSkob2JqW2ZpZWxkTmFtZV0pKSB7XG4gICAgICAgICAgICBkdXJhdGlvbk9iamVjdCA9ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uTWVzc2FnZVRvRHVyYXRpb24pKG9ialtmaWVsZE5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqW2ZpZWxkTmFtZV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREdXJhdGlvbiA9ICgwLCBkdXJhdGlvbl8xLnBhcnNlRHVyYXRpb24pKG9ialtmaWVsZE5hbWVdKTtcbiAgICAgICAgICAgIGlmICghcGFyc2VkRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdlaWdodGVkIHJvdW5kIHJvYmluIGNvbmZpZyAke2ZpZWxkTmFtZX06IGZhaWxlZCB0byBwYXJzZSBkdXJhdGlvbiBzdHJpbmcgJHtvYmpbZmllbGROYW1lXX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGR1cmF0aW9uT2JqZWN0ID0gcGFyc2VkRHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdlaWdodGVkIHJvdW5kIHJvYmluIGNvbmZpZyAke2ZpZWxkTmFtZX06IGV4cGVjdGVkIGR1cmF0aW9uLCBnb3QgJHt0eXBlb2Ygb2JqW2ZpZWxkTmFtZV19YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9NcykoZHVyYXRpb25PYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNsYXNzIFdlaWdodGVkUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZU9vYkxvYWRSZXBvcnQsIG9vYkxvYWRSZXBvcnRpbmdQZXJpb2RNcywgYmxhY2tvdXRQZXJpb2RNcywgd2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zLCB3ZWlnaHRVcGRhdGVQZXJpb2RNcywgZXJyb3JVdGlsaXphdGlvblBlbmFsdHkpIHtcbiAgICAgICAgdGhpcy5lbmFibGVPb2JMb2FkUmVwb3J0ID0gZW5hYmxlT29iTG9hZFJlcG9ydCAhPT0gbnVsbCAmJiBlbmFibGVPb2JMb2FkUmVwb3J0ICE9PSB2b2lkIDAgPyBlbmFibGVPb2JMb2FkUmVwb3J0IDogZmFsc2U7XG4gICAgICAgIHRoaXMub29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zID0gb29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zICE9PSBudWxsICYmIG9vYkxvYWRSZXBvcnRpbmdQZXJpb2RNcyAhPT0gdm9pZCAwID8gb29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zIDogREVGQVVMVF9PT0JfUkVQT1JUSU5HX1BFUklPRF9NUztcbiAgICAgICAgdGhpcy5ibGFja291dFBlcmlvZE1zID0gYmxhY2tvdXRQZXJpb2RNcyAhPT0gbnVsbCAmJiBibGFja291dFBlcmlvZE1zICE9PSB2b2lkIDAgPyBibGFja291dFBlcmlvZE1zIDogREVGQVVMVF9CTEFDS09VVF9QRVJJT0RfTVM7XG4gICAgICAgIHRoaXMud2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zID0gd2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zICE9PSBudWxsICYmIHdlaWdodEV4cGlyYXRpb25QZXJpb2RNcyAhPT0gdm9pZCAwID8gd2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zIDogREVGQVVMVF9XRUlHSFRfRVhQSVJBVElPTl9QRVJJT0RfTVM7XG4gICAgICAgIHRoaXMud2VpZ2h0VXBkYXRlUGVyaW9kTXMgPSBNYXRoLm1heCh3ZWlnaHRVcGRhdGVQZXJpb2RNcyAhPT0gbnVsbCAmJiB3ZWlnaHRVcGRhdGVQZXJpb2RNcyAhPT0gdm9pZCAwID8gd2VpZ2h0VXBkYXRlUGVyaW9kTXMgOiBERUZBVUxUX1dFSUdIVF9VUERBVEVfUEVSSU9EX01TLCAxMDApO1xuICAgICAgICB0aGlzLmVycm9yVXRpbGl6YXRpb25QZW5hbHR5ID0gZXJyb3JVdGlsaXphdGlvblBlbmFsdHkgIT09IG51bGwgJiYgZXJyb3JVdGlsaXphdGlvblBlbmFsdHkgIT09IHZvaWQgMCA/IGVycm9yVXRpbGl6YXRpb25QZW5hbHR5IDogREVGQVVMVF9FUlJPUl9VVElMSVpBVElPTl9QRU5BTFRZO1xuICAgIH1cbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmFibGVfb29iX2xvYWRfcmVwb3J0OiB0aGlzLmVuYWJsZU9vYkxvYWRSZXBvcnQsXG4gICAgICAgICAgICBvb2JfbG9hZF9yZXBvcnRpbmdfcGVyaW9kOiAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvU3RyaW5nKSgoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMub29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zKSksXG4gICAgICAgICAgICBibGFja291dF9wZXJpb2Q6ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9TdHJpbmcpKCgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikodGhpcy5ibGFja291dFBlcmlvZE1zKSksXG4gICAgICAgICAgICB3ZWlnaHRfZXhwaXJhdGlvbl9wZXJpb2Q6ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9TdHJpbmcpKCgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikodGhpcy53ZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMpKSxcbiAgICAgICAgICAgIHdlaWdodF91cGRhdGVfcGVyaW9kOiAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvU3RyaW5nKSgoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMud2VpZ2h0VXBkYXRlUGVyaW9kTXMpKSxcbiAgICAgICAgICAgIGVycm9yX3V0aWxpemF0aW9uX3BlbmFsdHk6IHRoaXMuZXJyb3JVdGlsaXphdGlvblBlbmFsdHlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUZyb21Kc29uKG9iaikge1xuICAgICAgICB2YWxpZGF0ZUZpZWxkVHlwZShvYmosICdlbmFibGVfb29iX2xvYWRfcmVwb3J0JywgJ2Jvb2xlYW4nKTtcbiAgICAgICAgdmFsaWRhdGVGaWVsZFR5cGUob2JqLCAnZXJyb3JfdXRpbGl6YXRpb25fcGVuYWx0eScsICdudW1iZXInKTtcbiAgICAgICAgaWYgKG9iai5lcnJvcl91dGlsaXphdGlvbl9wZW5hbHR5IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd3ZWlnaHRlZCByb3VuZCByb2JpbiBjb25maWcgZXJyb3JfdXRpbGl6YXRpb25fcGVuYWx0eSA8IDAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFdlaWdodGVkUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcob2JqLmVuYWJsZV9vb2JfbG9hZF9yZXBvcnQsIHBhcnNlRHVyYXRpb25GaWVsZChvYmosICdvb2JfbG9hZF9yZXBvcnRpbmdfcGVyaW9kJyksIHBhcnNlRHVyYXRpb25GaWVsZChvYmosICdibGFja291dF9wZXJpb2QnKSwgcGFyc2VEdXJhdGlvbkZpZWxkKG9iaiwgJ3dlaWdodF9leHBpcmF0aW9uX3BlcmlvZCcpLCBwYXJzZUR1cmF0aW9uRmllbGQob2JqLCAnd2VpZ2h0X3VwZGF0ZV9wZXJpb2QnKSwgb2JqLmVycm9yX3V0aWxpemF0aW9uX3BlbmFsdHkpO1xuICAgIH1cbiAgICBnZXRFbmFibGVPb2JMb2FkUmVwb3J0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVPb2JMb2FkUmVwb3J0O1xuICAgIH1cbiAgICBnZXRPb2JMb2FkUmVwb3J0aW5nUGVyaW9kTXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9vYkxvYWRSZXBvcnRpbmdQZXJpb2RNcztcbiAgICB9XG4gICAgZ2V0QmxhY2tvdXRQZXJpb2RNcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxhY2tvdXRQZXJpb2RNcztcbiAgICB9XG4gICAgZ2V0V2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXM7XG4gICAgfVxuICAgIGdldFdlaWdodFVwZGF0ZVBlcmlvZE1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWlnaHRVcGRhdGVQZXJpb2RNcztcbiAgICB9XG4gICAgZ2V0RXJyb3JVdGlsaXphdGlvblBlbmFsdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yVXRpbGl6YXRpb25QZW5hbHR5O1xuICAgIH1cbn1cbmV4cG9ydHMuV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyA9IFdlaWdodGVkUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWc7XG5jbGFzcyBXZWlnaHRlZFJvdW5kUm9iaW5QaWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuLCBtZXRyaWNzSGFuZGxlcikge1xuICAgICAgICB0aGlzLm1ldHJpY3NIYW5kbGVyID0gbWV0cmljc0hhbmRsZXI7XG4gICAgICAgIHRoaXMucXVldWUgPSBuZXcgcHJpb3JpdHlfcXVldWVfMS5Qcmlvcml0eVF1ZXVlKChhLCBiKSA9PiBhLmRlYWRsaW5lIDwgYi5kZWFkbGluZSk7XG4gICAgICAgIGNvbnN0IHBvc2l0aXZlV2VpZ2h0ID0gY2hpbGRyZW4uZmlsdGVyKHBpY2tlciA9PiBwaWNrZXIud2VpZ2h0ID4gMCk7XG4gICAgICAgIGxldCBhdmVyYWdlV2VpZ2h0O1xuICAgICAgICBpZiAocG9zaXRpdmVXZWlnaHQubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgYXZlcmFnZVdlaWdodCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgd2VpZ2h0U3VtID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyB3ZWlnaHQgfSBvZiBwb3NpdGl2ZVdlaWdodCkge1xuICAgICAgICAgICAgICAgIHdlaWdodFN1bSArPSB3ZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdmVyYWdlV2VpZ2h0ID0gd2VpZ2h0U3VtIC8gcG9zaXRpdmVXZWlnaHQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHBlcmlvZCA9IGNoaWxkLndlaWdodCA+IDAgPyAxIC8gY2hpbGQud2VpZ2h0IDogYXZlcmFnZVdlaWdodDtcbiAgICAgICAgICAgIHRoaXMucXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgZW5kcG9pbnROYW1lOiBjaGlsZC5lbmRwb2ludE5hbWUsXG4gICAgICAgICAgICAgICAgcGlja2VyOiBjaGlsZC5waWNrZXIsXG4gICAgICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsXG4gICAgICAgICAgICAgICAgZGVhZGxpbmU6IE1hdGgucmFuZG9tKCkgKiBwZXJpb2RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLnF1ZXVlLnBvcCgpO1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBlbnRyeSksIHsgZGVhZGxpbmU6IGVudHJ5LmRlYWRsaW5lICsgZW50cnkucGVyaW9kIH0pKTtcbiAgICAgICAgY29uc3QgY2hpbGRQaWNrID0gZW50cnkucGlja2VyLnBpY2socGlja0FyZ3MpO1xuICAgICAgICBpZiAoY2hpbGRQaWNrLnBpY2tSZXN1bHRUeXBlID09PSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWV0cmljc0hhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjaGlsZFBpY2spLCB7IG9uQ2FsbEVuZGVkOiAoMCwgb3JjYV8xLmNyZWF0ZU1ldHJpY3NSZWFkZXIpKGxvYWRSZXBvcnQgPT4gdGhpcy5tZXRyaWNzSGFuZGxlcihsb2FkUmVwb3J0LCBlbnRyeS5lbmRwb2ludE5hbWUpLCBjaGlsZFBpY2sub25DYWxsRW5kZWQpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbFdyYXBwZXIgPSBjaGlsZFBpY2suc3ViY2hhbm5lbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjaGlsZFBpY2spLCB7IHN1YmNoYW5uZWw6IHN1YmNoYW5uZWxXcmFwcGVyLmdldFdyYXBwZWRTdWJjaGFubmVsKCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRQaWNrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLnVwZGF0ZXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLndlaWdodFVwZGF0ZVRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgY291bnRDaGlsZHJlbldpdGhTdGF0ZShzdGF0ZSkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuY2hpbGRyZW4udmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5jaGlsZC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PSBzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgIH1cbiAgICB1cGRhdGVXZWlnaHQoZW50cnksIGxvYWRSZXBvcnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgcXBzID0gbG9hZFJlcG9ydC5ycHNfZnJhY3Rpb25hbDtcbiAgICAgICAgbGV0IHV0aWxpemF0aW9uID0gbG9hZFJlcG9ydC5hcHBsaWNhdGlvbl91dGlsaXphdGlvbjtcbiAgICAgICAgaWYgKHV0aWxpemF0aW9uID4gMCAmJiBxcHMgPiAwKSB7XG4gICAgICAgICAgICB1dGlsaXphdGlvbiArPSAobG9hZFJlcG9ydC5lcHMgLyBxcHMpICogKChfYiA9IChfYSA9IHRoaXMubGF0ZXN0Q29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0RXJyb3JVdGlsaXphdGlvblBlbmFsdHkoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3V2VpZ2h0ID0gdXRpbGl6YXRpb24gPT09IDAgPyAwIDogcXBzIC8gdXRpbGl6YXRpb247XG4gICAgICAgIGlmIChuZXdXZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpZiAoZW50cnkubm9uRW1wdHlTaW5jZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZW50cnkubm9uRW1wdHlTaW5jZSA9IG5vdztcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5sYXN0VXBkYXRlZCA9IG5vdztcbiAgICAgICAgZW50cnkud2VpZ2h0ID0gbmV3V2VpZ2h0O1xuICAgIH1cbiAgICBnZXRXZWlnaHQoZW50cnkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGlmIChub3cgLSBlbnRyeS5sYXN0VXBkYXRlZC5nZXRUaW1lKCkgPj0gdGhpcy5sYXRlc3RDb25maWcuZ2V0V2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zKCkpIHtcbiAgICAgICAgICAgIGVudHJ5Lm5vbkVtcHR5U2luY2UgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmxhY2tvdXRQZXJpb2QgPSB0aGlzLmxhdGVzdENvbmZpZy5nZXRCbGFja291dFBlcmlvZE1zKCk7XG4gICAgICAgIGlmIChibGFja291dFBlcmlvZCA+IDAgJiYgKGVudHJ5Lm5vbkVtcHR5U2luY2UgPT09IG51bGwgfHwgbm93IC0gZW50cnkubm9uRW1wdHlTaW5jZS5nZXRUaW1lKCkgPCBibGFja291dFBlcmlvZCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnRyeS53ZWlnaHQ7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVzUGF1c2VkIHx8ICF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvdW50Q2hpbGRyZW5XaXRoU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgd2VpZ2h0ZWRQaWNrZXJzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbmRwb2ludCwgZW50cnldIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdlaWdodGVkUGlja2Vycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnROYW1lOiBlbmRwb2ludCxcbiAgICAgICAgICAgICAgICAgICAgcGlja2VyOiBlbnRyeS5jaGlsZC5nZXRQaWNrZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiB0aGlzLmdldFdlaWdodChlbnRyeSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKCdDcmVhdGVkIHBpY2tlciB3aXRoIHdlaWdodHM6ICcgKyB3ZWlnaHRlZFBpY2tlcnMubWFwKGVudHJ5ID0+IGVudHJ5LmVuZHBvaW50TmFtZSArICc6JyArIGVudHJ5LndlaWdodCkuam9pbignLCcpKTtcbiAgICAgICAgICAgIGxldCBtZXRyaWNzSGFuZGxlcjtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXRlc3RDb25maWcuZ2V0RW5hYmxlT29iTG9hZFJlcG9ydCgpKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljc0hhbmRsZXIgPSAobG9hZFJlcG9ydCwgZW5kcG9pbnROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRW50cnkgPSB0aGlzLmNoaWxkcmVuLmdldChlbmRwb2ludE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVXZWlnaHQoY2hpbGRFbnRyeSwgbG9hZFJlcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0cmljc0hhbmRsZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSwgbmV3IFdlaWdodGVkUm91bmRSb2JpblBpY2tlcih3ZWlnaHRlZFBpY2tlcnMsIG1ldHJpY3NIYW5kbGVyKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb3VudENoaWxkcmVuV2l0aFN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpID4gMCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgd2VpZ2h0ZWRfcm91bmRfcm9iaW46IE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9YDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogcm91bmRfcm9iaW4gc2hvdWxkIGtlZXAgYWxsIGNoaWxkcmVuIGNvbm5lY3RlZCwgdGhpcyBpcyBob3cgd2UgZG8gdGhhdC5cbiAgICAgICAgICAqIFdlIGNhbid0IGRvIHRoaXMgbW9yZSBlZmZpY2llbnRseSBpbiB0aGUgaW5kaXZpZHVhbCBjaGlsZCdzIHVwZGF0ZVN0YXRlXG4gICAgICAgICAgKiBjYWxsYmFjayBiZWNhdXNlIHRoYXQgZG9lc24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvIHdoaWNoIGNoaWxkIHRoZSBzdGF0ZVxuICAgICAgICAgICogY2hhbmdlIGlzIGFzc29jaWF0ZWQgd2l0aC4gKi9cbiAgICAgICAgZm9yIChjb25zdCB7IGNoaWxkIH0gb2YgdGhpcy5jaGlsZHJlbi52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5leGl0SWRsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICB0cmFjZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmN1cnJlbnRTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgdXBkYXRlQWRkcmVzc0xpc3QobWF5YmVFbmRwb2ludExpc3QsIGxiQ29uZmlnLCBvcHRpb25zLCByZXNvbHV0aW9uTm90ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIShsYkNvbmZpZyBpbnN0YW5jZW9mIFdlaWdodGVkUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXliZUVuZHBvaW50TGlzdC5vaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4uc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcihtYXliZUVuZHBvaW50TGlzdC5lcnJvciksIG1heWJlRW5kcG9pbnRMaXN0LmVycm9yLmRldGFpbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heWJlRW5kcG9pbnRMaXN0LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYE5vIGFkZHJlc3NlcyByZXNvbHZlZC4gUmVzb2x1dGlvbiBub3RlOiAke3Jlc29sdXRpb25Ob3RlfWA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoeyBkZXRhaWxzOiBlcnJvck1lc3NhZ2UgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ0Nvbm5lY3QgdG8gZW5kcG9pbnQgbGlzdCAnICsgbWF5YmVFbmRwb2ludExpc3QudmFsdWUubWFwKHN1YmNoYW5uZWxfYWRkcmVzc18xLmVuZHBvaW50VG9TdHJpbmcpKTtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3Qgc2VlbkVuZHBvaW50TmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnID0gbGJDb25maWc7XG4gICAgICAgIGZvciAoY29uc3QgZW5kcG9pbnQgb2YgbWF5YmVFbmRwb2ludExpc3QudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuZW5kcG9pbnRUb1N0cmluZykoZW5kcG9pbnQpO1xuICAgICAgICAgICAgc2VlbkVuZHBvaW50TmFtZXMuYWRkKG5hbWUpO1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy5jaGlsZHJlbi5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgICAgICAgICAgZW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkOiBuZXcgbG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0XzEuTGVhZkxvYWRCYWxhbmNlcihlbmRwb2ludCwgKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKSh0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEVuc3VyZSB0aGF0IG5hbWUgcmVzb2x1dGlvbiBpcyByZXF1ZXN0ZWQgYWdhaW4gYWZ0ZXIgYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGNvbm5lY3Rpb25zIGFyZSBkcm9wcGVkLiBUaGlzIGlzIG1vcmUgYWdncmVzc2l2ZSB0aGFuIG5lY2Vzc2FyeSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBhY2NvbXBsaXNoIHRoYXQsIHNvIHdlIGFyZSBjb3VudGluZyBvbiByZXNvbHZlcnMgdG8gaGF2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiByZWFzb25hYmxlIHJhdGUgbGltaXRzLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkgJiYgY29ubmVjdGl2aXR5U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIucmVxdWVzdFJlcmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5Lm5vbkVtcHR5U2luY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdEVycm9yID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlU3ViY2hhbm5lbDogKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWwgPSB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkgPT09IG51bGwgfHwgZW50cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVudHJ5Lm9vYk1ldHJpY3NMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IG9yY2FfMS5PcmNhT29iTWV0cmljc1N1YmNoYW5uZWxXcmFwcGVyKHN1YmNoYW5uZWwsIGVudHJ5Lm9vYk1ldHJpY3NMaXN0ZW5lciwgdGhpcy5sYXRlc3RDb25maWcuZ2V0T29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSwgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0VXBkYXRlZDogbm93LFxuICAgICAgICAgICAgICAgICAgICBub25FbXB0eVNpbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9vYk1ldHJpY3NMaXN0ZW5lcjogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zZXQobmFtZSwgZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxiQ29uZmlnLmdldEVuYWJsZU9vYkxvYWRSZXBvcnQoKSkge1xuICAgICAgICAgICAgICAgIGVudHJ5Lm9vYk1ldHJpY3NMaXN0ZW5lciA9IGxvYWRSZXBvcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVdlaWdodChlbnRyeSwgbG9hZFJlcG9ydCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVudHJ5Lm9vYk1ldHJpY3NMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbZW5kcG9pbnROYW1lLCBlbnRyeV0gb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKHNlZW5FbmRwb2ludE5hbWVzLmhhcyhlbmRwb2ludE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZW50cnkuY2hpbGQuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbnRyeS5jaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5kZWxldGUoZW5kcG9pbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRVcGRhdGVTdGF0ZSgpO1xuICAgICAgICBpZiAodGhpcy53ZWlnaHRVcGRhdGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLndlaWdodFVwZGF0ZVRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndlaWdodFVwZGF0ZVRpbWVyID0gKF9iID0gKF9hID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgbGJDb25maWcuZ2V0V2VpZ2h0VXBkYXRlUGVyaW9kTXMoKSkpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgLyogVGhlIHdlaWdodGVkX3JvdW5kX3JvYmluIExCIHBvbGljeSBpcyBvbmx5IGluIHRoZSBJRExFIHN0YXRlIGlmIGl0IGhhc1xuICAgICAgICAgKiBubyBhZGRyZXNzZXMgdG8gdHJ5IHRvIGNvbm5lY3QgdG8gYW5kIGl0IGhhcyBubyBwaWNrZWQgc3ViY2hhbm5lbC5cbiAgICAgICAgICogSW4gdGhhdCBjYXNlLCB0aGVyZSBpcyBubyBtZWFuaW5nZnVsIGFjdGlvbiB0aGF0IGNhbiBiZSB0YWtlbiBoZXJlLiAqL1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIC8vIFRoaXMgTEIgcG9saWN5IGhhcyBubyBiYWNrb2ZmIHRvIHJlc2V0XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5jaGlsZHJlbi52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZW50cnkuY2hpbGQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcbiAgICAgICAgaWYgKHRoaXMud2VpZ2h0VXBkYXRlVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy53ZWlnaHRVcGRhdGVUaW1lcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIGxvYWRfYmFsYW5jZXJfMS5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUpKFRZUEVfTkFNRSwgV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2VyLCBXZWlnaHRlZFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWQtYmFsYW5jZXItd2VpZ2h0ZWQtcm91bmQtcm9iaW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-weighted-round-robin.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createChildChannelControlHelper = createChildChannelControlHelper;\nexports.registerLoadBalancerType = registerLoadBalancerType;\nexports.registerDefaultLoadBalancerType = registerDefaultLoadBalancerType;\nexports.createLoadBalancer = createLoadBalancer;\nexports.isLoadBalancerNameRegistered = isLoadBalancerNameRegistered;\nexports.parseLoadBalancingConfig = parseLoadBalancingConfig;\nexports.getDefaultConfig = getDefaultConfig;\nexports.selectLbConfigFromList = selectLbConfigFromList;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Create a child ChannelControlHelper that overrides some methods of the\n * parent while letting others pass through to the parent unmodified. This\n * allows other code to create these children without needing to know about\n * all of the methods to be passed through.\n * @param parent\n * @param overrides\n */\nfunction createChildChannelControlHelper(parent, overrides) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    return {\n        createSubchannel: (_b = (_a = overrides.createSubchannel) === null || _a === void 0 ? void 0 : _a.bind(overrides)) !== null && _b !== void 0 ? _b : parent.createSubchannel.bind(parent),\n        updateState: (_d = (_c = overrides.updateState) === null || _c === void 0 ? void 0 : _c.bind(overrides)) !== null && _d !== void 0 ? _d : parent.updateState.bind(parent),\n        requestReresolution: (_f = (_e = overrides.requestReresolution) === null || _e === void 0 ? void 0 : _e.bind(overrides)) !== null && _f !== void 0 ? _f : parent.requestReresolution.bind(parent),\n        addChannelzChild: (_h = (_g = overrides.addChannelzChild) === null || _g === void 0 ? void 0 : _g.bind(overrides)) !== null && _h !== void 0 ? _h : parent.addChannelzChild.bind(parent),\n        removeChannelzChild: (_k = (_j = overrides.removeChannelzChild) === null || _j === void 0 ? void 0 : _j.bind(overrides)) !== null && _k !== void 0 ? _k : parent.removeChannelzChild.bind(parent),\n    };\n}\nconst registeredLoadBalancerTypes = {};\nlet defaultLoadBalancerType = null;\nfunction registerLoadBalancerType(typeName, loadBalancerType, loadBalancingConfigType) {\n    registeredLoadBalancerTypes[typeName] = {\n        LoadBalancer: loadBalancerType,\n        LoadBalancingConfig: loadBalancingConfigType,\n    };\n}\nfunction registerDefaultLoadBalancerType(typeName) {\n    defaultLoadBalancerType = typeName;\n}\nfunction createLoadBalancer(config, channelControlHelper) {\n    const typeName = config.getLoadBalancerName();\n    if (typeName in registeredLoadBalancerTypes) {\n        return new registeredLoadBalancerTypes[typeName].LoadBalancer(channelControlHelper);\n    }\n    else {\n        return null;\n    }\n}\nfunction isLoadBalancerNameRegistered(typeName) {\n    return typeName in registeredLoadBalancerTypes;\n}\nfunction parseLoadBalancingConfig(rawConfig) {\n    const keys = Object.keys(rawConfig);\n    if (keys.length !== 1) {\n        throw new Error('Provided load balancing config has multiple conflicting entries');\n    }\n    const typeName = keys[0];\n    if (typeName in registeredLoadBalancerTypes) {\n        try {\n            return registeredLoadBalancerTypes[typeName].LoadBalancingConfig.createFromJson(rawConfig[typeName]);\n        }\n        catch (e) {\n            throw new Error(`${typeName}: ${e.message}`);\n        }\n    }\n    else {\n        throw new Error(`Unrecognized load balancing config name ${typeName}`);\n    }\n}\nfunction getDefaultConfig() {\n    if (!defaultLoadBalancerType) {\n        throw new Error('No default load balancer type registered');\n    }\n    return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n}\nfunction selectLbConfigFromList(configs, fallbackTodefault = false) {\n    for (const config of configs) {\n        try {\n            return parseLoadBalancingConfig(config);\n        }\n        catch (e) {\n            (0, logging_1.log)(constants_1.LogVerbosity.DEBUG, 'Config parsing failed with error', e.message);\n            continue;\n        }\n    }\n    if (fallbackTodefault) {\n        if (defaultLoadBalancerType) {\n            return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        return null;\n    }\n}\n//# sourceMappingURL=load-balancer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVDQUF1QztBQUN2QyxnQ0FBZ0M7QUFDaEMsdUNBQXVDO0FBQ3ZDLDBCQUEwQjtBQUMxQixvQ0FBb0M7QUFDcEMsZ0NBQWdDO0FBQ2hDLHdCQUF3QjtBQUN4Qiw4QkFBOEI7QUFDOUIsa0JBQWtCLG1CQUFPLENBQUMsa0dBQVc7QUFDckMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsU0FBUyxJQUFJLFVBQVU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLFNBQVM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci5qcz80NGYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIgPSBjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyO1xuZXhwb3J0cy5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUgPSByZWdpc3RlckxvYWRCYWxhbmNlclR5cGU7XG5leHBvcnRzLnJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSByZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlO1xuZXhwb3J0cy5jcmVhdGVMb2FkQmFsYW5jZXIgPSBjcmVhdGVMb2FkQmFsYW5jZXI7XG5leHBvcnRzLmlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQgPSBpc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkO1xuZXhwb3J0cy5wYXJzZUxvYWRCYWxhbmNpbmdDb25maWcgPSBwYXJzZUxvYWRCYWxhbmNpbmdDb25maWc7XG5leHBvcnRzLmdldERlZmF1bHRDb25maWcgPSBnZXREZWZhdWx0Q29uZmlnO1xuZXhwb3J0cy5zZWxlY3RMYkNvbmZpZ0Zyb21MaXN0ID0gc2VsZWN0TGJDb25maWdGcm9tTGlzdDtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogQ3JlYXRlIGEgY2hpbGQgQ2hhbm5lbENvbnRyb2xIZWxwZXIgdGhhdCBvdmVycmlkZXMgc29tZSBtZXRob2RzIG9mIHRoZVxuICogcGFyZW50IHdoaWxlIGxldHRpbmcgb3RoZXJzIHBhc3MgdGhyb3VnaCB0byB0aGUgcGFyZW50IHVubW9kaWZpZWQuIFRoaXNcbiAqIGFsbG93cyBvdGhlciBjb2RlIHRvIGNyZWF0ZSB0aGVzZSBjaGlsZHJlbiB3aXRob3V0IG5lZWRpbmcgdG8ga25vdyBhYm91dFxuICogYWxsIG9mIHRoZSBtZXRob2RzIHRvIGJlIHBhc3NlZCB0aHJvdWdoLlxuICogQHBhcmFtIHBhcmVudFxuICogQHBhcmFtIG92ZXJyaWRlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKHBhcmVudCwgb3ZlcnJpZGVzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChfYiA9IChfYSA9IG92ZXJyaWRlcy5jcmVhdGVTdWJjaGFubmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBwYXJlbnQuY3JlYXRlU3ViY2hhbm5lbC5iaW5kKHBhcmVudCksXG4gICAgICAgIHVwZGF0ZVN0YXRlOiAoX2QgPSAoX2MgPSBvdmVycmlkZXMudXBkYXRlU3RhdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHBhcmVudC51cGRhdGVTdGF0ZS5iaW5kKHBhcmVudCksXG4gICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb246IChfZiA9IChfZSA9IG92ZXJyaWRlcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBwYXJlbnQucmVxdWVzdFJlcmVzb2x1dGlvbi5iaW5kKHBhcmVudCksXG4gICAgICAgIGFkZENoYW5uZWx6Q2hpbGQ6IChfaCA9IChfZyA9IG92ZXJyaWRlcy5hZGRDaGFubmVsekNoaWxkKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBwYXJlbnQuYWRkQ2hhbm5lbHpDaGlsZC5iaW5kKHBhcmVudCksXG4gICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IChfayA9IChfaiA9IG92ZXJyaWRlcy5yZW1vdmVDaGFubmVsekNoaWxkKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiBwYXJlbnQucmVtb3ZlQ2hhbm5lbHpDaGlsZC5iaW5kKHBhcmVudCksXG4gICAgfTtcbn1cbmNvbnN0IHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcyA9IHt9O1xubGV0IGRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlID0gbnVsbDtcbmZ1bmN0aW9uIHJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSh0eXBlTmFtZSwgbG9hZEJhbGFuY2VyVHlwZSwgbG9hZEJhbGFuY2luZ0NvbmZpZ1R5cGUpIHtcbiAgICByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdID0ge1xuICAgICAgICBMb2FkQmFsYW5jZXI6IGxvYWRCYWxhbmNlclR5cGUsXG4gICAgICAgIExvYWRCYWxhbmNpbmdDb25maWc6IGxvYWRCYWxhbmNpbmdDb25maWdUeXBlLFxuICAgIH07XG59XG5mdW5jdGlvbiByZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlKHR5cGVOYW1lKSB7XG4gICAgZGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSB0eXBlTmFtZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvYWRCYWxhbmNlcihjb25maWcsIGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgY29uc3QgdHlwZU5hbWUgPSBjb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpO1xuICAgIGlmICh0eXBlTmFtZSBpbiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdLkxvYWRCYWxhbmNlcihjaGFubmVsQ29udHJvbEhlbHBlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkKHR5cGVOYW1lKSB7XG4gICAgcmV0dXJuIHR5cGVOYW1lIGluIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcztcbn1cbmZ1bmN0aW9uIHBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZyhyYXdDb25maWcpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmF3Q29uZmlnKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBsb2FkIGJhbGFuY2luZyBjb25maWcgaGFzIG11bHRpcGxlIGNvbmZsaWN0aW5nIGVudHJpZXMnKTtcbiAgICB9XG4gICAgY29uc3QgdHlwZU5hbWUgPSBrZXlzWzBdO1xuICAgIGlmICh0eXBlTmFtZSBpbiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdLkxvYWRCYWxhbmNpbmdDb25maWcuY3JlYXRlRnJvbUpzb24ocmF3Q29uZmlnW3R5cGVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0eXBlTmFtZX06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBsb2FkIGJhbGFuY2luZyBjb25maWcgbmFtZSAke3R5cGVOYW1lfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRDb25maWcoKSB7XG4gICAgaWYgKCFkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRlZmF1bHQgbG9hZCBiYWxhbmNlciB0eXBlIHJlZ2lzdGVyZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbZGVmYXVsdExvYWRCYWxhbmNlclR5cGVdLkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbn1cbmZ1bmN0aW9uIHNlbGVjdExiQ29uZmlnRnJvbUxpc3QoY29uZmlncywgZmFsbGJhY2tUb2RlZmF1bHQgPSBmYWxzZSkge1xuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUxvYWRCYWxhbmNpbmdDb25maWcoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ0NvbmZpZyBwYXJzaW5nIGZhaWxlZCB3aXRoIGVycm9yJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmYWxsYmFja1RvZGVmYXVsdCkge1xuICAgICAgICBpZiAoZGVmYXVsdExvYWRCYWxhbmNlclR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzW2RlZmF1bHRMb2FkQmFsYW5jZXJUeXBlXS5Mb2FkQmFsYW5jaW5nQ29uZmlnKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LoadBalancingCall = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst TRACER_NAME = 'load_balancing_call';\nclass LoadBalancingCall {\n    constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber) {\n        var _a, _b;\n        this.channel = channel;\n        this.callConfig = callConfig;\n        this.methodName = methodName;\n        this.host = host;\n        this.credentials = credentials;\n        this.deadline = deadline;\n        this.callNumber = callNumber;\n        this.child = null;\n        this.readPending = false;\n        this.pendingMessage = null;\n        this.pendingHalfClose = false;\n        this.ended = false;\n        this.metadata = null;\n        this.listener = null;\n        this.onCallEnded = null;\n        this.childStartTime = null;\n        const splitPath = this.methodName.split('/');\n        let serviceName = '';\n        /* The standard path format is \"/{serviceName}/{methodName}\", so if we split\n         * by '/', the first item should be empty and the second should be the\n         * service name */\n        if (splitPath.length >= 2) {\n            serviceName = splitPath[1];\n        }\n        const hostname = (_b = (_a = (0, uri_parser_1.splitHostPort)(this.host)) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : 'localhost';\n        /* Currently, call credentials are only allowed on HTTPS connections, so we\n         * can assume that the scheme is \"https\" */\n        this.serviceUrl = `https://${hostname}/${serviceName}`;\n        this.startTime = new Date();\n    }\n    getDeadlineInfo() {\n        var _a, _b;\n        const deadlineInfo = [];\n        if (this.childStartTime) {\n            if (this.childStartTime > this.startTime) {\n                if ((_a = this.metadata) === null || _a === void 0 ? void 0 : _a.getOptions().waitForReady) {\n                    deadlineInfo.push('wait_for_ready');\n                }\n                deadlineInfo.push(`LB pick: ${(0, deadline_1.formatDateDifference)(this.startTime, this.childStartTime)}`);\n            }\n            deadlineInfo.push(...this.child.getDeadlineInfo());\n            return deadlineInfo;\n        }\n        else {\n            if ((_b = this.metadata) === null || _b === void 0 ? void 0 : _b.getOptions().waitForReady) {\n                deadlineInfo.push('wait_for_ready');\n            }\n            deadlineInfo.push('Waiting for LB pick');\n        }\n        return deadlineInfo;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    outputStatus(status, progress) {\n        var _a, _b;\n        if (!this.ended) {\n            this.ended = true;\n            this.trace('ended with status: code=' +\n                status.code +\n                ' details=\"' +\n                status.details +\n                '\" start time=' +\n                this.startTime.toISOString());\n            const finalStatus = Object.assign(Object.assign({}, status), { progress });\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(finalStatus);\n            (_b = this.onCallEnded) === null || _b === void 0 ? void 0 : _b.call(this, finalStatus.code, finalStatus.details, finalStatus.metadata);\n        }\n    }\n    doPick() {\n        var _a, _b;\n        if (this.ended) {\n            return;\n        }\n        if (!this.metadata) {\n            throw new Error('doPick called before start');\n        }\n        this.trace('Pick called');\n        const finalMetadata = this.metadata.clone();\n        const pickResult = this.channel.doPick(finalMetadata, this.callConfig.pickInformation);\n        const subchannelString = pickResult.subchannel\n            ? '(' +\n                pickResult.subchannel.getChannelzRef().id +\n                ') ' +\n                pickResult.subchannel.getAddress()\n            : '' + pickResult.subchannel;\n        this.trace('Pick result: ' +\n            picker_1.PickResultType[pickResult.pickResultType] +\n            ' subchannel: ' +\n            subchannelString +\n            ' status: ' +\n            ((_a = pickResult.status) === null || _a === void 0 ? void 0 : _a.code) +\n            ' ' +\n            ((_b = pickResult.status) === null || _b === void 0 ? void 0 : _b.details));\n        switch (pickResult.pickResultType) {\n            case picker_1.PickResultType.COMPLETE:\n                const combinedCallCredentials = this.credentials.compose(pickResult.subchannel.getCallCredentials());\n                combinedCallCredentials\n                    .generateMetadata({ method_name: this.methodName, service_url: this.serviceUrl })\n                    .then(credsMetadata => {\n                    var _a;\n                    /* If this call was cancelled (e.g. by the deadline) before\n                     * metadata generation finished, we shouldn't do anything with\n                     * it. */\n                    if (this.ended) {\n                        this.trace('Credentials metadata generation finished after call ended');\n                        return;\n                    }\n                    finalMetadata.merge(credsMetadata);\n                    if (finalMetadata.get('authorization').length > 1) {\n                        this.outputStatus({\n                            code: constants_1.Status.INTERNAL,\n                            details: '\"authorization\" metadata cannot have multiple values',\n                            metadata: new metadata_1.Metadata(),\n                        }, 'PROCESSED');\n                    }\n                    if (pickResult.subchannel.getConnectivityState() !==\n                        connectivity_state_1.ConnectivityState.READY) {\n                        this.trace('Picked subchannel ' +\n                            subchannelString +\n                            ' has state ' +\n                            connectivity_state_1.ConnectivityState[pickResult.subchannel.getConnectivityState()] +\n                            ' after getting credentials metadata. Retrying pick');\n                        this.doPick();\n                        return;\n                    }\n                    if (this.deadline !== Infinity) {\n                        finalMetadata.set('grpc-timeout', (0, deadline_1.getDeadlineTimeoutString)(this.deadline));\n                    }\n                    try {\n                        this.child = pickResult\n                            .subchannel.getRealSubchannel()\n                            .createCall(finalMetadata, this.host, this.methodName, {\n                            onReceiveMetadata: metadata => {\n                                this.trace('Received metadata');\n                                this.listener.onReceiveMetadata(metadata);\n                            },\n                            onReceiveMessage: message => {\n                                this.trace('Received message');\n                                this.listener.onReceiveMessage(message);\n                            },\n                            onReceiveStatus: status => {\n                                this.trace('Received status');\n                                if (status.rstCode ===\n                                    http2.constants.NGHTTP2_REFUSED_STREAM) {\n                                    this.outputStatus(status, 'REFUSED');\n                                }\n                                else {\n                                    this.outputStatus(status, 'PROCESSED');\n                                }\n                            },\n                        });\n                        this.childStartTime = new Date();\n                    }\n                    catch (error) {\n                        this.trace('Failed to start call on picked subchannel ' +\n                            subchannelString +\n                            ' with error ' +\n                            error.message);\n                        this.outputStatus({\n                            code: constants_1.Status.INTERNAL,\n                            details: 'Failed to start HTTP/2 stream with error ' +\n                                error.message,\n                            metadata: new metadata_1.Metadata(),\n                        }, 'NOT_STARTED');\n                        return;\n                    }\n                    (_a = pickResult.onCallStarted) === null || _a === void 0 ? void 0 : _a.call(pickResult);\n                    this.onCallEnded = pickResult.onCallEnded;\n                    this.trace('Created child call [' + this.child.getCallNumber() + ']');\n                    if (this.readPending) {\n                        this.child.startRead();\n                    }\n                    if (this.pendingMessage) {\n                        this.child.sendMessageWithContext(this.pendingMessage.context, this.pendingMessage.message);\n                    }\n                    if (this.pendingHalfClose) {\n                        this.child.halfClose();\n                    }\n                }, (error) => {\n                    // We assume the error code isn't 0 (Status.OK)\n                    const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(typeof error.code === 'number' ? error.code : constants_1.Status.UNKNOWN, `Getting metadata from plugin failed with error: ${error.message}`);\n                    this.outputStatus({\n                        code: code,\n                        details: details,\n                        metadata: new metadata_1.Metadata(),\n                    }, 'PROCESSED');\n                });\n                break;\n            case picker_1.PickResultType.DROP:\n                const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n                setImmediate(() => {\n                    this.outputStatus({ code, details, metadata: pickResult.status.metadata }, 'DROP');\n                });\n                break;\n            case picker_1.PickResultType.TRANSIENT_FAILURE:\n                if (this.metadata.getOptions().waitForReady) {\n                    this.channel.queueCallForPick(this);\n                }\n                else {\n                    const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n                    setImmediate(() => {\n                        this.outputStatus({ code, details, metadata: pickResult.status.metadata }, 'PROCESSED');\n                    });\n                }\n                break;\n            case picker_1.PickResultType.QUEUE:\n                this.channel.queueCallForPick(this);\n        }\n    }\n    cancelWithStatus(status, details) {\n        var _a;\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n        this.outputStatus({ code: status, details: details, metadata: new metadata_1.Metadata() }, 'PROCESSED');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.listener = listener;\n        this.metadata = metadata;\n        this.doPick();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        if (this.child) {\n            this.child.sendMessageWithContext(context, message);\n        }\n        else {\n            this.pendingMessage = { context, message };\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        if (this.child) {\n            this.child.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        if (this.child) {\n            this.child.halfClose();\n        }\n        else {\n            this.pendingHalfClose = true;\n        }\n    }\n    setCredentials(credentials) {\n        throw new Error('Method not implemented.');\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n    getAuthContext() {\n        if (this.child) {\n            return this.child.getAuthContext();\n        }\n        else {\n            return null;\n        }\n    }\n}\nexports.LoadBalancingCall = LoadBalancingCall;\n//# sourceMappingURL=load-balancing-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNpbmctY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QjtBQUN6Qiw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0Qsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsaUJBQWlCLG1CQUFPLENBQUMsZ0dBQVU7QUFDbkMscUJBQXFCLG1CQUFPLENBQUMsd0dBQWM7QUFDM0MsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsK0JBQStCLG1CQUFPLENBQUMsNEhBQXdCO0FBQy9ELGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxZQUFZLEVBQUUsV0FBVztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFNBQVMsR0FBRyxZQUFZO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDBFQUEwRTtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxhQUFhLFVBQVU7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDREQUE0RDtBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNEJBQTRCLGdCQUFnQiwwTEFBMEwsY0FBYztBQUNwUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQSx3Q0FBd0MscURBQXFEO0FBQzdGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0EsNENBQTRDLHFEQUFxRDtBQUNqRyxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQXFFO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2luZy1jYWxsLmpzPzU0OGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9hZEJhbGFuY2luZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZGVhZGxpbmVfMSA9IHJlcXVpcmUoXCIuL2RlYWRsaW5lXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb250cm9sX3BsYW5lX3N0YXR1c18xID0gcmVxdWlyZShcIi4vY29udHJvbC1wbGFuZS1zdGF0dXNcIik7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2xvYWRfYmFsYW5jaW5nX2NhbGwnO1xuY2xhc3MgTG9hZEJhbGFuY2luZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWwsIGNhbGxDb25maWcsIG1ldGhvZE5hbWUsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLmNhbGxDb25maWcgPSBjYWxsQ29uZmlnO1xuICAgICAgICB0aGlzLm1ldGhvZE5hbWUgPSBtZXRob2ROYW1lO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBkZWFkbGluZTtcbiAgICAgICAgdGhpcy5jYWxsTnVtYmVyID0gY2FsbE51bWJlcjtcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkNhbGxFbmRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICBjb25zdCBzcGxpdFBhdGggPSB0aGlzLm1ldGhvZE5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IHNlcnZpY2VOYW1lID0gJyc7XG4gICAgICAgIC8qIFRoZSBzdGFuZGFyZCBwYXRoIGZvcm1hdCBpcyBcIi97c2VydmljZU5hbWV9L3ttZXRob2ROYW1lfVwiLCBzbyBpZiB3ZSBzcGxpdFxuICAgICAgICAgKiBieSAnLycsIHRoZSBmaXJzdCBpdGVtIHNob3VsZCBiZSBlbXB0eSBhbmQgdGhlIHNlY29uZCBzaG91bGQgYmUgdGhlXG4gICAgICAgICAqIHNlcnZpY2UgbmFtZSAqL1xuICAgICAgICBpZiAoc3BsaXRQYXRoLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBzZXJ2aWNlTmFtZSA9IHNwbGl0UGF0aFsxXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob3N0bmFtZSA9IChfYiA9IChfYSA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkodGhpcy5ob3N0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhvc3QpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdsb2NhbGhvc3QnO1xuICAgICAgICAvKiBDdXJyZW50bHksIGNhbGwgY3JlZGVudGlhbHMgYXJlIG9ubHkgYWxsb3dlZCBvbiBIVFRQUyBjb25uZWN0aW9ucywgc28gd2VcbiAgICAgICAgICogY2FuIGFzc3VtZSB0aGF0IHRoZSBzY2hlbWUgaXMgXCJodHRwc1wiICovXG4gICAgICAgIHRoaXMuc2VydmljZVVybCA9IGBodHRwczovLyR7aG9zdG5hbWV9LyR7c2VydmljZU5hbWV9YDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGRlYWRsaW5lSW5mbyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5jaGlsZFN0YXJ0VGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRTdGFydFRpbWUgPiB0aGlzLnN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIGlmICgoX2EgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0T3B0aW9ucygpLndhaXRGb3JSZWFkeSkge1xuICAgICAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaCgnd2FpdF9mb3JfcmVhZHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYExCIHBpY2s6ICR7KDAsIGRlYWRsaW5lXzEuZm9ybWF0RGF0ZURpZmZlcmVuY2UpKHRoaXMuc3RhcnRUaW1lLCB0aGlzLmNoaWxkU3RhcnRUaW1lKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKC4uLnRoaXMuY2hpbGQuZ2V0RGVhZGxpbmVJbmZvKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlYWRsaW5lSW5mbztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoX2IgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0T3B0aW9ucygpLndhaXRGb3JSZWFkeSkge1xuICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCd3YWl0X2Zvcl9yZWFkeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goJ1dhaXRpbmcgZm9yIExCIHBpY2snKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVhZGxpbmVJbmZvO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICBvdXRwdXRTdGF0dXMoc3RhdHVzLCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgc3RhdHVzLmNvZGUgK1xuICAgICAgICAgICAgICAgICcgZGV0YWlscz1cIicgK1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kZXRhaWxzICtcbiAgICAgICAgICAgICAgICAnXCIgc3RhcnQgdGltZT0nICtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsU3RhdHVzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMpLCB7IHByb2dyZXNzIH0pO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uUmVjZWl2ZVN0YXR1cyhmaW5hbFN0YXR1cyk7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLm9uQ2FsbEVuZGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbCh0aGlzLCBmaW5hbFN0YXR1cy5jb2RlLCBmaW5hbFN0YXR1cy5kZXRhaWxzLCBmaW5hbFN0YXR1cy5tZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9QaWNrKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb1BpY2sgY2FsbGVkIGJlZm9yZSBzdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2UoJ1BpY2sgY2FsbGVkJyk7XG4gICAgICAgIGNvbnN0IGZpbmFsTWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHBpY2tSZXN1bHQgPSB0aGlzLmNoYW5uZWwuZG9QaWNrKGZpbmFsTWV0YWRhdGEsIHRoaXMuY2FsbENvbmZpZy5waWNrSW5mb3JtYXRpb24pO1xuICAgICAgICBjb25zdCBzdWJjaGFubmVsU3RyaW5nID0gcGlja1Jlc3VsdC5zdWJjaGFubmVsXG4gICAgICAgICAgICA/ICcoJyArXG4gICAgICAgICAgICAgICAgcGlja1Jlc3VsdC5zdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkuaWQgK1xuICAgICAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgICAgIHBpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRBZGRyZXNzKClcbiAgICAgICAgICAgIDogJycgKyBwaWNrUmVzdWx0LnN1YmNoYW5uZWw7XG4gICAgICAgIHRoaXMudHJhY2UoJ1BpY2sgcmVzdWx0OiAnICtcbiAgICAgICAgICAgIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlW3BpY2tSZXN1bHQucGlja1Jlc3VsdFR5cGVdICtcbiAgICAgICAgICAgICcgc3ViY2hhbm5lbDogJyArXG4gICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICcgc3RhdHVzOiAnICtcbiAgICAgICAgICAgICgoX2EgPSBwaWNrUmVzdWx0LnN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvZGUpICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAoKF9iID0gcGlja1Jlc3VsdC5zdGF0dXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZXRhaWxzKSk7XG4gICAgICAgIHN3aXRjaCAocGlja1Jlc3VsdC5waWNrUmVzdWx0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURTpcbiAgICAgICAgICAgICAgICBjb25zdCBjb21iaW5lZENhbGxDcmVkZW50aWFscyA9IHRoaXMuY3JlZGVudGlhbHMuY29tcG9zZShwaWNrUmVzdWx0LnN1YmNoYW5uZWwuZ2V0Q2FsbENyZWRlbnRpYWxzKCkpO1xuICAgICAgICAgICAgICAgIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzXG4gICAgICAgICAgICAgICAgICAgIC5nZW5lcmF0ZU1ldGFkYXRhKHsgbWV0aG9kX25hbWU6IHRoaXMubWV0aG9kTmFtZSwgc2VydmljZV91cmw6IHRoaXMuc2VydmljZVVybCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihjcmVkc01ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGlzIGNhbGwgd2FzIGNhbmNlbGxlZCAoZS5nLiBieSB0aGUgZGVhZGxpbmUpIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAgKiBtZXRhZGF0YSBnZW5lcmF0aW9uIGZpbmlzaGVkLCB3ZSBzaG91bGRuJ3QgZG8gYW55dGhpbmcgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgKiBpdC4gKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWRlbnRpYWxzIG1ldGFkYXRhIGdlbmVyYXRpb24gZmluaXNoZWQgYWZ0ZXIgY2FsbCBlbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWV0YWRhdGEubWVyZ2UoY3JlZHNNZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbE1ldGFkYXRhLmdldCgnYXV0aG9yaXphdGlvbicpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ1wiYXV0aG9yaXphdGlvblwiIG1ldGFkYXRhIGNhbm5vdCBoYXZlIG11bHRpcGxlIHZhbHVlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1BpY2tlZCBzdWJjaGFubmVsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxTdHJpbmcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgaGFzIHN0YXRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3BpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBhZnRlciBnZXR0aW5nIGNyZWRlbnRpYWxzIG1ldGFkYXRhLiBSZXRyeWluZyBwaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvUGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYWRsaW5lICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNZXRhZGF0YS5zZXQoJ2dycGMtdGltZW91dCcsICgwLCBkZWFkbGluZV8xLmdldERlYWRsaW5lVGltZW91dFN0cmluZykodGhpcy5kZWFkbGluZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkID0gcGlja1Jlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJjaGFubmVsLmdldFJlYWxTdWJjaGFubmVsKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3JlYXRlQ2FsbChmaW5hbE1ldGFkYXRhLCB0aGlzLmhvc3QsIHRoaXMubWV0aG9kTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogbWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5yc3RDb2RlID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfUkVGVVNFRF9TVFJFQU0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHN0YXR1cywgJ1JFRlVTRUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHN0YXR1cywgJ1BST0NFU1NFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdGYWlsZWQgdG8gc3RhcnQgY2FsbCBvbiBwaWNrZWQgc3ViY2hhbm5lbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdGYWlsZWQgdG8gc3RhcnQgSFRUUC8yIHN0cmVhbSB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ05PVF9TVEFSVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gcGlja1Jlc3VsdC5vbkNhbGxTdGFydGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwaWNrUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNhbGxFbmRlZCA9IHBpY2tSZXN1bHQub25DYWxsRW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWF0ZWQgY2hpbGQgY2FsbCBbJyArIHRoaXMuY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZFBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhlIGVycm9yIGNvZGUgaXNuJ3QgMCAoU3RhdHVzLk9LKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkodHlwZW9mIGVycm9yLmNvZGUgPT09ICdudW1iZXInID8gZXJyb3IuY29kZSA6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLCBgR2V0dGluZyBtZXRhZGF0YSBmcm9tIHBsdWdpbiBmYWlsZWQgd2l0aCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLkRST1A6XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHBpY2tSZXN1bHQuc3RhdHVzLmNvZGUsIHBpY2tSZXN1bHQuc3RhdHVzLmRldGFpbHMpO1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHsgY29kZSwgZGV0YWlscywgbWV0YWRhdGE6IHBpY2tSZXN1bHQuc3RhdHVzLm1ldGFkYXRhIH0sICdEUk9QJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLlRSQU5TSUVOVF9GQUlMVVJFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvclBpY2sodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkocGlja1Jlc3VsdC5zdGF0dXMuY29kZSwgcGlja1Jlc3VsdC5zdGF0dXMuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7IGNvZGUsIGRldGFpbHMsIG1ldGFkYXRhOiBwaWNrUmVzdWx0LnN0YXR1cy5tZXRhZGF0YSB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuUVVFVUU6XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvclBpY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnRyYWNlKCdjYW5jZWxXaXRoU3RhdHVzIGNvZGU6ICcgKyBzdGF0dXMgKyAnIGRldGFpbHM6IFwiJyArIGRldGFpbHMgKyAnXCInKTtcbiAgICAgICAgKF9hID0gdGhpcy5jaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKTtcbiAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoeyBjb2RlOiBzdGF0dXMsIGRldGFpbHM6IGRldGFpbHMsIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpIH0sICdQUk9DRVNTRUQnKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuY2hhbm5lbC5nZXRUYXJnZXQoKTtcbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0IGNhbGxlZCcpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5kb1BpY2soKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSB7IGNvbnRleHQsIG1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0Q2FsbE51bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbE51bWJlcjtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRBdXRoQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkxvYWRCYWxhbmNpbmdDYWxsID0gTG9hZEJhbGFuY2luZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2luZy1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.log = exports.setLoggerVerbosity = exports.setLogger = exports.getLogger = void 0;\nexports.trace = trace;\nexports.isTracerEnabled = isTracerEnabled;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst process_1 = __webpack_require__(/*! process */ \"process\");\nconst clientVersion = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json\").version);\nconst DEFAULT_LOGGER = {\n    error: (message, ...optionalParams) => {\n        console.error('E ' + message, ...optionalParams);\n    },\n    info: (message, ...optionalParams) => {\n        console.error('I ' + message, ...optionalParams);\n    },\n    debug: (message, ...optionalParams) => {\n        console.error('D ' + message, ...optionalParams);\n    },\n};\nlet _logger = DEFAULT_LOGGER;\nlet _logVerbosity = constants_1.LogVerbosity.ERROR;\nconst verbosityString = (_b = (_a = process.env.GRPC_NODE_VERBOSITY) !== null && _a !== void 0 ? _a : process.env.GRPC_VERBOSITY) !== null && _b !== void 0 ? _b : '';\nswitch (verbosityString.toUpperCase()) {\n    case 'DEBUG':\n        _logVerbosity = constants_1.LogVerbosity.DEBUG;\n        break;\n    case 'INFO':\n        _logVerbosity = constants_1.LogVerbosity.INFO;\n        break;\n    case 'ERROR':\n        _logVerbosity = constants_1.LogVerbosity.ERROR;\n        break;\n    case 'NONE':\n        _logVerbosity = constants_1.LogVerbosity.NONE;\n        break;\n    default:\n    // Ignore any other values\n}\nconst getLogger = () => {\n    return _logger;\n};\nexports.getLogger = getLogger;\nconst setLogger = (logger) => {\n    _logger = logger;\n};\nexports.setLogger = setLogger;\nconst setLoggerVerbosity = (verbosity) => {\n    _logVerbosity = verbosity;\n};\nexports.setLoggerVerbosity = setLoggerVerbosity;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst log = (severity, ...args) => {\n    let logFunction;\n    if (severity >= _logVerbosity) {\n        switch (severity) {\n            case constants_1.LogVerbosity.DEBUG:\n                logFunction = _logger.debug;\n                break;\n            case constants_1.LogVerbosity.INFO:\n                logFunction = _logger.info;\n                break;\n            case constants_1.LogVerbosity.ERROR:\n                logFunction = _logger.error;\n                break;\n        }\n        /* Fall back to _logger.error when other methods are not available for\n         * compatiblity with older behavior that always logged to _logger.error */\n        if (!logFunction) {\n            logFunction = _logger.error;\n        }\n        if (logFunction) {\n            logFunction.bind(_logger)(...args);\n        }\n    }\n};\nexports.log = log;\nconst tracersString = (_d = (_c = process.env.GRPC_NODE_TRACE) !== null && _c !== void 0 ? _c : process.env.GRPC_TRACE) !== null && _d !== void 0 ? _d : '';\nconst enabledTracers = new Set();\nconst disabledTracers = new Set();\nfor (const tracerName of tracersString.split(',')) {\n    if (tracerName.startsWith('-')) {\n        disabledTracers.add(tracerName.substring(1));\n    }\n    else {\n        enabledTracers.add(tracerName);\n    }\n}\nconst allEnabled = enabledTracers.has('all');\nfunction trace(severity, tracer, text) {\n    if (isTracerEnabled(tracer)) {\n        (0, exports.log)(severity, new Date().toISOString() +\n            ' | v' +\n            clientVersion +\n            ' ' +\n            process_1.pid +\n            ' | ' +\n            tracer +\n            ' | ' +\n            text);\n    }\n}\nfunction isTracerEnabled(tracer) {\n    return (!disabledTracers.has(tracer) && (allEnabled || enabledTracers.has(tracer)));\n}\n//# sourceMappingURL=logging.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9nZ2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsV0FBVyxHQUFHLDBCQUEwQixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQjtBQUNoRixhQUFhO0FBQ2IsdUJBQXVCO0FBQ3ZCLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLGtCQUFrQixtQkFBTyxDQUFDLHdCQUFTO0FBQ25DLHNCQUFzQixrSUFBcUM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2dnaW5nLmpzPzZkMmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfYSwgX2IsIF9jLCBfZDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9nID0gZXhwb3J0cy5zZXRMb2dnZXJWZXJib3NpdHkgPSBleHBvcnRzLnNldExvZ2dlciA9IGV4cG9ydHMuZ2V0TG9nZ2VyID0gdm9pZCAwO1xuZXhwb3J0cy50cmFjZSA9IHRyYWNlO1xuZXhwb3J0cy5pc1RyYWNlckVuYWJsZWQgPSBpc1RyYWNlckVuYWJsZWQ7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHByb2Nlc3NfMSA9IHJlcXVpcmUoXCJwcm9jZXNzXCIpO1xuY29uc3QgY2xpZW50VmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jb25zdCBERUZBVUxUX0xPR0dFUiA9IHtcbiAgICBlcnJvcjogKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0UgJyArIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICB9LFxuICAgIGluZm86IChtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJICcgKyBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfSxcbiAgICBkZWJ1ZzogKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0QgJyArIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICB9LFxufTtcbmxldCBfbG9nZ2VyID0gREVGQVVMVF9MT0dHRVI7XG5sZXQgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUjtcbmNvbnN0IHZlcmJvc2l0eVN0cmluZyA9IChfYiA9IChfYSA9IHByb2Nlc3MuZW52LkdSUENfTk9ERV9WRVJCT1NJVFkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHByb2Nlc3MuZW52LkdSUENfVkVSQk9TSVRZKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJztcbnN3aXRjaCAodmVyYm9zaXR5U3RyaW5nLnRvVXBwZXJDYXNlKCkpIHtcbiAgICBjYXNlICdERUJVRyc6XG4gICAgICAgIF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUc7XG4gICAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0lORk8nOlxuICAgICAgICBfbG9nVmVyYm9zaXR5ID0gY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LklORk87XG4gICAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0VSUk9SJzpcbiAgICAgICAgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUjtcbiAgICAgICAgYnJlYWs7XG4gICAgY2FzZSAnTk9ORSc6XG4gICAgICAgIF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuTk9ORTtcbiAgICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAvLyBJZ25vcmUgYW55IG90aGVyIHZhbHVlc1xufVxuY29uc3QgZ2V0TG9nZ2VyID0gKCkgPT4ge1xuICAgIHJldHVybiBfbG9nZ2VyO1xufTtcbmV4cG9ydHMuZ2V0TG9nZ2VyID0gZ2V0TG9nZ2VyO1xuY29uc3Qgc2V0TG9nZ2VyID0gKGxvZ2dlcikgPT4ge1xuICAgIF9sb2dnZXIgPSBsb2dnZXI7XG59O1xuZXhwb3J0cy5zZXRMb2dnZXIgPSBzZXRMb2dnZXI7XG5jb25zdCBzZXRMb2dnZXJWZXJib3NpdHkgPSAodmVyYm9zaXR5KSA9PiB7XG4gICAgX2xvZ1ZlcmJvc2l0eSA9IHZlcmJvc2l0eTtcbn07XG5leHBvcnRzLnNldExvZ2dlclZlcmJvc2l0eSA9IHNldExvZ2dlclZlcmJvc2l0eTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5jb25zdCBsb2cgPSAoc2V2ZXJpdHksIC4uLmFyZ3MpID0+IHtcbiAgICBsZXQgbG9nRnVuY3Rpb247XG4gICAgaWYgKHNldmVyaXR5ID49IF9sb2dWZXJib3NpdHkpIHtcbiAgICAgICAgc3dpdGNoIChzZXZlcml0eSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUc6XG4gICAgICAgICAgICAgICAgbG9nRnVuY3Rpb24gPSBfbG9nZ2VyLmRlYnVnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuSU5GTzpcbiAgICAgICAgICAgICAgICBsb2dGdW5jdGlvbiA9IF9sb2dnZXIuaW5mbztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SOlxuICAgICAgICAgICAgICAgIGxvZ0Z1bmN0aW9uID0gX2xvZ2dlci5lcnJvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvKiBGYWxsIGJhY2sgdG8gX2xvZ2dlci5lcnJvciB3aGVuIG90aGVyIG1ldGhvZHMgYXJlIG5vdCBhdmFpbGFibGUgZm9yXG4gICAgICAgICAqIGNvbXBhdGlibGl0eSB3aXRoIG9sZGVyIGJlaGF2aW9yIHRoYXQgYWx3YXlzIGxvZ2dlZCB0byBfbG9nZ2VyLmVycm9yICovXG4gICAgICAgIGlmICghbG9nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGxvZ0Z1bmN0aW9uID0gX2xvZ2dlci5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9nRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGxvZ0Z1bmN0aW9uLmJpbmQoX2xvZ2dlcikoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5jb25zdCB0cmFjZXJzU3RyaW5nID0gKF9kID0gKF9jID0gcHJvY2Vzcy5lbnYuR1JQQ19OT0RFX1RSQUNFKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBwcm9jZXNzLmVudi5HUlBDX1RSQUNFKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJztcbmNvbnN0IGVuYWJsZWRUcmFjZXJzID0gbmV3IFNldCgpO1xuY29uc3QgZGlzYWJsZWRUcmFjZXJzID0gbmV3IFNldCgpO1xuZm9yIChjb25zdCB0cmFjZXJOYW1lIG9mIHRyYWNlcnNTdHJpbmcuc3BsaXQoJywnKSkge1xuICAgIGlmICh0cmFjZXJOYW1lLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgICBkaXNhYmxlZFRyYWNlcnMuYWRkKHRyYWNlck5hbWUuc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVuYWJsZWRUcmFjZXJzLmFkZCh0cmFjZXJOYW1lKTtcbiAgICB9XG59XG5jb25zdCBhbGxFbmFibGVkID0gZW5hYmxlZFRyYWNlcnMuaGFzKCdhbGwnKTtcbmZ1bmN0aW9uIHRyYWNlKHNldmVyaXR5LCB0cmFjZXIsIHRleHQpIHtcbiAgICBpZiAoaXNUcmFjZXJFbmFibGVkKHRyYWNlcikpIHtcbiAgICAgICAgKDAsIGV4cG9ydHMubG9nKShzZXZlcml0eSwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpICtcbiAgICAgICAgICAgICcgfCB2JyArXG4gICAgICAgICAgICBjbGllbnRWZXJzaW9uICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICBwcm9jZXNzXzEucGlkICtcbiAgICAgICAgICAgICcgfCAnICtcbiAgICAgICAgICAgIHRyYWNlciArXG4gICAgICAgICAgICAnIHwgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1RyYWNlckVuYWJsZWQodHJhY2VyKSB7XG4gICAgcmV0dXJuICghZGlzYWJsZWRUcmFjZXJzLmhhcyh0cmFjZXIpICYmIChhbGxFbmFibGVkIHx8IGVuYWJsZWRUcmFjZXJzLmhhcyh0cmFjZXIpKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.makeClientConstructor = makeClientConstructor;\nexports.loadPackageDefinition = loadPackageDefinition;\nconst client_1 = __webpack_require__(/*! ./client */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js\");\n/**\n * Map with short names for each of the requester maker functions. Used in\n * makeClientConstructor\n * @private\n */\nconst requesterFuncs = {\n    unary: client_1.Client.prototype.makeUnaryRequest,\n    server_stream: client_1.Client.prototype.makeServerStreamRequest,\n    client_stream: client_1.Client.prototype.makeClientStreamRequest,\n    bidi: client_1.Client.prototype.makeBidiStreamRequest,\n};\n/**\n * Returns true, if given key is included in the blacklisted\n * keys.\n * @param key key for check, string.\n */\nfunction isPrototypePolluted(key) {\n    return ['__proto__', 'prototype', 'constructor'].includes(key);\n}\n/**\n * Creates a constructor for a client with the given methods, as specified in\n * the methods argument. The resulting class will have an instance method for\n * each method in the service, which is a partial application of one of the\n * [Client]{@link grpc.Client} request methods, depending on `requestSerialize`\n * and `responseSerialize`, with the `method`, `serialize`, and `deserialize`\n * arguments predefined.\n * @param methods An object mapping method names to\n *     method attributes\n * @param serviceName The fully qualified name of the service\n * @param classOptions An options object.\n * @return New client constructor, which is a subclass of\n *     {@link grpc.Client}, and has the same arguments as that constructor.\n */\nfunction makeClientConstructor(methods, serviceName, classOptions) {\n    if (!classOptions) {\n        classOptions = {};\n    }\n    class ServiceClientImpl extends client_1.Client {\n    }\n    Object.keys(methods).forEach(name => {\n        if (isPrototypePolluted(name)) {\n            return;\n        }\n        const attrs = methods[name];\n        let methodType;\n        // TODO(murgatroid99): Verify that we don't need this anymore\n        if (typeof name === 'string' && name.charAt(0) === '$') {\n            throw new Error('Method names cannot start with $');\n        }\n        if (attrs.requestStream) {\n            if (attrs.responseStream) {\n                methodType = 'bidi';\n            }\n            else {\n                methodType = 'client_stream';\n            }\n        }\n        else {\n            if (attrs.responseStream) {\n                methodType = 'server_stream';\n            }\n            else {\n                methodType = 'unary';\n            }\n        }\n        const serialize = attrs.requestSerialize;\n        const deserialize = attrs.responseDeserialize;\n        const methodFunc = partial(requesterFuncs[methodType], attrs.path, serialize, deserialize);\n        ServiceClientImpl.prototype[name] = methodFunc;\n        // Associate all provided attributes with the method\n        Object.assign(ServiceClientImpl.prototype[name], attrs);\n        if (attrs.originalName && !isPrototypePolluted(attrs.originalName)) {\n            ServiceClientImpl.prototype[attrs.originalName] =\n                ServiceClientImpl.prototype[name];\n        }\n    });\n    ServiceClientImpl.service = methods;\n    ServiceClientImpl.serviceName = serviceName;\n    return ServiceClientImpl;\n}\nfunction partial(fn, path, serialize, deserialize) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (...args) {\n        return fn.call(this, path, serialize, deserialize, ...args);\n    };\n}\nfunction isProtobufTypeDefinition(obj) {\n    return 'format' in obj;\n}\n/**\n * Load a gRPC package definition as a gRPC object hierarchy.\n * @param packageDef The package definition object.\n * @return The resulting gRPC object.\n */\nfunction loadPackageDefinition(packageDef) {\n    const result = {};\n    for (const serviceFqn in packageDef) {\n        if (Object.prototype.hasOwnProperty.call(packageDef, serviceFqn)) {\n            const service = packageDef[serviceFqn];\n            const nameComponents = serviceFqn.split('.');\n            if (nameComponents.some((comp) => isPrototypePolluted(comp))) {\n                continue;\n            }\n            const serviceName = nameComponents[nameComponents.length - 1];\n            let current = result;\n            for (const packageName of nameComponents.slice(0, -1)) {\n                if (!current[packageName]) {\n                    current[packageName] = {};\n                }\n                current = current[packageName];\n            }\n            if (isProtobufTypeDefinition(service)) {\n                current[serviceName] = service;\n            }\n            else {\n                current[serviceName] = makeClientConstructor(service, serviceName, {});\n            }\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=make-client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWFrZS1jbGllbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLGlCQUFpQixtQkFBTyxDQUFDLGdHQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0JBQWtCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWFrZS1jbGllbnQuanM/MDA0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tYWtlQ2xpZW50Q29uc3RydWN0b3IgPSBtYWtlQ2xpZW50Q29uc3RydWN0b3I7XG5leHBvcnRzLmxvYWRQYWNrYWdlRGVmaW5pdGlvbiA9IGxvYWRQYWNrYWdlRGVmaW5pdGlvbjtcbmNvbnN0IGNsaWVudF8xID0gcmVxdWlyZShcIi4vY2xpZW50XCIpO1xuLyoqXG4gKiBNYXAgd2l0aCBzaG9ydCBuYW1lcyBmb3IgZWFjaCBvZiB0aGUgcmVxdWVzdGVyIG1ha2VyIGZ1bmN0aW9ucy4gVXNlZCBpblxuICogbWFrZUNsaWVudENvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCByZXF1ZXN0ZXJGdW5jcyA9IHtcbiAgICB1bmFyeTogY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5tYWtlVW5hcnlSZXF1ZXN0LFxuICAgIHNlcnZlcl9zdHJlYW06IGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUubWFrZVNlcnZlclN0cmVhbVJlcXVlc3QsXG4gICAgY2xpZW50X3N0cmVhbTogY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5tYWtlQ2xpZW50U3RyZWFtUmVxdWVzdCxcbiAgICBiaWRpOiBjbGllbnRfMS5DbGllbnQucHJvdG90eXBlLm1ha2VCaWRpU3RyZWFtUmVxdWVzdCxcbn07XG4vKipcbiAqIFJldHVybnMgdHJ1ZSwgaWYgZ2l2ZW4ga2V5IGlzIGluY2x1ZGVkIGluIHRoZSBibGFja2xpc3RlZFxuICoga2V5cy5cbiAqIEBwYXJhbSBrZXkga2V5IGZvciBjaGVjaywgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZVBvbGx1dGVkKGtleSkge1xuICAgIHJldHVybiBbJ19fcHJvdG9fXycsICdwcm90b3R5cGUnLCAnY29uc3RydWN0b3InXS5pbmNsdWRlcyhrZXkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgY29uc3RydWN0b3IgZm9yIGEgY2xpZW50IHdpdGggdGhlIGdpdmVuIG1ldGhvZHMsIGFzIHNwZWNpZmllZCBpblxuICogdGhlIG1ldGhvZHMgYXJndW1lbnQuIFRoZSByZXN1bHRpbmcgY2xhc3Mgd2lsbCBoYXZlIGFuIGluc3RhbmNlIG1ldGhvZCBmb3JcbiAqIGVhY2ggbWV0aG9kIGluIHRoZSBzZXJ2aWNlLCB3aGljaCBpcyBhIHBhcnRpYWwgYXBwbGljYXRpb24gb2Ygb25lIG9mIHRoZVxuICogW0NsaWVudF17QGxpbmsgZ3JwYy5DbGllbnR9IHJlcXVlc3QgbWV0aG9kcywgZGVwZW5kaW5nIG9uIGByZXF1ZXN0U2VyaWFsaXplYFxuICogYW5kIGByZXNwb25zZVNlcmlhbGl6ZWAsIHdpdGggdGhlIGBtZXRob2RgLCBgc2VyaWFsaXplYCwgYW5kIGBkZXNlcmlhbGl6ZWBcbiAqIGFyZ3VtZW50cyBwcmVkZWZpbmVkLlxuICogQHBhcmFtIG1ldGhvZHMgQW4gb2JqZWN0IG1hcHBpbmcgbWV0aG9kIG5hbWVzIHRvXG4gKiAgICAgbWV0aG9kIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSBzZXJ2aWNlTmFtZSBUaGUgZnVsbHkgcXVhbGlmaWVkIG5hbWUgb2YgdGhlIHNlcnZpY2VcbiAqIEBwYXJhbSBjbGFzc09wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QuXG4gKiBAcmV0dXJuIE5ldyBjbGllbnQgY29uc3RydWN0b3IsIHdoaWNoIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqICAgICB7QGxpbmsgZ3JwYy5DbGllbnR9LCBhbmQgaGFzIHRoZSBzYW1lIGFyZ3VtZW50cyBhcyB0aGF0IGNvbnN0cnVjdG9yLlxuICovXG5mdW5jdGlvbiBtYWtlQ2xpZW50Q29uc3RydWN0b3IobWV0aG9kcywgc2VydmljZU5hbWUsIGNsYXNzT3B0aW9ucykge1xuICAgIGlmICghY2xhc3NPcHRpb25zKSB7XG4gICAgICAgIGNsYXNzT3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBjbGFzcyBTZXJ2aWNlQ2xpZW50SW1wbCBleHRlbmRzIGNsaWVudF8xLkNsaWVudCB7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGlmIChpc1Byb3RvdHlwZVBvbGx1dGVkKG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXR0cnMgPSBtZXRob2RzW25hbWVdO1xuICAgICAgICBsZXQgbWV0aG9kVHlwZTtcbiAgICAgICAgLy8gVE9ETyhtdXJnYXRyb2lkOTkpOiBWZXJpZnkgdGhhdCB3ZSBkb24ndCBuZWVkIHRoaXMgYW55bW9yZVxuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnICYmIG5hbWUuY2hhckF0KDApID09PSAnJCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5hbWVzIGNhbm5vdCBzdGFydCB3aXRoICQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cnMucmVxdWVzdFN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKGF0dHJzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdiaWRpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAnY2xpZW50X3N0cmVhbSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXR0cnMucmVzcG9uc2VTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ3NlcnZlcl9zdHJlYW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICd1bmFyeSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VyaWFsaXplID0gYXR0cnMucmVxdWVzdFNlcmlhbGl6ZTtcbiAgICAgICAgY29uc3QgZGVzZXJpYWxpemUgPSBhdHRycy5yZXNwb25zZURlc2VyaWFsaXplO1xuICAgICAgICBjb25zdCBtZXRob2RGdW5jID0gcGFydGlhbChyZXF1ZXN0ZXJGdW5jc1ttZXRob2RUeXBlXSwgYXR0cnMucGF0aCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSk7XG4gICAgICAgIFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZVtuYW1lXSA9IG1ldGhvZEZ1bmM7XG4gICAgICAgIC8vIEFzc29jaWF0ZSBhbGwgcHJvdmlkZWQgYXR0cmlidXRlcyB3aXRoIHRoZSBtZXRob2RcbiAgICAgICAgT2JqZWN0LmFzc2lnbihTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGVbbmFtZV0sIGF0dHJzKTtcbiAgICAgICAgaWYgKGF0dHJzLm9yaWdpbmFsTmFtZSAmJiAhaXNQcm90b3R5cGVQb2xsdXRlZChhdHRycy5vcmlnaW5hbE5hbWUpKSB7XG4gICAgICAgICAgICBTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGVbYXR0cnMub3JpZ2luYWxOYW1lXSA9XG4gICAgICAgICAgICAgICAgU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlW25hbWVdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgU2VydmljZUNsaWVudEltcGwuc2VydmljZSA9IG1ldGhvZHM7XG4gICAgU2VydmljZUNsaWVudEltcGwuc2VydmljZU5hbWUgPSBzZXJ2aWNlTmFtZTtcbiAgICByZXR1cm4gU2VydmljZUNsaWVudEltcGw7XG59XG5mdW5jdGlvbiBwYXJ0aWFsKGZuLCBwYXRoLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgcGF0aCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgLi4uYXJncyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzUHJvdG9idWZUeXBlRGVmaW5pdGlvbihvYmopIHtcbiAgICByZXR1cm4gJ2Zvcm1hdCcgaW4gb2JqO1xufVxuLyoqXG4gKiBMb2FkIGEgZ1JQQyBwYWNrYWdlIGRlZmluaXRpb24gYXMgYSBnUlBDIG9iamVjdCBoaWVyYXJjaHkuXG4gKiBAcGFyYW0gcGFja2FnZURlZiBUaGUgcGFja2FnZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqIEByZXR1cm4gVGhlIHJlc3VsdGluZyBnUlBDIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gbG9hZFBhY2thZ2VEZWZpbml0aW9uKHBhY2thZ2VEZWYpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHNlcnZpY2VGcW4gaW4gcGFja2FnZURlZikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhY2thZ2VEZWYsIHNlcnZpY2VGcW4pKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gcGFja2FnZURlZltzZXJ2aWNlRnFuXTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVDb21wb25lbnRzID0gc2VydmljZUZxbi5zcGxpdCgnLicpO1xuICAgICAgICAgICAgaWYgKG5hbWVDb21wb25lbnRzLnNvbWUoKGNvbXApID0+IGlzUHJvdG90eXBlUG9sbHV0ZWQoY29tcCkpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlTmFtZSA9IG5hbWVDb21wb25lbnRzW25hbWVDb21wb25lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSByZXN1bHQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhY2thZ2VOYW1lIG9mIG5hbWVDb21wb25lbnRzLnNsaWNlKDAsIC0xKSkge1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudFtwYWNrYWdlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFtwYWNrYWdlTmFtZV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFja2FnZU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUHJvdG9idWZUeXBlRGVmaW5pdGlvbihzZXJ2aWNlKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRbc2VydmljZU5hbWVdID0gc2VydmljZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRbc2VydmljZU5hbWVdID0gbWFrZUNsaWVudENvbnN0cnVjdG9yKHNlcnZpY2UsIHNlcnZpY2VOYW1lLCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ha2UtY2xpZW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Metadata = void 0;\nconst logging_1 = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\");\nconst LEGAL_KEY_REGEX = /^[:0-9a-z_.-]+$/;\nconst LEGAL_NON_BINARY_VALUE_REGEX = /^[ -~]*$/;\nfunction isLegalKey(key) {\n    return LEGAL_KEY_REGEX.test(key);\n}\nfunction isLegalNonBinaryValue(value) {\n    return LEGAL_NON_BINARY_VALUE_REGEX.test(value);\n}\nfunction isBinaryKey(key) {\n    return key.endsWith('-bin');\n}\nfunction isCustomMetadata(key) {\n    return !key.startsWith('grpc-');\n}\nfunction normalizeKey(key) {\n    return key.toLowerCase();\n}\nfunction validate(key, value) {\n    if (!isLegalKey(key)) {\n        throw new Error('Metadata key \"' + key + '\" contains illegal characters');\n    }\n    if (value !== null && value !== undefined) {\n        if (isBinaryKey(key)) {\n            if (!Buffer.isBuffer(value)) {\n                throw new Error(\"keys that end with '-bin' must have Buffer values\");\n            }\n        }\n        else {\n            if (Buffer.isBuffer(value)) {\n                throw new Error(\"keys that don't end with '-bin' must have String values\");\n            }\n            if (!isLegalNonBinaryValue(value)) {\n                throw new Error('Metadata string value \"' + value + '\" contains illegal characters');\n            }\n        }\n    }\n}\n/**\n * A class for storing metadata. Keys are normalized to lowercase ASCII.\n */\nclass Metadata {\n    constructor(options = {}) {\n        this.internalRepr = new Map();\n        this.opaqueData = new Map();\n        this.options = options;\n    }\n    /**\n     * Sets the given value for the given key by replacing any other values\n     * associated with that key. Normalizes the key.\n     * @param key The key to whose value should be set.\n     * @param value The value to set. Must be a buffer if and only\n     *   if the normalized key ends with '-bin'.\n     */\n    set(key, value) {\n        key = normalizeKey(key);\n        validate(key, value);\n        this.internalRepr.set(key, [value]);\n    }\n    /**\n     * Adds the given value for the given key by appending to a list of previous\n     * values associated with that key. Normalizes the key.\n     * @param key The key for which a new value should be appended.\n     * @param value The value to add. Must be a buffer if and only\n     *   if the normalized key ends with '-bin'.\n     */\n    add(key, value) {\n        key = normalizeKey(key);\n        validate(key, value);\n        const existingValue = this.internalRepr.get(key);\n        if (existingValue === undefined) {\n            this.internalRepr.set(key, [value]);\n        }\n        else {\n            existingValue.push(value);\n        }\n    }\n    /**\n     * Removes the given key and any associated values. Normalizes the key.\n     * @param key The key whose values should be removed.\n     */\n    remove(key) {\n        key = normalizeKey(key);\n        // validate(key);\n        this.internalRepr.delete(key);\n    }\n    /**\n     * Gets a list of all values associated with the key. Normalizes the key.\n     * @param key The key whose value should be retrieved.\n     * @return A list of values associated with the given key.\n     */\n    get(key) {\n        key = normalizeKey(key);\n        // validate(key);\n        return this.internalRepr.get(key) || [];\n    }\n    /**\n     * Gets a plain object mapping each key to the first value associated with it.\n     * This reflects the most common way that people will want to see metadata.\n     * @return A key/value mapping of the metadata.\n     */\n    getMap() {\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            if (values.length > 0) {\n                const v = values[0];\n                result[key] = Buffer.isBuffer(v) ? Buffer.from(v) : v;\n            }\n        }\n        return result;\n    }\n    /**\n     * Clones the metadata object.\n     * @return The newly cloned object.\n     */\n    clone() {\n        const newMetadata = new Metadata(this.options);\n        const newInternalRepr = newMetadata.internalRepr;\n        for (const [key, value] of this.internalRepr) {\n            const clonedValue = value.map(v => {\n                if (Buffer.isBuffer(v)) {\n                    return Buffer.from(v);\n                }\n                else {\n                    return v;\n                }\n            });\n            newInternalRepr.set(key, clonedValue);\n        }\n        return newMetadata;\n    }\n    /**\n     * Merges all key-value pairs from a given Metadata object into this one.\n     * If both this object and the given object have values in the same key,\n     * values from the other Metadata object will be appended to this object's\n     * values.\n     * @param other A Metadata object.\n     */\n    merge(other) {\n        for (const [key, values] of other.internalRepr) {\n            const mergedValue = (this.internalRepr.get(key) || []).concat(values);\n            this.internalRepr.set(key, mergedValue);\n        }\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    getOptions() {\n        return this.options;\n    }\n    /**\n     * Creates an OutgoingHttpHeaders object that can be used with the http2 API.\n     */\n    toHttp2Headers() {\n        // NOTE: Node <8.9 formats http2 headers incorrectly.\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            if (key.startsWith(':')) {\n                continue;\n            }\n            // We assume that the user's interaction with this object is limited to\n            // through its public API (i.e. keys and values are already validated).\n            result[key] = values.map(bufToString);\n        }\n        return result;\n    }\n    /**\n     * This modifies the behavior of JSON.stringify to show an object\n     * representation of the metadata map.\n     */\n    toJSON() {\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            result[key] = values;\n        }\n        return result;\n    }\n    /**\n     * Attach additional data of any type to the metadata object, which will not\n     * be included when sending headers. The data can later be retrieved with\n     * `getOpaque`. Keys with the prefix `grpc` are reserved for use by this\n     * library.\n     * @param key\n     * @param value\n     */\n    setOpaque(key, value) {\n        this.opaqueData.set(key, value);\n    }\n    /**\n     * Retrieve data previously added with `setOpaque`.\n     * @param key\n     * @returns\n     */\n    getOpaque(key) {\n        return this.opaqueData.get(key);\n    }\n    /**\n     * Returns a new Metadata object based fields in a given IncomingHttpHeaders\n     * object.\n     * @param headers An IncomingHttpHeaders object.\n     */\n    static fromHttp2Headers(headers) {\n        const result = new Metadata();\n        for (const key of Object.keys(headers)) {\n            // Reserved headers (beginning with `:`) are not valid keys.\n            if (key.charAt(0) === ':') {\n                continue;\n            }\n            const values = headers[key];\n            try {\n                if (isBinaryKey(key)) {\n                    if (Array.isArray(values)) {\n                        values.forEach(value => {\n                            result.add(key, Buffer.from(value, 'base64'));\n                        });\n                    }\n                    else if (values !== undefined) {\n                        if (isCustomMetadata(key)) {\n                            values.split(',').forEach(v => {\n                                result.add(key, Buffer.from(v.trim(), 'base64'));\n                            });\n                        }\n                        else {\n                            result.add(key, Buffer.from(values, 'base64'));\n                        }\n                    }\n                }\n                else {\n                    if (Array.isArray(values)) {\n                        values.forEach(value => {\n                            result.add(key, value);\n                        });\n                    }\n                    else if (values !== undefined) {\n                        result.add(key, values);\n                    }\n                }\n            }\n            catch (error) {\n                const message = `Failed to add metadata entry ${key}: ${values}. ${(0, error_1.getErrorMessage)(error)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;\n                (0, logging_1.log)(constants_1.LogVerbosity.ERROR, message);\n            }\n        }\n        return result;\n    }\n}\nexports.Metadata = Metadata;\nconst bufToString = (val) => {\n    return Buffer.isBuffer(val) ? val.toString('base64') : val;\n};\n//# sourceMappingURL=metadata.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbWV0YWRhdGEuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsa0JBQWtCLG1CQUFPLENBQUMsa0dBQVc7QUFDckMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsZ0JBQWdCLG1CQUFPLENBQUMsOEZBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLElBQUksSUFBSSxPQUFPLElBQUksb0NBQW9DO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9tZXRhZGF0YS5qcz82MzFiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1ldGFkYXRhID0gdm9pZCAwO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgTEVHQUxfS0VZX1JFR0VYID0gL15bOjAtOWEtel8uLV0rJC87XG5jb25zdCBMRUdBTF9OT05fQklOQVJZX1ZBTFVFX1JFR0VYID0gL15bIC1+XSokLztcbmZ1bmN0aW9uIGlzTGVnYWxLZXkoa2V5KSB7XG4gICAgcmV0dXJuIExFR0FMX0tFWV9SRUdFWC50ZXN0KGtleSk7XG59XG5mdW5jdGlvbiBpc0xlZ2FsTm9uQmluYXJ5VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gTEVHQUxfTk9OX0JJTkFSWV9WQUxVRV9SRUdFWC50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzQmluYXJ5S2V5KGtleSkge1xuICAgIHJldHVybiBrZXkuZW5kc1dpdGgoJy1iaW4nKTtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tTWV0YWRhdGEoa2V5KSB7XG4gICAgcmV0dXJuICFrZXkuc3RhcnRzV2l0aCgnZ3JwYy0nKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZShrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFpc0xlZ2FsS2V5KGtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRhZGF0YSBrZXkgXCInICsga2V5ICsgJ1wiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycycpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNCaW5hcnlLZXkoa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5cyB0aGF0IGVuZCB3aXRoICctYmluJyBtdXN0IGhhdmUgQnVmZmVyIHZhbHVlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5cyB0aGF0IGRvbid0IGVuZCB3aXRoICctYmluJyBtdXN0IGhhdmUgU3RyaW5nIHZhbHVlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNMZWdhbE5vbkJpbmFyeVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0YWRhdGEgc3RyaW5nIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIGNsYXNzIGZvciBzdG9yaW5nIG1ldGFkYXRhLiBLZXlzIGFyZSBub3JtYWxpemVkIHRvIGxvd2VyY2FzZSBBU0NJSS5cbiAqL1xuY2xhc3MgTWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmludGVybmFsUmVwciA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5vcGFxdWVEYXRhID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleSBieSByZXBsYWNpbmcgYW55IG90aGVyIHZhbHVlc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byB3aG9zZSB2YWx1ZSBzaG91bGQgYmUgc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBNdXN0IGJlIGEgYnVmZmVyIGlmIGFuZCBvbmx5XG4gICAgICogICBpZiB0aGUgbm9ybWFsaXplZCBrZXkgZW5kcyB3aXRoICctYmluJy5cbiAgICAgKi9cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgdmFsaWRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxSZXByLnNldChrZXksIFt2YWx1ZV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleSBieSBhcHBlbmRpbmcgdG8gYSBsaXN0IG9mIHByZXZpb3VzXG4gICAgICogdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSBmb3Igd2hpY2ggYSBuZXcgdmFsdWUgc2hvdWxkIGJlIGFwcGVuZGVkLlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkLiBNdXN0IGJlIGEgYnVmZmVyIGlmIGFuZCBvbmx5XG4gICAgICogICBpZiB0aGUgbm9ybWFsaXplZCBrZXkgZW5kcyB3aXRoICctYmluJy5cbiAgICAgKi9cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgdmFsaWRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVmFsdWUgPSB0aGlzLmludGVybmFsUmVwci5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFJlcHIuc2V0KGtleSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleGlzdGluZ1ZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGtleSBhbmQgYW55IGFzc29jaWF0ZWQgdmFsdWVzLiBOb3JtYWxpemVzIHRoZSBrZXkuXG4gICAgICogQHBhcmFtIGtleSBUaGUga2V5IHdob3NlIHZhbHVlcyBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAvLyB2YWxpZGF0ZShrZXkpO1xuICAgICAgICB0aGlzLmludGVybmFsUmVwci5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIGxpc3Qgb2YgYWxsIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB3aG9zZSB2YWx1ZSBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm4gQSBsaXN0IG9mIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleS5cbiAgICAgKi9cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAvLyB2YWxpZGF0ZShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFJlcHIuZ2V0KGtleSkgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSBwbGFpbiBvYmplY3QgbWFwcGluZyBlYWNoIGtleSB0byB0aGUgZmlyc3QgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAqIFRoaXMgcmVmbGVjdHMgdGhlIG1vc3QgY29tbW9uIHdheSB0aGF0IHBlb3BsZSB3aWxsIHdhbnQgdG8gc2VlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm4gQSBrZXkvdmFsdWUgbWFwcGluZyBvZiB0aGUgbWV0YWRhdGEuXG4gICAgICovXG4gICAgZ2V0TWFwKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIHRoaXMuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gQnVmZmVyLmlzQnVmZmVyKHYpID8gQnVmZmVyLmZyb20odikgOiB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgbWV0YWRhdGEgb2JqZWN0LlxuICAgICAqIEByZXR1cm4gVGhlIG5ld2x5IGNsb25lZCBvYmplY3QuXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IG5ld01ldGFkYXRhID0gbmV3IE1ldGFkYXRhKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5ld0ludGVybmFsUmVwciA9IG5ld01ldGFkYXRhLmludGVybmFsUmVwcjtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5pbnRlcm5hbFJlcHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZFZhbHVlID0gdmFsdWUubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdJbnRlcm5hbFJlcHIuc2V0KGtleSwgY2xvbmVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdNZXRhZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIGFsbCBrZXktdmFsdWUgcGFpcnMgZnJvbSBhIGdpdmVuIE1ldGFkYXRhIG9iamVjdCBpbnRvIHRoaXMgb25lLlxuICAgICAqIElmIGJvdGggdGhpcyBvYmplY3QgYW5kIHRoZSBnaXZlbiBvYmplY3QgaGF2ZSB2YWx1ZXMgaW4gdGhlIHNhbWUga2V5LFxuICAgICAqIHZhbHVlcyBmcm9tIHRoZSBvdGhlciBNZXRhZGF0YSBvYmplY3Qgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGlzIG9iamVjdCdzXG4gICAgICogdmFsdWVzLlxuICAgICAqIEBwYXJhbSBvdGhlciBBIE1ldGFkYXRhIG9iamVjdC5cbiAgICAgKi9cbiAgICBtZXJnZShvdGhlcikge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2Ygb3RoZXIuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRWYWx1ZSA9ICh0aGlzLmludGVybmFsUmVwci5nZXQoa2V5KSB8fCBbXSkuY29uY2F0KHZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsUmVwci5zZXQoa2V5LCBtZXJnZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT3V0Z29pbmdIdHRwSGVhZGVycyBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHRoZSBodHRwMiBBUEkuXG4gICAgICovXG4gICAgdG9IdHRwMkhlYWRlcnMoKSB7XG4gICAgICAgIC8vIE5PVEU6IE5vZGUgPDguOSBmb3JtYXRzIGh0dHAyIGhlYWRlcnMgaW5jb3JyZWN0bHkuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2YgdGhpcy5pbnRlcm5hbFJlcHIpIHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgdXNlcidzIGludGVyYWN0aW9uIHdpdGggdGhpcyBvYmplY3QgaXMgbGltaXRlZCB0b1xuICAgICAgICAgICAgLy8gdGhyb3VnaCBpdHMgcHVibGljIEFQSSAoaS5lLiBrZXlzIGFuZCB2YWx1ZXMgYXJlIGFscmVhZHkgdmFsaWRhdGVkKS5cbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzLm1hcChidWZUb1N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtb2RpZmllcyB0aGUgYmVoYXZpb3Igb2YgSlNPTi5zdHJpbmdpZnkgdG8gc2hvdyBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWV0YWRhdGEgbWFwLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiB0aGlzLmludGVybmFsUmVwcikge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIGFkZGl0aW9uYWwgZGF0YSBvZiBhbnkgdHlwZSB0byB0aGUgbWV0YWRhdGEgb2JqZWN0LCB3aGljaCB3aWxsIG5vdFxuICAgICAqIGJlIGluY2x1ZGVkIHdoZW4gc2VuZGluZyBoZWFkZXJzLiBUaGUgZGF0YSBjYW4gbGF0ZXIgYmUgcmV0cmlldmVkIHdpdGhcbiAgICAgKiBgZ2V0T3BhcXVlYC4gS2V5cyB3aXRoIHRoZSBwcmVmaXggYGdycGNgIGFyZSByZXNlcnZlZCBmb3IgdXNlIGJ5IHRoaXNcbiAgICAgKiBsaWJyYXJ5LlxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICBzZXRPcGFxdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wYXF1ZURhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBkYXRhIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgc2V0T3BhcXVlYC5cbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRPcGFxdWUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYXF1ZURhdGEuZ2V0KGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgTWV0YWRhdGEgb2JqZWN0IGJhc2VkIGZpZWxkcyBpbiBhIGdpdmVuIEluY29taW5nSHR0cEhlYWRlcnNcbiAgICAgKiBvYmplY3QuXG4gICAgICogQHBhcmFtIGhlYWRlcnMgQW4gSW5jb21pbmdIdHRwSGVhZGVycyBvYmplY3QuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21IdHRwMkhlYWRlcnMoaGVhZGVycykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWV0YWRhdGEoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgIC8vIFJlc2VydmVkIGhlYWRlcnMgKGJlZ2lubmluZyB3aXRoIGA6YCkgYXJlIG5vdCB2YWxpZCBrZXlzLlxuICAgICAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICc6Jykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCaW5hcnlLZXkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIEJ1ZmZlci5mcm9tKHZhbHVlLCAnYmFzZTY0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0N1c3RvbU1ldGFkYXRhKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc3BsaXQoJywnKS5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgQnVmZmVyLmZyb20odi50cmltKCksICdiYXNlNjQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgQnVmZmVyLmZyb20odmFsdWVzLCAnYmFzZTY0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgRmFpbGVkIHRvIGFkZCBtZXRhZGF0YSBlbnRyeSAke2tleX06ICR7dmFsdWVzfS4gJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGVycm9yKX0uIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjLW5vZGUvaXNzdWVzLzExNzNgO1xuICAgICAgICAgICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5NZXRhZGF0YSA9IE1ldGFkYXRhO1xuY29uc3QgYnVmVG9TdHJpbmcgPSAodmFsKSA9PiB7XG4gICAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih2YWwpID8gdmFsLnRvU3RyaW5nKCdiYXNlNjQnKSA6IHZhbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/orca.js":
/*!******************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/orca.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2025 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OrcaOobMetricsSubchannelWrapper = exports.GRPC_METRICS_HEADER = exports.ServerMetricRecorder = exports.PerRequestMetricRecorder = void 0;\nexports.createOrcaClient = createOrcaClient;\nexports.createMetricsReader = createMetricsReader;\nconst make_client_1 = __webpack_require__(/*! ./make-client */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js\");\nconst duration_1 = __webpack_require__(/*! ./duration */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/duration.js\");\nconst channel_credentials_1 = __webpack_require__(/*! ./channel-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-credentials.js\");\nconst subchannel_interface_1 = __webpack_require__(/*! ./subchannel-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst loadedOrcaProto = null;\nfunction loadOrcaProto() {\n    if (loadedOrcaProto) {\n        return loadedOrcaProto;\n    }\n    /* The purpose of this complexity is to avoid loading @grpc/proto-loader at\n     * runtime for users who will not use/enable ORCA. */\n    const loaderLoadSync = (__webpack_require__(/*! @grpc/proto-loader */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/index.js\").loadSync);\n    const loadedProto = loaderLoadSync('xds/service/orca/v3/orca.proto', {\n        keepCase: true,\n        longs: String,\n        enums: String,\n        defaults: true,\n        oneofs: true,\n        includeDirs: [\n            `${__dirname}/../../proto/xds`,\n            `${__dirname}/../../proto/protoc-gen-validate`\n        ],\n    });\n    return (0, make_client_1.loadPackageDefinition)(loadedProto);\n}\n/**\n * ORCA metrics recorder for a single request\n */\nclass PerRequestMetricRecorder {\n    constructor() {\n        this.message = {};\n    }\n    /**\n     * Records a request cost metric measurement for the call.\n     * @param name\n     * @param value\n     */\n    recordRequestCostMetric(name, value) {\n        if (!this.message.request_cost) {\n            this.message.request_cost = {};\n        }\n        this.message.request_cost[name] = value;\n    }\n    /**\n     * Records a request cost metric measurement for the call.\n     * @param name\n     * @param value\n     */\n    recordUtilizationMetric(name, value) {\n        if (!this.message.utilization) {\n            this.message.utilization = {};\n        }\n        this.message.utilization[name] = value;\n    }\n    /**\n     * Records an opaque named metric measurement for the call.\n     * @param name\n     * @param value\n     */\n    recordNamedMetric(name, value) {\n        if (!this.message.named_metrics) {\n            this.message.named_metrics = {};\n        }\n        this.message.named_metrics[name] = value;\n    }\n    /**\n     * Records the CPU utilization metric measurement for the call.\n     * @param value\n     */\n    recordCPUUtilizationMetric(value) {\n        this.message.cpu_utilization = value;\n    }\n    /**\n     * Records the memory utilization metric measurement for the call.\n     * @param value\n     */\n    recordMemoryUtilizationMetric(value) {\n        this.message.mem_utilization = value;\n    }\n    /**\n     * Records the memory utilization metric measurement for the call.\n     * @param value\n     */\n    recordApplicationUtilizationMetric(value) {\n        this.message.application_utilization = value;\n    }\n    /**\n     * Records the queries per second measurement.\n     * @param value\n     */\n    recordQpsMetric(value) {\n        this.message.rps_fractional = value;\n    }\n    /**\n     * Records the errors per second measurement.\n     * @param value\n     */\n    recordEpsMetric(value) {\n        this.message.eps = value;\n    }\n    serialize() {\n        const orcaProto = loadOrcaProto();\n        return orcaProto.xds.data.orca.v3.OrcaLoadReport.serialize(this.message);\n    }\n}\nexports.PerRequestMetricRecorder = PerRequestMetricRecorder;\nconst DEFAULT_REPORT_INTERVAL_MS = 30000;\nclass ServerMetricRecorder {\n    constructor() {\n        this.message = {};\n        this.serviceImplementation = {\n            StreamCoreMetrics: call => {\n                const reportInterval = call.request.report_interval ?\n                    (0, duration_1.durationToMs)((0, duration_1.durationMessageToDuration)(call.request.report_interval)) :\n                    DEFAULT_REPORT_INTERVAL_MS;\n                const reportTimer = setInterval(() => {\n                    call.write(this.message);\n                }, reportInterval);\n                call.on('cancelled', () => {\n                    clearInterval(reportTimer);\n                });\n            }\n        };\n    }\n    putUtilizationMetric(name, value) {\n        if (!this.message.utilization) {\n            this.message.utilization = {};\n        }\n        this.message.utilization[name] = value;\n    }\n    setAllUtilizationMetrics(metrics) {\n        this.message.utilization = Object.assign({}, metrics);\n    }\n    deleteUtilizationMetric(name) {\n        var _a;\n        (_a = this.message.utilization) === null || _a === void 0 ? true : delete _a[name];\n    }\n    setCpuUtilizationMetric(value) {\n        this.message.cpu_utilization = value;\n    }\n    deleteCpuUtilizationMetric() {\n        delete this.message.cpu_utilization;\n    }\n    setApplicationUtilizationMetric(value) {\n        this.message.application_utilization = value;\n    }\n    deleteApplicationUtilizationMetric() {\n        delete this.message.application_utilization;\n    }\n    setQpsMetric(value) {\n        this.message.rps_fractional = value;\n    }\n    deleteQpsMetric() {\n        delete this.message.rps_fractional;\n    }\n    setEpsMetric(value) {\n        this.message.eps = value;\n    }\n    deleteEpsMetric() {\n        delete this.message.eps;\n    }\n    addToServer(server) {\n        const serviceDefinition = loadOrcaProto().xds.service.orca.v3.OpenRcaService.service;\n        server.addService(serviceDefinition, this.serviceImplementation);\n    }\n}\nexports.ServerMetricRecorder = ServerMetricRecorder;\nfunction createOrcaClient(channel) {\n    const ClientClass = loadOrcaProto().xds.service.orca.v3.OpenRcaService;\n    return new ClientClass('unused', channel_credentials_1.ChannelCredentials.createInsecure(), { channelOverride: channel });\n}\nexports.GRPC_METRICS_HEADER = 'endpoint-load-metrics-bin';\nconst PARSED_LOAD_REPORT_KEY = 'grpc_orca_load_report';\n/**\n * Create an onCallEnded callback for use in a picker.\n * @param listener The listener to handle metrics, whenever they are provided.\n * @param previousOnCallEnded The previous onCallEnded callback to propagate\n * to, if applicable.\n * @returns\n */\nfunction createMetricsReader(listener, previousOnCallEnded) {\n    return (code, details, metadata) => {\n        let parsedLoadReport = metadata.getOpaque(PARSED_LOAD_REPORT_KEY);\n        if (parsedLoadReport) {\n            listener(parsedLoadReport);\n        }\n        else {\n            const serializedLoadReport = metadata.get(exports.GRPC_METRICS_HEADER);\n            if (serializedLoadReport.length > 0) {\n                const orcaProto = loadOrcaProto();\n                parsedLoadReport = orcaProto.xds.data.orca.v3.OrcaLoadReport.deserialize(serializedLoadReport[0]);\n                listener(parsedLoadReport);\n                metadata.setOpaque(PARSED_LOAD_REPORT_KEY, parsedLoadReport);\n            }\n        }\n        if (previousOnCallEnded) {\n            previousOnCallEnded(code, details, metadata);\n        }\n    };\n}\nconst DATA_PRODUCER_KEY = 'orca_oob_metrics';\nclass OobMetricsDataWatcher {\n    constructor(metricsListener, intervalMs) {\n        this.metricsListener = metricsListener;\n        this.intervalMs = intervalMs;\n        this.dataProducer = null;\n    }\n    setSubchannel(subchannel) {\n        const producer = subchannel.getOrCreateDataProducer(DATA_PRODUCER_KEY, createOobMetricsDataProducer);\n        this.dataProducer = producer;\n        producer.addDataWatcher(this);\n    }\n    destroy() {\n        var _a;\n        (_a = this.dataProducer) === null || _a === void 0 ? void 0 : _a.removeDataWatcher(this);\n    }\n    getInterval() {\n        return this.intervalMs;\n    }\n    onMetricsUpdate(metrics) {\n        this.metricsListener(metrics);\n    }\n}\nclass OobMetricsDataProducer {\n    constructor(subchannel) {\n        this.subchannel = subchannel;\n        this.dataWatchers = new Set();\n        this.orcaSupported = true;\n        this.metricsCall = null;\n        this.currentInterval = Infinity;\n        this.backoffTimer = new backoff_timeout_1.BackoffTimeout(() => this.updateMetricsSubscription());\n        this.subchannelStateListener = () => this.updateMetricsSubscription();\n        const channel = subchannel.getChannel();\n        this.client = createOrcaClient(channel);\n        subchannel.addConnectivityStateListener(this.subchannelStateListener);\n    }\n    addDataWatcher(dataWatcher) {\n        this.dataWatchers.add(dataWatcher);\n        this.updateMetricsSubscription();\n    }\n    removeDataWatcher(dataWatcher) {\n        var _a;\n        this.dataWatchers.delete(dataWatcher);\n        if (this.dataWatchers.size === 0) {\n            this.subchannel.removeDataProducer(DATA_PRODUCER_KEY);\n            (_a = this.metricsCall) === null || _a === void 0 ? void 0 : _a.cancel();\n            this.metricsCall = null;\n            this.client.close();\n            this.subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n        }\n        else {\n            this.updateMetricsSubscription();\n        }\n    }\n    updateMetricsSubscription() {\n        var _a;\n        if (this.dataWatchers.size === 0 || !this.orcaSupported || this.subchannel.getConnectivityState() !== connectivity_state_1.ConnectivityState.READY) {\n            return;\n        }\n        const newInterval = Math.min(...Array.from(this.dataWatchers).map(watcher => watcher.getInterval()));\n        if (!this.metricsCall || newInterval !== this.currentInterval) {\n            (_a = this.metricsCall) === null || _a === void 0 ? void 0 : _a.cancel();\n            this.currentInterval = newInterval;\n            const metricsCall = this.client.streamCoreMetrics({ report_interval: (0, duration_1.msToDuration)(newInterval) });\n            this.metricsCall = metricsCall;\n            metricsCall.on('data', (report) => {\n                this.dataWatchers.forEach(watcher => {\n                    watcher.onMetricsUpdate(report);\n                });\n            });\n            metricsCall.on('error', (error) => {\n                this.metricsCall = null;\n                if (error.code === constants_1.Status.UNIMPLEMENTED) {\n                    this.orcaSupported = false;\n                    return;\n                }\n                if (error.code === constants_1.Status.CANCELLED) {\n                    return;\n                }\n                this.backoffTimer.runOnce();\n            });\n        }\n    }\n}\nclass OrcaOobMetricsSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(child, metricsListener, intervalMs) {\n        super(child);\n        this.addDataWatcher(new OobMetricsDataWatcher(metricsListener, intervalMs));\n    }\n    getWrappedSubchannel() {\n        return this.child;\n    }\n}\nexports.OrcaOobMetricsSubchannelWrapper = OrcaOobMetricsSubchannelWrapper;\nfunction createOobMetricsDataProducer(subchannel) {\n    return new OobMetricsDataProducer(subchannel);\n}\n//# sourceMappingURL=orca.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvb3JjYS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVDQUF1QyxHQUFHLDJCQUEyQixHQUFHLDRCQUE0QixHQUFHLGdDQUFnQztBQUN2SSx3QkFBd0I7QUFDeEIsMkJBQTJCO0FBQzNCLHNCQUFzQixtQkFBTyxDQUFDLDBHQUFlO0FBQzdDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLDhCQUE4QixtQkFBTyxDQUFDLDBIQUF1QjtBQUM3RCwrQkFBK0IsbUJBQU8sQ0FBQyw0SEFBd0I7QUFDL0Qsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsMEJBQTBCLG1CQUFPLENBQUMsa0hBQW1CO0FBQ3JELDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5S0FDVjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixlQUFlLFVBQVU7QUFDekI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxrR0FBa0csMEJBQTBCO0FBQzVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDREQUE0RDtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL29yY2EuanM/ZGVlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PcmNhT29iTWV0cmljc1N1YmNoYW5uZWxXcmFwcGVyID0gZXhwb3J0cy5HUlBDX01FVFJJQ1NfSEVBREVSID0gZXhwb3J0cy5TZXJ2ZXJNZXRyaWNSZWNvcmRlciA9IGV4cG9ydHMuUGVyUmVxdWVzdE1ldHJpY1JlY29yZGVyID0gdm9pZCAwO1xuZXhwb3J0cy5jcmVhdGVPcmNhQ2xpZW50ID0gY3JlYXRlT3JjYUNsaWVudDtcbmV4cG9ydHMuY3JlYXRlTWV0cmljc1JlYWRlciA9IGNyZWF0ZU1ldHJpY3NSZWFkZXI7XG5jb25zdCBtYWtlX2NsaWVudF8xID0gcmVxdWlyZShcIi4vbWFrZS1jbGllbnRcIik7XG5jb25zdCBkdXJhdGlvbl8xID0gcmVxdWlyZShcIi4vZHVyYXRpb25cIik7XG5jb25zdCBjaGFubmVsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWNyZWRlbnRpYWxzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgbG9hZGVkT3JjYVByb3RvID0gbnVsbDtcbmZ1bmN0aW9uIGxvYWRPcmNhUHJvdG8oKSB7XG4gICAgaWYgKGxvYWRlZE9yY2FQcm90bykge1xuICAgICAgICByZXR1cm4gbG9hZGVkT3JjYVByb3RvO1xuICAgIH1cbiAgICAvKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNvbXBsZXhpdHkgaXMgdG8gYXZvaWQgbG9hZGluZyBAZ3JwYy9wcm90by1sb2FkZXIgYXRcbiAgICAgKiBydW50aW1lIGZvciB1c2VycyB3aG8gd2lsbCBub3QgdXNlL2VuYWJsZSBPUkNBLiAqL1xuICAgIGNvbnN0IGxvYWRlckxvYWRTeW5jID0gcmVxdWlyZSgnQGdycGMvcHJvdG8tbG9hZGVyJylcbiAgICAgICAgLmxvYWRTeW5jO1xuICAgIGNvbnN0IGxvYWRlZFByb3RvID0gbG9hZGVyTG9hZFN5bmMoJ3hkcy9zZXJ2aWNlL29yY2EvdjMvb3JjYS5wcm90bycsIHtcbiAgICAgICAga2VlcENhc2U6IHRydWUsXG4gICAgICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgICAgIGVudW1zOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHRzOiB0cnVlLFxuICAgICAgICBvbmVvZnM6IHRydWUsXG4gICAgICAgIGluY2x1ZGVEaXJzOiBbXG4gICAgICAgICAgICBgJHtfX2Rpcm5hbWV9Ly4uLy4uL3Byb3RvL3hkc2AsXG4gICAgICAgICAgICBgJHtfX2Rpcm5hbWV9Ly4uLy4uL3Byb3RvL3Byb3RvYy1nZW4tdmFsaWRhdGVgXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgcmV0dXJuICgwLCBtYWtlX2NsaWVudF8xLmxvYWRQYWNrYWdlRGVmaW5pdGlvbikobG9hZGVkUHJvdG8pO1xufVxuLyoqXG4gKiBPUkNBIG1ldHJpY3MgcmVjb3JkZXIgZm9yIGEgc2luZ2xlIHJlcXVlc3RcbiAqL1xuY2xhc3MgUGVyUmVxdWVzdE1ldHJpY1JlY29yZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgYSByZXF1ZXN0IGNvc3QgbWV0cmljIG1lYXN1cmVtZW50IGZvciB0aGUgY2FsbC5cbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZFJlcXVlc3RDb3N0TWV0cmljKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5tZXNzYWdlLnJlcXVlc3RfY29zdCkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnJlcXVlc3RfY29zdCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVzc2FnZS5yZXF1ZXN0X2Nvc3RbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyBhIHJlcXVlc3QgY29zdCBtZXRyaWMgbWVhc3VyZW1lbnQgZm9yIHRoZSBjYWxsLlxuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgcmVjb3JkVXRpbGl6YXRpb25NZXRyaWMobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2UudXRpbGl6YXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZS51dGlsaXphdGlvbiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVzc2FnZS51dGlsaXphdGlvbltuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvcmRzIGFuIG9wYXF1ZSBuYW1lZCBtZXRyaWMgbWVhc3VyZW1lbnQgZm9yIHRoZSBjYWxsLlxuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgcmVjb3JkTmFtZWRNZXRyaWMobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2UubmFtZWRfbWV0cmljcykge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlLm5hbWVkX21ldHJpY3MgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc3NhZ2UubmFtZWRfbWV0cmljc1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvcmRzIHRoZSBDUFUgdXRpbGl6YXRpb24gbWV0cmljIG1lYXN1cmVtZW50IGZvciB0aGUgY2FsbC5cbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICByZWNvcmRDUFVVdGlsaXphdGlvbk1ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuY3B1X3V0aWxpemF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgdGhlIG1lbW9yeSB1dGlsaXphdGlvbiBtZXRyaWMgbWVhc3VyZW1lbnQgZm9yIHRoZSBjYWxsLlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZE1lbW9yeVV0aWxpemF0aW9uTWV0cmljKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZS5tZW1fdXRpbGl6YXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyB0aGUgbWVtb3J5IHV0aWxpemF0aW9uIG1ldHJpYyBtZWFzdXJlbWVudCBmb3IgdGhlIGNhbGwuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgcmVjb3JkQXBwbGljYXRpb25VdGlsaXphdGlvbk1ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuYXBwbGljYXRpb25fdXRpbGl6YXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyB0aGUgcXVlcmllcyBwZXIgc2Vjb25kIG1lYXN1cmVtZW50LlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZFFwc01ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UucnBzX2ZyYWN0aW9uYWwgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyB0aGUgZXJyb3JzIHBlciBzZWNvbmQgbWVhc3VyZW1lbnQuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgcmVjb3JkRXBzTWV0cmljKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZS5lcHMgPSB2YWx1ZTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBjb25zdCBvcmNhUHJvdG8gPSBsb2FkT3JjYVByb3RvKCk7XG4gICAgICAgIHJldHVybiBvcmNhUHJvdG8ueGRzLmRhdGEub3JjYS52My5PcmNhTG9hZFJlcG9ydC5zZXJpYWxpemUodGhpcy5tZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLlBlclJlcXVlc3RNZXRyaWNSZWNvcmRlciA9IFBlclJlcXVlc3RNZXRyaWNSZWNvcmRlcjtcbmNvbnN0IERFRkFVTFRfUkVQT1JUX0lOVEVSVkFMX01TID0gMzAwMDA7XG5jbGFzcyBTZXJ2ZXJNZXRyaWNSZWNvcmRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHt9O1xuICAgICAgICB0aGlzLnNlcnZpY2VJbXBsZW1lbnRhdGlvbiA9IHtcbiAgICAgICAgICAgIFN0cmVhbUNvcmVNZXRyaWNzOiBjYWxsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRJbnRlcnZhbCA9IGNhbGwucmVxdWVzdC5yZXBvcnRfaW50ZXJ2YWwgP1xuICAgICAgICAgICAgICAgICAgICAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvTXMpKCgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uTWVzc2FnZVRvRHVyYXRpb24pKGNhbGwucmVxdWVzdC5yZXBvcnRfaW50ZXJ2YWwpKSA6XG4gICAgICAgICAgICAgICAgICAgIERFRkFVTFRfUkVQT1JUX0lOVEVSVkFMX01TO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLndyaXRlKHRoaXMubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSwgcmVwb3J0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGNhbGwub24oJ2NhbmNlbGxlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChyZXBvcnRUaW1lcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHB1dFV0aWxpemF0aW9uTWV0cmljKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5tZXNzYWdlLnV0aWxpemF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UudXRpbGl6YXRpb24gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc3NhZ2UudXRpbGl6YXRpb25bbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0QWxsVXRpbGl6YXRpb25NZXRyaWNzKG1ldHJpY3MpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLnV0aWxpemF0aW9uID0gT2JqZWN0LmFzc2lnbih7fSwgbWV0cmljcyk7XG4gICAgfVxuICAgIGRlbGV0ZVV0aWxpemF0aW9uTWV0cmljKG5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLm1lc3NhZ2UudXRpbGl6YXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB0cnVlIDogZGVsZXRlIF9hW25hbWVdO1xuICAgIH1cbiAgICBzZXRDcHVVdGlsaXphdGlvbk1ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuY3B1X3V0aWxpemF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIGRlbGV0ZUNwdVV0aWxpemF0aW9uTWV0cmljKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5tZXNzYWdlLmNwdV91dGlsaXphdGlvbjtcbiAgICB9XG4gICAgc2V0QXBwbGljYXRpb25VdGlsaXphdGlvbk1ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuYXBwbGljYXRpb25fdXRpbGl6YXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgZGVsZXRlQXBwbGljYXRpb25VdGlsaXphdGlvbk1ldHJpYygpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubWVzc2FnZS5hcHBsaWNhdGlvbl91dGlsaXphdGlvbjtcbiAgICB9XG4gICAgc2V0UXBzTWV0cmljKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZS5ycHNfZnJhY3Rpb25hbCA9IHZhbHVlO1xuICAgIH1cbiAgICBkZWxldGVRcHNNZXRyaWMoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2UucnBzX2ZyYWN0aW9uYWw7XG4gICAgfVxuICAgIHNldEVwc01ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuZXBzID0gdmFsdWU7XG4gICAgfVxuICAgIGRlbGV0ZUVwc01ldHJpYygpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubWVzc2FnZS5lcHM7XG4gICAgfVxuICAgIGFkZFRvU2VydmVyKHNlcnZlcikge1xuICAgICAgICBjb25zdCBzZXJ2aWNlRGVmaW5pdGlvbiA9IGxvYWRPcmNhUHJvdG8oKS54ZHMuc2VydmljZS5vcmNhLnYzLk9wZW5SY2FTZXJ2aWNlLnNlcnZpY2U7XG4gICAgICAgIHNlcnZlci5hZGRTZXJ2aWNlKHNlcnZpY2VEZWZpbml0aW9uLCB0aGlzLnNlcnZpY2VJbXBsZW1lbnRhdGlvbik7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJNZXRyaWNSZWNvcmRlciA9IFNlcnZlck1ldHJpY1JlY29yZGVyO1xuZnVuY3Rpb24gY3JlYXRlT3JjYUNsaWVudChjaGFubmVsKSB7XG4gICAgY29uc3QgQ2xpZW50Q2xhc3MgPSBsb2FkT3JjYVByb3RvKCkueGRzLnNlcnZpY2Uub3JjYS52My5PcGVuUmNhU2VydmljZTtcbiAgICByZXR1cm4gbmV3IENsaWVudENsYXNzKCd1bnVzZWQnLCBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzLmNyZWF0ZUluc2VjdXJlKCksIHsgY2hhbm5lbE92ZXJyaWRlOiBjaGFubmVsIH0pO1xufVxuZXhwb3J0cy5HUlBDX01FVFJJQ1NfSEVBREVSID0gJ2VuZHBvaW50LWxvYWQtbWV0cmljcy1iaW4nO1xuY29uc3QgUEFSU0VEX0xPQURfUkVQT1JUX0tFWSA9ICdncnBjX29yY2FfbG9hZF9yZXBvcnQnO1xuLyoqXG4gKiBDcmVhdGUgYW4gb25DYWxsRW5kZWQgY2FsbGJhY2sgZm9yIHVzZSBpbiBhIHBpY2tlci5cbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgdG8gaGFuZGxlIG1ldHJpY3MsIHdoZW5ldmVyIHRoZXkgYXJlIHByb3ZpZGVkLlxuICogQHBhcmFtIHByZXZpb3VzT25DYWxsRW5kZWQgVGhlIHByZXZpb3VzIG9uQ2FsbEVuZGVkIGNhbGxiYWNrIHRvIHByb3BhZ2F0ZVxuICogdG8sIGlmIGFwcGxpY2FibGUuXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBjcmVhdGVNZXRyaWNzUmVhZGVyKGxpc3RlbmVyLCBwcmV2aW91c09uQ2FsbEVuZGVkKSB7XG4gICAgcmV0dXJuIChjb2RlLCBkZXRhaWxzLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICBsZXQgcGFyc2VkTG9hZFJlcG9ydCA9IG1ldGFkYXRhLmdldE9wYXF1ZShQQVJTRURfTE9BRF9SRVBPUlRfS0VZKTtcbiAgICAgICAgaWYgKHBhcnNlZExvYWRSZXBvcnQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKHBhcnNlZExvYWRSZXBvcnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZExvYWRSZXBvcnQgPSBtZXRhZGF0YS5nZXQoZXhwb3J0cy5HUlBDX01FVFJJQ1NfSEVBREVSKTtcbiAgICAgICAgICAgIGlmIChzZXJpYWxpemVkTG9hZFJlcG9ydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JjYVByb3RvID0gbG9hZE9yY2FQcm90bygpO1xuICAgICAgICAgICAgICAgIHBhcnNlZExvYWRSZXBvcnQgPSBvcmNhUHJvdG8ueGRzLmRhdGEub3JjYS52My5PcmNhTG9hZFJlcG9ydC5kZXNlcmlhbGl6ZShzZXJpYWxpemVkTG9hZFJlcG9ydFswXSk7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIocGFyc2VkTG9hZFJlcG9ydCk7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuc2V0T3BhcXVlKFBBUlNFRF9MT0FEX1JFUE9SVF9LRVksIHBhcnNlZExvYWRSZXBvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2aW91c09uQ2FsbEVuZGVkKSB7XG4gICAgICAgICAgICBwcmV2aW91c09uQ2FsbEVuZGVkKGNvZGUsIGRldGFpbHMsIG1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5jb25zdCBEQVRBX1BST0RVQ0VSX0tFWSA9ICdvcmNhX29vYl9tZXRyaWNzJztcbmNsYXNzIE9vYk1ldHJpY3NEYXRhV2F0Y2hlciB7XG4gICAgY29uc3RydWN0b3IobWV0cmljc0xpc3RlbmVyLCBpbnRlcnZhbE1zKSB7XG4gICAgICAgIHRoaXMubWV0cmljc0xpc3RlbmVyID0gbWV0cmljc0xpc3RlbmVyO1xuICAgICAgICB0aGlzLmludGVydmFsTXMgPSBpbnRlcnZhbE1zO1xuICAgICAgICB0aGlzLmRhdGFQcm9kdWNlciA9IG51bGw7XG4gICAgfVxuICAgIHNldFN1YmNoYW5uZWwoc3ViY2hhbm5lbCkge1xuICAgICAgICBjb25zdCBwcm9kdWNlciA9IHN1YmNoYW5uZWwuZ2V0T3JDcmVhdGVEYXRhUHJvZHVjZXIoREFUQV9QUk9EVUNFUl9LRVksIGNyZWF0ZU9vYk1ldHJpY3NEYXRhUHJvZHVjZXIpO1xuICAgICAgICB0aGlzLmRhdGFQcm9kdWNlciA9IHByb2R1Y2VyO1xuICAgICAgICBwcm9kdWNlci5hZGREYXRhV2F0Y2hlcih0aGlzKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmRhdGFQcm9kdWNlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZURhdGFXYXRjaGVyKHRoaXMpO1xuICAgIH1cbiAgICBnZXRJbnRlcnZhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxNcztcbiAgICB9XG4gICAgb25NZXRyaWNzVXBkYXRlKG1ldHJpY3MpIHtcbiAgICAgICAgdGhpcy5tZXRyaWNzTGlzdGVuZXIobWV0cmljcyk7XG4gICAgfVxufVxuY2xhc3MgT29iTWV0cmljc0RhdGFQcm9kdWNlciB7XG4gICAgY29uc3RydWN0b3Ioc3ViY2hhbm5lbCkge1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWwgPSBzdWJjaGFubmVsO1xuICAgICAgICB0aGlzLmRhdGFXYXRjaGVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5vcmNhU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tZXRyaWNzQ2FsbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudEludGVydmFsID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVyID0gbmV3IGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0KCgpID0+IHRoaXMudXBkYXRlTWV0cmljc1N1YnNjcmlwdGlvbigpKTtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lciA9ICgpID0+IHRoaXMudXBkYXRlTWV0cmljc1N1YnNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBjaGFubmVsID0gc3ViY2hhbm5lbC5nZXRDaGFubmVsKCk7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY3JlYXRlT3JjYUNsaWVudChjaGFubmVsKTtcbiAgICAgICAgc3ViY2hhbm5lbC5hZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgIH1cbiAgICBhZGREYXRhV2F0Y2hlcihkYXRhV2F0Y2hlcikge1xuICAgICAgICB0aGlzLmRhdGFXYXRjaGVycy5hZGQoZGF0YVdhdGNoZXIpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1ldHJpY3NTdWJzY3JpcHRpb24oKTtcbiAgICB9XG4gICAgcmVtb3ZlRGF0YVdhdGNoZXIoZGF0YVdhdGNoZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmRhdGFXYXRjaGVycy5kZWxldGUoZGF0YVdhdGNoZXIpO1xuICAgICAgICBpZiAodGhpcy5kYXRhV2F0Y2hlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsLnJlbW92ZURhdGFQcm9kdWNlcihEQVRBX1BST0RVQ0VSX0tFWSk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLm1ldHJpY3NDYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLm1ldHJpY3NDYWxsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWwucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWV0cmljc1N1YnNjcmlwdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZU1ldHJpY3NTdWJzY3JpcHRpb24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVdhdGNoZXJzLnNpemUgPT09IDAgfHwgIXRoaXMub3JjYVN1cHBvcnRlZCB8fCB0aGlzLnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdJbnRlcnZhbCA9IE1hdGgubWluKC4uLkFycmF5LmZyb20odGhpcy5kYXRhV2F0Y2hlcnMpLm1hcCh3YXRjaGVyID0+IHdhdGNoZXIuZ2V0SW50ZXJ2YWwoKSkpO1xuICAgICAgICBpZiAoIXRoaXMubWV0cmljc0NhbGwgfHwgbmV3SW50ZXJ2YWwgIT09IHRoaXMuY3VycmVudEludGVydmFsKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLm1ldHJpY3NDYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnRlcnZhbCA9IG5ld0ludGVydmFsO1xuICAgICAgICAgICAgY29uc3QgbWV0cmljc0NhbGwgPSB0aGlzLmNsaWVudC5zdHJlYW1Db3JlTWV0cmljcyh7IHJlcG9ydF9pbnRlcnZhbDogKDAsIGR1cmF0aW9uXzEubXNUb0R1cmF0aW9uKShuZXdJbnRlcnZhbCkgfSk7XG4gICAgICAgICAgICB0aGlzLm1ldHJpY3NDYWxsID0gbWV0cmljc0NhbGw7XG4gICAgICAgICAgICBtZXRyaWNzQ2FsbC5vbignZGF0YScsIChyZXBvcnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFXYXRjaGVycy5mb3JFYWNoKHdhdGNoZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3YXRjaGVyLm9uTWV0cmljc1VwZGF0ZShyZXBvcnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtZXRyaWNzQ2FsbC5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldHJpY3NDYWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmNhU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmZUaW1lci5ydW5PbmNlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIE9yY2FPb2JNZXRyaWNzU3ViY2hhbm5lbFdyYXBwZXIgZXh0ZW5kcyBzdWJjaGFubmVsX2ludGVyZmFjZV8xLkJhc2VTdWJjaGFubmVsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGQsIG1ldHJpY3NMaXN0ZW5lciwgaW50ZXJ2YWxNcykge1xuICAgICAgICBzdXBlcihjaGlsZCk7XG4gICAgICAgIHRoaXMuYWRkRGF0YVdhdGNoZXIobmV3IE9vYk1ldHJpY3NEYXRhV2F0Y2hlcihtZXRyaWNzTGlzdGVuZXIsIGludGVydmFsTXMpKTtcbiAgICB9XG4gICAgZ2V0V3JhcHBlZFN1YmNoYW5uZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkO1xuICAgIH1cbn1cbmV4cG9ydHMuT3JjYU9vYk1ldHJpY3NTdWJjaGFubmVsV3JhcHBlciA9IE9yY2FPb2JNZXRyaWNzU3ViY2hhbm5lbFdyYXBwZXI7XG5mdW5jdGlvbiBjcmVhdGVPb2JNZXRyaWNzRGF0YVByb2R1Y2VyKHN1YmNoYW5uZWwpIHtcbiAgICByZXR1cm4gbmV3IE9vYk1ldHJpY3NEYXRhUHJvZHVjZXIoc3ViY2hhbm5lbCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcmNhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/orca.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.QueuePicker = exports.UnavailablePicker = exports.PickResultType = void 0;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nvar PickResultType;\n(function (PickResultType) {\n    PickResultType[PickResultType[\"COMPLETE\"] = 0] = \"COMPLETE\";\n    PickResultType[PickResultType[\"QUEUE\"] = 1] = \"QUEUE\";\n    PickResultType[PickResultType[\"TRANSIENT_FAILURE\"] = 2] = \"TRANSIENT_FAILURE\";\n    PickResultType[PickResultType[\"DROP\"] = 3] = \"DROP\";\n})(PickResultType || (exports.PickResultType = PickResultType = {}));\n/**\n * A standard picker representing a load balancer in the TRANSIENT_FAILURE\n * state. Always responds to every pick request with an UNAVAILABLE status.\n */\nclass UnavailablePicker {\n    constructor(status) {\n        this.status = Object.assign({ code: constants_1.Status.UNAVAILABLE, details: 'No connection established', metadata: new metadata_1.Metadata() }, status);\n    }\n    pick(pickArgs) {\n        return {\n            pickResultType: PickResultType.TRANSIENT_FAILURE,\n            subchannel: null,\n            status: this.status,\n            onCallStarted: null,\n            onCallEnded: null,\n        };\n    }\n}\nexports.UnavailablePicker = UnavailablePicker;\n/**\n * A standard picker representing a load balancer in the IDLE or CONNECTING\n * state. Always responds to every pick request with a QUEUE pick result\n * indicating that the pick should be tried again with the next `Picker`. Also\n * reports back to the load balancer that a connection should be established\n * once any pick is attempted.\n * If the childPicker is provided, delegate to it instead of returning the\n * hardcoded QUEUE pick result, but still calls exitIdle.\n */\nclass QueuePicker {\n    // Constructed with a load balancer. Calls exitIdle on it the first time pick is called\n    constructor(loadBalancer, childPicker) {\n        this.loadBalancer = loadBalancer;\n        this.childPicker = childPicker;\n        this.calledExitIdle = false;\n    }\n    pick(pickArgs) {\n        if (!this.calledExitIdle) {\n            process.nextTick(() => {\n                this.loadBalancer.exitIdle();\n            });\n            this.calledExitIdle = true;\n        }\n        if (this.childPicker) {\n            return this.childPicker.pick(pickArgs);\n        }\n        else {\n            return {\n                pickResultType: PickResultType.QUEUE,\n                subchannel: null,\n                status: null,\n                onCallStarted: null,\n                onCallEnded: null,\n            };\n        }\n    }\n}\nexports.QueuePicker = QueuePicker;\n//# sourceMappingURL=picker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcGlja2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcseUJBQXlCLEdBQUcsc0JBQXNCO0FBQ3hFLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCLHNCQUFzQixzQkFBc0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGlIQUFpSDtBQUN2SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcGlja2VyLmpzPzk0ZDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUXVldWVQaWNrZXIgPSBleHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IHZvaWQgMDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIFBpY2tSZXN1bHRUeXBlO1xuKGZ1bmN0aW9uIChQaWNrUmVzdWx0VHlwZSkge1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiQ09NUExFVEVcIl0gPSAwXSA9IFwiQ09NUExFVEVcIjtcbiAgICBQaWNrUmVzdWx0VHlwZVtQaWNrUmVzdWx0VHlwZVtcIlFVRVVFXCJdID0gMV0gPSBcIlFVRVVFXCI7XG4gICAgUGlja1Jlc3VsdFR5cGVbUGlja1Jlc3VsdFR5cGVbXCJUUkFOU0lFTlRfRkFJTFVSRVwiXSA9IDJdID0gXCJUUkFOU0lFTlRfRkFJTFVSRVwiO1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiRFJPUFwiXSA9IDNdID0gXCJEUk9QXCI7XG59KShQaWNrUmVzdWx0VHlwZSB8fCAoZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IFBpY2tSZXN1bHRUeXBlID0ge30pKTtcbi8qKlxuICogQSBzdGFuZGFyZCBwaWNrZXIgcmVwcmVzZW50aW5nIGEgbG9hZCBiYWxhbmNlciBpbiB0aGUgVFJBTlNJRU5UX0ZBSUxVUkVcbiAqIHN0YXRlLiBBbHdheXMgcmVzcG9uZHMgdG8gZXZlcnkgcGljayByZXF1ZXN0IHdpdGggYW4gVU5BVkFJTEFCTEUgc3RhdHVzLlxuICovXG5jbGFzcyBVbmF2YWlsYWJsZVBpY2tlciB7XG4gICAgY29uc3RydWN0b3Ioc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gT2JqZWN0LmFzc2lnbih7IGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSwgZGV0YWlsczogJ05vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9LCBzdGF0dXMpO1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaWNrUmVzdWx0VHlwZTogUGlja1Jlc3VsdFR5cGUuVFJBTlNJRU5UX0ZBSUxVUkUsXG4gICAgICAgICAgICBzdWJjaGFubmVsOiBudWxsLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxFbmRlZDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gVW5hdmFpbGFibGVQaWNrZXI7XG4vKipcbiAqIEEgc3RhbmRhcmQgcGlja2VyIHJlcHJlc2VudGluZyBhIGxvYWQgYmFsYW5jZXIgaW4gdGhlIElETEUgb3IgQ09OTkVDVElOR1xuICogc3RhdGUuIEFsd2F5cyByZXNwb25kcyB0byBldmVyeSBwaWNrIHJlcXVlc3Qgd2l0aCBhIFFVRVVFIHBpY2sgcmVzdWx0XG4gKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHBpY2sgc2hvdWxkIGJlIHRyaWVkIGFnYWluIHdpdGggdGhlIG5leHQgYFBpY2tlcmAuIEFsc29cbiAqIHJlcG9ydHMgYmFjayB0byB0aGUgbG9hZCBiYWxhbmNlciB0aGF0IGEgY29ubmVjdGlvbiBzaG91bGQgYmUgZXN0YWJsaXNoZWRcbiAqIG9uY2UgYW55IHBpY2sgaXMgYXR0ZW1wdGVkLlxuICogSWYgdGhlIGNoaWxkUGlja2VyIGlzIHByb3ZpZGVkLCBkZWxlZ2F0ZSB0byBpdCBpbnN0ZWFkIG9mIHJldHVybmluZyB0aGVcbiAqIGhhcmRjb2RlZCBRVUVVRSBwaWNrIHJlc3VsdCwgYnV0IHN0aWxsIGNhbGxzIGV4aXRJZGxlLlxuICovXG5jbGFzcyBRdWV1ZVBpY2tlciB7XG4gICAgLy8gQ29uc3RydWN0ZWQgd2l0aCBhIGxvYWQgYmFsYW5jZXIuIENhbGxzIGV4aXRJZGxlIG9uIGl0IHRoZSBmaXJzdCB0aW1lIHBpY2sgaXMgY2FsbGVkXG4gICAgY29uc3RydWN0b3IobG9hZEJhbGFuY2VyLCBjaGlsZFBpY2tlcikge1xuICAgICAgICB0aGlzLmxvYWRCYWxhbmNlciA9IGxvYWRCYWxhbmNlcjtcbiAgICAgICAgdGhpcy5jaGlsZFBpY2tlciA9IGNoaWxkUGlja2VyO1xuICAgICAgICB0aGlzLmNhbGxlZEV4aXRJZGxlID0gZmFsc2U7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGxlZEV4aXRJZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNhbGxlZEV4aXRJZGxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGlsZFBpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRQaWNrZXIucGljayhwaWNrQXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBQaWNrUmVzdWx0VHlwZS5RVUVVRSxcbiAgICAgICAgICAgICAgICBzdWJjaGFubmVsOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXR1czogbnVsbCxcbiAgICAgICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgICAgIG9uQ2FsbEVuZGVkOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUXVldWVQaWNrZXIgPSBRdWV1ZVBpY2tlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpY2tlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/priority-queue.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/priority-queue.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2025 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PriorityQueue = void 0;\nconst top = 0;\nconst parent = (i) => Math.floor(i / 2);\nconst left = (i) => i * 2 + 1;\nconst right = (i) => i * 2 + 2;\n/**\n * A generic priority queue implemented as an array-based binary heap.\n * Adapted from https://stackoverflow.com/a/42919752/159388\n */\nclass PriorityQueue {\n    /**\n     *\n     * @param comparator Returns true if the first argument should precede the\n     *   second in the queue. Defaults to `(a, b) => a > b`\n     */\n    constructor(comparator = (a, b) => a > b) {\n        this.comparator = comparator;\n        this.heap = [];\n    }\n    /**\n     * @returns The number of items currently in the queue\n     */\n    size() {\n        return this.heap.length;\n    }\n    /**\n     * @returns True if there are no items in the queue, false otherwise\n     */\n    isEmpty() {\n        return this.size() == 0;\n    }\n    /**\n     * Look at the front item that would be popped, without modifying the contents\n     * of the queue\n     * @returns The front item in the queue, or undefined if the queue is empty\n     */\n    peek() {\n        return this.heap[top];\n    }\n    /**\n     * Add the items to the queue\n     * @param values The items to add\n     * @returns The new size of the queue after adding the items\n     */\n    push(...values) {\n        values.forEach(value => {\n            this.heap.push(value);\n            this.siftUp();\n        });\n        return this.size();\n    }\n    /**\n     * Remove the front item in the queue and return it\n     * @returns The front item in the queue, or undefined if the queue is empty\n     */\n    pop() {\n        const poppedValue = this.peek();\n        const bottom = this.size() - 1;\n        if (bottom > top) {\n            this.swap(top, bottom);\n        }\n        this.heap.pop();\n        this.siftDown();\n        return poppedValue;\n    }\n    /**\n     * Simultaneously remove the front item in the queue and add the provided\n     * item.\n     * @param value The item to add\n     * @returns The front item in the queue, or undefined if the queue is empty\n     */\n    replace(value) {\n        const replacedValue = this.peek();\n        this.heap[top] = value;\n        this.siftDown();\n        return replacedValue;\n    }\n    greater(i, j) {\n        return this.comparator(this.heap[i], this.heap[j]);\n    }\n    swap(i, j) {\n        [this.heap[i], this.heap[j]] = [this.heap[j], this.heap[i]];\n    }\n    siftUp() {\n        let node = this.size() - 1;\n        while (node > top && this.greater(node, parent(node))) {\n            this.swap(node, parent(node));\n            node = parent(node);\n        }\n    }\n    siftDown() {\n        let node = top;\n        while ((left(node) < this.size() && this.greater(left(node), node)) ||\n            (right(node) < this.size() && this.greater(right(node), node))) {\n            let maxChild = (right(node) < this.size() && this.greater(right(node), left(node))) ? right(node) : left(node);\n            this.swap(node, maxChild);\n            node = maxChild;\n        }\n    }\n}\nexports.PriorityQueue = PriorityQueue;\n//# sourceMappingURL=priority-queue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcHJpb3JpdHktcXVldWUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcHJpb3JpdHktcXVldWUuanM/MDhhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qcmlvcml0eVF1ZXVlID0gdm9pZCAwO1xuY29uc3QgdG9wID0gMDtcbmNvbnN0IHBhcmVudCA9IChpKSA9PiBNYXRoLmZsb29yKGkgLyAyKTtcbmNvbnN0IGxlZnQgPSAoaSkgPT4gaSAqIDIgKyAxO1xuY29uc3QgcmlnaHQgPSAoaSkgPT4gaSAqIDIgKyAyO1xuLyoqXG4gKiBBIGdlbmVyaWMgcHJpb3JpdHkgcXVldWUgaW1wbGVtZW50ZWQgYXMgYW4gYXJyYXktYmFzZWQgYmluYXJ5IGhlYXAuXG4gKiBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQyOTE5NzUyLzE1OTM4OFxuICovXG5jbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wYXJhdG9yIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmlyc3QgYXJndW1lbnQgc2hvdWxkIHByZWNlZGUgdGhlXG4gICAgICogICBzZWNvbmQgaW4gdGhlIHF1ZXVlLiBEZWZhdWx0cyB0byBgKGEsIGIpID0+IGEgPiBiYFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbXBhcmF0b3IgPSAoYSwgYikgPT4gYSA+IGIpIHtcbiAgICAgICAgdGhpcy5jb21wYXJhdG9yID0gY29tcGFyYXRvcjtcbiAgICAgICAgdGhpcy5oZWFwID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgaXRlbXMgY3VycmVudGx5IGluIHRoZSBxdWV1ZVxuICAgICAqL1xuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlYXAubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZXJlIGFyZSBubyBpdGVtcyBpbiB0aGUgcXVldWUsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoKSA9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29rIGF0IHRoZSBmcm9udCBpdGVtIHRoYXQgd291bGQgYmUgcG9wcGVkLCB3aXRob3V0IG1vZGlmeWluZyB0aGUgY29udGVudHNcbiAgICAgKiBvZiB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJvbnQgaXRlbSBpbiB0aGUgcXVldWUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcXVldWUgaXMgZW1wdHlcbiAgICAgKi9cbiAgICBwZWVrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFwW3RvcF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUgaXRlbXMgdG8gdGhlIHF1ZXVlXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgaXRlbXMgdG8gYWRkXG4gICAgICogQHJldHVybnMgVGhlIG5ldyBzaXplIG9mIHRoZSBxdWV1ZSBhZnRlciBhZGRpbmcgdGhlIGl0ZW1zXG4gICAgICovXG4gICAgcHVzaCguLi52YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5oZWFwLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5zaWZ0VXAoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBmcm9udCBpdGVtIGluIHRoZSBxdWV1ZSBhbmQgcmV0dXJuIGl0XG4gICAgICogQHJldHVybnMgVGhlIGZyb250IGl0ZW0gaW4gdGhlIHF1ZXVlLCBvciB1bmRlZmluZWQgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5XG4gICAgICovXG4gICAgcG9wKCkge1xuICAgICAgICBjb25zdCBwb3BwZWRWYWx1ZSA9IHRoaXMucGVlaygpO1xuICAgICAgICBjb25zdCBib3R0b20gPSB0aGlzLnNpemUoKSAtIDE7XG4gICAgICAgIGlmIChib3R0b20gPiB0b3ApIHtcbiAgICAgICAgICAgIHRoaXMuc3dhcCh0b3AsIGJvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWFwLnBvcCgpO1xuICAgICAgICB0aGlzLnNpZnREb3duKCk7XG4gICAgICAgIHJldHVybiBwb3BwZWRWYWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2ltdWx0YW5lb3VzbHkgcmVtb3ZlIHRoZSBmcm9udCBpdGVtIGluIHRoZSBxdWV1ZSBhbmQgYWRkIHRoZSBwcm92aWRlZFxuICAgICAqIGl0ZW0uXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBpdGVtIHRvIGFkZFxuICAgICAqIEByZXR1cm5zIFRoZSBmcm9udCBpdGVtIGluIHRoZSBxdWV1ZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBxdWV1ZSBpcyBlbXB0eVxuICAgICAqL1xuICAgIHJlcGxhY2UodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVwbGFjZWRWYWx1ZSA9IHRoaXMucGVlaygpO1xuICAgICAgICB0aGlzLmhlYXBbdG9wXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNpZnREb3duKCk7XG4gICAgICAgIHJldHVybiByZXBsYWNlZFZhbHVlO1xuICAgIH1cbiAgICBncmVhdGVyKGksIGopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyYXRvcih0aGlzLmhlYXBbaV0sIHRoaXMuaGVhcFtqXSk7XG4gICAgfVxuICAgIHN3YXAoaSwgaikge1xuICAgICAgICBbdGhpcy5oZWFwW2ldLCB0aGlzLmhlYXBbal1dID0gW3RoaXMuaGVhcFtqXSwgdGhpcy5oZWFwW2ldXTtcbiAgICB9XG4gICAgc2lmdFVwKCkge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuc2l6ZSgpIC0gMTtcbiAgICAgICAgd2hpbGUgKG5vZGUgPiB0b3AgJiYgdGhpcy5ncmVhdGVyKG5vZGUsIHBhcmVudChub2RlKSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3dhcChub2RlLCBwYXJlbnQobm9kZSkpO1xuICAgICAgICAgICAgbm9kZSA9IHBhcmVudChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaWZ0RG93bigpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0b3A7XG4gICAgICAgIHdoaWxlICgobGVmdChub2RlKSA8IHRoaXMuc2l6ZSgpICYmIHRoaXMuZ3JlYXRlcihsZWZ0KG5vZGUpLCBub2RlKSkgfHxcbiAgICAgICAgICAgIChyaWdodChub2RlKSA8IHRoaXMuc2l6ZSgpICYmIHRoaXMuZ3JlYXRlcihyaWdodChub2RlKSwgbm9kZSkpKSB7XG4gICAgICAgICAgICBsZXQgbWF4Q2hpbGQgPSAocmlnaHQobm9kZSkgPCB0aGlzLnNpemUoKSAmJiB0aGlzLmdyZWF0ZXIocmlnaHQobm9kZSksIGxlZnQobm9kZSkpKSA/IHJpZ2h0KG5vZGUpIDogbGVmdChub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc3dhcChub2RlLCBtYXhDaGlsZCk7XG4gICAgICAgICAgICBub2RlID0gbWF4Q2hpbGQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlByaW9yaXR5UXVldWUgPSBQcmlvcml0eVF1ZXVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpb3JpdHktcXVldWUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/priority-queue.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_PORT = void 0;\nexports.setup = setup;\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst dns_1 = __webpack_require__(/*! dns */ \"dns\");\nconst service_config_1 = __webpack_require__(/*! ./service-config */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst environment_1 = __webpack_require__(/*! ./environment */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/environment.js\");\nconst TRACER_NAME = 'dns_resolver';\nfunction trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nexports.DEFAULT_PORT = 443;\nconst DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS = 30000;\n/**\n * Resolver implementation that handles DNS names and IP addresses.\n */\nclass DnsResolver {\n    constructor(target, listener, channelOptions) {\n        var _a, _b, _c;\n        this.target = target;\n        this.listener = listener;\n        this.pendingLookupPromise = null;\n        this.pendingTxtPromise = null;\n        this.latestLookupResult = null;\n        this.latestServiceConfigResult = null;\n        this.continueResolving = false;\n        this.isNextResolutionTimerRunning = false;\n        this.isServiceConfigEnabled = true;\n        this.returnedIpResult = false;\n        this.alternativeResolver = new dns_1.promises.Resolver();\n        trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n        if (target.authority) {\n            this.alternativeResolver.setServers([target.authority]);\n        }\n        const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n        if (hostPort === null) {\n            this.ipResult = null;\n            this.dnsHostname = null;\n            this.port = null;\n        }\n        else {\n            if ((0, net_1.isIPv4)(hostPort.host) || (0, net_1.isIPv6)(hostPort.host)) {\n                this.ipResult = [\n                    {\n                        addresses: [\n                            {\n                                host: hostPort.host,\n                                port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : exports.DEFAULT_PORT,\n                            },\n                        ],\n                    },\n                ];\n                this.dnsHostname = null;\n                this.port = null;\n            }\n            else {\n                this.ipResult = null;\n                this.dnsHostname = hostPort.host;\n                this.port = (_b = hostPort.port) !== null && _b !== void 0 ? _b : exports.DEFAULT_PORT;\n            }\n        }\n        this.percentage = Math.random() * 100;\n        if (channelOptions['grpc.service_config_disable_resolution'] === 1) {\n            this.isServiceConfigEnabled = false;\n        }\n        this.defaultResolutionError = {\n            code: constants_1.Status.UNAVAILABLE,\n            details: `Name resolution failed for target ${(0, uri_parser_1.uriToString)(this.target)}`,\n            metadata: new metadata_1.Metadata(),\n        };\n        const backoffOptions = {\n            initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: channelOptions['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoff = new backoff_timeout_1.BackoffTimeout(() => {\n            if (this.continueResolving) {\n                this.startResolutionWithBackoff();\n            }\n        }, backoffOptions);\n        this.backoff.unref();\n        this.minTimeBetweenResolutionsMs =\n            (_c = channelOptions['grpc.dns_min_time_between_resolutions_ms']) !== null && _c !== void 0 ? _c : DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS;\n        this.nextResolutionTimer = setTimeout(() => { }, 0);\n        clearTimeout(this.nextResolutionTimer);\n    }\n    /**\n     * If the target is an IP address, just provide that address as a result.\n     * Otherwise, initiate A, AAAA, and TXT lookups\n     */\n    startResolution() {\n        if (this.ipResult !== null) {\n            if (!this.returnedIpResult) {\n                trace('Returning IP address for target ' + (0, uri_parser_1.uriToString)(this.target));\n                setImmediate(() => {\n                    this.listener((0, call_interface_1.statusOrFromValue)(this.ipResult), {}, null, '');\n                });\n                this.returnedIpResult = true;\n            }\n            this.backoff.stop();\n            this.backoff.reset();\n            this.stopNextResolutionTimer();\n            return;\n        }\n        if (this.dnsHostname === null) {\n            trace('Failed to parse DNS address ' + (0, uri_parser_1.uriToString)(this.target));\n            setImmediate(() => {\n                this.listener((0, call_interface_1.statusOrFromError)({\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse DNS address ${(0, uri_parser_1.uriToString)(this.target)}`\n                }), {}, null, '');\n            });\n            this.stopNextResolutionTimer();\n        }\n        else {\n            if (this.pendingLookupPromise !== null) {\n                return;\n            }\n            trace('Looking up DNS hostname ' + this.dnsHostname);\n            /* We clear out latestLookupResult here to ensure that it contains the\n             * latest result since the last time we started resolving. That way, the\n             * TXT resolution handler can use it, but only if it finishes second. We\n             * don't clear out any previous service config results because it's\n             * better to use a service config that's slightly out of date than to\n             * revert to an effectively blank one. */\n            this.latestLookupResult = null;\n            const hostname = this.dnsHostname;\n            this.pendingLookupPromise = this.lookup(hostname);\n            this.pendingLookupPromise.then(addressList => {\n                if (this.pendingLookupPromise === null) {\n                    return;\n                }\n                this.pendingLookupPromise = null;\n                this.latestLookupResult = (0, call_interface_1.statusOrFromValue)(addressList.map(address => ({\n                    addresses: [address],\n                })));\n                const allAddressesString = '[' +\n                    addressList.map(addr => addr.host + ':' + addr.port).join(',') +\n                    ']';\n                trace('Resolved addresses for target ' +\n                    (0, uri_parser_1.uriToString)(this.target) +\n                    ': ' +\n                    allAddressesString);\n                /* If the TXT lookup has not yet finished, both of the last two\n                 * arguments will be null, which is the equivalent of getting an\n                 * empty TXT response. When the TXT lookup does finish, its handler\n                 * can update the service config by using the same address list */\n                const healthStatus = this.listener(this.latestLookupResult, {}, this.latestServiceConfigResult, '');\n                this.handleHealthStatus(healthStatus);\n            }, err => {\n                if (this.pendingLookupPromise === null) {\n                    return;\n                }\n                trace('Resolution error for target ' +\n                    (0, uri_parser_1.uriToString)(this.target) +\n                    ': ' +\n                    err.message);\n                this.pendingLookupPromise = null;\n                this.stopNextResolutionTimer();\n                this.listener((0, call_interface_1.statusOrFromError)(this.defaultResolutionError), {}, this.latestServiceConfigResult, '');\n            });\n            /* If there already is a still-pending TXT resolution, we can just use\n             * that result when it comes in */\n            if (this.isServiceConfigEnabled && this.pendingTxtPromise === null) {\n                /* We handle the TXT query promise differently than the others because\n                 * the name resolution attempt as a whole is a success even if the TXT\n                 * lookup fails */\n                this.pendingTxtPromise = this.resolveTxt(hostname);\n                this.pendingTxtPromise.then(txtRecord => {\n                    if (this.pendingTxtPromise === null) {\n                        return;\n                    }\n                    this.pendingTxtPromise = null;\n                    let serviceConfig;\n                    try {\n                        serviceConfig = (0, service_config_1.extractAndSelectServiceConfig)(txtRecord, this.percentage);\n                        if (serviceConfig) {\n                            this.latestServiceConfigResult = (0, call_interface_1.statusOrFromValue)(serviceConfig);\n                        }\n                        else {\n                            this.latestServiceConfigResult = null;\n                        }\n                    }\n                    catch (err) {\n                        this.latestServiceConfigResult = (0, call_interface_1.statusOrFromError)({\n                            code: constants_1.Status.UNAVAILABLE,\n                            details: `Parsing service config failed with error ${err.message}`\n                        });\n                    }\n                    if (this.latestLookupResult !== null) {\n                        /* We rely here on the assumption that calling this function with\n                         * identical parameters will be essentialy idempotent, and calling\n                         * it with the same address list and a different service config\n                         * should result in a fast and seamless switchover. */\n                        this.listener(this.latestLookupResult, {}, this.latestServiceConfigResult, '');\n                    }\n                }, err => {\n                    /* If TXT lookup fails we should do nothing, which means that we\n                     * continue to use the result of the most recent successful lookup,\n                     * or the default null config object if there has never been a\n                     * successful lookup. We do not set the latestServiceConfigError\n                     * here because that is specifically used for response validation\n                     * errors. We still need to handle this error so that it does not\n                     * bubble up as an unhandled promise rejection. */\n                });\n            }\n        }\n    }\n    /**\n     * The ResolverListener returns a boolean indicating whether the LB policy\n     * accepted the resolution result. A false result on an otherwise successful\n     * resolution should be treated as a resolution failure.\n     * @param healthStatus\n     */\n    handleHealthStatus(healthStatus) {\n        if (healthStatus) {\n            this.backoff.stop();\n            this.backoff.reset();\n        }\n        else {\n            this.continueResolving = true;\n        }\n    }\n    async lookup(hostname) {\n        if (environment_1.GRPC_NODE_USE_ALTERNATIVE_RESOLVER) {\n            trace('Using alternative DNS resolver.');\n            const records = await Promise.allSettled([\n                this.alternativeResolver.resolve4(hostname),\n                this.alternativeResolver.resolve6(hostname),\n            ]);\n            if (records.every(result => result.status === 'rejected')) {\n                throw new Error(records[0].reason);\n            }\n            return records\n                .reduce((acc, result) => {\n                return result.status === 'fulfilled'\n                    ? [...acc, ...result.value]\n                    : acc;\n            }, [])\n                .map(addr => ({\n                host: addr,\n                port: +this.port,\n            }));\n        }\n        /* We lookup both address families here and then split them up later\n         * because when looking up a single family, dns.lookup outputs an error\n         * if the name exists but there are no records for that family, and that\n         * error is indistinguishable from other kinds of errors */\n        const addressList = await dns_1.promises.lookup(hostname, { all: true });\n        return addressList.map(addr => ({ host: addr.address, port: +this.port }));\n    }\n    async resolveTxt(hostname) {\n        if (environment_1.GRPC_NODE_USE_ALTERNATIVE_RESOLVER) {\n            trace('Using alternative DNS resolver.');\n            return this.alternativeResolver.resolveTxt(hostname);\n        }\n        return dns_1.promises.resolveTxt(hostname);\n    }\n    startNextResolutionTimer() {\n        var _a, _b;\n        clearTimeout(this.nextResolutionTimer);\n        this.nextResolutionTimer = setTimeout(() => {\n            this.stopNextResolutionTimer();\n            if (this.continueResolving) {\n                this.startResolutionWithBackoff();\n            }\n        }, this.minTimeBetweenResolutionsMs);\n        (_b = (_a = this.nextResolutionTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.isNextResolutionTimerRunning = true;\n    }\n    stopNextResolutionTimer() {\n        clearTimeout(this.nextResolutionTimer);\n        this.isNextResolutionTimerRunning = false;\n    }\n    startResolutionWithBackoff() {\n        if (this.pendingLookupPromise === null) {\n            this.continueResolving = false;\n            this.backoff.runOnce();\n            this.startNextResolutionTimer();\n            this.startResolution();\n        }\n    }\n    updateResolution() {\n        /* If there is a pending lookup, just let it finish. Otherwise, if the\n         * nextResolutionTimer or backoff timer is running, set the\n         * continueResolving flag to resolve when whichever of those timers\n         * fires. Otherwise, start resolving immediately. */\n        if (this.pendingLookupPromise === null) {\n            if (this.isNextResolutionTimerRunning || this.backoff.isRunning()) {\n                if (this.isNextResolutionTimerRunning) {\n                    trace('resolution update delayed by \"min time between resolutions\" rate limit');\n                }\n                else {\n                    trace('resolution update delayed by backoff timer until ' +\n                        this.backoff.getEndTime().toISOString());\n                }\n                this.continueResolving = true;\n            }\n            else {\n                this.startResolutionWithBackoff();\n            }\n        }\n    }\n    /**\n     * Reset the resolver to the same state it had when it was created. In-flight\n     * DNS requests cannot be cancelled, but they are discarded and their results\n     * will be ignored.\n     */\n    destroy() {\n        this.continueResolving = false;\n        this.backoff.reset();\n        this.backoff.stop();\n        this.stopNextResolutionTimer();\n        this.pendingLookupPromise = null;\n        this.pendingTxtPromise = null;\n        this.latestLookupResult = null;\n        this.latestServiceConfigResult = null;\n        this.returnedIpResult = false;\n    }\n    /**\n     * Get the default authority for the given target. For IP targets, that is\n     * the IP address. For DNS targets, it is the hostname.\n     * @param target\n     */\n    static getDefaultAuthority(target) {\n        return target.path;\n    }\n}\n/**\n * Set up the DNS resolver class by registering it as the handler for the\n * \"dns:\" prefix and as the default resolver.\n */\nfunction setup() {\n    (0, resolver_1.registerResolver)('dns', DnsResolver);\n    (0, resolver_1.registerDefaultScheme)('dns');\n}\n//# sourceMappingURL=resolver-dns.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItZG5zLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQixhQUFhO0FBQ2IsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLHlCQUF5QixtQkFBTyxDQUFDLGdIQUFrQjtBQUNuRCxvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6Qyx5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsd0dBQWM7QUFDM0MsY0FBYyxtQkFBTyxDQUFDLGdCQUFLO0FBQzNCLDBCQUEwQixtQkFBTyxDQUFDLGtIQUFtQjtBQUNyRCxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsMkNBQTJDO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGO0FBQzVGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsMkNBQTJDO0FBQ3ZHLGlCQUFpQixLQUFLO0FBQ3RCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEU7QUFDOUU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHO0FBQ3RHLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixZQUFZO0FBQzdGLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLFdBQVc7QUFDL0UsMENBQTBDLHNDQUFzQztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci1kbnMuanM/OWQxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRFRkFVTFRfUE9SVCA9IHZvaWQgMDtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGRuc18xID0gcmVxdWlyZShcImRuc1wiKTtcbmNvbnN0IHNlcnZpY2VfY29uZmlnXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLWNvbmZpZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgY2FsbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2NhbGwtaW50ZXJmYWNlXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMiA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbmNvbnN0IGVudmlyb25tZW50XzEgPSByZXF1aXJlKFwiLi9lbnZpcm9ubWVudFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2Ruc19yZXNvbHZlcic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbi8qKlxuICogVGhlIGRlZmF1bHQgVENQIHBvcnQgdG8gY29ubmVjdCB0byBpZiBub3QgZXhwbGljaXRseSBzcGVjaWZpZWQgaW4gdGhlIHRhcmdldC5cbiAqL1xuZXhwb3J0cy5ERUZBVUxUX1BPUlQgPSA0NDM7XG5jb25zdCBERUZBVUxUX01JTl9USU1FX0JFVFdFRU5fUkVTT0xVVElPTlNfTVMgPSAzMDAwMDtcbi8qKlxuICogUmVzb2x2ZXIgaW1wbGVtZW50YXRpb24gdGhhdCBoYW5kbGVzIEROUyBuYW1lcyBhbmQgSVAgYWRkcmVzc2VzLlxuICovXG5jbGFzcyBEbnNSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBsaXN0ZW5lciwgY2hhbm5lbE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdUeHRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdFNlcnZpY2VDb25maWdSZXN1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU2VydmljZUNvbmZpZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJldHVybmVkSXBSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZVJlc29sdmVyID0gbmV3IGRuc18xLnByb21pc2VzLlJlc29sdmVyKCk7XG4gICAgICAgIHRyYWNlKCdSZXNvbHZlciBjb25zdHJ1Y3RlZCBmb3IgdGFyZ2V0ICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpKTtcbiAgICAgICAgaWYgKHRhcmdldC5hdXRob3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5zZXRTZXJ2ZXJzKFt0YXJnZXQuYXV0aG9yaXR5XSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaG9zdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldC5wYXRoKTtcbiAgICAgICAgaWYgKGhvc3RQb3J0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlwUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZG5zSG9zdG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoMCwgbmV0XzEuaXNJUHY0KShob3N0UG9ydC5ob3N0KSB8fCAoMCwgbmV0XzEuaXNJUHY2KShob3N0UG9ydC5ob3N0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXBSZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogaG9zdFBvcnQuaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogKF9hID0gaG9zdFBvcnQucG9ydCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZXhwb3J0cy5ERUZBVUxUX1BPUlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB0aGlzLmRuc0hvc3RuYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pcFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5kbnNIb3N0bmFtZSA9IGhvc3RQb3J0Lmhvc3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0ID0gKF9iID0gaG9zdFBvcnQucG9ydCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZXhwb3J0cy5ERUZBVUxUX1BPUlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gTWF0aC5yYW5kb20oKSAqIDEwMDtcbiAgICAgICAgaWYgKGNoYW5uZWxPcHRpb25zWydncnBjLnNlcnZpY2VfY29uZmlnX2Rpc2FibGVfcmVzb2x1dGlvbiddID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmlzU2VydmljZUNvbmZpZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRSZXNvbHV0aW9uRXJyb3IgPSB7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICBkZXRhaWxzOiBgTmFtZSByZXNvbHV0aW9uIGZhaWxlZCBmb3IgdGFyZ2V0ICR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpfWAsXG4gICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYmFja29mZk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpbml0aWFsRGVsYXk6IGNoYW5uZWxPcHRpb25zWydncnBjLmluaXRpYWxfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgICAgIG1heERlbGF5OiBjaGFubmVsT3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmID0gbmV3IGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRpbnVlUmVzb2x2aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBiYWNrb2ZmT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYmFja29mZi51bnJlZigpO1xuICAgICAgICB0aGlzLm1pblRpbWVCZXR3ZWVuUmVzb2x1dGlvbnNNcyA9XG4gICAgICAgICAgICAoX2MgPSBjaGFubmVsT3B0aW9uc1snZ3JwYy5kbnNfbWluX3RpbWVfYmV0d2Vlbl9yZXNvbHV0aW9uc19tcyddKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBERUZBVUxUX01JTl9USU1FX0JFVFdFRU5fUkVTT0xVVElPTlNfTVM7XG4gICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSB0YXJnZXQgaXMgYW4gSVAgYWRkcmVzcywganVzdCBwcm92aWRlIHRoYXQgYWRkcmVzcyBhcyBhIHJlc3VsdC5cbiAgICAgKiBPdGhlcndpc2UsIGluaXRpYXRlIEEsIEFBQUEsIGFuZCBUWFQgbG9va3Vwc1xuICAgICAqL1xuICAgIHN0YXJ0UmVzb2x1dGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXBSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXR1cm5lZElwUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1JldHVybmluZyBJUCBhZGRyZXNzIGZvciB0YXJnZXQgJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSk7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcigoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkodGhpcy5pcFJlc3VsdCksIHt9LCBudWxsLCAnJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXR1cm5lZElwUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kbnNIb3N0bmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdHJhY2UoJ0ZhaWxlZCB0byBwYXJzZSBETlMgYWRkcmVzcyAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpKTtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcigoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21FcnJvcikoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBGYWlsZWQgdG8gcGFyc2UgRE5TIGFkZHJlc3MgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCl9YFxuICAgICAgICAgICAgICAgIH0pLCB7fSwgbnVsbCwgJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0b3BOZXh0UmVzb2x1dGlvblRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKCdMb29raW5nIHVwIEROUyBob3N0bmFtZSAnICsgdGhpcy5kbnNIb3N0bmFtZSk7XG4gICAgICAgICAgICAvKiBXZSBjbGVhciBvdXQgbGF0ZXN0TG9va3VwUmVzdWx0IGhlcmUgdG8gZW5zdXJlIHRoYXQgaXQgY29udGFpbnMgdGhlXG4gICAgICAgICAgICAgKiBsYXRlc3QgcmVzdWx0IHNpbmNlIHRoZSBsYXN0IHRpbWUgd2Ugc3RhcnRlZCByZXNvbHZpbmcuIFRoYXQgd2F5LCB0aGVcbiAgICAgICAgICAgICAqIFRYVCByZXNvbHV0aW9uIGhhbmRsZXIgY2FuIHVzZSBpdCwgYnV0IG9ubHkgaWYgaXQgZmluaXNoZXMgc2Vjb25kLiBXZVxuICAgICAgICAgICAgICogZG9uJ3QgY2xlYXIgb3V0IGFueSBwcmV2aW91cyBzZXJ2aWNlIGNvbmZpZyByZXN1bHRzIGJlY2F1c2UgaXQnc1xuICAgICAgICAgICAgICogYmV0dGVyIHRvIHVzZSBhIHNlcnZpY2UgY29uZmlnIHRoYXQncyBzbGlnaHRseSBvdXQgb2YgZGF0ZSB0aGFuIHRvXG4gICAgICAgICAgICAgKiByZXZlcnQgdG8gYW4gZWZmZWN0aXZlbHkgYmxhbmsgb25lLiAqL1xuICAgICAgICAgICAgdGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaG9zdG5hbWUgPSB0aGlzLmRuc0hvc3RuYW1lO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IHRoaXMubG9va3VwKGhvc3RuYW1lKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UudGhlbihhZGRyZXNzTGlzdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdMb29rdXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9ICgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbVZhbHVlKShhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzZXM6IFthZGRyZXNzXSxcbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEFkZHJlc3Nlc1N0cmluZyA9ICdbJyArXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NMaXN0Lm1hcChhZGRyID0+IGFkZHIuaG9zdCArICc6JyArIGFkZHIucG9ydCkuam9pbignLCcpICtcbiAgICAgICAgICAgICAgICAgICAgJ10nO1xuICAgICAgICAgICAgICAgIHRyYWNlKCdSZXNvbHZlZCBhZGRyZXNzZXMgZm9yIHRhcmdldCAnICtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpICtcbiAgICAgICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgICAgIGFsbEFkZHJlc3Nlc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIFRYVCBsb29rdXAgaGFzIG5vdCB5ZXQgZmluaXNoZWQsIGJvdGggb2YgdGhlIGxhc3QgdHdvXG4gICAgICAgICAgICAgICAgICogYXJndW1lbnRzIHdpbGwgYmUgbnVsbCwgd2hpY2ggaXMgdGhlIGVxdWl2YWxlbnQgb2YgZ2V0dGluZyBhblxuICAgICAgICAgICAgICAgICAqIGVtcHR5IFRYVCByZXNwb25zZS4gV2hlbiB0aGUgVFhUIGxvb2t1cCBkb2VzIGZpbmlzaCwgaXRzIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgKiBjYW4gdXBkYXRlIHRoZSBzZXJ2aWNlIGNvbmZpZyBieSB1c2luZyB0aGUgc2FtZSBhZGRyZXNzIGxpc3QgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBoZWFsdGhTdGF0dXMgPSB0aGlzLmxpc3RlbmVyKHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0LCB7fSwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0LCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVIZWFsdGhTdGF0dXMoaGVhbHRoU3RhdHVzKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjZSgnUmVzb2x1dGlvbiBlcnJvciBmb3IgdGFyZ2V0ICcgK1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgK1xuICAgICAgICAgICAgICAgICAgICAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyKCgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbUVycm9yKSh0aGlzLmRlZmF1bHRSZXNvbHV0aW9uRXJyb3IpLCB7fSwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0LCAnJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qIElmIHRoZXJlIGFscmVhZHkgaXMgYSBzdGlsbC1wZW5kaW5nIFRYVCByZXNvbHV0aW9uLCB3ZSBjYW4ganVzdCB1c2VcbiAgICAgICAgICAgICAqIHRoYXQgcmVzdWx0IHdoZW4gaXQgY29tZXMgaW4gKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2VydmljZUNvbmZpZ0VuYWJsZWQgJiYgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8qIFdlIGhhbmRsZSB0aGUgVFhUIHF1ZXJ5IHByb21pc2UgZGlmZmVyZW50bHkgdGhhbiB0aGUgb3RoZXJzIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgKiB0aGUgbmFtZSByZXNvbHV0aW9uIGF0dGVtcHQgYXMgYSB3aG9sZSBpcyBhIHN1Y2Nlc3MgZXZlbiBpZiB0aGUgVFhUXG4gICAgICAgICAgICAgICAgICogbG9va3VwIGZhaWxzICovXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9IHRoaXMucmVzb2x2ZVR4dChob3N0bmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZS50aGVuKHR4dFJlY29yZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdUeHRQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUNvbmZpZyA9ICgwLCBzZXJ2aWNlX2NvbmZpZ18xLmV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnKSh0eHRSZWNvcmQsIHRoaXMucGVyY2VudGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljZUNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ1Jlc3VsdCA9ICgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbVZhbHVlKShzZXJ2aWNlQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ1Jlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0ID0gKDAsIGNhbGxfaW50ZXJmYWNlXzEuc3RhdHVzT3JGcm9tRXJyb3IpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFBhcnNpbmcgc2VydmljZSBjb25maWcgZmFpbGVkIHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFdlIHJlbHkgaGVyZSBvbiB0aGUgYXNzdW1wdGlvbiB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBpZGVudGljYWwgcGFyYW1ldGVycyB3aWxsIGJlIGVzc2VudGlhbHkgaWRlbXBvdGVudCwgYW5kIGNhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGl0IHdpdGggdGhlIHNhbWUgYWRkcmVzcyBsaXN0IGFuZCBhIGRpZmZlcmVudCBzZXJ2aWNlIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogc2hvdWxkIHJlc3VsdCBpbiBhIGZhc3QgYW5kIHNlYW1sZXNzIHN3aXRjaG92ZXIuICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyKHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0LCB7fSwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0LCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiBUWFQgbG9va3VwIGZhaWxzIHdlIHNob3VsZCBkbyBub3RoaW5nLCB3aGljaCBtZWFucyB0aGF0IHdlXG4gICAgICAgICAgICAgICAgICAgICAqIGNvbnRpbnVlIHRvIHVzZSB0aGUgcmVzdWx0IG9mIHRoZSBtb3N0IHJlY2VudCBzdWNjZXNzZnVsIGxvb2t1cCxcbiAgICAgICAgICAgICAgICAgICAgICogb3IgdGhlIGRlZmF1bHQgbnVsbCBjb25maWcgb2JqZWN0IGlmIHRoZXJlIGhhcyBuZXZlciBiZWVuIGFcbiAgICAgICAgICAgICAgICAgICAgICogc3VjY2Vzc2Z1bCBsb29rdXAuIFdlIGRvIG5vdCBzZXQgdGhlIGxhdGVzdFNlcnZpY2VDb25maWdFcnJvclxuICAgICAgICAgICAgICAgICAgICAgKiBoZXJlIGJlY2F1c2UgdGhhdCBpcyBzcGVjaWZpY2FsbHkgdXNlZCBmb3IgcmVzcG9uc2UgdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgICAgICAgKiBlcnJvcnMuIFdlIHN0aWxsIG5lZWQgdG8gaGFuZGxlIHRoaXMgZXJyb3Igc28gdGhhdCBpdCBkb2VzIG5vdFxuICAgICAgICAgICAgICAgICAgICAgKiBidWJibGUgdXAgYXMgYW4gdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uLiAqL1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBSZXNvbHZlckxpc3RlbmVyIHJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgTEIgcG9saWN5XG4gICAgICogYWNjZXB0ZWQgdGhlIHJlc29sdXRpb24gcmVzdWx0LiBBIGZhbHNlIHJlc3VsdCBvbiBhbiBvdGhlcndpc2Ugc3VjY2Vzc2Z1bFxuICAgICAqIHJlc29sdXRpb24gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSByZXNvbHV0aW9uIGZhaWx1cmUuXG4gICAgICogQHBhcmFtIGhlYWx0aFN0YXR1c1xuICAgICAqL1xuICAgIGhhbmRsZUhlYWx0aFN0YXR1cyhoZWFsdGhTdGF0dXMpIHtcbiAgICAgICAgaWYgKGhlYWx0aFN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9va3VwKGhvc3RuYW1lKSB7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudF8xLkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIpIHtcbiAgICAgICAgICAgIHRyYWNlKCdVc2luZyBhbHRlcm5hdGl2ZSBETlMgcmVzb2x2ZXIuJyk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlUmVzb2x2ZXIucmVzb2x2ZTQoaG9zdG5hbWUpLFxuICAgICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5yZXNvbHZlNihob3N0bmFtZSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGlmIChyZWNvcmRzLmV2ZXJ5KHJlc3VsdCA9PiByZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZWNvcmRzWzBdLnJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVjb3Jkc1xuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnXG4gICAgICAgICAgICAgICAgICAgID8gWy4uLmFjYywgLi4ucmVzdWx0LnZhbHVlXVxuICAgICAgICAgICAgICAgICAgICA6IGFjYztcbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoYWRkciA9PiAoe1xuICAgICAgICAgICAgICAgIGhvc3Q6IGFkZHIsXG4gICAgICAgICAgICAgICAgcG9ydDogK3RoaXMucG9ydCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBXZSBsb29rdXAgYm90aCBhZGRyZXNzIGZhbWlsaWVzIGhlcmUgYW5kIHRoZW4gc3BsaXQgdGhlbSB1cCBsYXRlclxuICAgICAgICAgKiBiZWNhdXNlIHdoZW4gbG9va2luZyB1cCBhIHNpbmdsZSBmYW1pbHksIGRucy5sb29rdXAgb3V0cHV0cyBhbiBlcnJvclxuICAgICAgICAgKiBpZiB0aGUgbmFtZSBleGlzdHMgYnV0IHRoZXJlIGFyZSBubyByZWNvcmRzIGZvciB0aGF0IGZhbWlseSwgYW5kIHRoYXRcbiAgICAgICAgICogZXJyb3IgaXMgaW5kaXN0aW5ndWlzaGFibGUgZnJvbSBvdGhlciBraW5kcyBvZiBlcnJvcnMgKi9cbiAgICAgICAgY29uc3QgYWRkcmVzc0xpc3QgPSBhd2FpdCBkbnNfMS5wcm9taXNlcy5sb29rdXAoaG9zdG5hbWUsIHsgYWxsOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gYWRkcmVzc0xpc3QubWFwKGFkZHIgPT4gKHsgaG9zdDogYWRkci5hZGRyZXNzLCBwb3J0OiArdGhpcy5wb3J0IH0pKTtcbiAgICB9XG4gICAgYXN5bmMgcmVzb2x2ZVR4dChob3N0bmFtZSkge1xuICAgICAgICBpZiAoZW52aXJvbm1lbnRfMS5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSKSB7XG4gICAgICAgICAgICB0cmFjZSgnVXNpbmcgYWx0ZXJuYXRpdmUgRE5TIHJlc29sdmVyLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5yZXNvbHZlVHh0KGhvc3RuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG5zXzEucHJvbWlzZXMucmVzb2x2ZVR4dChob3N0bmFtZSk7XG4gICAgfVxuICAgIHN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdG9wTmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGludWVSZXNvbHZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVzb2x1dGlvbldpdGhCYWNrb2ZmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMubWluVGltZUJldHdlZW5SZXNvbHV0aW9uc01zKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB0aGlzLmlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmcgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wTmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5ydW5PbmNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICAvKiBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgbG9va3VwLCBqdXN0IGxldCBpdCBmaW5pc2guIE90aGVyd2lzZSwgaWYgdGhlXG4gICAgICAgICAqIG5leHRSZXNvbHV0aW9uVGltZXIgb3IgYmFja29mZiB0aW1lciBpcyBydW5uaW5nLCBzZXQgdGhlXG4gICAgICAgICAqIGNvbnRpbnVlUmVzb2x2aW5nIGZsYWcgdG8gcmVzb2x2ZSB3aGVuIHdoaWNoZXZlciBvZiB0aG9zZSB0aW1lcnNcbiAgICAgICAgICogZmlyZXMuIE90aGVyd2lzZSwgc3RhcnQgcmVzb2x2aW5nIGltbWVkaWF0ZWx5LiAqL1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyB8fCB0aGlzLmJhY2tvZmYuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05leHRSZXNvbHV0aW9uVGltZXJSdW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IFwibWluIHRpbWUgYmV0d2VlbiByZXNvbHV0aW9uc1wiIHJhdGUgbGltaXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IGJhY2tvZmYgdGltZXIgdW50aWwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmYuZ2V0RW5kVGltZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZXNvbHV0aW9uV2l0aEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgcmVzb2x2ZXIgdG8gdGhlIHNhbWUgc3RhdGUgaXQgaGFkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuIEluLWZsaWdodFxuICAgICAqIEROUyByZXF1ZXN0cyBjYW5ub3QgYmUgY2FuY2VsbGVkLCBidXQgdGhleSBhcmUgZGlzY2FyZGVkIGFuZCB0aGVpciByZXN1bHRzXG4gICAgICogd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ1Jlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmV0dXJuZWRJcFJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgYXV0aG9yaXR5IGZvciB0aGUgZ2l2ZW4gdGFyZ2V0LiBGb3IgSVAgdGFyZ2V0cywgdGhhdCBpc1xuICAgICAqIHRoZSBJUCBhZGRyZXNzLiBGb3IgRE5TIHRhcmdldHMsIGl0IGlzIHRoZSBob3N0bmFtZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICovXG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQucGF0aDtcbiAgICB9XG59XG4vKipcbiAqIFNldCB1cCB0aGUgRE5TIHJlc29sdmVyIGNsYXNzIGJ5IHJlZ2lzdGVyaW5nIGl0IGFzIHRoZSBoYW5kbGVyIGZvciB0aGVcbiAqIFwiZG5zOlwiIHByZWZpeCBhbmQgYXMgdGhlIGRlZmF1bHQgcmVzb2x2ZXIuXG4gKi9cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXIpKCdkbnMnLCBEbnNSZXNvbHZlcik7XG4gICAgKDAsIHJlc29sdmVyXzEucmVnaXN0ZXJEZWZhdWx0U2NoZW1lKSgnZG5zJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlci1kbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-dns.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setup = setup;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'ip_resolver';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst IPV4_SCHEME = 'ipv4';\nconst IPV6_SCHEME = 'ipv6';\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nconst DEFAULT_PORT = 443;\nclass IpResolver {\n    constructor(target, listener, channelOptions) {\n        var _a;\n        this.listener = listener;\n        this.endpoints = [];\n        this.error = null;\n        this.hasReturnedResult = false;\n        trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n        const addresses = [];\n        if (!(target.scheme === IPV4_SCHEME || target.scheme === IPV6_SCHEME)) {\n            this.error = {\n                code: constants_1.Status.UNAVAILABLE,\n                details: `Unrecognized scheme ${target.scheme} in IP resolver`,\n                metadata: new metadata_1.Metadata(),\n            };\n            return;\n        }\n        const pathList = target.path.split(',');\n        for (const path of pathList) {\n            const hostPort = (0, uri_parser_1.splitHostPort)(path);\n            if (hostPort === null) {\n                this.error = {\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse ${target.scheme} address ${path}`,\n                    metadata: new metadata_1.Metadata(),\n                };\n                return;\n            }\n            if ((target.scheme === IPV4_SCHEME && !(0, net_1.isIPv4)(hostPort.host)) ||\n                (target.scheme === IPV6_SCHEME && !(0, net_1.isIPv6)(hostPort.host))) {\n                this.error = {\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse ${target.scheme} address ${path}`,\n                    metadata: new metadata_1.Metadata(),\n                };\n                return;\n            }\n            addresses.push({\n                host: hostPort.host,\n                port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : DEFAULT_PORT,\n            });\n        }\n        this.endpoints = addresses.map(address => ({ addresses: [address] }));\n        trace('Parsed ' + target.scheme + ' address list ' + addresses.map(subchannel_address_1.subchannelAddressToString));\n    }\n    updateResolution() {\n        if (!this.hasReturnedResult) {\n            this.hasReturnedResult = true;\n            process.nextTick(() => {\n                if (this.error) {\n                    this.listener((0, call_interface_1.statusOrFromError)(this.error), {}, null, '');\n                }\n                else {\n                    this.listener((0, call_interface_1.statusOrFromValue)(this.endpoints), {}, null, '');\n                }\n            });\n        }\n    }\n    destroy() {\n        this.hasReturnedResult = false;\n    }\n    static getDefaultAuthority(target) {\n        return target.path.split(',')[0];\n    }\n}\nfunction setup() {\n    (0, resolver_1.registerResolver)(IPV4_SCHEME, IpResolver);\n    (0, resolver_1.registerResolver)(IPV6_SCHEME, IpResolver);\n}\n//# sourceMappingURL=resolver-ip.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItaXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYTtBQUNiLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQix5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGVBQWU7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZUFBZSxVQUFVLEtBQUs7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxlQUFlLFVBQVUsS0FBSztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHFEQUFxRCxzQkFBc0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUY7QUFDekY7QUFDQTtBQUNBLDZGQUE2RjtBQUM3RjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLWlwLmpzPzNiZjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgY2FsbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2NhbGwtaW50ZXJmYWNlXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2lwX3Jlc29sdmVyJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgSVBWNF9TQ0hFTUUgPSAnaXB2NCc7XG5jb25zdCBJUFY2X1NDSEVNRSA9ICdpcHY2Jztcbi8qKlxuICogVGhlIGRlZmF1bHQgVENQIHBvcnQgdG8gY29ubmVjdCB0byBpZiBub3QgZXhwbGljaXRseSBzcGVjaWZpZWQgaW4gdGhlIHRhcmdldC5cbiAqL1xuY29uc3QgREVGQVVMVF9QT1JUID0gNDQzO1xuY2xhc3MgSXBSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBsaXN0ZW5lciwgY2hhbm5lbE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuZW5kcG9pbnRzID0gW107XG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmhhc1JldHVybmVkUmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHRyYWNlKCdSZXNvbHZlciBjb25zdHJ1Y3RlZCBmb3IgdGFyZ2V0ICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpKTtcbiAgICAgICAgY29uc3QgYWRkcmVzc2VzID0gW107XG4gICAgICAgIGlmICghKHRhcmdldC5zY2hlbWUgPT09IElQVjRfU0NIRU1FIHx8IHRhcmdldC5zY2hlbWUgPT09IElQVjZfU0NIRU1FKSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFVucmVjb2duaXplZCBzY2hlbWUgJHt0YXJnZXQuc2NoZW1lfSBpbiBJUCByZXNvbHZlcmAsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGhMaXN0ID0gdGFyZ2V0LnBhdGguc3BsaXQoJywnKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhMaXN0KSB7XG4gICAgICAgICAgICBjb25zdCBob3N0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkocGF0aCk7XG4gICAgICAgICAgICBpZiAoaG9zdFBvcnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBGYWlsZWQgdG8gcGFyc2UgJHt0YXJnZXQuc2NoZW1lfSBhZGRyZXNzICR7cGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFyZ2V0LnNjaGVtZSA9PT0gSVBWNF9TQ0hFTUUgJiYgISgwLCBuZXRfMS5pc0lQdjQpKGhvc3RQb3J0Lmhvc3QpKSB8fFxuICAgICAgICAgICAgICAgICh0YXJnZXQuc2NoZW1lID09PSBJUFY2X1NDSEVNRSAmJiAhKDAsIG5ldF8xLmlzSVB2NikoaG9zdFBvcnQuaG9zdCkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgRmFpbGVkIHRvIHBhcnNlICR7dGFyZ2V0LnNjaGVtZX0gYWRkcmVzcyAke3BhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRyZXNzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaG9zdDogaG9zdFBvcnQuaG9zdCxcbiAgICAgICAgICAgICAgICBwb3J0OiAoX2EgPSBob3N0UG9ydC5wb3J0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBERUZBVUxUX1BPUlQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZHBvaW50cyA9IGFkZHJlc3Nlcy5tYXAoYWRkcmVzcyA9PiAoeyBhZGRyZXNzZXM6IFthZGRyZXNzXSB9KSk7XG4gICAgICAgIHRyYWNlKCdQYXJzZWQgJyArIHRhcmdldC5zY2hlbWUgKyAnIGFkZHJlc3MgbGlzdCAnICsgYWRkcmVzc2VzLm1hcChzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKSk7XG4gICAgfVxuICAgIHVwZGF0ZVJlc29sdXRpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNSZXR1cm5lZFJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5oYXNSZXR1cm5lZFJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyKCgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbUVycm9yKSh0aGlzLmVycm9yKSwge30sIG51bGwsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIoKDAsIGNhbGxfaW50ZXJmYWNlXzEuc3RhdHVzT3JGcm9tVmFsdWUpKHRoaXMuZW5kcG9pbnRzKSwge30sIG51bGwsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmhhc1JldHVybmVkUmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREZWZhdWx0QXV0aG9yaXR5KHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0LnBhdGguc3BsaXQoJywnKVswXTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKShJUFY0X1NDSEVNRSwgSXBSZXNvbHZlcik7XG4gICAgKDAsIHJlc29sdmVyXzEucmVnaXN0ZXJSZXNvbHZlcikoSVBWNl9TQ0hFTUUsIElwUmVzb2x2ZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZXItaXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-ip.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setup = setup;\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst call_interface_1 = __webpack_require__(/*! ./call-interface */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-interface.js\");\nclass UdsResolver {\n    constructor(target, listener, channelOptions) {\n        this.listener = listener;\n        this.hasReturnedResult = false;\n        this.endpoints = [];\n        let path;\n        if (target.authority === '') {\n            path = '/' + target.path;\n        }\n        else {\n            path = target.path;\n        }\n        this.endpoints = [{ addresses: [{ path }] }];\n    }\n    updateResolution() {\n        if (!this.hasReturnedResult) {\n            this.hasReturnedResult = true;\n            process.nextTick(this.listener, (0, call_interface_1.statusOrFromValue)(this.endpoints), {}, null, '');\n        }\n    }\n    destroy() {\n        this.hasReturnedResult = false;\n    }\n    static getDefaultAuthority(target) {\n        return 'localhost';\n    }\n}\nfunction setup() {\n    (0, resolver_1.registerResolver)('unix', UdsResolver);\n}\n//# sourceMappingURL=resolver-uds.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItdWRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGFBQWE7QUFDYixtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2Qyx5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGNBQWMsTUFBTSxHQUFHO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLXVkcy5qcz9kMjAwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGNhbGxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9jYWxsLWludGVyZmFjZVwiKTtcbmNsYXNzIFVkc1Jlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmRwb2ludHMgPSBbXTtcbiAgICAgICAgbGV0IHBhdGg7XG4gICAgICAgIGlmICh0YXJnZXQuYXV0aG9yaXR5ID09PSAnJykge1xuICAgICAgICAgICAgcGF0aCA9ICcvJyArIHRhcmdldC5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0aCA9IHRhcmdldC5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kcG9pbnRzID0gW3sgYWRkcmVzc2VzOiBbeyBwYXRoIH1dIH1dO1xuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUmV0dXJuZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayh0aGlzLmxpc3RlbmVyLCAoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkodGhpcy5lbmRwb2ludHMpLCB7fSwgbnVsbCwgJycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAnbG9jYWxob3N0JztcbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKSgndW5peCcsIFVkc1Jlc29sdmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLXVkcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver-uds.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CHANNEL_ARGS_CONFIG_SELECTOR_KEY = void 0;\nexports.registerResolver = registerResolver;\nexports.registerDefaultScheme = registerDefaultScheme;\nexports.createResolver = createResolver;\nexports.getDefaultAuthority = getDefaultAuthority;\nexports.mapUriDefaultScheme = mapUriDefaultScheme;\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nexports.CHANNEL_ARGS_CONFIG_SELECTOR_KEY = 'grpc.internal.config_selector';\nconst registeredResolvers = {};\nlet defaultScheme = null;\n/**\n * Register a resolver class to handle target names prefixed with the `prefix`\n * string. This prefix should correspond to a URI scheme name listed in the\n * [gRPC Name Resolution document](https://github.com/grpc/grpc/blob/master/doc/naming.md)\n * @param prefix\n * @param resolverClass\n */\nfunction registerResolver(scheme, resolverClass) {\n    registeredResolvers[scheme] = resolverClass;\n}\n/**\n * Register a default resolver to handle target names that do not start with\n * any registered prefix.\n * @param resolverClass\n */\nfunction registerDefaultScheme(scheme) {\n    defaultScheme = scheme;\n}\n/**\n * Create a name resolver for the specified target, if possible. Throws an\n * error if no such name resolver can be created.\n * @param target\n * @param listener\n */\nfunction createResolver(target, listener, options) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n        return new registeredResolvers[target.scheme](target, listener, options);\n    }\n    else {\n        throw new Error(`No resolver could be created for target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n}\n/**\n * Get the default authority for the specified target, if possible. Throws an\n * error if no registered name resolver can parse that target string.\n * @param target\n */\nfunction getDefaultAuthority(target) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n        return registeredResolvers[target.scheme].getDefaultAuthority(target);\n    }\n    else {\n        throw new Error(`Invalid target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n}\nfunction mapUriDefaultScheme(target) {\n    if (target.scheme === undefined || !(target.scheme in registeredResolvers)) {\n        if (defaultScheme !== null) {\n            return {\n                scheme: defaultScheme,\n                authority: undefined,\n                path: (0, uri_parser_1.uriToString)(target),\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    return target;\n}\n//# sourceMappingURL=resolver.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3Q0FBd0M7QUFDeEMsd0JBQXdCO0FBQ3hCLDZCQUE2QjtBQUM3QixzQkFBc0I7QUFDdEIsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQixxQkFBcUIsbUJBQU8sQ0FBQyx3R0FBYztBQUMzQyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0NBQXNDO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxzQ0FBc0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLmpzP2RmNjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ0hBTk5FTF9BUkdTX0NPTkZJR19TRUxFQ1RPUl9LRVkgPSB2b2lkIDA7XG5leHBvcnRzLnJlZ2lzdGVyUmVzb2x2ZXIgPSByZWdpc3RlclJlc29sdmVyO1xuZXhwb3J0cy5yZWdpc3RlckRlZmF1bHRTY2hlbWUgPSByZWdpc3RlckRlZmF1bHRTY2hlbWU7XG5leHBvcnRzLmNyZWF0ZVJlc29sdmVyID0gY3JlYXRlUmVzb2x2ZXI7XG5leHBvcnRzLmdldERlZmF1bHRBdXRob3JpdHkgPSBnZXREZWZhdWx0QXV0aG9yaXR5O1xuZXhwb3J0cy5tYXBVcmlEZWZhdWx0U2NoZW1lID0gbWFwVXJpRGVmYXVsdFNjaGVtZTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5leHBvcnRzLkNIQU5ORUxfQVJHU19DT05GSUdfU0VMRUNUT1JfS0VZID0gJ2dycGMuaW50ZXJuYWwuY29uZmlnX3NlbGVjdG9yJztcbmNvbnN0IHJlZ2lzdGVyZWRSZXNvbHZlcnMgPSB7fTtcbmxldCBkZWZhdWx0U2NoZW1lID0gbnVsbDtcbi8qKlxuICogUmVnaXN0ZXIgYSByZXNvbHZlciBjbGFzcyB0byBoYW5kbGUgdGFyZ2V0IG5hbWVzIHByZWZpeGVkIHdpdGggdGhlIGBwcmVmaXhgXG4gKiBzdHJpbmcuIFRoaXMgcHJlZml4IHNob3VsZCBjb3JyZXNwb25kIHRvIGEgVVJJIHNjaGVtZSBuYW1lIGxpc3RlZCBpbiB0aGVcbiAqIFtnUlBDIE5hbWUgUmVzb2x1dGlvbiBkb2N1bWVudF0oaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL21hc3Rlci9kb2MvbmFtaW5nLm1kKVxuICogQHBhcmFtIHByZWZpeFxuICogQHBhcmFtIHJlc29sdmVyQ2xhc3NcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJSZXNvbHZlcihzY2hlbWUsIHJlc29sdmVyQ2xhc3MpIHtcbiAgICByZWdpc3RlcmVkUmVzb2x2ZXJzW3NjaGVtZV0gPSByZXNvbHZlckNsYXNzO1xufVxuLyoqXG4gKiBSZWdpc3RlciBhIGRlZmF1bHQgcmVzb2x2ZXIgdG8gaGFuZGxlIHRhcmdldCBuYW1lcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoXG4gKiBhbnkgcmVnaXN0ZXJlZCBwcmVmaXguXG4gKiBAcGFyYW0gcmVzb2x2ZXJDbGFzc1xuICovXG5mdW5jdGlvbiByZWdpc3RlckRlZmF1bHRTY2hlbWUoc2NoZW1lKSB7XG4gICAgZGVmYXVsdFNjaGVtZSA9IHNjaGVtZTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmFtZSByZXNvbHZlciBmb3IgdGhlIHNwZWNpZmllZCB0YXJnZXQsIGlmIHBvc3NpYmxlLiBUaHJvd3MgYW5cbiAqIGVycm9yIGlmIG5vIHN1Y2ggbmFtZSByZXNvbHZlciBjYW4gYmUgY3JlYXRlZC5cbiAqIEBwYXJhbSB0YXJnZXRcbiAqIEBwYXJhbSBsaXN0ZW5lclxuICovXG5mdW5jdGlvbiBjcmVhdGVSZXNvbHZlcih0YXJnZXQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuc2NoZW1lIGluIHJlZ2lzdGVyZWRSZXNvbHZlcnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkUmVzb2x2ZXJzW3RhcmdldC5zY2hlbWVdKHRhcmdldCwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyByZXNvbHZlciBjb3VsZCBiZSBjcmVhdGVkIGZvciB0YXJnZXQgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpfWApO1xuICAgIH1cbn1cbi8qKlxuICogR2V0IHRoZSBkZWZhdWx0IGF1dGhvcml0eSBmb3IgdGhlIHNwZWNpZmllZCB0YXJnZXQsIGlmIHBvc3NpYmxlLiBUaHJvd3MgYW5cbiAqIGVycm9yIGlmIG5vIHJlZ2lzdGVyZWQgbmFtZSByZXNvbHZlciBjYW4gcGFyc2UgdGhhdCB0YXJnZXQgc3RyaW5nLlxuICogQHBhcmFtIHRhcmdldFxuICovXG5mdW5jdGlvbiBnZXREZWZhdWx0QXV0aG9yaXR5KHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuc2NoZW1lICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LnNjaGVtZSBpbiByZWdpc3RlcmVkUmVzb2x2ZXJzKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlcmVkUmVzb2x2ZXJzW3RhcmdldC5zY2hlbWVdLmdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXJnZXQgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFVyaURlZmF1bHRTY2hlbWUodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgPT09IHVuZGVmaW5lZCB8fCAhKHRhcmdldC5zY2hlbWUgaW4gcmVnaXN0ZXJlZFJlc29sdmVycykpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRTY2hlbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2NoZW1lOiBkZWZhdWx0U2NoZW1lLFxuICAgICAgICAgICAgICAgIGF1dGhvcml0eTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHBhdGg6ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResolvingCall = void 0;\nconst call_credentials_1 = __webpack_require__(/*! ./call-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-credentials.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst TRACER_NAME = 'resolving_call';\nclass ResolvingCall {\n    constructor(channel, method, options, filterStackFactory, callNumber) {\n        this.channel = channel;\n        this.method = method;\n        this.filterStackFactory = filterStackFactory;\n        this.callNumber = callNumber;\n        this.child = null;\n        this.readPending = false;\n        this.pendingMessage = null;\n        this.pendingHalfClose = false;\n        this.ended = false;\n        this.readFilterPending = false;\n        this.writeFilterPending = false;\n        this.pendingChildStatus = null;\n        this.metadata = null;\n        this.listener = null;\n        this.statusWatchers = [];\n        this.deadlineTimer = setTimeout(() => { }, 0);\n        this.filterStack = null;\n        this.deadlineStartTime = null;\n        this.configReceivedTime = null;\n        this.childStartTime = null;\n        /**\n         * Credentials configured for this specific call. Does not include\n         * call credentials associated with the channel credentials used to create\n         * the channel.\n         */\n        this.credentials = call_credentials_1.CallCredentials.createEmpty();\n        this.deadline = options.deadline;\n        this.host = options.host;\n        if (options.parentCall) {\n            if (options.flags & constants_1.Propagate.CANCELLATION) {\n                options.parentCall.on('cancelled', () => {\n                    this.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled by parent call');\n                });\n            }\n            if (options.flags & constants_1.Propagate.DEADLINE) {\n                this.trace('Propagating deadline from parent: ' +\n                    options.parentCall.getDeadline());\n                this.deadline = (0, deadline_1.minDeadline)(this.deadline, options.parentCall.getDeadline());\n            }\n        }\n        this.trace('Created');\n        this.runDeadlineTimer();\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    runDeadlineTimer() {\n        clearTimeout(this.deadlineTimer);\n        this.deadlineStartTime = new Date();\n        this.trace('Deadline: ' + (0, deadline_1.deadlineToString)(this.deadline));\n        const timeout = (0, deadline_1.getRelativeTimeout)(this.deadline);\n        if (timeout !== Infinity) {\n            this.trace('Deadline will be reached in ' + timeout + 'ms');\n            const handleDeadline = () => {\n                if (!this.deadlineStartTime) {\n                    this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, 'Deadline exceeded');\n                    return;\n                }\n                const deadlineInfo = [];\n                const deadlineEndTime = new Date();\n                deadlineInfo.push(`Deadline exceeded after ${(0, deadline_1.formatDateDifference)(this.deadlineStartTime, deadlineEndTime)}`);\n                if (this.configReceivedTime) {\n                    if (this.configReceivedTime > this.deadlineStartTime) {\n                        deadlineInfo.push(`name resolution: ${(0, deadline_1.formatDateDifference)(this.deadlineStartTime, this.configReceivedTime)}`);\n                    }\n                    if (this.childStartTime) {\n                        if (this.childStartTime > this.configReceivedTime) {\n                            deadlineInfo.push(`metadata filters: ${(0, deadline_1.formatDateDifference)(this.configReceivedTime, this.childStartTime)}`);\n                        }\n                    }\n                    else {\n                        deadlineInfo.push('waiting for metadata filters');\n                    }\n                }\n                else {\n                    deadlineInfo.push('waiting for name resolution');\n                }\n                if (this.child) {\n                    deadlineInfo.push(...this.child.getDeadlineInfo());\n                }\n                this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, deadlineInfo.join(','));\n            };\n            if (timeout <= 0) {\n                process.nextTick(handleDeadline);\n            }\n            else {\n                this.deadlineTimer = setTimeout(handleDeadline, timeout);\n            }\n        }\n    }\n    outputStatus(status) {\n        if (!this.ended) {\n            this.ended = true;\n            if (!this.filterStack) {\n                this.filterStack = this.filterStackFactory.createFilter();\n            }\n            clearTimeout(this.deadlineTimer);\n            const filteredStatus = this.filterStack.receiveTrailers(status);\n            this.trace('ended with status: code=' +\n                filteredStatus.code +\n                ' details=\"' +\n                filteredStatus.details +\n                '\"');\n            this.statusWatchers.forEach(watcher => watcher(filteredStatus));\n            process.nextTick(() => {\n                var _a;\n                (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(filteredStatus);\n            });\n        }\n    }\n    sendMessageOnChild(context, message) {\n        if (!this.child) {\n            throw new Error('sendMessageonChild called with child not populated');\n        }\n        const child = this.child;\n        this.writeFilterPending = true;\n        this.filterStack.sendMessage(Promise.resolve({ message: message, flags: context.flags })).then(filteredMessage => {\n            this.writeFilterPending = false;\n            child.sendMessageWithContext(context, filteredMessage.message);\n            if (this.pendingHalfClose) {\n                child.halfClose();\n            }\n        }, (status) => {\n            this.cancelWithStatus(status.code, status.details);\n        });\n    }\n    getConfig() {\n        if (this.ended) {\n            return;\n        }\n        if (!this.metadata || !this.listener) {\n            throw new Error('getConfig called before start');\n        }\n        const configResult = this.channel.getConfig(this.method, this.metadata);\n        if (configResult.type === 'NONE') {\n            this.channel.queueCallForConfig(this);\n            return;\n        }\n        else if (configResult.type === 'ERROR') {\n            if (this.metadata.getOptions().waitForReady) {\n                this.channel.queueCallForConfig(this);\n            }\n            else {\n                this.outputStatus(configResult.error);\n            }\n            return;\n        }\n        // configResult.type === 'SUCCESS'\n        this.configReceivedTime = new Date();\n        const config = configResult.config;\n        if (config.status !== constants_1.Status.OK) {\n            const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(config.status, 'Failed to route call to method ' + this.method);\n            this.outputStatus({\n                code: code,\n                details: details,\n                metadata: new metadata_1.Metadata(),\n            });\n            return;\n        }\n        if (config.methodConfig.timeout) {\n            const configDeadline = new Date();\n            configDeadline.setSeconds(configDeadline.getSeconds() + config.methodConfig.timeout.seconds);\n            configDeadline.setMilliseconds(configDeadline.getMilliseconds() +\n                config.methodConfig.timeout.nanos / 1000000);\n            this.deadline = (0, deadline_1.minDeadline)(this.deadline, configDeadline);\n            this.runDeadlineTimer();\n        }\n        this.filterStackFactory.push(config.dynamicFilterFactories);\n        this.filterStack = this.filterStackFactory.createFilter();\n        this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(filteredMetadata => {\n            this.child = this.channel.createRetryingCall(config, this.method, this.host, this.credentials, this.deadline);\n            this.trace('Created child [' + this.child.getCallNumber() + ']');\n            this.childStartTime = new Date();\n            this.child.start(filteredMetadata, {\n                onReceiveMetadata: metadata => {\n                    this.trace('Received metadata');\n                    this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(metadata));\n                },\n                onReceiveMessage: message => {\n                    this.trace('Received message');\n                    this.readFilterPending = true;\n                    this.filterStack.receiveMessage(message).then(filteredMesssage => {\n                        this.trace('Finished filtering received message');\n                        this.readFilterPending = false;\n                        this.listener.onReceiveMessage(filteredMesssage);\n                        if (this.pendingChildStatus) {\n                            this.outputStatus(this.pendingChildStatus);\n                        }\n                    }, (status) => {\n                        this.cancelWithStatus(status.code, status.details);\n                    });\n                },\n                onReceiveStatus: status => {\n                    this.trace('Received status');\n                    if (this.readFilterPending) {\n                        this.pendingChildStatus = status;\n                    }\n                    else {\n                        this.outputStatus(status);\n                    }\n                },\n            });\n            if (this.readPending) {\n                this.child.startRead();\n            }\n            if (this.pendingMessage) {\n                this.sendMessageOnChild(this.pendingMessage.context, this.pendingMessage.message);\n            }\n            else if (this.pendingHalfClose) {\n                this.child.halfClose();\n            }\n        }, (status) => {\n            this.outputStatus(status);\n        });\n    }\n    reportResolverError(status) {\n        var _a;\n        if ((_a = this.metadata) === null || _a === void 0 ? void 0 : _a.getOptions().waitForReady) {\n            this.channel.queueCallForConfig(this);\n        }\n        else {\n            this.outputStatus(status);\n        }\n    }\n    cancelWithStatus(status, details) {\n        var _a;\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n        this.outputStatus({\n            code: status,\n            details: details,\n            metadata: new metadata_1.Metadata(),\n        });\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.metadata = metadata.clone();\n        this.listener = listener;\n        this.getConfig();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        if (this.child) {\n            this.sendMessageOnChild(context, message);\n        }\n        else {\n            this.pendingMessage = { context, message };\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        if (this.child) {\n            this.child.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        if (this.child && !this.writeFilterPending) {\n            this.child.halfClose();\n        }\n        else {\n            this.pendingHalfClose = true;\n        }\n    }\n    setCredentials(credentials) {\n        this.credentials = credentials;\n    }\n    addStatusWatcher(watcher) {\n        this.statusWatchers.push(watcher);\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n    getAuthContext() {\n        if (this.child) {\n            return this.child.getAuthContext();\n        }\n        else {\n            return null;\n        }\n    }\n}\nexports.ResolvingCall = ResolvingCall;\n//# sourceMappingURL=resolving-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2aW5nLWNhbGwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsMkJBQTJCLG1CQUFPLENBQUMsb0hBQW9CO0FBQ3ZELG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DLCtCQUErQixtQkFBTyxDQUFDLDRIQUF3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDhFQUE4RTtBQUMzSTtBQUNBO0FBQ0EsOERBQThELHNGQUFzRjtBQUNwSjtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsbUZBQW1GO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHdDQUF3QztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmluZy1jYWxsLmpzPzcxN2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVzb2x2aW5nQ2FsbCA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NhbGwtY3JlZGVudGlhbHNcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGRlYWRsaW5lXzEgPSByZXF1aXJlKFwiLi9kZWFkbGluZVwiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29udHJvbF9wbGFuZV9zdGF0dXNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2wtcGxhbmUtc3RhdHVzXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAncmVzb2x2aW5nX2NhbGwnO1xuY2xhc3MgUmVzb2x2aW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgbWV0aG9kLCBvcHRpb25zLCBmaWx0ZXJTdGFja0ZhY3RvcnksIGNhbGxOdW1iZXIpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5ID0gZmlsdGVyU3RhY2tGYWN0b3J5O1xuICAgICAgICB0aGlzLmNhbGxOdW1iZXIgPSBjYWxsTnVtYmVyO1xuICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWFkUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFkRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZFN0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0dXNXYXRjaGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRlYWRsaW5lVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWRsaW5lU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb25maWdSZWNlaXZlZFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWRlbnRpYWxzIGNvbmZpZ3VyZWQgZm9yIHRoaXMgc3BlY2lmaWMgY2FsbC4gRG9lcyBub3QgaW5jbHVkZVxuICAgICAgICAgKiBjYWxsIGNyZWRlbnRpYWxzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hhbm5lbCBjcmVkZW50aWFscyB1c2VkIHRvIGNyZWF0ZVxuICAgICAgICAgKiB0aGUgY2hhbm5lbC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzLmNyZWF0ZUVtcHR5KCk7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBvcHRpb25zLmRlYWRsaW5lO1xuICAgICAgICB0aGlzLmhvc3QgPSBvcHRpb25zLmhvc3Q7XG4gICAgICAgIGlmIChvcHRpb25zLnBhcmVudENhbGwpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZsYWdzICYgY29uc3RhbnRzXzEuUHJvcGFnYXRlLkNBTkNFTExBVElPTikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyZW50Q2FsbC5vbignY2FuY2VsbGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLkNBTkNFTExFRCwgJ0NhbmNlbGxlZCBieSBwYXJlbnQgY2FsbCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmxhZ3MgJiBjb25zdGFudHNfMS5Qcm9wYWdhdGUuREVBRExJTkUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdQcm9wYWdhdGluZyBkZWFkbGluZSBmcm9tIHBhcmVudDogJyArXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyZW50Q2FsbC5nZXREZWFkbGluZSgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYWRsaW5lID0gKDAsIGRlYWRsaW5lXzEubWluRGVhZGxpbmUpKHRoaXMuZGVhZGxpbmUsIG9wdGlvbnMucGFyZW50Q2FsbC5nZXREZWFkbGluZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdDcmVhdGVkJyk7XG4gICAgICAgIHRoaXMucnVuRGVhZGxpbmVUaW1lcigpO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICBydW5EZWFkbGluZVRpbWVyKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWFkbGluZVRpbWVyKTtcbiAgICAgICAgdGhpcy5kZWFkbGluZVN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMudHJhY2UoJ0RlYWRsaW5lOiAnICsgKDAsIGRlYWRsaW5lXzEuZGVhZGxpbmVUb1N0cmluZykodGhpcy5kZWFkbGluZSkpO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gKDAsIGRlYWRsaW5lXzEuZ2V0UmVsYXRpdmVUaW1lb3V0KSh0aGlzLmRlYWRsaW5lKTtcbiAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdEZWFkbGluZSB3aWxsIGJlIHJlYWNoZWQgaW4gJyArIHRpbWVvdXQgKyAnbXMnKTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURlYWRsaW5lID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kZWFkbGluZVN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVELCAnRGVhZGxpbmUgZXhjZWVkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkZWFkbGluZUluZm8gPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWFkbGluZUVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKGBEZWFkbGluZSBleGNlZWRlZCBhZnRlciAkeygwLCBkZWFkbGluZV8xLmZvcm1hdERhdGVEaWZmZXJlbmNlKSh0aGlzLmRlYWRsaW5lU3RhcnRUaW1lLCBkZWFkbGluZUVuZFRpbWUpfWApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ1JlY2VpdmVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWdSZWNlaXZlZFRpbWUgPiB0aGlzLmRlYWRsaW5lU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaChgbmFtZSByZXNvbHV0aW9uOiAkeygwLCBkZWFkbGluZV8xLmZvcm1hdERhdGVEaWZmZXJlbmNlKSh0aGlzLmRlYWRsaW5lU3RhcnRUaW1lLCB0aGlzLmNvbmZpZ1JlY2VpdmVkVGltZSl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkU3RhcnRUaW1lID4gdGhpcy5jb25maWdSZWNlaXZlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaChgbWV0YWRhdGEgZmlsdGVyczogJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5jb25maWdSZWNlaXZlZFRpbWUsIHRoaXMuY2hpbGRTdGFydFRpbWUpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goJ3dhaXRpbmcgZm9yIG1ldGFkYXRhIGZpbHRlcnMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goJ3dhaXRpbmcgZm9yIG5hbWUgcmVzb2x1dGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaCguLi50aGlzLmNoaWxkLmdldERlYWRsaW5lSW5mbygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgZGVhZGxpbmVJbmZvLmpvaW4oJywnKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRpbWVvdXQgPD0gMCkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soaGFuZGxlRGVhZGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gc2V0VGltZW91dChoYW5kbGVEZWFkbGluZSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3V0cHV0U3RhdHVzKHN0YXR1cykge1xuICAgICAgICBpZiAoIXRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZpbHRlclN0YWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGFjayA9IHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5LmNyZWF0ZUZpbHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVhZGxpbmVUaW1lcik7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFN0YXR1cyA9IHRoaXMuZmlsdGVyU3RhY2sucmVjZWl2ZVRyYWlsZXJzKHN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdlbmRlZCB3aXRoIHN0YXR1czogY29kZT0nICtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAnIGRldGFpbHM9XCInICtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFN0YXR1cy5kZXRhaWxzICtcbiAgICAgICAgICAgICAgICAnXCInKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzV2F0Y2hlcnMuZm9yRWFjaCh3YXRjaGVyID0+IHdhdGNoZXIoZmlsdGVyZWRTdGF0dXMpKTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmxpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25SZWNlaXZlU3RhdHVzKGZpbHRlcmVkU3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlT25DaGlsZChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGlsZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZW5kTWVzc2FnZW9uQ2hpbGQgY2FsbGVkIHdpdGggY2hpbGQgbm90IHBvcHVsYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZDtcbiAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrLnNlbmRNZXNzYWdlKFByb21pc2UucmVzb2x2ZSh7IG1lc3NhZ2U6IG1lc3NhZ2UsIGZsYWdzOiBjb250ZXh0LmZsYWdzIH0pKS50aGVuKGZpbHRlcmVkTWVzc2FnZSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBmaWx0ZXJlZE1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nSGFsZkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIChzdGF0dXMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMuY29kZSwgc3RhdHVzLmRldGFpbHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0Q29uZmlnKCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YSB8fCAhdGhpcy5saXN0ZW5lcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZXRDb25maWcgY2FsbGVkIGJlZm9yZSBzdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbmZpZ1Jlc3VsdCA9IHRoaXMuY2hhbm5lbC5nZXRDb25maWcodGhpcy5tZXRob2QsIHRoaXMubWV0YWRhdGEpO1xuICAgICAgICBpZiAoY29uZmlnUmVzdWx0LnR5cGUgPT09ICdOT05FJykge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvckNvbmZpZyh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb25maWdSZXN1bHQudHlwZSA9PT0gJ0VSUk9SJykge1xuICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZ2V0T3B0aW9ucygpLndhaXRGb3JSZWFkeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JDb25maWcodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhjb25maWdSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbmZpZ1Jlc3VsdC50eXBlID09PSAnU1VDQ0VTUydcbiAgICAgICAgdGhpcy5jb25maWdSZWNlaXZlZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBjb25maWcgPSBjb25maWdSZXN1bHQuY29uZmlnO1xuICAgICAgICBpZiAoY29uZmlnLnN0YXR1cyAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkoY29uZmlnLnN0YXR1cywgJ0ZhaWxlZCB0byByb3V0ZSBjYWxsIHRvIG1ldGhvZCAnICsgdGhpcy5tZXRob2QpO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvZGUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcubWV0aG9kQ29uZmlnLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ0RlYWRsaW5lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbmZpZ0RlYWRsaW5lLnNldFNlY29uZHMoY29uZmlnRGVhZGxpbmUuZ2V0U2Vjb25kcygpICsgY29uZmlnLm1ldGhvZENvbmZpZy50aW1lb3V0LnNlY29uZHMpO1xuICAgICAgICAgICAgY29uZmlnRGVhZGxpbmUuc2V0TWlsbGlzZWNvbmRzKGNvbmZpZ0RlYWRsaW5lLmdldE1pbGxpc2Vjb25kcygpICtcbiAgICAgICAgICAgICAgICBjb25maWcubWV0aG9kQ29uZmlnLnRpbWVvdXQubmFub3MgLyAxMDAwMDAwKTtcbiAgICAgICAgICAgIHRoaXMuZGVhZGxpbmUgPSAoMCwgZGVhZGxpbmVfMS5taW5EZWFkbGluZSkodGhpcy5kZWFkbGluZSwgY29uZmlnRGVhZGxpbmUpO1xuICAgICAgICAgICAgdGhpcy5ydW5EZWFkbGluZVRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkucHVzaChjb25maWcuZHluYW1pY0ZpbHRlckZhY3Rvcmllcyk7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5jcmVhdGVGaWx0ZXIoKTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjay5zZW5kTWV0YWRhdGEoUHJvbWlzZS5yZXNvbHZlKHRoaXMubWV0YWRhdGEpKS50aGVuKGZpbHRlcmVkTWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGlsZCA9IHRoaXMuY2hhbm5lbC5jcmVhdGVSZXRyeWluZ0NhbGwoY29uZmlnLCB0aGlzLm1ldGhvZCwgdGhpcy5ob3N0LCB0aGlzLmNyZWRlbnRpYWxzLCB0aGlzLmRlYWRsaW5lKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWF0ZWQgY2hpbGQgWycgKyB0aGlzLmNoaWxkLmdldENhbGxOdW1iZXIoKSArICddJyk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkU3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnQoZmlsdGVyZWRNZXRhZGF0YSwge1xuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEodGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpLnRoZW4oZmlsdGVyZWRNZXNzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdGaW5pc2hlZCBmaWx0ZXJpbmcgcmVjZWl2ZWQgbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKGZpbHRlcmVkTWVzc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXModGhpcy5wZW5kaW5nQ2hpbGRTdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLmNvZGUsIHN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVTdGF0dXM6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIHN0YXR1cycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkRmlsdGVyUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGRTdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZFBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0UmVhZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlT25DaGlsZCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlbmRpbmdIYWxmQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVwb3J0UmVzb2x2ZXJFcnJvcihzdGF0dXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JDb25maWcodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy50cmFjZSgnY2FuY2VsV2l0aFN0YXR1cyBjb2RlOiAnICsgc3RhdHVzICsgJyBkZXRhaWxzOiBcIicgKyBkZXRhaWxzICsgJ1wiJyk7XG4gICAgICAgIChfYSA9IHRoaXMuY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgIGNvZGU6IHN0YXR1cyxcbiAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmNoYW5uZWwuZ2V0VGFyZ2V0KCk7XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydCBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhLmNsb25lKCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5nZXRDb25maWcoKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VPbkNoaWxkKGNvbnRleHQsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IHsgY29udGV4dCwgbWVzc2FnZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnc3RhcnRSZWFkIGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZC5zdGFydFJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnaGFsZkNsb3NlIGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZCAmJiAhdGhpcy53cml0ZUZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICB9XG4gICAgYWRkU3RhdHVzV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzV2F0Y2hlcnMucHVzaCh3YXRjaGVyKTtcbiAgICB9XG4gICAgZ2V0Q2FsbE51bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbE51bWJlcjtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRBdXRoQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlJlc29sdmluZ0NhbGwgPSBSZXNvbHZpbmdDYWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2aW5nLWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ResolvingLoadBalancer = void 0;\nconst load_balancer_1 = __webpack_require__(/*! ./load-balancer */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer.js\");\nconst service_config_1 = __webpack_require__(/*! ./service-config */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst picker_1 = __webpack_require__(/*! ./picker */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/picker.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst load_balancer_child_handler_1 = __webpack_require__(/*! ./load-balancer-child-handler */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js\");\nconst TRACER_NAME = 'resolving_load_balancer';\nfunction trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * Name match levels in order from most to least specific. This is the order in\n * which searches will be performed.\n */\nconst NAME_MATCH_LEVEL_ORDER = [\n    'SERVICE_AND_METHOD',\n    'SERVICE',\n    'EMPTY',\n];\nfunction hasMatchingName(service, method, methodConfig, matchLevel) {\n    for (const name of methodConfig.name) {\n        switch (matchLevel) {\n            case 'EMPTY':\n                if (!name.service && !name.method) {\n                    return true;\n                }\n                break;\n            case 'SERVICE':\n                if (name.service === service && !name.method) {\n                    return true;\n                }\n                break;\n            case 'SERVICE_AND_METHOD':\n                if (name.service === service && name.method === method) {\n                    return true;\n                }\n        }\n    }\n    return false;\n}\nfunction findMatchingConfig(service, method, methodConfigs, matchLevel) {\n    for (const config of methodConfigs) {\n        if (hasMatchingName(service, method, config, matchLevel)) {\n            return config;\n        }\n    }\n    return null;\n}\nfunction getDefaultConfigSelector(serviceConfig) {\n    return {\n        invoke(methodName, metadata) {\n            var _a, _b;\n            const splitName = methodName.split('/').filter(x => x.length > 0);\n            const service = (_a = splitName[0]) !== null && _a !== void 0 ? _a : '';\n            const method = (_b = splitName[1]) !== null && _b !== void 0 ? _b : '';\n            if (serviceConfig && serviceConfig.methodConfig) {\n                /* Check for the following in order, and return the first method\n                * config that matches:\n                * 1. A name that exactly matches the service and method\n                * 2. A name with no method set that matches the service\n                * 3. An empty name\n                */\n                for (const matchLevel of NAME_MATCH_LEVEL_ORDER) {\n                    const matchingConfig = findMatchingConfig(service, method, serviceConfig.methodConfig, matchLevel);\n                    if (matchingConfig) {\n                        return {\n                            methodConfig: matchingConfig,\n                            pickInformation: {},\n                            status: constants_1.Status.OK,\n                            dynamicFilterFactories: [],\n                        };\n                    }\n                }\n            }\n            return {\n                methodConfig: { name: [] },\n                pickInformation: {},\n                status: constants_1.Status.OK,\n                dynamicFilterFactories: [],\n            };\n        },\n        unref() { }\n    };\n}\nclass ResolvingLoadBalancer {\n    /**\n     * Wrapper class that behaves like a `LoadBalancer` and also handles name\n     * resolution internally.\n     * @param target The address of the backend to connect to.\n     * @param channelControlHelper `ChannelControlHelper` instance provided by\n     *     this load balancer's owner.\n     * @param defaultServiceConfig The default service configuration to be used\n     *     if none is provided by the name resolver. A `null` value indicates\n     *     that the default behavior should be the default unconfigured behavior.\n     *     In practice, that means using the \"pick first\" load balancer\n     *     implmentation\n     */\n    constructor(target, channelControlHelper, channelOptions, onSuccessfulResolution, onFailedResolution) {\n        this.target = target;\n        this.channelControlHelper = channelControlHelper;\n        this.channelOptions = channelOptions;\n        this.onSuccessfulResolution = onSuccessfulResolution;\n        this.onFailedResolution = onFailedResolution;\n        this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n        this.latestChildPicker = new picker_1.QueuePicker(this);\n        this.latestChildErrorMessage = null;\n        /**\n         * This resolving load balancer's current connectivity state.\n         */\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The service config object from the last successful resolution, if\n         * available. A value of null indicates that we have not yet received a valid\n         * service config from the resolver.\n         */\n        this.previousServiceConfig = null;\n        /**\n         * Indicates whether we should attempt to resolve again after the backoff\n         * timer runs out.\n         */\n        this.continueResolving = false;\n        if (channelOptions['grpc.service_config']) {\n            this.defaultServiceConfig = (0, service_config_1.validateServiceConfig)(JSON.parse(channelOptions['grpc.service_config']));\n        }\n        else {\n            this.defaultServiceConfig = {\n                loadBalancingConfig: [],\n                methodConfig: [],\n            };\n        }\n        this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this), null);\n        this.childLoadBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler({\n            createSubchannel: channelControlHelper.createSubchannel.bind(channelControlHelper),\n            requestReresolution: () => {\n                /* If the backoffTimeout is running, we're still backing off from\n                 * making resolve requests, so we shouldn't make another one here.\n                 * In that case, the backoff timer callback will call\n                 * updateResolution */\n                if (this.backoffTimeout.isRunning()) {\n                    trace('requestReresolution delayed by backoff timer until ' +\n                        this.backoffTimeout.getEndTime().toISOString());\n                    this.continueResolving = true;\n                }\n                else {\n                    this.updateResolution();\n                }\n            },\n            updateState: (newState, picker, errorMessage) => {\n                this.latestChildState = newState;\n                this.latestChildPicker = picker;\n                this.latestChildErrorMessage = errorMessage;\n                this.updateState(newState, picker, errorMessage);\n            },\n            addChannelzChild: channelControlHelper.addChannelzChild.bind(channelControlHelper),\n            removeChannelzChild: channelControlHelper.removeChannelzChild.bind(channelControlHelper),\n        });\n        this.innerResolver = (0, resolver_1.createResolver)(target, this.handleResolverResult.bind(this), channelOptions);\n        const backoffOptions = {\n            initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: channelOptions['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n            if (this.continueResolving) {\n                this.updateResolution();\n                this.continueResolving = false;\n            }\n            else {\n                this.updateState(this.latestChildState, this.latestChildPicker, this.latestChildErrorMessage);\n            }\n        }, backoffOptions);\n        this.backoffTimeout.unref();\n    }\n    handleResolverResult(endpointList, attributes, serviceConfig, resolutionNote) {\n        var _a, _b;\n        this.backoffTimeout.stop();\n        this.backoffTimeout.reset();\n        let resultAccepted = true;\n        let workingServiceConfig = null;\n        if (serviceConfig === null) {\n            workingServiceConfig = this.defaultServiceConfig;\n        }\n        else if (serviceConfig.ok) {\n            workingServiceConfig = serviceConfig.value;\n        }\n        else {\n            if (this.previousServiceConfig !== null) {\n                workingServiceConfig = this.previousServiceConfig;\n            }\n            else {\n                resultAccepted = false;\n                this.handleResolutionFailure(serviceConfig.error);\n            }\n        }\n        if (workingServiceConfig !== null) {\n            const workingConfigList = (_a = workingServiceConfig === null || workingServiceConfig === void 0 ? void 0 : workingServiceConfig.loadBalancingConfig) !== null && _a !== void 0 ? _a : [];\n            const loadBalancingConfig = (0, load_balancer_1.selectLbConfigFromList)(workingConfigList, true);\n            if (loadBalancingConfig === null) {\n                resultAccepted = false;\n                this.handleResolutionFailure({\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: 'All load balancer options in service config are not compatible',\n                    metadata: new metadata_1.Metadata(),\n                });\n            }\n            else {\n                resultAccepted = this.childLoadBalancer.updateAddressList(endpointList, loadBalancingConfig, Object.assign(Object.assign({}, this.channelOptions), attributes), resolutionNote);\n            }\n        }\n        if (resultAccepted) {\n            this.onSuccessfulResolution(workingServiceConfig, (_b = attributes[resolver_1.CHANNEL_ARGS_CONFIG_SELECTOR_KEY]) !== null && _b !== void 0 ? _b : getDefaultConfigSelector(workingServiceConfig));\n        }\n        return resultAccepted;\n    }\n    updateResolution() {\n        this.innerResolver.updateResolution();\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE) {\n            /* this.latestChildPicker is initialized as new QueuePicker(this), which\n             * is an appropriate value here if the child LB policy is unset.\n             * Otherwise, we want to delegate to the child here, in case that\n             * triggers something. */\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, this.latestChildPicker, this.latestChildErrorMessage);\n        }\n        this.backoffTimeout.runOnce();\n    }\n    updateState(connectivityState, picker, errorMessage) {\n        trace((0, uri_parser_1.uriToString)(this.target) +\n            ' ' +\n            connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[connectivityState]);\n        // Ensure that this.exitIdle() is called by the picker\n        if (connectivityState === connectivity_state_1.ConnectivityState.IDLE) {\n            picker = new picker_1.QueuePicker(this, picker);\n        }\n        this.currentState = connectivityState;\n        this.channelControlHelper.updateState(connectivityState, picker, errorMessage);\n    }\n    handleResolutionFailure(error) {\n        if (this.latestChildState === connectivity_state_1.ConnectivityState.IDLE) {\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(error), error.details);\n            this.onFailedResolution(error);\n        }\n    }\n    exitIdle() {\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE ||\n            this.currentState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n            if (this.backoffTimeout.isRunning()) {\n                this.continueResolving = true;\n            }\n            else {\n                this.updateResolution();\n            }\n        }\n        this.childLoadBalancer.exitIdle();\n    }\n    updateAddressList(endpointList, lbConfig) {\n        throw new Error('updateAddressList not supported on ResolvingLoadBalancer');\n    }\n    resetBackoff() {\n        this.backoffTimeout.reset();\n        this.childLoadBalancer.resetBackoff();\n    }\n    destroy() {\n        this.childLoadBalancer.destroy();\n        this.innerResolver.destroy();\n        this.backoffTimeout.reset();\n        this.backoffTimeout.stop();\n        this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n        this.latestChildPicker = new picker_1.QueuePicker(this);\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        this.previousServiceConfig = null;\n        this.continueResolving = false;\n    }\n    getTypeName() {\n        return 'resolving_load_balancer';\n    }\n}\nexports.ResolvingLoadBalancer = ResolvingLoadBalancer;\n//# sourceMappingURL=resolving-load-balancer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2aW5nLWxvYWQtYmFsYW5jZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0Isd0JBQXdCLG1CQUFPLENBQUMsOEdBQWlCO0FBQ2pELHlCQUF5QixtQkFBTyxDQUFDLGdIQUFrQjtBQUNuRCw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsaUJBQWlCLG1CQUFPLENBQUMsZ0dBQVU7QUFDbkMsMEJBQTBCLG1CQUFPLENBQUMsa0hBQW1CO0FBQ3JELG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLHNDQUFzQyxtQkFBTyxDQUFDLDBJQUErQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVO0FBQzFDLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsMklBQTJJO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2aW5nLWxvYWQtYmFsYW5jZXIuanM/NThhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXNvbHZpbmdMb2FkQmFsYW5jZXIgPSB2b2lkIDA7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3Qgc2VydmljZV9jb25maWdfMSA9IHJlcXVpcmUoXCIuL3NlcnZpY2UtY29uZmlnXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jb25zdCBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbmNvbnN0IGJhY2tvZmZfdGltZW91dF8xID0gcmVxdWlyZShcIi4vYmFja29mZi10aW1lb3V0XCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18yID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAncmVzb2x2aW5nX2xvYWRfYmFsYW5jZXInO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzIuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG4vKipcbiAqIE5hbWUgbWF0Y2ggbGV2ZWxzIGluIG9yZGVyIGZyb20gbW9zdCB0byBsZWFzdCBzcGVjaWZpYy4gVGhpcyBpcyB0aGUgb3JkZXIgaW5cbiAqIHdoaWNoIHNlYXJjaGVzIHdpbGwgYmUgcGVyZm9ybWVkLlxuICovXG5jb25zdCBOQU1FX01BVENIX0xFVkVMX09SREVSID0gW1xuICAgICdTRVJWSUNFX0FORF9NRVRIT0QnLFxuICAgICdTRVJWSUNFJyxcbiAgICAnRU1QVFknLFxuXTtcbmZ1bmN0aW9uIGhhc01hdGNoaW5nTmFtZShzZXJ2aWNlLCBtZXRob2QsIG1ldGhvZENvbmZpZywgbWF0Y2hMZXZlbCkge1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBtZXRob2RDb25maWcubmFtZSkge1xuICAgICAgICBzd2l0Y2ggKG1hdGNoTGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgJ0VNUFRZJzpcbiAgICAgICAgICAgICAgICBpZiAoIW5hbWUuc2VydmljZSAmJiAhbmFtZS5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnU0VSVklDRSc6XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUuc2VydmljZSA9PT0gc2VydmljZSAmJiAhbmFtZS5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnU0VSVklDRV9BTkRfTUVUSE9EJzpcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5zZXJ2aWNlID09PSBzZXJ2aWNlICYmIG5hbWUubWV0aG9kID09PSBtZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGZpbmRNYXRjaGluZ0NvbmZpZyhzZXJ2aWNlLCBtZXRob2QsIG1ldGhvZENvbmZpZ3MsIG1hdGNoTGV2ZWwpIHtcbiAgICBmb3IgKGNvbnN0IGNvbmZpZyBvZiBtZXRob2RDb25maWdzKSB7XG4gICAgICAgIGlmIChoYXNNYXRjaGluZ05hbWUoc2VydmljZSwgbWV0aG9kLCBjb25maWcsIG1hdGNoTGV2ZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdENvbmZpZ1NlbGVjdG9yKHNlcnZpY2VDb25maWcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnZva2UobWV0aG9kTmFtZSwgbWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBjb25zdCBzcGxpdE5hbWUgPSBtZXRob2ROYW1lLnNwbGl0KCcvJykuZmlsdGVyKHggPT4geC5sZW5ndGggPiAwKTtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSAoX2EgPSBzcGxpdE5hbWVbMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gKF9iID0gc3BsaXROYW1lWzFdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJztcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlQ29uZmlnICYmIHNlcnZpY2VDb25maWcubWV0aG9kQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgLyogQ2hlY2sgZm9yIHRoZSBmb2xsb3dpbmcgaW4gb3JkZXIsIGFuZCByZXR1cm4gdGhlIGZpcnN0IG1ldGhvZFxuICAgICAgICAgICAgICAgICogY29uZmlnIHRoYXQgbWF0Y2hlczpcbiAgICAgICAgICAgICAgICAqIDEuIEEgbmFtZSB0aGF0IGV4YWN0bHkgbWF0Y2hlcyB0aGUgc2VydmljZSBhbmQgbWV0aG9kXG4gICAgICAgICAgICAgICAgKiAyLiBBIG5hbWUgd2l0aCBubyBtZXRob2Qgc2V0IHRoYXQgbWF0Y2hlcyB0aGUgc2VydmljZVxuICAgICAgICAgICAgICAgICogMy4gQW4gZW1wdHkgbmFtZVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBtYXRjaExldmVsIG9mIE5BTUVfTUFUQ0hfTEVWRUxfT1JERVIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdDb25maWcgPSBmaW5kTWF0Y2hpbmdDb25maWcoc2VydmljZSwgbWV0aG9kLCBzZXJ2aWNlQ29uZmlnLm1ldGhvZENvbmZpZywgbWF0Y2hMZXZlbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0NvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RDb25maWc6IG1hdGNoaW5nQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tJbmZvcm1hdGlvbjoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY0ZpbHRlckZhY3RvcmllczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXRob2RDb25maWc6IHsgbmFtZTogW10gfSxcbiAgICAgICAgICAgICAgICBwaWNrSW5mb3JtYXRpb246IHt9LFxuICAgICAgICAgICAgICAgIHN0YXR1czogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNGaWx0ZXJGYWN0b3JpZXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5yZWYoKSB7IH1cbiAgICB9O1xufVxuY2xhc3MgUmVzb2x2aW5nTG9hZEJhbGFuY2VyIHtcbiAgICAvKipcbiAgICAgKiBXcmFwcGVyIGNsYXNzIHRoYXQgYmVoYXZlcyBsaWtlIGEgYExvYWRCYWxhbmNlcmAgYW5kIGFsc28gaGFuZGxlcyBuYW1lXG4gICAgICogcmVzb2x1dGlvbiBpbnRlcm5hbGx5LlxuICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIGFkZHJlc3Mgb2YgdGhlIGJhY2tlbmQgdG8gY29ubmVjdCB0by5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbENvbnRyb2xIZWxwZXIgYENoYW5uZWxDb250cm9sSGVscGVyYCBpbnN0YW5jZSBwcm92aWRlZCBieVxuICAgICAqICAgICB0aGlzIGxvYWQgYmFsYW5jZXIncyBvd25lci5cbiAgICAgKiBAcGFyYW0gZGVmYXVsdFNlcnZpY2VDb25maWcgVGhlIGRlZmF1bHQgc2VydmljZSBjb25maWd1cmF0aW9uIHRvIGJlIHVzZWRcbiAgICAgKiAgICAgaWYgbm9uZSBpcyBwcm92aWRlZCBieSB0aGUgbmFtZSByZXNvbHZlci4gQSBgbnVsbGAgdmFsdWUgaW5kaWNhdGVzXG4gICAgICogICAgIHRoYXQgdGhlIGRlZmF1bHQgYmVoYXZpb3Igc2hvdWxkIGJlIHRoZSBkZWZhdWx0IHVuY29uZmlndXJlZCBiZWhhdmlvci5cbiAgICAgKiAgICAgSW4gcHJhY3RpY2UsIHRoYXQgbWVhbnMgdXNpbmcgdGhlIFwicGljayBmaXJzdFwiIGxvYWQgYmFsYW5jZXJcbiAgICAgKiAgICAgaW1wbG1lbnRhdGlvblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgY2hhbm5lbENvbnRyb2xIZWxwZXIsIGNoYW5uZWxPcHRpb25zLCBvblN1Y2Nlc3NmdWxSZXNvbHV0aW9uLCBvbkZhaWxlZFJlc29sdXRpb24pIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIgPSBjaGFubmVsQ29udHJvbEhlbHBlcjtcbiAgICAgICAgdGhpcy5jaGFubmVsT3B0aW9ucyA9IGNoYW5uZWxPcHRpb25zO1xuICAgICAgICB0aGlzLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24gPSBvblN1Y2Nlc3NmdWxSZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLm9uRmFpbGVkUmVzb2x1dGlvbiA9IG9uRmFpbGVkUmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKTtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZEVycm9yTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHJlc29sdmluZyBsb2FkIGJhbGFuY2VyJ3MgY3VycmVudCBjb25uZWN0aXZpdHkgc3RhdGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2VydmljZSBjb25maWcgb2JqZWN0IGZyb20gdGhlIGxhc3Qgc3VjY2Vzc2Z1bCByZXNvbHV0aW9uLCBpZlxuICAgICAgICAgKiBhdmFpbGFibGUuIEEgdmFsdWUgb2YgbnVsbCBpbmRpY2F0ZXMgdGhhdCB3ZSBoYXZlIG5vdCB5ZXQgcmVjZWl2ZWQgYSB2YWxpZFxuICAgICAgICAgKiBzZXJ2aWNlIGNvbmZpZyBmcm9tIHRoZSByZXNvbHZlci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHdlIHNob3VsZCBhdHRlbXB0IHRvIHJlc29sdmUgYWdhaW4gYWZ0ZXIgdGhlIGJhY2tvZmZcbiAgICAgICAgICogdGltZXIgcnVucyBvdXQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChjaGFubmVsT3B0aW9uc1snZ3JwYy5zZXJ2aWNlX2NvbmZpZyddKSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRTZXJ2aWNlQ29uZmlnID0gKDAsIHNlcnZpY2VfY29uZmlnXzEudmFsaWRhdGVTZXJ2aWNlQ29uZmlnKShKU09OLnBhcnNlKGNoYW5uZWxPcHRpb25zWydncnBjLnNlcnZpY2VfY29uZmlnJ10pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdFNlcnZpY2VDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgbG9hZEJhbGFuY2luZ0NvbmZpZzogW10sXG4gICAgICAgICAgICAgICAgbWV0aG9kQ29uZmlnOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyksIG51bGwpO1xuICAgICAgICB0aGlzLmNoaWxkTG9hZEJhbGFuY2VyID0gbmV3IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xLkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlcih7XG4gICAgICAgICAgICBjcmVhdGVTdWJjaGFubmVsOiBjaGFubmVsQ29udHJvbEhlbHBlci5jcmVhdGVTdWJjaGFubmVsLmJpbmQoY2hhbm5lbENvbnRyb2xIZWxwZXIpLFxuICAgICAgICAgICAgcmVxdWVzdFJlcmVzb2x1dGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qIElmIHRoZSBiYWNrb2ZmVGltZW91dCBpcyBydW5uaW5nLCB3ZSdyZSBzdGlsbCBiYWNraW5nIG9mZiBmcm9tXG4gICAgICAgICAgICAgICAgICogbWFraW5nIHJlc29sdmUgcmVxdWVzdHMsIHNvIHdlIHNob3VsZG4ndCBtYWtlIGFub3RoZXIgb25lIGhlcmUuXG4gICAgICAgICAgICAgICAgICogSW4gdGhhdCBjYXNlLCB0aGUgYmFja29mZiB0aW1lciBjYWxsYmFjayB3aWxsIGNhbGxcbiAgICAgICAgICAgICAgICAgKiB1cGRhdGVSZXNvbHV0aW9uICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFja29mZlRpbWVvdXQuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UoJ3JlcXVlc3RSZXJlc29sdXRpb24gZGVsYXllZCBieSBiYWNrb2ZmIHRpbWVyIHVudGlsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5nZXRFbmRUaW1lKCkudG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlOiAobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFBpY2tlciA9IHBpY2tlcjtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENoaWxkRXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRDaGFubmVsekNoaWxkOiBjaGFubmVsQ29udHJvbEhlbHBlci5hZGRDaGFubmVsekNoaWxkLmJpbmQoY2hhbm5lbENvbnRyb2xIZWxwZXIpLFxuICAgICAgICAgICAgcmVtb3ZlQ2hhbm5lbHpDaGlsZDogY2hhbm5lbENvbnRyb2xIZWxwZXIucmVtb3ZlQ2hhbm5lbHpDaGlsZC5iaW5kKGNoYW5uZWxDb250cm9sSGVscGVyKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5uZXJSZXNvbHZlciA9ICgwLCByZXNvbHZlcl8xLmNyZWF0ZVJlc29sdmVyKSh0YXJnZXQsIHRoaXMuaGFuZGxlUmVzb2x2ZXJSZXN1bHQuYmluZCh0aGlzKSwgY2hhbm5lbE9wdGlvbnMpO1xuICAgICAgICBjb25zdCBiYWNrb2ZmT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogY2hhbm5lbE9wdGlvbnNbJ2dycGMuaW5pdGlhbF9yZWNvbm5lY3RfYmFja29mZl9tcyddLFxuICAgICAgICAgICAgbWF4RGVsYXk6IGNoYW5uZWxPcHRpb25zWydncnBjLm1heF9yZWNvbm5lY3RfYmFja29mZl9tcyddLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0ID0gbmV3IGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRpbnVlUmVzb2x2aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSh0aGlzLmxhdGVzdENoaWxkU3RhdGUsIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIsIHRoaXMubGF0ZXN0Q2hpbGRFcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBiYWNrb2ZmT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQudW5yZWYoKTtcbiAgICB9XG4gICAgaGFuZGxlUmVzb2x2ZXJSZXN1bHQoZW5kcG9pbnRMaXN0LCBhdHRyaWJ1dGVzLCBzZXJ2aWNlQ29uZmlnLCByZXNvbHV0aW9uTm90ZSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnN0b3AoKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgICAgICBsZXQgcmVzdWx0QWNjZXB0ZWQgPSB0cnVlO1xuICAgICAgICBsZXQgd29ya2luZ1NlcnZpY2VDb25maWcgPSBudWxsO1xuICAgICAgICBpZiAoc2VydmljZUNvbmZpZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgd29ya2luZ1NlcnZpY2VDb25maWcgPSB0aGlzLmRlZmF1bHRTZXJ2aWNlQ29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNlcnZpY2VDb25maWcub2spIHtcbiAgICAgICAgICAgIHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gc2VydmljZUNvbmZpZy52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2VydmljZUNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gdGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRBY2NlcHRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzb2x1dGlvbkZhaWx1cmUoc2VydmljZUNvbmZpZy5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdvcmtpbmdTZXJ2aWNlQ29uZmlnICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JraW5nQ29uZmlnTGlzdCA9IChfYSA9IHdvcmtpbmdTZXJ2aWNlQ29uZmlnID09PSBudWxsIHx8IHdvcmtpbmdTZXJ2aWNlQ29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3b3JraW5nU2VydmljZUNvbmZpZy5sb2FkQmFsYW5jaW5nQ29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRCYWxhbmNpbmdDb25maWcgPSAoMCwgbG9hZF9iYWxhbmNlcl8xLnNlbGVjdExiQ29uZmlnRnJvbUxpc3QpKHdvcmtpbmdDb25maWdMaXN0LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChsb2FkQmFsYW5jaW5nQ29uZmlnID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0QWNjZXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc29sdXRpb25GYWlsdXJlKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnQWxsIGxvYWQgYmFsYW5jZXIgb3B0aW9ucyBpbiBzZXJ2aWNlIGNvbmZpZyBhcmUgbm90IGNvbXBhdGlibGUnLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdEFjY2VwdGVkID0gdGhpcy5jaGlsZExvYWRCYWxhbmNlci51cGRhdGVBZGRyZXNzTGlzdChlbmRwb2ludExpc3QsIGxvYWRCYWxhbmNpbmdDb25maWcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jaGFubmVsT3B0aW9ucyksIGF0dHJpYnV0ZXMpLCByZXNvbHV0aW9uTm90ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdEFjY2VwdGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24od29ya2luZ1NlcnZpY2VDb25maWcsIChfYiA9IGF0dHJpYnV0ZXNbcmVzb2x2ZXJfMS5DSEFOTkVMX0FSR1NfQ09ORklHX1NFTEVDVE9SX0tFWV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGdldERlZmF1bHRDb25maWdTZWxlY3Rvcih3b3JraW5nU2VydmljZUNvbmZpZykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRBY2NlcHRlZDtcbiAgICB9XG4gICAgdXBkYXRlUmVzb2x1dGlvbigpIHtcbiAgICAgICAgdGhpcy5pbm5lclJlc29sdmVyLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICAvKiB0aGlzLmxhdGVzdENoaWxkUGlja2VyIGlzIGluaXRpYWxpemVkIGFzIG5ldyBRdWV1ZVBpY2tlcih0aGlzKSwgd2hpY2hcbiAgICAgICAgICAgICAqIGlzIGFuIGFwcHJvcHJpYXRlIHZhbHVlIGhlcmUgaWYgdGhlIGNoaWxkIExCIHBvbGljeSBpcyB1bnNldC5cbiAgICAgICAgICAgICAqIE90aGVyd2lzZSwgd2Ugd2FudCB0byBkZWxlZ2F0ZSB0byB0aGUgY2hpbGQgaGVyZSwgaW4gY2FzZSB0aGF0XG4gICAgICAgICAgICAgKiB0cmlnZ2VycyBzb21ldGhpbmcuICovXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcsIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIsIHRoaXMubGF0ZXN0Q2hpbGRFcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucnVuT25jZSgpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdHJhY2UoKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmN1cnJlbnRTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW2Nvbm5lY3Rpdml0eVN0YXRlXSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoaXMuZXhpdElkbGUoKSBpcyBjYWxsZWQgYnkgdGhlIHBpY2tlclxuICAgICAgICBpZiAoY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzLCBwaWNrZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gICAgaGFuZGxlUmVzb2x1dGlvbkZhaWx1cmUoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKGVycm9yKSwgZXJyb3IuZGV0YWlscyk7XG4gICAgICAgICAgICB0aGlzLm9uRmFpbGVkUmVzb2x1dGlvbihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSB8fFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYWNrb2ZmVGltZW91dC5pc1J1bm5pbmcoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChlbmRwb2ludExpc3QsIGxiQ29uZmlnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndXBkYXRlQWRkcmVzc0xpc3Qgbm90IHN1cHBvcnRlZCBvbiBSZXNvbHZpbmdMb2FkQmFsYW5jZXInKTtcbiAgICB9XG4gICAgcmVzZXRCYWNrb2ZmKCkge1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJlc2V0KCk7XG4gICAgICAgIHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIucmVzZXRCYWNrb2ZmKCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmlubmVyUmVzb2x2ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJlc2V0KCk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQuc3RvcCgpO1xuICAgICAgICB0aGlzLmxhdGVzdENoaWxkU3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLmxhdGVzdENoaWxkUGlja2VyID0gbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdyZXNvbHZpbmdfbG9hZF9iYWxhbmNlcic7XG4gICAgfVxufVxuZXhwb3J0cy5SZXNvbHZpbmdMb2FkQmFsYW5jZXIgPSBSZXNvbHZpbmdMb2FkQmFsYW5jZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZpbmctbG9hZC1iYWxhbmNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.RetryingCall = exports.MessageBufferTracker = exports.RetryThrottler = void 0;\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst TRACER_NAME = 'retrying_call';\nclass RetryThrottler {\n    constructor(maxTokens, tokenRatio, previousRetryThrottler) {\n        this.maxTokens = maxTokens;\n        this.tokenRatio = tokenRatio;\n        if (previousRetryThrottler) {\n            /* When carrying over tokens from a previous config, rescale them to the\n             * new max value */\n            this.tokens =\n                previousRetryThrottler.tokens *\n                    (maxTokens / previousRetryThrottler.maxTokens);\n        }\n        else {\n            this.tokens = maxTokens;\n        }\n    }\n    addCallSucceeded() {\n        this.tokens = Math.min(this.tokens + this.tokenRatio, this.maxTokens);\n    }\n    addCallFailed() {\n        this.tokens = Math.max(this.tokens - 1, 0);\n    }\n    canRetryCall() {\n        return this.tokens > (this.maxTokens / 2);\n    }\n}\nexports.RetryThrottler = RetryThrottler;\nclass MessageBufferTracker {\n    constructor(totalLimit, limitPerCall) {\n        this.totalLimit = totalLimit;\n        this.limitPerCall = limitPerCall;\n        this.totalAllocated = 0;\n        this.allocatedPerCall = new Map();\n    }\n    allocate(size, callId) {\n        var _a;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (this.limitPerCall - currentPerCall < size ||\n            this.totalLimit - this.totalAllocated < size) {\n            return false;\n        }\n        this.allocatedPerCall.set(callId, currentPerCall + size);\n        this.totalAllocated += size;\n        return true;\n    }\n    free(size, callId) {\n        var _a;\n        if (this.totalAllocated < size) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > total allocated ${this.totalAllocated}`);\n        }\n        this.totalAllocated -= size;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (currentPerCall < size) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > allocated for call ${currentPerCall}`);\n        }\n        this.allocatedPerCall.set(callId, currentPerCall - size);\n    }\n    freeAll(callId) {\n        var _a;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (this.totalAllocated < currentPerCall) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} allocated ${currentPerCall} > total allocated ${this.totalAllocated}`);\n        }\n        this.totalAllocated -= currentPerCall;\n        this.allocatedPerCall.delete(callId);\n    }\n}\nexports.MessageBufferTracker = MessageBufferTracker;\nconst PREVIONS_RPC_ATTEMPTS_METADATA_KEY = 'grpc-previous-rpc-attempts';\nconst DEFAULT_MAX_ATTEMPTS_LIMIT = 5;\nclass RetryingCall {\n    constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber, bufferTracker, retryThrottler) {\n        var _a;\n        this.channel = channel;\n        this.callConfig = callConfig;\n        this.methodName = methodName;\n        this.host = host;\n        this.credentials = credentials;\n        this.deadline = deadline;\n        this.callNumber = callNumber;\n        this.bufferTracker = bufferTracker;\n        this.retryThrottler = retryThrottler;\n        this.listener = null;\n        this.initialMetadata = null;\n        this.underlyingCalls = [];\n        this.writeBuffer = [];\n        /**\n         * The offset of message indices in the writeBuffer. For example, if\n         * writeBufferOffset is 10, message 10 is in writeBuffer[0] and message 15\n         * is in writeBuffer[5].\n         */\n        this.writeBufferOffset = 0;\n        /**\n         * Tracks whether a read has been started, so that we know whether to start\n         * reads on new child calls. This only matters for the first read, because\n         * once a message comes in the child call becomes committed and there will\n         * be no new child calls.\n         */\n        this.readStarted = false;\n        this.transparentRetryUsed = false;\n        /**\n         * Number of attempts so far\n         */\n        this.attempts = 0;\n        this.hedgingTimer = null;\n        this.committedCallIndex = null;\n        this.initialRetryBackoffSec = 0;\n        this.nextRetryBackoffSec = 0;\n        const maxAttemptsLimit = (_a = channel.getOptions()['grpc-node.retry_max_attempts_limit']) !== null && _a !== void 0 ? _a : DEFAULT_MAX_ATTEMPTS_LIMIT;\n        if (channel.getOptions()['grpc.enable_retries'] === 0) {\n            this.state = 'NO_RETRY';\n            this.maxAttempts = 1;\n        }\n        else if (callConfig.methodConfig.retryPolicy) {\n            this.state = 'RETRY';\n            const retryPolicy = callConfig.methodConfig.retryPolicy;\n            this.nextRetryBackoffSec = this.initialRetryBackoffSec = Number(retryPolicy.initialBackoff.substring(0, retryPolicy.initialBackoff.length - 1));\n            this.maxAttempts = Math.min(retryPolicy.maxAttempts, maxAttemptsLimit);\n        }\n        else if (callConfig.methodConfig.hedgingPolicy) {\n            this.state = 'HEDGING';\n            this.maxAttempts = Math.min(callConfig.methodConfig.hedgingPolicy.maxAttempts, maxAttemptsLimit);\n        }\n        else {\n            this.state = 'TRANSPARENT_ONLY';\n            this.maxAttempts = 1;\n        }\n        this.startTime = new Date();\n    }\n    getDeadlineInfo() {\n        if (this.underlyingCalls.length === 0) {\n            return [];\n        }\n        const deadlineInfo = [];\n        const latestCall = this.underlyingCalls[this.underlyingCalls.length - 1];\n        if (this.underlyingCalls.length > 1) {\n            deadlineInfo.push(`previous attempts: ${this.underlyingCalls.length - 1}`);\n        }\n        if (latestCall.startTime > this.startTime) {\n            deadlineInfo.push(`time to current attempt start: ${(0, deadline_1.formatDateDifference)(this.startTime, latestCall.startTime)}`);\n        }\n        deadlineInfo.push(...latestCall.call.getDeadlineInfo());\n        return deadlineInfo;\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    reportStatus(statusObject) {\n        this.trace('ended with status: code=' +\n            statusObject.code +\n            ' details=\"' +\n            statusObject.details +\n            '\" start time=' +\n            this.startTime.toISOString());\n        this.bufferTracker.freeAll(this.callNumber);\n        this.writeBufferOffset = this.writeBufferOffset + this.writeBuffer.length;\n        this.writeBuffer = [];\n        process.nextTick(() => {\n            var _a;\n            // Explicitly construct status object to remove progress field\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus({\n                code: statusObject.code,\n                details: statusObject.details,\n                metadata: statusObject.metadata,\n            });\n        });\n    }\n    cancelWithStatus(status, details) {\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        this.reportStatus({ code: status, details, metadata: new metadata_1.Metadata() });\n        for (const { call } of this.underlyingCalls) {\n            call.cancelWithStatus(status, details);\n        }\n    }\n    getPeer() {\n        if (this.committedCallIndex !== null) {\n            return this.underlyingCalls[this.committedCallIndex].call.getPeer();\n        }\n        else {\n            return 'unknown';\n        }\n    }\n    getBufferEntry(messageIndex) {\n        var _a;\n        return ((_a = this.writeBuffer[messageIndex - this.writeBufferOffset]) !== null && _a !== void 0 ? _a : {\n            entryType: 'FREED',\n            allocated: false,\n        });\n    }\n    getNextBufferIndex() {\n        return this.writeBufferOffset + this.writeBuffer.length;\n    }\n    clearSentMessages() {\n        if (this.state !== 'COMMITTED') {\n            return;\n        }\n        let earliestNeededMessageIndex;\n        if (this.underlyingCalls[this.committedCallIndex].state === 'COMPLETED') {\n            /* If the committed call is completed, clear all messages, even if some\n             * have not been sent. */\n            earliestNeededMessageIndex = this.getNextBufferIndex();\n        }\n        else {\n            earliestNeededMessageIndex =\n                this.underlyingCalls[this.committedCallIndex].nextMessageToSend;\n        }\n        for (let messageIndex = this.writeBufferOffset; messageIndex < earliestNeededMessageIndex; messageIndex++) {\n            const bufferEntry = this.getBufferEntry(messageIndex);\n            if (bufferEntry.allocated) {\n                this.bufferTracker.free(bufferEntry.message.message.length, this.callNumber);\n            }\n        }\n        this.writeBuffer = this.writeBuffer.slice(earliestNeededMessageIndex - this.writeBufferOffset);\n        this.writeBufferOffset = earliestNeededMessageIndex;\n    }\n    commitCall(index) {\n        var _a, _b;\n        if (this.state === 'COMMITTED') {\n            return;\n        }\n        this.trace('Committing call [' +\n            this.underlyingCalls[index].call.getCallNumber() +\n            '] at index ' +\n            index);\n        this.state = 'COMMITTED';\n        (_b = (_a = this.callConfig).onCommitted) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.committedCallIndex = index;\n        for (let i = 0; i < this.underlyingCalls.length; i++) {\n            if (i === index) {\n                continue;\n            }\n            if (this.underlyingCalls[i].state === 'COMPLETED') {\n                continue;\n            }\n            this.underlyingCalls[i].state = 'COMPLETED';\n            this.underlyingCalls[i].call.cancelWithStatus(constants_1.Status.CANCELLED, 'Discarded in favor of other hedged attempt');\n        }\n        this.clearSentMessages();\n    }\n    commitCallWithMostMessages() {\n        if (this.state === 'COMMITTED') {\n            return;\n        }\n        let mostMessages = -1;\n        let callWithMostMessages = -1;\n        for (const [index, childCall] of this.underlyingCalls.entries()) {\n            if (childCall.state === 'ACTIVE' &&\n                childCall.nextMessageToSend > mostMessages) {\n                mostMessages = childCall.nextMessageToSend;\n                callWithMostMessages = index;\n            }\n        }\n        if (callWithMostMessages === -1) {\n            /* There are no active calls, disable retries to force the next call that\n             * is started to be committed. */\n            this.state = 'TRANSPARENT_ONLY';\n        }\n        else {\n            this.commitCall(callWithMostMessages);\n        }\n    }\n    isStatusCodeInList(list, code) {\n        return list.some(value => {\n            var _a;\n            return value === code ||\n                value.toString().toLowerCase() === ((_a = constants_1.Status[code]) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        });\n    }\n    getNextRetryJitter() {\n        /* Jitter of +-20% is applied: https://github.com/grpc/proposal/blob/master/A6-client-retries.md#exponential-backoff */\n        return Math.random() * (1.2 - 0.8) + 0.8;\n    }\n    getNextRetryBackoffMs() {\n        var _a;\n        const retryPolicy = (_a = this.callConfig) === null || _a === void 0 ? void 0 : _a.methodConfig.retryPolicy;\n        if (!retryPolicy) {\n            return 0;\n        }\n        const jitter = this.getNextRetryJitter();\n        const nextBackoffMs = jitter * this.nextRetryBackoffSec * 1000;\n        const maxBackoffSec = Number(retryPolicy.maxBackoff.substring(0, retryPolicy.maxBackoff.length - 1));\n        this.nextRetryBackoffSec = Math.min(this.nextRetryBackoffSec * retryPolicy.backoffMultiplier, maxBackoffSec);\n        return nextBackoffMs;\n    }\n    maybeRetryCall(pushback, callback) {\n        if (this.state !== 'RETRY') {\n            callback(false);\n            return;\n        }\n        if (this.attempts >= this.maxAttempts) {\n            callback(false);\n            return;\n        }\n        let retryDelayMs;\n        if (pushback === null) {\n            retryDelayMs = this.getNextRetryBackoffMs();\n        }\n        else if (pushback < 0) {\n            this.state = 'TRANSPARENT_ONLY';\n            callback(false);\n            return;\n        }\n        else {\n            retryDelayMs = pushback;\n            this.nextRetryBackoffSec = this.initialRetryBackoffSec;\n        }\n        setTimeout(() => {\n            var _a, _b;\n            if (this.state !== 'RETRY') {\n                callback(false);\n                return;\n            }\n            if ((_b = (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.canRetryCall()) !== null && _b !== void 0 ? _b : true) {\n                callback(true);\n                this.attempts += 1;\n                this.startNewAttempt();\n            }\n            else {\n                this.trace('Retry attempt denied by throttling policy');\n                callback(false);\n            }\n        }, retryDelayMs);\n    }\n    countActiveCalls() {\n        let count = 0;\n        for (const call of this.underlyingCalls) {\n            if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE') {\n                count += 1;\n            }\n        }\n        return count;\n    }\n    handleProcessedStatus(status, callIndex, pushback) {\n        var _a, _b, _c;\n        switch (this.state) {\n            case 'COMMITTED':\n            case 'NO_RETRY':\n            case 'TRANSPARENT_ONLY':\n                this.commitCall(callIndex);\n                this.reportStatus(status);\n                break;\n            case 'HEDGING':\n                if (this.isStatusCodeInList((_a = this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes) !== null && _a !== void 0 ? _a : [], status.code)) {\n                    (_b = this.retryThrottler) === null || _b === void 0 ? void 0 : _b.addCallFailed();\n                    let delayMs;\n                    if (pushback === null) {\n                        delayMs = 0;\n                    }\n                    else if (pushback < 0) {\n                        this.state = 'TRANSPARENT_ONLY';\n                        this.commitCall(callIndex);\n                        this.reportStatus(status);\n                        return;\n                    }\n                    else {\n                        delayMs = pushback;\n                    }\n                    setTimeout(() => {\n                        this.maybeStartHedgingAttempt();\n                        // If after trying to start a call there are no active calls, this was the last one\n                        if (this.countActiveCalls() === 0) {\n                            this.commitCall(callIndex);\n                            this.reportStatus(status);\n                        }\n                    }, delayMs);\n                }\n                else {\n                    this.commitCall(callIndex);\n                    this.reportStatus(status);\n                }\n                break;\n            case 'RETRY':\n                if (this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes, status.code)) {\n                    (_c = this.retryThrottler) === null || _c === void 0 ? void 0 : _c.addCallFailed();\n                    this.maybeRetryCall(pushback, retried => {\n                        if (!retried) {\n                            this.commitCall(callIndex);\n                            this.reportStatus(status);\n                        }\n                    });\n                }\n                else {\n                    this.commitCall(callIndex);\n                    this.reportStatus(status);\n                }\n                break;\n        }\n    }\n    getPushback(metadata) {\n        const mdValue = metadata.get('grpc-retry-pushback-ms');\n        if (mdValue.length === 0) {\n            return null;\n        }\n        try {\n            return parseInt(mdValue[0]);\n        }\n        catch (e) {\n            return -1;\n        }\n    }\n    handleChildStatus(status, callIndex) {\n        var _a;\n        if (this.underlyingCalls[callIndex].state === 'COMPLETED') {\n            return;\n        }\n        this.trace('state=' +\n            this.state +\n            ' handling status with progress ' +\n            status.progress +\n            ' from child [' +\n            this.underlyingCalls[callIndex].call.getCallNumber() +\n            '] in state ' +\n            this.underlyingCalls[callIndex].state);\n        this.underlyingCalls[callIndex].state = 'COMPLETED';\n        if (status.code === constants_1.Status.OK) {\n            (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.addCallSucceeded();\n            this.commitCall(callIndex);\n            this.reportStatus(status);\n            return;\n        }\n        if (this.state === 'NO_RETRY') {\n            this.commitCall(callIndex);\n            this.reportStatus(status);\n            return;\n        }\n        if (this.state === 'COMMITTED') {\n            this.reportStatus(status);\n            return;\n        }\n        const pushback = this.getPushback(status.metadata);\n        switch (status.progress) {\n            case 'NOT_STARTED':\n                // RPC never leaves the client, always safe to retry\n                this.startNewAttempt();\n                break;\n            case 'REFUSED':\n                // RPC reaches the server library, but not the server application logic\n                if (this.transparentRetryUsed) {\n                    this.handleProcessedStatus(status, callIndex, pushback);\n                }\n                else {\n                    this.transparentRetryUsed = true;\n                    this.startNewAttempt();\n                }\n                break;\n            case 'DROP':\n                this.commitCall(callIndex);\n                this.reportStatus(status);\n                break;\n            case 'PROCESSED':\n                this.handleProcessedStatus(status, callIndex, pushback);\n                break;\n        }\n    }\n    maybeStartHedgingAttempt() {\n        if (this.state !== 'HEDGING') {\n            return;\n        }\n        if (!this.callConfig.methodConfig.hedgingPolicy) {\n            return;\n        }\n        if (this.attempts >= this.maxAttempts) {\n            return;\n        }\n        this.attempts += 1;\n        this.startNewAttempt();\n        this.maybeStartHedgingTimer();\n    }\n    maybeStartHedgingTimer() {\n        var _a, _b, _c;\n        if (this.hedgingTimer) {\n            clearTimeout(this.hedgingTimer);\n        }\n        if (this.state !== 'HEDGING') {\n            return;\n        }\n        if (!this.callConfig.methodConfig.hedgingPolicy) {\n            return;\n        }\n        const hedgingPolicy = this.callConfig.methodConfig.hedgingPolicy;\n        if (this.attempts >= this.maxAttempts) {\n            return;\n        }\n        const hedgingDelayString = (_a = hedgingPolicy.hedgingDelay) !== null && _a !== void 0 ? _a : '0s';\n        const hedgingDelaySec = Number(hedgingDelayString.substring(0, hedgingDelayString.length - 1));\n        this.hedgingTimer = setTimeout(() => {\n            this.maybeStartHedgingAttempt();\n        }, hedgingDelaySec * 1000);\n        (_c = (_b = this.hedgingTimer).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n    }\n    startNewAttempt() {\n        const child = this.channel.createLoadBalancingCall(this.callConfig, this.methodName, this.host, this.credentials, this.deadline);\n        this.trace('Created child call [' +\n            child.getCallNumber() +\n            '] for attempt ' +\n            this.attempts);\n        const index = this.underlyingCalls.length;\n        this.underlyingCalls.push({\n            state: 'ACTIVE',\n            call: child,\n            nextMessageToSend: 0,\n            startTime: new Date(),\n        });\n        const previousAttempts = this.attempts - 1;\n        const initialMetadata = this.initialMetadata.clone();\n        if (previousAttempts > 0) {\n            initialMetadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n        }\n        let receivedMetadata = false;\n        child.start(initialMetadata, {\n            onReceiveMetadata: metadata => {\n                this.trace('Received metadata from child [' + child.getCallNumber() + ']');\n                this.commitCall(index);\n                receivedMetadata = true;\n                if (previousAttempts > 0) {\n                    metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n                }\n                if (this.underlyingCalls[index].state === 'ACTIVE') {\n                    this.listener.onReceiveMetadata(metadata);\n                }\n            },\n            onReceiveMessage: message => {\n                this.trace('Received message from child [' + child.getCallNumber() + ']');\n                this.commitCall(index);\n                if (this.underlyingCalls[index].state === 'ACTIVE') {\n                    this.listener.onReceiveMessage(message);\n                }\n            },\n            onReceiveStatus: status => {\n                this.trace('Received status from child [' + child.getCallNumber() + ']');\n                if (!receivedMetadata && previousAttempts > 0) {\n                    status.metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n                }\n                this.handleChildStatus(status, index);\n            },\n        });\n        this.sendNextChildMessage(index);\n        if (this.readStarted) {\n            child.startRead();\n        }\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.listener = listener;\n        this.initialMetadata = metadata;\n        this.attempts += 1;\n        this.startNewAttempt();\n        this.maybeStartHedgingTimer();\n    }\n    handleChildWriteCompleted(childIndex) {\n        var _a, _b;\n        const childCall = this.underlyingCalls[childIndex];\n        const messageIndex = childCall.nextMessageToSend;\n        (_b = (_a = this.getBufferEntry(messageIndex)).callback) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.clearSentMessages();\n        childCall.nextMessageToSend += 1;\n        this.sendNextChildMessage(childIndex);\n    }\n    sendNextChildMessage(childIndex) {\n        const childCall = this.underlyingCalls[childIndex];\n        if (childCall.state === 'COMPLETED') {\n            return;\n        }\n        if (this.getBufferEntry(childCall.nextMessageToSend)) {\n            const bufferEntry = this.getBufferEntry(childCall.nextMessageToSend);\n            switch (bufferEntry.entryType) {\n                case 'MESSAGE':\n                    childCall.call.sendMessageWithContext({\n                        callback: error => {\n                            // Ignore error\n                            this.handleChildWriteCompleted(childIndex);\n                        },\n                    }, bufferEntry.message.message);\n                    break;\n                case 'HALF_CLOSE':\n                    childCall.nextMessageToSend += 1;\n                    childCall.call.halfClose();\n                    break;\n                case 'FREED':\n                    // Should not be possible\n                    break;\n            }\n        }\n    }\n    sendMessageWithContext(context, message) {\n        var _a;\n        this.trace('write() called with message of length ' + message.length);\n        const writeObj = {\n            message,\n            flags: context.flags,\n        };\n        const messageIndex = this.getNextBufferIndex();\n        const bufferEntry = {\n            entryType: 'MESSAGE',\n            message: writeObj,\n            allocated: this.bufferTracker.allocate(message.length, this.callNumber),\n        };\n        this.writeBuffer.push(bufferEntry);\n        if (bufferEntry.allocated) {\n            (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n            for (const [callIndex, call] of this.underlyingCalls.entries()) {\n                if (call.state === 'ACTIVE' &&\n                    call.nextMessageToSend === messageIndex) {\n                    call.call.sendMessageWithContext({\n                        callback: error => {\n                            // Ignore error\n                            this.handleChildWriteCompleted(callIndex);\n                        },\n                    }, message);\n                }\n            }\n        }\n        else {\n            this.commitCallWithMostMessages();\n            // commitCallWithMostMessages can fail if we are between ping attempts\n            if (this.committedCallIndex === null) {\n                return;\n            }\n            const call = this.underlyingCalls[this.committedCallIndex];\n            bufferEntry.callback = context.callback;\n            if (call.state === 'ACTIVE' && call.nextMessageToSend === messageIndex) {\n                call.call.sendMessageWithContext({\n                    callback: error => {\n                        // Ignore error\n                        this.handleChildWriteCompleted(this.committedCallIndex);\n                    },\n                }, message);\n            }\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        this.readStarted = true;\n        for (const underlyingCall of this.underlyingCalls) {\n            if ((underlyingCall === null || underlyingCall === void 0 ? void 0 : underlyingCall.state) === 'ACTIVE') {\n                underlyingCall.call.startRead();\n            }\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        const halfCloseIndex = this.getNextBufferIndex();\n        this.writeBuffer.push({\n            entryType: 'HALF_CLOSE',\n            allocated: false,\n        });\n        for (const call of this.underlyingCalls) {\n            if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE' &&\n                call.nextMessageToSend === halfCloseIndex) {\n                call.nextMessageToSend += 1;\n                call.call.halfClose();\n            }\n        }\n    }\n    setCredentials(newCredentials) {\n        throw new Error('Method not implemented.');\n    }\n    getMethod() {\n        return this.methodName;\n    }\n    getHost() {\n        return this.host;\n    }\n    getAuthContext() {\n        if (this.committedCallIndex !== null) {\n            return this.underlyingCalls[this.committedCallIndex].call.getAuthContext();\n        }\n        else {\n            return null;\n        }\n    }\n}\nexports.RetryingCall = RetryingCall;\n//# sourceMappingURL=retrying-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmV0cnlpbmctY2FsbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLDRCQUE0QixHQUFHLHNCQUFzQjtBQUM1RSxvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QyxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxRQUFRLFFBQVEsTUFBTSxvQkFBb0Isb0JBQW9CO0FBQ25JO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFFBQVEsUUFBUSxNQUFNLHVCQUF1QixlQUFlO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFFBQVEsWUFBWSxnQkFBZ0Isb0JBQW9CLG9CQUFvQjtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZ0NBQWdDO0FBQ3BGO0FBQ0E7QUFDQSxnRUFBZ0UsMkVBQTJFO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDREQUE0RDtBQUN4RixxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsMkNBQTJDO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUNBQWlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsaUJBQWlCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsaUJBQWlCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsaUJBQWlCO0FBQ2hHO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmV0cnlpbmctY2FsbC5qcz9jM2ZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJldHJ5aW5nQ2FsbCA9IGV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBleHBvcnRzLlJldHJ5VGhyb3R0bGVyID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JldHJ5aW5nX2NhbGwnO1xuY2xhc3MgUmV0cnlUaHJvdHRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFRva2VucywgdG9rZW5SYXRpbywgcHJldmlvdXNSZXRyeVRocm90dGxlcikge1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IG1heFRva2VucztcbiAgICAgICAgdGhpcy50b2tlblJhdGlvID0gdG9rZW5SYXRpbztcbiAgICAgICAgaWYgKHByZXZpb3VzUmV0cnlUaHJvdHRsZXIpIHtcbiAgICAgICAgICAgIC8qIFdoZW4gY2Fycnlpbmcgb3ZlciB0b2tlbnMgZnJvbSBhIHByZXZpb3VzIGNvbmZpZywgcmVzY2FsZSB0aGVtIHRvIHRoZVxuICAgICAgICAgICAgICogbmV3IG1heCB2YWx1ZSAqL1xuICAgICAgICAgICAgdGhpcy50b2tlbnMgPVxuICAgICAgICAgICAgICAgIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIudG9rZW5zICpcbiAgICAgICAgICAgICAgICAgICAgKG1heFRva2VucyAvIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIubWF4VG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zID0gbWF4VG9rZW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENhbGxTdWNjZWVkZWQoKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gTWF0aC5taW4odGhpcy50b2tlbnMgKyB0aGlzLnRva2VuUmF0aW8sIHRoaXMubWF4VG9rZW5zKTtcbiAgICB9XG4gICAgYWRkQ2FsbEZhaWxlZCgpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBNYXRoLm1heCh0aGlzLnRva2VucyAtIDEsIDApO1xuICAgIH1cbiAgICBjYW5SZXRyeUNhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VucyA+ICh0aGlzLm1heFRva2VucyAvIDIpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmV0cnlUaHJvdHRsZXIgPSBSZXRyeVRocm90dGxlcjtcbmNsYXNzIE1lc3NhZ2VCdWZmZXJUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3RhbExpbWl0LCBsaW1pdFBlckNhbGwpIHtcbiAgICAgICAgdGhpcy50b3RhbExpbWl0ID0gdG90YWxMaW1pdDtcbiAgICAgICAgdGhpcy5saW1pdFBlckNhbGwgPSBsaW1pdFBlckNhbGw7XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgPSAwO1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFBlckNhbGwgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGFsbG9jYXRlKHNpemUsIGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAodGhpcy5saW1pdFBlckNhbGwgLSBjdXJyZW50UGVyQ2FsbCA8IHNpemUgfHxcbiAgICAgICAgICAgIHRoaXMudG90YWxMaW1pdCAtIHRoaXMudG90YWxBbGxvY2F0ZWQgPCBzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLnNldChjYWxsSWQsIGN1cnJlbnRQZXJDYWxsICsgc2l6ZSk7XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgKz0gc2l6ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZyZWUoc2l6ZSwgY2FsbElkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudG90YWxBbGxvY2F0ZWQgPCBzaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGZyZWVkICR7c2l6ZX0gPiB0b3RhbCBhbGxvY2F0ZWQgJHt0aGlzLnRvdGFsQWxsb2NhdGVkfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgLT0gc2l6ZTtcbiAgICAgICAgY29uc3QgY3VycmVudFBlckNhbGwgPSAoX2EgPSB0aGlzLmFsbG9jYXRlZFBlckNhbGwuZ2V0KGNhbGxJZCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG4gICAgICAgIGlmIChjdXJyZW50UGVyQ2FsbCA8IHNpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBidWZmZXIgYWxsb2NhdGlvbiBzdGF0ZTogY2FsbCAke2NhbGxJZH0gZnJlZWQgJHtzaXplfSA+IGFsbG9jYXRlZCBmb3IgY2FsbCAke2N1cnJlbnRQZXJDYWxsfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5zZXQoY2FsbElkLCBjdXJyZW50UGVyQ2FsbCAtIHNpemUpO1xuICAgIH1cbiAgICBmcmVlQWxsKGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAodGhpcy50b3RhbEFsbG9jYXRlZCA8IGN1cnJlbnRQZXJDYWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGFsbG9jYXRlZCAke2N1cnJlbnRQZXJDYWxsfSA+IHRvdGFsIGFsbG9jYXRlZCAke3RoaXMudG90YWxBbGxvY2F0ZWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbEFsbG9jYXRlZCAtPSBjdXJyZW50UGVyQ2FsbDtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmRlbGV0ZShjYWxsSWQpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBNZXNzYWdlQnVmZmVyVHJhY2tlcjtcbmNvbnN0IFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVkgPSAnZ3JwYy1wcmV2aW91cy1ycGMtYXR0ZW1wdHMnO1xuY29uc3QgREVGQVVMVF9NQVhfQVRURU1QVFNfTElNSVQgPSA1O1xuY2xhc3MgUmV0cnlpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBjYWxsQ29uZmlnLCBtZXRob2ROYW1lLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUsIGNhbGxOdW1iZXIsIGJ1ZmZlclRyYWNrZXIsIHJldHJ5VGhyb3R0bGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5jYWxsQ29uZmlnID0gY2FsbENvbmZpZztcbiAgICAgICAgdGhpcy5tZXRob2ROYW1lID0gbWV0aG9kTmFtZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gZGVhZGxpbmU7XG4gICAgICAgIHRoaXMuY2FsbE51bWJlciA9IGNhbGxOdW1iZXI7XG4gICAgICAgIHRoaXMuYnVmZmVyVHJhY2tlciA9IGJ1ZmZlclRyYWNrZXI7XG4gICAgICAgIHRoaXMucmV0cnlUaHJvdHRsZXIgPSByZXRyeVRocm90dGxlcjtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5pdGlhbE1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHMgPSBbXTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiBtZXNzYWdlIGluZGljZXMgaW4gdGhlIHdyaXRlQnVmZmVyLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogd3JpdGVCdWZmZXJPZmZzZXQgaXMgMTAsIG1lc3NhZ2UgMTAgaXMgaW4gd3JpdGVCdWZmZXJbMF0gYW5kIG1lc3NhZ2UgMTVcbiAgICAgICAgICogaXMgaW4gd3JpdGVCdWZmZXJbNV0uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyB3aGV0aGVyIGEgcmVhZCBoYXMgYmVlbiBzdGFydGVkLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciB0byBzdGFydFxuICAgICAgICAgKiByZWFkcyBvbiBuZXcgY2hpbGQgY2FsbHMuIFRoaXMgb25seSBtYXR0ZXJzIGZvciB0aGUgZmlyc3QgcmVhZCwgYmVjYXVzZVxuICAgICAgICAgKiBvbmNlIGEgbWVzc2FnZSBjb21lcyBpbiB0aGUgY2hpbGQgY2FsbCBiZWNvbWVzIGNvbW1pdHRlZCBhbmQgdGhlcmUgd2lsbFxuICAgICAgICAgKiBiZSBubyBuZXcgY2hpbGQgY2FsbHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlYWRTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBhdHRlbXB0cyBzbyBmYXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0ZW1wdHMgPSAwO1xuICAgICAgICB0aGlzLmhlZGdpbmdUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjID0gMDtcbiAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gMDtcbiAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHNMaW1pdCA9IChfYSA9IGNoYW5uZWwuZ2V0T3B0aW9ucygpWydncnBjLW5vZGUucmV0cnlfbWF4X2F0dGVtcHRzX2xpbWl0J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfTUFYX0FUVEVNUFRTX0xJTUlUO1xuICAgICAgICBpZiAoY2hhbm5lbC5nZXRPcHRpb25zKClbJ2dycGMuZW5hYmxlX3JldHJpZXMnXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdOT19SRVRSWSc7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5yZXRyeVBvbGljeSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRVRSWSc7XG4gICAgICAgICAgICBjb25zdCByZXRyeVBvbGljeSA9IGNhbGxDb25maWcubWV0aG9kQ29uZmlnLnJldHJ5UG9saWN5O1xuICAgICAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjID0gTnVtYmVyKHJldHJ5UG9saWN5LmluaXRpYWxCYWNrb2ZmLnN1YnN0cmluZygwLCByZXRyeVBvbGljeS5pbml0aWFsQmFja29mZi5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gTWF0aC5taW4ocmV0cnlQb2xpY3kubWF4QXR0ZW1wdHMsIG1heEF0dGVtcHRzTGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnSEVER0lORyc7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gTWF0aC5taW4oY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeS5tYXhBdHRlbXB0cywgbWF4QXR0ZW1wdHNMaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICAgICAgdGhpcy5tYXhBdHRlbXB0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWFkbGluZUluZm8gPSBbXTtcbiAgICAgICAgY29uc3QgbGF0ZXN0Q2FsbCA9IHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYHByZXZpb3VzIGF0dGVtcHRzOiAke3RoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aCAtIDF9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhdGVzdENhbGwuc3RhcnRUaW1lID4gdGhpcy5zdGFydFRpbWUpIHtcbiAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKGB0aW1lIHRvIGN1cnJlbnQgYXR0ZW1wdCBzdGFydDogJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5zdGFydFRpbWUsIGxhdGVzdENhbGwuc3RhcnRUaW1lKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBkZWFkbGluZUluZm8ucHVzaCguLi5sYXRlc3RDYWxsLmNhbGwuZ2V0RGVhZGxpbmVJbmZvKCkpO1xuICAgICAgICByZXR1cm4gZGVhZGxpbmVJbmZvO1xuICAgIH1cbiAgICBnZXRDYWxsTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsTnVtYmVyO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICByZXBvcnRTdGF0dXMoc3RhdHVzT2JqZWN0KSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2VuZGVkIHdpdGggc3RhdHVzOiBjb2RlPScgK1xuICAgICAgICAgICAgc3RhdHVzT2JqZWN0LmNvZGUgK1xuICAgICAgICAgICAgJyBkZXRhaWxzPVwiJyArXG4gICAgICAgICAgICBzdGF0dXNPYmplY3QuZGV0YWlscyArXG4gICAgICAgICAgICAnXCIgc3RhcnQgdGltZT0nICtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZUFsbCh0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBjb25zdHJ1Y3Qgc3RhdHVzIG9iamVjdCB0byByZW1vdmUgcHJvZ3Jlc3MgZmllbGRcbiAgICAgICAgICAgIChfYSA9IHRoaXMubGlzdGVuZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblJlY2VpdmVTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IHN0YXR1c09iamVjdC5jb2RlLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHN0YXR1c09iamVjdC5kZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXNPYmplY3QubWV0YWRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyh7IGNvZGU6IHN0YXR1cywgZGV0YWlscywgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkgfSk7XG4gICAgICAgIGZvciAoY29uc3QgeyBjYWxsIH0gb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMuY29tbWl0dGVkQ2FsbEluZGV4XS5jYWxsLmdldFBlZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLndyaXRlQnVmZmVyW21lc3NhZ2VJbmRleCAtIHRoaXMud3JpdGVCdWZmZXJPZmZzZXRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdGUkVFRCcsXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dEJ1ZmZlckluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBjbGVhclNlbnRNZXNzYWdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4O1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbdGhpcy5jb21taXR0ZWRDYWxsSW5kZXhdLnN0YXRlID09PSAnQ09NUExFVEVEJykge1xuICAgICAgICAgICAgLyogSWYgdGhlIGNvbW1pdHRlZCBjYWxsIGlzIGNvbXBsZXRlZCwgY2xlYXIgYWxsIG1lc3NhZ2VzLCBldmVuIGlmIHNvbWVcbiAgICAgICAgICAgICAqIGhhdmUgbm90IGJlZW4gc2VudC4gKi9cbiAgICAgICAgICAgIGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4ID0gdGhpcy5nZXROZXh0QnVmZmVySW5kZXgoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4ID1cbiAgICAgICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1t0aGlzLmNvbW1pdHRlZENhbGxJbmRleF0ubmV4dE1lc3NhZ2VUb1NlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbWVzc2FnZUluZGV4ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldDsgbWVzc2FnZUluZGV4IDwgZWFybGllc3ROZWVkZWRNZXNzYWdlSW5kZXg7IG1lc3NhZ2VJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJFbnRyeSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KTtcbiAgICAgICAgICAgIGlmIChidWZmZXJFbnRyeS5hbGxvY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZShidWZmZXJFbnRyeS5tZXNzYWdlLm1lc3NhZ2UubGVuZ3RoLCB0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4IC0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXJPZmZzZXQgPSBlYXJsaWVzdE5lZWRlZE1lc3NhZ2VJbmRleDtcbiAgICB9XG4gICAgY29tbWl0Q2FsbChpbmRleCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0NPTU1JVFRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdDb21taXR0aW5nIGNhbGwgWycgK1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLmNhbGwuZ2V0Q2FsbE51bWJlcigpICtcbiAgICAgICAgICAgICddIGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaW5kZXgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ0NPTU1JVFRFRCc7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuY2FsbENvbmZpZykub25Db21taXR0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgdGhpcy5jb21taXR0ZWRDYWxsSW5kZXggPSBpbmRleDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tpXS5zdGF0ZSA9ICdDT01QTEVURUQnO1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdEaXNjYXJkZWQgaW4gZmF2b3Igb2Ygb3RoZXIgaGVkZ2VkIGF0dGVtcHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyU2VudE1lc3NhZ2VzKCk7XG4gICAgfVxuICAgIGNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0NPTU1JVFRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9zdE1lc3NhZ2VzID0gLTE7XG4gICAgICAgIGxldCBjYWxsV2l0aE1vc3RNZXNzYWdlcyA9IC0xO1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGRDYWxsXSBvZiB0aGlzLnVuZGVybHlpbmdDYWxscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZENhbGwuc3RhdGUgPT09ICdBQ1RJVkUnICYmXG4gICAgICAgICAgICAgICAgY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kID4gbW9zdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgbW9zdE1lc3NhZ2VzID0gY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kO1xuICAgICAgICAgICAgICAgIGNhbGxXaXRoTW9zdE1lc3NhZ2VzID0gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxXaXRoTW9zdE1lc3NhZ2VzID09PSAtMSkge1xuICAgICAgICAgICAgLyogVGhlcmUgYXJlIG5vIGFjdGl2ZSBjYWxscywgZGlzYWJsZSByZXRyaWVzIHRvIGZvcmNlIHRoZSBuZXh0IGNhbGwgdGhhdFxuICAgICAgICAgICAgICogaXMgc3RhcnRlZCB0byBiZSBjb21taXR0ZWQuICovXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxXaXRoTW9zdE1lc3NhZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc1N0YXR1c0NvZGVJbkxpc3QobGlzdCwgY29kZSkge1xuICAgICAgICByZXR1cm4gbGlzdC5zb21lKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gY29kZSB8fFxuICAgICAgICAgICAgICAgIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gKChfYSA9IGNvbnN0YW50c18xLlN0YXR1c1tjb2RlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dFJldHJ5Sml0dGVyKCkge1xuICAgICAgICAvKiBKaXR0ZXIgb2YgKy0yMCUgaXMgYXBwbGllZDogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvcHJvcG9zYWwvYmxvYi9tYXN0ZXIvQTYtY2xpZW50LXJldHJpZXMubWQjZXhwb25lbnRpYWwtYmFja29mZiAqL1xuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqICgxLjIgLSAwLjgpICsgMC44O1xuICAgIH1cbiAgICBnZXROZXh0UmV0cnlCYWNrb2ZmTXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmV0cnlQb2xpY3kgPSAoX2EgPSB0aGlzLmNhbGxDb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXRob2RDb25maWcucmV0cnlQb2xpY3k7XG4gICAgICAgIGlmICghcmV0cnlQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGppdHRlciA9IHRoaXMuZ2V0TmV4dFJldHJ5Sml0dGVyKCk7XG4gICAgICAgIGNvbnN0IG5leHRCYWNrb2ZmTXMgPSBqaXR0ZXIgKiB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgKiAxMDAwO1xuICAgICAgICBjb25zdCBtYXhCYWNrb2ZmU2VjID0gTnVtYmVyKHJldHJ5UG9saWN5Lm1heEJhY2tvZmYuc3Vic3RyaW5nKDAsIHJldHJ5UG9saWN5Lm1heEJhY2tvZmYubGVuZ3RoIC0gMSkpO1xuICAgICAgICB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgPSBNYXRoLm1pbih0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgKiByZXRyeVBvbGljeS5iYWNrb2ZmTXVsdGlwbGllciwgbWF4QmFja29mZlNlYyk7XG4gICAgICAgIHJldHVybiBuZXh0QmFja29mZk1zO1xuICAgIH1cbiAgICBtYXliZVJldHJ5Q2FsbChwdXNoYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdSRVRSWScpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSB0aGlzLm1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJldHJ5RGVsYXlNcztcbiAgICAgICAgaWYgKHB1c2hiYWNrID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXRyeURlbGF5TXMgPSB0aGlzLmdldE5leHRSZXRyeUJhY2tvZmZNcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHB1c2hiYWNrIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdUUkFOU1BBUkVOVF9PTkxZJztcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHJ5RGVsYXlNcyA9IHB1c2hiYWNrO1xuICAgICAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnUkVUUlknKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoX2IgPSAoX2EgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuUmV0cnlDYWxsKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGVtcHRzICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JldHJ5IGF0dGVtcHQgZGVuaWVkIGJ5IHRocm90dGxpbmcgcG9saWN5Jyk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCByZXRyeURlbGF5TXMpO1xuICAgIH1cbiAgICBjb3VudEFjdGl2ZUNhbGxzKCkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGlmICgoY2FsbCA9PT0gbnVsbCB8fCBjYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsLnN0YXRlKSA9PT0gJ0FDVElWRScpIHtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgaGFuZGxlUHJvY2Vzc2VkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4LCBwdXNoYmFjaykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdDT01NSVRURUQnOlxuICAgICAgICAgICAgY2FzZSAnTk9fUkVUUlknOlxuICAgICAgICAgICAgY2FzZSAnVFJBTlNQQVJFTlRfT05MWSc6XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0hFREdJTkcnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhdHVzQ29kZUluTGlzdCgoX2EgPSB0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kubm9uRmF0YWxTdGF0dXNDb2RlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sIHN0YXR1cy5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXlNcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHB1c2hiYWNrID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheU1zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwdXNoYmFjayA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnVFJBTlNQQVJFTlRfT05MWSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheU1zID0gcHVzaGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nQXR0ZW1wdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYWZ0ZXIgdHJ5aW5nIHRvIHN0YXJ0IGEgY2FsbCB0aGVyZSBhcmUgbm8gYWN0aXZlIGNhbGxzLCB0aGlzIHdhcyB0aGUgbGFzdCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50QWN0aXZlQ2FsbHMoKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5TXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUkVUUlknOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhdHVzQ29kZUluTGlzdCh0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLnJldHJ5UG9saWN5LnJldHJ5YWJsZVN0YXR1c0NvZGVzLCBzdGF0dXMuY29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5yZXRyeVRocm90dGxlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXliZVJldHJ5Q2FsbChwdXNoYmFjaywgcmV0cmllZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQdXNoYmFjayhtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBtZFZhbHVlID0gbWV0YWRhdGEuZ2V0KCdncnBjLXJldHJ5LXB1c2hiYWNrLW1zJyk7XG4gICAgICAgIGlmIChtZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChtZFZhbHVlWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNoaWxkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudW5kZXJseWluZ0NhbGxzW2NhbGxJbmRleF0uc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnc3RhdGU9JyArXG4gICAgICAgICAgICB0aGlzLnN0YXRlICtcbiAgICAgICAgICAgICcgaGFuZGxpbmcgc3RhdHVzIHdpdGggcHJvZ3Jlc3MgJyArXG4gICAgICAgICAgICBzdGF0dXMucHJvZ3Jlc3MgK1xuICAgICAgICAgICAgJyBmcm9tIGNoaWxkIFsnICtcbiAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzW2NhbGxJbmRleF0uY2FsbC5nZXRDYWxsTnVtYmVyKCkgK1xuICAgICAgICAgICAgJ10gaW4gc3RhdGUgJyArXG4gICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tjYWxsSW5kZXhdLnN0YXRlKTtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2FsbEluZGV4XS5zdGF0ZSA9ICdDT01QTEVURUQnO1xuICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5yZXRyeVRocm90dGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ05PX1JFVFJZJykge1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnQ09NTUlUVEVEJykge1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdXNoYmFjayA9IHRoaXMuZ2V0UHVzaGJhY2soc3RhdHVzLm1ldGFkYXRhKTtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGNhc2UgJ05PVF9TVEFSVEVEJzpcbiAgICAgICAgICAgICAgICAvLyBSUEMgbmV2ZXIgbGVhdmVzIHRoZSBjbGllbnQsIGFsd2F5cyBzYWZlIHRvIHJldHJ5XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JFRlVTRUQnOlxuICAgICAgICAgICAgICAgIC8vIFJQQyByZWFjaGVzIHRoZSBzZXJ2ZXIgbGlicmFyeSwgYnV0IG5vdCB0aGUgc2VydmVyIGFwcGxpY2F0aW9uIGxvZ2ljXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQcm9jZXNzZWRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgsIHB1c2hiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RST1AnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQUk9DRVNTRUQnOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUHJvY2Vzc2VkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4LCBwdXNoYmFjayk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ0hFREdJTkcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSB0aGlzLm1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRlbXB0cyArPSAxO1xuICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nVGltZXIoKTtcbiAgICB9XG4gICAgbWF5YmVTdGFydEhlZGdpbmdUaW1lcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmICh0aGlzLmhlZGdpbmdUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVkZ2luZ1RpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ0hFREdJTkcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWRnaW5nUG9saWN5ID0gdGhpcy5jYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5oZWRnaW5nUG9saWN5O1xuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSB0aGlzLm1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVkZ2luZ0RlbGF5U3RyaW5nID0gKF9hID0gaGVkZ2luZ1BvbGljeS5oZWRnaW5nRGVsYXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcwcyc7XG4gICAgICAgIGNvbnN0IGhlZGdpbmdEZWxheVNlYyA9IE51bWJlcihoZWRnaW5nRGVsYXlTdHJpbmcuc3Vic3RyaW5nKDAsIGhlZGdpbmdEZWxheVN0cmluZy5sZW5ndGggLSAxKSk7XG4gICAgICAgIHRoaXMuaGVkZ2luZ1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nQXR0ZW1wdCgpO1xuICAgICAgICB9LCBoZWRnaW5nRGVsYXlTZWMgKiAxMDAwKTtcbiAgICAgICAgKF9jID0gKF9iID0gdGhpcy5oZWRnaW5nVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgfVxuICAgIHN0YXJ0TmV3QXR0ZW1wdCgpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoYW5uZWwuY3JlYXRlTG9hZEJhbGFuY2luZ0NhbGwodGhpcy5jYWxsQ29uZmlnLCB0aGlzLm1ldGhvZE5hbWUsIHRoaXMuaG9zdCwgdGhpcy5jcmVkZW50aWFscywgdGhpcy5kZWFkbGluZSk7XG4gICAgICAgIHRoaXMudHJhY2UoJ0NyZWF0ZWQgY2hpbGQgY2FsbCBbJyArXG4gICAgICAgICAgICBjaGlsZC5nZXRDYWxsTnVtYmVyKCkgK1xuICAgICAgICAgICAgJ10gZm9yIGF0dGVtcHQgJyArXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRzKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGg7XG4gICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzLnB1c2goe1xuICAgICAgICAgICAgc3RhdGU6ICdBQ1RJVkUnLFxuICAgICAgICAgICAgY2FsbDogY2hpbGQsXG4gICAgICAgICAgICBuZXh0TWVzc2FnZVRvU2VuZDogMCxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzQXR0ZW1wdHMgPSB0aGlzLmF0dGVtcHRzIC0gMTtcbiAgICAgICAgY29uc3QgaW5pdGlhbE1ldGFkYXRhID0gdGhpcy5pbml0aWFsTWV0YWRhdGEuY2xvbmUoKTtcbiAgICAgICAgaWYgKHByZXZpb3VzQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICBpbml0aWFsTWV0YWRhdGEuc2V0KFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVksIGAke3ByZXZpb3VzQXR0ZW1wdHN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlY2VpdmVkTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgY2hpbGQuc3RhcnQoaW5pdGlhbE1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhIGZyb20gY2hpbGQgWycgKyBjaGlsZC5nZXRDYWxsTnVtYmVyKCkgKyAnXScpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChpbmRleCk7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLnNldChQUkVWSU9OU19SUENfQVRURU1QVFNfTUVUQURBVEFfS0VZLCBgJHtwcmV2aW91c0F0dGVtcHRzfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLnN0YXRlID09PSAnQUNUSVZFJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogbWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgbWVzc2FnZSBmcm9tIGNoaWxkIFsnICsgY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDYWxsc1tpbmRleF0uc3RhdGUgPT09ICdBQ1RJVkUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIHN0YXR1cyBmcm9tIGNoaWxkIFsnICsgY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlY2VpdmVkTWV0YWRhdGEgJiYgcHJldmlvdXNBdHRlbXB0cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLm1ldGFkYXRhLnNldChQUkVWSU9OU19SUENfQVRURU1QVFNfTUVUQURBVEFfS0VZLCBgJHtwcmV2aW91c0F0dGVtcHRzfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkU3RhdHVzKHN0YXR1cywgaW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZE5leHRDaGlsZE1lc3NhZ2UoaW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5yZWFkU3RhcnRlZCkge1xuICAgICAgICAgICAgY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0IGNhbGxlZCcpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuaW5pdGlhbE1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuYXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0SGVkZ2luZ1RpbWVyKCk7XG4gICAgfVxuICAgIGhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQoY2hpbGRJbmRleCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjaGlsZENhbGwgPSB0aGlzLnVuZGVybHlpbmdDYWxsc1tjaGlsZEluZGV4XTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmdldEJ1ZmZlckVudHJ5KG1lc3NhZ2VJbmRleCkpLmNhbGxiYWNrKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZW50TWVzc2FnZXMoKTtcbiAgICAgICAgY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kICs9IDE7XG4gICAgICAgIHRoaXMuc2VuZE5leHRDaGlsZE1lc3NhZ2UoY2hpbGRJbmRleCk7XG4gICAgfVxuICAgIHNlbmROZXh0Q2hpbGRNZXNzYWdlKGNoaWxkSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2hpbGRDYWxsID0gdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2hpbGRJbmRleF07XG4gICAgICAgIGlmIChjaGlsZENhbGwuc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0QnVmZmVyRW50cnkoY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kKSkge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyRW50cnkgPSB0aGlzLmdldEJ1ZmZlckVudHJ5KGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGJ1ZmZlckVudHJ5LmVudHJ5VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ01FU1NBR0UnOlxuICAgICAgICAgICAgICAgICAgICBjaGlsZENhbGwuY2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGlsZFdyaXRlQ29tcGxldGVkKGNoaWxkSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSwgYnVmZmVyRW50cnkubWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnSEFMRl9DTE9TRSc6XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5uZXh0TWVzc2FnZVRvU2VuZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZENhbGwuY2FsbC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnRlJFRUQnOlxuICAgICAgICAgICAgICAgICAgICAvLyBTaG91bGQgbm90IGJlIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgd3JpdGVPYmogPSB7XG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgZmxhZ3M6IGNvbnRleHQuZmxhZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9IHRoaXMuZ2V0TmV4dEJ1ZmZlckluZGV4KCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckVudHJ5ID0ge1xuICAgICAgICAgICAgZW50cnlUeXBlOiAnTUVTU0FHRScsXG4gICAgICAgICAgICBtZXNzYWdlOiB3cml0ZU9iaixcbiAgICAgICAgICAgIGFsbG9jYXRlZDogdGhpcy5idWZmZXJUcmFja2VyLmFsbG9jYXRlKG1lc3NhZ2UubGVuZ3RoLCB0aGlzLmNhbGxOdW1iZXIpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2goYnVmZmVyRW50cnkpO1xuICAgICAgICBpZiAoYnVmZmVyRW50cnkuYWxsb2NhdGVkKSB7XG4gICAgICAgICAgICAoX2EgPSBjb250ZXh0LmNhbGxiYWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2NhbGxJbmRleCwgY2FsbF0gb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGwuc3RhdGUgPT09ICdBQ1RJVkUnICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGwubmV4dE1lc3NhZ2VUb1NlbmQgPT09IG1lc3NhZ2VJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLmNhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hpbGRXcml0ZUNvbXBsZXRlZChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsV2l0aE1vc3RNZXNzYWdlcygpO1xuICAgICAgICAgICAgLy8gY29tbWl0Q2FsbFdpdGhNb3N0TWVzc2FnZXMgY2FuIGZhaWwgaWYgd2UgYXJlIGJldHdlZW4gcGluZyBhdHRlbXB0c1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMuY29tbWl0dGVkQ2FsbEluZGV4XTtcbiAgICAgICAgICAgIGJ1ZmZlckVudHJ5LmNhbGxiYWNrID0gY29udGV4dC5jYWxsYmFjaztcbiAgICAgICAgICAgIGlmIChjYWxsLnN0YXRlID09PSAnQUNUSVZFJyAmJiBjYWxsLm5leHRNZXNzYWdlVG9TZW5kID09PSBtZXNzYWdlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjYWxsLmNhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hpbGRXcml0ZUNvbXBsZXRlZCh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydFJlYWQgY2FsbGVkJyk7XG4gICAgICAgIHRoaXMucmVhZFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IHVuZGVybHlpbmdDYWxsIG9mIHRoaXMudW5kZXJseWluZ0NhbGxzKSB7XG4gICAgICAgICAgICBpZiAoKHVuZGVybHlpbmdDYWxsID09PSBudWxsIHx8IHVuZGVybHlpbmdDYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1bmRlcmx5aW5nQ2FsbC5zdGF0ZSkgPT09ICdBQ1RJVkUnKSB7XG4gICAgICAgICAgICAgICAgdW5kZXJseWluZ0NhbGwuY2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgY29uc3QgaGFsZkNsb3NlSW5kZXggPSB0aGlzLmdldE5leHRCdWZmZXJJbmRleCgpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgZW50cnlUeXBlOiAnSEFMRl9DTE9TRScsXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIHRoaXMudW5kZXJseWluZ0NhbGxzKSB7XG4gICAgICAgICAgICBpZiAoKGNhbGwgPT09IG51bGwgfHwgY2FsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbC5zdGF0ZSkgPT09ICdBQ1RJVkUnICYmXG4gICAgICAgICAgICAgICAgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gaGFsZkNsb3NlSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjYWxsLm5leHRNZXNzYWdlVG9TZW5kICs9IDE7XG4gICAgICAgICAgICAgICAgY2FsbC5jYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKG5ld0NyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0TWV0aG9kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2ROYW1lO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0O1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nQ2FsbHNbdGhpcy5jb21taXR0ZWRDYWxsSW5kZXhdLmNhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXRyeWluZ0NhbGwgPSBSZXRyeWluZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeWluZy1jYWxsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/retrying-call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ServerDuplexStreamImpl = exports.ServerWritableStreamImpl = exports.ServerReadableStreamImpl = exports.ServerUnaryCallImpl = void 0;\nexports.serverErrorToStatus = serverErrorToStatus;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst stream_1 = __webpack_require__(/*! stream */ \"stream\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nfunction serverErrorToStatus(error, overrideTrailers) {\n    var _a;\n    const status = {\n        code: constants_1.Status.UNKNOWN,\n        details: 'message' in error ? error.message : 'Unknown Error',\n        metadata: (_a = overrideTrailers !== null && overrideTrailers !== void 0 ? overrideTrailers : error.metadata) !== null && _a !== void 0 ? _a : null,\n    };\n    if ('code' in error &&\n        typeof error.code === 'number' &&\n        Number.isInteger(error.code)) {\n        status.code = error.code;\n        if ('details' in error && typeof error.details === 'string') {\n            status.details = error.details;\n        }\n    }\n    return status;\n}\nclass ServerUnaryCallImpl extends events_1.EventEmitter {\n    constructor(path, call, metadata, request) {\n        super();\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.request = request;\n        this.cancelled = false;\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n    getAuthContext() {\n        return this.call.getAuthContext();\n    }\n    getMetricsRecorder() {\n        return this.call.getMetricsRecorder();\n    }\n}\nexports.ServerUnaryCallImpl = ServerUnaryCallImpl;\nclass ServerReadableStreamImpl extends stream_1.Readable {\n    constructor(path, call, metadata) {\n        super({ objectMode: true });\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.cancelled = false;\n    }\n    _read(size) {\n        this.call.startRead();\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n    getAuthContext() {\n        return this.call.getAuthContext();\n    }\n    getMetricsRecorder() {\n        return this.call.getMetricsRecorder();\n    }\n}\nexports.ServerReadableStreamImpl = ServerReadableStreamImpl;\nclass ServerWritableStreamImpl extends stream_1.Writable {\n    constructor(path, call, metadata, request) {\n        super({ objectMode: true });\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.request = request;\n        this.pendingStatus = {\n            code: constants_1.Status.OK,\n            details: 'OK',\n        };\n        this.cancelled = false;\n        this.trailingMetadata = new metadata_1.Metadata();\n        this.on('error', err => {\n            this.pendingStatus = serverErrorToStatus(err);\n            this.end();\n        });\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n    getAuthContext() {\n        return this.call.getAuthContext();\n    }\n    getMetricsRecorder() {\n        return this.call.getMetricsRecorder();\n    }\n    _write(chunk, encoding, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callback) {\n        this.call.sendMessage(chunk, callback);\n    }\n    _final(callback) {\n        var _a;\n        callback(null);\n        this.call.sendStatus(Object.assign(Object.assign({}, this.pendingStatus), { metadata: (_a = this.pendingStatus.metadata) !== null && _a !== void 0 ? _a : this.trailingMetadata }));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    end(metadata) {\n        if (metadata) {\n            this.trailingMetadata = metadata;\n        }\n        return super.end();\n    }\n}\nexports.ServerWritableStreamImpl = ServerWritableStreamImpl;\nclass ServerDuplexStreamImpl extends stream_1.Duplex {\n    constructor(path, call, metadata) {\n        super({ objectMode: true });\n        this.path = path;\n        this.call = call;\n        this.metadata = metadata;\n        this.pendingStatus = {\n            code: constants_1.Status.OK,\n            details: 'OK',\n        };\n        this.cancelled = false;\n        this.trailingMetadata = new metadata_1.Metadata();\n        this.on('error', err => {\n            this.pendingStatus = serverErrorToStatus(err);\n            this.end();\n        });\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.path;\n    }\n    getHost() {\n        return this.call.getHost();\n    }\n    getAuthContext() {\n        return this.call.getAuthContext();\n    }\n    getMetricsRecorder() {\n        return this.call.getMetricsRecorder();\n    }\n    _read(size) {\n        this.call.startRead();\n    }\n    _write(chunk, encoding, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callback) {\n        this.call.sendMessage(chunk, callback);\n    }\n    _final(callback) {\n        var _a;\n        callback(null);\n        this.call.sendStatus(Object.assign(Object.assign({}, this.pendingStatus), { metadata: (_a = this.pendingStatus.metadata) !== null && _a !== void 0 ? _a : this.trailingMetadata }));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    end(metadata) {\n        if (metadata) {\n            this.trailingMetadata = metadata;\n        }\n        return super.end();\n    }\n}\nexports.ServerDuplexStreamImpl = ServerDuplexStreamImpl;\n//# sourceMappingURL=server-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNhbGwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsR0FBRyxnQ0FBZ0MsR0FBRyxnQ0FBZ0MsR0FBRywyQkFBMkI7QUFDbEksMkJBQTJCO0FBQzNCLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHlCQUF5QixxR0FBcUc7QUFDekw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQseUJBQXlCLHFHQUFxRztBQUN6TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNhbGwuanM/MzUxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsID0gZXhwb3J0cy5TZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLlNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCA9IGV4cG9ydHMuU2VydmVyVW5hcnlDYWxsSW1wbCA9IHZvaWQgMDtcbmV4cG9ydHMuc2VydmVyRXJyb3JUb1N0YXR1cyA9IHNlcnZlckVycm9yVG9TdGF0dXM7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmZ1bmN0aW9uIHNlcnZlckVycm9yVG9TdGF0dXMoZXJyb3IsIG92ZXJyaWRlVHJhaWxlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3RhdHVzID0ge1xuICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgZGV0YWlsczogJ21lc3NhZ2UnIGluIGVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIEVycm9yJyxcbiAgICAgICAgbWV0YWRhdGE6IChfYSA9IG92ZXJyaWRlVHJhaWxlcnMgIT09IG51bGwgJiYgb3ZlcnJpZGVUcmFpbGVycyAhPT0gdm9pZCAwID8gb3ZlcnJpZGVUcmFpbGVycyA6IGVycm9yLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLFxuICAgIH07XG4gICAgaWYgKCdjb2RlJyBpbiBlcnJvciAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IuY29kZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihlcnJvci5jb2RlKSkge1xuICAgICAgICBzdGF0dXMuY29kZSA9IGVycm9yLmNvZGU7XG4gICAgICAgIGlmICgnZGV0YWlscycgaW4gZXJyb3IgJiYgdHlwZW9mIGVycm9yLmRldGFpbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGV0YWlscyA9IGVycm9yLmRldGFpbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXR1cztcbn1cbmNsYXNzIFNlcnZlclVuYXJ5Q2FsbEltcGwgZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhdGgsIGNhbGwsIG1ldGFkYXRhLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRNZXRyaWNzUmVjb3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0TWV0cmljc1JlY29yZGVyKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJVbmFyeUNhbGxJbXBsID0gU2VydmVyVW5hcnlDYWxsSW1wbDtcbmNsYXNzIFNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCBleHRlbmRzIHN0cmVhbV8xLlJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYWxsLCBtZXRhZGF0YSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgX3JlYWQoc2l6ZSkge1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEhvc3QoKTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICB9XG4gICAgZ2V0TWV0cmljc1JlY29yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldE1ldHJpY3NSZWNvcmRlcigpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyUmVhZGFibGVTdHJlYW1JbXBsID0gU2VydmVyUmVhZGFibGVTdHJlYW1JbXBsO1xuY2xhc3MgU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuV3JpdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKHBhdGgsIGNhbGwsIG1ldGFkYXRhLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSB7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICBkZXRhaWxzOiAnT0snLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB0aGlzLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBzZXJ2ZXJFcnJvclRvU3RhdHVzKGVycik7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRNZXRyaWNzUmVjb3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0TWV0cmljc1JlY29yZGVyKCk7XG4gICAgfVxuICAgIF93cml0ZShjaHVuaywgZW5jb2RpbmcsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsLnNlbmRNZXNzYWdlKGNodW5rLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIF9maW5hbChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB0aGlzLmNhbGwuc2VuZFN0YXR1cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucGVuZGluZ1N0YXR1cyksIHsgbWV0YWRhdGE6IChfYSA9IHRoaXMucGVuZGluZ1N0YXR1cy5tZXRhZGF0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy50cmFpbGluZ01ldGFkYXRhIH0pKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlbmQobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuZW5kKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwgPSBTZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGw7XG5jbGFzcyBTZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuRHVwbGV4IHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYWxsLCBtZXRhZGF0YSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgZGV0YWlsczogJ09LJyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFpbGluZ01ldGFkYXRhID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gc2VydmVyRXJyb3JUb1N0YXR1cyhlcnIpO1xuICAgICAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEhvc3QoKTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICB9XG4gICAgZ2V0TWV0cmljc1JlY29yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldE1ldHJpY3NSZWNvcmRlcigpO1xuICAgIH1cbiAgICBfcmVhZChzaXplKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1lc3NhZ2UoY2h1bmssIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kU3RhdHVzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wZW5kaW5nU3RhdHVzKSwgeyBtZXRhZGF0YTogKF9hID0gdGhpcy5wZW5kaW5nU3RhdHVzLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgfSkpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGVuZChtZXRhZGF0YSkge1xuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5lbmQoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlckR1cGxleFN0cmVhbUltcGwgPSBTZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ServerCredentials = void 0;\nexports.createCertificateProviderServerCredentials = createCertificateProviderServerCredentials;\nexports.createServerCredentialsWithInterceptors = createServerCredentialsWithInterceptors;\nconst tls_helpers_1 = __webpack_require__(/*! ./tls-helpers */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js\");\nclass ServerCredentials {\n    constructor(serverConstructorOptions, contextOptions) {\n        this.serverConstructorOptions = serverConstructorOptions;\n        this.watchers = new Set();\n        this.latestContextOptions = null;\n        this.latestContextOptions = contextOptions !== null && contextOptions !== void 0 ? contextOptions : null;\n    }\n    _addWatcher(watcher) {\n        this.watchers.add(watcher);\n    }\n    _removeWatcher(watcher) {\n        this.watchers.delete(watcher);\n    }\n    getWatcherCount() {\n        return this.watchers.size;\n    }\n    updateSecureContextOptions(options) {\n        this.latestContextOptions = options;\n        for (const watcher of this.watchers) {\n            watcher(this.latestContextOptions);\n        }\n    }\n    _isSecure() {\n        return this.serverConstructorOptions !== null;\n    }\n    _getSecureContextOptions() {\n        return this.latestContextOptions;\n    }\n    _getConstructorOptions() {\n        return this.serverConstructorOptions;\n    }\n    _getInterceptors() {\n        return [];\n    }\n    static createInsecure() {\n        return new InsecureServerCredentials();\n    }\n    static createSsl(rootCerts, keyCertPairs, checkClientCertificate = false) {\n        var _a;\n        if (rootCerts !== null && !Buffer.isBuffer(rootCerts)) {\n            throw new TypeError('rootCerts must be null or a Buffer');\n        }\n        if (!Array.isArray(keyCertPairs)) {\n            throw new TypeError('keyCertPairs must be an array');\n        }\n        if (typeof checkClientCertificate !== 'boolean') {\n            throw new TypeError('checkClientCertificate must be a boolean');\n        }\n        const cert = [];\n        const key = [];\n        for (let i = 0; i < keyCertPairs.length; i++) {\n            const pair = keyCertPairs[i];\n            if (pair === null || typeof pair !== 'object') {\n                throw new TypeError(`keyCertPair[${i}] must be an object`);\n            }\n            if (!Buffer.isBuffer(pair.private_key)) {\n                throw new TypeError(`keyCertPair[${i}].private_key must be a Buffer`);\n            }\n            if (!Buffer.isBuffer(pair.cert_chain)) {\n                throw new TypeError(`keyCertPair[${i}].cert_chain must be a Buffer`);\n            }\n            cert.push(pair.cert_chain);\n            key.push(pair.private_key);\n        }\n        return new SecureServerCredentials({\n            requestCert: checkClientCertificate,\n            ciphers: tls_helpers_1.CIPHER_SUITES,\n        }, {\n            ca: (_a = rootCerts !== null && rootCerts !== void 0 ? rootCerts : (0, tls_helpers_1.getDefaultRootsData)()) !== null && _a !== void 0 ? _a : undefined,\n            cert,\n            key,\n        });\n    }\n}\nexports.ServerCredentials = ServerCredentials;\nclass InsecureServerCredentials extends ServerCredentials {\n    constructor() {\n        super(null);\n    }\n    _getSettings() {\n        return null;\n    }\n    _equals(other) {\n        return other instanceof InsecureServerCredentials;\n    }\n}\nclass SecureServerCredentials extends ServerCredentials {\n    constructor(constructorOptions, contextOptions) {\n        super(constructorOptions, contextOptions);\n        this.options = Object.assign(Object.assign({}, constructorOptions), contextOptions);\n    }\n    /**\n     * Checks equality by checking the options that are actually set by\n     * createSsl.\n     * @param other\n     * @returns\n     */\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (!(other instanceof SecureServerCredentials)) {\n            return false;\n        }\n        // options.ca equality check\n        if (Buffer.isBuffer(this.options.ca) && Buffer.isBuffer(other.options.ca)) {\n            if (!this.options.ca.equals(other.options.ca)) {\n                return false;\n            }\n        }\n        else {\n            if (this.options.ca !== other.options.ca) {\n                return false;\n            }\n        }\n        // options.cert equality check\n        if (Array.isArray(this.options.cert) && Array.isArray(other.options.cert)) {\n            if (this.options.cert.length !== other.options.cert.length) {\n                return false;\n            }\n            for (let i = 0; i < this.options.cert.length; i++) {\n                const thisCert = this.options.cert[i];\n                const otherCert = other.options.cert[i];\n                if (Buffer.isBuffer(thisCert) && Buffer.isBuffer(otherCert)) {\n                    if (!thisCert.equals(otherCert)) {\n                        return false;\n                    }\n                }\n                else {\n                    if (thisCert !== otherCert) {\n                        return false;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.options.cert !== other.options.cert) {\n                return false;\n            }\n        }\n        // options.key equality check\n        if (Array.isArray(this.options.key) && Array.isArray(other.options.key)) {\n            if (this.options.key.length !== other.options.key.length) {\n                return false;\n            }\n            for (let i = 0; i < this.options.key.length; i++) {\n                const thisKey = this.options.key[i];\n                const otherKey = other.options.key[i];\n                if (Buffer.isBuffer(thisKey) && Buffer.isBuffer(otherKey)) {\n                    if (!thisKey.equals(otherKey)) {\n                        return false;\n                    }\n                }\n                else {\n                    if (thisKey !== otherKey) {\n                        return false;\n                    }\n                }\n            }\n        }\n        else {\n            if (this.options.key !== other.options.key) {\n                return false;\n            }\n        }\n        // options.requestCert equality check\n        if (this.options.requestCert !== other.options.requestCert) {\n            return false;\n        }\n        /* ciphers is derived from a value that is constant for the process, so no\n         * equality check is needed. */\n        return true;\n    }\n}\nclass CertificateProviderServerCredentials extends ServerCredentials {\n    constructor(identityCertificateProvider, caCertificateProvider, requireClientCertificate) {\n        super({\n            requestCert: caCertificateProvider !== null,\n            rejectUnauthorized: requireClientCertificate,\n            ciphers: tls_helpers_1.CIPHER_SUITES\n        });\n        this.identityCertificateProvider = identityCertificateProvider;\n        this.caCertificateProvider = caCertificateProvider;\n        this.requireClientCertificate = requireClientCertificate;\n        this.latestCaUpdate = null;\n        this.latestIdentityUpdate = null;\n        this.caCertificateUpdateListener = this.handleCaCertificateUpdate.bind(this);\n        this.identityCertificateUpdateListener = this.handleIdentityCertitificateUpdate.bind(this);\n    }\n    _addWatcher(watcher) {\n        var _a;\n        if (this.getWatcherCount() === 0) {\n            (_a = this.caCertificateProvider) === null || _a === void 0 ? void 0 : _a.addCaCertificateListener(this.caCertificateUpdateListener);\n            this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n        super._addWatcher(watcher);\n    }\n    _removeWatcher(watcher) {\n        var _a;\n        super._removeWatcher(watcher);\n        if (this.getWatcherCount() === 0) {\n            (_a = this.caCertificateProvider) === null || _a === void 0 ? void 0 : _a.removeCaCertificateListener(this.caCertificateUpdateListener);\n            this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener);\n        }\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (!(other instanceof CertificateProviderServerCredentials)) {\n            return false;\n        }\n        return (this.caCertificateProvider === other.caCertificateProvider &&\n            this.identityCertificateProvider === other.identityCertificateProvider &&\n            this.requireClientCertificate === other.requireClientCertificate);\n    }\n    calculateSecureContextOptions() {\n        var _a;\n        if (this.latestIdentityUpdate === null) {\n            return null;\n        }\n        if (this.caCertificateProvider !== null && this.latestCaUpdate === null) {\n            return null;\n        }\n        return {\n            ca: (_a = this.latestCaUpdate) === null || _a === void 0 ? void 0 : _a.caCertificate,\n            cert: [this.latestIdentityUpdate.certificate],\n            key: [this.latestIdentityUpdate.privateKey],\n        };\n    }\n    finalizeUpdate() {\n        const secureContextOptions = this.calculateSecureContextOptions();\n        this.updateSecureContextOptions(secureContextOptions);\n    }\n    handleCaCertificateUpdate(update) {\n        this.latestCaUpdate = update;\n        this.finalizeUpdate();\n    }\n    handleIdentityCertitificateUpdate(update) {\n        this.latestIdentityUpdate = update;\n        this.finalizeUpdate();\n    }\n}\nfunction createCertificateProviderServerCredentials(caCertificateProvider, identityCertificateProvider, requireClientCertificate) {\n    return new CertificateProviderServerCredentials(caCertificateProvider, identityCertificateProvider, requireClientCertificate);\n}\nclass InterceptorServerCredentials extends ServerCredentials {\n    constructor(childCredentials, interceptors) {\n        super({});\n        this.childCredentials = childCredentials;\n        this.interceptors = interceptors;\n    }\n    _isSecure() {\n        return this.childCredentials._isSecure();\n    }\n    _equals(other) {\n        if (!(other instanceof InterceptorServerCredentials)) {\n            return false;\n        }\n        if (!(this.childCredentials._equals(other.childCredentials))) {\n            return false;\n        }\n        if (this.interceptors.length !== other.interceptors.length) {\n            return false;\n        }\n        for (let i = 0; i < this.interceptors.length; i++) {\n            if (this.interceptors[i] !== other.interceptors[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    _getInterceptors() {\n        return this.interceptors;\n    }\n    _addWatcher(watcher) {\n        this.childCredentials._addWatcher(watcher);\n    }\n    _removeWatcher(watcher) {\n        this.childCredentials._removeWatcher(watcher);\n    }\n    _getConstructorOptions() {\n        return this.childCredentials._getConstructorOptions();\n    }\n    _getSecureContextOptions() {\n        return this.childCredentials._getSecureContextOptions();\n    }\n}\nfunction createServerCredentialsWithInterceptors(credentials, interceptors) {\n    return new InterceptorServerCredentials(credentials, interceptors);\n}\n//# sourceMappingURL=server-credentials.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNyZWRlbnRpYWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCO0FBQ3pCLGtEQUFrRDtBQUNsRCwrQ0FBK0M7QUFDL0Msc0JBQXNCLG1CQUFPLENBQUMsMEdBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQ7QUFDQTtBQUNBLG1EQUFtRCxFQUFFO0FBQ3JEO0FBQ0E7QUFDQSxtREFBbUQsRUFBRTtBQUNyRDtBQUNBO0FBQ0EsbURBQW1ELEVBQUU7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOEJBQThCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsOEJBQThCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNyZWRlbnRpYWxzLmpzP2RlMzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VydmVyQ3JlZGVudGlhbHMgPSB2b2lkIDA7XG5leHBvcnRzLmNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyA9IGNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscztcbmV4cG9ydHMuY3JlYXRlU2VydmVyQ3JlZGVudGlhbHNXaXRoSW50ZXJjZXB0b3JzID0gY3JlYXRlU2VydmVyQ3JlZGVudGlhbHNXaXRoSW50ZXJjZXB0b3JzO1xuY29uc3QgdGxzX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL3Rscy1oZWxwZXJzXCIpO1xuY2xhc3MgU2VydmVyQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucywgY29udGV4dE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSBzZXJ2ZXJDb25zdHJ1Y3Rvck9wdGlvbnM7XG4gICAgICAgIHRoaXMud2F0Y2hlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29udGV4dE9wdGlvbnMgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdENvbnRleHRPcHRpb25zID0gY29udGV4dE9wdGlvbnMgIT09IG51bGwgJiYgY29udGV4dE9wdGlvbnMgIT09IHZvaWQgMCA/IGNvbnRleHRPcHRpb25zIDogbnVsbDtcbiAgICB9XG4gICAgX2FkZFdhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLndhdGNoZXJzLmFkZCh3YXRjaGVyKTtcbiAgICB9XG4gICAgX3JlbW92ZVdhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLndhdGNoZXJzLmRlbGV0ZSh3YXRjaGVyKTtcbiAgICB9XG4gICAgZ2V0V2F0Y2hlckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53YXRjaGVycy5zaXplO1xuICAgIH1cbiAgICB1cGRhdGVTZWN1cmVDb250ZXh0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29udGV4dE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBmb3IgKGNvbnN0IHdhdGNoZXIgb2YgdGhpcy53YXRjaGVycykge1xuICAgICAgICAgICAgd2F0Y2hlcih0aGlzLmxhdGVzdENvbnRleHRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucyAhPT0gbnVsbDtcbiAgICB9XG4gICAgX2dldFNlY3VyZUNvbnRleHRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXRlc3RDb250ZXh0T3B0aW9ucztcbiAgICB9XG4gICAgX2dldENvbnN0cnVjdG9yT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmVyQ29uc3RydWN0b3JPcHRpb25zO1xuICAgIH1cbiAgICBfZ2V0SW50ZXJjZXB0b3JzKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVJbnNlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnNlY3VyZVNlcnZlckNyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVTc2wocm9vdENlcnRzLCBrZXlDZXJ0UGFpcnMsIGNoZWNrQ2xpZW50Q2VydGlmaWNhdGUgPSBmYWxzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChyb290Q2VydHMgIT09IG51bGwgJiYgIUJ1ZmZlci5pc0J1ZmZlcihyb290Q2VydHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyb290Q2VydHMgbXVzdCBiZSBudWxsIG9yIGEgQnVmZmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGtleUNlcnRQYWlycykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2tleUNlcnRQYWlycyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaGVja0NsaWVudENlcnRpZmljYXRlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NoZWNrQ2xpZW50Q2VydGlmaWNhdGUgbXVzdCBiZSBhIGJvb2xlYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjZXJ0ID0gW107XG4gICAgICAgIGNvbnN0IGtleSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleUNlcnRQYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFpciA9IGtleUNlcnRQYWlyc1tpXTtcbiAgICAgICAgICAgIGlmIChwYWlyID09PSBudWxsIHx8IHR5cGVvZiBwYWlyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGtleUNlcnRQYWlyWyR7aX1dIG11c3QgYmUgYW4gb2JqZWN0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwYWlyLnByaXZhdGVfa2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGtleUNlcnRQYWlyWyR7aX1dLnByaXZhdGVfa2V5IG11c3QgYmUgYSBCdWZmZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhaXIuY2VydF9jaGFpbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBrZXlDZXJ0UGFpclske2l9XS5jZXJ0X2NoYWluIG11c3QgYmUgYSBCdWZmZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlcnQucHVzaChwYWlyLmNlcnRfY2hhaW4pO1xuICAgICAgICAgICAga2V5LnB1c2gocGFpci5wcml2YXRlX2tleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyh7XG4gICAgICAgICAgICByZXF1ZXN0Q2VydDogY2hlY2tDbGllbnRDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGNpcGhlcnM6IHRsc19oZWxwZXJzXzEuQ0lQSEVSX1NVSVRFUyxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2E6IChfYSA9IHJvb3RDZXJ0cyAhPT0gbnVsbCAmJiByb290Q2VydHMgIT09IHZvaWQgMCA/IHJvb3RDZXJ0cyA6ICgwLCB0bHNfaGVscGVyc18xLmdldERlZmF1bHRSb290c0RhdGEpKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNlcnQsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyQ3JlZGVudGlhbHMgPSBTZXJ2ZXJDcmVkZW50aWFscztcbmNsYXNzIEluc2VjdXJlU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgIH1cbiAgICBfZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEluc2VjdXJlU2VydmVyQ3JlZGVudGlhbHM7XG4gICAgfVxufVxuY2xhc3MgU2VjdXJlU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY29uc3RydWN0b3JPcHRpb25zLCBjb250ZXh0T3B0aW9ucykge1xuICAgICAgICBzdXBlcihjb25zdHJ1Y3Rvck9wdGlvbnMsIGNvbnRleHRPcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb25zdHJ1Y3Rvck9wdGlvbnMpLCBjb250ZXh0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjaGVja2luZyB0aGUgb3B0aW9ucyB0aGF0IGFyZSBhY3R1YWxseSBzZXQgYnlcbiAgICAgKiBjcmVhdGVTc2wuXG4gICAgICogQHBhcmFtIG90aGVyXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpb25zLmNhIGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodGhpcy5vcHRpb25zLmNhKSAmJiBCdWZmZXIuaXNCdWZmZXIob3RoZXIub3B0aW9ucy5jYSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNhLmVxdWFscyhvdGhlci5vcHRpb25zLmNhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2EgIT09IG90aGVyLm9wdGlvbnMuY2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9ucy5jZXJ0IGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jZXJ0KSAmJiBBcnJheS5pc0FycmF5KG90aGVyLm9wdGlvbnMuY2VydCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2VydC5sZW5ndGggIT09IG90aGVyLm9wdGlvbnMuY2VydC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5jZXJ0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc0NlcnQgPSB0aGlzLm9wdGlvbnMuY2VydFtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlckNlcnQgPSBvdGhlci5vcHRpb25zLmNlcnRbaV07XG4gICAgICAgICAgICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih0aGlzQ2VydCkgJiYgQnVmZmVyLmlzQnVmZmVyKG90aGVyQ2VydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzQ2VydC5lcXVhbHMob3RoZXJDZXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0NlcnQgIT09IG90aGVyQ2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jZXJ0ICE9PSBvdGhlci5vcHRpb25zLmNlcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9ucy5rZXkgZXF1YWxpdHkgY2hlY2tcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmtleSkgJiYgQXJyYXkuaXNBcnJheShvdGhlci5vcHRpb25zLmtleSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2V5Lmxlbmd0aCAhPT0gb3RoZXIub3B0aW9ucy5rZXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMua2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc0tleSA9IHRoaXMub3B0aW9ucy5rZXlbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJLZXkgPSBvdGhlci5vcHRpb25zLmtleVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHRoaXNLZXkpICYmIEJ1ZmZlci5pc0J1ZmZlcihvdGhlcktleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzS2V5LmVxdWFscyhvdGhlcktleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNLZXkgIT09IG90aGVyS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmtleSAhPT0gb3RoZXIub3B0aW9ucy5rZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9ucy5yZXF1ZXN0Q2VydCBlcXVhbGl0eSBjaGVja1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVlc3RDZXJ0ICE9PSBvdGhlci5vcHRpb25zLnJlcXVlc3RDZXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogY2lwaGVycyBpcyBkZXJpdmVkIGZyb20gYSB2YWx1ZSB0aGF0IGlzIGNvbnN0YW50IGZvciB0aGUgcHJvY2Vzcywgc28gbm9cbiAgICAgICAgICogZXF1YWxpdHkgY2hlY2sgaXMgbmVlZGVkLiAqL1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5jbGFzcyBDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCBjYUNlcnRpZmljYXRlUHJvdmlkZXIsIHJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICByZXF1ZXN0Q2VydDogY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyICE9PSBudWxsLFxuICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUsXG4gICAgICAgICAgICBjaXBoZXJzOiB0bHNfaGVscGVyc18xLkNJUEhFUl9TVUlURVNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlciA9IGNhQ2VydGlmaWNhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy5yZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUgPSByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGU7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIgPSB0aGlzLmhhbmRsZUNhQ2VydGlmaWNhdGVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIgPSB0aGlzLmhhbmRsZUlkZW50aXR5Q2VydGl0aWZpY2F0ZVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBfYWRkV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0V2F0Y2hlckNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLmFkZElkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcih0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuX2FkZFdhdGNoZXIod2F0Y2hlcik7XG4gICAgfVxuICAgIF9yZW1vdmVXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5fcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0V2F0Y2hlckNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLnJlbW92ZUlkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcih0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIgPT09IG90aGVyLmNhQ2VydGlmaWNhdGVQcm92aWRlciAmJlxuICAgICAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIgPT09IG90aGVyLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciAmJlxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUgPT09IG90aGVyLnJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVNlY3VyZUNvbnRleHRPcHRpb25zKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIgIT09IG51bGwgJiYgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhOiAoX2EgPSB0aGlzLmxhdGVzdENhVXBkYXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGNlcnQ6IFt0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlLmNlcnRpZmljYXRlXSxcbiAgICAgICAgICAgIGtleTogW3RoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUucHJpdmF0ZUtleV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmFsaXplVXBkYXRlKCkge1xuICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0T3B0aW9ucyA9IHRoaXMuY2FsY3VsYXRlU2VjdXJlQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTZWN1cmVDb250ZXh0T3B0aW9ucyhzZWN1cmVDb250ZXh0T3B0aW9ucyk7XG4gICAgfVxuICAgIGhhbmRsZUNhQ2VydGlmaWNhdGVVcGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgIHRoaXMuZmluYWxpemVVcGRhdGUoKTtcbiAgICB9XG4gICAgaGFuZGxlSWRlbnRpdHlDZXJ0aXRpZmljYXRlVXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB0aGlzLmZpbmFsaXplVXBkYXRlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzKGNhQ2VydGlmaWNhdGVQcm92aWRlciwgaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUpIHtcbiAgICByZXR1cm4gbmV3IENlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyhjYUNlcnRpZmljYXRlUHJvdmlkZXIsIGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciwgcmVxdWlyZUNsaWVudENlcnRpZmljYXRlKTtcbn1cbmNsYXNzIEludGVyY2VwdG9yU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRDcmVkZW50aWFscywgaW50ZXJjZXB0b3JzKSB7XG4gICAgICAgIHN1cGVyKHt9KTtcbiAgICAgICAgdGhpcy5jaGlsZENyZWRlbnRpYWxzID0gY2hpbGRDcmVkZW50aWFscztcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMgPSBpbnRlcmNlcHRvcnM7XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDcmVkZW50aWFscy5faXNTZWN1cmUoKTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIEludGVyY2VwdG9yU2VydmVyQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcy5jaGlsZENyZWRlbnRpYWxzLl9lcXVhbHMob3RoZXIuY2hpbGRDcmVkZW50aWFscykpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW50ZXJjZXB0b3JzLmxlbmd0aCAhPT0gb3RoZXIuaW50ZXJjZXB0b3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnRlcmNlcHRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyY2VwdG9yc1tpXSAhPT0gb3RoZXIuaW50ZXJjZXB0b3JzW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfZ2V0SW50ZXJjZXB0b3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcmNlcHRvcnM7XG4gICAgfVxuICAgIF9hZGRXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdGhpcy5jaGlsZENyZWRlbnRpYWxzLl9hZGRXYXRjaGVyKHdhdGNoZXIpO1xuICAgIH1cbiAgICBfcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHRoaXMuY2hpbGRDcmVkZW50aWFscy5fcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKTtcbiAgICB9XG4gICAgX2dldENvbnN0cnVjdG9yT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDcmVkZW50aWFscy5fZ2V0Q29uc3RydWN0b3JPcHRpb25zKCk7XG4gICAgfVxuICAgIF9nZXRTZWN1cmVDb250ZXh0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDcmVkZW50aWFscy5fZ2V0U2VjdXJlQ29udGV4dE9wdGlvbnMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnMoY3JlZGVudGlhbHMsIGludGVyY2VwdG9ycykge1xuICAgIHJldHVybiBuZXcgSW50ZXJjZXB0b3JTZXJ2ZXJDcmVkZW50aWFscyhjcmVkZW50aWFscywgaW50ZXJjZXB0b3JzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlci1jcmVkZW50aWFscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2024 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseServerInterceptingCall = exports.ServerInterceptingCall = exports.ResponderBuilder = exports.ServerListenerBuilder = void 0;\nexports.isInterceptingServerListener = isInterceptingServerListener;\nexports.getServerInterceptingCall = getServerInterceptingCall;\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst error_1 = __webpack_require__(/*! ./error */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/error.js\");\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\nconst stream_decoder_1 = __webpack_require__(/*! ./stream-decoder */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst tls_1 = __webpack_require__(/*! tls */ \"tls\");\nconst orca_1 = __webpack_require__(/*! ./orca */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/orca.js\");\nconst TRACER_NAME = 'server_call';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nclass ServerListenerBuilder {\n    constructor() {\n        this.metadata = undefined;\n        this.message = undefined;\n        this.halfClose = undefined;\n        this.cancel = undefined;\n    }\n    withOnReceiveMetadata(onReceiveMetadata) {\n        this.metadata = onReceiveMetadata;\n        return this;\n    }\n    withOnReceiveMessage(onReceiveMessage) {\n        this.message = onReceiveMessage;\n        return this;\n    }\n    withOnReceiveHalfClose(onReceiveHalfClose) {\n        this.halfClose = onReceiveHalfClose;\n        return this;\n    }\n    withOnCancel(onCancel) {\n        this.cancel = onCancel;\n        return this;\n    }\n    build() {\n        return {\n            onReceiveMetadata: this.metadata,\n            onReceiveMessage: this.message,\n            onReceiveHalfClose: this.halfClose,\n            onCancel: this.cancel,\n        };\n    }\n}\nexports.ServerListenerBuilder = ServerListenerBuilder;\nfunction isInterceptingServerListener(listener) {\n    return (listener.onReceiveMetadata !== undefined &&\n        listener.onReceiveMetadata.length === 1);\n}\nclass InterceptingServerListenerImpl {\n    constructor(listener, nextListener) {\n        this.listener = listener;\n        this.nextListener = nextListener;\n        /**\n         * Once the call is cancelled, ignore all other events.\n         */\n        this.cancelled = false;\n        this.processingMetadata = false;\n        this.hasPendingMessage = false;\n        this.pendingMessage = null;\n        this.processingMessage = false;\n        this.hasPendingHalfClose = false;\n    }\n    processPendingMessage() {\n        if (this.hasPendingMessage) {\n            this.nextListener.onReceiveMessage(this.pendingMessage);\n            this.pendingMessage = null;\n            this.hasPendingMessage = false;\n        }\n    }\n    processPendingHalfClose() {\n        if (this.hasPendingHalfClose) {\n            this.nextListener.onReceiveHalfClose();\n            this.hasPendingHalfClose = false;\n        }\n    }\n    onReceiveMetadata(metadata) {\n        if (this.cancelled) {\n            return;\n        }\n        this.processingMetadata = true;\n        this.listener.onReceiveMetadata(metadata, interceptedMetadata => {\n            this.processingMetadata = false;\n            if (this.cancelled) {\n                return;\n            }\n            this.nextListener.onReceiveMetadata(interceptedMetadata);\n            this.processPendingMessage();\n            this.processPendingHalfClose();\n        });\n    }\n    onReceiveMessage(message) {\n        if (this.cancelled) {\n            return;\n        }\n        this.processingMessage = true;\n        this.listener.onReceiveMessage(message, msg => {\n            this.processingMessage = false;\n            if (this.cancelled) {\n                return;\n            }\n            if (this.processingMetadata) {\n                this.pendingMessage = msg;\n                this.hasPendingMessage = true;\n            }\n            else {\n                this.nextListener.onReceiveMessage(msg);\n                this.processPendingHalfClose();\n            }\n        });\n    }\n    onReceiveHalfClose() {\n        if (this.cancelled) {\n            return;\n        }\n        this.listener.onReceiveHalfClose(() => {\n            if (this.cancelled) {\n                return;\n            }\n            if (this.processingMetadata || this.processingMessage) {\n                this.hasPendingHalfClose = true;\n            }\n            else {\n                this.nextListener.onReceiveHalfClose();\n            }\n        });\n    }\n    onCancel() {\n        this.cancelled = true;\n        this.listener.onCancel();\n        this.nextListener.onCancel();\n    }\n}\nclass ResponderBuilder {\n    constructor() {\n        this.start = undefined;\n        this.metadata = undefined;\n        this.message = undefined;\n        this.status = undefined;\n    }\n    withStart(start) {\n        this.start = start;\n        return this;\n    }\n    withSendMetadata(sendMetadata) {\n        this.metadata = sendMetadata;\n        return this;\n    }\n    withSendMessage(sendMessage) {\n        this.message = sendMessage;\n        return this;\n    }\n    withSendStatus(sendStatus) {\n        this.status = sendStatus;\n        return this;\n    }\n    build() {\n        return {\n            start: this.start,\n            sendMetadata: this.metadata,\n            sendMessage: this.message,\n            sendStatus: this.status,\n        };\n    }\n}\nexports.ResponderBuilder = ResponderBuilder;\nconst defaultServerListener = {\n    onReceiveMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    onReceiveMessage: (message, next) => {\n        next(message);\n    },\n    onReceiveHalfClose: next => {\n        next();\n    },\n    onCancel: () => { },\n};\nconst defaultResponder = {\n    start: next => {\n        next();\n    },\n    sendMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    sendMessage: (message, next) => {\n        next(message);\n    },\n    sendStatus: (status, next) => {\n        next(status);\n    },\n};\nclass ServerInterceptingCall {\n    constructor(nextCall, responder) {\n        var _a, _b, _c, _d;\n        this.nextCall = nextCall;\n        this.processingMetadata = false;\n        this.sentMetadata = false;\n        this.processingMessage = false;\n        this.pendingMessage = null;\n        this.pendingMessageCallback = null;\n        this.pendingStatus = null;\n        this.responder = {\n            start: (_a = responder === null || responder === void 0 ? void 0 : responder.start) !== null && _a !== void 0 ? _a : defaultResponder.start,\n            sendMetadata: (_b = responder === null || responder === void 0 ? void 0 : responder.sendMetadata) !== null && _b !== void 0 ? _b : defaultResponder.sendMetadata,\n            sendMessage: (_c = responder === null || responder === void 0 ? void 0 : responder.sendMessage) !== null && _c !== void 0 ? _c : defaultResponder.sendMessage,\n            sendStatus: (_d = responder === null || responder === void 0 ? void 0 : responder.sendStatus) !== null && _d !== void 0 ? _d : defaultResponder.sendStatus,\n        };\n    }\n    processPendingMessage() {\n        if (this.pendingMessageCallback) {\n            this.nextCall.sendMessage(this.pendingMessage, this.pendingMessageCallback);\n            this.pendingMessage = null;\n            this.pendingMessageCallback = null;\n        }\n    }\n    processPendingStatus() {\n        if (this.pendingStatus) {\n            this.nextCall.sendStatus(this.pendingStatus);\n            this.pendingStatus = null;\n        }\n    }\n    start(listener) {\n        this.responder.start(interceptedListener => {\n            var _a, _b, _c, _d;\n            const fullInterceptedListener = {\n                onReceiveMetadata: (_a = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onReceiveMetadata) !== null && _a !== void 0 ? _a : defaultServerListener.onReceiveMetadata,\n                onReceiveMessage: (_b = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onReceiveMessage) !== null && _b !== void 0 ? _b : defaultServerListener.onReceiveMessage,\n                onReceiveHalfClose: (_c = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onReceiveHalfClose) !== null && _c !== void 0 ? _c : defaultServerListener.onReceiveHalfClose,\n                onCancel: (_d = interceptedListener === null || interceptedListener === void 0 ? void 0 : interceptedListener.onCancel) !== null && _d !== void 0 ? _d : defaultServerListener.onCancel,\n            };\n            const finalInterceptingListener = new InterceptingServerListenerImpl(fullInterceptedListener, listener);\n            this.nextCall.start(finalInterceptingListener);\n        });\n    }\n    sendMetadata(metadata) {\n        this.processingMetadata = true;\n        this.sentMetadata = true;\n        this.responder.sendMetadata(metadata, interceptedMetadata => {\n            this.processingMetadata = false;\n            this.nextCall.sendMetadata(interceptedMetadata);\n            this.processPendingMessage();\n            this.processPendingStatus();\n        });\n    }\n    sendMessage(message, callback) {\n        this.processingMessage = true;\n        if (!this.sentMetadata) {\n            this.sendMetadata(new metadata_1.Metadata());\n        }\n        this.responder.sendMessage(message, interceptedMessage => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessage = interceptedMessage;\n                this.pendingMessageCallback = callback;\n            }\n            else {\n                this.nextCall.sendMessage(interceptedMessage, callback);\n            }\n        });\n    }\n    sendStatus(status) {\n        this.responder.sendStatus(status, interceptedStatus => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingStatus = interceptedStatus;\n            }\n            else {\n                this.nextCall.sendStatus(interceptedStatus);\n            }\n        });\n    }\n    startRead() {\n        this.nextCall.startRead();\n    }\n    getPeer() {\n        return this.nextCall.getPeer();\n    }\n    getDeadline() {\n        return this.nextCall.getDeadline();\n    }\n    getHost() {\n        return this.nextCall.getHost();\n    }\n    getAuthContext() {\n        return this.nextCall.getAuthContext();\n    }\n    getConnectionInfo() {\n        return this.nextCall.getConnectionInfo();\n    }\n    getMetricsRecorder() {\n        return this.nextCall.getMetricsRecorder();\n    }\n}\nexports.ServerInterceptingCall = ServerInterceptingCall;\nconst GRPC_ACCEPT_ENCODING_HEADER = 'grpc-accept-encoding';\nconst GRPC_ENCODING_HEADER = 'grpc-encoding';\nconst GRPC_MESSAGE_HEADER = 'grpc-message';\nconst GRPC_STATUS_HEADER = 'grpc-status';\nconst GRPC_TIMEOUT_HEADER = 'grpc-timeout';\nconst DEADLINE_REGEX = /(\\d{1,8})\\s*([HMSmun])/;\nconst deadlineUnitsToMs = {\n    H: 3600000,\n    M: 60000,\n    S: 1000,\n    m: 1,\n    u: 0.001,\n    n: 0.000001,\n};\nconst defaultCompressionHeaders = {\n    // TODO(cjihrig): Remove these encoding headers from the default response\n    // once compression is integrated.\n    [GRPC_ACCEPT_ENCODING_HEADER]: 'identity,deflate,gzip',\n    [GRPC_ENCODING_HEADER]: 'identity',\n};\nconst defaultResponseHeaders = {\n    [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_OK,\n    [http2.constants.HTTP2_HEADER_CONTENT_TYPE]: 'application/grpc+proto',\n};\nconst defaultResponseOptions = {\n    waitForTrailers: true,\n};\nclass BaseServerInterceptingCall {\n    constructor(stream, headers, callEventTracker, handler, options) {\n        var _a, _b;\n        this.stream = stream;\n        this.callEventTracker = callEventTracker;\n        this.handler = handler;\n        this.listener = null;\n        this.deadlineTimer = null;\n        this.deadline = Infinity;\n        this.maxSendMessageSize = constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n        this.maxReceiveMessageSize = constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.cancelled = false;\n        this.metadataSent = false;\n        this.wantTrailers = false;\n        this.cancelNotified = false;\n        this.incomingEncoding = 'identity';\n        this.readQueue = [];\n        this.isReadPending = false;\n        this.receivedHalfClose = false;\n        this.streamEnded = false;\n        this.metricsRecorder = new orca_1.PerRequestMetricRecorder();\n        this.stream.once('error', (err) => {\n            /* We need an error handler to avoid uncaught error event exceptions, but\n             * there is nothing we can reasonably do here. Any error event should\n             * have a corresponding close event, which handles emitting the cancelled\n             * event. And the stream is now in a bad state, so we can't reasonably\n             * expect to be able to send an error over it. */\n        });\n        this.stream.once('close', () => {\n            var _a;\n            trace('Request to method ' +\n                ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) +\n                ' stream closed with rstCode ' +\n                this.stream.rstCode);\n            if (this.callEventTracker && !this.streamEnded) {\n                this.streamEnded = true;\n                this.callEventTracker.onStreamEnd(false);\n                this.callEventTracker.onCallEnd({\n                    code: constants_1.Status.CANCELLED,\n                    details: 'Stream closed before sending status',\n                    metadata: null,\n                });\n            }\n            this.notifyOnCancel();\n        });\n        this.stream.on('data', (data) => {\n            this.handleDataFrame(data);\n        });\n        this.stream.pause();\n        this.stream.on('end', () => {\n            this.handleEndEvent();\n        });\n        if ('grpc.max_send_message_length' in options) {\n            this.maxSendMessageSize = options['grpc.max_send_message_length'];\n        }\n        if ('grpc.max_receive_message_length' in options) {\n            this.maxReceiveMessageSize = options['grpc.max_receive_message_length'];\n        }\n        this.host = (_a = headers[':authority']) !== null && _a !== void 0 ? _a : headers.host;\n        this.decoder = new stream_decoder_1.StreamDecoder(this.maxReceiveMessageSize);\n        const metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        if (logging.isTracerEnabled(TRACER_NAME)) {\n            trace('Request to ' +\n                this.handler.path +\n                ' received headers ' +\n                JSON.stringify(metadata.toJSON()));\n        }\n        const timeoutHeader = metadata.get(GRPC_TIMEOUT_HEADER);\n        if (timeoutHeader.length > 0) {\n            this.handleTimeoutHeader(timeoutHeader[0]);\n        }\n        const encodingHeader = metadata.get(GRPC_ENCODING_HEADER);\n        if (encodingHeader.length > 0) {\n            this.incomingEncoding = encodingHeader[0];\n        }\n        // Remove several headers that should not be propagated to the application\n        metadata.remove(GRPC_TIMEOUT_HEADER);\n        metadata.remove(GRPC_ENCODING_HEADER);\n        metadata.remove(GRPC_ACCEPT_ENCODING_HEADER);\n        metadata.remove(http2.constants.HTTP2_HEADER_ACCEPT_ENCODING);\n        metadata.remove(http2.constants.HTTP2_HEADER_TE);\n        metadata.remove(http2.constants.HTTP2_HEADER_CONTENT_TYPE);\n        this.metadata = metadata;\n        const socket = (_b = stream.session) === null || _b === void 0 ? void 0 : _b.socket;\n        this.connectionInfo = {\n            localAddress: socket === null || socket === void 0 ? void 0 : socket.localAddress,\n            localPort: socket === null || socket === void 0 ? void 0 : socket.localPort,\n            remoteAddress: socket === null || socket === void 0 ? void 0 : socket.remoteAddress,\n            remotePort: socket === null || socket === void 0 ? void 0 : socket.remotePort\n        };\n        this.shouldSendMetrics = !!options['grpc.server_call_metric_recording'];\n    }\n    handleTimeoutHeader(timeoutHeader) {\n        const match = timeoutHeader.toString().match(DEADLINE_REGEX);\n        if (match === null) {\n            const status = {\n                code: constants_1.Status.INTERNAL,\n                details: `Invalid ${GRPC_TIMEOUT_HEADER} value \"${timeoutHeader}\"`,\n                metadata: null,\n            };\n            // Wait for the constructor to complete before sending the error.\n            process.nextTick(() => {\n                this.sendStatus(status);\n            });\n            return;\n        }\n        const timeout = (+match[1] * deadlineUnitsToMs[match[2]]) | 0;\n        const now = new Date();\n        this.deadline = now.setMilliseconds(now.getMilliseconds() + timeout);\n        this.deadlineTimer = setTimeout(() => {\n            const status = {\n                code: constants_1.Status.DEADLINE_EXCEEDED,\n                details: 'Deadline exceeded',\n                metadata: null,\n            };\n            this.sendStatus(status);\n        }, timeout);\n    }\n    checkCancelled() {\n        /* In some cases the stream can become destroyed before the close event\n         * fires. That creates a race condition that this check works around */\n        if (!this.cancelled && (this.stream.destroyed || this.stream.closed)) {\n            this.notifyOnCancel();\n            this.cancelled = true;\n        }\n        return this.cancelled;\n    }\n    notifyOnCancel() {\n        if (this.cancelNotified) {\n            return;\n        }\n        this.cancelNotified = true;\n        this.cancelled = true;\n        process.nextTick(() => {\n            var _a;\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onCancel();\n        });\n        if (this.deadlineTimer) {\n            clearTimeout(this.deadlineTimer);\n        }\n        // Flush incoming data frames\n        this.stream.resume();\n    }\n    /**\n     * A server handler can start sending messages without explicitly sending\n     * metadata. In that case, we need to send headers before sending any\n     * messages. This function does that if necessary.\n     */\n    maybeSendMetadata() {\n        if (!this.metadataSent) {\n            this.sendMetadata(new metadata_1.Metadata());\n        }\n    }\n    /**\n     * Serialize a message to a length-delimited byte string.\n     * @param value\n     * @returns\n     */\n    serializeMessage(value) {\n        const messageBuffer = this.handler.serialize(value);\n        const byteLength = messageBuffer.byteLength;\n        const output = Buffer.allocUnsafe(byteLength + 5);\n        /* Note: response compression is currently not supported, so this\n         * compressed bit is always 0. */\n        output.writeUInt8(0, 0);\n        output.writeUInt32BE(byteLength, 1);\n        messageBuffer.copy(output, 5);\n        return output;\n    }\n    decompressMessage(message, encoding) {\n        const messageContents = message.subarray(5);\n        if (encoding === 'identity') {\n            return messageContents;\n        }\n        else if (encoding === 'deflate' || encoding === 'gzip') {\n            let decompresser;\n            if (encoding === 'deflate') {\n                decompresser = zlib.createInflate();\n            }\n            else {\n                decompresser = zlib.createGunzip();\n            }\n            return new Promise((resolve, reject) => {\n                let totalLength = 0;\n                const messageParts = [];\n                decompresser.on('data', (chunk) => {\n                    messageParts.push(chunk);\n                    totalLength += chunk.byteLength;\n                    if (this.maxReceiveMessageSize !== -1 && totalLength > this.maxReceiveMessageSize) {\n                        decompresser.destroy();\n                        reject({\n                            code: constants_1.Status.RESOURCE_EXHAUSTED,\n                            details: `Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`\n                        });\n                    }\n                });\n                decompresser.on('end', () => {\n                    resolve(Buffer.concat(messageParts));\n                });\n                decompresser.write(messageContents);\n                decompresser.end();\n            });\n        }\n        else {\n            return Promise.reject({\n                code: constants_1.Status.UNIMPLEMENTED,\n                details: `Received message compressed with unsupported encoding \"${encoding}\"`,\n            });\n        }\n    }\n    async decompressAndMaybePush(queueEntry) {\n        if (queueEntry.type !== 'COMPRESSED') {\n            throw new Error(`Invalid queue entry type: ${queueEntry.type}`);\n        }\n        const compressed = queueEntry.compressedMessage.readUInt8(0) === 1;\n        const compressedMessageEncoding = compressed\n            ? this.incomingEncoding\n            : 'identity';\n        let decompressedMessage;\n        try {\n            decompressedMessage = await this.decompressMessage(queueEntry.compressedMessage, compressedMessageEncoding);\n        }\n        catch (err) {\n            this.sendStatus(err);\n            return;\n        }\n        try {\n            queueEntry.parsedMessage = this.handler.deserialize(decompressedMessage);\n        }\n        catch (err) {\n            this.sendStatus({\n                code: constants_1.Status.INTERNAL,\n                details: `Error deserializing request: ${err.message}`,\n            });\n            return;\n        }\n        queueEntry.type = 'READABLE';\n        this.maybePushNextMessage();\n    }\n    maybePushNextMessage() {\n        if (this.listener &&\n            this.isReadPending &&\n            this.readQueue.length > 0 &&\n            this.readQueue[0].type !== 'COMPRESSED') {\n            this.isReadPending = false;\n            const nextQueueEntry = this.readQueue.shift();\n            if (nextQueueEntry.type === 'READABLE') {\n                this.listener.onReceiveMessage(nextQueueEntry.parsedMessage);\n            }\n            else {\n                // nextQueueEntry.type === 'HALF_CLOSE'\n                this.listener.onReceiveHalfClose();\n            }\n        }\n    }\n    handleDataFrame(data) {\n        var _a;\n        if (this.checkCancelled()) {\n            return;\n        }\n        trace('Request to ' +\n            this.handler.path +\n            ' received data frame of size ' +\n            data.length);\n        let rawMessages;\n        try {\n            rawMessages = this.decoder.write(data);\n        }\n        catch (e) {\n            this.sendStatus({ code: constants_1.Status.RESOURCE_EXHAUSTED, details: e.message });\n            return;\n        }\n        for (const messageBytes of rawMessages) {\n            this.stream.pause();\n            const queueEntry = {\n                type: 'COMPRESSED',\n                compressedMessage: messageBytes,\n                parsedMessage: null,\n            };\n            this.readQueue.push(queueEntry);\n            this.decompressAndMaybePush(queueEntry);\n            (_a = this.callEventTracker) === null || _a === void 0 ? void 0 : _a.addMessageReceived();\n        }\n    }\n    handleEndEvent() {\n        this.readQueue.push({\n            type: 'HALF_CLOSE',\n            compressedMessage: null,\n            parsedMessage: null,\n        });\n        this.receivedHalfClose = true;\n        this.maybePushNextMessage();\n    }\n    start(listener) {\n        trace('Request to ' + this.handler.path + ' start called');\n        if (this.checkCancelled()) {\n            return;\n        }\n        this.listener = listener;\n        listener.onReceiveMetadata(this.metadata);\n    }\n    sendMetadata(metadata) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        if (this.metadataSent) {\n            return;\n        }\n        this.metadataSent = true;\n        const custom = metadata ? metadata.toHttp2Headers() : null;\n        const headers = Object.assign(Object.assign(Object.assign({}, defaultResponseHeaders), defaultCompressionHeaders), custom);\n        this.stream.respond(headers, defaultResponseOptions);\n    }\n    sendMessage(message, callback) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        let response;\n        try {\n            response = this.serializeMessage(message);\n        }\n        catch (e) {\n            this.sendStatus({\n                code: constants_1.Status.INTERNAL,\n                details: `Error serializing response: ${(0, error_1.getErrorMessage)(e)}`,\n                metadata: null,\n            });\n            return;\n        }\n        if (this.maxSendMessageSize !== -1 &&\n            response.length - 5 > this.maxSendMessageSize) {\n            this.sendStatus({\n                code: constants_1.Status.RESOURCE_EXHAUSTED,\n                details: `Sent message larger than max (${response.length} vs. ${this.maxSendMessageSize})`,\n                metadata: null,\n            });\n            return;\n        }\n        this.maybeSendMetadata();\n        trace('Request to ' +\n            this.handler.path +\n            ' sent data frame of size ' +\n            response.length);\n        this.stream.write(response, error => {\n            var _a;\n            if (error) {\n                this.sendStatus({\n                    code: constants_1.Status.INTERNAL,\n                    details: `Error writing message: ${(0, error_1.getErrorMessage)(error)}`,\n                    metadata: null,\n                });\n                return;\n            }\n            (_a = this.callEventTracker) === null || _a === void 0 ? void 0 : _a.addMessageSent();\n            callback();\n        });\n    }\n    sendStatus(status) {\n        var _a, _b, _c;\n        if (this.checkCancelled()) {\n            return;\n        }\n        trace('Request to method ' +\n            ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) +\n            ' ended with status code: ' +\n            constants_1.Status[status.code] +\n            ' details: ' +\n            status.details);\n        const statusMetadata = (_c = (_b = status.metadata) === null || _b === void 0 ? void 0 : _b.clone()) !== null && _c !== void 0 ? _c : new metadata_1.Metadata();\n        if (this.shouldSendMetrics) {\n            statusMetadata.set(orca_1.GRPC_METRICS_HEADER, this.metricsRecorder.serialize());\n        }\n        if (this.metadataSent) {\n            if (!this.wantTrailers) {\n                this.wantTrailers = true;\n                this.stream.once('wantTrailers', () => {\n                    if (this.callEventTracker && !this.streamEnded) {\n                        this.streamEnded = true;\n                        this.callEventTracker.onStreamEnd(true);\n                        this.callEventTracker.onCallEnd(status);\n                    }\n                    const trailersToSend = Object.assign({ [GRPC_STATUS_HEADER]: status.code, [GRPC_MESSAGE_HEADER]: encodeURI(status.details) }, statusMetadata.toHttp2Headers());\n                    this.stream.sendTrailers(trailersToSend);\n                    this.notifyOnCancel();\n                });\n                this.stream.end();\n            }\n            else {\n                this.notifyOnCancel();\n            }\n        }\n        else {\n            if (this.callEventTracker && !this.streamEnded) {\n                this.streamEnded = true;\n                this.callEventTracker.onStreamEnd(true);\n                this.callEventTracker.onCallEnd(status);\n            }\n            // Trailers-only response\n            const trailersToSend = Object.assign(Object.assign({ [GRPC_STATUS_HEADER]: status.code, [GRPC_MESSAGE_HEADER]: encodeURI(status.details) }, defaultResponseHeaders), statusMetadata.toHttp2Headers());\n            this.stream.respond(trailersToSend, { endStream: true });\n            this.notifyOnCancel();\n        }\n    }\n    startRead() {\n        trace('Request to ' + this.handler.path + ' startRead called');\n        if (this.checkCancelled()) {\n            return;\n        }\n        this.isReadPending = true;\n        if (this.readQueue.length === 0) {\n            if (!this.receivedHalfClose) {\n                this.stream.resume();\n            }\n        }\n        else {\n            this.maybePushNextMessage();\n        }\n    }\n    getPeer() {\n        var _a;\n        const socket = (_a = this.stream.session) === null || _a === void 0 ? void 0 : _a.socket;\n        if (socket === null || socket === void 0 ? void 0 : socket.remoteAddress) {\n            if (socket.remotePort) {\n                return `${socket.remoteAddress}:${socket.remotePort}`;\n            }\n            else {\n                return socket.remoteAddress;\n            }\n        }\n        else {\n            return 'unknown';\n        }\n    }\n    getDeadline() {\n        return this.deadline;\n    }\n    getHost() {\n        return this.host;\n    }\n    getAuthContext() {\n        var _a;\n        if (((_a = this.stream.session) === null || _a === void 0 ? void 0 : _a.socket) instanceof tls_1.TLSSocket) {\n            const peerCertificate = this.stream.session.socket.getPeerCertificate();\n            return {\n                transportSecurityType: 'ssl',\n                sslPeerCertificate: peerCertificate.raw ? peerCertificate : undefined\n            };\n        }\n        else {\n            return {};\n        }\n    }\n    getConnectionInfo() {\n        return this.connectionInfo;\n    }\n    getMetricsRecorder() {\n        return this.metricsRecorder;\n    }\n}\nexports.BaseServerInterceptingCall = BaseServerInterceptingCall;\nfunction getServerInterceptingCall(interceptors, stream, headers, callEventTracker, handler, options) {\n    const methodDefinition = {\n        path: handler.path,\n        requestStream: handler.type === 'clientStream' || handler.type === 'bidi',\n        responseStream: handler.type === 'serverStream' || handler.type === 'bidi',\n        requestDeserialize: handler.deserialize,\n        responseSerialize: handler.serialize,\n    };\n    const baseCall = new BaseServerInterceptingCall(stream, headers, callEventTracker, handler, options);\n    return interceptors.reduce((call, interceptor) => {\n        return interceptor(methodDefinition, call);\n    }, baseCall);\n}\n//# sourceMappingURL=server-interceptors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWludGVyY2VwdG9ycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtDQUFrQyxHQUFHLDhCQUE4QixHQUFHLHdCQUF3QixHQUFHLDZCQUE2QjtBQUM5SCxvQ0FBb0M7QUFDcEMsaUNBQWlDO0FBQ2pDLG1CQUFtQixtQkFBTyxDQUFDLG9HQUFZO0FBQ3ZDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixnQkFBZ0IsbUJBQU8sQ0FBQyw4RkFBUztBQUNqQyxhQUFhLG1CQUFPLENBQUMsa0JBQU07QUFDM0IseUJBQXlCLG1CQUFPLENBQUMsZ0hBQWtCO0FBQ25ELGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DLGNBQWMsbUJBQU8sQ0FBQyxnQkFBSztBQUMzQixlQUFlLG1CQUFPLENBQUMsNEZBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLElBQUk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFCQUFxQixTQUFTLGNBQWM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsMkJBQTJCO0FBQzVILHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsU0FBUztBQUM1RixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELFlBQVk7QUFDckUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaUVBQWlFO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0NBQWdDO0FBQ3hGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxpQkFBaUIsTUFBTSx3QkFBd0I7QUFDekc7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELG9DQUFvQztBQUMzRjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxxRkFBcUY7QUFDaEo7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxxRkFBcUY7QUFDdEosa0RBQWtELGlCQUFpQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFCQUFxQixHQUFHLGtCQUFrQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItaW50ZXJjZXB0b3JzLmpzPzY4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjQgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFzZVNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBleHBvcnRzLlNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBleHBvcnRzLlJlc3BvbmRlckJ1aWxkZXIgPSBleHBvcnRzLlNlcnZlckxpc3RlbmVyQnVpbGRlciA9IHZvaWQgMDtcbmV4cG9ydHMuaXNJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lciA9IGlzSW50ZXJjZXB0aW5nU2VydmVyTGlzdGVuZXI7XG5leHBvcnRzLmdldFNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBnZXRTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbmNvbnN0IHpsaWIgPSByZXF1aXJlKFwiemxpYlwiKTtcbmNvbnN0IHN0cmVhbV9kZWNvZGVyXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tZGVjb2RlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgdGxzXzEgPSByZXF1aXJlKFwidGxzXCIpO1xuY29uc3Qgb3JjYV8xID0gcmVxdWlyZShcIi4vb3JjYVwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3NlcnZlcl9jYWxsJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY2xhc3MgU2VydmVyTGlzdGVuZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jYW5jZWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVNZXRhZGF0YShvblJlY2VpdmVNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb25SZWNlaXZlTWV0YWRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlTWVzc2FnZShvblJlY2VpdmVNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9uUmVjZWl2ZU1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoT25SZWNlaXZlSGFsZkNsb3NlKG9uUmVjZWl2ZUhhbGZDbG9zZSkge1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IG9uUmVjZWl2ZUhhbGZDbG9zZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPbkNhbmNlbChvbkNhbmNlbCkge1xuICAgICAgICB0aGlzLmNhbmNlbCA9IG9uQ2FuY2VsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZTogdGhpcy5oYWxmQ2xvc2UsXG4gICAgICAgICAgICBvbkNhbmNlbDogdGhpcy5jYW5jZWwsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIgPSBTZXJ2ZXJMaXN0ZW5lckJ1aWxkZXI7XG5mdW5jdGlvbiBpc0ludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhLmxlbmd0aCA9PT0gMSk7XG59XG5jbGFzcyBJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyLCBuZXh0TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLm5leHRMaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9uY2UgdGhlIGNhbGwgaXMgY2FuY2VsbGVkLCBpZ25vcmUgYWxsIG90aGVyIGV2ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nSGFsZkNsb3NlID0gZmFsc2U7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UodGhpcy5wZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdIYWxmQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEsIGludGVyY2VwdGVkTWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKGludGVyY2VwdGVkTWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UsIG1zZyA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbXNnO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uUmVjZWl2ZUhhbGZDbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVIYWxmQ2xvc2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhIHx8IHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uQ2FuY2VsKCk7XG4gICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uQ2FuY2VsKCk7XG4gICAgfVxufVxuY2xhc3MgUmVzcG9uZGVyQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhTdGFydChzdGFydCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2VuZE1ldGFkYXRhKHNlbmRNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gc2VuZE1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aFNlbmRNZXNzYWdlKHNlbmRNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aFNlbmRTdGF0dXMoc2VuZFN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHNlbmRTdGF0dXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnN0YXJ0LFxuICAgICAgICAgICAgc2VuZE1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIHNlbmRTdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuUmVzcG9uZGVyQnVpbGRlciA9IFJlc3BvbmRlckJ1aWxkZXI7XG5jb25zdCBkZWZhdWx0U2VydmVyTGlzdGVuZXIgPSB7XG4gICAgb25SZWNlaXZlTWV0YWRhdGE6IChtZXRhZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhKTtcbiAgICB9LFxuICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBvblJlY2VpdmVIYWxmQ2xvc2U6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbiAgICBvbkNhbmNlbDogKCkgPT4geyB9LFxufTtcbmNvbnN0IGRlZmF1bHRSZXNwb25kZXIgPSB7XG4gICAgc3RhcnQ6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbiAgICBzZW5kTWV0YWRhdGE6IChtZXRhZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhKTtcbiAgICB9LFxuICAgIHNlbmRNZXNzYWdlOiAobWVzc2FnZSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1lc3NhZ2UpO1xuICAgIH0sXG4gICAgc2VuZFN0YXR1czogKHN0YXR1cywgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KHN0YXR1cyk7XG4gICAgfSxcbn07XG5jbGFzcyBTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihuZXh0Q2FsbCwgcmVzcG9uZGVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbCA9IG5leHRDYWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbnRNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc3BvbmRlciA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiAoX2EgPSByZXNwb25kZXIgPT09IG51bGwgfHwgcmVzcG9uZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25kZXIuc3RhcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRSZXNwb25kZXIuc3RhcnQsXG4gICAgICAgICAgICBzZW5kTWV0YWRhdGE6IChfYiA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zZW5kTWV0YWRhdGEpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRSZXNwb25kZXIuc2VuZE1ldGFkYXRhLFxuICAgICAgICAgICAgc2VuZE1lc3NhZ2U6IChfYyA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zZW5kTWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdFJlc3BvbmRlci5zZW5kTWVzc2FnZSxcbiAgICAgICAgICAgIHNlbmRTdGF0dXM6IChfZCA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zZW5kU3RhdHVzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0UmVzcG9uZGVyLnNlbmRTdGF0dXMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWVzc2FnZSh0aGlzLnBlbmRpbmdNZXNzYWdlLCB0aGlzLnBlbmRpbmdNZXNzYWdlQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nU3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nU3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRTdGF0dXModGhpcy5wZW5kaW5nU3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5yZXNwb25kZXIuc3RhcnQoaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBjb25zdCBmdWxsSW50ZXJjZXB0ZWRMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9hID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0U2VydmVyTGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKF9iID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRTZXJ2ZXJMaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlLFxuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZTogKF9jID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uUmVjZWl2ZUhhbGZDbG9zZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdFNlcnZlckxpc3RlbmVyLm9uUmVjZWl2ZUhhbGZDbG9zZSxcbiAgICAgICAgICAgICAgICBvbkNhbmNlbDogKF9kID0gaW50ZXJjZXB0ZWRMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRlZExpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRlZExpc3RlbmVyLm9uQ2FuY2VsKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0U2VydmVyTGlzdGVuZXIub25DYW5jZWwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IG5ldyBJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lckltcGwoZnVsbEludGVyY2VwdGVkTGlzdGVuZXIsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc3RhcnQoZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbnRNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMucmVzcG9uZGVyLnNlbmRNZXRhZGF0YShtZXRhZGF0YSwgaW50ZXJjZXB0ZWRNZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWV0YWRhdGEoaW50ZXJjZXB0ZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ1N0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgIGlmICghdGhpcy5zZW50TWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1ldGFkYXRhKG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzcG9uZGVyLnNlbmRNZXNzYWdlKG1lc3NhZ2UsIGludGVyY2VwdGVkTWVzc2FnZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gaW50ZXJjZXB0ZWRNZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kTWVzc2FnZShpbnRlcmNlcHRlZE1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHRoaXMucmVzcG9uZGVyLnNlbmRTdGF0dXMoc3RhdHVzLCBpbnRlcmNlcHRlZFN0YXR1cyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgfHwgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IGludGVyY2VwdGVkU3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zZW5kU3RhdHVzKGludGVyY2VwdGVkU3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0UmVhZCgpIHtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0RGVhZGxpbmUoKTtcbiAgICB9XG4gICAgZ2V0SG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICB9XG4gICAgZ2V0Q29ubmVjdGlvbkluZm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRDYWxsLmdldENvbm5lY3Rpb25JbmZvKCk7XG4gICAgfVxuICAgIGdldE1ldHJpY3NSZWNvcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0TWV0cmljc1JlY29yZGVyKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gU2VydmVySW50ZXJjZXB0aW5nQ2FsbDtcbmNvbnN0IEdSUENfQUNDRVBUX0VOQ09ESU5HX0hFQURFUiA9ICdncnBjLWFjY2VwdC1lbmNvZGluZyc7XG5jb25zdCBHUlBDX0VOQ09ESU5HX0hFQURFUiA9ICdncnBjLWVuY29kaW5nJztcbmNvbnN0IEdSUENfTUVTU0FHRV9IRUFERVIgPSAnZ3JwYy1tZXNzYWdlJztcbmNvbnN0IEdSUENfU1RBVFVTX0hFQURFUiA9ICdncnBjLXN0YXR1cyc7XG5jb25zdCBHUlBDX1RJTUVPVVRfSEVBREVSID0gJ2dycGMtdGltZW91dCc7XG5jb25zdCBERUFETElORV9SRUdFWCA9IC8oXFxkezEsOH0pXFxzKihbSE1TbXVuXSkvO1xuY29uc3QgZGVhZGxpbmVVbml0c1RvTXMgPSB7XG4gICAgSDogMzYwMDAwMCxcbiAgICBNOiA2MDAwMCxcbiAgICBTOiAxMDAwLFxuICAgIG06IDEsXG4gICAgdTogMC4wMDEsXG4gICAgbjogMC4wMDAwMDEsXG59O1xuY29uc3QgZGVmYXVsdENvbXByZXNzaW9uSGVhZGVycyA9IHtcbiAgICAvLyBUT0RPKGNqaWhyaWcpOiBSZW1vdmUgdGhlc2UgZW5jb2RpbmcgaGVhZGVycyBmcm9tIHRoZSBkZWZhdWx0IHJlc3BvbnNlXG4gICAgLy8gb25jZSBjb21wcmVzc2lvbiBpcyBpbnRlZ3JhdGVkLlxuICAgIFtHUlBDX0FDQ0VQVF9FTkNPRElOR19IRUFERVJdOiAnaWRlbnRpdHksZGVmbGF0ZSxnemlwJyxcbiAgICBbR1JQQ19FTkNPRElOR19IRUFERVJdOiAnaWRlbnRpdHknLFxufTtcbmNvbnN0IGRlZmF1bHRSZXNwb25zZUhlYWRlcnMgPSB7XG4gICAgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfU1RBVFVTXTogaHR0cDIuY29uc3RhbnRzLkhUVFBfU1RBVFVTX09LLFxuICAgIFtodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX0NPTlRFTlRfVFlQRV06ICdhcHBsaWNhdGlvbi9ncnBjK3Byb3RvJyxcbn07XG5jb25zdCBkZWZhdWx0UmVzcG9uc2VPcHRpb25zID0ge1xuICAgIHdhaXRGb3JUcmFpbGVyczogdHJ1ZSxcbn07XG5jbGFzcyBCYXNlU2VydmVySW50ZXJjZXB0aW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3Ioc3RyZWFtLCBoZWFkZXJzLCBjYWxsRXZlbnRUcmFja2VyLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIgPSBjYWxsRXZlbnRUcmFja2VyO1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFkbGluZSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSA9IGNvbnN0YW50c18xLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEg7XG4gICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplID0gY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfUkVDRUlWRV9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YVNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53YW50VHJhaWxlcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jYW5jZWxOb3RpZmllZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluY29taW5nRW5jb2RpbmcgPSAnaWRlbnRpdHknO1xuICAgICAgICB0aGlzLnJlYWRRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmlzUmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWNlaXZlZEhhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0cmVhbUVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWV0cmljc1JlY29yZGVyID0gbmV3IG9yY2FfMS5QZXJSZXF1ZXN0TWV0cmljUmVjb3JkZXIoKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ub25jZSgnZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAvKiBXZSBuZWVkIGFuIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgdW5jYXVnaHQgZXJyb3IgZXZlbnQgZXhjZXB0aW9ucywgYnV0XG4gICAgICAgICAgICAgKiB0aGVyZSBpcyBub3RoaW5nIHdlIGNhbiByZWFzb25hYmx5IGRvIGhlcmUuIEFueSBlcnJvciBldmVudCBzaG91bGRcbiAgICAgICAgICAgICAqIGhhdmUgYSBjb3JyZXNwb25kaW5nIGNsb3NlIGV2ZW50LCB3aGljaCBoYW5kbGVzIGVtaXR0aW5nIHRoZSBjYW5jZWxsZWRcbiAgICAgICAgICAgICAqIGV2ZW50LiBBbmQgdGhlIHN0cmVhbSBpcyBub3cgaW4gYSBiYWQgc3RhdGUsIHNvIHdlIGNhbid0IHJlYXNvbmFibHlcbiAgICAgICAgICAgICAqIGV4cGVjdCB0byBiZSBhYmxlIHRvIHNlbmQgYW4gZXJyb3Igb3ZlciBpdC4gKi9cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RyZWFtLm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gbWV0aG9kICcgK1xuICAgICAgICAgICAgICAgICgoX2EgPSB0aGlzLmhhbmRsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXRoKSArXG4gICAgICAgICAgICAgICAgJyBzdHJlYW0gY2xvc2VkIHdpdGggcnN0Q29kZSAnICtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5yc3RDb2RlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGxFdmVudFRyYWNrZXIgJiYgIXRoaXMuc3RyZWFtRW5kZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbUVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25TdHJlYW1FbmQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vbkNhbGxFbmQoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnU3RyZWFtIGNsb3NlZCBiZWZvcmUgc2VuZGluZyBzdGF0dXMnLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubm90aWZ5T25DYW5jZWwoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RyZWFtLm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YUZyYW1lKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJlYW0ucGF1c2UoKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRW5kRXZlbnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgnZ3JwYy5tYXhfc2VuZF9tZXNzYWdlX2xlbmd0aCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5tYXhTZW5kTWVzc2FnZVNpemUgPSBvcHRpb25zWydncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjLm1heF9yZWNlaXZlX21lc3NhZ2VfbGVuZ3RoJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm1heFJlY2VpdmVNZXNzYWdlU2l6ZSA9IG9wdGlvbnNbJ2dycGMubWF4X3JlY2VpdmVfbWVzc2FnZV9sZW5ndGgnXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3QgPSAoX2EgPSBoZWFkZXJzWyc6YXV0aG9yaXR5J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGhlYWRlcnMuaG9zdDtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IHN0cmVhbV9kZWNvZGVyXzEuU3RyZWFtRGVjb2Rlcih0aGlzLm1heFJlY2VpdmVNZXNzYWdlU2l6ZSk7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gbWV0YWRhdGFfMS5NZXRhZGF0YS5mcm9tSHR0cDJIZWFkZXJzKGhlYWRlcnMpO1xuICAgICAgICBpZiAobG9nZ2luZy5pc1RyYWNlckVuYWJsZWQoVFJBQ0VSX05BTUUpKSB7XG4gICAgICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXIucGF0aCArXG4gICAgICAgICAgICAgICAgJyByZWNlaXZlZCBoZWFkZXJzICcgK1xuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhLnRvSlNPTigpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGltZW91dEhlYWRlciA9IG1ldGFkYXRhLmdldChHUlBDX1RJTUVPVVRfSEVBREVSKTtcbiAgICAgICAgaWYgKHRpbWVvdXRIZWFkZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVUaW1lb3V0SGVhZGVyKHRpbWVvdXRIZWFkZXJbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kaW5nSGVhZGVyID0gbWV0YWRhdGEuZ2V0KEdSUENfRU5DT0RJTkdfSEVBREVSKTtcbiAgICAgICAgaWYgKGVuY29kaW5nSGVhZGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaW5jb21pbmdFbmNvZGluZyA9IGVuY29kaW5nSGVhZGVyWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSBzZXZlcmFsIGhlYWRlcnMgdGhhdCBzaG91bGQgbm90IGJlIHByb3BhZ2F0ZWQgdG8gdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShHUlBDX1RJTUVPVVRfSEVBREVSKTtcbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKEdSUENfRU5DT0RJTkdfSEVBREVSKTtcbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKEdSUENfQUNDRVBUX0VOQ09ESU5HX0hFQURFUik7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX0FDQ0VQVF9FTkNPRElORyk7XG4gICAgICAgIG1ldGFkYXRhLnJlbW92ZShodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX1RFKTtcbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKGh0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICBjb25zdCBzb2NrZXQgPSAoX2IgPSBzdHJlYW0uc2Vzc2lvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNvY2tldDtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uSW5mbyA9IHtcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzczogc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LmxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIGxvY2FsUG9ydDogc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LmxvY2FsUG9ydCxcbiAgICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgcmVtb3RlUG9ydDogc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LnJlbW90ZVBvcnRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG91bGRTZW5kTWV0cmljcyA9ICEhb3B0aW9uc1snZ3JwYy5zZXJ2ZXJfY2FsbF9tZXRyaWNfcmVjb3JkaW5nJ107XG4gICAgfVxuICAgIGhhbmRsZVRpbWVvdXRIZWFkZXIodGltZW91dEhlYWRlcikge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHRpbWVvdXRIZWFkZXIudG9TdHJpbmcoKS5tYXRjaChERUFETElORV9SRUdFWCk7XG4gICAgICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgSW52YWxpZCAke0dSUENfVElNRU9VVF9IRUFERVJ9IHZhbHVlIFwiJHt0aW1lb3V0SGVhZGVyfVwiYCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgY29uc3RydWN0b3IgdG8gY29tcGxldGUgYmVmb3JlIHNlbmRpbmcgdGhlIGVycm9yLlxuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gKCttYXRjaFsxXSAqIGRlYWRsaW5lVW5pdHNUb01zW21hdGNoWzJdXSkgfCAwO1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gbm93LnNldE1pbGxpc2Vjb25kcyhub3cuZ2V0TWlsbGlzZWNvbmRzKCkgKyB0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLkRFQURMSU5FX0VYQ0VFREVELFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdEZWFkbGluZSBleGNlZWRlZCcsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHN0YXR1cyk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH1cbiAgICBjaGVja0NhbmNlbGxlZCgpIHtcbiAgICAgICAgLyogSW4gc29tZSBjYXNlcyB0aGUgc3RyZWFtIGNhbiBiZWNvbWUgZGVzdHJveWVkIGJlZm9yZSB0aGUgY2xvc2UgZXZlbnRcbiAgICAgICAgICogZmlyZXMuIFRoYXQgY3JlYXRlcyBhIHJhY2UgY29uZGl0aW9uIHRoYXQgdGhpcyBjaGVjayB3b3JrcyBhcm91bmQgKi9cbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCAmJiAodGhpcy5zdHJlYW0uZGVzdHJveWVkIHx8IHRoaXMuc3RyZWFtLmNsb3NlZCkpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5T25DYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYW5jZWxsZWQ7XG4gICAgfVxuICAgIG5vdGlmeU9uQ2FuY2VsKCkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxOb3RpZmllZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuY2VsTm90aWZpZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uQ2FuY2VsKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5kZWFkbGluZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWFkbGluZVRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGbHVzaCBpbmNvbWluZyBkYXRhIGZyYW1lc1xuICAgICAgICB0aGlzLnN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzZXJ2ZXIgaGFuZGxlciBjYW4gc3RhcnQgc2VuZGluZyBtZXNzYWdlcyB3aXRob3V0IGV4cGxpY2l0bHkgc2VuZGluZ1xuICAgICAqIG1ldGFkYXRhLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gc2VuZCBoZWFkZXJzIGJlZm9yZSBzZW5kaW5nIGFueVxuICAgICAqIG1lc3NhZ2VzLiBUaGlzIGZ1bmN0aW9uIGRvZXMgdGhhdCBpZiBuZWNlc3NhcnkuXG4gICAgICovXG4gICAgbWF5YmVTZW5kTWV0YWRhdGEoKSB7XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YVNlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1ldGFkYXRhKG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZSBhIG1lc3NhZ2UgdG8gYSBsZW5ndGgtZGVsaW1pdGVkIGJ5dGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgc2VyaWFsaXplTWVzc2FnZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlQnVmZmVyID0gdGhpcy5oYW5kbGVyLnNlcmlhbGl6ZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBtZXNzYWdlQnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShieXRlTGVuZ3RoICsgNSk7XG4gICAgICAgIC8qIE5vdGU6IHJlc3BvbnNlIGNvbXByZXNzaW9uIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLCBzbyB0aGlzXG4gICAgICAgICAqIGNvbXByZXNzZWQgYml0IGlzIGFsd2F5cyAwLiAqL1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50OCgwLCAwKTtcbiAgICAgICAgb3V0cHV0LndyaXRlVUludDMyQkUoYnl0ZUxlbmd0aCwgMSk7XG4gICAgICAgIG1lc3NhZ2VCdWZmZXIuY29weShvdXRwdXQsIDUpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBkZWNvbXByZXNzTWVzc2FnZShtZXNzYWdlLCBlbmNvZGluZykge1xuICAgICAgICBjb25zdCBtZXNzYWdlQ29udGVudHMgPSBtZXNzYWdlLnN1YmFycmF5KDUpO1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09ICdpZGVudGl0eScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlQ29udGVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW5jb2RpbmcgPT09ICdkZWZsYXRlJyB8fCBlbmNvZGluZyA9PT0gJ2d6aXAnKSB7XG4gICAgICAgICAgICBsZXQgZGVjb21wcmVzc2VyO1xuICAgICAgICAgICAgaWYgKGVuY29kaW5nID09PSAnZGVmbGF0ZScpIHtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIgPSB6bGliLmNyZWF0ZUluZmxhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3NlciA9IHpsaWIuY3JlYXRlR3VuemlwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0b3RhbExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZVBhcnRzID0gW107XG4gICAgICAgICAgICAgICAgZGVjb21wcmVzc2VyLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VQYXJ0cy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplICE9PSAtMSAmJiB0b3RhbExlbmd0aCA+IHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBtZXNzYWdlIHRoYXQgZGVjb21wcmVzc2VzIHRvIGEgc2l6ZSBsYXJnZXIgdGhhbiAke3RoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGVjb21wcmVzc2VyLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoQnVmZmVyLmNvbmNhdChtZXNzYWdlUGFydHMpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIud3JpdGUobWVzc2FnZUNvbnRlbnRzKTtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIuZW5kKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG1lc3NhZ2UgY29tcHJlc3NlZCB3aXRoIHVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlbmNvZGluZ31cImAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBkZWNvbXByZXNzQW5kTWF5YmVQdXNoKHF1ZXVlRW50cnkpIHtcbiAgICAgICAgaWYgKHF1ZXVlRW50cnkudHlwZSAhPT0gJ0NPTVBSRVNTRUQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcXVldWUgZW50cnkgdHlwZTogJHtxdWV1ZUVudHJ5LnR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcHJlc3NlZCA9IHF1ZXVlRW50cnkuY29tcHJlc3NlZE1lc3NhZ2UucmVhZFVJbnQ4KDApID09PSAxO1xuICAgICAgICBjb25zdCBjb21wcmVzc2VkTWVzc2FnZUVuY29kaW5nID0gY29tcHJlc3NlZFxuICAgICAgICAgICAgPyB0aGlzLmluY29taW5nRW5jb2RpbmdcbiAgICAgICAgICAgIDogJ2lkZW50aXR5JztcbiAgICAgICAgbGV0IGRlY29tcHJlc3NlZE1lc3NhZ2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWNvbXByZXNzZWRNZXNzYWdlID0gYXdhaXQgdGhpcy5kZWNvbXByZXNzTWVzc2FnZShxdWV1ZUVudHJ5LmNvbXByZXNzZWRNZXNzYWdlLCBjb21wcmVzc2VkTWVzc2FnZUVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcXVldWVFbnRyeS5wYXJzZWRNZXNzYWdlID0gdGhpcy5oYW5kbGVyLmRlc2VyaWFsaXplKGRlY29tcHJlc3NlZE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBFcnJvciBkZXNlcmlhbGl6aW5nIHJlcXVlc3Q6ICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlRW50cnkudHlwZSA9ICdSRUFEQUJMRSc7XG4gICAgICAgIHRoaXMubWF5YmVQdXNoTmV4dE1lc3NhZ2UoKTtcbiAgICB9XG4gICAgbWF5YmVQdXNoTmV4dE1lc3NhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVyICYmXG4gICAgICAgICAgICB0aGlzLmlzUmVhZFBlbmRpbmcgJiZcbiAgICAgICAgICAgIHRoaXMucmVhZFF1ZXVlLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMucmVhZFF1ZXVlWzBdLnR5cGUgIT09ICdDT01QUkVTU0VEJykge1xuICAgICAgICAgICAgdGhpcy5pc1JlYWRQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBuZXh0UXVldWVFbnRyeSA9IHRoaXMucmVhZFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAobmV4dFF1ZXVlRW50cnkudHlwZSA9PT0gJ1JFQURBQkxFJykge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShuZXh0UXVldWVFbnRyeS5wYXJzZWRNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5leHRRdWV1ZUVudHJ5LnR5cGUgPT09ICdIQUxGX0NMT1NFJ1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlRGF0YUZyYW1lKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gJyArXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIucGF0aCArXG4gICAgICAgICAgICAnIHJlY2VpdmVkIGRhdGEgZnJhbWUgb2Ygc2l6ZSAnICtcbiAgICAgICAgICAgIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgbGV0IHJhd01lc3NhZ2VzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmF3TWVzc2FnZXMgPSB0aGlzLmRlY29kZXIud3JpdGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7IGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsIGRldGFpbHM6IGUubWVzc2FnZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2VCeXRlcyBvZiByYXdNZXNzYWdlcykge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0ucGF1c2UoKTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0NPTVBSRVNTRUQnLFxuICAgICAgICAgICAgICAgIGNvbXByZXNzZWRNZXNzYWdlOiBtZXNzYWdlQnl0ZXMsXG4gICAgICAgICAgICAgICAgcGFyc2VkTWVzc2FnZTogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnJlYWRRdWV1ZS5wdXNoKHF1ZXVlRW50cnkpO1xuICAgICAgICAgICAgdGhpcy5kZWNvbXByZXNzQW5kTWF5YmVQdXNoKHF1ZXVlRW50cnkpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5jYWxsRXZlbnRUcmFja2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkTWVzc2FnZVJlY2VpdmVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlRW5kRXZlbnQoKSB7XG4gICAgICAgIHRoaXMucmVhZFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ0hBTEZfQ0xPU0UnLFxuICAgICAgICAgICAgY29tcHJlc3NlZE1lc3NhZ2U6IG51bGwsXG4gICAgICAgICAgICBwYXJzZWRNZXNzYWdlOiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWNlaXZlZEhhbGZDbG9zZSA9IHRydWU7XG4gICAgICAgIHRoaXMubWF5YmVQdXNoTmV4dE1lc3NhZ2UoKTtcbiAgICB9XG4gICAgc3RhcnQobGlzdGVuZXIpIHtcbiAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gJyArIHRoaXMuaGFuZGxlci5wYXRoICsgJyBzdGFydCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEodGhpcy5tZXRhZGF0YSk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGFTZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXRhZGF0YVNlbnQgPSB0cnVlO1xuICAgICAgICBjb25zdCBjdXN0b20gPSBtZXRhZGF0YSA/IG1ldGFkYXRhLnRvSHR0cDJIZWFkZXJzKCkgOiBudWxsO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRSZXNwb25zZUhlYWRlcnMpLCBkZWZhdWx0Q29tcHJlc3Npb25IZWFkZXJzKSwgY3VzdG9tKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ucmVzcG9uZChoZWFkZXJzLCBkZWZhdWx0UmVzcG9uc2VPcHRpb25zKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5zZXJpYWxpemVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgRXJyb3Igc2VyaWFsaXppbmcgcmVzcG9uc2U6ICR7KDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlKX1gLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplICE9PSAtMSAmJlxuICAgICAgICAgICAgcmVzcG9uc2UubGVuZ3RoIC0gNSA+IHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFNlbnQgbWVzc2FnZSBsYXJnZXIgdGhhbiBtYXggKCR7cmVzcG9uc2UubGVuZ3RofSB2cy4gJHt0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZX0pYCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWF5YmVTZW5kTWV0YWRhdGEoKTtcbiAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gJyArXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIucGF0aCArXG4gICAgICAgICAgICAnIHNlbnQgZGF0YSBmcmFtZSBvZiBzaXplICcgK1xuICAgICAgICAgICAgcmVzcG9uc2UubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUocmVzcG9uc2UsIGVycm9yID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYEVycm9yIHdyaXRpbmcgbWVzc2FnZTogJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGVycm9yKX1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNhbGxFdmVudFRyYWNrZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRNZXNzYWdlU2VudCgpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1JlcXVlc3QgdG8gbWV0aG9kICcgK1xuICAgICAgICAgICAgKChfYSA9IHRoaXMuaGFuZGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdGgpICtcbiAgICAgICAgICAgICcgZW5kZWQgd2l0aCBzdGF0dXMgY29kZTogJyArXG4gICAgICAgICAgICBjb25zdGFudHNfMS5TdGF0dXNbc3RhdHVzLmNvZGVdICtcbiAgICAgICAgICAgICcgZGV0YWlsczogJyArXG4gICAgICAgICAgICBzdGF0dXMuZGV0YWlscyk7XG4gICAgICAgIGNvbnN0IHN0YXR1c01ldGFkYXRhID0gKF9jID0gKF9iID0gc3RhdHVzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xvbmUoKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkU2VuZE1ldHJpY3MpIHtcbiAgICAgICAgICAgIHN0YXR1c01ldGFkYXRhLnNldChvcmNhXzEuR1JQQ19NRVRSSUNTX0hFQURFUiwgdGhpcy5tZXRyaWNzUmVjb3JkZXIuc2VyaWFsaXplKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhU2VudCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLndhbnRUcmFpbGVycykge1xuICAgICAgICAgICAgICAgIHRoaXMud2FudFRyYWlsZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5vbmNlKCd3YW50VHJhaWxlcnMnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxFdmVudFRyYWNrZXIgJiYgIXRoaXMuc3RyZWFtRW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtRW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZChzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWlsZXJzVG9TZW5kID0gT2JqZWN0LmFzc2lnbih7IFtHUlBDX1NUQVRVU19IRUFERVJdOiBzdGF0dXMuY29kZSwgW0dSUENfTUVTU0FHRV9IRUFERVJdOiBlbmNvZGVVUkkoc3RhdHVzLmRldGFpbHMpIH0sIHN0YXR1c01ldGFkYXRhLnRvSHR0cDJIZWFkZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5zZW5kVHJhaWxlcnModHJhaWxlcnNUb1NlbmQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0uZW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsRXZlbnRUcmFja2VyICYmICF0aGlzLnN0cmVhbUVuZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1FbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vbkNhbGxFbmQoc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYWlsZXJzLW9ubHkgcmVzcG9uc2VcbiAgICAgICAgICAgIGNvbnN0IHRyYWlsZXJzVG9TZW5kID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgW0dSUENfU1RBVFVTX0hFQURFUl06IHN0YXR1cy5jb2RlLCBbR1JQQ19NRVNTQUdFX0hFQURFUl06IGVuY29kZVVSSShzdGF0dXMuZGV0YWlscykgfSwgZGVmYXVsdFJlc3BvbnNlSGVhZGVycyksIHN0YXR1c01ldGFkYXRhLnRvSHR0cDJIZWFkZXJzKCkpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0ucmVzcG9uZCh0cmFpbGVyc1RvU2VuZCwgeyBlbmRTdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU9uQ2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICsgdGhpcy5oYW5kbGVyLnBhdGggKyAnIHN0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDYW5jZWxsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSZWFkUGVuZGluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnJlYWRRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNlaXZlZEhhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tYXliZVB1c2hOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gKF9hID0gdGhpcy5zdHJlYW0uc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvY2tldDtcbiAgICAgICAgaWYgKHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVBZGRyZXNzKSB7XG4gICAgICAgICAgICBpZiAoc29ja2V0LnJlbW90ZVBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7c29ja2V0LnJlbW90ZUFkZHJlc3N9OiR7c29ja2V0LnJlbW90ZVBvcnR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb2NrZXQucmVtb3RlQWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RGVhZGxpbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlYWRsaW5lO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0O1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKChfYSA9IHRoaXMuc3RyZWFtLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zb2NrZXQpIGluc3RhbmNlb2YgdGxzXzEuVExTU29ja2V0KSB7XG4gICAgICAgICAgICBjb25zdCBwZWVyQ2VydGlmaWNhdGUgPSB0aGlzLnN0cmVhbS5zZXNzaW9uLnNvY2tldC5nZXRQZWVyQ2VydGlmaWNhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0U2VjdXJpdHlUeXBlOiAnc3NsJyxcbiAgICAgICAgICAgICAgICBzc2xQZWVyQ2VydGlmaWNhdGU6IHBlZXJDZXJ0aWZpY2F0ZS5yYXcgPyBwZWVyQ2VydGlmaWNhdGUgOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29ubmVjdGlvbkluZm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JbmZvO1xuICAgIH1cbiAgICBnZXRNZXRyaWNzUmVjb3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldHJpY3NSZWNvcmRlcjtcbiAgICB9XG59XG5leHBvcnRzLkJhc2VTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gQmFzZVNlcnZlckludGVyY2VwdGluZ0NhbGw7XG5mdW5jdGlvbiBnZXRTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsKGludGVyY2VwdG9ycywgc3RyZWFtLCBoZWFkZXJzLCBjYWxsRXZlbnRUcmFja2VyLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbWV0aG9kRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgcGF0aDogaGFuZGxlci5wYXRoLFxuICAgICAgICByZXF1ZXN0U3RyZWFtOiBoYW5kbGVyLnR5cGUgPT09ICdjbGllbnRTdHJlYW0nIHx8IGhhbmRsZXIudHlwZSA9PT0gJ2JpZGknLFxuICAgICAgICByZXNwb25zZVN0cmVhbTogaGFuZGxlci50eXBlID09PSAnc2VydmVyU3RyZWFtJyB8fCBoYW5kbGVyLnR5cGUgPT09ICdiaWRpJyxcbiAgICAgICAgcmVxdWVzdERlc2VyaWFsaXplOiBoYW5kbGVyLmRlc2VyaWFsaXplLFxuICAgICAgICByZXNwb25zZVNlcmlhbGl6ZTogaGFuZGxlci5zZXJpYWxpemUsXG4gICAgfTtcbiAgICBjb25zdCBiYXNlQ2FsbCA9IG5ldyBCYXNlU2VydmVySW50ZXJjZXB0aW5nQ2FsbChzdHJlYW0sIGhlYWRlcnMsIGNhbGxFdmVudFRyYWNrZXIsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiBpbnRlcmNlcHRvcnMucmVkdWNlKChjYWxsLCBpbnRlcmNlcHRvcikgPT4ge1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3IobWV0aG9kRGVmaW5pdGlvbiwgY2FsbCk7XG4gICAgfSwgYmFzZUNhbGwpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWludGVyY2VwdG9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js":
/*!********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar __runInitializers = (this && this.__runInitializers) || function (thisArg, initializers, value) {\n    var useValue = arguments.length > 2;\n    for (var i = 0; i < initializers.length; i++) {\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n    }\n    return useValue ? value : void 0;\n};\nvar __esDecorate = (this && this.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n    var _, done = false;\n    for (var i = decorators.length - 1; i >= 0; i--) {\n        var context = {};\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n        if (kind === \"accessor\") {\n            if (result === void 0) continue;\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n            if (_ = accept(result.get)) descriptor.get = _;\n            if (_ = accept(result.set)) descriptor.set = _;\n            if (_ = accept(result.init)) initializers.unshift(_);\n        }\n        else if (_ = accept(result)) {\n            if (kind === \"field\") initializers.unshift(_);\n            else descriptor[key] = _;\n        }\n    }\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\n    done = true;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Server = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst util = __webpack_require__(/*! util */ \"util\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst server_call_1 = __webpack_require__(/*! ./server-call */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-call.js\");\nconst server_credentials_1 = __webpack_require__(/*! ./server-credentials */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-credentials.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst server_interceptors_1 = __webpack_require__(/*! ./server-interceptors */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server-interceptors.js\");\nconst UNLIMITED_CONNECTION_AGE_MS = ~(1 << 31);\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst MAX_CONNECTION_IDLE_MS = ~(1 << 31);\nconst { HTTP2_HEADER_PATH } = http2.constants;\nconst TRACER_NAME = 'server';\nconst kMaxAge = Buffer.from('max_age');\nfunction serverCallTrace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, 'server_call', text);\n}\nfunction noop() { }\n/**\n * Decorator to wrap a class method with util.deprecate\n * @param message The message to output if the deprecated method is called\n * @returns\n */\nfunction deprecate(message) {\n    return function (target, context) {\n        return util.deprecate(target, message);\n    };\n}\nfunction getUnimplementedStatusResponse(methodName) {\n    return {\n        code: constants_1.Status.UNIMPLEMENTED,\n        details: `The server does not implement the method ${methodName}`,\n    };\n}\nfunction getDefaultHandler(handlerType, methodName) {\n    const unimplementedStatusResponse = getUnimplementedStatusResponse(methodName);\n    switch (handlerType) {\n        case 'unary':\n            return (call, callback) => {\n                callback(unimplementedStatusResponse, null);\n            };\n        case 'clientStream':\n            return (call, callback) => {\n                callback(unimplementedStatusResponse, null);\n            };\n        case 'serverStream':\n            return (call) => {\n                call.emit('error', unimplementedStatusResponse);\n            };\n        case 'bidi':\n            return (call) => {\n                call.emit('error', unimplementedStatusResponse);\n            };\n        default:\n            throw new Error(`Invalid handlerType ${handlerType}`);\n    }\n}\nlet Server = (() => {\n    var _a;\n    let _instanceExtraInitializers = [];\n    let _start_decorators;\n    return _a = class Server {\n            constructor(options) {\n                var _b, _c, _d, _e, _f, _g;\n                this.boundPorts = (__runInitializers(this, _instanceExtraInitializers), new Map());\n                this.http2Servers = new Map();\n                this.sessionIdleTimeouts = new Map();\n                this.handlers = new Map();\n                this.sessions = new Map();\n                /**\n                 * This field only exists to ensure that the start method throws an error if\n                 * it is called twice, as it did previously.\n                 */\n                this.started = false;\n                this.shutdown = false;\n                this.serverAddressString = 'null';\n                // Channelz Info\n                this.channelzEnabled = true;\n                this.options = options !== null && options !== void 0 ? options : {};\n                if (this.options['grpc.enable_channelz'] === 0) {\n                    this.channelzEnabled = false;\n                    this.channelzTrace = new channelz_1.ChannelzTraceStub();\n                    this.callTracker = new channelz_1.ChannelzCallTrackerStub();\n                    this.listenerChildrenTracker = new channelz_1.ChannelzChildrenTrackerStub();\n                    this.sessionChildrenTracker = new channelz_1.ChannelzChildrenTrackerStub();\n                }\n                else {\n                    this.channelzTrace = new channelz_1.ChannelzTrace();\n                    this.callTracker = new channelz_1.ChannelzCallTracker();\n                    this.listenerChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n                    this.sessionChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n                }\n                this.channelzRef = (0, channelz_1.registerChannelzServer)('server', () => this.getChannelzInfo(), this.channelzEnabled);\n                this.channelzTrace.addTrace('CT_INFO', 'Server created');\n                this.maxConnectionAgeMs =\n                    (_b = this.options['grpc.max_connection_age_ms']) !== null && _b !== void 0 ? _b : UNLIMITED_CONNECTION_AGE_MS;\n                this.maxConnectionAgeGraceMs =\n                    (_c = this.options['grpc.max_connection_age_grace_ms']) !== null && _c !== void 0 ? _c : UNLIMITED_CONNECTION_AGE_MS;\n                this.keepaliveTimeMs =\n                    (_d = this.options['grpc.keepalive_time_ms']) !== null && _d !== void 0 ? _d : KEEPALIVE_MAX_TIME_MS;\n                this.keepaliveTimeoutMs =\n                    (_e = this.options['grpc.keepalive_timeout_ms']) !== null && _e !== void 0 ? _e : KEEPALIVE_TIMEOUT_MS;\n                this.sessionIdleTimeout =\n                    (_f = this.options['grpc.max_connection_idle_ms']) !== null && _f !== void 0 ? _f : MAX_CONNECTION_IDLE_MS;\n                this.commonServerOptions = {\n                    maxSendHeaderBlockLength: Number.MAX_SAFE_INTEGER,\n                };\n                if ('grpc-node.max_session_memory' in this.options) {\n                    this.commonServerOptions.maxSessionMemory =\n                        this.options['grpc-node.max_session_memory'];\n                }\n                else {\n                    /* By default, set a very large max session memory limit, to effectively\n                     * disable enforcement of the limit. Some testing indicates that Node's\n                     * behavior degrades badly when this limit is reached, so we solve that\n                     * by disabling the check entirely. */\n                    this.commonServerOptions.maxSessionMemory = Number.MAX_SAFE_INTEGER;\n                }\n                if ('grpc.max_concurrent_streams' in this.options) {\n                    this.commonServerOptions.settings = {\n                        maxConcurrentStreams: this.options['grpc.max_concurrent_streams'],\n                    };\n                }\n                this.interceptors = (_g = this.options.interceptors) !== null && _g !== void 0 ? _g : [];\n                this.trace('Server constructed');\n            }\n            getChannelzInfo() {\n                return {\n                    trace: this.channelzTrace,\n                    callTracker: this.callTracker,\n                    listenerChildren: this.listenerChildrenTracker.getChildLists(),\n                    sessionChildren: this.sessionChildrenTracker.getChildLists(),\n                };\n            }\n            getChannelzSessionInfo(session) {\n                var _b, _c, _d;\n                const sessionInfo = this.sessions.get(session);\n                const sessionSocket = session.socket;\n                const remoteAddress = sessionSocket.remoteAddress\n                    ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort)\n                    : null;\n                const localAddress = sessionSocket.localAddress\n                    ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort)\n                    : null;\n                let tlsInfo;\n                if (session.encrypted) {\n                    const tlsSocket = sessionSocket;\n                    const cipherInfo = tlsSocket.getCipher();\n                    const certificate = tlsSocket.getCertificate();\n                    const peerCertificate = tlsSocket.getPeerCertificate();\n                    tlsInfo = {\n                        cipherSuiteStandardName: (_b = cipherInfo.standardName) !== null && _b !== void 0 ? _b : null,\n                        cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                        localCertificate: certificate && 'raw' in certificate ? certificate.raw : null,\n                        remoteCertificate: peerCertificate && 'raw' in peerCertificate\n                            ? peerCertificate.raw\n                            : null,\n                    };\n                }\n                else {\n                    tlsInfo = null;\n                }\n                const socketInfo = {\n                    remoteAddress: remoteAddress,\n                    localAddress: localAddress,\n                    security: tlsInfo,\n                    remoteName: null,\n                    streamsStarted: sessionInfo.streamTracker.callsStarted,\n                    streamsSucceeded: sessionInfo.streamTracker.callsSucceeded,\n                    streamsFailed: sessionInfo.streamTracker.callsFailed,\n                    messagesSent: sessionInfo.messagesSent,\n                    messagesReceived: sessionInfo.messagesReceived,\n                    keepAlivesSent: sessionInfo.keepAlivesSent,\n                    lastLocalStreamCreatedTimestamp: null,\n                    lastRemoteStreamCreatedTimestamp: sessionInfo.streamTracker.lastCallStartedTimestamp,\n                    lastMessageSentTimestamp: sessionInfo.lastMessageSentTimestamp,\n                    lastMessageReceivedTimestamp: sessionInfo.lastMessageReceivedTimestamp,\n                    localFlowControlWindow: (_c = session.state.localWindowSize) !== null && _c !== void 0 ? _c : null,\n                    remoteFlowControlWindow: (_d = session.state.remoteWindowSize) !== null && _d !== void 0 ? _d : null,\n                };\n                return socketInfo;\n            }\n            trace(text) {\n                logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + text);\n            }\n            keepaliveTrace(text) {\n                logging.trace(constants_1.LogVerbosity.DEBUG, 'keepalive', '(' + this.channelzRef.id + ') ' + text);\n            }\n            addProtoService() {\n                throw new Error('Not implemented. Use addService() instead');\n            }\n            addService(service, implementation) {\n                if (service === null ||\n                    typeof service !== 'object' ||\n                    implementation === null ||\n                    typeof implementation !== 'object') {\n                    throw new Error('addService() requires two objects as arguments');\n                }\n                const serviceKeys = Object.keys(service);\n                if (serviceKeys.length === 0) {\n                    throw new Error('Cannot add an empty service to a server');\n                }\n                serviceKeys.forEach(name => {\n                    const attrs = service[name];\n                    let methodType;\n                    if (attrs.requestStream) {\n                        if (attrs.responseStream) {\n                            methodType = 'bidi';\n                        }\n                        else {\n                            methodType = 'clientStream';\n                        }\n                    }\n                    else {\n                        if (attrs.responseStream) {\n                            methodType = 'serverStream';\n                        }\n                        else {\n                            methodType = 'unary';\n                        }\n                    }\n                    let implFn = implementation[name];\n                    let impl;\n                    if (implFn === undefined && typeof attrs.originalName === 'string') {\n                        implFn = implementation[attrs.originalName];\n                    }\n                    if (implFn !== undefined) {\n                        impl = implFn.bind(implementation);\n                    }\n                    else {\n                        impl = getDefaultHandler(methodType, name);\n                    }\n                    const success = this.register(attrs.path, impl, attrs.responseSerialize, attrs.requestDeserialize, methodType);\n                    if (success === false) {\n                        throw new Error(`Method handler for ${attrs.path} already provided.`);\n                    }\n                });\n            }\n            removeService(service) {\n                if (service === null || typeof service !== 'object') {\n                    throw new Error('removeService() requires object as argument');\n                }\n                const serviceKeys = Object.keys(service);\n                serviceKeys.forEach(name => {\n                    const attrs = service[name];\n                    this.unregister(attrs.path);\n                });\n            }\n            bind(port, creds) {\n                throw new Error('Not implemented. Use bindAsync() instead');\n            }\n            /**\n             * This API is experimental, so API stability is not guaranteed across minor versions.\n             * @param boundAddress\n             * @returns\n             */\n            experimentalRegisterListenerToChannelz(boundAddress) {\n                return (0, channelz_1.registerChannelzSocket)((0, subchannel_address_1.subchannelAddressToString)(boundAddress), () => {\n                    return {\n                        localAddress: boundAddress,\n                        remoteAddress: null,\n                        security: null,\n                        remoteName: null,\n                        streamsStarted: 0,\n                        streamsSucceeded: 0,\n                        streamsFailed: 0,\n                        messagesSent: 0,\n                        messagesReceived: 0,\n                        keepAlivesSent: 0,\n                        lastLocalStreamCreatedTimestamp: null,\n                        lastRemoteStreamCreatedTimestamp: null,\n                        lastMessageSentTimestamp: null,\n                        lastMessageReceivedTimestamp: null,\n                        localFlowControlWindow: null,\n                        remoteFlowControlWindow: null,\n                    };\n                }, this.channelzEnabled);\n            }\n            experimentalUnregisterListenerFromChannelz(channelzRef) {\n                (0, channelz_1.unregisterChannelzRef)(channelzRef);\n            }\n            createHttp2Server(credentials) {\n                let http2Server;\n                if (credentials._isSecure()) {\n                    const constructorOptions = credentials._getConstructorOptions();\n                    const contextOptions = credentials._getSecureContextOptions();\n                    const secureServerOptions = Object.assign(Object.assign(Object.assign(Object.assign({}, this.commonServerOptions), constructorOptions), contextOptions), { enableTrace: this.options['grpc-node.tls_enable_trace'] === 1 });\n                    let areCredentialsValid = contextOptions !== null;\n                    this.trace('Initial credentials valid: ' + areCredentialsValid);\n                    http2Server = http2.createSecureServer(secureServerOptions);\n                    http2Server.prependListener('connection', (socket) => {\n                        if (!areCredentialsValid) {\n                            this.trace('Dropped connection from ' + JSON.stringify(socket.address()) + ' due to unloaded credentials');\n                            socket.destroy();\n                        }\n                    });\n                    http2Server.on('secureConnection', (socket) => {\n                        /* These errors need to be handled by the user of Http2SecureServer,\n                         * according to https://github.com/nodejs/node/issues/35824 */\n                        socket.on('error', (e) => {\n                            this.trace('An incoming TLS connection closed with error: ' + e.message);\n                        });\n                    });\n                    const credsWatcher = options => {\n                        if (options) {\n                            const secureServer = http2Server;\n                            try {\n                                secureServer.setSecureContext(options);\n                            }\n                            catch (e) {\n                                logging.log(constants_1.LogVerbosity.ERROR, 'Failed to set secure context with error ' + e.message);\n                                options = null;\n                            }\n                        }\n                        areCredentialsValid = options !== null;\n                        this.trace('Post-update credentials valid: ' + areCredentialsValid);\n                    };\n                    credentials._addWatcher(credsWatcher);\n                    http2Server.on('close', () => {\n                        credentials._removeWatcher(credsWatcher);\n                    });\n                }\n                else {\n                    http2Server = http2.createServer(this.commonServerOptions);\n                }\n                http2Server.setTimeout(0, noop);\n                this._setupHandlers(http2Server, credentials._getInterceptors());\n                return http2Server;\n            }\n            bindOneAddress(address, boundPortObject) {\n                this.trace('Attempting to bind ' + (0, subchannel_address_1.subchannelAddressToString)(address));\n                const http2Server = this.createHttp2Server(boundPortObject.credentials);\n                return new Promise((resolve, reject) => {\n                    const onError = (err) => {\n                        this.trace('Failed to bind ' +\n                            (0, subchannel_address_1.subchannelAddressToString)(address) +\n                            ' with error ' +\n                            err.message);\n                        resolve({\n                            port: 'port' in address ? address.port : 1,\n                            error: err.message,\n                        });\n                    };\n                    http2Server.once('error', onError);\n                    http2Server.listen(address, () => {\n                        const boundAddress = http2Server.address();\n                        let boundSubchannelAddress;\n                        if (typeof boundAddress === 'string') {\n                            boundSubchannelAddress = {\n                                path: boundAddress,\n                            };\n                        }\n                        else {\n                            boundSubchannelAddress = {\n                                host: boundAddress.address,\n                                port: boundAddress.port,\n                            };\n                        }\n                        const channelzRef = this.experimentalRegisterListenerToChannelz(boundSubchannelAddress);\n                        this.listenerChildrenTracker.refChild(channelzRef);\n                        this.http2Servers.set(http2Server, {\n                            channelzRef: channelzRef,\n                            sessions: new Set(),\n                            ownsChannelzRef: true\n                        });\n                        boundPortObject.listeningServers.add(http2Server);\n                        this.trace('Successfully bound ' +\n                            (0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress));\n                        resolve({\n                            port: 'port' in boundSubchannelAddress ? boundSubchannelAddress.port : 1,\n                        });\n                        http2Server.removeListener('error', onError);\n                    });\n                });\n            }\n            async bindManyPorts(addressList, boundPortObject) {\n                if (addressList.length === 0) {\n                    return {\n                        count: 0,\n                        port: 0,\n                        errors: [],\n                    };\n                }\n                if ((0, subchannel_address_1.isTcpSubchannelAddress)(addressList[0]) && addressList[0].port === 0) {\n                    /* If binding to port 0, first try to bind the first address, then bind\n                     * the rest of the address list to the specific port that it binds. */\n                    const firstAddressResult = await this.bindOneAddress(addressList[0], boundPortObject);\n                    if (firstAddressResult.error) {\n                        /* If the first address fails to bind, try the same operation starting\n                         * from the second item in the list. */\n                        const restAddressResult = await this.bindManyPorts(addressList.slice(1), boundPortObject);\n                        return Object.assign(Object.assign({}, restAddressResult), { errors: [firstAddressResult.error, ...restAddressResult.errors] });\n                    }\n                    else {\n                        const restAddresses = addressList\n                            .slice(1)\n                            .map(address => (0, subchannel_address_1.isTcpSubchannelAddress)(address)\n                            ? { host: address.host, port: firstAddressResult.port }\n                            : address);\n                        const restAddressResult = await Promise.all(restAddresses.map(address => this.bindOneAddress(address, boundPortObject)));\n                        const allResults = [firstAddressResult, ...restAddressResult];\n                        return {\n                            count: allResults.filter(result => result.error === undefined).length,\n                            port: firstAddressResult.port,\n                            errors: allResults\n                                .filter(result => result.error)\n                                .map(result => result.error),\n                        };\n                    }\n                }\n                else {\n                    const allResults = await Promise.all(addressList.map(address => this.bindOneAddress(address, boundPortObject)));\n                    return {\n                        count: allResults.filter(result => result.error === undefined).length,\n                        port: allResults[0].port,\n                        errors: allResults\n                            .filter(result => result.error)\n                            .map(result => result.error),\n                    };\n                }\n            }\n            async bindAddressList(addressList, boundPortObject) {\n                const bindResult = await this.bindManyPorts(addressList, boundPortObject);\n                if (bindResult.count > 0) {\n                    if (bindResult.count < addressList.length) {\n                        logging.log(constants_1.LogVerbosity.INFO, `WARNING Only ${bindResult.count} addresses added out of total ${addressList.length} resolved`);\n                    }\n                    return bindResult.port;\n                }\n                else {\n                    const errorString = `No address added out of total ${addressList.length} resolved`;\n                    logging.log(constants_1.LogVerbosity.ERROR, errorString);\n                    throw new Error(`${errorString} errors: [${bindResult.errors.join(',')}]`);\n                }\n            }\n            resolvePort(port) {\n                return new Promise((resolve, reject) => {\n                    let seenResolution = false;\n                    const resolverListener = (endpointList, attributes, serviceConfig, resolutionNote) => {\n                        if (seenResolution) {\n                            return true;\n                        }\n                        seenResolution = true;\n                        if (!endpointList.ok) {\n                            reject(new Error(endpointList.error.details));\n                            return true;\n                        }\n                        const addressList = [].concat(...endpointList.value.map(endpoint => endpoint.addresses));\n                        if (addressList.length === 0) {\n                            reject(new Error(`No addresses resolved for port ${port}`));\n                            return true;\n                        }\n                        resolve(addressList);\n                        return true;\n                    };\n                    const resolver = (0, resolver_1.createResolver)(port, resolverListener, this.options);\n                    resolver.updateResolution();\n                });\n            }\n            async bindPort(port, boundPortObject) {\n                const addressList = await this.resolvePort(port);\n                if (boundPortObject.cancelled) {\n                    this.completeUnbind(boundPortObject);\n                    throw new Error('bindAsync operation cancelled by unbind call');\n                }\n                const portNumber = await this.bindAddressList(addressList, boundPortObject);\n                if (boundPortObject.cancelled) {\n                    this.completeUnbind(boundPortObject);\n                    throw new Error('bindAsync operation cancelled by unbind call');\n                }\n                return portNumber;\n            }\n            normalizePort(port) {\n                const initialPortUri = (0, uri_parser_1.parseUri)(port);\n                if (initialPortUri === null) {\n                    throw new Error(`Could not parse port \"${port}\"`);\n                }\n                const portUri = (0, resolver_1.mapUriDefaultScheme)(initialPortUri);\n                if (portUri === null) {\n                    throw new Error(`Could not get a default scheme for port \"${port}\"`);\n                }\n                return portUri;\n            }\n            bindAsync(port, creds, callback) {\n                if (this.shutdown) {\n                    throw new Error('bindAsync called after shutdown');\n                }\n                if (typeof port !== 'string') {\n                    throw new TypeError('port must be a string');\n                }\n                if (creds === null || !(creds instanceof server_credentials_1.ServerCredentials)) {\n                    throw new TypeError('creds must be a ServerCredentials object');\n                }\n                if (typeof callback !== 'function') {\n                    throw new TypeError('callback must be a function');\n                }\n                this.trace('bindAsync port=' + port);\n                const portUri = this.normalizePort(port);\n                const deferredCallback = (error, port) => {\n                    process.nextTick(() => callback(error, port));\n                };\n                /* First, if this port is already bound or that bind operation is in\n                 * progress, use that result. */\n                let boundPortObject = this.boundPorts.get((0, uri_parser_1.uriToString)(portUri));\n                if (boundPortObject) {\n                    if (!creds._equals(boundPortObject.credentials)) {\n                        deferredCallback(new Error(`${port} already bound with incompatible credentials`), 0);\n                        return;\n                    }\n                    /* If that operation has previously been cancelled by an unbind call,\n                     * uncancel it. */\n                    boundPortObject.cancelled = false;\n                    if (boundPortObject.completionPromise) {\n                        boundPortObject.completionPromise.then(portNum => callback(null, portNum), error => callback(error, 0));\n                    }\n                    else {\n                        deferredCallback(null, boundPortObject.portNumber);\n                    }\n                    return;\n                }\n                boundPortObject = {\n                    mapKey: (0, uri_parser_1.uriToString)(portUri),\n                    originalUri: portUri,\n                    completionPromise: null,\n                    cancelled: false,\n                    portNumber: 0,\n                    credentials: creds,\n                    listeningServers: new Set(),\n                };\n                const splitPort = (0, uri_parser_1.splitHostPort)(portUri.path);\n                const completionPromise = this.bindPort(portUri, boundPortObject);\n                boundPortObject.completionPromise = completionPromise;\n                /* If the port number is 0, defer populating the map entry until after the\n                 * bind operation completes and we have a specific port number. Otherwise,\n                 * populate it immediately. */\n                if ((splitPort === null || splitPort === void 0 ? void 0 : splitPort.port) === 0) {\n                    completionPromise.then(portNum => {\n                        const finalUri = {\n                            scheme: portUri.scheme,\n                            authority: portUri.authority,\n                            path: (0, uri_parser_1.combineHostPort)({ host: splitPort.host, port: portNum }),\n                        };\n                        boundPortObject.mapKey = (0, uri_parser_1.uriToString)(finalUri);\n                        boundPortObject.completionPromise = null;\n                        boundPortObject.portNumber = portNum;\n                        this.boundPorts.set(boundPortObject.mapKey, boundPortObject);\n                        callback(null, portNum);\n                    }, error => {\n                        callback(error, 0);\n                    });\n                }\n                else {\n                    this.boundPorts.set(boundPortObject.mapKey, boundPortObject);\n                    completionPromise.then(portNum => {\n                        boundPortObject.completionPromise = null;\n                        boundPortObject.portNumber = portNum;\n                        callback(null, portNum);\n                    }, error => {\n                        callback(error, 0);\n                    });\n                }\n            }\n            registerInjectorToChannelz() {\n                return (0, channelz_1.registerChannelzSocket)('injector', () => {\n                    return {\n                        localAddress: null,\n                        remoteAddress: null,\n                        security: null,\n                        remoteName: null,\n                        streamsStarted: 0,\n                        streamsSucceeded: 0,\n                        streamsFailed: 0,\n                        messagesSent: 0,\n                        messagesReceived: 0,\n                        keepAlivesSent: 0,\n                        lastLocalStreamCreatedTimestamp: null,\n                        lastRemoteStreamCreatedTimestamp: null,\n                        lastMessageSentTimestamp: null,\n                        lastMessageReceivedTimestamp: null,\n                        localFlowControlWindow: null,\n                        remoteFlowControlWindow: null,\n                    };\n                }, this.channelzEnabled);\n            }\n            /**\n             * This API is experimental, so API stability is not guaranteed across minor versions.\n             * @param credentials\n             * @param channelzRef\n             * @returns\n             */\n            experimentalCreateConnectionInjectorWithChannelzRef(credentials, channelzRef, ownsChannelzRef = false) {\n                if (credentials === null || !(credentials instanceof server_credentials_1.ServerCredentials)) {\n                    throw new TypeError('creds must be a ServerCredentials object');\n                }\n                if (this.channelzEnabled) {\n                    this.listenerChildrenTracker.refChild(channelzRef);\n                }\n                const server = this.createHttp2Server(credentials);\n                const sessionsSet = new Set();\n                this.http2Servers.set(server, {\n                    channelzRef: channelzRef,\n                    sessions: sessionsSet,\n                    ownsChannelzRef\n                });\n                return {\n                    injectConnection: (connection) => {\n                        server.emit('connection', connection);\n                    },\n                    drain: (graceTimeMs) => {\n                        var _b, _c;\n                        for (const session of sessionsSet) {\n                            this.closeSession(session);\n                        }\n                        (_c = (_b = setTimeout(() => {\n                            for (const session of sessionsSet) {\n                                session.destroy(http2.constants.NGHTTP2_CANCEL);\n                            }\n                        }, graceTimeMs)).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n                    },\n                    destroy: () => {\n                        this.closeServer(server);\n                        for (const session of sessionsSet) {\n                            this.closeSession(session);\n                        }\n                    }\n                };\n            }\n            createConnectionInjector(credentials) {\n                if (credentials === null || !(credentials instanceof server_credentials_1.ServerCredentials)) {\n                    throw new TypeError('creds must be a ServerCredentials object');\n                }\n                const channelzRef = this.registerInjectorToChannelz();\n                return this.experimentalCreateConnectionInjectorWithChannelzRef(credentials, channelzRef, true);\n            }\n            closeServer(server, callback) {\n                this.trace('Closing server with address ' + JSON.stringify(server.address()));\n                const serverInfo = this.http2Servers.get(server);\n                server.close(() => {\n                    if (serverInfo && serverInfo.ownsChannelzRef) {\n                        this.listenerChildrenTracker.unrefChild(serverInfo.channelzRef);\n                        (0, channelz_1.unregisterChannelzRef)(serverInfo.channelzRef);\n                    }\n                    this.http2Servers.delete(server);\n                    callback === null || callback === void 0 ? void 0 : callback();\n                });\n            }\n            closeSession(session, callback) {\n                var _b;\n                this.trace('Closing session initiated by ' + ((_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress));\n                const sessionInfo = this.sessions.get(session);\n                const closeCallback = () => {\n                    if (sessionInfo) {\n                        this.sessionChildrenTracker.unrefChild(sessionInfo.ref);\n                        (0, channelz_1.unregisterChannelzRef)(sessionInfo.ref);\n                    }\n                    callback === null || callback === void 0 ? void 0 : callback();\n                };\n                if (session.closed) {\n                    queueMicrotask(closeCallback);\n                }\n                else {\n                    session.close(closeCallback);\n                }\n            }\n            completeUnbind(boundPortObject) {\n                for (const server of boundPortObject.listeningServers) {\n                    const serverInfo = this.http2Servers.get(server);\n                    this.closeServer(server, () => {\n                        boundPortObject.listeningServers.delete(server);\n                    });\n                    if (serverInfo) {\n                        for (const session of serverInfo.sessions) {\n                            this.closeSession(session);\n                        }\n                    }\n                }\n                this.boundPorts.delete(boundPortObject.mapKey);\n            }\n            /**\n             * Unbind a previously bound port, or cancel an in-progress bindAsync\n             * operation. If port 0 was bound, only the actual bound port can be\n             * unbound. For example, if bindAsync was called with \"localhost:0\" and the\n             * bound port result was 54321, it can be unbound as \"localhost:54321\".\n             * @param port\n             */\n            unbind(port) {\n                this.trace('unbind port=' + port);\n                const portUri = this.normalizePort(port);\n                const splitPort = (0, uri_parser_1.splitHostPort)(portUri.path);\n                if ((splitPort === null || splitPort === void 0 ? void 0 : splitPort.port) === 0) {\n                    throw new Error('Cannot unbind port 0');\n                }\n                const boundPortObject = this.boundPorts.get((0, uri_parser_1.uriToString)(portUri));\n                if (boundPortObject) {\n                    this.trace('unbinding ' +\n                        boundPortObject.mapKey +\n                        ' originally bound as ' +\n                        (0, uri_parser_1.uriToString)(boundPortObject.originalUri));\n                    /* If the bind operation is pending, the cancelled flag will trigger\n                     * the unbind operation later. */\n                    if (boundPortObject.completionPromise) {\n                        boundPortObject.cancelled = true;\n                    }\n                    else {\n                        this.completeUnbind(boundPortObject);\n                    }\n                }\n            }\n            /**\n             * Gracefully close all connections associated with a previously bound port.\n             * After the grace time, forcefully close all remaining open connections.\n             *\n             * If port 0 was bound, only the actual bound port can be\n             * drained. For example, if bindAsync was called with \"localhost:0\" and the\n             * bound port result was 54321, it can be drained as \"localhost:54321\".\n             * @param port\n             * @param graceTimeMs\n             * @returns\n             */\n            drain(port, graceTimeMs) {\n                var _b, _c;\n                this.trace('drain port=' + port + ' graceTimeMs=' + graceTimeMs);\n                const portUri = this.normalizePort(port);\n                const splitPort = (0, uri_parser_1.splitHostPort)(portUri.path);\n                if ((splitPort === null || splitPort === void 0 ? void 0 : splitPort.port) === 0) {\n                    throw new Error('Cannot drain port 0');\n                }\n                const boundPortObject = this.boundPorts.get((0, uri_parser_1.uriToString)(portUri));\n                if (!boundPortObject) {\n                    return;\n                }\n                const allSessions = new Set();\n                for (const http2Server of boundPortObject.listeningServers) {\n                    const serverEntry = this.http2Servers.get(http2Server);\n                    if (serverEntry) {\n                        for (const session of serverEntry.sessions) {\n                            allSessions.add(session);\n                            this.closeSession(session, () => {\n                                allSessions.delete(session);\n                            });\n                        }\n                    }\n                }\n                /* After the grace time ends, send another goaway to all remaining sessions\n                 * with the CANCEL code. */\n                (_c = (_b = setTimeout(() => {\n                    for (const session of allSessions) {\n                        session.destroy(http2.constants.NGHTTP2_CANCEL);\n                    }\n                }, graceTimeMs)).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n            }\n            forceShutdown() {\n                for (const boundPortObject of this.boundPorts.values()) {\n                    boundPortObject.cancelled = true;\n                }\n                this.boundPorts.clear();\n                // Close the server if it is still running.\n                for (const server of this.http2Servers.keys()) {\n                    this.closeServer(server);\n                }\n                // Always destroy any available sessions. It's possible that one or more\n                // tryShutdown() calls are in progress. Don't wait on them to finish.\n                this.sessions.forEach((channelzInfo, session) => {\n                    this.closeSession(session);\n                    // Cast NGHTTP2_CANCEL to any because TypeScript doesn't seem to\n                    // recognize destroy(code) as a valid signature.\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    session.destroy(http2.constants.NGHTTP2_CANCEL);\n                });\n                this.sessions.clear();\n                (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n                this.shutdown = true;\n            }\n            register(name, handler, serialize, deserialize, type) {\n                if (this.handlers.has(name)) {\n                    return false;\n                }\n                this.handlers.set(name, {\n                    func: handler,\n                    serialize,\n                    deserialize,\n                    type,\n                    path: name,\n                });\n                return true;\n            }\n            unregister(name) {\n                return this.handlers.delete(name);\n            }\n            /**\n             * @deprecated No longer needed as of version 1.10.x\n             */\n            start() {\n                if (this.http2Servers.size === 0 ||\n                    [...this.http2Servers.keys()].every(server => !server.listening)) {\n                    throw new Error('server must be bound in order to start');\n                }\n                if (this.started === true) {\n                    throw new Error('server is already started');\n                }\n                this.started = true;\n            }\n            tryShutdown(callback) {\n                var _b;\n                const wrappedCallback = (error) => {\n                    (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n                    callback(error);\n                };\n                let pendingChecks = 0;\n                function maybeCallback() {\n                    pendingChecks--;\n                    if (pendingChecks === 0) {\n                        wrappedCallback();\n                    }\n                }\n                this.shutdown = true;\n                for (const [serverKey, server] of this.http2Servers.entries()) {\n                    pendingChecks++;\n                    const serverString = server.channelzRef.name;\n                    this.trace('Waiting for server ' + serverString + ' to close');\n                    this.closeServer(serverKey, () => {\n                        this.trace('Server ' + serverString + ' finished closing');\n                        maybeCallback();\n                    });\n                    for (const session of server.sessions.keys()) {\n                        pendingChecks++;\n                        const sessionString = (_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress;\n                        this.trace('Waiting for session ' + sessionString + ' to close');\n                        this.closeSession(session, () => {\n                            this.trace('Session ' + sessionString + ' finished closing');\n                            maybeCallback();\n                        });\n                    }\n                }\n                if (pendingChecks === 0) {\n                    wrappedCallback();\n                }\n            }\n            addHttp2Port() {\n                throw new Error('Not yet implemented');\n            }\n            /**\n             * Get the channelz reference object for this server. The returned value is\n             * garbage if channelz is disabled for this server.\n             * @returns\n             */\n            getChannelzRef() {\n                return this.channelzRef;\n            }\n            _verifyContentType(stream, headers) {\n                const contentType = headers[http2.constants.HTTP2_HEADER_CONTENT_TYPE];\n                if (typeof contentType !== 'string' ||\n                    !contentType.startsWith('application/grpc')) {\n                    stream.respond({\n                        [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE,\n                    }, { endStream: true });\n                    return false;\n                }\n                return true;\n            }\n            _retrieveHandler(path) {\n                serverCallTrace('Received call to method ' +\n                    path +\n                    ' at address ' +\n                    this.serverAddressString);\n                const handler = this.handlers.get(path);\n                if (handler === undefined) {\n                    serverCallTrace('No handler registered for method ' +\n                        path +\n                        '. Sending UNIMPLEMENTED status.');\n                    return null;\n                }\n                return handler;\n            }\n            _respondWithError(err, stream, channelzSessionInfo = null) {\n                var _b, _c;\n                const trailersToSend = Object.assign({ 'grpc-status': (_b = err.code) !== null && _b !== void 0 ? _b : constants_1.Status.INTERNAL, 'grpc-message': err.details, [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_OK, [http2.constants.HTTP2_HEADER_CONTENT_TYPE]: 'application/grpc+proto' }, (_c = err.metadata) === null || _c === void 0 ? void 0 : _c.toHttp2Headers());\n                stream.respond(trailersToSend, { endStream: true });\n                this.callTracker.addCallFailed();\n                channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n            }\n            _channelzHandler(extraInterceptors, stream, headers) {\n                // for handling idle timeout\n                this.onStreamOpened(stream);\n                const channelzSessionInfo = this.sessions.get(stream.session);\n                this.callTracker.addCallStarted();\n                channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallStarted();\n                if (!this._verifyContentType(stream, headers)) {\n                    this.callTracker.addCallFailed();\n                    channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n                    return;\n                }\n                const path = headers[HTTP2_HEADER_PATH];\n                const handler = this._retrieveHandler(path);\n                if (!handler) {\n                    this._respondWithError(getUnimplementedStatusResponse(path), stream, channelzSessionInfo);\n                    return;\n                }\n                const callEventTracker = {\n                    addMessageSent: () => {\n                        if (channelzSessionInfo) {\n                            channelzSessionInfo.messagesSent += 1;\n                            channelzSessionInfo.lastMessageSentTimestamp = new Date();\n                        }\n                    },\n                    addMessageReceived: () => {\n                        if (channelzSessionInfo) {\n                            channelzSessionInfo.messagesReceived += 1;\n                            channelzSessionInfo.lastMessageReceivedTimestamp = new Date();\n                        }\n                    },\n                    onCallEnd: status => {\n                        if (status.code === constants_1.Status.OK) {\n                            this.callTracker.addCallSucceeded();\n                        }\n                        else {\n                            this.callTracker.addCallFailed();\n                        }\n                    },\n                    onStreamEnd: success => {\n                        if (channelzSessionInfo) {\n                            if (success) {\n                                channelzSessionInfo.streamTracker.addCallSucceeded();\n                            }\n                            else {\n                                channelzSessionInfo.streamTracker.addCallFailed();\n                            }\n                        }\n                    },\n                };\n                const call = (0, server_interceptors_1.getServerInterceptingCall)([...extraInterceptors, ...this.interceptors], stream, headers, callEventTracker, handler, this.options);\n                if (!this._runHandlerForCall(call, handler)) {\n                    this.callTracker.addCallFailed();\n                    channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n                    call.sendStatus({\n                        code: constants_1.Status.INTERNAL,\n                        details: `Unknown handler type: ${handler.type}`,\n                    });\n                }\n            }\n            _streamHandler(extraInterceptors, stream, headers) {\n                // for handling idle timeout\n                this.onStreamOpened(stream);\n                if (this._verifyContentType(stream, headers) !== true) {\n                    return;\n                }\n                const path = headers[HTTP2_HEADER_PATH];\n                const handler = this._retrieveHandler(path);\n                if (!handler) {\n                    this._respondWithError(getUnimplementedStatusResponse(path), stream, null);\n                    return;\n                }\n                const call = (0, server_interceptors_1.getServerInterceptingCall)([...extraInterceptors, ...this.interceptors], stream, headers, null, handler, this.options);\n                if (!this._runHandlerForCall(call, handler)) {\n                    call.sendStatus({\n                        code: constants_1.Status.INTERNAL,\n                        details: `Unknown handler type: ${handler.type}`,\n                    });\n                }\n            }\n            _runHandlerForCall(call, handler) {\n                const { type } = handler;\n                if (type === 'unary') {\n                    handleUnary(call, handler);\n                }\n                else if (type === 'clientStream') {\n                    handleClientStreaming(call, handler);\n                }\n                else if (type === 'serverStream') {\n                    handleServerStreaming(call, handler);\n                }\n                else if (type === 'bidi') {\n                    handleBidiStreaming(call, handler);\n                }\n                else {\n                    return false;\n                }\n                return true;\n            }\n            _setupHandlers(http2Server, extraInterceptors) {\n                if (http2Server === null) {\n                    return;\n                }\n                const serverAddress = http2Server.address();\n                let serverAddressString = 'null';\n                if (serverAddress) {\n                    if (typeof serverAddress === 'string') {\n                        serverAddressString = serverAddress;\n                    }\n                    else {\n                        serverAddressString = serverAddress.address + ':' + serverAddress.port;\n                    }\n                }\n                this.serverAddressString = serverAddressString;\n                const handler = this.channelzEnabled\n                    ? this._channelzHandler\n                    : this._streamHandler;\n                const sessionHandler = this.channelzEnabled\n                    ? this._channelzSessionHandler(http2Server)\n                    : this._sessionHandler(http2Server);\n                http2Server.on('stream', handler.bind(this, extraInterceptors));\n                http2Server.on('session', sessionHandler);\n            }\n            _sessionHandler(http2Server) {\n                return (session) => {\n                    var _b, _c;\n                    (_b = this.http2Servers.get(http2Server)) === null || _b === void 0 ? void 0 : _b.sessions.add(session);\n                    let connectionAgeTimer = null;\n                    let connectionAgeGraceTimer = null;\n                    let keepaliveTimer = null;\n                    let sessionClosedByServer = false;\n                    const idleTimeoutObj = this.enableIdleTimeout(session);\n                    if (this.maxConnectionAgeMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                        // Apply a random jitter within a +/-10% range\n                        const jitterMagnitude = this.maxConnectionAgeMs / 10;\n                        const jitter = Math.random() * jitterMagnitude * 2 - jitterMagnitude;\n                        connectionAgeTimer = setTimeout(() => {\n                            var _b, _c;\n                            sessionClosedByServer = true;\n                            this.trace('Connection dropped by max connection age: ' +\n                                ((_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress));\n                            try {\n                                session.goaway(http2.constants.NGHTTP2_NO_ERROR, ~(1 << 31), kMaxAge);\n                            }\n                            catch (e) {\n                                // The goaway can't be sent because the session is already closed\n                                session.destroy();\n                                return;\n                            }\n                            session.close();\n                            /* Allow a grace period after sending the GOAWAY before forcibly\n                             * closing the connection. */\n                            if (this.maxConnectionAgeGraceMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                                connectionAgeGraceTimer = setTimeout(() => {\n                                    session.destroy();\n                                }, this.maxConnectionAgeGraceMs);\n                                (_c = connectionAgeGraceTimer.unref) === null || _c === void 0 ? void 0 : _c.call(connectionAgeGraceTimer);\n                            }\n                        }, this.maxConnectionAgeMs + jitter);\n                        (_c = connectionAgeTimer.unref) === null || _c === void 0 ? void 0 : _c.call(connectionAgeTimer);\n                    }\n                    const clearKeepaliveTimeout = () => {\n                        if (keepaliveTimer) {\n                            clearTimeout(keepaliveTimer);\n                            keepaliveTimer = null;\n                        }\n                    };\n                    const canSendPing = () => {\n                        return (!session.destroyed &&\n                            this.keepaliveTimeMs < KEEPALIVE_MAX_TIME_MS &&\n                            this.keepaliveTimeMs > 0);\n                    };\n                    /* eslint-disable-next-line prefer-const */\n                    let sendPing; // hoisted for use in maybeStartKeepalivePingTimer\n                    const maybeStartKeepalivePingTimer = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n                        keepaliveTimer = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            sendPing();\n                        }, this.keepaliveTimeMs);\n                        (_b = keepaliveTimer.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimer);\n                    };\n                    sendPing = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n                        let pingSendError = '';\n                        try {\n                            const pingSentSuccessfully = session.ping((err, duration, payload) => {\n                                clearKeepaliveTimeout();\n                                if (err) {\n                                    this.keepaliveTrace('Ping failed with error: ' + err.message);\n                                    sessionClosedByServer = true;\n                                    session.close();\n                                }\n                                else {\n                                    this.keepaliveTrace('Received ping response');\n                                    maybeStartKeepalivePingTimer();\n                                }\n                            });\n                            if (!pingSentSuccessfully) {\n                                pingSendError = 'Ping returned false';\n                            }\n                        }\n                        catch (e) {\n                            // grpc/grpc-node#2139\n                            pingSendError =\n                                (e instanceof Error ? e.message : '') || 'Unknown error';\n                        }\n                        if (pingSendError) {\n                            this.keepaliveTrace('Ping send failed: ' + pingSendError);\n                            this.trace('Connection dropped due to ping send error: ' + pingSendError);\n                            sessionClosedByServer = true;\n                            session.close();\n                            return;\n                        }\n                        keepaliveTimer = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            this.keepaliveTrace('Ping timeout passed without response');\n                            this.trace('Connection dropped by keepalive timeout');\n                            sessionClosedByServer = true;\n                            session.close();\n                        }, this.keepaliveTimeoutMs);\n                        (_b = keepaliveTimer.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimer);\n                    };\n                    maybeStartKeepalivePingTimer();\n                    session.on('close', () => {\n                        var _b, _c;\n                        if (!sessionClosedByServer) {\n                            this.trace(`Connection dropped by client ${(_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress}`);\n                        }\n                        if (connectionAgeTimer) {\n                            clearTimeout(connectionAgeTimer);\n                        }\n                        if (connectionAgeGraceTimer) {\n                            clearTimeout(connectionAgeGraceTimer);\n                        }\n                        clearKeepaliveTimeout();\n                        if (idleTimeoutObj !== null) {\n                            clearTimeout(idleTimeoutObj.timeout);\n                            this.sessionIdleTimeouts.delete(session);\n                        }\n                        (_c = this.http2Servers.get(http2Server)) === null || _c === void 0 ? void 0 : _c.sessions.delete(session);\n                    });\n                };\n            }\n            _channelzSessionHandler(http2Server) {\n                return (session) => {\n                    var _b, _c, _d, _e;\n                    const channelzRef = (0, channelz_1.registerChannelzSocket)((_c = (_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress) !== null && _c !== void 0 ? _c : 'unknown', this.getChannelzSessionInfo.bind(this, session), this.channelzEnabled);\n                    const channelzSessionInfo = {\n                        ref: channelzRef,\n                        streamTracker: new channelz_1.ChannelzCallTracker(),\n                        messagesSent: 0,\n                        messagesReceived: 0,\n                        keepAlivesSent: 0,\n                        lastMessageSentTimestamp: null,\n                        lastMessageReceivedTimestamp: null,\n                    };\n                    (_d = this.http2Servers.get(http2Server)) === null || _d === void 0 ? void 0 : _d.sessions.add(session);\n                    this.sessions.set(session, channelzSessionInfo);\n                    const clientAddress = `${session.socket.remoteAddress}:${session.socket.remotePort}`;\n                    this.channelzTrace.addTrace('CT_INFO', 'Connection established by client ' + clientAddress);\n                    this.trace('Connection established by client ' + clientAddress);\n                    this.sessionChildrenTracker.refChild(channelzRef);\n                    let connectionAgeTimer = null;\n                    let connectionAgeGraceTimer = null;\n                    let keepaliveTimeout = null;\n                    let sessionClosedByServer = false;\n                    const idleTimeoutObj = this.enableIdleTimeout(session);\n                    if (this.maxConnectionAgeMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                        // Apply a random jitter within a +/-10% range\n                        const jitterMagnitude = this.maxConnectionAgeMs / 10;\n                        const jitter = Math.random() * jitterMagnitude * 2 - jitterMagnitude;\n                        connectionAgeTimer = setTimeout(() => {\n                            var _b;\n                            sessionClosedByServer = true;\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by max connection age from ' + clientAddress);\n                            try {\n                                session.goaway(http2.constants.NGHTTP2_NO_ERROR, ~(1 << 31), kMaxAge);\n                            }\n                            catch (e) {\n                                // The goaway can't be sent because the session is already closed\n                                session.destroy();\n                                return;\n                            }\n                            session.close();\n                            /* Allow a grace period after sending the GOAWAY before forcibly\n                             * closing the connection. */\n                            if (this.maxConnectionAgeGraceMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                                connectionAgeGraceTimer = setTimeout(() => {\n                                    session.destroy();\n                                }, this.maxConnectionAgeGraceMs);\n                                (_b = connectionAgeGraceTimer.unref) === null || _b === void 0 ? void 0 : _b.call(connectionAgeGraceTimer);\n                            }\n                        }, this.maxConnectionAgeMs + jitter);\n                        (_e = connectionAgeTimer.unref) === null || _e === void 0 ? void 0 : _e.call(connectionAgeTimer);\n                    }\n                    const clearKeepaliveTimeout = () => {\n                        if (keepaliveTimeout) {\n                            clearTimeout(keepaliveTimeout);\n                            keepaliveTimeout = null;\n                        }\n                    };\n                    const canSendPing = () => {\n                        return (!session.destroyed &&\n                            this.keepaliveTimeMs < KEEPALIVE_MAX_TIME_MS &&\n                            this.keepaliveTimeMs > 0);\n                    };\n                    /* eslint-disable-next-line prefer-const */\n                    let sendPing; // hoisted for use in maybeStartKeepalivePingTimer\n                    const maybeStartKeepalivePingTimer = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n                        keepaliveTimeout = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            sendPing();\n                        }, this.keepaliveTimeMs);\n                        (_b = keepaliveTimeout.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimeout);\n                    };\n                    sendPing = () => {\n                        var _b;\n                        if (!canSendPing()) {\n                            return;\n                        }\n                        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n                        let pingSendError = '';\n                        try {\n                            const pingSentSuccessfully = session.ping((err, duration, payload) => {\n                                clearKeepaliveTimeout();\n                                if (err) {\n                                    this.keepaliveTrace('Ping failed with error: ' + err.message);\n                                    this.channelzTrace.addTrace('CT_INFO', 'Connection dropped due to error of a ping frame ' +\n                                        err.message +\n                                        ' return in ' +\n                                        duration);\n                                    sessionClosedByServer = true;\n                                    session.close();\n                                }\n                                else {\n                                    this.keepaliveTrace('Received ping response');\n                                    maybeStartKeepalivePingTimer();\n                                }\n                            });\n                            if (!pingSentSuccessfully) {\n                                pingSendError = 'Ping returned false';\n                            }\n                        }\n                        catch (e) {\n                            // grpc/grpc-node#2139\n                            pingSendError =\n                                (e instanceof Error ? e.message : '') || 'Unknown error';\n                        }\n                        if (pingSendError) {\n                            this.keepaliveTrace('Ping send failed: ' + pingSendError);\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped due to ping send error: ' + pingSendError);\n                            sessionClosedByServer = true;\n                            session.close();\n                            return;\n                        }\n                        channelzSessionInfo.keepAlivesSent += 1;\n                        keepaliveTimeout = setTimeout(() => {\n                            clearKeepaliveTimeout();\n                            this.keepaliveTrace('Ping timeout passed without response');\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by keepalive timeout from ' + clientAddress);\n                            sessionClosedByServer = true;\n                            session.close();\n                        }, this.keepaliveTimeoutMs);\n                        (_b = keepaliveTimeout.unref) === null || _b === void 0 ? void 0 : _b.call(keepaliveTimeout);\n                    };\n                    maybeStartKeepalivePingTimer();\n                    session.on('close', () => {\n                        var _b;\n                        if (!sessionClosedByServer) {\n                            this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by client ' + clientAddress);\n                        }\n                        this.sessionChildrenTracker.unrefChild(channelzRef);\n                        (0, channelz_1.unregisterChannelzRef)(channelzRef);\n                        if (connectionAgeTimer) {\n                            clearTimeout(connectionAgeTimer);\n                        }\n                        if (connectionAgeGraceTimer) {\n                            clearTimeout(connectionAgeGraceTimer);\n                        }\n                        clearKeepaliveTimeout();\n                        if (idleTimeoutObj !== null) {\n                            clearTimeout(idleTimeoutObj.timeout);\n                            this.sessionIdleTimeouts.delete(session);\n                        }\n                        (_b = this.http2Servers.get(http2Server)) === null || _b === void 0 ? void 0 : _b.sessions.delete(session);\n                        this.sessions.delete(session);\n                    });\n                };\n            }\n            enableIdleTimeout(session) {\n                var _b, _c;\n                if (this.sessionIdleTimeout >= MAX_CONNECTION_IDLE_MS) {\n                    return null;\n                }\n                const idleTimeoutObj = {\n                    activeStreams: 0,\n                    lastIdle: Date.now(),\n                    onClose: this.onStreamClose.bind(this, session),\n                    timeout: setTimeout(this.onIdleTimeout, this.sessionIdleTimeout, this, session),\n                };\n                (_c = (_b = idleTimeoutObj.timeout).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n                this.sessionIdleTimeouts.set(session, idleTimeoutObj);\n                const { socket } = session;\n                this.trace('Enable idle timeout for ' +\n                    socket.remoteAddress +\n                    ':' +\n                    socket.remotePort);\n                return idleTimeoutObj;\n            }\n            onIdleTimeout(ctx, session) {\n                const { socket } = session;\n                const sessionInfo = ctx.sessionIdleTimeouts.get(session);\n                // if it is called while we have activeStreams - timer will not be rescheduled\n                // until last active stream is closed, then it will call .refresh() on the timer\n                // important part is to not clearTimeout(timer) or it becomes unusable\n                // for future refreshes\n                if (sessionInfo !== undefined &&\n                    sessionInfo.activeStreams === 0) {\n                    if (Date.now() - sessionInfo.lastIdle >= ctx.sessionIdleTimeout) {\n                        ctx.trace('Session idle timeout triggered for ' +\n                            (socket === null || socket === void 0 ? void 0 : socket.remoteAddress) +\n                            ':' +\n                            (socket === null || socket === void 0 ? void 0 : socket.remotePort) +\n                            ' last idle at ' +\n                            sessionInfo.lastIdle);\n                        ctx.closeSession(session);\n                    }\n                    else {\n                        sessionInfo.timeout.refresh();\n                    }\n                }\n            }\n            onStreamOpened(stream) {\n                const session = stream.session;\n                const idleTimeoutObj = this.sessionIdleTimeouts.get(session);\n                if (idleTimeoutObj) {\n                    idleTimeoutObj.activeStreams += 1;\n                    stream.once('close', idleTimeoutObj.onClose);\n                }\n            }\n            onStreamClose(session) {\n                var _b, _c;\n                const idleTimeoutObj = this.sessionIdleTimeouts.get(session);\n                if (idleTimeoutObj) {\n                    idleTimeoutObj.activeStreams -= 1;\n                    if (idleTimeoutObj.activeStreams === 0) {\n                        idleTimeoutObj.lastIdle = Date.now();\n                        idleTimeoutObj.timeout.refresh();\n                        this.trace('Session onStreamClose' +\n                            ((_b = session.socket) === null || _b === void 0 ? void 0 : _b.remoteAddress) +\n                            ':' +\n                            ((_c = session.socket) === null || _c === void 0 ? void 0 : _c.remotePort) +\n                            ' at ' +\n                            idleTimeoutObj.lastIdle);\n                    }\n                }\n            }\n        },\n        (() => {\n            const _metadata = typeof Symbol === \"function\" && Symbol.metadata ? Object.create(null) : void 0;\n            _start_decorators = [deprecate('Calling start() is no longer necessary. It can be safely omitted.')];\n            __esDecorate(_a, null, _start_decorators, { kind: \"method\", name: \"start\", static: false, private: false, access: { has: obj => \"start\" in obj, get: obj => obj.start }, metadata: _metadata }, null, _instanceExtraInitializers);\n            if (_metadata) Object.defineProperty(_a, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });\n        })(),\n        _a;\n})();\nexports.Server = Server;\nasync function handleUnary(call, handler) {\n    let stream;\n    function respond(err, value, trailer, flags) {\n        if (err) {\n            call.sendStatus((0, server_call_1.serverErrorToStatus)(err, trailer));\n            return;\n        }\n        call.sendMessage(value, () => {\n            call.sendStatus({\n                code: constants_1.Status.OK,\n                details: 'OK',\n                metadata: trailer !== null && trailer !== void 0 ? trailer : null,\n            });\n        });\n    }\n    let requestMetadata;\n    let requestMessage = null;\n    call.start({\n        onReceiveMetadata(metadata) {\n            requestMetadata = metadata;\n            call.startRead();\n        },\n        onReceiveMessage(message) {\n            if (requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received a second request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            requestMessage = message;\n            call.startRead();\n        },\n        onReceiveHalfClose() {\n            if (!requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received no request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            stream = new server_call_1.ServerWritableStreamImpl(handler.path, call, requestMetadata, requestMessage);\n            try {\n                handler.func(stream, respond);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n            }\n        },\n    });\n}\nfunction handleClientStreaming(call, handler) {\n    let stream;\n    function respond(err, value, trailer, flags) {\n        if (err) {\n            call.sendStatus((0, server_call_1.serverErrorToStatus)(err, trailer));\n            return;\n        }\n        call.sendMessage(value, () => {\n            call.sendStatus({\n                code: constants_1.Status.OK,\n                details: 'OK',\n                metadata: trailer !== null && trailer !== void 0 ? trailer : null,\n            });\n        });\n    }\n    call.start({\n        onReceiveMetadata(metadata) {\n            stream = new server_call_1.ServerDuplexStreamImpl(handler.path, call, metadata);\n            try {\n                handler.func(stream, respond);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onReceiveMessage(message) {\n            stream.push(message);\n        },\n        onReceiveHalfClose() {\n            stream.push(null);\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n                stream.destroy();\n            }\n        },\n    });\n}\nfunction handleServerStreaming(call, handler) {\n    let stream;\n    let requestMetadata;\n    let requestMessage = null;\n    call.start({\n        onReceiveMetadata(metadata) {\n            requestMetadata = metadata;\n            call.startRead();\n        },\n        onReceiveMessage(message) {\n            if (requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received a second request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            requestMessage = message;\n            call.startRead();\n        },\n        onReceiveHalfClose() {\n            if (!requestMessage) {\n                call.sendStatus({\n                    code: constants_1.Status.UNIMPLEMENTED,\n                    details: `Received no request message for server streaming method ${handler.path}`,\n                    metadata: null,\n                });\n                return;\n            }\n            stream = new server_call_1.ServerWritableStreamImpl(handler.path, call, requestMetadata, requestMessage);\n            try {\n                handler.func(stream);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n                stream.destroy();\n            }\n        },\n    });\n}\nfunction handleBidiStreaming(call, handler) {\n    let stream;\n    call.start({\n        onReceiveMetadata(metadata) {\n            stream = new server_call_1.ServerDuplexStreamImpl(handler.path, call, metadata);\n            try {\n                handler.func(stream);\n            }\n            catch (err) {\n                call.sendStatus({\n                    code: constants_1.Status.UNKNOWN,\n                    details: `Server method handler threw error ${err.message}`,\n                    metadata: null,\n                });\n            }\n        },\n        onReceiveMessage(message) {\n            stream.push(message);\n        },\n        onReceiveHalfClose() {\n            stream.push(null);\n        },\n        onCancel() {\n            if (stream) {\n                stream.cancelled = true;\n                stream.emit('cancelled', 'cancelled');\n                stream.destroy();\n            }\n        },\n    });\n}\n//# sourceMappingURL=server.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlCQUF5QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVGQUF1RjtBQUNoSDtBQUNBO0FBQ0EsMkdBQTJHO0FBQzNHO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSxnREFBZ0QseUZBQXlGO0FBQ3pJLGdFQUFnRSwyQ0FBMkM7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCxjQUFjLG1CQUFPLENBQUMsb0JBQU87QUFDN0IsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLHNCQUFzQixtQkFBTyxDQUFDLDBHQUFlO0FBQzdDLDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRCxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQyxrR0FBVztBQUNuQyw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QscUJBQXFCLG1CQUFPLENBQUMsd0dBQWM7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsOEJBQThCLG1CQUFPLENBQUMsMEhBQXVCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvQkFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsV0FBVztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxZQUFZO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsWUFBWTtBQUMxRTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEcscUVBQXFFLCtEQUErRDtBQUM5TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELHdCQUF3QixpRUFBaUU7QUFDdEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsa0JBQWtCLCtCQUErQixvQkFBb0I7QUFDeEo7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsb0JBQW9CO0FBQzdGO0FBQ0EsdUNBQXVDLGFBQWEsV0FBVyw0QkFBNEI7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsS0FBSztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELEtBQUs7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLEtBQUs7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxNQUFNO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxxQ0FBcUM7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsSUFBSSxpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx3UUFBd1E7QUFDL1QsaURBQWlELGlCQUFpQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGFBQWE7QUFDdkUscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxhQUFhO0FBQ3ZFLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsNEVBQTRFO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkJBQTZCLEdBQUcsMEJBQTBCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixTQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCx3RUFBd0UsbURBQW1ELHVCQUF1QjtBQUMxTSx3RUFBd0Usd0VBQXdFO0FBQ2hKLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRCxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhGQUE4RixhQUFhO0FBQzNHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLGFBQWE7QUFDckc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFlBQVk7QUFDOUU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFlBQVk7QUFDOUU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLGFBQWE7QUFDM0c7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0YsYUFBYTtBQUNyRztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsWUFBWTtBQUM5RTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxZQUFZO0FBQzlFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLmpzPzMzNmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX3J1bkluaXRpYWxpemVycyA9ICh0aGlzICYmIHRoaXMuX19ydW5Jbml0aWFsaXplcnMpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gICAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICAgIH1cbiAgICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG52YXIgX19lc0RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2VzRGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICAgIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICAgIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gICAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gICAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIGRvbmUgPSB0cnVlO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VydmVyID0gdm9pZCAwO1xuY29uc3QgaHR0cDIgPSByZXF1aXJlKFwiaHR0cDJcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHNlcnZlcl9jYWxsXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItY2FsbFwiKTtcbmNvbnN0IHNlcnZlcl9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vc2VydmVyLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBjaGFubmVsel8xID0gcmVxdWlyZShcIi4vY2hhbm5lbHpcIik7XG5jb25zdCBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItaW50ZXJjZXB0b3JzXCIpO1xuY29uc3QgVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TID0gfigxIDw8IDMxKTtcbmNvbnN0IEtFRVBBTElWRV9NQVhfVElNRV9NUyA9IH4oMSA8PCAzMSk7XG5jb25zdCBLRUVQQUxJVkVfVElNRU9VVF9NUyA9IDIwMDAwO1xuY29uc3QgTUFYX0NPTk5FQ1RJT05fSURMRV9NUyA9IH4oMSA8PCAzMSk7XG5jb25zdCB7IEhUVFAyX0hFQURFUl9QQVRIIH0gPSBodHRwMi5jb25zdGFudHM7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdzZXJ2ZXInO1xuY29uc3Qga01heEFnZSA9IEJ1ZmZlci5mcm9tKCdtYXhfYWdlJyk7XG5mdW5jdGlvbiBzZXJ2ZXJDYWxsVHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAnc2VydmVyX2NhbGwnLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbi8qKlxuICogRGVjb3JhdG9yIHRvIHdyYXAgYSBjbGFzcyBtZXRob2Qgd2l0aCB1dGlsLmRlcHJlY2F0ZVxuICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gb3V0cHV0IGlmIHRoZSBkZXByZWNhdGVkIG1ldGhvZCBpcyBjYWxsZWRcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWwuZGVwcmVjYXRlKHRhcmdldCwgbWVzc2FnZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShtZXRob2ROYW1lKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgIGRldGFpbHM6IGBUaGUgc2VydmVyIGRvZXMgbm90IGltcGxlbWVudCB0aGUgbWV0aG9kICR7bWV0aG9kTmFtZX1gLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0SGFuZGxlcihoYW5kbGVyVHlwZSwgbWV0aG9kTmFtZSkge1xuICAgIGNvbnN0IHVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZSA9IGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShtZXRob2ROYW1lKTtcbiAgICBzd2l0Y2ggKGhhbmRsZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3VuYXJ5JzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnY2xpZW50U3RyZWFtJzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UsIG51bGwpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnc2VydmVyU3RyZWFtJzpcbiAgICAgICAgICAgIHJldHVybiAoY2FsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGwuZW1pdCgnZXJyb3InLCB1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnYmlkaSc6XG4gICAgICAgICAgICByZXR1cm4gKGNhbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsLmVtaXQoJ2Vycm9yJywgdW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaGFuZGxlclR5cGUgJHtoYW5kbGVyVHlwZX1gKTtcbiAgICB9XG59XG5sZXQgU2VydmVyID0gKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IF9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzID0gW107XG4gICAgbGV0IF9zdGFydF9kZWNvcmF0b3JzO1xuICAgIHJldHVybiBfYSA9IGNsYXNzIFNlcnZlciB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzID0gKF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXMsIF9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzKSwgbmV3IE1hcCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmh0dHAyU2VydmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoaXMgZmllbGQgb25seSBleGlzdHMgdG8gZW5zdXJlIHRoYXQgdGhlIHN0YXJ0IG1ldGhvZCB0aHJvd3MgYW4gZXJyb3IgaWZcbiAgICAgICAgICAgICAgICAgKiBpdCBpcyBjYWxsZWQgdHdpY2UsIGFzIGl0IGRpZCBwcmV2aW91c2x5LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2h1dGRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckFkZHJlc3NTdHJpbmcgPSAnbnVsbCc7XG4gICAgICAgICAgICAgICAgLy8gQ2hhbm5lbHogSW5mb1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2VTdHViKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpUcmFjZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uQ2hpbGRyZW5UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTZXJ2ZXIpKCdzZXJ2ZXInLCAoKSA9PiB0aGlzLmdldENoYW5uZWx6SW5mbygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ1NlcnZlciBjcmVhdGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgPVxuICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLm9wdGlvbnNbJ2dycGMubWF4X2Nvbm5lY3Rpb25fYWdlX21zJ10pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUztcbiAgICAgICAgICAgICAgICB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zID1cbiAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5vcHRpb25zWydncnBjLm1heF9jb25uZWN0aW9uX2FnZV9ncmFjZV9tcyddKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVM7XG4gICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPVxuICAgICAgICAgICAgICAgICAgICAoX2QgPSB0aGlzLm9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogS0VFUEFMSVZFX01BWF9USU1FX01TO1xuICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZW91dE1zID1cbiAgICAgICAgICAgICAgICAgICAgKF9lID0gdGhpcy5vcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJ10pICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IEtFRVBBTElWRV9USU1FT1VUX01TO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbklkbGVUaW1lb3V0ID1cbiAgICAgICAgICAgICAgICAgICAgKF9mID0gdGhpcy5vcHRpb25zWydncnBjLm1heF9jb25uZWN0aW9uX2lkbGVfbXMnXSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogTUFYX0NPTk5FQ1RJT05fSURMRV9NUztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFNlbmRIZWFkZXJCbG9ja0xlbmd0aDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoJ2dycGMtbm9kZS5tYXhfc2Vzc2lvbl9tZW1vcnknIGluIHRoaXMub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbJ2dycGMtbm9kZS5tYXhfc2Vzc2lvbl9tZW1vcnknXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIEJ5IGRlZmF1bHQsIHNldCBhIHZlcnkgbGFyZ2UgbWF4IHNlc3Npb24gbWVtb3J5IGxpbWl0LCB0byBlZmZlY3RpdmVseVxuICAgICAgICAgICAgICAgICAgICAgKiBkaXNhYmxlIGVuZm9yY2VtZW50IG9mIHRoZSBsaW1pdC4gU29tZSB0ZXN0aW5nIGluZGljYXRlcyB0aGF0IE5vZGUnc1xuICAgICAgICAgICAgICAgICAgICAgKiBiZWhhdmlvciBkZWdyYWRlcyBiYWRseSB3aGVuIHRoaXMgbGltaXQgaXMgcmVhY2hlZCwgc28gd2Ugc29sdmUgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgKiBieSBkaXNhYmxpbmcgdGhlIGNoZWNrIGVudGlyZWx5LiAqL1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMubWF4U2Vzc2lvbk1lbW9yeSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJ2dycGMubWF4X2NvbmN1cnJlbnRfc3RyZWFtcycgaW4gdGhpcy5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uU2VydmVyT3B0aW9ucy5zZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbmN1cnJlbnRTdHJlYW1zOiB0aGlzLm9wdGlvbnNbJ2dycGMubWF4X2NvbmN1cnJlbnRfc3RyZWFtcyddLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmludGVyY2VwdG9ycyA9IChfZyA9IHRoaXMub3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1NlcnZlciBjb25zdHJ1Y3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0Q2hhbm5lbHpJbmZvKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlOiB0aGlzLmNoYW5uZWx6VHJhY2UsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxUcmFja2VyOiB0aGlzLmNhbGxUcmFja2VyLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lckNoaWxkcmVuOiB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKSxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNoaWxkcmVuOiB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRDaGFubmVselNlc3Npb25JbmZvKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSW5mbyA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Tb2NrZXQgPSBzZXNzaW9uLnNvY2tldDtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdGVBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQucmVtb3RlQWRkcmVzcywgc2Vzc2lvblNvY2tldC5yZW1vdGVQb3J0KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgPyAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcykoc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3MsIHNlc3Npb25Tb2NrZXQubG9jYWxQb3J0KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IHRsc0luZm87XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRsc1NvY2tldCA9IHNlc3Npb25Tb2NrZXQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNpcGhlckluZm8gPSB0bHNTb2NrZXQuZ2V0Q2lwaGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlcnRpZmljYXRlID0gdGxzU29ja2V0LmdldENlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlZXJDZXJ0aWZpY2F0ZSA9IHRsc1NvY2tldC5nZXRQZWVyQ2VydGlmaWNhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGxzSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlU3RhbmRhcmROYW1lOiAoX2IgPSBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlT3RoZXJOYW1lOiBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSA/IG51bGwgOiBjaXBoZXJJbmZvLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbENlcnRpZmljYXRlOiBjZXJ0aWZpY2F0ZSAmJiAncmF3JyBpbiBjZXJ0aWZpY2F0ZSA/IGNlcnRpZmljYXRlLnJhdyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVDZXJ0aWZpY2F0ZTogcGVlckNlcnRpZmljYXRlICYmICdyYXcnIGluIHBlZXJDZXJ0aWZpY2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcGVlckNlcnRpZmljYXRlLnJhd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRsc0luZm8gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXRJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzOiByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbEFkZHJlc3M6IGxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHk6IHRsc0luZm8sXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZU5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiBzZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmNhbGxzU3RhcnRlZCxcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N1Y2NlZWRlZDogc2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogc2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5jYWxsc0ZhaWxlZCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiBzZXNzaW9uSW5mby5tZXNzYWdlc1NlbnQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IHNlc3Npb25JbmZvLm1lc3NhZ2VzUmVjZWl2ZWQsXG4gICAgICAgICAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiBzZXNzaW9uSW5mby5rZWVwQWxpdmVzU2VudCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IHNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IHNlc3Npb25JbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogc2Vzc2lvbkluZm8ubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxGbG93Q29udHJvbFdpbmRvdzogKF9jID0gc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiAoX2QgPSBzZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc29ja2V0SW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICcoJyArIHRoaXMuY2hhbm5lbHpSZWYuaWQgKyAnKSAnICsgdGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBrZWVwYWxpdmVUcmFjZSh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdrZWVwYWxpdmUnLCAnKCcgKyB0aGlzLmNoYW5uZWx6UmVmLmlkICsgJykgJyArIHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkUHJvdG9TZXJ2aWNlKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLiBVc2UgYWRkU2VydmljZSgpIGluc3RlYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFNlcnZpY2Uoc2VydmljZSwgaW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZSA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygc2VydmljZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGltcGxlbWVudGF0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZFNlcnZpY2UoKSByZXF1aXJlcyB0d28gb2JqZWN0cyBhcyBhcmd1bWVudHMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZUtleXMgPSBPYmplY3Qua2V5cyhzZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZUtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBhbiBlbXB0eSBzZXJ2aWNlIHRvIGEgc2VydmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlcnZpY2VLZXlzLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJzID0gc2VydmljZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGhvZFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5yZXF1ZXN0U3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMucmVzcG9uc2VTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ2JpZGknO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdjbGllbnRTdHJlYW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdzZXJ2ZXJTdHJlYW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICd1bmFyeSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGltcGxGbiA9IGltcGxlbWVudGF0aW9uW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW1wbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltcGxGbiA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBhdHRycy5vcmlnaW5hbE5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBsRm4gPSBpbXBsZW1lbnRhdGlvblthdHRycy5vcmlnaW5hbE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbXBsRm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1wbCA9IGltcGxGbi5iaW5kKGltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcGwgPSBnZXREZWZhdWx0SGFuZGxlcihtZXRob2RUeXBlLCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gdGhpcy5yZWdpc3RlcihhdHRycy5wYXRoLCBpbXBsLCBhdHRycy5yZXNwb25zZVNlcmlhbGl6ZSwgYXR0cnMucmVxdWVzdERlc2VyaWFsaXplLCBtZXRob2RUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1ldGhvZCBoYW5kbGVyIGZvciAke2F0dHJzLnBhdGh9IGFscmVhZHkgcHJvdmlkZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZVNlcnZpY2Uoc2VydmljZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlID09PSBudWxsIHx8IHR5cGVvZiBzZXJ2aWNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlbW92ZVNlcnZpY2UoKSByZXF1aXJlcyBvYmplY3QgYXMgYXJndW1lbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljZUtleXMgPSBPYmplY3Qua2V5cyhzZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlS2V5cy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IHNlcnZpY2VbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlcihhdHRycy5wYXRoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmQocG9ydCwgY3JlZHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gVXNlIGJpbmRBc3luYygpIGluc3RlYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhpcyBBUEkgaXMgZXhwZXJpbWVudGFsLCBzbyBBUEkgc3RhYmlsaXR5IGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBtaW5vciB2ZXJzaW9ucy5cbiAgICAgICAgICAgICAqIEBwYXJhbSBib3VuZEFkZHJlc3NcbiAgICAgICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbFJlZ2lzdGVyTGlzdGVuZXJUb0NoYW5uZWx6KGJvdW5kQWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYm91bmRBZGRyZXNzKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBib3VuZEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N0YXJ0ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3VjY2VlZGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmVtb3RlU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlRmxvd0NvbnRyb2xXaW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwZXJpbWVudGFsVW5yZWdpc3Rlckxpc3RlbmVyRnJvbUNoYW5uZWx6KGNoYW5uZWx6UmVmKSB7XG4gICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShjaGFubmVselJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVhdGVIdHRwMlNlcnZlcihjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGxldCBodHRwMlNlcnZlcjtcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMuX2lzU2VjdXJlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JPcHRpb25zID0gY3JlZGVudGlhbHMuX2dldENvbnN0cnVjdG9yT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0T3B0aW9ucyA9IGNyZWRlbnRpYWxzLl9nZXRTZWN1cmVDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN1cmVTZXJ2ZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zKSwgY29uc3RydWN0b3JPcHRpb25zKSwgY29udGV4dE9wdGlvbnMpLCB7IGVuYWJsZVRyYWNlOiB0aGlzLm9wdGlvbnNbJ2dycGMtbm9kZS50bHNfZW5hYmxlX3RyYWNlJ10gPT09IDEgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhcmVDcmVkZW50aWFsc1ZhbGlkID0gY29udGV4dE9wdGlvbnMgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0luaXRpYWwgY3JlZGVudGlhbHMgdmFsaWQ6ICcgKyBhcmVDcmVkZW50aWFsc1ZhbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIgPSBodHRwMi5jcmVhdGVTZWN1cmVTZXJ2ZXIoc2VjdXJlU2VydmVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLnByZXBlbmRMaXN0ZW5lcignY29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJlQ3JlZGVudGlhbHNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0Ryb3BwZWQgY29ubmVjdGlvbiBmcm9tICcgKyBKU09OLnN0cmluZ2lmeShzb2NrZXQuYWRkcmVzcygpKSArICcgZHVlIHRvIHVubG9hZGVkIGNyZWRlbnRpYWxzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdzZWN1cmVDb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhlc2UgZXJyb3JzIG5lZWQgdG8gYmUgaGFuZGxlZCBieSB0aGUgdXNlciBvZiBIdHRwMlNlY3VyZVNlcnZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGFjY29yZGluZyB0byBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzM1ODI0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdBbiBpbmNvbWluZyBUTFMgY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvcjogJyArIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWRzV2F0Y2hlciA9IG9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN1cmVTZXJ2ZXIgPSBodHRwMlNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN1cmVTZXJ2ZXIuc2V0U2VjdXJlQ29udGV4dChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIHNldCBzZWN1cmUgY29udGV4dCB3aXRoIGVycm9yICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVDcmVkZW50aWFsc1ZhbGlkID0gb3B0aW9ucyAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1Bvc3QtdXBkYXRlIGNyZWRlbnRpYWxzIHZhbGlkOiAnICsgYXJlQ3JlZGVudGlhbHNWYWxpZCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLl9hZGRXYXRjaGVyKGNyZWRzV2F0Y2hlcik7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzLl9yZW1vdmVXYXRjaGVyKGNyZWRzV2F0Y2hlcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIgPSBodHRwMi5jcmVhdGVTZXJ2ZXIodGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIuc2V0VGltZW91dCgwLCBub29wKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR1cEhhbmRsZXJzKGh0dHAyU2VydmVyLCBjcmVkZW50aWFscy5fZ2V0SW50ZXJjZXB0b3JzKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBodHRwMlNlcnZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmRPbmVBZGRyZXNzKGFkZHJlc3MsIGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0F0dGVtcHRpbmcgdG8gYmluZCAnICsgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBodHRwMlNlcnZlciA9IHRoaXMuY3JlYXRlSHR0cDJTZXJ2ZXIoYm91bmRQb3J0T2JqZWN0LmNyZWRlbnRpYWxzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRmFpbGVkIHRvIGJpbmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGFkZHJlc3MpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogJ3BvcnQnIGluIGFkZHJlc3MgPyBhZGRyZXNzLnBvcnQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbmNlKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5saXN0ZW4oYWRkcmVzcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm91bmRBZGRyZXNzID0gaHR0cDJTZXJ2ZXIuYWRkcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvdW5kU3ViY2hhbm5lbEFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJvdW5kQWRkcmVzcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFN1YmNoYW5uZWxBZGRyZXNzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBib3VuZEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IGJvdW5kQWRkcmVzcy5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiBib3VuZEFkZHJlc3MucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSB0aGlzLmV4cGVyaW1lbnRhbFJlZ2lzdGVyTGlzdGVuZXJUb0NoYW5uZWx6KGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmh0dHAyU2VydmVycy5zZXQoaHR0cDJTZXJ2ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselJlZjogY2hhbm5lbHpSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbnM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25zQ2hhbm5lbHpSZWY6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0Lmxpc3RlbmluZ1NlcnZlcnMuYWRkKGh0dHAyU2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1N1Y2Nlc3NmdWxseSBib3VuZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYm91bmRTdWJjaGFubmVsQWRkcmVzcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogJ3BvcnQnIGluIGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MgPyBib3VuZFN1YmNoYW5uZWxBZGRyZXNzLnBvcnQgOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBiaW5kTWFueVBvcnRzKGFkZHJlc3NMaXN0LCBib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3NMaXN0WzBdKSAmJiBhZGRyZXNzTGlzdFswXS5wb3J0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIElmIGJpbmRpbmcgdG8gcG9ydCAwLCBmaXJzdCB0cnkgdG8gYmluZCB0aGUgZmlyc3QgYWRkcmVzcywgdGhlbiBiaW5kXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZSByZXN0IG9mIHRoZSBhZGRyZXNzIGxpc3QgdG8gdGhlIHNwZWNpZmljIHBvcnQgdGhhdCBpdCBiaW5kcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RBZGRyZXNzUmVzdWx0ID0gYXdhaXQgdGhpcy5iaW5kT25lQWRkcmVzcyhhZGRyZXNzTGlzdFswXSwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0QWRkcmVzc1Jlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhlIGZpcnN0IGFkZHJlc3MgZmFpbHMgdG8gYmluZCwgdHJ5IHRoZSBzYW1lIG9wZXJhdGlvbiBzdGFydGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogZnJvbSB0aGUgc2Vjb25kIGl0ZW0gaW4gdGhlIGxpc3QuICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0QWRkcmVzc1Jlc3VsdCA9IGF3YWl0IHRoaXMuYmluZE1hbnlQb3J0cyhhZGRyZXNzTGlzdC5zbGljZSgxKSwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3RBZGRyZXNzUmVzdWx0KSwgeyBlcnJvcnM6IFtmaXJzdEFkZHJlc3NSZXN1bHQuZXJyb3IsIC4uLnJlc3RBZGRyZXNzUmVzdWx0LmVycm9yc10gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0QWRkcmVzc2VzID0gYWRkcmVzc0xpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGFkZHJlc3MgPT4gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGhvc3Q6IGFkZHJlc3MuaG9zdCwgcG9ydDogZmlyc3RBZGRyZXNzUmVzdWx0LnBvcnQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN0QWRkcmVzc1Jlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKHJlc3RBZGRyZXNzZXMubWFwKGFkZHJlc3MgPT4gdGhpcy5iaW5kT25lQWRkcmVzcyhhZGRyZXNzLCBib3VuZFBvcnRPYmplY3QpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxSZXN1bHRzID0gW2ZpcnN0QWRkcmVzc1Jlc3VsdCwgLi4ucmVzdEFkZHJlc3NSZXN1bHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogYWxsUmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvciA9PT0gdW5kZWZpbmVkKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogZmlyc3RBZGRyZXNzUmVzdWx0LnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBhbGxSZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZXN1bHQgPT4gcmVzdWx0LmVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiB0aGlzLmJpbmRPbmVBZGRyZXNzKGFkZHJlc3MsIGJvdW5kUG9ydE9iamVjdCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBhbGxSZXN1bHRzLmZpbHRlcihyZXN1bHQgPT4gcmVzdWx0LmVycm9yID09PSB1bmRlZmluZWQpLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IGFsbFJlc3VsdHNbMF0ucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogYWxsUmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKHJlc3VsdCA9PiByZXN1bHQuZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGJpbmRBZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgYm91bmRQb3J0T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmluZFJlc3VsdCA9IGF3YWl0IHRoaXMuYmluZE1hbnlQb3J0cyhhZGRyZXNzTGlzdCwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZFJlc3VsdC5jb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRSZXN1bHQuY291bnQgPCBhZGRyZXNzTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5JTkZPLCBgV0FSTklORyBPbmx5ICR7YmluZFJlc3VsdC5jb3VudH0gYWRkcmVzc2VzIGFkZGVkIG91dCBvZiB0b3RhbCAke2FkZHJlc3NMaXN0Lmxlbmd0aH0gcmVzb2x2ZWRgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmluZFJlc3VsdC5wb3J0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JTdHJpbmcgPSBgTm8gYWRkcmVzcyBhZGRlZCBvdXQgb2YgdG90YWwgJHthZGRyZXNzTGlzdC5sZW5ndGh9IHJlc29sdmVkYDtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBlcnJvclN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvclN0cmluZ30gZXJyb3JzOiBbJHtiaW5kUmVzdWx0LmVycm9ycy5qb2luKCcsJyl9XWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmVQb3J0KHBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VlblJlc29sdXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZXJMaXN0ZW5lciA9IChlbmRwb2ludExpc3QsIGF0dHJpYnV0ZXMsIHNlcnZpY2VDb25maWcsIHJlc29sdXRpb25Ob3RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VlblJlc29sdXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW5SZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZW5kcG9pbnRMaXN0Lm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihlbmRwb2ludExpc3QuZXJyb3IuZGV0YWlscykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzc0xpc3QgPSBbXS5jb25jYXQoLi4uZW5kcG9pbnRMaXN0LnZhbHVlLm1hcChlbmRwb2ludCA9PiBlbmRwb2ludC5hZGRyZXNzZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRyZXNzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBObyBhZGRyZXNzZXMgcmVzb2x2ZWQgZm9yIHBvcnQgJHtwb3J0fWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYWRkcmVzc0xpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gKDAsIHJlc29sdmVyXzEuY3JlYXRlUmVzb2x2ZXIpKHBvcnQsIHJlc29sdmVyTGlzdGVuZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVyLnVwZGF0ZVJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGJpbmRQb3J0KHBvcnQsIGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NMaXN0ID0gYXdhaXQgdGhpcy5yZXNvbHZlUG9ydChwb3J0KTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRQb3J0T2JqZWN0LmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmluZEFzeW5jIG9wZXJhdGlvbiBjYW5jZWxsZWQgYnkgdW5iaW5kIGNhbGwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydE51bWJlciA9IGF3YWl0IHRoaXMuYmluZEFkZHJlc3NMaXN0KGFkZHJlc3NMaXN0LCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFBvcnRPYmplY3QuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVVbmJpbmQoYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQXN5bmMgb3BlcmF0aW9uIGNhbmNlbGxlZCBieSB1bmJpbmQgY2FsbCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcG9ydE51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vcm1hbGl6ZVBvcnQocG9ydCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxQb3J0VXJpID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkocG9ydCk7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxQb3J0VXJpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlIHBvcnQgXCIke3BvcnR9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFVyaSA9ICgwLCByZXNvbHZlcl8xLm1hcFVyaURlZmF1bHRTY2hlbWUpKGluaXRpYWxQb3J0VXJpKTtcbiAgICAgICAgICAgICAgICBpZiAocG9ydFVyaSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBnZXQgYSBkZWZhdWx0IHNjaGVtZSBmb3IgcG9ydCBcIiR7cG9ydH1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcG9ydFVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmRBc3luYyhwb3J0LCBjcmVkcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaHV0ZG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBc3luYyBjYWxsZWQgYWZ0ZXIgc2h1dGRvd24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwb3J0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwb3J0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNyZWRzID09PSBudWxsIHx8ICEoY3JlZHMgaW5zdGFuY2VvZiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5TZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY3JlZHMgbXVzdCBiZSBhIFNlcnZlckNyZWRlbnRpYWxzIG9iamVjdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdiaW5kQXN5bmMgcG9ydD0nICsgcG9ydCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFVyaSA9IHRoaXMubm9ybWFsaXplUG9ydChwb3J0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZlcnJlZENhbGxiYWNrID0gKGVycm9yLCBwb3J0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4gY2FsbGJhY2soZXJyb3IsIHBvcnQpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8qIEZpcnN0LCBpZiB0aGlzIHBvcnQgaXMgYWxyZWFkeSBib3VuZCBvciB0aGF0IGJpbmQgb3BlcmF0aW9uIGlzIGluXG4gICAgICAgICAgICAgICAgICogcHJvZ3Jlc3MsIHVzZSB0aGF0IHJlc3VsdC4gKi9cbiAgICAgICAgICAgICAgICBsZXQgYm91bmRQb3J0T2JqZWN0ID0gdGhpcy5ib3VuZFBvcnRzLmdldCgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWRzLl9lcXVhbHMoYm91bmRQb3J0T2JqZWN0LmNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRDYWxsYmFjayhuZXcgRXJyb3IoYCR7cG9ydH0gYWxyZWFkeSBib3VuZCB3aXRoIGluY29tcGF0aWJsZSBjcmVkZW50aWFsc2ApLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGF0IG9wZXJhdGlvbiBoYXMgcHJldmlvdXNseSBiZWVuIGNhbmNlbGxlZCBieSBhbiB1bmJpbmQgY2FsbCxcbiAgICAgICAgICAgICAgICAgICAgICogdW5jYW5jZWwgaXQuICovXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNvbXBsZXRpb25Qcm9taXNlLnRoZW4ocG9ydE51bSA9PiBjYWxsYmFjayhudWxsLCBwb3J0TnVtKSwgZXJyb3IgPT4gY2FsbGJhY2soZXJyb3IsIDApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobnVsbCwgYm91bmRQb3J0T2JqZWN0LnBvcnROdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBtYXBLZXk6ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHBvcnRVcmkpLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFVyaTogcG9ydFVyaSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvblByb21pc2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBvcnROdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBjcmVkcyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuaW5nU2VydmVyczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwb3J0VXJpLnBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRpb25Qcm9taXNlID0gdGhpcy5iaW5kUG9ydChwb3J0VXJpLCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZSA9IGNvbXBsZXRpb25Qcm9taXNlO1xuICAgICAgICAgICAgICAgIC8qIElmIHRoZSBwb3J0IG51bWJlciBpcyAwLCBkZWZlciBwb3B1bGF0aW5nIHRoZSBtYXAgZW50cnkgdW50aWwgYWZ0ZXIgdGhlXG4gICAgICAgICAgICAgICAgICogYmluZCBvcGVyYXRpb24gY29tcGxldGVzIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgcG9ydCBudW1iZXIuIE90aGVyd2lzZSxcbiAgICAgICAgICAgICAgICAgKiBwb3B1bGF0ZSBpdCBpbW1lZGlhdGVseS4gKi9cbiAgICAgICAgICAgICAgICBpZiAoKHNwbGl0UG9ydCA9PT0gbnVsbCB8fCBzcGxpdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNwbGl0UG9ydC5wb3J0KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uUHJvbWlzZS50aGVuKHBvcnROdW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluYWxVcmkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1lOiBwb3J0VXJpLnNjaGVtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpdHk6IHBvcnRVcmkuYXV0aG9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICgwLCB1cmlfcGFyc2VyXzEuY29tYmluZUhvc3RQb3J0KSh7IGhvc3Q6IHNwbGl0UG9ydC5ob3N0LCBwb3J0OiBwb3J0TnVtIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5tYXBLZXkgPSAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShmaW5hbFVyaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LnBvcnROdW1iZXIgPSBwb3J0TnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLnNldChib3VuZFBvcnRPYmplY3QubWFwS2V5LCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcG9ydE51bSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvdW5kUG9ydHMuc2V0KGJvdW5kUG9ydE9iamVjdC5tYXBLZXksIGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlLnRoZW4ocG9ydE51bSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LnBvcnROdW1iZXIgPSBwb3J0TnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcG9ydE51bSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnaXN0ZXJJbmplY3RvclRvQ2hhbm5lbHooKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQpKCdpbmplY3RvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsQWRkcmVzczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUFkZHJlc3M6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZU5hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3RhcnRlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdWNjZWVkZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zRmFpbGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVGbG93Q29udHJvbFdpbmRvdzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCwgc28gQVBJIHN0YWJpbGl0eSBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgbWlub3IgdmVyc2lvbnMuXG4gICAgICAgICAgICAgKiBAcGFyYW0gY3JlZGVudGlhbHNcbiAgICAgICAgICAgICAqIEBwYXJhbSBjaGFubmVselJlZlxuICAgICAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsQ3JlYXRlQ29ubmVjdGlvbkluamVjdG9yV2l0aENoYW5uZWx6UmVmKGNyZWRlbnRpYWxzLCBjaGFubmVselJlZiwgb3duc0NoYW5uZWx6UmVmID0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMgPT09IG51bGwgfHwgIShjcmVkZW50aWFscyBpbnN0YW5jZW9mIHNlcnZlcl9jcmVkZW50aWFsc18xLlNlcnZlckNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjcmVkcyBtdXN0IGJlIGEgU2VydmVyQ3JlZGVudGlhbHMgb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLnJlZkNoaWxkKGNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyID0gdGhpcy5jcmVhdGVIdHRwMlNlcnZlcihjcmVkZW50aWFscyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbnNTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5odHRwMlNlcnZlcnMuc2V0KHNlcnZlciwge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVselJlZjogY2hhbm5lbHpSZWYsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25zOiBzZXNzaW9uc1NldCxcbiAgICAgICAgICAgICAgICAgICAgb3duc0NoYW5uZWx6UmVmXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0Q29ubmVjdGlvbjogKGNvbm5lY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlci5lbWl0KCdjb25uZWN0aW9uJywgY29ubmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRyYWluOiAoZ3JhY2VUaW1lTXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2Vzc2lvbnNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IChfYiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9uc1NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBncmFjZVRpbWVNcykpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXJ2ZXIoc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXNzaW9uc1NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZUNvbm5lY3Rpb25JbmplY3RvcihjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGlmIChjcmVkZW50aWFscyA9PT0gbnVsbCB8fCAhKGNyZWRlbnRpYWxzIGluc3RhbmNlb2Ygc2VydmVyX2NyZWRlbnRpYWxzXzEuU2VydmVyQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NyZWRzIG11c3QgYmUgYSBTZXJ2ZXJDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSB0aGlzLnJlZ2lzdGVySW5qZWN0b3JUb0NoYW5uZWx6KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwZXJpbWVudGFsQ3JlYXRlQ29ubmVjdGlvbkluamVjdG9yV2l0aENoYW5uZWx6UmVmKGNyZWRlbnRpYWxzLCBjaGFubmVselJlZiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZVNlcnZlcihzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ2xvc2luZyBzZXJ2ZXIgd2l0aCBhZGRyZXNzICcgKyBKU09OLnN0cmluZ2lmeShzZXJ2ZXIuYWRkcmVzcygpKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVySW5mbyA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIHNlcnZlci5jbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJJbmZvICYmIHNlcnZlckluZm8ub3duc0NoYW5uZWx6UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyQ2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoc2VydmVySW5mby5jaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHNlcnZlckluZm8uY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHR0cDJTZXJ2ZXJzLmRlbGV0ZShzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsb3NlU2Vzc2lvbihzZXNzaW9uLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDbG9zaW5nIHNlc3Npb24gaW5pdGlhdGVkIGJ5ICcgKyAoKF9iID0gc2Vzc2lvbi5zb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdGVBZGRyZXNzKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkluZm8gPSB0aGlzLnNlc3Npb25zLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKHNlc3Npb25JbmZvLnJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbHpfMS51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYpKHNlc3Npb25JbmZvLnJlZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPT09IG51bGwgfHwgY2FsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2VydmVyIG9mIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckluZm8gPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlcnZlcihzZXJ2ZXIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzLmRlbGV0ZShzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXJ2ZXJJbmZvLnNlc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLmRlbGV0ZShib3VuZFBvcnRPYmplY3QubWFwS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVW5iaW5kIGEgcHJldmlvdXNseSBib3VuZCBwb3J0LCBvciBjYW5jZWwgYW4gaW4tcHJvZ3Jlc3MgYmluZEFzeW5jXG4gICAgICAgICAgICAgKiBvcGVyYXRpb24uIElmIHBvcnQgMCB3YXMgYm91bmQsIG9ubHkgdGhlIGFjdHVhbCBib3VuZCBwb3J0IGNhbiBiZVxuICAgICAgICAgICAgICogdW5ib3VuZC4gRm9yIGV4YW1wbGUsIGlmIGJpbmRBc3luYyB3YXMgY2FsbGVkIHdpdGggXCJsb2NhbGhvc3Q6MFwiIGFuZCB0aGVcbiAgICAgICAgICAgICAqIGJvdW5kIHBvcnQgcmVzdWx0IHdhcyA1NDMyMSwgaXQgY2FuIGJlIHVuYm91bmQgYXMgXCJsb2NhbGhvc3Q6NTQzMjFcIi5cbiAgICAgICAgICAgICAqIEBwYXJhbSBwb3J0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHVuYmluZChwb3J0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgndW5iaW5kIHBvcnQ9JyArIHBvcnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRVcmkgPSB0aGlzLm5vcm1hbGl6ZVBvcnQocG9ydCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwb3J0VXJpLnBhdGgpO1xuICAgICAgICAgICAgICAgIGlmICgoc3BsaXRQb3J0ID09PSBudWxsIHx8IHNwbGl0UG9ydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3BsaXRQb3J0LnBvcnQpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVuYmluZCBwb3J0IDAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRQb3J0T2JqZWN0ID0gdGhpcy5ib3VuZFBvcnRzLmdldCgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCd1bmJpbmRpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QubWFwS2V5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgb3JpZ2luYWxseSBib3VuZCBhcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKGJvdW5kUG9ydE9iamVjdC5vcmlnaW5hbFVyaSkpO1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGUgYmluZCBvcGVyYXRpb24gaXMgcGVuZGluZywgdGhlIGNhbmNlbGxlZCBmbGFnIHdpbGwgdHJpZ2dlclxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgdW5iaW5kIG9wZXJhdGlvbiBsYXRlci4gKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdyYWNlZnVsbHkgY2xvc2UgYWxsIGNvbm5lY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCBhIHByZXZpb3VzbHkgYm91bmQgcG9ydC5cbiAgICAgICAgICAgICAqIEFmdGVyIHRoZSBncmFjZSB0aW1lLCBmb3JjZWZ1bGx5IGNsb3NlIGFsbCByZW1haW5pbmcgb3BlbiBjb25uZWN0aW9ucy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBJZiBwb3J0IDAgd2FzIGJvdW5kLCBvbmx5IHRoZSBhY3R1YWwgYm91bmQgcG9ydCBjYW4gYmVcbiAgICAgICAgICAgICAqIGRyYWluZWQuIEZvciBleGFtcGxlLCBpZiBiaW5kQXN5bmMgd2FzIGNhbGxlZCB3aXRoIFwibG9jYWxob3N0OjBcIiBhbmQgdGhlXG4gICAgICAgICAgICAgKiBib3VuZCBwb3J0IHJlc3VsdCB3YXMgNTQzMjEsIGl0IGNhbiBiZSBkcmFpbmVkIGFzIFwibG9jYWxob3N0OjU0MzIxXCIuXG4gICAgICAgICAgICAgKiBAcGFyYW0gcG9ydFxuICAgICAgICAgICAgICogQHBhcmFtIGdyYWNlVGltZU1zXG4gICAgICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkcmFpbihwb3J0LCBncmFjZVRpbWVNcykge1xuICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnZHJhaW4gcG9ydD0nICsgcG9ydCArICcgZ3JhY2VUaW1lTXM9JyArIGdyYWNlVGltZU1zKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3J0VXJpID0gdGhpcy5ub3JtYWxpemVQb3J0KHBvcnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkocG9ydFVyaS5wYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoKHNwbGl0UG9ydCA9PT0gbnVsbCB8fCBzcGxpdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNwbGl0UG9ydC5wb3J0KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkcmFpbiBwb3J0IDAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRQb3J0T2JqZWN0ID0gdGhpcy5ib3VuZFBvcnRzLmdldCgoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhbGxTZXNzaW9ucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGh0dHAyU2VydmVyIG9mIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckVudHJ5ID0gdGhpcy5odHRwMlNlcnZlcnMuZ2V0KGh0dHAyU2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2VydmVyRW50cnkuc2Vzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZXNzaW9ucy5hZGQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTZXNzaW9ucy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQWZ0ZXIgdGhlIGdyYWNlIHRpbWUgZW5kcywgc2VuZCBhbm90aGVyIGdvYXdheSB0byBhbGwgcmVtYWluaW5nIHNlc3Npb25zXG4gICAgICAgICAgICAgICAgICogd2l0aCB0aGUgQ0FOQ0VMIGNvZGUuICovXG4gICAgICAgICAgICAgICAgKF9jID0gKF9iID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBhbGxTZXNzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBncmFjZVRpbWVNcykpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JjZVNodXRkb3duKCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYm91bmRQb3J0T2JqZWN0IG9mIHRoaXMuYm91bmRQb3J0cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIHNlcnZlciBpZiBpdCBpcyBzdGlsbCBydW5uaW5nLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2VydmVyIG9mIHRoaXMuaHR0cDJTZXJ2ZXJzLmtleXMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2VydmVyKHNlcnZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBkZXN0cm95IGFueSBhdmFpbGFibGUgc2Vzc2lvbnMuIEl0J3MgcG9zc2libGUgdGhhdCBvbmUgb3IgbW9yZVxuICAgICAgICAgICAgICAgIC8vIHRyeVNodXRkb3duKCkgY2FsbHMgYXJlIGluIHByb2dyZXNzLiBEb24ndCB3YWl0IG9uIHRoZW0gdG8gZmluaXNoLlxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbnMuZm9yRWFjaCgoY2hhbm5lbHpJbmZvLCBzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYXN0IE5HSFRUUDJfQ0FOQ0VMIHRvIGFueSBiZWNhdXNlIFR5cGVTY3JpcHQgZG9lc24ndCBzZWVtIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29nbml6ZSBkZXN0cm95KGNvZGUpIGFzIGEgdmFsaWQgc2lnbmF0dXJlLlxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfQ0FOQ0VMKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNodXRkb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZ2lzdGVyKG5hbWUsIGhhbmRsZXIsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVycy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChuYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmM6IGhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzZXJpYWxpemUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IG5hbWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnJlZ2lzdGVyKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVycy5kZWxldGUobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBkZXByZWNhdGVkIE5vIGxvbmdlciBuZWVkZWQgYXMgb2YgdmVyc2lvbiAxLjEwLnhcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3RhcnQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaHR0cDJTZXJ2ZXJzLnNpemUgPT09IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgWy4uLnRoaXMuaHR0cDJTZXJ2ZXJzLmtleXMoKV0uZXZlcnkoc2VydmVyID0+ICFzZXJ2ZXIubGlzdGVuaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlcnZlciBtdXN0IGJlIGJvdW5kIGluIG9yZGVyIHRvIHN0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXJ2ZXIgaXMgYWxyZWFkeSBzdGFydGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnlTaHV0ZG93bihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkQ2FsbGJhY2sgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdDaGVja3MgPSAwO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1heWJlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGVja3MtLTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdDaGVja3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2h1dGRvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3NlcnZlcktleSwgc2VydmVyXSBvZiB0aGlzLmh0dHAyU2VydmVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0NoZWNrcysrO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJTdHJpbmcgPSBzZXJ2ZXIuY2hhbm5lbHpSZWYubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnV2FpdGluZyBmb3Igc2VydmVyICcgKyBzZXJ2ZXJTdHJpbmcgKyAnIHRvIGNsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXJ2ZXIoc2VydmVyS2V5LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTZXJ2ZXIgJyArIHNlcnZlclN0cmluZyArICcgZmluaXNoZWQgY2xvc2luZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXNzaW9uIG9mIHNlcnZlci5zZXNzaW9ucy5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGVja3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25TdHJpbmcgPSAoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdXYWl0aW5nIGZvciBzZXNzaW9uICcgKyBzZXNzaW9uU3RyaW5nICsgJyB0byBjbG9zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1Nlc3Npb24gJyArIHNlc3Npb25TdHJpbmcgKyAnIGZpbmlzaGVkIGNsb3NpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ0NoZWNrcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRIdHRwMlBvcnQoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgeWV0IGltcGxlbWVudGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdldCB0aGUgY2hhbm5lbHogcmVmZXJlbmNlIG9iamVjdCBmb3IgdGhpcyBzZXJ2ZXIuIFRoZSByZXR1cm5lZCB2YWx1ZSBpc1xuICAgICAgICAgICAgICogZ2FyYmFnZSBpZiBjaGFubmVseiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBzZXJ2ZXIuXG4gICAgICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF92ZXJpZnlDb250ZW50VHlwZShzdHJlYW0sIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnNbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudFR5cGUgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgICFjb250ZW50VHlwZS5zdGFydHNXaXRoKCdhcHBsaWNhdGlvbi9ncnBjJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtLnJlc3BvbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfU1RBVFVTXTogaHR0cDIuY29uc3RhbnRzLkhUVFBfU1RBVFVTX1VOU1VQUE9SVEVEX01FRElBX1RZUEUsXG4gICAgICAgICAgICAgICAgICAgIH0sIHsgZW5kU3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3JldHJpZXZlSGFuZGxlcihwYXRoKSB7XG4gICAgICAgICAgICAgICAgc2VydmVyQ2FsbFRyYWNlKCdSZWNlaXZlZCBjYWxsIHRvIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArXG4gICAgICAgICAgICAgICAgICAgICcgYXQgYWRkcmVzcyAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJBZGRyZXNzU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVycy5nZXQocGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDYWxsVHJhY2UoJ05vIGhhbmRsZXIgcmVnaXN0ZXJlZCBmb3IgbWV0aG9kICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnLiBTZW5kaW5nIFVOSU1QTEVNRU5URUQgc3RhdHVzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcmVzcG9uZFdpdGhFcnJvcihlcnIsIHN0cmVhbSwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWlsZXJzVG9TZW5kID0gT2JqZWN0LmFzc2lnbih7ICdncnBjLXN0YXR1cyc6IChfYiA9IGVyci5jb2RlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsICdncnBjLW1lc3NhZ2UnOiBlcnIuZGV0YWlscywgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfU1RBVFVTXTogaHR0cDIuY29uc3RhbnRzLkhUVFBfU1RBVFVTX09LLCBbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEVdOiAnYXBwbGljYXRpb24vZ3JwYytwcm90bycgfSwgKF9jID0gZXJyLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9IdHRwMkhlYWRlcnMoKSk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnJlc3BvbmQodHJhaWxlcnNUb1NlbmQsIHsgZW5kU3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IG51bGwgfHwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jaGFubmVsekhhbmRsZXIoZXh0cmFJbnRlcmNlcHRvcnMsIHN0cmVhbSwgaGVhZGVycykge1xuICAgICAgICAgICAgICAgIC8vIGZvciBoYW5kbGluZyBpZGxlIHRpbWVvdXRcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RyZWFtT3BlbmVkKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHN0cmVhbS5zZXNzaW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gbnVsbCB8fCBjaGFubmVselNlc3Npb25JbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGFubmVselNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN0YXJ0ZWQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3ZlcmlmeUNvbnRlbnRUeXBlKHN0cmVhbSwgaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IG51bGwgfHwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gaGVhZGVyc1tIVFRQMl9IRUFERVJfUEFUSF07XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3JldHJpZXZlSGFuZGxlcihwYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uZFdpdGhFcnJvcihnZXRVbmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UocGF0aCksIHN0cmVhbSwgY2hhbm5lbHpTZXNzaW9uSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbEV2ZW50VHJhY2tlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkTWVzc2FnZVNlbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVselNlc3Npb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5tZXNzYWdlc1NlbnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VSZWNlaXZlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWx6U2Vzc2lvbkluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLm1lc3NhZ2VzUmVjZWl2ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLmxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU3RyZWFtRW5kOiBzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVselNlc3Npb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbCA9ICgwLCBzZXJ2ZXJfaW50ZXJjZXB0b3JzXzEuZ2V0U2VydmVySW50ZXJjZXB0aW5nQ2FsbCkoWy4uLmV4dHJhSW50ZXJjZXB0b3JzLCAuLi50aGlzLmludGVyY2VwdG9yc10sIHN0cmVhbSwgaGVhZGVycywgY2FsbEV2ZW50VHJhY2tlciwgaGFuZGxlciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3J1bkhhbmRsZXJGb3JDYWxsKGNhbGwsIGhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgVW5rbm93biBoYW5kbGVyIHR5cGU6ICR7aGFuZGxlci50eXBlfWAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zdHJlYW1IYW5kbGVyKGV4dHJhSW50ZXJjZXB0b3JzLCBzdHJlYW0sIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgaGFuZGxpbmcgaWRsZSB0aW1lb3V0XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0cmVhbU9wZW5lZChzdHJlYW0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl92ZXJpZnlDb250ZW50VHlwZShzdHJlYW0sIGhlYWRlcnMpICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGhlYWRlcnNbSFRUUDJfSEVBREVSX1BBVEhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9yZXRyaWV2ZUhhbmRsZXIocGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3BvbmRXaXRoRXJyb3IoZ2V0VW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKHBhdGgpLCBzdHJlYW0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgc2VydmVyX2ludGVyY2VwdG9yc18xLmdldFNlcnZlckludGVyY2VwdGluZ0NhbGwpKFsuLi5leHRyYUludGVyY2VwdG9ycywgLi4udGhpcy5pbnRlcmNlcHRvcnNdLCBzdHJlYW0sIGhlYWRlcnMsIG51bGwsIGhhbmRsZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ydW5IYW5kbGVyRm9yQ2FsbChjYWxsLCBoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFVua25vd24gaGFuZGxlciB0eXBlOiAke2hhbmRsZXIudHlwZX1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcnVuSGFuZGxlckZvckNhbGwoY2FsbCwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdHlwZSB9ID0gaGFuZGxlcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3VuYXJ5Jykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVVbmFyeShjYWxsLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2NsaWVudFN0cmVhbScpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2xpZW50U3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnc2VydmVyU3RyZWFtJykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZXJ2ZXJTdHJlYW1pbmcoY2FsbCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdiaWRpJykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVCaWRpU3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zZXR1cEhhbmRsZXJzKGh0dHAyU2VydmVyLCBleHRyYUludGVyY2VwdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChodHRwMlNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckFkZHJlc3MgPSBodHRwMlNlcnZlci5hZGRyZXNzKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNlcnZlckFkZHJlc3NTdHJpbmcgPSAnbnVsbCc7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZlckFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXJ2ZXJBZGRyZXNzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyQWRkcmVzc1N0cmluZyA9IHNlcnZlckFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBZGRyZXNzU3RyaW5nID0gc2VydmVyQWRkcmVzcy5hZGRyZXNzICsgJzonICsgc2VydmVyQWRkcmVzcy5wb3J0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyQWRkcmVzc1N0cmluZyA9IHNlcnZlckFkZHJlc3NTdHJpbmc7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuY2hhbm5lbHpFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fY2hhbm5lbHpIYW5kbGVyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fc3RyZWFtSGFuZGxlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSGFuZGxlciA9IHRoaXMuY2hhbm5lbHpFbmFibGVkXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fY2hhbm5lbHpTZXNzaW9uSGFuZGxlcihodHRwMlNlcnZlcilcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9zZXNzaW9uSGFuZGxlcihodHRwMlNlcnZlcik7XG4gICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIub24oJ3N0cmVhbScsIGhhbmRsZXIuYmluZCh0aGlzLCBleHRyYUludGVyY2VwdG9ycykpO1xuICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdzZXNzaW9uJywgc2Vzc2lvbkhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3Nlc3Npb25IYW5kbGVyKGh0dHAyU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChodHRwMlNlcnZlcikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXNzaW9ucy5hZGQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25uZWN0aW9uQWdlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQga2VlcGFsaXZlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVUaW1lb3V0T2JqID0gdGhpcy5lbmFibGVJZGxlVGltZW91dChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGEgcmFuZG9tIGppdHRlciB3aXRoaW4gYSArLy0xMCUgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGppdHRlck1hZ25pdHVkZSA9IHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zIC8gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqaXR0ZXIgPSBNYXRoLnJhbmRvbSgpICogaml0dGVyTWFnbml0dWRlICogMiAtIGppdHRlck1hZ25pdHVkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25BZ2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGRyb3BwZWQgYnkgbWF4IGNvbm5lY3Rpb24gYWdlOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChfYiA9IHNlc3Npb24uc29ja2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3RlQWRkcmVzcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZ29hd2F5KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SLCB+KDEgPDwgMzEpLCBrTWF4QWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGdvYXdheSBjYW4ndCBiZSBzZW50IGJlY2F1c2UgdGhlIHNlc3Npb24gaXMgYWxyZWFkeSBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFsbG93IGEgZ3JhY2UgcGVyaW9kIGFmdGVyIHNlbmRpbmcgdGhlIEdPQVdBWSBiZWZvcmUgZm9yY2libHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBjbG9zaW5nIHRoZSBjb25uZWN0aW9uLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gY29ubmVjdGlvbkFnZUdyYWNlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VNcyArIGppdHRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2MgPSBjb25uZWN0aW9uQWdlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYXJLZWVwYWxpdmVUaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGtlZXBhbGl2ZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwYWxpdmVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhblNlbmRQaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICghc2Vzc2lvbi5kZXN0cm95ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA8IEtFRVBBTElWRV9NQVhfVElNRV9NUyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID4gMCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3QgKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbmRQaW5nOyAvLyBob2lzdGVkIGZvciB1c2UgaW4gbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU3RhcnRpbmcga2VlcGFsaXZlIHRpbWVyIGZvciAnICsgdGhpcy5rZWVwYWxpdmVUaW1lTXMgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBhbGl2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFBpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMua2VlcGFsaXZlVGltZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGtlZXBhbGl2ZVRpbWVyLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChrZWVwYWxpdmVUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNlbmRQaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU2VuZGluZyBwaW5nIHdpdGggdGltZW91dCAnICsgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwaW5nU2VuZEVycm9yID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbmdTZW50U3VjY2Vzc2Z1bGx5ID0gc2Vzc2lvbi5waW5nKChlcnIsIGR1cmF0aW9uLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIGZhaWxlZCB3aXRoIGVycm9yOiAnICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1JlY2VpdmVkIHBpbmcgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGluZ1NlbnRTdWNjZXNzZnVsbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9ICdQaW5nIHJldHVybmVkIGZhbHNlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdycGMvZ3JwYy1ub2RlIzIxMzlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW5nU2VuZEVycm9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICcnKSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGluZ1NlbmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1Bpbmcgc2VuZCBmYWlsZWQ6ICcgKyBwaW5nU2VuZEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGRyb3BwZWQgZHVlIHRvIHBpbmcgc2VuZCBlcnJvcjogJyArIHBpbmdTZW5kRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBhbGl2ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyB0aW1lb3V0IHBhc3NlZCB3aXRob3V0IHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ29ubmVjdGlvbiBkcm9wcGVkIGJ5IGtlZXBhbGl2ZSB0aW1lb3V0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoa2VlcGFsaXZlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbkNsb3NlZEJ5U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZShgQ29ubmVjdGlvbiBkcm9wcGVkIGJ5IGNsaWVudCAkeyhfYiA9IHNlc3Npb24uc29ja2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3RlQWRkcmVzc31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQWdlVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvbkFnZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQWdlR3JhY2VUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uQWdlR3JhY2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iaiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZGxlVGltZW91dE9iai50aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuZGVsZXRlKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5odHRwMlNlcnZlcnMuZ2V0KGh0dHAyU2VydmVyKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNlc3Npb25zLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jaGFubmVselNlc3Npb25IYW5kbGVyKGh0dHAyU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzZXNzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgoX2MgPSAoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3MpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICd1bmtub3duJywgdGhpcy5nZXRDaGFubmVselNlc3Npb25JbmZvLmJpbmQodGhpcywgc2Vzc2lvbiksIHRoaXMuY2hhbm5lbHpFbmFibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbHpTZXNzaW9uSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogY2hhbm5lbHpSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1UcmFja2VyOiBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1JlY2VpdmVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAoX2QgPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoaHR0cDJTZXJ2ZXIpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc2Vzc2lvbnMuYWRkKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uLCBjaGFubmVselNlc3Npb25JbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50QWRkcmVzcyA9IGAke3Nlc3Npb24uc29ja2V0LnJlbW90ZUFkZHJlc3N9OiR7c2Vzc2lvbi5zb2NrZXQucmVtb3RlUG9ydH1gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCBieSBjbGllbnQgJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGVzdGFibGlzaGVkIGJ5IGNsaWVudCAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25uZWN0aW9uQWdlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQga2VlcGFsaXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB0aGlzLmVuYWJsZUlkbGVUaW1lb3V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgIT09IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgYSByYW5kb20gaml0dGVyIHdpdGhpbiBhICsvLTEwJSByYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgaml0dGVyTWFnbml0dWRlID0gdGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgLyAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGppdHRlciA9IE1hdGgucmFuZG9tKCkgKiBqaXR0ZXJNYWduaXR1ZGUgKiAyIC0gaml0dGVyTWFnbml0dWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbkFnZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBieSBtYXggY29ubmVjdGlvbiBhZ2UgZnJvbSAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5nb2F3YXkoaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1IsIH4oMSA8PCAzMSksIGtNYXhBZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZ29hd2F5IGNhbid0IGJlIHNlbnQgYmVjYXVzZSB0aGUgc2Vzc2lvbiBpcyBhbHJlYWR5IGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQWxsb3cgYSBncmFjZSBwZXJpb2QgYWZ0ZXIgc2VuZGluZyB0aGUgR09BV0FZIGJlZm9yZSBmb3JjaWJseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGNsb3NpbmcgdGhlIGNvbm5lY3Rpb24uICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4Q29ubmVjdGlvbkFnZUdyYWNlTXMgIT09IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uQWdlR3JhY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMubWF4Q29ubmVjdGlvbkFnZUdyYWNlTXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBjb25uZWN0aW9uQWdlR3JhY2VUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICsgaml0dGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfZSA9IGNvbm5lY3Rpb25BZ2VUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoY29ubmVjdGlvbkFnZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhcktlZXBhbGl2ZVRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcGFsaXZlVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChrZWVwYWxpdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZWVwYWxpdmVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuU2VuZFBpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCFzZXNzaW9uLmRlc3Ryb3llZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zIDwgS0VFUEFMSVZFX01BWF9USU1FX01TICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdCAqL1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VuZFBpbmc7IC8vIGhvaXN0ZWQgZm9yIHVzZSBpbiBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhblNlbmRQaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTdGFydGluZyBrZWVwYWxpdmUgdGltZXIgZm9yICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVNcyArICdtcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRQaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lb3V0LnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChrZWVwYWxpdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFBpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhblNlbmRQaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTZW5kaW5nIHBpbmcgd2l0aCB0aW1lb3V0ICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyArICdtcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBpbmdTZW5kRXJyb3IgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGluZ1NlbnRTdWNjZXNzZnVsbHkgPSBzZXNzaW9uLnBpbmcoKGVyciwgZHVyYXRpb24sIHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgZmFpbGVkIHdpdGggZXJyb3I6ICcgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQ29ubmVjdGlvbiBkcm9wcGVkIGR1ZSB0byBlcnJvciBvZiBhIHBpbmcgZnJhbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgcmV0dXJuIGluICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdSZWNlaXZlZCBwaW5nIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBpbmdTZW50U3VjY2Vzc2Z1bGx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAnUGluZyByZXR1cm5lZCBmYWxzZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBncnBjL2dycGMtbm9kZSMyMTM5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiAnJykgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpbmdTZW5kRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHNlbmQgZmFpbGVkOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBkdWUgdG8gcGluZyBzZW5kIGVycm9yOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5rZWVwQWxpdmVzU2VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgdGltZW91dCBwYXNzZWQgd2l0aG91dCByZXNwb25zZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aW9uIGRyb3BwZWQgYnkga2VlcGFsaXZlIHRpbWVvdXQgZnJvbSAnICsgY2xpZW50QWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lb3V0LnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChrZWVwYWxpdmVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbkNsb3NlZEJ5U2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBieSBjbGllbnQgJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uQ2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkFnZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRsZVRpbWVvdXRPYmogIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXRPYmoudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChodHRwMlNlcnZlcikpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXNzaW9ucy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuYWJsZUlkbGVUaW1lb3V0KHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb25JZGxlVGltZW91dCA+PSBNQVhfQ09OTkVDVElPTl9JRExFX01TKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpZGxlVGltZW91dE9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlU3RyZWFtczogMCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdElkbGU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMub25TdHJlYW1DbG9zZS5iaW5kKHRoaXMsIHNlc3Npb24pLFxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBzZXRUaW1lb3V0KHRoaXMub25JZGxlVGltZW91dCwgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXQsIHRoaXMsIHNlc3Npb24pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgKF9jID0gKF9iID0gaWRsZVRpbWVvdXRPYmoudGltZW91dCkudW5yZWYpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuc2V0KHNlc3Npb24sIGlkbGVUaW1lb3V0T2JqKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNvY2tldCB9ID0gc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdFbmFibGUgaWRsZSB0aW1lb3V0IGZvciAnICtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW90ZUFkZHJlc3MgK1xuICAgICAgICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3RlUG9ydCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkbGVUaW1lb3V0T2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25JZGxlVGltZW91dChjdHgsIHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNvY2tldCB9ID0gc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSW5mbyA9IGN0eC5zZXNzaW9uSWRsZVRpbWVvdXRzLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBjYWxsZWQgd2hpbGUgd2UgaGF2ZSBhY3RpdmVTdHJlYW1zIC0gdGltZXIgd2lsbCBub3QgYmUgcmVzY2hlZHVsZWRcbiAgICAgICAgICAgICAgICAvLyB1bnRpbCBsYXN0IGFjdGl2ZSBzdHJlYW0gaXMgY2xvc2VkLCB0aGVuIGl0IHdpbGwgY2FsbCAucmVmcmVzaCgpIG9uIHRoZSB0aW1lclxuICAgICAgICAgICAgICAgIC8vIGltcG9ydGFudCBwYXJ0IGlzIHRvIG5vdCBjbGVhclRpbWVvdXQodGltZXIpIG9yIGl0IGJlY29tZXMgdW51c2FibGVcbiAgICAgICAgICAgICAgICAvLyBmb3IgZnV0dXJlIHJlZnJlc2hlc1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uSW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbmZvLmFjdGl2ZVN0cmVhbXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBzZXNzaW9uSW5mby5sYXN0SWRsZSA+PSBjdHguc2Vzc2lvbklkbGVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudHJhY2UoJ1Nlc3Npb24gaWRsZSB0aW1lb3V0IHRyaWdnZXJlZCBmb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVBZGRyZXNzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LnJlbW90ZVBvcnQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGxhc3QgaWRsZSBhdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5mby5sYXN0SWRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkluZm8udGltZW91dC5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblN0cmVhbU9wZW5lZChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gc3RyZWFtLnNlc3Npb247XG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuZ2V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iaikge1xuICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5hY3RpdmVTdHJlYW1zICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5vbmNlKCdjbG9zZScsIGlkbGVUaW1lb3V0T2JqLm9uQ2xvc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uU3RyZWFtQ2xvc2Uoc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB0aGlzLnNlc3Npb25JZGxlVGltZW91dHMuZ2V0KHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iaikge1xuICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5hY3RpdmVTdHJlYW1zIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZGxlVGltZW91dE9iai5hY3RpdmVTdHJlYW1zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5sYXN0SWRsZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai50aW1lb3V0LnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1Nlc3Npb24gb25TdHJlYW1DbG9zZScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3MpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoX2MgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnJlbW90ZVBvcnQpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGF0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkbGVUaW1lb3V0T2JqLmxhc3RJZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IF9tZXRhZGF0YSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wubWV0YWRhdGEgPyBPYmplY3QuY3JlYXRlKG51bGwpIDogdm9pZCAwO1xuICAgICAgICAgICAgX3N0YXJ0X2RlY29yYXRvcnMgPSBbZGVwcmVjYXRlKCdDYWxsaW5nIHN0YXJ0KCkgaXMgbm8gbG9uZ2VyIG5lY2Vzc2FyeS4gSXQgY2FuIGJlIHNhZmVseSBvbWl0dGVkLicpXTtcbiAgICAgICAgICAgIF9fZXNEZWNvcmF0ZShfYSwgbnVsbCwgX3N0YXJ0X2RlY29yYXRvcnMsIHsga2luZDogXCJtZXRob2RcIiwgbmFtZTogXCJzdGFydFwiLCBzdGF0aWM6IGZhbHNlLCBwcml2YXRlOiBmYWxzZSwgYWNjZXNzOiB7IGhhczogb2JqID0+IFwic3RhcnRcIiBpbiBvYmosIGdldDogb2JqID0+IG9iai5zdGFydCB9LCBtZXRhZGF0YTogX21ldGFkYXRhIH0sIG51bGwsIF9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzKTtcbiAgICAgICAgICAgIGlmIChfbWV0YWRhdGEpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYSwgU3ltYm9sLm1ldGFkYXRhLCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiBfbWV0YWRhdGEgfSk7XG4gICAgICAgIH0pKCksXG4gICAgICAgIF9hO1xufSkoKTtcbmV4cG9ydHMuU2VydmVyID0gU2VydmVyO1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVW5hcnkoY2FsbCwgaGFuZGxlcikge1xuICAgIGxldCBzdHJlYW07XG4gICAgZnVuY3Rpb24gcmVzcG9uZChlcnIsIHZhbHVlLCB0cmFpbGVyLCBmbGFncykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoKDAsIHNlcnZlcl9jYWxsXzEuc2VydmVyRXJyb3JUb1N0YXR1cykoZXJyLCB0cmFpbGVyKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbC5zZW5kTWVzc2FnZSh2YWx1ZSwgKCkgPT4ge1xuICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJ09LJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogdHJhaWxlciAhPT0gbnVsbCAmJiB0cmFpbGVyICE9PSB2b2lkIDAgPyB0cmFpbGVyIDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHJlcXVlc3RNZXRhZGF0YTtcbiAgICBsZXQgcmVxdWVzdE1lc3NhZ2UgPSBudWxsO1xuICAgIGNhbGwuc3RhcnQoe1xuICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgcmVxdWVzdE1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgYSBzZWNvbmQgcmVxdWVzdCBtZXNzYWdlIGZvciBzZXJ2ZXIgc3RyZWFtaW5nIG1ldGhvZCAke2hhbmRsZXIucGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0TWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVIYWxmQ2xvc2UoKSB7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBubyByZXF1ZXN0IG1lc3NhZ2UgZm9yIHNlcnZlciBzdHJlYW1pbmcgbWV0aG9kICR7aGFuZGxlci5wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBzZXJ2ZXJfY2FsbF8xLlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbChoYW5kbGVyLnBhdGgsIGNhbGwsIHJlcXVlc3RNZXRhZGF0YSwgcmVxdWVzdE1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtLCByZXNwb25kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFNlcnZlciBtZXRob2QgaGFuZGxlciB0aHJldyBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnY2FuY2VsbGVkJywgJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gaGFuZGxlQ2xpZW50U3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpIHtcbiAgICBsZXQgc3RyZWFtO1xuICAgIGZ1bmN0aW9uIHJlc3BvbmQoZXJyLCB2YWx1ZSwgdHJhaWxlciwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKCgwLCBzZXJ2ZXJfY2FsbF8xLnNlcnZlckVycm9yVG9TdGF0dXMpKGVyciwgdHJhaWxlcikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGwuc2VuZE1lc3NhZ2UodmFsdWUsICgpID0+IHtcbiAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdPSycsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHRyYWlsZXIgIT09IG51bGwgJiYgdHJhaWxlciAhPT0gdm9pZCAwID8gdHJhaWxlciA6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbGwuc3RhcnQoe1xuICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgc3RyZWFtID0gbmV3IHNlcnZlcl9jYWxsXzEuU2VydmVyRHVwbGV4U3RyZWFtSW1wbChoYW5kbGVyLnBhdGgsIGNhbGwsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5mdW5jKHN0cmVhbSwgcmVzcG9uZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBTZXJ2ZXIgbWV0aG9kIGhhbmRsZXIgdGhyZXcgZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICBzdHJlYW0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlSGFsZkNsb3NlKCkge1xuICAgICAgICAgICAgc3RyZWFtLnB1c2gobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdjYW5jZWxsZWQnLCAnY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVNlcnZlclN0cmVhbWluZyhjYWxsLCBoYW5kbGVyKSB7XG4gICAgbGV0IHN0cmVhbTtcbiAgICBsZXQgcmVxdWVzdE1ldGFkYXRhO1xuICAgIGxldCByZXF1ZXN0TWVzc2FnZSA9IG51bGw7XG4gICAgY2FsbC5zdGFydCh7XG4gICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXF1ZXN0TWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgIGNhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBhIHNlY29uZCByZXF1ZXN0IG1lc3NhZ2UgZm9yIHNlcnZlciBzdHJlYW1pbmcgbWV0aG9kICR7aGFuZGxlci5wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIGNhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZSgpIHtcbiAgICAgICAgICAgIGlmICghcmVxdWVzdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG5vIHJlcXVlc3QgbWVzc2FnZSBmb3Igc2VydmVyIHN0cmVhbWluZyBtZXRob2QgJHtoYW5kbGVyLnBhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyZWFtID0gbmV3IHNlcnZlcl9jYWxsXzEuU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsKGhhbmRsZXIucGF0aCwgY2FsbCwgcmVxdWVzdE1ldGFkYXRhLCByZXF1ZXN0TWVzc2FnZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZnVuYyhzdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgU2VydmVyIG1ldGhvZCBoYW5kbGVyIHRocmV3IGVycm9yICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdjYW5jZWxsZWQnLCAnY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUJpZGlTdHJlYW1pbmcoY2FsbCwgaGFuZGxlcikge1xuICAgIGxldCBzdHJlYW07XG4gICAgY2FsbC5zdGFydCh7XG4gICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICBzdHJlYW0gPSBuZXcgc2VydmVyX2NhbGxfMS5TZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsKGhhbmRsZXIucGF0aCwgY2FsbCwgbWV0YWRhdGEpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFNlcnZlciBtZXRob2QgaGFuZGxlciB0aHJldyBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHN0cmVhbS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVIYWxmQ2xvc2UoKSB7XG4gICAgICAgICAgICBzdHJlYW0ucHVzaChudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DYW5jZWwoKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/server.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.validateRetryThrottling = validateRetryThrottling;\nexports.validateServiceConfig = validateServiceConfig;\nexports.extractAndSelectServiceConfig = extractAndSelectServiceConfig;\n/* This file implements gRFC A2 and the service config spec:\n * https://github.com/grpc/proposal/blob/master/A2-service-configs-in-dns.md\n * https://github.com/grpc/grpc/blob/master/doc/service_config.md. Each\n * function here takes an object with unknown structure and returns its\n * specific object type if the input has the right structure, and throws an\n * error otherwise. */\n/* The any type is purposely used here. All functions validate their input at\n * runtime */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst os = __webpack_require__(/*! os */ \"os\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\n/**\n * Recognizes a number with up to 9 digits after the decimal point, followed by\n * an \"s\", representing a number of seconds.\n */\nconst DURATION_REGEX = /^\\d+(\\.\\d{1,9})?s$/;\n/**\n * Client language name used for determining whether this client matches a\n * `ServiceConfigCanaryConfig`'s `clientLanguage` list.\n */\nconst CLIENT_LANGUAGE_STRING = 'node';\nfunction validateName(obj) {\n    // In this context, and unset field and '' are considered the same\n    if ('service' in obj && obj.service !== '') {\n        if (typeof obj.service !== 'string') {\n            throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof obj.service}`);\n        }\n        if ('method' in obj && obj.method !== '') {\n            if (typeof obj.method !== 'string') {\n                throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof obj.service}`);\n            }\n            return {\n                service: obj.service,\n                method: obj.method,\n            };\n        }\n        else {\n            return {\n                service: obj.service,\n            };\n        }\n    }\n    else {\n        if ('method' in obj && obj.method !== undefined) {\n            throw new Error(`Invalid method config name: method set with empty or unset service`);\n        }\n        return {};\n    }\n}\nfunction validateRetryPolicy(obj) {\n    if (!('maxAttempts' in obj) ||\n        !Number.isInteger(obj.maxAttempts) ||\n        obj.maxAttempts < 2) {\n        throw new Error('Invalid method config retry policy: maxAttempts must be an integer at least 2');\n    }\n    if (!('initialBackoff' in obj) ||\n        typeof obj.initialBackoff !== 'string' ||\n        !DURATION_REGEX.test(obj.initialBackoff)) {\n        throw new Error('Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s');\n    }\n    if (!('maxBackoff' in obj) ||\n        typeof obj.maxBackoff !== 'string' ||\n        !DURATION_REGEX.test(obj.maxBackoff)) {\n        throw new Error('Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s');\n    }\n    if (!('backoffMultiplier' in obj) ||\n        typeof obj.backoffMultiplier !== 'number' ||\n        obj.backoffMultiplier <= 0) {\n        throw new Error('Invalid method config retry policy: backoffMultiplier must be a number greater than 0');\n    }\n    if (!('retryableStatusCodes' in obj && Array.isArray(obj.retryableStatusCodes))) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes is required');\n    }\n    if (obj.retryableStatusCodes.length === 0) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes must be non-empty');\n    }\n    for (const value of obj.retryableStatusCodes) {\n        if (typeof value === 'number') {\n            if (!Object.values(constants_1.Status).includes(value)) {\n                throw new Error('Invalid method config retry policy: retryableStatusCodes value not in status code range');\n            }\n        }\n        else if (typeof value === 'string') {\n            if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n                throw new Error('Invalid method config retry policy: retryableStatusCodes value not a status code name');\n            }\n        }\n        else {\n            throw new Error('Invalid method config retry policy: retryableStatusCodes value must be a string or number');\n        }\n    }\n    return {\n        maxAttempts: obj.maxAttempts,\n        initialBackoff: obj.initialBackoff,\n        maxBackoff: obj.maxBackoff,\n        backoffMultiplier: obj.backoffMultiplier,\n        retryableStatusCodes: obj.retryableStatusCodes,\n    };\n}\nfunction validateHedgingPolicy(obj) {\n    if (!('maxAttempts' in obj) ||\n        !Number.isInteger(obj.maxAttempts) ||\n        obj.maxAttempts < 2) {\n        throw new Error('Invalid method config hedging policy: maxAttempts must be an integer at least 2');\n    }\n    if ('hedgingDelay' in obj &&\n        (typeof obj.hedgingDelay !== 'string' ||\n            !DURATION_REGEX.test(obj.hedgingDelay))) {\n        throw new Error('Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s');\n    }\n    if ('nonFatalStatusCodes' in obj && Array.isArray(obj.nonFatalStatusCodes)) {\n        for (const value of obj.nonFatalStatusCodes) {\n            if (typeof value === 'number') {\n                if (!Object.values(constants_1.Status).includes(value)) {\n                    throw new Error('Invalid method config hedging policy: nonFatalStatusCodes value not in status code range');\n                }\n            }\n            else if (typeof value === 'string') {\n                if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n                    throw new Error('Invalid method config hedging policy: nonFatalStatusCodes value not a status code name');\n                }\n            }\n            else {\n                throw new Error('Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number');\n            }\n        }\n    }\n    const result = {\n        maxAttempts: obj.maxAttempts,\n    };\n    if (obj.hedgingDelay) {\n        result.hedgingDelay = obj.hedgingDelay;\n    }\n    if (obj.nonFatalStatusCodes) {\n        result.nonFatalStatusCodes = obj.nonFatalStatusCodes;\n    }\n    return result;\n}\nfunction validateMethodConfig(obj) {\n    var _a;\n    const result = {\n        name: [],\n    };\n    if (!('name' in obj) || !Array.isArray(obj.name)) {\n        throw new Error('Invalid method config: invalid name array');\n    }\n    for (const name of obj.name) {\n        result.name.push(validateName(name));\n    }\n    if ('waitForReady' in obj) {\n        if (typeof obj.waitForReady !== 'boolean') {\n            throw new Error('Invalid method config: invalid waitForReady');\n        }\n        result.waitForReady = obj.waitForReady;\n    }\n    if ('timeout' in obj) {\n        if (typeof obj.timeout === 'object') {\n            if (!('seconds' in obj.timeout) ||\n                !(typeof obj.timeout.seconds === 'number')) {\n                throw new Error('Invalid method config: invalid timeout.seconds');\n            }\n            if (!('nanos' in obj.timeout) ||\n                !(typeof obj.timeout.nanos === 'number')) {\n                throw new Error('Invalid method config: invalid timeout.nanos');\n            }\n            result.timeout = obj.timeout;\n        }\n        else if (typeof obj.timeout === 'string' &&\n            DURATION_REGEX.test(obj.timeout)) {\n            const timeoutParts = obj.timeout\n                .substring(0, obj.timeout.length - 1)\n                .split('.');\n            result.timeout = {\n                seconds: timeoutParts[0] | 0,\n                nanos: ((_a = timeoutParts[1]) !== null && _a !== void 0 ? _a : 0) | 0,\n            };\n        }\n        else {\n            throw new Error('Invalid method config: invalid timeout');\n        }\n    }\n    if ('maxRequestBytes' in obj) {\n        if (typeof obj.maxRequestBytes !== 'number') {\n            throw new Error('Invalid method config: invalid maxRequestBytes');\n        }\n        result.maxRequestBytes = obj.maxRequestBytes;\n    }\n    if ('maxResponseBytes' in obj) {\n        if (typeof obj.maxResponseBytes !== 'number') {\n            throw new Error('Invalid method config: invalid maxRequestBytes');\n        }\n        result.maxResponseBytes = obj.maxResponseBytes;\n    }\n    if ('retryPolicy' in obj) {\n        if ('hedgingPolicy' in obj) {\n            throw new Error('Invalid method config: retryPolicy and hedgingPolicy cannot both be specified');\n        }\n        else {\n            result.retryPolicy = validateRetryPolicy(obj.retryPolicy);\n        }\n    }\n    else if ('hedgingPolicy' in obj) {\n        result.hedgingPolicy = validateHedgingPolicy(obj.hedgingPolicy);\n    }\n    return result;\n}\nfunction validateRetryThrottling(obj) {\n    if (!('maxTokens' in obj) ||\n        typeof obj.maxTokens !== 'number' ||\n        obj.maxTokens <= 0 ||\n        obj.maxTokens > 1000) {\n        throw new Error('Invalid retryThrottling: maxTokens must be a number in (0, 1000]');\n    }\n    if (!('tokenRatio' in obj) ||\n        typeof obj.tokenRatio !== 'number' ||\n        obj.tokenRatio <= 0) {\n        throw new Error('Invalid retryThrottling: tokenRatio must be a number greater than 0');\n    }\n    return {\n        maxTokens: +obj.maxTokens.toFixed(3),\n        tokenRatio: +obj.tokenRatio.toFixed(3),\n    };\n}\nfunction validateLoadBalancingConfig(obj) {\n    if (!(typeof obj === 'object' && obj !== null)) {\n        throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof obj}`);\n    }\n    const keys = Object.keys(obj);\n    if (keys.length > 1) {\n        throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${keys}`);\n    }\n    if (keys.length === 0) {\n        throw new Error('Invalid loadBalancingConfig: load balancing policy name required');\n    }\n    return {\n        [keys[0]]: obj[keys[0]],\n    };\n}\nfunction validateServiceConfig(obj) {\n    const result = {\n        loadBalancingConfig: [],\n        methodConfig: [],\n    };\n    if ('loadBalancingPolicy' in obj) {\n        if (typeof obj.loadBalancingPolicy === 'string') {\n            result.loadBalancingPolicy = obj.loadBalancingPolicy;\n        }\n        else {\n            throw new Error('Invalid service config: invalid loadBalancingPolicy');\n        }\n    }\n    if ('loadBalancingConfig' in obj) {\n        if (Array.isArray(obj.loadBalancingConfig)) {\n            for (const config of obj.loadBalancingConfig) {\n                result.loadBalancingConfig.push(validateLoadBalancingConfig(config));\n            }\n        }\n        else {\n            throw new Error('Invalid service config: invalid loadBalancingConfig');\n        }\n    }\n    if ('methodConfig' in obj) {\n        if (Array.isArray(obj.methodConfig)) {\n            for (const methodConfig of obj.methodConfig) {\n                result.methodConfig.push(validateMethodConfig(methodConfig));\n            }\n        }\n    }\n    if ('retryThrottling' in obj) {\n        result.retryThrottling = validateRetryThrottling(obj.retryThrottling);\n    }\n    // Validate method name uniqueness\n    const seenMethodNames = [];\n    for (const methodConfig of result.methodConfig) {\n        for (const name of methodConfig.name) {\n            for (const seenName of seenMethodNames) {\n                if (name.service === seenName.service &&\n                    name.method === seenName.method) {\n                    throw new Error(`Invalid service config: duplicate name ${name.service}/${name.method}`);\n                }\n            }\n            seenMethodNames.push(name);\n        }\n    }\n    return result;\n}\nfunction validateCanaryConfig(obj) {\n    if (!('serviceConfig' in obj)) {\n        throw new Error('Invalid service config choice: missing service config');\n    }\n    const result = {\n        serviceConfig: validateServiceConfig(obj.serviceConfig),\n    };\n    if ('clientLanguage' in obj) {\n        if (Array.isArray(obj.clientLanguage)) {\n            result.clientLanguage = [];\n            for (const lang of obj.clientLanguage) {\n                if (typeof lang === 'string') {\n                    result.clientLanguage.push(lang);\n                }\n                else {\n                    throw new Error('Invalid service config choice: invalid clientLanguage');\n                }\n            }\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid clientLanguage');\n        }\n    }\n    if ('clientHostname' in obj) {\n        if (Array.isArray(obj.clientHostname)) {\n            result.clientHostname = [];\n            for (const lang of obj.clientHostname) {\n                if (typeof lang === 'string') {\n                    result.clientHostname.push(lang);\n                }\n                else {\n                    throw new Error('Invalid service config choice: invalid clientHostname');\n                }\n            }\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid clientHostname');\n        }\n    }\n    if ('percentage' in obj) {\n        if (typeof obj.percentage === 'number' &&\n            0 <= obj.percentage &&\n            obj.percentage <= 100) {\n            result.percentage = obj.percentage;\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid percentage');\n        }\n    }\n    // Validate that no unexpected fields are present\n    const allowedFields = [\n        'clientLanguage',\n        'percentage',\n        'clientHostname',\n        'serviceConfig',\n    ];\n    for (const field in obj) {\n        if (!allowedFields.includes(field)) {\n            throw new Error(`Invalid service config choice: unexpected field ${field}`);\n        }\n    }\n    return result;\n}\nfunction validateAndSelectCanaryConfig(obj, percentage) {\n    if (!Array.isArray(obj)) {\n        throw new Error('Invalid service config list');\n    }\n    for (const config of obj) {\n        const validatedConfig = validateCanaryConfig(config);\n        /* For each field, we check if it is present, then only discard the\n         * config if the field value does not match the current client */\n        if (typeof validatedConfig.percentage === 'number' &&\n            percentage > validatedConfig.percentage) {\n            continue;\n        }\n        if (Array.isArray(validatedConfig.clientHostname)) {\n            let hostnameMatched = false;\n            for (const hostname of validatedConfig.clientHostname) {\n                if (hostname === os.hostname()) {\n                    hostnameMatched = true;\n                }\n            }\n            if (!hostnameMatched) {\n                continue;\n            }\n        }\n        if (Array.isArray(validatedConfig.clientLanguage)) {\n            let languageMatched = false;\n            for (const language of validatedConfig.clientLanguage) {\n                if (language === CLIENT_LANGUAGE_STRING) {\n                    languageMatched = true;\n                }\n            }\n            if (!languageMatched) {\n                continue;\n            }\n        }\n        return validatedConfig.serviceConfig;\n    }\n    throw new Error('No matching service config found');\n}\n/**\n * Find the \"grpc_config\" record among the TXT records, parse its value as JSON, validate its contents,\n * and select a service config with selection fields that all match this client. Most of these steps\n * can fail with an error; the caller must handle any errors thrown this way.\n * @param txtRecord The TXT record array that is output from a successful call to dns.resolveTxt\n * @param percentage A number chosen from the range [0, 100) that is used to select which config to use\n * @return The service configuration to use, given the percentage value, or null if the service config\n *     data has a valid format but none of the options match the current client.\n */\nfunction extractAndSelectServiceConfig(txtRecord, percentage) {\n    for (const record of txtRecord) {\n        if (record.length > 0 && record[0].startsWith('grpc_config=')) {\n            /* Treat the list of strings in this record as a single string and remove\n             * \"grpc_config=\" from the beginning. The rest should be a JSON string */\n            const recordString = record.join('').substring('grpc_config='.length);\n            const recordJson = JSON.parse(recordString);\n            return validateAndSelectCanaryConfig(recordJson, percentage);\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=service-config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmljZS1jb25maWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IsNkJBQTZCO0FBQzdCLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxJQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxtQkFBbUI7QUFDekg7QUFDQTtBQUNBO0FBQ0EseUdBQXlHLG1CQUFtQjtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsV0FBVztBQUNuRjtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsS0FBSztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsYUFBYSxHQUFHLFlBQVk7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxNQUFNO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmljZS1jb25maWcuanM/ODQ0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZVJldHJ5VGhyb3R0bGluZyA9IHZhbGlkYXRlUmV0cnlUaHJvdHRsaW5nO1xuZXhwb3J0cy52YWxpZGF0ZVNlcnZpY2VDb25maWcgPSB2YWxpZGF0ZVNlcnZpY2VDb25maWc7XG5leHBvcnRzLmV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnID0gZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWc7XG4vKiBUaGlzIGZpbGUgaW1wbGVtZW50cyBnUkZDIEEyIGFuZCB0aGUgc2VydmljZSBjb25maWcgc3BlYzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvbWFzdGVyL0EyLXNlcnZpY2UtY29uZmlncy1pbi1kbnMubWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL3NlcnZpY2VfY29uZmlnLm1kLiBFYWNoXG4gKiBmdW5jdGlvbiBoZXJlIHRha2VzIGFuIG9iamVjdCB3aXRoIHVua25vd24gc3RydWN0dXJlIGFuZCByZXR1cm5zIGl0c1xuICogc3BlY2lmaWMgb2JqZWN0IHR5cGUgaWYgdGhlIGlucHV0IGhhcyB0aGUgcmlnaHQgc3RydWN0dXJlLCBhbmQgdGhyb3dzIGFuXG4gKiBlcnJvciBvdGhlcndpc2UuICovXG4vKiBUaGUgYW55IHR5cGUgaXMgcHVycG9zZWx5IHVzZWQgaGVyZS4gQWxsIGZ1bmN0aW9ucyB2YWxpZGF0ZSB0aGVpciBpbnB1dCBhdFxuICogcnVudGltZSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogUmVjb2duaXplcyBhIG51bWJlciB3aXRoIHVwIHRvIDkgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LCBmb2xsb3dlZCBieVxuICogYW4gXCJzXCIsIHJlcHJlc2VudGluZyBhIG51bWJlciBvZiBzZWNvbmRzLlxuICovXG5jb25zdCBEVVJBVElPTl9SRUdFWCA9IC9eXFxkKyhcXC5cXGR7MSw5fSk/cyQvO1xuLyoqXG4gKiBDbGllbnQgbGFuZ3VhZ2UgbmFtZSB1c2VkIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRoaXMgY2xpZW50IG1hdGNoZXMgYVxuICogYFNlcnZpY2VDb25maWdDYW5hcnlDb25maWdgJ3MgYGNsaWVudExhbmd1YWdlYCBsaXN0LlxuICovXG5jb25zdCBDTElFTlRfTEFOR1VBR0VfU1RSSU5HID0gJ25vZGUnO1xuZnVuY3Rpb24gdmFsaWRhdGVOYW1lKG9iaikge1xuICAgIC8vIEluIHRoaXMgY29udGV4dCwgYW5kIHVuc2V0IGZpZWxkIGFuZCAnJyBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICAgIGlmICgnc2VydmljZScgaW4gb2JqICYmIG9iai5zZXJ2aWNlICE9PSAnJykge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5zZXJ2aWNlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1ldGhvZCBjb25maWcgbmFtZTogaW52YWxpZCBzZXJ2aWNlOiBleHBlY3RlZCB0eXBlIHN0cmluZywgZ290ICR7dHlwZW9mIG9iai5zZXJ2aWNlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnbWV0aG9kJyBpbiBvYmogJiYgb2JqLm1ldGhvZCAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLm1ldGhvZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWV0aG9kIGNvbmZpZyBuYW1lOiBpbnZhbGlkIG1ldGhvZDogZXhwZWN0ZWQgdHlwZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvYmouc2VydmljZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogb2JqLnNlcnZpY2UsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBvYmoubWV0aG9kLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogb2JqLnNlcnZpY2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoJ21ldGhvZCcgaW4gb2JqICYmIG9iai5tZXRob2QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1ldGhvZCBjb25maWcgbmFtZTogbWV0aG9kIHNldCB3aXRoIGVtcHR5IG9yIHVuc2V0IHNlcnZpY2VgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVSZXRyeVBvbGljeShvYmopIHtcbiAgICBpZiAoISgnbWF4QXR0ZW1wdHMnIGluIG9iaikgfHxcbiAgICAgICAgIU51bWJlci5pc0ludGVnZXIob2JqLm1heEF0dGVtcHRzKSB8fFxuICAgICAgICBvYmoubWF4QXR0ZW1wdHMgPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogbWF4QXR0ZW1wdHMgbXVzdCBiZSBhbiBpbnRlZ2VyIGF0IGxlYXN0IDInKTtcbiAgICB9XG4gICAgaWYgKCEoJ2luaXRpYWxCYWNrb2ZmJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmouaW5pdGlhbEJhY2tvZmYgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICFEVVJBVElPTl9SRUdFWC50ZXN0KG9iai5pbml0aWFsQmFja29mZikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiBpbml0aWFsQmFja29mZiBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIG9yIGRlY2ltYWwgZm9sbG93ZWQgYnkgcycpO1xuICAgIH1cbiAgICBpZiAoISgnbWF4QmFja29mZicgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLm1heEJhY2tvZmYgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICFEVVJBVElPTl9SRUdFWC50ZXN0KG9iai5tYXhCYWNrb2ZmKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IG1heEJhY2tvZmYgbXVzdCBiZSBhIHN0cmluZyBjb25zaXN0aW5nIG9mIGEgcG9zaXRpdmUgaW50ZWdlciBvciBkZWNpbWFsIGZvbGxvd2VkIGJ5IHMnKTtcbiAgICB9XG4gICAgaWYgKCEoJ2JhY2tvZmZNdWx0aXBsaWVyJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmouYmFja29mZk11bHRpcGxpZXIgIT09ICdudW1iZXInIHx8XG4gICAgICAgIG9iai5iYWNrb2ZmTXVsdGlwbGllciA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogYmFja29mZk11bHRpcGxpZXIgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMCcpO1xuICAgIH1cbiAgICBpZiAoISgncmV0cnlhYmxlU3RhdHVzQ29kZXMnIGluIG9iaiAmJiBBcnJheS5pc0FycmF5KG9iai5yZXRyeWFibGVTdGF0dXNDb2RlcykpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogcmV0cnlhYmxlU3RhdHVzQ29kZXMgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgaWYgKG9iai5yZXRyeWFibGVTdGF0dXNDb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyBtdXN0IGJlIG5vbi1lbXB0eScpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIG9iai5yZXRyeWFibGVTdGF0dXNDb2Rlcykge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKGNvbnN0YW50c18xLlN0YXR1cykuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBub3QgaW4gc3RhdHVzIGNvZGUgcmFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogcmV0cnlhYmxlU3RhdHVzQ29kZXMgdmFsdWUgbm90IGEgc3RhdHVzIGNvZGUgbmFtZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1heEF0dGVtcHRzOiBvYmoubWF4QXR0ZW1wdHMsXG4gICAgICAgIGluaXRpYWxCYWNrb2ZmOiBvYmouaW5pdGlhbEJhY2tvZmYsXG4gICAgICAgIG1heEJhY2tvZmY6IG9iai5tYXhCYWNrb2ZmLFxuICAgICAgICBiYWNrb2ZmTXVsdGlwbGllcjogb2JqLmJhY2tvZmZNdWx0aXBsaWVyLFxuICAgICAgICByZXRyeWFibGVTdGF0dXNDb2Rlczogb2JqLnJldHJ5YWJsZVN0YXR1c0NvZGVzLFxuICAgIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUhlZGdpbmdQb2xpY3kob2JqKSB7XG4gICAgaWYgKCEoJ21heEF0dGVtcHRzJyBpbiBvYmopIHx8XG4gICAgICAgICFOdW1iZXIuaXNJbnRlZ2VyKG9iai5tYXhBdHRlbXB0cykgfHxcbiAgICAgICAgb2JqLm1heEF0dGVtcHRzIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbWF4QXR0ZW1wdHMgbXVzdCBiZSBhbiBpbnRlZ2VyIGF0IGxlYXN0IDInKTtcbiAgICB9XG4gICAgaWYgKCdoZWRnaW5nRGVsYXknIGluIG9iaiAmJlxuICAgICAgICAodHlwZW9mIG9iai5oZWRnaW5nRGVsYXkgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAhRFVSQVRJT05fUkVHRVgudGVzdChvYmouaGVkZ2luZ0RlbGF5KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgaGVkZ2luZyBwb2xpY3k6IGhlZGdpbmdEZWxheSBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5IHMnKTtcbiAgICB9XG4gICAgaWYgKCdub25GYXRhbFN0YXR1c0NvZGVzJyBpbiBvYmogJiYgQXJyYXkuaXNBcnJheShvYmoubm9uRmF0YWxTdGF0dXNDb2RlcykpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBvYmoubm9uRmF0YWxTdGF0dXNDb2Rlcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgaGVkZ2luZyBwb2xpY3k6IG5vbkZhdGFsU3RhdHVzQ29kZXMgdmFsdWUgbm90IGluIHN0YXR1cyBjb2RlIHJhbmdlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LnZhbHVlcyhjb25zdGFudHNfMS5TdGF0dXMpLmluY2x1ZGVzKHZhbHVlLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIGhlZGdpbmcgcG9saWN5OiBub25GYXRhbFN0YXR1c0NvZGVzIHZhbHVlIG5vdCBhIHN0YXR1cyBjb2RlIG5hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbm9uRmF0YWxTdGF0dXNDb2RlcyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbWF4QXR0ZW1wdHM6IG9iai5tYXhBdHRlbXB0cyxcbiAgICB9O1xuICAgIGlmIChvYmouaGVkZ2luZ0RlbGF5KSB7XG4gICAgICAgIHJlc3VsdC5oZWRnaW5nRGVsYXkgPSBvYmouaGVkZ2luZ0RlbGF5O1xuICAgIH1cbiAgICBpZiAob2JqLm5vbkZhdGFsU3RhdHVzQ29kZXMpIHtcbiAgICAgICAgcmVzdWx0Lm5vbkZhdGFsU3RhdHVzQ29kZXMgPSBvYmoubm9uRmF0YWxTdGF0dXNDb2RlcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTWV0aG9kQ29uZmlnKG9iaikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IFtdLFxuICAgIH07XG4gICAgaWYgKCEoJ25hbWUnIGluIG9iaikgfHwgIUFycmF5LmlzQXJyYXkob2JqLm5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG5hbWUgYXJyYXknKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIG9iai5uYW1lKSB7XG4gICAgICAgIHJlc3VsdC5uYW1lLnB1c2godmFsaWRhdGVOYW1lKG5hbWUpKTtcbiAgICB9XG4gICAgaWYgKCd3YWl0Rm9yUmVhZHknIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai53YWl0Rm9yUmVhZHkgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgd2FpdEZvclJlYWR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LndhaXRGb3JSZWFkeSA9IG9iai53YWl0Rm9yUmVhZHk7XG4gICAgfVxuICAgIGlmICgndGltZW91dCcgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnRpbWVvdXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoISgnc2Vjb25kcycgaW4gb2JqLnRpbWVvdXQpIHx8XG4gICAgICAgICAgICAgICAgISh0eXBlb2Ygb2JqLnRpbWVvdXQuc2Vjb25kcyA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgdGltZW91dC5zZWNvbmRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISgnbmFub3MnIGluIG9iai50aW1lb3V0KSB8fFxuICAgICAgICAgICAgICAgICEodHlwZW9mIG9iai50aW1lb3V0Lm5hbm9zID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0Lm5hbm9zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQudGltZW91dCA9IG9iai50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmoudGltZW91dCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIERVUkFUSU9OX1JFR0VYLnRlc3Qob2JqLnRpbWVvdXQpKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0UGFydHMgPSBvYmoudGltZW91dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMCwgb2JqLnRpbWVvdXQubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICAuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHJlc3VsdC50aW1lb3V0ID0ge1xuICAgICAgICAgICAgICAgIHNlY29uZHM6IHRpbWVvdXRQYXJ0c1swXSB8IDAsXG4gICAgICAgICAgICAgICAgbmFub3M6ICgoX2EgPSB0aW1lb3V0UGFydHNbMV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApIHwgMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdtYXhSZXF1ZXN0Qnl0ZXMnIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5tYXhSZXF1ZXN0Qnl0ZXMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCBtYXhSZXF1ZXN0Qnl0ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWF4UmVxdWVzdEJ5dGVzID0gb2JqLm1heFJlcXVlc3RCeXRlcztcbiAgICB9XG4gICAgaWYgKCdtYXhSZXNwb25zZUJ5dGVzJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoubWF4UmVzcG9uc2VCeXRlcyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG1heFJlcXVlc3RCeXRlcycpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5tYXhSZXNwb25zZUJ5dGVzID0gb2JqLm1heFJlc3BvbnNlQnl0ZXM7XG4gICAgfVxuICAgIGlmICgncmV0cnlQb2xpY3knIGluIG9iaikge1xuICAgICAgICBpZiAoJ2hlZGdpbmdQb2xpY3knIGluIG9iaikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IHJldHJ5UG9saWN5IGFuZCBoZWRnaW5nUG9saWN5IGNhbm5vdCBib3RoIGJlIHNwZWNpZmllZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnJldHJ5UG9saWN5ID0gdmFsaWRhdGVSZXRyeVBvbGljeShvYmoucmV0cnlQb2xpY3kpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCdoZWRnaW5nUG9saWN5JyBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0LmhlZGdpbmdQb2xpY3kgPSB2YWxpZGF0ZUhlZGdpbmdQb2xpY3kob2JqLmhlZGdpbmdQb2xpY3kpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVSZXRyeVRocm90dGxpbmcob2JqKSB7XG4gICAgaWYgKCEoJ21heFRva2VucycgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLm1heFRva2VucyAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgb2JqLm1heFRva2VucyA8PSAwIHx8XG4gICAgICAgIG9iai5tYXhUb2tlbnMgPiAxMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXRyeVRocm90dGxpbmc6IG1heFRva2VucyBtdXN0IGJlIGEgbnVtYmVyIGluICgwLCAxMDAwXScpO1xuICAgIH1cbiAgICBpZiAoISgndG9rZW5SYXRpbycgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLnRva2VuUmF0aW8gIT09ICdudW1iZXInIHx8XG4gICAgICAgIG9iai50b2tlblJhdGlvIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJldHJ5VGhyb3R0bGluZzogdG9rZW5SYXRpbyBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1heFRva2VuczogK29iai5tYXhUb2tlbnMudG9GaXhlZCgzKSxcbiAgICAgICAgdG9rZW5SYXRpbzogK29iai50b2tlblJhdGlvLnRvRml4ZWQoMyksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTG9hZEJhbGFuY2luZ0NvbmZpZyhvYmopIHtcbiAgICBpZiAoISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2FkQmFsYW5jaW5nQ29uZmlnOiB1bmV4cGVjdGVkIHR5cGUgJHt0eXBlb2Ygb2JqfWApO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2FkQmFsYW5jaW5nQ29uZmlnOiB1bmV4cGVjdGVkIG11bHRpcGxlIGtleXMgJHtrZXlzfWApO1xuICAgIH1cbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxvYWRCYWxhbmNpbmdDb25maWc6IGxvYWQgYmFsYW5jaW5nIHBvbGljeSBuYW1lIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFtrZXlzWzBdXTogb2JqW2tleXNbMF1dLFxuICAgIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVNlcnZpY2VDb25maWcob2JqKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBsb2FkQmFsYW5jaW5nQ29uZmlnOiBbXSxcbiAgICAgICAgbWV0aG9kQ29uZmlnOiBbXSxcbiAgICB9O1xuICAgIGlmICgnbG9hZEJhbGFuY2luZ1BvbGljeScgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLmxvYWRCYWxhbmNpbmdQb2xpY3kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXN1bHQubG9hZEJhbGFuY2luZ1BvbGljeSA9IG9iai5sb2FkQmFsYW5jaW5nUG9saWN5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnOiBpbnZhbGlkIGxvYWRCYWxhbmNpbmdQb2xpY3knKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ2xvYWRCYWxhbmNpbmdDb25maWcnIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoubG9hZEJhbGFuY2luZ0NvbmZpZykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29uZmlnIG9mIG9iai5sb2FkQmFsYW5jaW5nQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmxvYWRCYWxhbmNpbmdDb25maWcucHVzaCh2YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWcoY29uZmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWc6IGludmFsaWQgbG9hZEJhbGFuY2luZ0NvbmZpZycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnbWV0aG9kQ29uZmlnJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLm1ldGhvZENvbmZpZykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWV0aG9kQ29uZmlnIG9mIG9iai5tZXRob2RDb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQubWV0aG9kQ29uZmlnLnB1c2godmFsaWRhdGVNZXRob2RDb25maWcobWV0aG9kQ29uZmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdyZXRyeVRocm90dGxpbmcnIGluIG9iaikge1xuICAgICAgICByZXN1bHQucmV0cnlUaHJvdHRsaW5nID0gdmFsaWRhdGVSZXRyeVRocm90dGxpbmcob2JqLnJldHJ5VGhyb3R0bGluZyk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIG1ldGhvZCBuYW1lIHVuaXF1ZW5lc3NcbiAgICBjb25zdCBzZWVuTWV0aG9kTmFtZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZENvbmZpZyBvZiByZXN1bHQubWV0aG9kQ29uZmlnKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBtZXRob2RDb25maWcubmFtZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWVuTmFtZSBvZiBzZWVuTWV0aG9kTmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5zZXJ2aWNlID09PSBzZWVuTmFtZS5zZXJ2aWNlICYmXG4gICAgICAgICAgICAgICAgICAgIG5hbWUubWV0aG9kID09PSBzZWVuTmFtZS5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNlcnZpY2UgY29uZmlnOiBkdXBsaWNhdGUgbmFtZSAke25hbWUuc2VydmljZX0vJHtuYW1lLm1ldGhvZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWVuTWV0aG9kTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVDYW5hcnlDb25maWcob2JqKSB7XG4gICAgaWYgKCEoJ3NlcnZpY2VDb25maWcnIGluIG9iaikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogbWlzc2luZyBzZXJ2aWNlIGNvbmZpZycpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHNlcnZpY2VDb25maWc6IHZhbGlkYXRlU2VydmljZUNvbmZpZyhvYmouc2VydmljZUNvbmZpZyksXG4gICAgfTtcbiAgICBpZiAoJ2NsaWVudExhbmd1YWdlJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLmNsaWVudExhbmd1YWdlKSkge1xuICAgICAgICAgICAgcmVzdWx0LmNsaWVudExhbmd1YWdlID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxhbmcgb2Ygb2JqLmNsaWVudExhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2xpZW50TGFuZ3VhZ2UucHVzaChsYW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IGludmFsaWQgY2xpZW50TGFuZ3VhZ2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIGNsaWVudExhbmd1YWdlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdjbGllbnRIb3N0bmFtZScgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iai5jbGllbnRIb3N0bmFtZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jbGllbnRIb3N0bmFtZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYW5nIG9mIG9iai5jbGllbnRIb3N0bmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFuZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNsaWVudEhvc3RuYW1lLnB1c2gobGFuZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIGNsaWVudEhvc3RuYW1lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogaW52YWxpZCBjbGllbnRIb3N0bmFtZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgncGVyY2VudGFnZScgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnBlcmNlbnRhZ2UgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAwIDw9IG9iai5wZXJjZW50YWdlICYmXG4gICAgICAgICAgICBvYmoucGVyY2VudGFnZSA8PSAxMDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wZXJjZW50YWdlID0gb2JqLnBlcmNlbnRhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIHBlcmNlbnRhZ2UnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IG5vIHVuZXhwZWN0ZWQgZmllbGRzIGFyZSBwcmVzZW50XG4gICAgY29uc3QgYWxsb3dlZEZpZWxkcyA9IFtcbiAgICAgICAgJ2NsaWVudExhbmd1YWdlJyxcbiAgICAgICAgJ3BlcmNlbnRhZ2UnLFxuICAgICAgICAnY2xpZW50SG9zdG5hbWUnLFxuICAgICAgICAnc2VydmljZUNvbmZpZycsXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIG9iaikge1xuICAgICAgICBpZiAoIWFsbG93ZWRGaWVsZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiB1bmV4cGVjdGVkIGZpZWxkICR7ZmllbGR9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQW5kU2VsZWN0Q2FuYXJ5Q29uZmlnKG9iaiwgcGVyY2VudGFnZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBsaXN0Jyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIG9iaikge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRDb25maWcgPSB2YWxpZGF0ZUNhbmFyeUNvbmZpZyhjb25maWcpO1xuICAgICAgICAvKiBGb3IgZWFjaCBmaWVsZCwgd2UgY2hlY2sgaWYgaXQgaXMgcHJlc2VudCwgdGhlbiBvbmx5IGRpc2NhcmQgdGhlXG4gICAgICAgICAqIGNvbmZpZyBpZiB0aGUgZmllbGQgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnQgY2xpZW50ICovXG4gICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGVkQ29uZmlnLnBlcmNlbnRhZ2UgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICBwZXJjZW50YWdlID4gdmFsaWRhdGVkQ29uZmlnLnBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbGlkYXRlZENvbmZpZy5jbGllbnRIb3N0bmFtZSkpIHtcbiAgICAgICAgICAgIGxldCBob3N0bmFtZU1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaG9zdG5hbWUgb2YgdmFsaWRhdGVkQ29uZmlnLmNsaWVudEhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RuYW1lID09PSBvcy5ob3N0bmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RuYW1lTWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFob3N0bmFtZU1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWxpZGF0ZWRDb25maWcuY2xpZW50TGFuZ3VhZ2UpKSB7XG4gICAgICAgICAgICBsZXQgbGFuZ3VhZ2VNYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxhbmd1YWdlIG9mIHZhbGlkYXRlZENvbmZpZy5jbGllbnRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSA9PT0gQ0xJRU5UX0xBTkdVQUdFX1NUUklORykge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbGFuZ3VhZ2VNYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZENvbmZpZy5zZXJ2aWNlQ29uZmlnO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1hdGNoaW5nIHNlcnZpY2UgY29uZmlnIGZvdW5kJyk7XG59XG4vKipcbiAqIEZpbmQgdGhlIFwiZ3JwY19jb25maWdcIiByZWNvcmQgYW1vbmcgdGhlIFRYVCByZWNvcmRzLCBwYXJzZSBpdHMgdmFsdWUgYXMgSlNPTiwgdmFsaWRhdGUgaXRzIGNvbnRlbnRzLFxuICogYW5kIHNlbGVjdCBhIHNlcnZpY2UgY29uZmlnIHdpdGggc2VsZWN0aW9uIGZpZWxkcyB0aGF0IGFsbCBtYXRjaCB0aGlzIGNsaWVudC4gTW9zdCBvZiB0aGVzZSBzdGVwc1xuICogY2FuIGZhaWwgd2l0aCBhbiBlcnJvcjsgdGhlIGNhbGxlciBtdXN0IGhhbmRsZSBhbnkgZXJyb3JzIHRocm93biB0aGlzIHdheS5cbiAqIEBwYXJhbSB0eHRSZWNvcmQgVGhlIFRYVCByZWNvcmQgYXJyYXkgdGhhdCBpcyBvdXRwdXQgZnJvbSBhIHN1Y2Nlc3NmdWwgY2FsbCB0byBkbnMucmVzb2x2ZVR4dFxuICogQHBhcmFtIHBlcmNlbnRhZ2UgQSBudW1iZXIgY2hvc2VuIGZyb20gdGhlIHJhbmdlIFswLCAxMDApIHRoYXQgaXMgdXNlZCB0byBzZWxlY3Qgd2hpY2ggY29uZmlnIHRvIHVzZVxuICogQHJldHVybiBUaGUgc2VydmljZSBjb25maWd1cmF0aW9uIHRvIHVzZSwgZ2l2ZW4gdGhlIHBlcmNlbnRhZ2UgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHNlcnZpY2UgY29uZmlnXG4gKiAgICAgZGF0YSBoYXMgYSB2YWxpZCBmb3JtYXQgYnV0IG5vbmUgb2YgdGhlIG9wdGlvbnMgbWF0Y2ggdGhlIGN1cnJlbnQgY2xpZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0QW5kU2VsZWN0U2VydmljZUNvbmZpZyh0eHRSZWNvcmQsIHBlcmNlbnRhZ2UpIHtcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB0eHRSZWNvcmQpIHtcbiAgICAgICAgaWYgKHJlY29yZC5sZW5ndGggPiAwICYmIHJlY29yZFswXS5zdGFydHNXaXRoKCdncnBjX2NvbmZpZz0nKSkge1xuICAgICAgICAgICAgLyogVHJlYXQgdGhlIGxpc3Qgb2Ygc3RyaW5ncyBpbiB0aGlzIHJlY29yZCBhcyBhIHNpbmdsZSBzdHJpbmcgYW5kIHJlbW92ZVxuICAgICAgICAgICAgICogXCJncnBjX2NvbmZpZz1cIiBmcm9tIHRoZSBiZWdpbm5pbmcuIFRoZSByZXN0IHNob3VsZCBiZSBhIEpTT04gc3RyaW5nICovXG4gICAgICAgICAgICBjb25zdCByZWNvcmRTdHJpbmcgPSByZWNvcmQuam9pbignJykuc3Vic3RyaW5nKCdncnBjX2NvbmZpZz0nLmxlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRKc29uID0gSlNPTi5wYXJzZShyZWNvcmRTdHJpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlQW5kU2VsZWN0Q2FuYXJ5Q29uZmlnKHJlY29yZEpzb24sIHBlcmNlbnRhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmljZS1jb25maWcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/service-config.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/single-subchannel-channel.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/single-subchannel-channel.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2025 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SingleSubchannelChannel = void 0;\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst compression_filter_1 = __webpack_require__(/*! ./compression-filter */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/compression-filter.js\");\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst control_plane_status_1 = __webpack_require__(/*! ./control-plane-status */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/control-plane-status.js\");\nconst deadline_1 = __webpack_require__(/*! ./deadline */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/deadline.js\");\nconst filter_stack_1 = __webpack_require__(/*! ./filter-stack */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/filter-stack.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nclass SubchannelCallWrapper {\n    constructor(subchannel, method, filterStackFactory, options, callNumber) {\n        var _a, _b;\n        this.subchannel = subchannel;\n        this.method = method;\n        this.options = options;\n        this.callNumber = callNumber;\n        this.childCall = null;\n        this.pendingMessage = null;\n        this.readPending = false;\n        this.halfClosePending = false;\n        this.pendingStatus = null;\n        this.readFilterPending = false;\n        this.writeFilterPending = false;\n        const splitPath = this.method.split('/');\n        let serviceName = '';\n        /* The standard path format is \"/{serviceName}/{methodName}\", so if we split\n          * by '/', the first item should be empty and the second should be the\n          * service name */\n        if (splitPath.length >= 2) {\n            serviceName = splitPath[1];\n        }\n        const hostname = (_b = (_a = (0, uri_parser_1.splitHostPort)(this.options.host)) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : 'localhost';\n        /* Currently, call credentials are only allowed on HTTPS connections, so we\n          * can assume that the scheme is \"https\" */\n        this.serviceUrl = `https://${hostname}/${serviceName}`;\n        const timeout = (0, deadline_1.getRelativeTimeout)(options.deadline);\n        if (timeout !== Infinity) {\n            if (timeout <= 0) {\n                this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, 'Deadline exceeded');\n            }\n            else {\n                setTimeout(() => {\n                    this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, 'Deadline exceeded');\n                }, timeout);\n            }\n        }\n        this.filterStack = filterStackFactory.createFilter();\n    }\n    cancelWithStatus(status, details) {\n        if (this.childCall) {\n            this.childCall.cancelWithStatus(status, details);\n        }\n        else {\n            this.pendingStatus = {\n                code: status,\n                details: details,\n                metadata: new metadata_1.Metadata()\n            };\n        }\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.childCall) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.subchannel.getAddress();\n    }\n    async start(metadata, listener) {\n        if (this.pendingStatus) {\n            listener.onReceiveStatus(this.pendingStatus);\n            return;\n        }\n        if (this.subchannel.getConnectivityState() !== connectivity_state_1.ConnectivityState.READY) {\n            listener.onReceiveStatus({\n                code: constants_1.Status.UNAVAILABLE,\n                details: 'Subchannel not ready',\n                metadata: new metadata_1.Metadata()\n            });\n            return;\n        }\n        const filteredMetadata = await this.filterStack.sendMetadata(Promise.resolve(metadata));\n        let credsMetadata;\n        try {\n            credsMetadata = await this.subchannel.getCallCredentials()\n                .generateMetadata({ method_name: this.method, service_url: this.serviceUrl });\n        }\n        catch (e) {\n            const error = e;\n            const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(typeof error.code === 'number' ? error.code : constants_1.Status.UNKNOWN, `Getting metadata from plugin failed with error: ${error.message}`);\n            listener.onReceiveStatus({\n                code: code,\n                details: details,\n                metadata: new metadata_1.Metadata(),\n            });\n            return;\n        }\n        credsMetadata.merge(filteredMetadata);\n        const childListener = {\n            onReceiveMetadata: async (metadata) => {\n                listener.onReceiveMetadata(await this.filterStack.receiveMetadata(metadata));\n            },\n            onReceiveMessage: async (message) => {\n                this.readFilterPending = true;\n                const filteredMessage = await this.filterStack.receiveMessage(message);\n                this.readFilterPending = false;\n                listener.onReceiveMessage(filteredMessage);\n                if (this.pendingStatus) {\n                    listener.onReceiveStatus(this.pendingStatus);\n                }\n            },\n            onReceiveStatus: async (status) => {\n                const filteredStatus = await this.filterStack.receiveTrailers(status);\n                if (this.readFilterPending) {\n                    this.pendingStatus = filteredStatus;\n                }\n                else {\n                    listener.onReceiveStatus(filteredStatus);\n                }\n            }\n        };\n        this.childCall = this.subchannel.createCall(credsMetadata, this.options.host, this.method, childListener);\n        if (this.readPending) {\n            this.childCall.startRead();\n        }\n        if (this.pendingMessage) {\n            this.childCall.sendMessageWithContext(this.pendingMessage.context, this.pendingMessage.message);\n        }\n        if (this.halfClosePending && !this.writeFilterPending) {\n            this.childCall.halfClose();\n        }\n    }\n    async sendMessageWithContext(context, message) {\n        this.writeFilterPending = true;\n        const filteredMessage = await this.filterStack.sendMessage(Promise.resolve({ message: message, flags: context.flags }));\n        this.writeFilterPending = false;\n        if (this.childCall) {\n            this.childCall.sendMessageWithContext(context, filteredMessage.message);\n            if (this.halfClosePending) {\n                this.childCall.halfClose();\n            }\n        }\n        else {\n            this.pendingMessage = { context, message: filteredMessage.message };\n        }\n    }\n    startRead() {\n        if (this.childCall) {\n            this.childCall.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        if (this.childCall && !this.writeFilterPending) {\n            this.childCall.halfClose();\n        }\n        else {\n            this.halfClosePending = true;\n        }\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n    setCredentials(credentials) {\n        throw new Error(\"Method not implemented.\");\n    }\n    getAuthContext() {\n        if (this.childCall) {\n            return this.childCall.getAuthContext();\n        }\n        else {\n            return null;\n        }\n    }\n}\nclass SingleSubchannelChannel {\n    constructor(subchannel, target, options) {\n        this.subchannel = subchannel;\n        this.target = target;\n        this.channelzEnabled = false;\n        this.channelzTrace = new channelz_1.ChannelzTrace();\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.channelzEnabled = options['grpc.enable_channelz'] !== 0;\n        this.channelzRef = (0, channelz_1.registerChannelzChannel)((0, uri_parser_1.uriToString)(target), () => ({\n            target: `${(0, uri_parser_1.uriToString)(target)} (${subchannel.getAddress()})`,\n            state: this.subchannel.getConnectivityState(),\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            children: this.childrenTracker.getChildLists()\n        }), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.childrenTracker.refChild(subchannel.getChannelzRef());\n        }\n        this.filterStackFactory = new filter_stack_1.FilterStackFactory([new compression_filter_1.CompressionFilterFactory(this, options)]);\n    }\n    close() {\n        if (this.channelzEnabled) {\n            this.childrenTracker.unrefChild(this.subchannel.getChannelzRef());\n        }\n        (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n    }\n    getTarget() {\n        return (0, uri_parser_1.uriToString)(this.target);\n    }\n    getConnectivityState(tryToConnect) {\n        throw new Error(\"Method not implemented.\");\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        throw new Error(\"Method not implemented.\");\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    createCall(method, deadline) {\n        const callOptions = {\n            deadline: deadline,\n            host: (0, resolver_1.getDefaultAuthority)(this.target),\n            flags: constants_1.Propagate.DEFAULTS,\n            parentCall: null\n        };\n        return new SubchannelCallWrapper(this.subchannel, method, this.filterStackFactory, callOptions, (0, call_number_1.getNextCallNumber)());\n    }\n}\nexports.SingleSubchannelChannel = SingleSubchannelChannel;\n//# sourceMappingURL=single-subchannel-channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2luZ2xlLXN1YmNoYW5uZWwtY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQjtBQUMvQixzQkFBc0IsbUJBQU8sQ0FBQywwR0FBZTtBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2Qyw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLCtCQUErQixtQkFBTyxDQUFDLDRIQUF3QjtBQUMvRCxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2Qyx1QkFBdUIsbUJBQU8sQ0FBQyw0R0FBZ0I7QUFDL0MsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMscUJBQXFCLG1CQUFPLENBQUMsd0dBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsWUFBWSxFQUFFLFdBQVc7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxTQUFTLEdBQUcsWUFBWTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQXdEO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0IsMExBQTBMLGNBQWM7QUFDNU87QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRix3Q0FBd0M7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1Q0FBdUMsR0FBRyx3QkFBd0I7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NpbmdsZS1zdWJjaGFubmVsLWNoYW5uZWwuanM/Mzk2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaW5nbGVTdWJjaGFubmVsQ2hhbm5lbCA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfbnVtYmVyXzEgPSByZXF1aXJlKFwiLi9jYWxsLW51bWJlclwiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGNvbXByZXNzaW9uX2ZpbHRlcl8xID0gcmVxdWlyZShcIi4vY29tcHJlc3Npb24tZmlsdGVyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEgPSByZXF1aXJlKFwiLi9jb250cm9sLXBsYW5lLXN0YXR1c1wiKTtcbmNvbnN0IGRlYWRsaW5lXzEgPSByZXF1aXJlKFwiLi9kZWFkbGluZVwiKTtcbmNvbnN0IGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNsYXNzIFN1YmNoYW5uZWxDYWxsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3Ioc3ViY2hhbm5lbCwgbWV0aG9kLCBmaWx0ZXJTdGFja0ZhY3RvcnksIG9wdGlvbnMsIGNhbGxOdW1iZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsID0gc3ViY2hhbm5lbDtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY2FsbE51bWJlciA9IGNhbGxOdW1iZXI7XG4gICAgICAgIHRoaXMuY2hpbGRDYWxsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYWxmQ2xvc2VQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc3BsaXRQYXRoID0gdGhpcy5tZXRob2Quc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IHNlcnZpY2VOYW1lID0gJyc7XG4gICAgICAgIC8qIFRoZSBzdGFuZGFyZCBwYXRoIGZvcm1hdCBpcyBcIi97c2VydmljZU5hbWV9L3ttZXRob2ROYW1lfVwiLCBzbyBpZiB3ZSBzcGxpdFxuICAgICAgICAgICogYnkgJy8nLCB0aGUgZmlyc3QgaXRlbSBzaG91bGQgYmUgZW1wdHkgYW5kIHRoZSBzZWNvbmQgc2hvdWxkIGJlIHRoZVxuICAgICAgICAgICogc2VydmljZSBuYW1lICovXG4gICAgICAgIGlmIChzcGxpdFBhdGgubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lID0gc3BsaXRQYXRoWzFdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gKF9iID0gKF9hID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0aGlzLm9wdGlvbnMuaG9zdCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob3N0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnbG9jYWxob3N0JztcbiAgICAgICAgLyogQ3VycmVudGx5LCBjYWxsIGNyZWRlbnRpYWxzIGFyZSBvbmx5IGFsbG93ZWQgb24gSFRUUFMgY29ubmVjdGlvbnMsIHNvIHdlXG4gICAgICAgICAgKiBjYW4gYXNzdW1lIHRoYXQgdGhlIHNjaGVtZSBpcyBcImh0dHBzXCIgKi9cbiAgICAgICAgdGhpcy5zZXJ2aWNlVXJsID0gYGh0dHBzOi8vJHtob3N0bmFtZX0vJHtzZXJ2aWNlTmFtZX1gO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gKDAsIGRlYWRsaW5lXzEuZ2V0UmVsYXRpdmVUaW1lb3V0KShvcHRpb25zLmRlYWRsaW5lKTtcbiAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBpZiAodGltZW91dCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgJ0RlYWRsaW5lIGV4Y2VlZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgJ0RlYWRsaW5lIGV4Y2VlZGVkJyk7XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjayA9IGZpbHRlclN0YWNrRmFjdG9yeS5jcmVhdGVGaWx0ZXIoKTtcbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRDYWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkQ2FsbC5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogc3RhdHVzLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2hpbGRDYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLnN1YmNoYW5uZWwuZ2V0QWRkcmVzcygpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydChtZXRhZGF0YSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1N0YXR1cykge1xuICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJ1N1YmNoYW5uZWwgbm90IHJlYWR5JyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVyZWRNZXRhZGF0YSA9IGF3YWl0IHRoaXMuZmlsdGVyU3RhY2suc2VuZE1ldGFkYXRhKFByb21pc2UucmVzb2x2ZShtZXRhZGF0YSkpO1xuICAgICAgICBsZXQgY3JlZHNNZXRhZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNyZWRzTWV0YWRhdGEgPSBhd2FpdCB0aGlzLnN1YmNoYW5uZWwuZ2V0Q2FsbENyZWRlbnRpYWxzKClcbiAgICAgICAgICAgICAgICAuZ2VuZXJhdGVNZXRhZGF0YSh7IG1ldGhvZF9uYW1lOiB0aGlzLm1ldGhvZCwgc2VydmljZV91cmw6IHRoaXMuc2VydmljZVVybCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlO1xuICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJyA/IGVycm9yLmNvZGUgOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTiwgYEdldHRpbmcgbWV0YWRhdGEgZnJvbSBwbHVnaW4gZmFpbGVkIHdpdGggZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3JlZHNNZXRhZGF0YS5tZXJnZShmaWx0ZXJlZE1ldGFkYXRhKTtcbiAgICAgICAgY29uc3QgY2hpbGRMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBhc3luYyAobWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YShhd2FpdCB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkRmlsdGVyUGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRNZXNzYWdlID0gYXdhaXQgdGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRGaWx0ZXJQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShmaWx0ZXJlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogYXN5bmMgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU3RhdHVzID0gYXdhaXQgdGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlVHJhaWxlcnMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkRmlsdGVyUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBmaWx0ZXJlZFN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyhmaWx0ZXJlZFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoaWxkQ2FsbCA9IHRoaXMuc3ViY2hhbm5lbC5jcmVhdGVDYWxsKGNyZWRzTWV0YWRhdGEsIHRoaXMub3B0aW9ucy5ob3N0LCB0aGlzLm1ldGhvZCwgY2hpbGRMaXN0ZW5lcik7XG4gICAgICAgIGlmICh0aGlzLnJlYWRQZW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkQ2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZENhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFsZkNsb3NlUGVuZGluZyAmJiAhdGhpcy53cml0ZUZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkTWVzc2FnZSA9IGF3YWl0IHRoaXMuZmlsdGVyU3RhY2suc2VuZE1lc3NhZ2UoUHJvbWlzZS5yZXNvbHZlKHsgbWVzc2FnZTogbWVzc2FnZSwgZmxhZ3M6IGNvbnRleHQuZmxhZ3MgfSkpO1xuICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jaGlsZENhbGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFsZkNsb3NlUGVuZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IHsgY29udGV4dCwgbWVzc2FnZTogZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkQ2FsbCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZENhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkQ2FsbCAmJiAhdGhpcy53cml0ZUZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYWxmQ2xvc2VQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDYWxsTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsTnVtYmVyO1xuICAgIH1cbiAgICBzZXRDcmVkZW50aWFscyhjcmVkZW50aWFscykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkQ2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDYWxsLmdldEF1dGhDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNpbmdsZVN1YmNoYW5uZWxDaGFubmVsIHtcbiAgICBjb25zdHJ1Y3RvcihzdWJjaGFubmVsLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsID0gc3ViY2hhbm5lbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgdGhpcy5jYWxsVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IG9wdGlvbnNbJ2dycGMuZW5hYmxlX2NoYW5uZWx6J10gIT09IDA7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6Q2hhbm5lbCkoKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSwgKCkgPT4gKHtcbiAgICAgICAgICAgIHRhcmdldDogYCR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KX0gKCR7c3ViY2hhbm5lbC5nZXRBZGRyZXNzKCl9KWAsXG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCksXG4gICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpXG4gICAgICAgIH0pLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeSA9IG5ldyBmaWx0ZXJfc3RhY2tfMS5GaWx0ZXJTdGFja0ZhY3RvcnkoW25ldyBjb21wcmVzc2lvbl9maWx0ZXJfMS5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkodGhpcywgb3B0aW9ucyldKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIudW5yZWZDaGlsZCh0aGlzLnN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSh0cnlUb0Nvbm5lY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIHdhdGNoQ29ubmVjdGl2aXR5U3RhdGUoY3VycmVudFN0YXRlLCBkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRob2QsIGRlYWRsaW5lKSB7XG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0ge1xuICAgICAgICAgICAgZGVhZGxpbmU6IGRlYWRsaW5lLFxuICAgICAgICAgICAgaG9zdDogKDAsIHJlc29sdmVyXzEuZ2V0RGVmYXVsdEF1dGhvcml0eSkodGhpcy50YXJnZXQpLFxuICAgICAgICAgICAgZmxhZ3M6IGNvbnN0YW50c18xLlByb3BhZ2F0ZS5ERUZBVUxUUyxcbiAgICAgICAgICAgIHBhcmVudENhbGw6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJjaGFubmVsQ2FsbFdyYXBwZXIodGhpcy5zdWJjaGFubmVsLCBtZXRob2QsIHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5LCBjYWxsT3B0aW9ucywgKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2luZ2xlU3ViY2hhbm5lbENoYW5uZWwgPSBTaW5nbGVTdWJjaGFubmVsQ2hhbm5lbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbmdsZS1zdWJjaGFubmVsLWNoYW5uZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/single-subchannel-channel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StatusBuilder = void 0;\n/**\n * A builder for gRPC status objects.\n */\nclass StatusBuilder {\n    constructor() {\n        this.code = null;\n        this.details = null;\n        this.metadata = null;\n    }\n    /**\n     * Adds a status code to the builder.\n     */\n    withCode(code) {\n        this.code = code;\n        return this;\n    }\n    /**\n     * Adds details to the builder.\n     */\n    withDetails(details) {\n        this.details = details;\n        return this;\n    }\n    /**\n     * Adds metadata to the builder.\n     */\n    withMetadata(metadata) {\n        this.metadata = metadata;\n        return this;\n    }\n    /**\n     * Builds the status object.\n     */\n    build() {\n        const status = {};\n        if (this.code !== null) {\n            status.code = this.code;\n        }\n        if (this.details !== null) {\n            status.details = this.details;\n        }\n        if (this.metadata !== null) {\n            status.metadata = this.metadata;\n        }\n        return status;\n    }\n}\nexports.StatusBuilder = StatusBuilder;\n//# sourceMappingURL=status-builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RhdHVzLWJ1aWxkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdGF0dXMtYnVpbGRlci5qcz8wODQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0YXR1c0J1aWxkZXIgPSB2b2lkIDA7XG4vKipcbiAqIEEgYnVpbGRlciBmb3IgZ1JQQyBzdGF0dXMgb2JqZWN0cy5cbiAqL1xuY2xhc3MgU3RhdHVzQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IG51bGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc3RhdHVzIGNvZGUgdG8gdGhlIGJ1aWxkZXIuXG4gICAgICovXG4gICAgd2l0aENvZGUoY29kZSkge1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBkZXRhaWxzIHRvIHRoZSBidWlsZGVyLlxuICAgICAqL1xuICAgIHdpdGhEZXRhaWxzKGRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgbWV0YWRhdGEgdG8gdGhlIGJ1aWxkZXIuXG4gICAgICovXG4gICAgd2l0aE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyB0aGUgc3RhdHVzIG9iamVjdC5cbiAgICAgKi9cbiAgICBidWlsZCgpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0ge307XG4gICAgICAgIGlmICh0aGlzLmNvZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXR1cy5jb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRldGFpbHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXR1cy5kZXRhaWxzID0gdGhpcy5kZXRhaWxzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0dXMubWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufVxuZXhwb3J0cy5TdGF0dXNCdWlsZGVyID0gU3RhdHVzQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXR1cy1idWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/status-builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StreamDecoder = void 0;\nvar ReadState;\n(function (ReadState) {\n    ReadState[ReadState[\"NO_DATA\"] = 0] = \"NO_DATA\";\n    ReadState[ReadState[\"READING_SIZE\"] = 1] = \"READING_SIZE\";\n    ReadState[ReadState[\"READING_MESSAGE\"] = 2] = \"READING_MESSAGE\";\n})(ReadState || (ReadState = {}));\nclass StreamDecoder {\n    constructor(maxReadMessageLength) {\n        this.maxReadMessageLength = maxReadMessageLength;\n        this.readState = ReadState.NO_DATA;\n        this.readCompressFlag = Buffer.alloc(1);\n        this.readPartialSize = Buffer.alloc(4);\n        this.readSizeRemaining = 4;\n        this.readMessageSize = 0;\n        this.readPartialMessage = [];\n        this.readMessageRemaining = 0;\n    }\n    write(data) {\n        let readHead = 0;\n        let toRead;\n        const result = [];\n        while (readHead < data.length) {\n            switch (this.readState) {\n                case ReadState.NO_DATA:\n                    this.readCompressFlag = data.slice(readHead, readHead + 1);\n                    readHead += 1;\n                    this.readState = ReadState.READING_SIZE;\n                    this.readPartialSize.fill(0);\n                    this.readSizeRemaining = 4;\n                    this.readMessageSize = 0;\n                    this.readMessageRemaining = 0;\n                    this.readPartialMessage = [];\n                    break;\n                case ReadState.READING_SIZE:\n                    toRead = Math.min(data.length - readHead, this.readSizeRemaining);\n                    data.copy(this.readPartialSize, 4 - this.readSizeRemaining, readHead, readHead + toRead);\n                    this.readSizeRemaining -= toRead;\n                    readHead += toRead;\n                    // readSizeRemaining >=0 here\n                    if (this.readSizeRemaining === 0) {\n                        this.readMessageSize = this.readPartialSize.readUInt32BE(0);\n                        if (this.maxReadMessageLength !== -1 && this.readMessageSize > this.maxReadMessageLength) {\n                            throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);\n                        }\n                        this.readMessageRemaining = this.readMessageSize;\n                        if (this.readMessageRemaining > 0) {\n                            this.readState = ReadState.READING_MESSAGE;\n                        }\n                        else {\n                            const message = Buffer.concat([this.readCompressFlag, this.readPartialSize], 5);\n                            this.readState = ReadState.NO_DATA;\n                            result.push(message);\n                        }\n                    }\n                    break;\n                case ReadState.READING_MESSAGE:\n                    toRead = Math.min(data.length - readHead, this.readMessageRemaining);\n                    this.readPartialMessage.push(data.slice(readHead, readHead + toRead));\n                    this.readMessageRemaining -= toRead;\n                    readHead += toRead;\n                    // readMessageRemaining >=0 here\n                    if (this.readMessageRemaining === 0) {\n                        // At this point, we have read a full message\n                        const framedMessageBuffers = [\n                            this.readCompressFlag,\n                            this.readPartialSize,\n                        ].concat(this.readPartialMessage);\n                        const framedMessage = Buffer.concat(framedMessageBuffers, this.readMessageSize + 5);\n                        this.readState = ReadState.NO_DATA;\n                        result.push(framedMessage);\n                    }\n                    break;\n                default:\n                    throw new Error('Unexpected read state');\n            }\n        }\n        return result;\n    }\n}\nexports.StreamDecoder = StreamDecoder;\n//# sourceMappingURL=stream-decoder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3RyZWFtLWRlY29kZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEJBQThCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixzQkFBc0IsS0FBSywwQkFBMEI7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N0cmVhbS1kZWNvZGVyLmpzP2NmNjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RyZWFtRGVjb2RlciA9IHZvaWQgMDtcbnZhciBSZWFkU3RhdGU7XG4oZnVuY3Rpb24gKFJlYWRTdGF0ZSkge1xuICAgIFJlYWRTdGF0ZVtSZWFkU3RhdGVbXCJOT19EQVRBXCJdID0gMF0gPSBcIk5PX0RBVEFcIjtcbiAgICBSZWFkU3RhdGVbUmVhZFN0YXRlW1wiUkVBRElOR19TSVpFXCJdID0gMV0gPSBcIlJFQURJTkdfU0laRVwiO1xuICAgIFJlYWRTdGF0ZVtSZWFkU3RhdGVbXCJSRUFESU5HX01FU1NBR0VcIl0gPSAyXSA9IFwiUkVBRElOR19NRVNTQUdFXCI7XG59KShSZWFkU3RhdGUgfHwgKFJlYWRTdGF0ZSA9IHt9KSk7XG5jbGFzcyBTdHJlYW1EZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihtYXhSZWFkTWVzc2FnZUxlbmd0aCkge1xuICAgICAgICB0aGlzLm1heFJlYWRNZXNzYWdlTGVuZ3RoID0gbWF4UmVhZE1lc3NhZ2VMZW5ndGg7XG4gICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLk5PX0RBVEE7XG4gICAgICAgIHRoaXMucmVhZENvbXByZXNzRmxhZyA9IEJ1ZmZlci5hbGxvYygxKTtcbiAgICAgICAgdGhpcy5yZWFkUGFydGlhbFNpemUgPSBCdWZmZXIuYWxsb2MoNCk7XG4gICAgICAgIHRoaXMucmVhZFNpemVSZW1haW5pbmcgPSA0O1xuICAgICAgICB0aGlzLnJlYWRNZXNzYWdlU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMucmVhZFBhcnRpYWxNZXNzYWdlID0gW107XG4gICAgICAgIHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgPSAwO1xuICAgIH1cbiAgICB3cml0ZShkYXRhKSB7XG4gICAgICAgIGxldCByZWFkSGVhZCA9IDA7XG4gICAgICAgIGxldCB0b1JlYWQ7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICB3aGlsZSAocmVhZEhlYWQgPCBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnJlYWRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgUmVhZFN0YXRlLk5PX0RBVEE6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZENvbXByZXNzRmxhZyA9IGRhdGEuc2xpY2UocmVhZEhlYWQsIHJlYWRIZWFkICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRIZWFkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLlJFQURJTkdfU0laRTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkUGFydGlhbFNpemUuZmlsbCgwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkU2l6ZVJlbWFpbmluZyA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZE1lc3NhZ2VTaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFBhcnRpYWxNZXNzYWdlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgUmVhZFN0YXRlLlJFQURJTkdfU0laRTpcbiAgICAgICAgICAgICAgICAgICAgdG9SZWFkID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSByZWFkSGVhZCwgdGhpcy5yZWFkU2l6ZVJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY29weSh0aGlzLnJlYWRQYXJ0aWFsU2l6ZSwgNCAtIHRoaXMucmVhZFNpemVSZW1haW5pbmcsIHJlYWRIZWFkLCByZWFkSGVhZCArIHRvUmVhZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFNpemVSZW1haW5pbmcgLT0gdG9SZWFkO1xuICAgICAgICAgICAgICAgICAgICByZWFkSGVhZCArPSB0b1JlYWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRTaXplUmVtYWluaW5nID49MCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWRTaXplUmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlU2l6ZSA9IHRoaXMucmVhZFBhcnRpYWxTaXplLnJlYWRVSW50MzJCRSgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heFJlYWRNZXNzYWdlTGVuZ3RoICE9PSAtMSAmJiB0aGlzLnJlYWRNZXNzYWdlU2l6ZSA+IHRoaXMubWF4UmVhZE1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY2VpdmVkIG1lc3NhZ2UgbGFyZ2VyIHRoYW4gbWF4ICgke3RoaXMucmVhZE1lc3NhZ2VTaXplfSB2cyAke3RoaXMubWF4UmVhZE1lc3NhZ2VMZW5ndGh9KWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyA9IHRoaXMucmVhZE1lc3NhZ2VTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuUkVBRElOR19NRVNTQUdFO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMucmVhZENvbXByZXNzRmxhZywgdGhpcy5yZWFkUGFydGlhbFNpemVdLCA1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5OT19EQVRBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgUmVhZFN0YXRlLlJFQURJTkdfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICAgICAgdG9SZWFkID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSByZWFkSGVhZCwgdGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFBhcnRpYWxNZXNzYWdlLnB1c2goZGF0YS5zbGljZShyZWFkSGVhZCwgcmVhZEhlYWQgKyB0b1JlYWQpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVJlbWFpbmluZyAtPSB0b1JlYWQ7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRIZWFkICs9IHRvUmVhZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhZE1lc3NhZ2VSZW1haW5pbmcgPj0wIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgcmVhZCBhIGZ1bGwgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVkTWVzc2FnZUJ1ZmZlcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkQ29tcHJlc3NGbGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFBhcnRpYWxTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgXS5jb25jYXQodGhpcy5yZWFkUGFydGlhbE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVkTWVzc2FnZSA9IEJ1ZmZlci5jb25jYXQoZnJhbWVkTWVzc2FnZUJ1ZmZlcnMsIHRoaXMucmVhZE1lc3NhZ2VTaXplICsgNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5OT19EQVRBO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJhbWVkTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHJlYWQgc3RhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmV4cG9ydHMuU3RyZWFtRGVjb2RlciA9IFN0cmVhbURlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW0tZGVjb2Rlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.EndpointMap = void 0;\nexports.isTcpSubchannelAddress = isTcpSubchannelAddress;\nexports.subchannelAddressEqual = subchannelAddressEqual;\nexports.subchannelAddressToString = subchannelAddressToString;\nexports.stringToSubchannelAddress = stringToSubchannelAddress;\nexports.endpointEqual = endpointEqual;\nexports.endpointToString = endpointToString;\nexports.endpointHasAddress = endpointHasAddress;\nconst net_1 = __webpack_require__(/*! net */ \"net\");\nfunction isTcpSubchannelAddress(address) {\n    return 'port' in address;\n}\nfunction subchannelAddressEqual(address1, address2) {\n    if (!address1 && !address2) {\n        return true;\n    }\n    if (!address1 || !address2) {\n        return false;\n    }\n    if (isTcpSubchannelAddress(address1)) {\n        return (isTcpSubchannelAddress(address2) &&\n            address1.host === address2.host &&\n            address1.port === address2.port);\n    }\n    else {\n        return !isTcpSubchannelAddress(address2) && address1.path === address2.path;\n    }\n}\nfunction subchannelAddressToString(address) {\n    if (isTcpSubchannelAddress(address)) {\n        if ((0, net_1.isIPv6)(address.host)) {\n            return '[' + address.host + ']:' + address.port;\n        }\n        else {\n            return address.host + ':' + address.port;\n        }\n    }\n    else {\n        return address.path;\n    }\n}\nconst DEFAULT_PORT = 443;\nfunction stringToSubchannelAddress(addressString, port) {\n    if ((0, net_1.isIP)(addressString)) {\n        return {\n            host: addressString,\n            port: port !== null && port !== void 0 ? port : DEFAULT_PORT,\n        };\n    }\n    else {\n        return {\n            path: addressString,\n        };\n    }\n}\nfunction endpointEqual(endpoint1, endpoint2) {\n    if (endpoint1.addresses.length !== endpoint2.addresses.length) {\n        return false;\n    }\n    for (let i = 0; i < endpoint1.addresses.length; i++) {\n        if (!subchannelAddressEqual(endpoint1.addresses[i], endpoint2.addresses[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction endpointToString(endpoint) {\n    return ('[' + endpoint.addresses.map(subchannelAddressToString).join(', ') + ']');\n}\nfunction endpointHasAddress(endpoint, expectedAddress) {\n    for (const address of endpoint.addresses) {\n        if (subchannelAddressEqual(address, expectedAddress)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction endpointEqualUnordered(endpoint1, endpoint2) {\n    if (endpoint1.addresses.length !== endpoint2.addresses.length) {\n        return false;\n    }\n    for (const address1 of endpoint1.addresses) {\n        let matchFound = false;\n        for (const address2 of endpoint2.addresses) {\n            if (subchannelAddressEqual(address1, address2)) {\n                matchFound = true;\n                break;\n            }\n        }\n        if (!matchFound) {\n            return false;\n        }\n    }\n    return true;\n}\nclass EndpointMap {\n    constructor() {\n        this.map = new Set();\n    }\n    get size() {\n        return this.map.size;\n    }\n    getForSubchannelAddress(address) {\n        for (const entry of this.map) {\n            if (endpointHasAddress(entry.key, address)) {\n                return entry.value;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Delete any entries in this map with keys that are not in endpoints\n     * @param endpoints\n     */\n    deleteMissing(endpoints) {\n        const removedValues = [];\n        for (const entry of this.map) {\n            let foundEntry = false;\n            for (const endpoint of endpoints) {\n                if (endpointEqualUnordered(endpoint, entry.key)) {\n                    foundEntry = true;\n                }\n            }\n            if (!foundEntry) {\n                removedValues.push(entry.value);\n                this.map.delete(entry);\n            }\n        }\n        return removedValues;\n    }\n    get(endpoint) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                return entry.value;\n            }\n        }\n        return undefined;\n    }\n    set(endpoint, mapEntry) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                entry.value = mapEntry;\n                return;\n            }\n        }\n        this.map.add({ key: endpoint, value: mapEntry });\n    }\n    delete(endpoint) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                this.map.delete(entry);\n                return;\n            }\n        }\n    }\n    has(endpoint) {\n        for (const entry of this.map) {\n            if (endpointEqualUnordered(endpoint, entry.key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    clear() {\n        this.map.clear();\n    }\n    *keys() {\n        for (const entry of this.map) {\n            yield entry.key;\n        }\n    }\n    *values() {\n        for (const entry of this.map) {\n            yield entry.value;\n        }\n    }\n    *entries() {\n        for (const entry of this.map) {\n            yield [entry.key, entry.value];\n        }\n    }\n}\nexports.EndpointMap = EndpointMap;\n//# sourceMappingURL=subchannel-address.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1hZGRyZXNzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUIsaUNBQWlDO0FBQ2pDLGlDQUFpQztBQUNqQyxxQkFBcUI7QUFDckIsd0JBQXdCO0FBQ3hCLDBCQUEwQjtBQUMxQixjQUFjLG1CQUFPLENBQUMsZ0JBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQ0FBZ0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0NBQWdDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLWFkZHJlc3MuanM/OGU3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FbmRwb2ludE1hcCA9IHZvaWQgMDtcbmV4cG9ydHMuaXNUY3BTdWJjaGFubmVsQWRkcmVzcyA9IGlzVGNwU3ViY2hhbm5lbEFkZHJlc3M7XG5leHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzRXF1YWwgPSBzdWJjaGFubmVsQWRkcmVzc0VxdWFsO1xuZXhwb3J0cy5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nID0gc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZztcbmV4cG9ydHMuc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcyA9IHN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3M7XG5leHBvcnRzLmVuZHBvaW50RXF1YWwgPSBlbmRwb2ludEVxdWFsO1xuZXhwb3J0cy5lbmRwb2ludFRvU3RyaW5nID0gZW5kcG9pbnRUb1N0cmluZztcbmV4cG9ydHMuZW5kcG9pbnRIYXNBZGRyZXNzID0gZW5kcG9pbnRIYXNBZGRyZXNzO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuZnVuY3Rpb24gaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgcmV0dXJuICdwb3J0JyBpbiBhZGRyZXNzO1xufVxuZnVuY3Rpb24gc3ViY2hhbm5lbEFkZHJlc3NFcXVhbChhZGRyZXNzMSwgYWRkcmVzczIpIHtcbiAgICBpZiAoIWFkZHJlc3MxICYmICFhZGRyZXNzMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhZGRyZXNzMSB8fCAhYWRkcmVzczIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzMSkpIHtcbiAgICAgICAgcmV0dXJuIChpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MyKSAmJlxuICAgICAgICAgICAgYWRkcmVzczEuaG9zdCA9PT0gYWRkcmVzczIuaG9zdCAmJlxuICAgICAgICAgICAgYWRkcmVzczEucG9ydCA9PT0gYWRkcmVzczIucG9ydCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gIWlzVGNwU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzczIpICYmIGFkZHJlc3MxLnBhdGggPT09IGFkZHJlc3MyLnBhdGg7XG4gICAgfVxufVxuZnVuY3Rpb24gc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZyhhZGRyZXNzKSB7XG4gICAgaWYgKGlzVGNwU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzcykpIHtcbiAgICAgICAgaWYgKCgwLCBuZXRfMS5pc0lQdjYpKGFkZHJlc3MuaG9zdCkpIHtcbiAgICAgICAgICAgIHJldHVybiAnWycgKyBhZGRyZXNzLmhvc3QgKyAnXTonICsgYWRkcmVzcy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFkZHJlc3MuaG9zdCArICc6JyArIGFkZHJlc3MucG9ydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3MucGF0aDtcbiAgICB9XG59XG5jb25zdCBERUZBVUxUX1BPUlQgPSA0NDM7XG5mdW5jdGlvbiBzdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3NTdHJpbmcsIHBvcnQpIHtcbiAgICBpZiAoKDAsIG5ldF8xLmlzSVApKGFkZHJlc3NTdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3N0OiBhZGRyZXNzU3RyaW5nLFxuICAgICAgICAgICAgcG9ydDogcG9ydCAhPT0gbnVsbCAmJiBwb3J0ICE9PSB2b2lkIDAgPyBwb3J0IDogREVGQVVMVF9QT1JULFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBhdGg6IGFkZHJlc3NTdHJpbmcsXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gZW5kcG9pbnRFcXVhbChlbmRwb2ludDEsIGVuZHBvaW50Mikge1xuICAgIGlmIChlbmRwb2ludDEuYWRkcmVzc2VzLmxlbmd0aCAhPT0gZW5kcG9pbnQyLmFkZHJlc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZHBvaW50MS5hZGRyZXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFzdWJjaGFubmVsQWRkcmVzc0VxdWFsKGVuZHBvaW50MS5hZGRyZXNzZXNbaV0sIGVuZHBvaW50Mi5hZGRyZXNzZXNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBlbmRwb2ludFRvU3RyaW5nKGVuZHBvaW50KSB7XG4gICAgcmV0dXJuICgnWycgKyBlbmRwb2ludC5hZGRyZXNzZXMubWFwKHN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpLmpvaW4oJywgJykgKyAnXScpO1xufVxuZnVuY3Rpb24gZW5kcG9pbnRIYXNBZGRyZXNzKGVuZHBvaW50LCBleHBlY3RlZEFkZHJlc3MpIHtcbiAgICBmb3IgKGNvbnN0IGFkZHJlc3Mgb2YgZW5kcG9pbnQuYWRkcmVzc2VzKSB7XG4gICAgICAgIGlmIChzdWJjaGFubmVsQWRkcmVzc0VxdWFsKGFkZHJlc3MsIGV4cGVjdGVkQWRkcmVzcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGVuZHBvaW50RXF1YWxVbm9yZGVyZWQoZW5kcG9pbnQxLCBlbmRwb2ludDIpIHtcbiAgICBpZiAoZW5kcG9pbnQxLmFkZHJlc3Nlcy5sZW5ndGggIT09IGVuZHBvaW50Mi5hZGRyZXNzZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBhZGRyZXNzMSBvZiBlbmRwb2ludDEuYWRkcmVzc2VzKSB7XG4gICAgICAgIGxldCBtYXRjaEZvdW5kID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgYWRkcmVzczIgb2YgZW5kcG9pbnQyLmFkZHJlc3Nlcykge1xuICAgICAgICAgICAgaWYgKHN1YmNoYW5uZWxBZGRyZXNzRXF1YWwoYWRkcmVzczEsIGFkZHJlc3MyKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbWF0Y2hGb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuY2xhc3MgRW5kcG9pbnRNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5zaXplO1xuICAgIH1cbiAgICBnZXRGb3JTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludEhhc0FkZHJlc3MoZW50cnkua2V5LCBhZGRyZXNzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW55IGVudHJpZXMgaW4gdGhpcyBtYXAgd2l0aCBrZXlzIHRoYXQgYXJlIG5vdCBpbiBlbmRwb2ludHNcbiAgICAgKiBAcGFyYW0gZW5kcG9pbnRzXG4gICAgICovXG4gICAgZGVsZXRlTWlzc2luZyhlbmRwb2ludHMpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlZFZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBsZXQgZm91bmRFbnRyeSA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludCwgZW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEVudHJ5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWZvdW5kRW50cnkpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkVmFsdWVzLnB1c2goZW50cnkudmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbW92ZWRWYWx1ZXM7XG4gICAgfVxuICAgIGdldChlbmRwb2ludCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludCwgZW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzZXQoZW5kcG9pbnQsIG1hcEVudHJ5KSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludEVxdWFsVW5vcmRlcmVkKGVuZHBvaW50LCBlbnRyeS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgZW50cnkudmFsdWUgPSBtYXBFbnRyeTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXAuYWRkKHsga2V5OiBlbmRwb2ludCwgdmFsdWU6IG1hcEVudHJ5IH0pO1xuICAgIH1cbiAgICBkZWxldGUoZW5kcG9pbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50RXF1YWxVbm9yZGVyZWQoZW5kcG9pbnQsIGVudHJ5LmtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoZW50cnkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXMoZW5kcG9pbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50RXF1YWxVbm9yZGVyZWQoZW5kcG9pbnQsIGVudHJ5LmtleSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgIH1cbiAgICAqa2V5cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgeWllbGQgZW50cnkua2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgICp2YWx1ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIHlpZWxkIGVudHJ5LnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgICplbnRyaWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICB5aWVsZCBbZW50cnkua2V5LCBlbnRyeS52YWx1ZV07XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkVuZHBvaW50TWFwID0gRW5kcG9pbnRNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJjaGFubmVsLWFkZHJlc3MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Http2SubchannelCall = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst metadata_1 = __webpack_require__(/*! ./metadata */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/metadata.js\");\nconst stream_decoder_1 = __webpack_require__(/*! ./stream-decoder */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/stream-decoder.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_2 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst TRACER_NAME = 'subchannel_call';\n/**\n * Should do approximately the same thing as util.getSystemErrorName but the\n * TypeScript types don't have that function for some reason so I just made my\n * own.\n * @param errno\n */\nfunction getSystemErrorName(errno) {\n    for (const [name, num] of Object.entries(os.constants.errno)) {\n        if (num === errno) {\n            return name;\n        }\n    }\n    return 'Unknown system error ' + errno;\n}\nfunction mapHttpStatusCode(code) {\n    const details = `Received HTTP status code ${code}`;\n    let mappedStatusCode;\n    switch (code) {\n        // TODO(murgatroid99): handle 100 and 101\n        case 400:\n            mappedStatusCode = constants_1.Status.INTERNAL;\n            break;\n        case 401:\n            mappedStatusCode = constants_1.Status.UNAUTHENTICATED;\n            break;\n        case 403:\n            mappedStatusCode = constants_1.Status.PERMISSION_DENIED;\n            break;\n        case 404:\n            mappedStatusCode = constants_1.Status.UNIMPLEMENTED;\n            break;\n        case 429:\n        case 502:\n        case 503:\n        case 504:\n            mappedStatusCode = constants_1.Status.UNAVAILABLE;\n            break;\n        default:\n            mappedStatusCode = constants_1.Status.UNKNOWN;\n    }\n    return {\n        code: mappedStatusCode,\n        details: details,\n        metadata: new metadata_1.Metadata()\n    };\n}\nclass Http2SubchannelCall {\n    constructor(http2Stream, callEventTracker, listener, transport, callId) {\n        var _a;\n        this.http2Stream = http2Stream;\n        this.callEventTracker = callEventTracker;\n        this.listener = listener;\n        this.transport = transport;\n        this.callId = callId;\n        this.isReadFilterPending = false;\n        this.isPushPending = false;\n        this.canPush = false;\n        /**\n         * Indicates that an 'end' event has come from the http2 stream, so there\n         * will be no more data events.\n         */\n        this.readsClosed = false;\n        this.statusOutput = false;\n        this.unpushedReadMessages = [];\n        // This is populated (non-null) if and only if the call has ended\n        this.finalStatus = null;\n        this.internalError = null;\n        this.serverEndedCall = false;\n        this.connectionDropped = false;\n        const maxReceiveMessageLength = (_a = transport.getOptions()['grpc.max_receive_message_length']) !== null && _a !== void 0 ? _a : constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.decoder = new stream_decoder_1.StreamDecoder(maxReceiveMessageLength);\n        http2Stream.on('response', (headers, flags) => {\n            let headersString = '';\n            for (const header of Object.keys(headers)) {\n                headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n            }\n            this.trace('Received server headers:\\n' + headersString);\n            this.httpStatusCode = headers[':status'];\n            if (flags & http2.constants.NGHTTP2_FLAG_END_STREAM) {\n                this.handleTrailers(headers);\n            }\n            else {\n                let metadata;\n                try {\n                    metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n                }\n                catch (error) {\n                    this.endCall({\n                        code: constants_1.Status.UNKNOWN,\n                        details: error.message,\n                        metadata: new metadata_1.Metadata(),\n                    });\n                    return;\n                }\n                this.listener.onReceiveMetadata(metadata);\n            }\n        });\n        http2Stream.on('trailers', (headers) => {\n            this.handleTrailers(headers);\n        });\n        http2Stream.on('data', (data) => {\n            /* If the status has already been output, allow the http2 stream to\n             * drain without processing the data. */\n            if (this.statusOutput) {\n                return;\n            }\n            this.trace('receive HTTP/2 data frame of length ' + data.length);\n            let messages;\n            try {\n                messages = this.decoder.write(data);\n            }\n            catch (e) {\n                /* Some servers send HTML error pages along with HTTP status codes.\n                 * When the client attempts to parse this as a length-delimited\n                 * message, the parsed message size is greater than the default limit,\n                 * resulting in a message decoding error. In that situation, the HTTP\n                 * error code information is more useful to the user than the\n                 * RESOURCE_EXHAUSTED error is, so we report that instead. Normally,\n                 * we delay processing the HTTP status until after the stream ends, to\n                 * prioritize reporting the gRPC status from trailers if it is present,\n                 * but when there is a message parsing error we end the stream early\n                 * before processing trailers. */\n                if (this.httpStatusCode !== undefined && this.httpStatusCode !== 200) {\n                    const mappedStatus = mapHttpStatusCode(this.httpStatusCode);\n                    this.cancelWithStatus(mappedStatus.code, mappedStatus.details);\n                }\n                else {\n                    this.cancelWithStatus(constants_1.Status.RESOURCE_EXHAUSTED, e.message);\n                }\n                return;\n            }\n            for (const message of messages) {\n                this.trace('parsed message of length ' + message.length);\n                this.callEventTracker.addMessageReceived();\n                this.tryPush(message);\n            }\n        });\n        http2Stream.on('end', () => {\n            this.readsClosed = true;\n            this.maybeOutputStatus();\n        });\n        http2Stream.on('close', () => {\n            this.serverEndedCall = true;\n            /* Use process.next tick to ensure that this code happens after any\n             * \"error\" event that may be emitted at about the same time, so that\n             * we can bubble up the error message from that event. */\n            process.nextTick(() => {\n                var _a;\n                this.trace('HTTP/2 stream closed with code ' + http2Stream.rstCode);\n                /* If we have a final status with an OK status code, that means that\n                 * we have received all of the messages and we have processed the\n                 * trailers and the call completed successfully, so it doesn't matter\n                 * how the stream ends after that */\n                if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n                    return;\n                }\n                let code;\n                let details = '';\n                switch (http2Stream.rstCode) {\n                    case http2.constants.NGHTTP2_NO_ERROR:\n                        /* If we get a NO_ERROR code and we already have a status, the\n                         * stream completed properly and we just haven't fully processed\n                         * it yet */\n                        if (this.finalStatus !== null) {\n                            return;\n                        }\n                        if (this.httpStatusCode && this.httpStatusCode !== 200) {\n                            const mappedStatus = mapHttpStatusCode(this.httpStatusCode);\n                            code = mappedStatus.code;\n                            details = mappedStatus.details;\n                        }\n                        else {\n                            code = constants_1.Status.INTERNAL;\n                            details = `Received RST_STREAM with code ${http2Stream.rstCode} (Call ended without gRPC status)`;\n                        }\n                        break;\n                    case http2.constants.NGHTTP2_REFUSED_STREAM:\n                        code = constants_1.Status.UNAVAILABLE;\n                        details = 'Stream refused by server';\n                        break;\n                    case http2.constants.NGHTTP2_CANCEL:\n                        /* Bug reports indicate that Node synthesizes a NGHTTP2_CANCEL\n                         * code from connection drops. We want to prioritize reporting\n                         * an unavailable status when that happens. */\n                        if (this.connectionDropped) {\n                            code = constants_1.Status.UNAVAILABLE;\n                            details = 'Connection dropped';\n                        }\n                        else {\n                            code = constants_1.Status.CANCELLED;\n                            details = 'Call cancelled';\n                        }\n                        break;\n                    case http2.constants.NGHTTP2_ENHANCE_YOUR_CALM:\n                        code = constants_1.Status.RESOURCE_EXHAUSTED;\n                        details = 'Bandwidth exhausted or memory limit exceeded';\n                        break;\n                    case http2.constants.NGHTTP2_INADEQUATE_SECURITY:\n                        code = constants_1.Status.PERMISSION_DENIED;\n                        details = 'Protocol not secure enough';\n                        break;\n                    case http2.constants.NGHTTP2_INTERNAL_ERROR:\n                        code = constants_1.Status.INTERNAL;\n                        if (this.internalError === null) {\n                            /* This error code was previously handled in the default case, and\n                             * there are several instances of it online, so I wanted to\n                             * preserve the original error message so that people find existing\n                             * information in searches, but also include the more recognizable\n                             * \"Internal server error\" message. */\n                            details = `Received RST_STREAM with code ${http2Stream.rstCode} (Internal server error)`;\n                        }\n                        else {\n                            if (this.internalError.code === 'ECONNRESET' ||\n                                this.internalError.code === 'ETIMEDOUT') {\n                                code = constants_1.Status.UNAVAILABLE;\n                                details = this.internalError.message;\n                            }\n                            else {\n                                /* The \"Received RST_STREAM with code ...\" error is preserved\n                                 * here for continuity with errors reported online, but the\n                                 * error message at the end will probably be more relevant in\n                                 * most cases. */\n                                details = `Received RST_STREAM with code ${http2Stream.rstCode} triggered by internal client error: ${this.internalError.message}`;\n                            }\n                        }\n                        break;\n                    default:\n                        code = constants_1.Status.INTERNAL;\n                        details = `Received RST_STREAM with code ${http2Stream.rstCode}`;\n                }\n                // This is a no-op if trailers were received at all.\n                // This is OK, because status codes emitted here correspond to more\n                // catastrophic issues that prevent us from receiving trailers in the\n                // first place.\n                this.endCall({\n                    code,\n                    details,\n                    metadata: new metadata_1.Metadata(),\n                    rstCode: http2Stream.rstCode,\n                });\n            });\n        });\n        http2Stream.on('error', (err) => {\n            /* We need an error handler here to stop \"Uncaught Error\" exceptions\n             * from bubbling up. However, errors here should all correspond to\n             * \"close\" events, where we will handle the error more granularly */\n            /* Specifically looking for stream errors that were *not* constructed\n             * from a RST_STREAM response here:\n             * https://github.com/nodejs/node/blob/8b8620d580314050175983402dfddf2674e8e22a/lib/internal/http2/core.js#L2267\n             */\n            if (err.code !== 'ERR_HTTP2_STREAM_ERROR') {\n                this.trace('Node error event: message=' +\n                    err.message +\n                    ' code=' +\n                    err.code +\n                    ' errno=' +\n                    getSystemErrorName(err.errno) +\n                    ' syscall=' +\n                    err.syscall);\n                this.internalError = err;\n            }\n            this.callEventTracker.onStreamEnd(false);\n        });\n    }\n    getDeadlineInfo() {\n        return [`remote_addr=${this.getPeer()}`];\n    }\n    onDisconnect() {\n        this.connectionDropped = true;\n        /* Give the call an event loop cycle to finish naturally before reporting\n         * the disconnection as an error. */\n        setImmediate(() => {\n            this.endCall({\n                code: constants_1.Status.UNAVAILABLE,\n                details: 'Connection dropped',\n                metadata: new metadata_1.Metadata(),\n            });\n        });\n    }\n    outputStatus() {\n        /* Precondition: this.finalStatus !== null */\n        if (!this.statusOutput) {\n            this.statusOutput = true;\n            this.trace('ended with status: code=' +\n                this.finalStatus.code +\n                ' details=\"' +\n                this.finalStatus.details +\n                '\"');\n            this.callEventTracker.onCallEnd(this.finalStatus);\n            /* We delay the actual action of bubbling up the status to insulate the\n             * cleanup code in this class from any errors that may be thrown in the\n             * upper layers as a result of bubbling up the status. In particular,\n             * if the status is not OK, the \"error\" event may be emitted\n             * synchronously at the top level, which will result in a thrown error if\n             * the user does not handle that event. */\n            process.nextTick(() => {\n                this.listener.onReceiveStatus(this.finalStatus);\n            });\n            /* Leave the http2 stream in flowing state to drain incoming messages, to\n             * ensure that the stream closure completes. The call stream already does\n             * not push more messages after the status is output, so the messages go\n             * nowhere either way. */\n            this.http2Stream.resume();\n        }\n    }\n    trace(text) {\n        logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callId + '] ' + text);\n    }\n    /**\n     * On first call, emits a 'status' event with the given StatusObject.\n     * Subsequent calls are no-ops.\n     * @param status The status of the call.\n     */\n    endCall(status) {\n        /* If the status is OK and a new status comes in (e.g. from a\n         * deserialization failure), that new status takes priority */\n        if (this.finalStatus === null || this.finalStatus.code === constants_1.Status.OK) {\n            this.finalStatus = status;\n            this.maybeOutputStatus();\n        }\n        this.destroyHttp2Stream();\n    }\n    maybeOutputStatus() {\n        if (this.finalStatus !== null) {\n            /* The combination check of readsClosed and that the two message buffer\n             * arrays are empty checks that there all incoming data has been fully\n             * processed */\n            if (this.finalStatus.code !== constants_1.Status.OK ||\n                (this.readsClosed &&\n                    this.unpushedReadMessages.length === 0 &&\n                    !this.isReadFilterPending &&\n                    !this.isPushPending)) {\n                this.outputStatus();\n            }\n        }\n    }\n    push(message) {\n        this.trace('pushing to reader message of length ' +\n            (message instanceof Buffer ? message.length : null));\n        this.canPush = false;\n        this.isPushPending = true;\n        process.nextTick(() => {\n            this.isPushPending = false;\n            /* If we have already output the status any later messages should be\n             * ignored, and can cause out-of-order operation errors higher up in the\n             * stack. Checking as late as possible here to avoid any race conditions.\n             */\n            if (this.statusOutput) {\n                return;\n            }\n            this.listener.onReceiveMessage(message);\n            this.maybeOutputStatus();\n        });\n    }\n    tryPush(messageBytes) {\n        if (this.canPush) {\n            this.http2Stream.pause();\n            this.push(messageBytes);\n        }\n        else {\n            this.trace('unpushedReadMessages.push message of length ' + messageBytes.length);\n            this.unpushedReadMessages.push(messageBytes);\n        }\n    }\n    handleTrailers(headers) {\n        this.serverEndedCall = true;\n        this.callEventTracker.onStreamEnd(true);\n        let headersString = '';\n        for (const header of Object.keys(headers)) {\n            headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n        }\n        this.trace('Received server trailers:\\n' + headersString);\n        let metadata;\n        try {\n            metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        }\n        catch (e) {\n            metadata = new metadata_1.Metadata();\n        }\n        const metadataMap = metadata.getMap();\n        let status;\n        if (typeof metadataMap['grpc-status'] === 'string') {\n            const receivedStatus = Number(metadataMap['grpc-status']);\n            this.trace('received status code ' + receivedStatus + ' from server');\n            metadata.remove('grpc-status');\n            let details = '';\n            if (typeof metadataMap['grpc-message'] === 'string') {\n                try {\n                    details = decodeURI(metadataMap['grpc-message']);\n                }\n                catch (e) {\n                    details = metadataMap['grpc-message'];\n                }\n                metadata.remove('grpc-message');\n                this.trace('received status details string \"' + details + '\" from server');\n            }\n            status = {\n                code: receivedStatus,\n                details: details,\n                metadata: metadata\n            };\n        }\n        else if (this.httpStatusCode) {\n            status = mapHttpStatusCode(this.httpStatusCode);\n            status.metadata = metadata;\n        }\n        else {\n            status = {\n                code: constants_1.Status.UNKNOWN,\n                details: 'No status information received',\n                metadata: metadata\n            };\n        }\n        // This is a no-op if the call was already ended when handling headers.\n        this.endCall(status);\n    }\n    destroyHttp2Stream() {\n        var _a;\n        // The http2 stream could already have been destroyed if cancelWithStatus\n        // is called in response to an internal http2 error.\n        if (this.http2Stream.destroyed) {\n            return;\n        }\n        /* If the server ended the call, sending an RST_STREAM is redundant, so we\n         * just half close on the client side instead to finish closing the stream.\n         */\n        if (this.serverEndedCall) {\n            this.http2Stream.end();\n        }\n        else {\n            /* If the call has ended with an OK status, communicate that when closing\n             * the stream, partly to avoid a situation in which we detect an error\n             * RST_STREAM as a result after we have the status */\n            let code;\n            if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n                code = http2.constants.NGHTTP2_NO_ERROR;\n            }\n            else {\n                code = http2.constants.NGHTTP2_CANCEL;\n            }\n            this.trace('close http2 stream with code ' + code);\n            this.http2Stream.close(code);\n        }\n    }\n    cancelWithStatus(status, details) {\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        this.endCall({ code: status, details, metadata: new metadata_1.Metadata() });\n    }\n    getStatus() {\n        return this.finalStatus;\n    }\n    getPeer() {\n        return this.transport.getPeerName();\n    }\n    getCallNumber() {\n        return this.callId;\n    }\n    getAuthContext() {\n        return this.transport.getAuthContext();\n    }\n    startRead() {\n        /* If the stream has ended with an error, we should not emit any more\n         * messages and we should communicate that the stream has ended */\n        if (this.finalStatus !== null && this.finalStatus.code !== constants_1.Status.OK) {\n            this.readsClosed = true;\n            this.maybeOutputStatus();\n            return;\n        }\n        this.canPush = true;\n        if (this.unpushedReadMessages.length > 0) {\n            const nextMessage = this.unpushedReadMessages.shift();\n            this.push(nextMessage);\n            return;\n        }\n        /* Only resume reading from the http2Stream if we don't have any pending\n         * messages to emit */\n        this.http2Stream.resume();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        const cb = (error) => {\n            /* nextTick here ensures that no stream action can be taken in the call\n             * stack of the write callback, in order to hopefully work around\n             * https://github.com/nodejs/node/issues/49147 */\n            process.nextTick(() => {\n                var _a;\n                let code = constants_1.Status.UNAVAILABLE;\n                if ((error === null || error === void 0 ? void 0 : error.code) ===\n                    'ERR_STREAM_WRITE_AFTER_END') {\n                    code = constants_1.Status.INTERNAL;\n                }\n                if (error) {\n                    this.cancelWithStatus(code, `Write error: ${error.message}`);\n                }\n                (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n            });\n        };\n        this.trace('sending data chunk of length ' + message.length);\n        this.callEventTracker.addMessageSent();\n        try {\n            this.http2Stream.write(message, cb);\n        }\n        catch (error) {\n            this.endCall({\n                code: constants_1.Status.UNAVAILABLE,\n                details: `Write failed with error ${error.message}`,\n                metadata: new metadata_1.Metadata(),\n            });\n        }\n    }\n    halfClose() {\n        this.trace('end() called');\n        this.trace('calling end() on HTTP/2 stream');\n        this.http2Stream.end();\n    }\n}\nexports.Http2SubchannelCall = Http2SubchannelCall;\n//# sourceMappingURL=subchannel-call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1jYWxsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCO0FBQzNCLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixvQkFBb0IsbUJBQU8sQ0FBQyxzR0FBYTtBQUN6QyxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2Qyx5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBa0I7QUFDbkQsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsS0FBSztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUscUJBQXFCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUscUJBQXFCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxxQkFBcUIsc0NBQXNDLDJCQUEyQjtBQUNqSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLG9CQUFvQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLCtCQUErQixlQUFlO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDREQUE0RDtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsY0FBYztBQUM5RTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxjQUFjO0FBQ2xFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1jYWxsLmpzP2Y3MjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ2FsbCA9IHZvaWQgMDtcbmNvbnN0IGh0dHAyID0gcmVxdWlyZShcImh0dHAyXCIpO1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IHN0cmVhbV9kZWNvZGVyXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tZGVjb2RlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzIgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdzdWJjaGFubmVsX2NhbGwnO1xuLyoqXG4gKiBTaG91bGQgZG8gYXBwcm94aW1hdGVseSB0aGUgc2FtZSB0aGluZyBhcyB1dGlsLmdldFN5c3RlbUVycm9yTmFtZSBidXQgdGhlXG4gKiBUeXBlU2NyaXB0IHR5cGVzIGRvbid0IGhhdmUgdGhhdCBmdW5jdGlvbiBmb3Igc29tZSByZWFzb24gc28gSSBqdXN0IG1hZGUgbXlcbiAqIG93bi5cbiAqIEBwYXJhbSBlcnJub1xuICovXG5mdW5jdGlvbiBnZXRTeXN0ZW1FcnJvck5hbWUoZXJybm8pIHtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBudW1dIG9mIE9iamVjdC5lbnRyaWVzKG9zLmNvbnN0YW50cy5lcnJubykpIHtcbiAgICAgICAgaWYgKG51bSA9PT0gZXJybm8pIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnVW5rbm93biBzeXN0ZW0gZXJyb3IgJyArIGVycm5vO1xufVxuZnVuY3Rpb24gbWFwSHR0cFN0YXR1c0NvZGUoY29kZSkge1xuICAgIGNvbnN0IGRldGFpbHMgPSBgUmVjZWl2ZWQgSFRUUCBzdGF0dXMgY29kZSAke2NvZGV9YDtcbiAgICBsZXQgbWFwcGVkU3RhdHVzQ29kZTtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgLy8gVE9ETyhtdXJnYXRyb2lkOTkpOiBoYW5kbGUgMTAwIGFuZCAxMDFcbiAgICAgICAgY2FzZSA0MDA6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFVVEhFTlRJQ0FURUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlBFUk1JU1NJT05fREVOSUVEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA0OlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDI5OlxuICAgICAgICBjYXNlIDUwMjpcbiAgICAgICAgY2FzZSA1MDM6XG4gICAgICAgIGNhc2UgNTA0OlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiBtYXBwZWRTdGF0dXNDb2RlLFxuICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKVxuICAgIH07XG59XG5jbGFzcyBIdHRwMlN1YmNoYW5uZWxDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihodHRwMlN0cmVhbSwgY2FsbEV2ZW50VHJhY2tlciwgbGlzdGVuZXIsIHRyYW5zcG9ydCwgY2FsbElkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5odHRwMlN0cmVhbSA9IGh0dHAyU3RyZWFtO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIgPSBjYWxsRXZlbnRUcmFja2VyO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICB0aGlzLmNhbGxJZCA9IGNhbGxJZDtcbiAgICAgICAgdGhpcy5pc1JlYWRGaWx0ZXJQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQdXNoUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhblB1c2ggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IGFuICdlbmQnIGV2ZW50IGhhcyBjb21lIGZyb20gdGhlIGh0dHAyIHN0cmVhbSwgc28gdGhlcmVcbiAgICAgICAgICogd2lsbCBiZSBubyBtb3JlIGRhdGEgZXZlbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWFkc0Nsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXR1c091dHB1dCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzID0gW107XG4gICAgICAgIC8vIFRoaXMgaXMgcG9wdWxhdGVkIChub24tbnVsbCkgaWYgYW5kIG9ubHkgaWYgdGhlIGNhbGwgaGFzIGVuZGVkXG4gICAgICAgIHRoaXMuZmluYWxTdGF0dXMgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVybmFsRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnNlcnZlckVuZGVkQ2FsbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Ecm9wcGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG1heFJlY2VpdmVNZXNzYWdlTGVuZ3RoID0gKF9hID0gdHJhbnNwb3J0LmdldE9wdGlvbnMoKVsnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25zdGFudHNfMS5ERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIO1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBuZXcgc3RyZWFtX2RlY29kZXJfMS5TdHJlYW1EZWNvZGVyKG1heFJlY2VpdmVNZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ3Jlc3BvbnNlJywgKGhlYWRlcnMsIGZsYWdzKSA9PiB7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc1N0cmluZyA9ICcnO1xuICAgICAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzU3RyaW5nICs9ICdcXHRcXHQnICsgaGVhZGVyICsgJzogJyArIGhlYWRlcnNbaGVhZGVyXSArICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgc2VydmVyIGhlYWRlcnM6XFxuJyArIGhlYWRlcnNTdHJpbmcpO1xuICAgICAgICAgICAgdGhpcy5odHRwU3RhdHVzQ29kZSA9IGhlYWRlcnNbJzpzdGF0dXMnXTtcbiAgICAgICAgICAgIGlmIChmbGFncyAmIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0ZMQUdfRU5EX1NUUkVBTSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhaWxlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBtZXRhZGF0YV8xLk1ldGFkYXRhLmZyb21IdHRwMkhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZENhbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ3RyYWlsZXJzJywgKGhlYWRlcnMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhaWxlcnMoaGVhZGVycyk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvKiBJZiB0aGUgc3RhdHVzIGhhcyBhbHJlYWR5IGJlZW4gb3V0cHV0LCBhbGxvdyB0aGUgaHR0cDIgc3RyZWFtIHRvXG4gICAgICAgICAgICAgKiBkcmFpbiB3aXRob3V0IHByb2Nlc3NpbmcgdGhlIGRhdGEuICovXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0dXNPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdyZWNlaXZlIEhUVFAvMiBkYXRhIGZyYW1lIG9mIGxlbmd0aCAnICsgZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IHRoaXMuZGVjb2Rlci53cml0ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLyogU29tZSBzZXJ2ZXJzIHNlbmQgSFRNTCBlcnJvciBwYWdlcyBhbG9uZyB3aXRoIEhUVFAgc3RhdHVzIGNvZGVzLlxuICAgICAgICAgICAgICAgICAqIFdoZW4gdGhlIGNsaWVudCBhdHRlbXB0cyB0byBwYXJzZSB0aGlzIGFzIGEgbGVuZ3RoLWRlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIG1lc3NhZ2UsIHRoZSBwYXJzZWQgbWVzc2FnZSBzaXplIGlzIGdyZWF0ZXIgdGhhbiB0aGUgZGVmYXVsdCBsaW1pdCxcbiAgICAgICAgICAgICAgICAgKiByZXN1bHRpbmcgaW4gYSBtZXNzYWdlIGRlY29kaW5nIGVycm9yLiBJbiB0aGF0IHNpdHVhdGlvbiwgdGhlIEhUVFBcbiAgICAgICAgICAgICAgICAgKiBlcnJvciBjb2RlIGluZm9ybWF0aW9uIGlzIG1vcmUgdXNlZnVsIHRvIHRoZSB1c2VyIHRoYW4gdGhlXG4gICAgICAgICAgICAgICAgICogUkVTT1VSQ0VfRVhIQVVTVEVEIGVycm9yIGlzLCBzbyB3ZSByZXBvcnQgdGhhdCBpbnN0ZWFkLiBOb3JtYWxseSxcbiAgICAgICAgICAgICAgICAgKiB3ZSBkZWxheSBwcm9jZXNzaW5nIHRoZSBIVFRQIHN0YXR1cyB1bnRpbCBhZnRlciB0aGUgc3RyZWFtIGVuZHMsIHRvXG4gICAgICAgICAgICAgICAgICogcHJpb3JpdGl6ZSByZXBvcnRpbmcgdGhlIGdSUEMgc3RhdHVzIGZyb20gdHJhaWxlcnMgaWYgaXQgaXMgcHJlc2VudCxcbiAgICAgICAgICAgICAgICAgKiBidXQgd2hlbiB0aGVyZSBpcyBhIG1lc3NhZ2UgcGFyc2luZyBlcnJvciB3ZSBlbmQgdGhlIHN0cmVhbSBlYXJseVxuICAgICAgICAgICAgICAgICAqIGJlZm9yZSBwcm9jZXNzaW5nIHRyYWlsZXJzLiAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0dHBTdGF0dXNDb2RlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5odHRwU3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFN0YXR1cyA9IG1hcEh0dHBTdGF0dXNDb2RlKHRoaXMuaHR0cFN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMobWFwcGVkU3RhdHVzLmNvZGUsIG1hcHBlZFN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELCBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdwYXJzZWQgbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlQdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJFbmRlZENhbGwgPSB0cnVlO1xuICAgICAgICAgICAgLyogVXNlIHByb2Nlc3MubmV4dCB0aWNrIHRvIGVuc3VyZSB0aGF0IHRoaXMgY29kZSBoYXBwZW5zIGFmdGVyIGFueVxuICAgICAgICAgICAgICogXCJlcnJvclwiIGV2ZW50IHRoYXQgbWF5IGJlIGVtaXR0ZWQgYXQgYWJvdXQgdGhlIHNhbWUgdGltZSwgc28gdGhhdFxuICAgICAgICAgICAgICogd2UgY2FuIGJ1YmJsZSB1cCB0aGUgZXJyb3IgbWVzc2FnZSBmcm9tIHRoYXQgZXZlbnQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnSFRUUC8yIHN0cmVhbSBjbG9zZWQgd2l0aCBjb2RlICcgKyBodHRwMlN0cmVhbS5yc3RDb2RlKTtcbiAgICAgICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGEgZmluYWwgc3RhdHVzIHdpdGggYW4gT0sgc3RhdHVzIGNvZGUsIHRoYXQgbWVhbnMgdGhhdFxuICAgICAgICAgICAgICAgICAqIHdlIGhhdmUgcmVjZWl2ZWQgYWxsIG9mIHRoZSBtZXNzYWdlcyBhbmQgd2UgaGF2ZSBwcm9jZXNzZWQgdGhlXG4gICAgICAgICAgICAgICAgICogdHJhaWxlcnMgYW5kIHRoZSBjYWxsIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksIHNvIGl0IGRvZXNuJ3QgbWF0dGVyXG4gICAgICAgICAgICAgICAgICogaG93IHRoZSBzdHJlYW0gZW5kcyBhZnRlciB0aGF0ICovXG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLmZpbmFsU3RhdHVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZSkgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjb2RlO1xuICAgICAgICAgICAgICAgIGxldCBkZXRhaWxzID0gJyc7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChodHRwMlN0cmVhbS5yc3RDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1I6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBJZiB3ZSBnZXQgYSBOT19FUlJPUiBjb2RlIGFuZCB3ZSBhbHJlYWR5IGhhdmUgYSBzdGF0dXMsIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogc3RyZWFtIGNvbXBsZXRlZCBwcm9wZXJseSBhbmQgd2UganVzdCBoYXZlbid0IGZ1bGx5IHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogaXQgeWV0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0dHBTdGF0dXNDb2RlICYmIHRoaXMuaHR0cFN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFN0YXR1cyA9IG1hcEh0dHBTdGF0dXNDb2RlKHRoaXMuaHR0cFN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBtYXBwZWRTdGF0dXMuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gbWFwcGVkU3RhdHVzLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBgUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgJHtodHRwMlN0cmVhbS5yc3RDb2RlfSAoQ2FsbCBlbmRlZCB3aXRob3V0IGdSUEMgc3RhdHVzKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9SRUZVU0VEX1NUUkVBTTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ1N0cmVhbSByZWZ1c2VkIGJ5IHNlcnZlcic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9DQU5DRUw6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBCdWcgcmVwb3J0cyBpbmRpY2F0ZSB0aGF0IE5vZGUgc3ludGhlc2l6ZXMgYSBOR0hUVFAyX0NBTkNFTFxuICAgICAgICAgICAgICAgICAgICAgICAgICogY29kZSBmcm9tIGNvbm5lY3Rpb24gZHJvcHMuIFdlIHdhbnQgdG8gcHJpb3JpdGl6ZSByZXBvcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGFuIHVuYXZhaWxhYmxlIHN0YXR1cyB3aGVuIHRoYXQgaGFwcGVucy4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Ecm9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0Nvbm5lY3Rpb24gZHJvcHBlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0NhbGwgY2FuY2VsbGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0VOSEFOQ0VfWU9VUl9DQUxNOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0JhbmR3aWR0aCBleGhhdXN0ZWQgb3IgbWVtb3J5IGxpbWl0IGV4Y2VlZGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0lOQURFUVVBVEVfU0VDVVJJVFk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlBFUk1JU1NJT05fREVOSUVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9ICdQcm90b2NvbCBub3Qgc2VjdXJlIGVub3VnaCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9JTlRFUk5BTF9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcm5hbEVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhpcyBlcnJvciBjb2RlIHdhcyBwcmV2aW91c2x5IGhhbmRsZWQgaW4gdGhlIGRlZmF1bHQgY2FzZSwgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdGhlcmUgYXJlIHNldmVyYWwgaW5zdGFuY2VzIG9mIGl0IG9ubGluZSwgc28gSSB3YW50ZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBzbyB0aGF0IHBlb3BsZSBmaW5kIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaW5mb3JtYXRpb24gaW4gc2VhcmNoZXMsIGJ1dCBhbHNvIGluY2x1ZGUgdGhlIG1vcmUgcmVjb2duaXphYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiBtZXNzYWdlLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBgUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgJHtodHRwMlN0cmVhbS5yc3RDb2RlfSAoSW50ZXJuYWwgc2VydmVyIGVycm9yKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcm5hbEVycm9yLmNvZGUgPT09ICdFQ09OTlJFU0VUJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsRXJyb3IuY29kZSA9PT0gJ0VUSU1FRE9VVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IHRoaXMuaW50ZXJuYWxFcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhlIFwiUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgLi4uXCIgZXJyb3IgaXMgcHJlc2VydmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGhlcmUgZm9yIGNvbnRpbnVpdHkgd2l0aCBlcnJvcnMgcmVwb3J0ZWQgb25saW5lLCBidXQgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGVycm9yIG1lc3NhZ2UgYXQgdGhlIGVuZCB3aWxsIHByb2JhYmx5IGJlIG1vcmUgcmVsZXZhbnQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbW9zdCBjYXNlcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGBSZWNlaXZlZCBSU1RfU1RSRUFNIHdpdGggY29kZSAke2h0dHAyU3RyZWFtLnJzdENvZGV9IHRyaWdnZXJlZCBieSBpbnRlcm5hbCBjbGllbnQgZXJyb3I6ICR7dGhpcy5pbnRlcm5hbEVycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gYFJlY2VpdmVkIFJTVF9TVFJFQU0gd2l0aCBjb2RlICR7aHR0cDJTdHJlYW0ucnN0Q29kZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbm8tb3AgaWYgdHJhaWxlcnMgd2VyZSByZWNlaXZlZCBhdCBhbGwuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBPSywgYmVjYXVzZSBzdGF0dXMgY29kZXMgZW1pdHRlZCBoZXJlIGNvcnJlc3BvbmQgdG8gbW9yZVxuICAgICAgICAgICAgICAgIC8vIGNhdGFzdHJvcGhpYyBpc3N1ZXMgdGhhdCBwcmV2ZW50IHVzIGZyb20gcmVjZWl2aW5nIHRyYWlsZXJzIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGZpcnN0IHBsYWNlLlxuICAgICAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICByc3RDb2RlOiBodHRwMlN0cmVhbS5yc3RDb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAvKiBXZSBuZWVkIGFuIGVycm9yIGhhbmRsZXIgaGVyZSB0byBzdG9wIFwiVW5jYXVnaHQgRXJyb3JcIiBleGNlcHRpb25zXG4gICAgICAgICAgICAgKiBmcm9tIGJ1YmJsaW5nIHVwLiBIb3dldmVyLCBlcnJvcnMgaGVyZSBzaG91bGQgYWxsIGNvcnJlc3BvbmQgdG9cbiAgICAgICAgICAgICAqIFwiY2xvc2VcIiBldmVudHMsIHdoZXJlIHdlIHdpbGwgaGFuZGxlIHRoZSBlcnJvciBtb3JlIGdyYW51bGFybHkgKi9cbiAgICAgICAgICAgIC8qIFNwZWNpZmljYWxseSBsb29raW5nIGZvciBzdHJlYW0gZXJyb3JzIHRoYXQgd2VyZSAqbm90KiBjb25zdHJ1Y3RlZFxuICAgICAgICAgICAgICogZnJvbSBhIFJTVF9TVFJFQU0gcmVzcG9uc2UgaGVyZTpcbiAgICAgICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iLzhiODYyMGQ1ODAzMTQwNTAxNzU5ODM0MDJkZmRkZjI2NzRlOGUyMmEvbGliL2ludGVybmFsL2h0dHAyL2NvcmUuanMjTDIyNjdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGVyci5jb2RlICE9PSAnRVJSX0hUVFAyX1NUUkVBTV9FUlJPUicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdOb2RlIGVycm9yIGV2ZW50OiBtZXNzYWdlPScgK1xuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSArXG4gICAgICAgICAgICAgICAgICAgICcgY29kZT0nICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgK1xuICAgICAgICAgICAgICAgICAgICAnIGVycm5vPScgK1xuICAgICAgICAgICAgICAgICAgICBnZXRTeXN0ZW1FcnJvck5hbWUoZXJyLmVycm5vKSArXG4gICAgICAgICAgICAgICAgICAgICcgc3lzY2FsbD0nICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLnN5c2NhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vblN0cmVhbUVuZChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIHJldHVybiBbYHJlbW90ZV9hZGRyPSR7dGhpcy5nZXRQZWVyKCl9YF07XG4gICAgfVxuICAgIG9uRGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uRHJvcHBlZCA9IHRydWU7XG4gICAgICAgIC8qIEdpdmUgdGhlIGNhbGwgYW4gZXZlbnQgbG9vcCBjeWNsZSB0byBmaW5pc2ggbmF0dXJhbGx5IGJlZm9yZSByZXBvcnRpbmdcbiAgICAgICAgICogdGhlIGRpc2Nvbm5lY3Rpb24gYXMgYW4gZXJyb3IuICovXG4gICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuZENhbGwoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnQ29ubmVjdGlvbiBkcm9wcGVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgb3V0cHV0U3RhdHVzKCkge1xuICAgICAgICAvKiBQcmVjb25kaXRpb246IHRoaXMuZmluYWxTdGF0dXMgIT09IG51bGwgKi9cbiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNPdXRwdXQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5maW5hbFN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAnIGRldGFpbHM9XCInICtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzLmRldGFpbHMgK1xuICAgICAgICAgICAgICAgICdcIicpO1xuICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZCh0aGlzLmZpbmFsU3RhdHVzKTtcbiAgICAgICAgICAgIC8qIFdlIGRlbGF5IHRoZSBhY3R1YWwgYWN0aW9uIG9mIGJ1YmJsaW5nIHVwIHRoZSBzdGF0dXMgdG8gaW5zdWxhdGUgdGhlXG4gICAgICAgICAgICAgKiBjbGVhbnVwIGNvZGUgaW4gdGhpcyBjbGFzcyBmcm9tIGFueSBlcnJvcnMgdGhhdCBtYXkgYmUgdGhyb3duIGluIHRoZVxuICAgICAgICAgICAgICogdXBwZXIgbGF5ZXJzIGFzIGEgcmVzdWx0IG9mIGJ1YmJsaW5nIHVwIHRoZSBzdGF0dXMuIEluIHBhcnRpY3VsYXIsXG4gICAgICAgICAgICAgKiBpZiB0aGUgc3RhdHVzIGlzIG5vdCBPSywgdGhlIFwiZXJyb3JcIiBldmVudCBtYXkgYmUgZW1pdHRlZFxuICAgICAgICAgICAgICogc3luY2hyb25vdXNseSBhdCB0aGUgdG9wIGxldmVsLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIHRocm93biBlcnJvciBpZlxuICAgICAgICAgICAgICogdGhlIHVzZXIgZG9lcyBub3QgaGFuZGxlIHRoYXQgZXZlbnQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyh0aGlzLmZpbmFsU3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyogTGVhdmUgdGhlIGh0dHAyIHN0cmVhbSBpbiBmbG93aW5nIHN0YXRlIHRvIGRyYWluIGluY29taW5nIG1lc3NhZ2VzLCB0b1xuICAgICAgICAgICAgICogZW5zdXJlIHRoYXQgdGhlIHN0cmVhbSBjbG9zdXJlIGNvbXBsZXRlcy4gVGhlIGNhbGwgc3RyZWFtIGFscmVhZHkgZG9lc1xuICAgICAgICAgICAgICogbm90IHB1c2ggbW9yZSBtZXNzYWdlcyBhZnRlciB0aGUgc3RhdHVzIGlzIG91dHB1dCwgc28gdGhlIG1lc3NhZ2VzIGdvXG4gICAgICAgICAgICAgKiBub3doZXJlIGVpdGhlciB3YXkuICovXG4gICAgICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnWycgKyB0aGlzLmNhbGxJZCArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT24gZmlyc3QgY2FsbCwgZW1pdHMgYSAnc3RhdHVzJyBldmVudCB3aXRoIHRoZSBnaXZlbiBTdGF0dXNPYmplY3QuXG4gICAgICogU3Vic2VxdWVudCBjYWxscyBhcmUgbm8tb3BzLlxuICAgICAqIEBwYXJhbSBzdGF0dXMgVGhlIHN0YXR1cyBvZiB0aGUgY2FsbC5cbiAgICAgKi9cbiAgICBlbmRDYWxsKHN0YXR1cykge1xuICAgICAgICAvKiBJZiB0aGUgc3RhdHVzIGlzIE9LIGFuZCBhIG5ldyBzdGF0dXMgY29tZXMgaW4gKGUuZy4gZnJvbSBhXG4gICAgICAgICAqIGRlc2VyaWFsaXphdGlvbiBmYWlsdXJlKSwgdGhhdCBuZXcgc3RhdHVzIHRha2VzIHByaW9yaXR5ICovXG4gICAgICAgIGlmICh0aGlzLmZpbmFsU3RhdHVzID09PSBudWxsIHx8IHRoaXMuZmluYWxTdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdHJveUh0dHAyU3RyZWFtKCk7XG4gICAgfVxuICAgIG1heWJlT3V0cHV0U3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLyogVGhlIGNvbWJpbmF0aW9uIGNoZWNrIG9mIHJlYWRzQ2xvc2VkIGFuZCB0aGF0IHRoZSB0d28gbWVzc2FnZSBidWZmZXJcbiAgICAgICAgICAgICAqIGFycmF5cyBhcmUgZW1wdHkgY2hlY2tzIHRoYXQgdGhlcmUgYWxsIGluY29taW5nIGRhdGEgaGFzIGJlZW4gZnVsbHlcbiAgICAgICAgICAgICAqIHByb2Nlc3NlZCAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMucmVhZHNDbG9zZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuaXNSZWFkRmlsdGVyUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5pc1B1c2hQZW5kaW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVzaChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3B1c2hpbmcgdG8gcmVhZGVyIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgK1xuICAgICAgICAgICAgKG1lc3NhZ2UgaW5zdGFuY2VvZiBCdWZmZXIgPyBtZXNzYWdlLmxlbmd0aCA6IG51bGwpKTtcbiAgICAgICAgdGhpcy5jYW5QdXNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQdXNoUGVuZGluZyA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1B1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGFscmVhZHkgb3V0cHV0IHRoZSBzdGF0dXMgYW55IGxhdGVyIG1lc3NhZ2VzIHNob3VsZCBiZVxuICAgICAgICAgICAgICogaWdub3JlZCwgYW5kIGNhbiBjYXVzZSBvdXQtb2Ytb3JkZXIgb3BlcmF0aW9uIGVycm9ycyBoaWdoZXIgdXAgaW4gdGhlXG4gICAgICAgICAgICAgKiBzdGFjay4gQ2hlY2tpbmcgYXMgbGF0ZSBhcyBwb3NzaWJsZSBoZXJlIHRvIGF2b2lkIGFueSByYWNlIGNvbmRpdGlvbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVPdXRwdXRTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeVB1c2gobWVzc2FnZUJ5dGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmNhblB1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaChtZXNzYWdlQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgndW5wdXNoZWRSZWFkTWVzc2FnZXMucHVzaCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZUJ5dGVzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLnB1c2gobWVzc2FnZUJ5dGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVUcmFpbGVycyhoZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuc2VydmVyRW5kZWRDYWxsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKHRydWUpO1xuICAgICAgICBsZXQgaGVhZGVyc1N0cmluZyA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgaGVhZGVyc1N0cmluZyArPSAnXFx0XFx0JyArIGhlYWRlciArICc6ICcgKyBoZWFkZXJzW2hlYWRlcl0gKyAnXFxuJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzZXJ2ZXIgdHJhaWxlcnM6XFxuJyArIGhlYWRlcnNTdHJpbmcpO1xuICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG1ldGFkYXRhXzEuTWV0YWRhdGEuZnJvbUh0dHAySGVhZGVycyhoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhTWFwID0gbWV0YWRhdGEuZ2V0TWFwKCk7XG4gICAgICAgIGxldCBzdGF0dXM7XG4gICAgICAgIGlmICh0eXBlb2YgbWV0YWRhdGFNYXBbJ2dycGMtc3RhdHVzJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCByZWNlaXZlZFN0YXR1cyA9IE51bWJlcihtZXRhZGF0YU1hcFsnZ3JwYy1zdGF0dXMnXSk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdyZWNlaXZlZCBzdGF0dXMgY29kZSAnICsgcmVjZWl2ZWRTdGF0dXMgKyAnIGZyb20gc2VydmVyJyk7XG4gICAgICAgICAgICBtZXRhZGF0YS5yZW1vdmUoJ2dycGMtc3RhdHVzJyk7XG4gICAgICAgICAgICBsZXQgZGV0YWlscyA9ICcnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRhZGF0YU1hcFsnZ3JwYy1tZXNzYWdlJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGRlY29kZVVSSShtZXRhZGF0YU1hcFsnZ3JwYy1tZXNzYWdlJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gbWV0YWRhdGFNYXBbJ2dycGMtbWVzc2FnZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5yZW1vdmUoJ2dycGMtbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ3JlY2VpdmVkIHN0YXR1cyBkZXRhaWxzIHN0cmluZyBcIicgKyBkZXRhaWxzICsgJ1wiIGZyb20gc2VydmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogcmVjZWl2ZWRTdGF0dXMsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5odHRwU3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgc3RhdHVzID0gbWFwSHR0cFN0YXR1c0NvZGUodGhpcy5odHRwU3RhdHVzQ29kZSk7XG4gICAgICAgICAgICBzdGF0dXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnTm8gc3RhdHVzIGluZm9ybWF0aW9uIHJlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBhIG5vLW9wIGlmIHRoZSBjYWxsIHdhcyBhbHJlYWR5IGVuZGVkIHdoZW4gaGFuZGxpbmcgaGVhZGVycy5cbiAgICAgICAgdGhpcy5lbmRDYWxsKHN0YXR1cyk7XG4gICAgfVxuICAgIGRlc3Ryb3lIdHRwMlN0cmVhbSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBUaGUgaHR0cDIgc3RyZWFtIGNvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIGRlc3Ryb3llZCBpZiBjYW5jZWxXaXRoU3RhdHVzXG4gICAgICAgIC8vIGlzIGNhbGxlZCBpbiByZXNwb25zZSB0byBhbiBpbnRlcm5hbCBodHRwMiBlcnJvci5cbiAgICAgICAgaWYgKHRoaXMuaHR0cDJTdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogSWYgdGhlIHNlcnZlciBlbmRlZCB0aGUgY2FsbCwgc2VuZGluZyBhbiBSU1RfU1RSRUFNIGlzIHJlZHVuZGFudCwgc28gd2VcbiAgICAgICAgICoganVzdCBoYWxmIGNsb3NlIG9uIHRoZSBjbGllbnQgc2lkZSBpbnN0ZWFkIHRvIGZpbmlzaCBjbG9zaW5nIHRoZSBzdHJlYW0uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zZXJ2ZXJFbmRlZENhbGwpIHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0uZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKiBJZiB0aGUgY2FsbCBoYXMgZW5kZWQgd2l0aCBhbiBPSyBzdGF0dXMsIGNvbW11bmljYXRlIHRoYXQgd2hlbiBjbG9zaW5nXG4gICAgICAgICAgICAgKiB0aGUgc3RyZWFtLCBwYXJ0bHkgdG8gYXZvaWQgYSBzaXR1YXRpb24gaW4gd2hpY2ggd2UgZGV0ZWN0IGFuIGVycm9yXG4gICAgICAgICAgICAgKiBSU1RfU1RSRUFNIGFzIGEgcmVzdWx0IGFmdGVyIHdlIGhhdmUgdGhlIHN0YXR1cyAqL1xuICAgICAgICAgICAgbGV0IGNvZGU7XG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuZmluYWxTdGF0dXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2RlKSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nsb3NlIGh0dHAyIHN0cmVhbSB3aXRoIGNvZGUgJyArIGNvZGUpO1xuICAgICAgICAgICAgdGhpcy5odHRwMlN0cmVhbS5jbG9zZShjb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB0aGlzLnRyYWNlKCdjYW5jZWxXaXRoU3RhdHVzIGNvZGU6ICcgKyBzdGF0dXMgKyAnIGRldGFpbHM6IFwiJyArIGRldGFpbHMgKyAnXCInKTtcbiAgICAgICAgdGhpcy5lbmRDYWxsKHsgY29kZTogc3RhdHVzLCBkZXRhaWxzLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9KTtcbiAgICB9XG4gICAgZ2V0U3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5hbFN0YXR1cztcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFBlZXJOYW1lKCk7XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxJZDtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIC8qIElmIHRoZSBzdHJlYW0gaGFzIGVuZGVkIHdpdGggYW4gZXJyb3IsIHdlIHNob3VsZCBub3QgZW1pdCBhbnkgbW9yZVxuICAgICAgICAgKiBtZXNzYWdlcyBhbmQgd2Ugc2hvdWxkIGNvbW11bmljYXRlIHRoYXQgdGhlIHN0cmVhbSBoYXMgZW5kZWQgKi9cbiAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMgIT09IG51bGwgJiYgdGhpcy5maW5hbFN0YXR1cy5jb2RlICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuUHVzaCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoKG5leHRNZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiBPbmx5IHJlc3VtZSByZWFkaW5nIGZyb20gdGhlIGh0dHAyU3RyZWFtIGlmIHdlIGRvbid0IGhhdmUgYW55IHBlbmRpbmdcbiAgICAgICAgICogbWVzc2FnZXMgdG8gZW1pdCAqL1xuICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnd3JpdGUoKSBjYWxsZWQgd2l0aCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYiA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLyogbmV4dFRpY2sgaGVyZSBlbnN1cmVzIHRoYXQgbm8gc3RyZWFtIGFjdGlvbiBjYW4gYmUgdGFrZW4gaW4gdGhlIGNhbGxcbiAgICAgICAgICAgICAqIHN0YWNrIG9mIHRoZSB3cml0ZSBjYWxsYmFjaywgaW4gb3JkZXIgdG8gaG9wZWZ1bGx5IHdvcmsgYXJvdW5kXG4gICAgICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzQ5MTQ3ICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEU7XG4gICAgICAgICAgICAgICAgaWYgKChlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IuY29kZSkgPT09XG4gICAgICAgICAgICAgICAgICAgICdFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb2RlLCBgV3JpdGUgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gY29udGV4dC5jYWxsYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFjZSgnc2VuZGluZyBkYXRhIGNodW5rIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIuYWRkTWVzc2FnZVNlbnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ud3JpdGUobWVzc2FnZSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5lbmRDYWxsKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFdyaXRlIGZhaWxlZCB3aXRoIGVycm9yICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdlbmQoKSBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy50cmFjZSgnY2FsbGluZyBlbmQoKSBvbiBIVFRQLzIgc3RyZWFtJyk7XG4gICAgICAgIHRoaXMuaHR0cDJTdHJlYW0uZW5kKCk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDYWxsID0gSHR0cDJTdWJjaGFubmVsQ2FsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtY2FsbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseSubchannelWrapper = void 0;\nclass BaseSubchannelWrapper {\n    constructor(child) {\n        this.child = child;\n        this.healthy = true;\n        this.healthListeners = new Set();\n        this.refcount = 0;\n        this.dataWatchers = new Set();\n        child.addHealthStateWatcher(childHealthy => {\n            /* A change to the child health state only affects this wrapper's overall\n             * health state if this wrapper is reporting healthy. */\n            if (this.healthy) {\n                this.updateHealthListeners();\n            }\n        });\n    }\n    updateHealthListeners() {\n        for (const listener of this.healthListeners) {\n            listener(this.isHealthy());\n        }\n    }\n    getConnectivityState() {\n        return this.child.getConnectivityState();\n    }\n    addConnectivityStateListener(listener) {\n        this.child.addConnectivityStateListener(listener);\n    }\n    removeConnectivityStateListener(listener) {\n        this.child.removeConnectivityStateListener(listener);\n    }\n    startConnecting() {\n        this.child.startConnecting();\n    }\n    getAddress() {\n        return this.child.getAddress();\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        this.child.throttleKeepalive(newKeepaliveTime);\n    }\n    ref() {\n        this.child.ref();\n        this.refcount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refcount -= 1;\n        if (this.refcount === 0) {\n            this.destroy();\n        }\n    }\n    destroy() {\n        for (const watcher of this.dataWatchers) {\n            watcher.destroy();\n        }\n    }\n    getChannelzRef() {\n        return this.child.getChannelzRef();\n    }\n    isHealthy() {\n        return this.healthy && this.child.isHealthy();\n    }\n    addHealthStateWatcher(listener) {\n        this.healthListeners.add(listener);\n    }\n    removeHealthStateWatcher(listener) {\n        this.healthListeners.delete(listener);\n    }\n    addDataWatcher(dataWatcher) {\n        dataWatcher.setSubchannel(this.getRealSubchannel());\n        this.dataWatchers.add(dataWatcher);\n    }\n    setHealthy(healthy) {\n        if (healthy !== this.healthy) {\n            this.healthy = healthy;\n            /* A change to this wrapper's health state only affects the overall\n             * reported health state if the child is healthy. */\n            if (this.child.isHealthy()) {\n                this.updateHealthListeners();\n            }\n        }\n    }\n    getRealSubchannel() {\n        return this.child.getRealSubchannel();\n    }\n    realSubchannelEquals(other) {\n        return this.getRealSubchannel() === other.getRealSubchannel();\n    }\n    getCallCredentials() {\n        return this.child.getCallCredentials();\n    }\n    getChannel() {\n        return this.child.getChannel();\n    }\n}\nexports.BaseSubchannelWrapper = BaseSubchannelWrapper;\n//# sourceMappingURL=subchannel-interface.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1pbnRlcmZhY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1pbnRlcmZhY2UuanM/MWFiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlU3ViY2hhbm5lbFdyYXBwZXIgPSB2b2lkIDA7XG5jbGFzcyBCYXNlU3ViY2hhbm5lbFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkKSB7XG4gICAgICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcbiAgICAgICAgdGhpcy5oZWFsdGh5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oZWFsdGhMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMucmVmY291bnQgPSAwO1xuICAgICAgICB0aGlzLmRhdGFXYXRjaGVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgY2hpbGQuYWRkSGVhbHRoU3RhdGVXYXRjaGVyKGNoaWxkSGVhbHRoeSA9PiB7XG4gICAgICAgICAgICAvKiBBIGNoYW5nZSB0byB0aGUgY2hpbGQgaGVhbHRoIHN0YXRlIG9ubHkgYWZmZWN0cyB0aGlzIHdyYXBwZXIncyBvdmVyYWxsXG4gICAgICAgICAgICAgKiBoZWFsdGggc3RhdGUgaWYgdGhpcyB3cmFwcGVyIGlzIHJlcG9ydGluZyBoZWFsdGh5LiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVhbHRoeSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGVhbHRoTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVIZWFsdGhMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5oZWFsdGhMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMuaXNIZWFsdGh5KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENvbm5lY3Rpdml0eVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpO1xuICAgIH1cbiAgICBhZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuY2hpbGQuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5jaGlsZC5yZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgc3RhcnRDb25uZWN0aW5nKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgIH1cbiAgICBnZXRBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRBZGRyZXNzKCk7XG4gICAgfVxuICAgIHRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgdGhpcy5jaGlsZC50aHJvdHRsZUtlZXBhbGl2ZShuZXdLZWVwYWxpdmVUaW1lKTtcbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnJlZigpO1xuICAgICAgICB0aGlzLnJlZmNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnVucmVmKCk7XG4gICAgICAgIHRoaXMucmVmY291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlciBvZiB0aGlzLmRhdGFXYXRjaGVycykge1xuICAgICAgICAgICAgd2F0Y2hlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldENoYW5uZWx6UmVmKCk7XG4gICAgfVxuICAgIGlzSGVhbHRoeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhbHRoeSAmJiB0aGlzLmNoaWxkLmlzSGVhbHRoeSgpO1xuICAgIH1cbiAgICBhZGRIZWFsdGhTdGF0ZVdhdGNoZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5oZWFsdGhMaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlSGVhbHRoU3RhdGVXYXRjaGVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuaGVhbHRoTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIGFkZERhdGFXYXRjaGVyKGRhdGFXYXRjaGVyKSB7XG4gICAgICAgIGRhdGFXYXRjaGVyLnNldFN1YmNoYW5uZWwodGhpcy5nZXRSZWFsU3ViY2hhbm5lbCgpKTtcbiAgICAgICAgdGhpcy5kYXRhV2F0Y2hlcnMuYWRkKGRhdGFXYXRjaGVyKTtcbiAgICB9XG4gICAgc2V0SGVhbHRoeShoZWFsdGh5KSB7XG4gICAgICAgIGlmIChoZWFsdGh5ICE9PSB0aGlzLmhlYWx0aHkpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoeSA9IGhlYWx0aHk7XG4gICAgICAgICAgICAvKiBBIGNoYW5nZSB0byB0aGlzIHdyYXBwZXIncyBoZWFsdGggc3RhdGUgb25seSBhZmZlY3RzIHRoZSBvdmVyYWxsXG4gICAgICAgICAgICAgKiByZXBvcnRlZCBoZWFsdGggc3RhdGUgaWYgdGhlIGNoaWxkIGlzIGhlYWx0aHkuICovXG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZC5pc0hlYWx0aHkoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGVhbHRoTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UmVhbFN1YmNoYW5uZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldFJlYWxTdWJjaGFubmVsKCk7XG4gICAgfVxuICAgIHJlYWxTdWJjaGFubmVsRXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJlYWxTdWJjaGFubmVsKCkgPT09IG90aGVyLmdldFJlYWxTdWJjaGFubmVsKCk7XG4gICAgfVxuICAgIGdldENhbGxDcmVkZW50aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0Q2FsbENyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIGdldENoYW5uZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldENoYW5uZWwoKTtcbiAgICB9XG59XG5leHBvcnRzLkJhc2VTdWJjaGFubmVsV3JhcHBlciA9IEJhc2VTdWJjaGFubmVsV3JhcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtaW50ZXJmYWNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SubchannelPool = void 0;\nexports.getSubchannelPool = getSubchannelPool;\nconst channel_options_1 = __webpack_require__(/*! ./channel-options */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channel-options.js\");\nconst subchannel_1 = __webpack_require__(/*! ./subchannel */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst transport_1 = __webpack_require__(/*! ./transport */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js\");\n// 10 seconds in milliseconds. This value is arbitrary.\n/**\n * The amount of time in between checks for dropping subchannels that have no\n * other references\n */\nconst REF_CHECK_INTERVAL = 10000;\nclass SubchannelPool {\n    /**\n     * A pool of subchannels use for making connections. Subchannels with the\n     * exact same parameters will be reused.\n     */\n    constructor() {\n        this.pool = Object.create(null);\n        /**\n         * A timer of a task performing a periodic subchannel cleanup.\n         */\n        this.cleanupTimer = null;\n    }\n    /**\n     * Unrefs all unused subchannels and cancels the cleanup task if all\n     * subchannels have been unrefed.\n     */\n    unrefUnusedSubchannels() {\n        let allSubchannelsUnrefed = true;\n        /* These objects are created with Object.create(null), so they do not\n         * have a prototype, which means that for (... in ...) loops over them\n         * do not need to be filtered */\n        // eslint-disable-disable-next-line:forin\n        for (const channelTarget in this.pool) {\n            const subchannelObjArray = this.pool[channelTarget];\n            const refedSubchannels = subchannelObjArray.filter(value => !value.subchannel.unrefIfOneRef());\n            if (refedSubchannels.length > 0) {\n                allSubchannelsUnrefed = false;\n            }\n            /* For each subchannel in the pool, try to unref it if it has\n             * exactly one ref (which is the ref from the pool itself). If that\n             * does happen, remove the subchannel from the pool */\n            this.pool[channelTarget] = refedSubchannels;\n        }\n        /* Currently we do not delete keys with empty values. If that results\n         * in significant memory usage we should change it. */\n        // Cancel the cleanup task if all subchannels have been unrefed.\n        if (allSubchannelsUnrefed && this.cleanupTimer !== null) {\n            clearInterval(this.cleanupTimer);\n            this.cleanupTimer = null;\n        }\n    }\n    /**\n     * Ensures that the cleanup task is spawned.\n     */\n    ensureCleanupTask() {\n        var _a, _b;\n        if (this.cleanupTimer === null) {\n            this.cleanupTimer = setInterval(() => {\n                this.unrefUnusedSubchannels();\n            }, REF_CHECK_INTERVAL);\n            // Unref because this timer should not keep the event loop running.\n            // Call unref only if it exists to address electron/electron#21162\n            (_b = (_a = this.cleanupTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    /**\n     * Get a subchannel if one already exists with exactly matching parameters.\n     * Otherwise, create and save a subchannel with those parameters.\n     * @param channelTarget\n     * @param subchannelTarget\n     * @param channelArguments\n     * @param channelCredentials\n     */\n    getOrCreateSubchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials) {\n        this.ensureCleanupTask();\n        const channelTarget = (0, uri_parser_1.uriToString)(channelTargetUri);\n        if (channelTarget in this.pool) {\n            const subchannelObjArray = this.pool[channelTarget];\n            for (const subchannelObj of subchannelObjArray) {\n                if ((0, subchannel_address_1.subchannelAddressEqual)(subchannelTarget, subchannelObj.subchannelAddress) &&\n                    (0, channel_options_1.channelOptionsEqual)(channelArguments, subchannelObj.channelArguments) &&\n                    channelCredentials._equals(subchannelObj.channelCredentials)) {\n                    return subchannelObj.subchannel;\n                }\n            }\n        }\n        // If we get here, no matching subchannel was found\n        const subchannel = new subchannel_1.Subchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials, new transport_1.Http2SubchannelConnector(channelTargetUri));\n        if (!(channelTarget in this.pool)) {\n            this.pool[channelTarget] = [];\n        }\n        this.pool[channelTarget].push({\n            subchannelAddress: subchannelTarget,\n            channelArguments,\n            channelCredentials,\n            subchannel,\n        });\n        subchannel.ref();\n        return subchannel;\n    }\n}\nexports.SubchannelPool = SubchannelPool;\nconst globalSubchannelPool = new SubchannelPool();\n/**\n * Get either the global subchannel pool, or a new subchannel pool.\n * @param global\n */\nfunction getSubchannelPool(global) {\n    if (global) {\n        return globalSubchannelPool;\n    }\n    else {\n        return new SubchannelPool();\n    }\n}\n//# sourceMappingURL=subchannel-pool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1wb29sLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCLHlCQUF5QjtBQUN6QiwwQkFBMEIsbUJBQU8sQ0FBQyxrSEFBbUI7QUFDckQscUJBQXFCLG1CQUFPLENBQUMsd0dBQWM7QUFDM0MsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwtcG9vbC5qcz9hNTBhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN1YmNoYW5uZWxQb29sID0gdm9pZCAwO1xuZXhwb3J0cy5nZXRTdWJjaGFubmVsUG9vbCA9IGdldFN1YmNoYW5uZWxQb29sO1xuY29uc3QgY2hhbm5lbF9vcHRpb25zXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLW9wdGlvbnNcIik7XG5jb25zdCBzdWJjaGFubmVsXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgdHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRcIik7XG4vLyAxMCBzZWNvbmRzIGluIG1pbGxpc2Vjb25kcy4gVGhpcyB2YWx1ZSBpcyBhcmJpdHJhcnkuXG4vKipcbiAqIFRoZSBhbW91bnQgb2YgdGltZSBpbiBiZXR3ZWVuIGNoZWNrcyBmb3IgZHJvcHBpbmcgc3ViY2hhbm5lbHMgdGhhdCBoYXZlIG5vXG4gKiBvdGhlciByZWZlcmVuY2VzXG4gKi9cbmNvbnN0IFJFRl9DSEVDS19JTlRFUlZBTCA9IDEwMDAwO1xuY2xhc3MgU3ViY2hhbm5lbFBvb2wge1xuICAgIC8qKlxuICAgICAqIEEgcG9vbCBvZiBzdWJjaGFubmVscyB1c2UgZm9yIG1ha2luZyBjb25uZWN0aW9ucy4gU3ViY2hhbm5lbHMgd2l0aCB0aGVcbiAgICAgKiBleGFjdCBzYW1lIHBhcmFtZXRlcnMgd2lsbCBiZSByZXVzZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9vbCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVyIG9mIGEgdGFzayBwZXJmb3JtaW5nIGEgcGVyaW9kaWMgc3ViY2hhbm5lbCBjbGVhbnVwLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhbnVwVGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZnMgYWxsIHVudXNlZCBzdWJjaGFubmVscyBhbmQgY2FuY2VscyB0aGUgY2xlYW51cCB0YXNrIGlmIGFsbFxuICAgICAqIHN1YmNoYW5uZWxzIGhhdmUgYmVlbiB1bnJlZmVkLlxuICAgICAqL1xuICAgIHVucmVmVW51c2VkU3ViY2hhbm5lbHMoKSB7XG4gICAgICAgIGxldCBhbGxTdWJjaGFubmVsc1VucmVmZWQgPSB0cnVlO1xuICAgICAgICAvKiBUaGVzZSBvYmplY3RzIGFyZSBjcmVhdGVkIHdpdGggT2JqZWN0LmNyZWF0ZShudWxsKSwgc28gdGhleSBkbyBub3RcbiAgICAgICAgICogaGF2ZSBhIHByb3RvdHlwZSwgd2hpY2ggbWVhbnMgdGhhdCBmb3IgKC4uLiBpbiAuLi4pIGxvb3BzIG92ZXIgdGhlbVxuICAgICAgICAgKiBkbyBub3QgbmVlZCB0byBiZSBmaWx0ZXJlZCAqL1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1kaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgICBmb3IgKGNvbnN0IGNoYW5uZWxUYXJnZXQgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsT2JqQXJyYXkgPSB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF07XG4gICAgICAgICAgICBjb25zdCByZWZlZFN1YmNoYW5uZWxzID0gc3ViY2hhbm5lbE9iakFycmF5LmZpbHRlcih2YWx1ZSA9PiAhdmFsdWUuc3ViY2hhbm5lbC51bnJlZklmT25lUmVmKCkpO1xuICAgICAgICAgICAgaWYgKHJlZmVkU3ViY2hhbm5lbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFsbFN1YmNoYW5uZWxzVW5yZWZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogRm9yIGVhY2ggc3ViY2hhbm5lbCBpbiB0aGUgcG9vbCwgdHJ5IHRvIHVucmVmIGl0IGlmIGl0IGhhc1xuICAgICAgICAgICAgICogZXhhY3RseSBvbmUgcmVmICh3aGljaCBpcyB0aGUgcmVmIGZyb20gdGhlIHBvb2wgaXRzZWxmKS4gSWYgdGhhdFxuICAgICAgICAgICAgICogZG9lcyBoYXBwZW4sIHJlbW92ZSB0aGUgc3ViY2hhbm5lbCBmcm9tIHRoZSBwb29sICovXG4gICAgICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0gPSByZWZlZFN1YmNoYW5uZWxzO1xuICAgICAgICB9XG4gICAgICAgIC8qIEN1cnJlbnRseSB3ZSBkbyBub3QgZGVsZXRlIGtleXMgd2l0aCBlbXB0eSB2YWx1ZXMuIElmIHRoYXQgcmVzdWx0c1xuICAgICAgICAgKiBpbiBzaWduaWZpY2FudCBtZW1vcnkgdXNhZ2Ugd2Ugc2hvdWxkIGNoYW5nZSBpdC4gKi9cbiAgICAgICAgLy8gQ2FuY2VsIHRoZSBjbGVhbnVwIHRhc2sgaWYgYWxsIHN1YmNoYW5uZWxzIGhhdmUgYmVlbiB1bnJlZmVkLlxuICAgICAgICBpZiAoYWxsU3ViY2hhbm5lbHNVbnJlZmVkICYmIHRoaXMuY2xlYW51cFRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2xlYW51cFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGNsZWFudXAgdGFzayBpcyBzcGF3bmVkLlxuICAgICAqL1xuICAgIGVuc3VyZUNsZWFudXBUYXNrKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5jbGVhbnVwVGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudW5yZWZVbnVzZWRTdWJjaGFubmVscygpO1xuICAgICAgICAgICAgfSwgUkVGX0NIRUNLX0lOVEVSVkFMKTtcbiAgICAgICAgICAgIC8vIFVucmVmIGJlY2F1c2UgdGhpcyB0aW1lciBzaG91bGQgbm90IGtlZXAgdGhlIGV2ZW50IGxvb3AgcnVubmluZy5cbiAgICAgICAgICAgIC8vIENhbGwgdW5yZWYgb25seSBpZiBpdCBleGlzdHMgdG8gYWRkcmVzcyBlbGVjdHJvbi9lbGVjdHJvbiMyMTE2MlxuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jbGVhbnVwVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3ViY2hhbm5lbCBpZiBvbmUgYWxyZWFkeSBleGlzdHMgd2l0aCBleGFjdGx5IG1hdGNoaW5nIHBhcmFtZXRlcnMuXG4gICAgICogT3RoZXJ3aXNlLCBjcmVhdGUgYW5kIHNhdmUgYSBzdWJjaGFubmVsIHdpdGggdGhvc2UgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbFRhcmdldFxuICAgICAqIEBwYXJhbSBzdWJjaGFubmVsVGFyZ2V0XG4gICAgICogQHBhcmFtIGNoYW5uZWxBcmd1bWVudHNcbiAgICAgKiBAcGFyYW0gY2hhbm5lbENyZWRlbnRpYWxzXG4gICAgICovXG4gICAgZ2V0T3JDcmVhdGVTdWJjaGFubmVsKGNoYW5uZWxUYXJnZXRVcmksIHN1YmNoYW5uZWxUYXJnZXQsIGNoYW5uZWxBcmd1bWVudHMsIGNoYW5uZWxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLmVuc3VyZUNsZWFudXBUYXNrKCk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxUYXJnZXQgPSAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShjaGFubmVsVGFyZ2V0VXJpKTtcbiAgICAgICAgaWYgKGNoYW5uZWxUYXJnZXQgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsT2JqQXJyYXkgPSB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWxPYmogb2Ygc3ViY2hhbm5lbE9iakFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc0VxdWFsKShzdWJjaGFubmVsVGFyZ2V0LCBzdWJjaGFubmVsT2JqLnN1YmNoYW5uZWxBZGRyZXNzKSAmJlxuICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbF9vcHRpb25zXzEuY2hhbm5lbE9wdGlvbnNFcXVhbCkoY2hhbm5lbEFyZ3VtZW50cywgc3ViY2hhbm5lbE9iai5jaGFubmVsQXJndW1lbnRzKSAmJlxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ3JlZGVudGlhbHMuX2VxdWFscyhzdWJjaGFubmVsT2JqLmNoYW5uZWxDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWxPYmouc3ViY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIG5vIG1hdGNoaW5nIHN1YmNoYW5uZWwgd2FzIGZvdW5kXG4gICAgICAgIGNvbnN0IHN1YmNoYW5uZWwgPSBuZXcgc3ViY2hhbm5lbF8xLlN1YmNoYW5uZWwoY2hhbm5lbFRhcmdldFVyaSwgc3ViY2hhbm5lbFRhcmdldCwgY2hhbm5lbEFyZ3VtZW50cywgY2hhbm5lbENyZWRlbnRpYWxzLCBuZXcgdHJhbnNwb3J0XzEuSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXRVcmkpKTtcbiAgICAgICAgaWYgKCEoY2hhbm5lbFRhcmdldCBpbiB0aGlzLnBvb2wpKSB7XG4gICAgICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0ucHVzaCh7XG4gICAgICAgICAgICBzdWJjaGFubmVsQWRkcmVzczogc3ViY2hhbm5lbFRhcmdldCxcbiAgICAgICAgICAgIGNoYW5uZWxBcmd1bWVudHMsXG4gICAgICAgICAgICBjaGFubmVsQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBzdWJjaGFubmVsLFxuICAgICAgICB9KTtcbiAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWw7XG4gICAgfVxufVxuZXhwb3J0cy5TdWJjaGFubmVsUG9vbCA9IFN1YmNoYW5uZWxQb29sO1xuY29uc3QgZ2xvYmFsU3ViY2hhbm5lbFBvb2wgPSBuZXcgU3ViY2hhbm5lbFBvb2woKTtcbi8qKlxuICogR2V0IGVpdGhlciB0aGUgZ2xvYmFsIHN1YmNoYW5uZWwgcG9vbCwgb3IgYSBuZXcgc3ViY2hhbm5lbCBwb29sLlxuICogQHBhcmFtIGdsb2JhbFxuICovXG5mdW5jdGlvbiBnZXRTdWJjaGFubmVsUG9vbChnbG9iYWwpIHtcbiAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxTdWJjaGFubmVsUG9vbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViY2hhbm5lbFBvb2woKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJjaGFubmVsLXBvb2wuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Subchannel = void 0;\nconst connectivity_state_1 = __webpack_require__(/*! ./connectivity-state */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/connectivity-state.js\");\nconst backoff_timeout_1 = __webpack_require__(/*! ./backoff-timeout */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst single_subchannel_channel_1 = __webpack_require__(/*! ./single-subchannel-channel */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/single-subchannel-channel.js\");\nconst TRACER_NAME = 'subchannel';\n/* setInterval and setTimeout only accept signed 32 bit integers. JS doesn't\n * have a constant for the max signed 32 bit integer, so this is a simple way\n * to calculate it */\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nclass Subchannel {\n    /**\n     * A class representing a connection to a single backend.\n     * @param channelTarget The target string for the channel as a whole\n     * @param subchannelAddress The address for the backend that this subchannel\n     *     will connect to\n     * @param options The channel options, plus any specific subchannel options\n     *     for this subchannel\n     * @param credentials The channel credentials used to establish this\n     *     connection\n     */\n    constructor(channelTarget, subchannelAddress, options, credentials, connector) {\n        var _a;\n        this.channelTarget = channelTarget;\n        this.subchannelAddress = subchannelAddress;\n        this.options = options;\n        this.connector = connector;\n        /**\n         * The subchannel's current connectivity state. Invariant: `session` === `null`\n         * if and only if `connectivityState` is IDLE or TRANSIENT_FAILURE.\n         */\n        this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The underlying http2 session used to make requests.\n         */\n        this.transport = null;\n        /**\n         * Indicates that the subchannel should transition from TRANSIENT_FAILURE to\n         * CONNECTING instead of IDLE when the backoff timeout ends.\n         */\n        this.continueConnecting = false;\n        /**\n         * A list of listener functions that will be called whenever the connectivity\n         * state changes. Will be modified by `addConnectivityStateListener` and\n         * `removeConnectivityStateListener`\n         */\n        this.stateListeners = new Set();\n        /**\n         * Tracks channels and subchannel pools with references to this subchannel\n         */\n        this.refcount = 0;\n        // Channelz info\n        this.channelzEnabled = true;\n        this.dataProducers = new Map();\n        this.subchannelChannel = null;\n        const backoffOptions = {\n            initialDelay: options['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: options['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n            this.handleBackoffTimer();\n        }, backoffOptions);\n        this.backoffTimeout.unref();\n        this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n        this.keepaliveTime = (_a = options['grpc.keepalive_time_ms']) !== null && _a !== void 0 ? _a : -1;\n        if (options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n            this.channelzTrace = new channelz_1.ChannelzTraceStub();\n            this.callTracker = new channelz_1.ChannelzCallTrackerStub();\n            this.childrenTracker = new channelz_1.ChannelzChildrenTrackerStub();\n            this.streamTracker = new channelz_1.ChannelzCallTrackerStub();\n        }\n        else {\n            this.channelzTrace = new channelz_1.ChannelzTrace();\n            this.callTracker = new channelz_1.ChannelzCallTracker();\n            this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n            this.streamTracker = new channelz_1.ChannelzCallTracker();\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzSubchannel)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n        this.channelzTrace.addTrace('CT_INFO', 'Subchannel created');\n        this.trace('Subchannel constructed with options ' +\n            JSON.stringify(options, undefined, 2));\n        this.secureConnector = credentials._createSecureConnector(channelTarget, options);\n    }\n    getChannelzInfo() {\n        return {\n            state: this.connectivityState,\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            children: this.childrenTracker.getChildLists(),\n            target: this.subchannelAddressString,\n        };\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    refTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'subchannel_refcount', '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    handleBackoffTimer() {\n        if (this.continueConnecting) {\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n        }\n        else {\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.IDLE);\n        }\n    }\n    /**\n     * Start a backoff timer with the current nextBackoff timeout\n     */\n    startBackoff() {\n        this.backoffTimeout.runOnce();\n    }\n    stopBackoff() {\n        this.backoffTimeout.stop();\n        this.backoffTimeout.reset();\n    }\n    startConnectingInternal() {\n        let options = this.options;\n        if (options['grpc.keepalive_time_ms']) {\n            const adjustedKeepaliveTime = Math.min(this.keepaliveTime, KEEPALIVE_MAX_TIME_MS);\n            options = Object.assign(Object.assign({}, options), { 'grpc.keepalive_time_ms': adjustedKeepaliveTime });\n        }\n        this.connector\n            .connect(this.subchannelAddress, this.secureConnector, options)\n            .then(transport => {\n            if (this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.READY)) {\n                this.transport = transport;\n                if (this.channelzEnabled) {\n                    this.childrenTracker.refChild(transport.getChannelzRef());\n                }\n                transport.addDisconnectListener(tooManyPings => {\n                    this.transitionToState([connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n                    if (tooManyPings && this.keepaliveTime > 0) {\n                        this.keepaliveTime *= 2;\n                        logging.log(constants_1.LogVerbosity.ERROR, `Connection to ${(0, uri_parser_1.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`);\n                    }\n                });\n            }\n            else {\n                /* If we can't transition from CONNECTING to READY here, we will\n                 * not be using this transport, so release its resources. */\n                transport.shutdown();\n            }\n        }, error => {\n            this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, `${error}`);\n        });\n    }\n    /**\n     * Initiate a state transition from any element of oldStates to the new\n     * state. If the current connectivityState is not in oldStates, do nothing.\n     * @param oldStates The set of states to transition from\n     * @param newState The state to transition to\n     * @returns True if the state changed, false otherwise\n     */\n    transitionToState(oldStates, newState, errorMessage) {\n        var _a, _b;\n        if (oldStates.indexOf(this.connectivityState) === -1) {\n            return false;\n        }\n        if (errorMessage) {\n            this.trace(connectivity_state_1.ConnectivityState[this.connectivityState] +\n                ' -> ' +\n                connectivity_state_1.ConnectivityState[newState] +\n                ' with error \"' + errorMessage + '\"');\n        }\n        else {\n            this.trace(connectivity_state_1.ConnectivityState[this.connectivityState] +\n                ' -> ' +\n                connectivity_state_1.ConnectivityState[newState]);\n        }\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', 'Connectivity state change to ' + connectivity_state_1.ConnectivityState[newState]);\n        }\n        const previousState = this.connectivityState;\n        this.connectivityState = newState;\n        switch (newState) {\n            case connectivity_state_1.ConnectivityState.READY:\n                this.stopBackoff();\n                break;\n            case connectivity_state_1.ConnectivityState.CONNECTING:\n                this.startBackoff();\n                this.startConnectingInternal();\n                this.continueConnecting = false;\n                break;\n            case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n                if (this.channelzEnabled && this.transport) {\n                    this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n                }\n                (_a = this.transport) === null || _a === void 0 ? void 0 : _a.shutdown();\n                this.transport = null;\n                /* If the backoff timer has already ended by the time we get to the\n                 * TRANSIENT_FAILURE state, we want to immediately transition out of\n                 * TRANSIENT_FAILURE as though the backoff timer is ending right now */\n                if (!this.backoffTimeout.isRunning()) {\n                    process.nextTick(() => {\n                        this.handleBackoffTimer();\n                    });\n                }\n                break;\n            case connectivity_state_1.ConnectivityState.IDLE:\n                if (this.channelzEnabled && this.transport) {\n                    this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n                }\n                (_b = this.transport) === null || _b === void 0 ? void 0 : _b.shutdown();\n                this.transport = null;\n                break;\n            default:\n                throw new Error(`Invalid state: unknown ConnectivityState ${newState}`);\n        }\n        for (const listener of this.stateListeners) {\n            listener(this, previousState, newState, this.keepaliveTime, errorMessage);\n        }\n        return true;\n    }\n    ref() {\n        this.refTrace('refcount ' + this.refcount + ' -> ' + (this.refcount + 1));\n        this.refcount += 1;\n    }\n    unref() {\n        this.refTrace('refcount ' + this.refcount + ' -> ' + (this.refcount - 1));\n        this.refcount -= 1;\n        if (this.refcount === 0) {\n            this.channelzTrace.addTrace('CT_INFO', 'Shutting down');\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n            this.secureConnector.destroy();\n            process.nextTick(() => {\n                this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING, connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n            });\n        }\n    }\n    unrefIfOneRef() {\n        if (this.refcount === 1) {\n            this.unref();\n            return true;\n        }\n        return false;\n    }\n    createCall(metadata, host, method, listener) {\n        if (!this.transport) {\n            throw new Error('Cannot create call, subchannel not READY');\n        }\n        let statsTracker;\n        if (this.channelzEnabled) {\n            this.callTracker.addCallStarted();\n            this.streamTracker.addCallStarted();\n            statsTracker = {\n                onCallEnd: status => {\n                    if (status.code === constants_1.Status.OK) {\n                        this.callTracker.addCallSucceeded();\n                    }\n                    else {\n                        this.callTracker.addCallFailed();\n                    }\n                },\n            };\n        }\n        else {\n            statsTracker = {};\n        }\n        return this.transport.createCall(metadata, host, method, listener, statsTracker);\n    }\n    /**\n     * If the subchannel is currently IDLE, start connecting and switch to the\n     * CONNECTING state. If the subchannel is current in TRANSIENT_FAILURE,\n     * the next time it would transition to IDLE, start connecting again instead.\n     * Otherwise, do nothing.\n     */\n    startConnecting() {\n        process.nextTick(() => {\n            /* First, try to transition from IDLE to connecting. If that doesn't happen\n             * because the state is not currently IDLE, check if it is\n             * TRANSIENT_FAILURE, and if so indicate that it should go back to\n             * connecting after the backoff timer ends. Otherwise do nothing */\n            if (!this.transitionToState([connectivity_state_1.ConnectivityState.IDLE], connectivity_state_1.ConnectivityState.CONNECTING)) {\n                if (this.connectivityState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                    this.continueConnecting = true;\n                }\n            }\n        });\n    }\n    /**\n     * Get the subchannel's current connectivity state.\n     */\n    getConnectivityState() {\n        return this.connectivityState;\n    }\n    /**\n     * Add a listener function to be called whenever the subchannel's\n     * connectivity state changes.\n     * @param listener\n     */\n    addConnectivityStateListener(listener) {\n        this.stateListeners.add(listener);\n    }\n    /**\n     * Remove a listener previously added with `addConnectivityStateListener`\n     * @param listener A reference to a function previously passed to\n     *     `addConnectivityStateListener`\n     */\n    removeConnectivityStateListener(listener) {\n        this.stateListeners.delete(listener);\n    }\n    /**\n     * Reset the backoff timeout, and immediately start connecting if in backoff.\n     */\n    resetBackoff() {\n        process.nextTick(() => {\n            this.backoffTimeout.reset();\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n        });\n    }\n    getAddress() {\n        return this.subchannelAddressString;\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    isHealthy() {\n        return true;\n    }\n    addHealthStateWatcher(listener) {\n        // Do nothing with the listener\n    }\n    removeHealthStateWatcher(listener) {\n        // Do nothing with the listener\n    }\n    getRealSubchannel() {\n        return this;\n    }\n    realSubchannelEquals(other) {\n        return other.getRealSubchannel() === this;\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        if (newKeepaliveTime > this.keepaliveTime) {\n            this.keepaliveTime = newKeepaliveTime;\n        }\n    }\n    getCallCredentials() {\n        return this.secureConnector.getCallCredentials();\n    }\n    getChannel() {\n        if (!this.subchannelChannel) {\n            this.subchannelChannel = new single_subchannel_channel_1.SingleSubchannelChannel(this, this.channelTarget, this.options);\n        }\n        return this.subchannelChannel;\n    }\n    addDataWatcher(dataWatcher) {\n        throw new Error('Not implemented');\n    }\n    getOrCreateDataProducer(name, createDataProducer) {\n        const existingProducer = this.dataProducers.get(name);\n        if (existingProducer) {\n            return existingProducer;\n        }\n        const newProducer = createDataProducer(this);\n        this.dataProducers.set(name, newProducer);\n        return newProducer;\n    }\n    removeDataProducer(name) {\n        this.dataProducers.delete(name);\n    }\n}\nexports.Subchannel = Subchannel;\n//# sourceMappingURL=subchannel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQiw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBc0I7QUFDM0QsMEJBQTBCLG1CQUFPLENBQUMsa0hBQW1CO0FBQ3JELGdCQUFnQixtQkFBTyxDQUFDLGtHQUFXO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFhO0FBQ3pDLHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLDZCQUE2QixtQkFBTyxDQUFDLHdIQUFzQjtBQUMzRCxtQkFBbUIsbUJBQU8sQ0FBQyxvR0FBWTtBQUN2QyxvQ0FBb0MsbUJBQU8sQ0FBQyxzSUFBNkI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsY0FBYyxpREFBaUQ7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsbURBQW1ELEtBQUssOEJBQThCLDBFQUEwRSxvQkFBb0I7QUFDelE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHFKQUFxSixNQUFNO0FBQzNKLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLFNBQVM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLmpzPzM5ODMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3ViY2hhbm5lbCA9IHZvaWQgMDtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgYmFja29mZl90aW1lb3V0XzEgPSByZXF1aXJlKFwiLi9iYWNrb2ZmLXRpbWVvdXRcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuY29uc3Qgc2luZ2xlX3N1YmNoYW5uZWxfY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vc2luZ2xlLXN1YmNoYW5uZWwtY2hhbm5lbFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3N1YmNoYW5uZWwnO1xuLyogc2V0SW50ZXJ2YWwgYW5kIHNldFRpbWVvdXQgb25seSBhY2NlcHQgc2lnbmVkIDMyIGJpdCBpbnRlZ2Vycy4gSlMgZG9lc24ndFxuICogaGF2ZSBhIGNvbnN0YW50IGZvciB0aGUgbWF4IHNpZ25lZCAzMiBiaXQgaW50ZWdlciwgc28gdGhpcyBpcyBhIHNpbXBsZSB3YXlcbiAqIHRvIGNhbGN1bGF0ZSBpdCAqL1xuY29uc3QgS0VFUEFMSVZFX01BWF9USU1FX01TID0gfigxIDw8IDMxKTtcbmNsYXNzIFN1YmNoYW5uZWwge1xuICAgIC8qKlxuICAgICAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGEgY29ubmVjdGlvbiB0byBhIHNpbmdsZSBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSBjaGFubmVsVGFyZ2V0IFRoZSB0YXJnZXQgc3RyaW5nIGZvciB0aGUgY2hhbm5lbCBhcyBhIHdob2xlXG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxBZGRyZXNzIFRoZSBhZGRyZXNzIGZvciB0aGUgYmFja2VuZCB0aGF0IHRoaXMgc3ViY2hhbm5lbFxuICAgICAqICAgICB3aWxsIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2hhbm5lbCBvcHRpb25zLCBwbHVzIGFueSBzcGVjaWZpYyBzdWJjaGFubmVsIG9wdGlvbnNcbiAgICAgKiAgICAgZm9yIHRoaXMgc3ViY2hhbm5lbFxuICAgICAqIEBwYXJhbSBjcmVkZW50aWFscyBUaGUgY2hhbm5lbCBjcmVkZW50aWFscyB1c2VkIHRvIGVzdGFibGlzaCB0aGlzXG4gICAgICogICAgIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsVGFyZ2V0LCBzdWJjaGFubmVsQWRkcmVzcywgb3B0aW9ucywgY3JlZGVudGlhbHMsIGNvbm5lY3Rvcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3MgPSBzdWJjaGFubmVsQWRkcmVzcztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBjb25uZWN0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3ViY2hhbm5lbCdzIGN1cnJlbnQgY29ubmVjdGl2aXR5IHN0YXRlLiBJbnZhcmlhbnQ6IGBzZXNzaW9uYCA9PT0gYG51bGxgXG4gICAgICAgICAqIGlmIGFuZCBvbmx5IGlmIGBjb25uZWN0aXZpdHlTdGF0ZWAgaXMgSURMRSBvciBUUkFOU0lFTlRfRkFJTFVSRS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuZGVybHlpbmcgaHR0cDIgc2Vzc2lvbiB1c2VkIHRvIG1ha2UgcmVxdWVzdHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgc3ViY2hhbm5lbCBzaG91bGQgdHJhbnNpdGlvbiBmcm9tIFRSQU5TSUVOVF9GQUlMVVJFIHRvXG4gICAgICAgICAqIENPTk5FQ1RJTkcgaW5zdGVhZCBvZiBJRExFIHdoZW4gdGhlIGJhY2tvZmYgdGltZW91dCBlbmRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250aW51ZUNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgY29ubmVjdGl2aXR5XG4gICAgICAgICAqIHN0YXRlIGNoYW5nZXMuIFdpbGwgYmUgbW9kaWZpZWQgYnkgYGFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXJgIGFuZFxuICAgICAgICAgKiBgcmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgY2hhbm5lbHMgYW5kIHN1YmNoYW5uZWwgcG9vbHMgd2l0aCByZWZlcmVuY2VzIHRvIHRoaXMgc3ViY2hhbm5lbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWZjb3VudCA9IDA7XG4gICAgICAgIC8vIENoYW5uZWx6IGluZm9cbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRhdGFQcm9kdWNlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbENoYW5uZWwgPSBudWxsO1xuICAgICAgICBjb25zdCBiYWNrb2ZmT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogb3B0aW9uc1snZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgICAgICBtYXhEZWxheTogb3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dCA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tvZmZUaW1lcigpO1xuICAgICAgICB9LCBiYWNrb2ZmT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShzdWJjaGFubmVsQWRkcmVzcyk7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IChfYSA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTE7XG4gICAgICAgIGlmIChvcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpUcmFjZVN0dWIoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWIoKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVselRyYWNlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbCkodGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZywgKCkgPT4gdGhpcy5nZXRDaGFubmVsekluZm8oKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnU3ViY2hhbm5lbCBjcmVhdGVkJyk7XG4gICAgICAgIHRoaXMudHJhY2UoJ1N1YmNoYW5uZWwgY29uc3RydWN0ZWQgd2l0aCBvcHRpb25zICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgdW5kZWZpbmVkLCAyKSk7XG4gICAgICAgIHRoaXMuc2VjdXJlQ29ubmVjdG9yID0gY3JlZGVudGlhbHMuX2NyZWF0ZVNlY3VyZUNvbm5lY3RvcihjaGFubmVsVGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpJbmZvKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdGU6IHRoaXMuY29ubmVjdGl2aXR5U3RhdGUsXG4gICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpLFxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAgcmVmVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ3N1YmNoYW5uZWxfcmVmY291bnQnLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICBoYW5kbGVCYWNrb2ZmVGltZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRpbnVlQ29ubmVjdGluZykge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkVdLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBiYWNrb2ZmIHRpbWVyIHdpdGggdGhlIGN1cnJlbnQgbmV4dEJhY2tvZmYgdGltZW91dFxuICAgICAqL1xuICAgIHN0YXJ0QmFja29mZigpIHtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5ydW5PbmNlKCk7XG4gICAgfVxuICAgIHN0b3BCYWNrb2ZmKCkge1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnN0b3AoKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgIH1cbiAgICBzdGFydENvbm5lY3RpbmdJbnRlcm5hbCgpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkS2VlcGFsaXZlVGltZSA9IE1hdGgubWluKHRoaXMua2VlcGFsaXZlVGltZSwgS0VFUEFMSVZFX01BWF9USU1FX01TKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7ICdncnBjLmtlZXBhbGl2ZV90aW1lX21zJzogYWRqdXN0ZWRLZWVwYWxpdmVUaW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdG9yXG4gICAgICAgICAgICAuY29ubmVjdCh0aGlzLnN1YmNoYW5uZWxBZGRyZXNzLCB0aGlzLnNlY3VyZUNvbm5lY3Rvciwgb3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHRyYW5zcG9ydCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElOR10sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZCh0cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5hZGREaXNjb25uZWN0TGlzdGVuZXIodG9vTWFueVBpbmdzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFldLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb01hbnlQaW5ncyAmJiB0aGlzLmtlZXBhbGl2ZVRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWUgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgYENvbm5lY3Rpb24gdG8gJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLmNoYW5uZWxUYXJnZXQpfSBhdCAke3RoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmd9IHJlamVjdGVkIGJ5IHNlcnZlciBiZWNhdXNlIG9mIGV4Y2VzcyBwaW5ncy4gSW5jcmVhc2luZyBwaW5nIGludGVydmFsIHRvICR7dGhpcy5rZWVwYWxpdmVUaW1lfSBtc2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBJZiB3ZSBjYW4ndCB0cmFuc2l0aW9uIGZyb20gQ09OTkVDVElORyB0byBSRUFEWSBoZXJlLCB3ZSB3aWxsXG4gICAgICAgICAgICAgICAgICogbm90IGJlIHVzaW5nIHRoaXMgdHJhbnNwb3J0LCBzbyByZWxlYXNlIGl0cyByZXNvdXJjZXMuICovXG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNodXRkb3duKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkddLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgYCR7ZXJyb3J9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWF0ZSBhIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBhbnkgZWxlbWVudCBvZiBvbGRTdGF0ZXMgdG8gdGhlIG5ld1xuICAgICAqIHN0YXRlLiBJZiB0aGUgY3VycmVudCBjb25uZWN0aXZpdHlTdGF0ZSBpcyBub3QgaW4gb2xkU3RhdGVzLCBkbyBub3RoaW5nLlxuICAgICAqIEBwYXJhbSBvbGRTdGF0ZXMgVGhlIHNldCBvZiBzdGF0ZXMgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIHRvXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc3RhdGUgY2hhbmdlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgdHJhbnNpdGlvblRvU3RhdGUob2xkU3RhdGVzLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChvbGRTdGF0ZXMuaW5kZXhPZih0aGlzLmNvbm5lY3Rpdml0eVN0YXRlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY29ubmVjdGl2aXR5U3RhdGVdICtcbiAgICAgICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSArXG4gICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yIFwiJyArIGVycm9yTWVzc2FnZSArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFjZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmNvbm5lY3Rpdml0eVN0YXRlXSArXG4gICAgICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2UgdG8gJyArIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWTpcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BCYWNrb2ZmKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJhY2tvZmYoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q29ubmVjdGluZ0ludGVybmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZUNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkICYmIHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQodGhpcy50cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2h1dGRvd24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIGJhY2tvZmYgdGltZXIgaGFzIGFscmVhZHkgZW5kZWQgYnkgdGhlIHRpbWUgd2UgZ2V0IHRvIHRoZVxuICAgICAgICAgICAgICAgICAqIFRSQU5TSUVOVF9GQUlMVVJFIHN0YXRlLCB3ZSB3YW50IHRvIGltbWVkaWF0ZWx5IHRyYW5zaXRpb24gb3V0IG9mXG4gICAgICAgICAgICAgICAgICogVFJBTlNJRU5UX0ZBSUxVUkUgYXMgdGhvdWdoIHRoZSBiYWNrb2ZmIHRpbWVyIGlzIGVuZGluZyByaWdodCBub3cgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYmFja29mZlRpbWVvdXQuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tvZmZUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkICYmIHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQodGhpcy50cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYiA9IHRoaXMudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2h1dGRvd24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdGF0ZTogdW5rbm93biBDb25uZWN0aXZpdHlTdGF0ZSAke25ld1N0YXRlfWApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5zdGF0ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcywgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIHRoaXMua2VlcGFsaXZlVGltZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB0aGlzLnJlZlRyYWNlKCdyZWZjb3VudCAnICsgdGhpcy5yZWZjb3VudCArICcgLT4gJyArICh0aGlzLnJlZmNvdW50ICsgMSkpO1xuICAgICAgICB0aGlzLnJlZmNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLnJlZlRyYWNlKCdyZWZjb3VudCAnICsgdGhpcy5yZWZjb3VudCArICcgLT4gJyArICh0aGlzLnJlZmNvdW50IC0gMSkpO1xuICAgICAgICB0aGlzLnJlZmNvdW50IC09IDE7XG4gICAgICAgIGlmICh0aGlzLnJlZmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnU2h1dHRpbmcgZG93bicpO1xuICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgIHRoaXMuc2VjdXJlQ29ubmVjdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcsIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnJlZklmT25lUmVmKCkge1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy51bnJlZigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjcmVhdGVDYWxsKG1ldGFkYXRhLCBob3N0LCBtZXRob2QsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBjYWxsLCBzdWJjaGFubmVsIG5vdCBSRUFEWScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGF0c1RyYWNrZXI7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICBzdGF0c1RyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgb25DYWxsRW5kOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHNUcmFja2VyID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmNyZWF0ZUNhbGwobWV0YWRhdGEsIGhvc3QsIG1ldGhvZCwgbGlzdGVuZXIsIHN0YXRzVHJhY2tlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBzdWJjaGFubmVsIGlzIGN1cnJlbnRseSBJRExFLCBzdGFydCBjb25uZWN0aW5nIGFuZCBzd2l0Y2ggdG8gdGhlXG4gICAgICogQ09OTkVDVElORyBzdGF0ZS4gSWYgdGhlIHN1YmNoYW5uZWwgaXMgY3VycmVudCBpbiBUUkFOU0lFTlRfRkFJTFVSRSxcbiAgICAgKiB0aGUgbmV4dCB0aW1lIGl0IHdvdWxkIHRyYW5zaXRpb24gdG8gSURMRSwgc3RhcnQgY29ubmVjdGluZyBhZ2FpbiBpbnN0ZWFkLlxuICAgICAqIE90aGVyd2lzZSwgZG8gbm90aGluZy5cbiAgICAgKi9cbiAgICBzdGFydENvbm5lY3RpbmcoKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgLyogRmlyc3QsIHRyeSB0byB0cmFuc2l0aW9uIGZyb20gSURMRSB0byBjb25uZWN0aW5nLiBJZiB0aGF0IGRvZXNuJ3QgaGFwcGVuXG4gICAgICAgICAgICAgKiBiZWNhdXNlIHRoZSBzdGF0ZSBpcyBub3QgY3VycmVudGx5IElETEUsIGNoZWNrIGlmIGl0IGlzXG4gICAgICAgICAgICAgKiBUUkFOU0lFTlRfRkFJTFVSRSwgYW5kIGlmIHNvIGluZGljYXRlIHRoYXQgaXQgc2hvdWxkIGdvIGJhY2sgdG9cbiAgICAgICAgICAgICAqIGNvbm5lY3RpbmcgYWZ0ZXIgdGhlIGJhY2tvZmYgdGltZXIgZW5kcy4gT3RoZXJ3aXNlIGRvIG5vdGhpbmcgKi9cbiAgICAgICAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVDb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN1YmNoYW5uZWwncyBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZS5cbiAgICAgKi9cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgc3ViY2hhbm5lbCdzXG4gICAgICogY29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZXMuXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGxpc3RlbmVyIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgQSByZWZlcmVuY2UgdG8gYSBmdW5jdGlvbiBwcmV2aW91c2x5IHBhc3NlZCB0b1xuICAgICAqICAgICBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgKi9cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhdGVMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGJhY2tvZmYgdGltZW91dCwgYW5kIGltbWVkaWF0ZWx5IHN0YXJ0IGNvbm5lY3RpbmcgaWYgaW4gYmFja29mZi5cbiAgICAgKi9cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkVdLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nO1xuICAgIH1cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGlzSGVhbHRoeSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFkZEhlYWx0aFN0YXRlV2F0Y2hlcihsaXN0ZW5lcikge1xuICAgICAgICAvLyBEbyBub3RoaW5nIHdpdGggdGhlIGxpc3RlbmVyXG4gICAgfVxuICAgIHJlbW92ZUhlYWx0aFN0YXRlV2F0Y2hlcihsaXN0ZW5lcikge1xuICAgICAgICAvLyBEbyBub3RoaW5nIHdpdGggdGhlIGxpc3RlbmVyXG4gICAgfVxuICAgIGdldFJlYWxTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVhbFN1YmNoYW5uZWxFcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyLmdldFJlYWxTdWJjaGFubmVsKCkgPT09IHRoaXM7XG4gICAgfVxuICAgIHRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgaWYgKG5ld0tlZXBhbGl2ZVRpbWUgPiB0aGlzLmtlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IG5ld0tlZXBhbGl2ZVRpbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2FsbENyZWRlbnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWN1cmVDb25uZWN0b3IuZ2V0Q2FsbENyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIGdldENoYW5uZWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdWJjaGFubmVsQ2hhbm5lbCkge1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQ2hhbm5lbCA9IG5ldyBzaW5nbGVfc3ViY2hhbm5lbF9jaGFubmVsXzEuU2luZ2xlU3ViY2hhbm5lbENoYW5uZWwodGhpcywgdGhpcy5jaGFubmVsVGFyZ2V0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmNoYW5uZWxDaGFubmVsO1xuICAgIH1cbiAgICBhZGREYXRhV2F0Y2hlcihkYXRhV2F0Y2hlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBnZXRPckNyZWF0ZURhdGFQcm9kdWNlcihuYW1lLCBjcmVhdGVEYXRhUHJvZHVjZXIpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQcm9kdWNlciA9IHRoaXMuZGF0YVByb2R1Y2Vycy5nZXQobmFtZSk7XG4gICAgICAgIGlmIChleGlzdGluZ1Byb2R1Y2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm9kdWNlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdQcm9kdWNlciA9IGNyZWF0ZURhdGFQcm9kdWNlcih0aGlzKTtcbiAgICAgICAgdGhpcy5kYXRhUHJvZHVjZXJzLnNldChuYW1lLCBuZXdQcm9kdWNlcik7XG4gICAgICAgIHJldHVybiBuZXdQcm9kdWNlcjtcbiAgICB9XG4gICAgcmVtb3ZlRGF0YVByb2R1Y2VyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5kYXRhUHJvZHVjZXJzLmRlbGV0ZShuYW1lKTtcbiAgICB9XG59XG5leHBvcnRzLlN1YmNoYW5uZWwgPSBTdWJjaGFubmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViY2hhbm5lbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CIPHER_SUITES = void 0;\nexports.getDefaultRootsData = getDefaultRootsData;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nexports.CIPHER_SUITES = process.env.GRPC_SSL_CIPHER_SUITES;\nconst DEFAULT_ROOTS_FILE_PATH = process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;\nlet defaultRootsData = null;\nfunction getDefaultRootsData() {\n    if (DEFAULT_ROOTS_FILE_PATH) {\n        if (defaultRootsData === null) {\n            defaultRootsData = fs.readFileSync(DEFAULT_ROOTS_FILE_PATH);\n        }\n        return defaultRootsData;\n    }\n    return null;\n}\n//# sourceMappingURL=tls-helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdGxzLWhlbHBlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUI7QUFDckIsMkJBQTJCO0FBQzNCLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdGxzLWhlbHBlcnMuanM/ZTc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DSVBIRVJfU1VJVEVTID0gdm9pZCAwO1xuZXhwb3J0cy5nZXREZWZhdWx0Um9vdHNEYXRhID0gZ2V0RGVmYXVsdFJvb3RzRGF0YTtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuZXhwb3J0cy5DSVBIRVJfU1VJVEVTID0gcHJvY2Vzcy5lbnYuR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUztcbmNvbnN0IERFRkFVTFRfUk9PVFNfRklMRV9QQVRIID0gcHJvY2Vzcy5lbnYuR1JQQ19ERUZBVUxUX1NTTF9ST09UU19GSUxFX1BBVEg7XG5sZXQgZGVmYXVsdFJvb3RzRGF0YSA9IG51bGw7XG5mdW5jdGlvbiBnZXREZWZhdWx0Um9vdHNEYXRhKCkge1xuICAgIGlmIChERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCkge1xuICAgICAgICBpZiAoZGVmYXVsdFJvb3RzRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVmYXVsdFJvb3RzRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRSb290c0RhdGE7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGxzLWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/tls-helpers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/*\n * Copyright 2023 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Http2SubchannelConnector = void 0;\nconst http2 = __webpack_require__(/*! http2 */ \"http2\");\nconst tls_1 = __webpack_require__(/*! tls */ \"tls\");\nconst channelz_1 = __webpack_require__(/*! ./channelz */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/channelz.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/constants.js\");\nconst http_proxy_1 = __webpack_require__(/*! ./http_proxy */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/http_proxy.js\");\nconst logging = __webpack_require__(/*! ./logging */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/logging.js\");\nconst resolver_1 = __webpack_require__(/*! ./resolver */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolver.js\");\nconst subchannel_address_1 = __webpack_require__(/*! ./subchannel-address */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-address.js\");\nconst uri_parser_1 = __webpack_require__(/*! ./uri-parser */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst subchannel_call_1 = __webpack_require__(/*! ./subchannel-call */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/subchannel-call.js\");\nconst call_number_1 = __webpack_require__(/*! ./call-number */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call-number.js\");\nconst TRACER_NAME = 'transport';\nconst FLOW_CONTROL_TRACER_NAME = 'transport_flowctrl';\nconst clientVersion = (__webpack_require__(/*! ../../package.json */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json\").version);\nconst { HTTP2_HEADER_AUTHORITY, HTTP2_HEADER_CONTENT_TYPE, HTTP2_HEADER_METHOD, HTTP2_HEADER_PATH, HTTP2_HEADER_TE, HTTP2_HEADER_USER_AGENT, } = http2.constants;\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst tooManyPingsData = Buffer.from('too_many_pings', 'ascii');\nclass Http2Transport {\n    constructor(session, subchannelAddress, options, \n    /**\n     * Name of the remote server, if it is not the same as the subchannel\n     * address, i.e. if connecting through an HTTP CONNECT proxy.\n     */\n    remoteName) {\n        this.session = session;\n        this.options = options;\n        this.remoteName = remoteName;\n        /**\n         * Timer reference indicating when to send the next ping or when the most recent ping will be considered lost.\n         */\n        this.keepaliveTimer = null;\n        /**\n         * Indicates that the keepalive timer ran out while there were no active\n         * calls, and a ping should be sent the next time a call starts.\n         */\n        this.pendingSendKeepalivePing = false;\n        this.activeCalls = new Set();\n        this.disconnectListeners = [];\n        this.disconnectHandled = false;\n        this.channelzEnabled = true;\n        this.keepalivesSent = 0;\n        this.messagesSent = 0;\n        this.messagesReceived = 0;\n        this.lastMessageSentTimestamp = null;\n        this.lastMessageReceivedTimestamp = null;\n        /* Populate subchannelAddressString and channelzRef before doing anything\n         * else, because they are used in the trace methods. */\n        this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n        if (options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n            this.streamTracker = new channelz_1.ChannelzCallTrackerStub();\n        }\n        else {\n            this.streamTracker = new channelz_1.ChannelzCallTracker();\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzSocket)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n        // Build user-agent string.\n        this.userAgent = [\n            options['grpc.primary_user_agent'],\n            `grpc-node-js/${clientVersion}`,\n            options['grpc.secondary_user_agent'],\n        ]\n            .filter(e => e)\n            .join(' '); // remove falsey values first\n        if ('grpc.keepalive_time_ms' in options) {\n            this.keepaliveTimeMs = options['grpc.keepalive_time_ms'];\n        }\n        else {\n            this.keepaliveTimeMs = -1;\n        }\n        if ('grpc.keepalive_timeout_ms' in options) {\n            this.keepaliveTimeoutMs = options['grpc.keepalive_timeout_ms'];\n        }\n        else {\n            this.keepaliveTimeoutMs = KEEPALIVE_TIMEOUT_MS;\n        }\n        if ('grpc.keepalive_permit_without_calls' in options) {\n            this.keepaliveWithoutCalls =\n                options['grpc.keepalive_permit_without_calls'] === 1;\n        }\n        else {\n            this.keepaliveWithoutCalls = false;\n        }\n        session.once('close', () => {\n            this.trace('session closed');\n            this.handleDisconnect();\n        });\n        session.once('goaway', (errorCode, lastStreamID, opaqueData) => {\n            let tooManyPings = false;\n            /* See the last paragraph of\n             * https://github.com/grpc/proposal/blob/master/A8-client-side-keepalive.md#basic-keepalive */\n            if (errorCode === http2.constants.NGHTTP2_ENHANCE_YOUR_CALM &&\n                opaqueData &&\n                opaqueData.equals(tooManyPingsData)) {\n                tooManyPings = true;\n            }\n            this.trace('connection closed by GOAWAY with code ' +\n                errorCode +\n                ' and data ' +\n                (opaqueData === null || opaqueData === void 0 ? void 0 : opaqueData.toString()));\n            this.reportDisconnectToOwner(tooManyPings);\n        });\n        session.once('error', error => {\n            this.trace('connection closed with error ' + error.message);\n            this.handleDisconnect();\n        });\n        session.socket.once('close', (hadError) => {\n            this.trace('connection closed. hadError=' + hadError);\n            this.handleDisconnect();\n        });\n        if (logging.isTracerEnabled(TRACER_NAME)) {\n            session.on('remoteSettings', (settings) => {\n                this.trace('new settings received' +\n                    (this.session !== session ? ' on the old connection' : '') +\n                    ': ' +\n                    JSON.stringify(settings));\n            });\n            session.on('localSettings', (settings) => {\n                this.trace('local settings acknowledged by remote' +\n                    (this.session !== session ? ' on the old connection' : '') +\n                    ': ' +\n                    JSON.stringify(settings));\n            });\n        }\n        /* Start the keepalive timer last, because this can trigger trace logs,\n         * which should only happen after everything else is set up. */\n        if (this.keepaliveWithoutCalls) {\n            this.maybeStartKeepalivePingTimer();\n        }\n        if (session.socket instanceof tls_1.TLSSocket) {\n            this.authContext = {\n                transportSecurityType: 'ssl',\n                sslPeerCertificate: session.socket.getPeerCertificate()\n            };\n        }\n        else {\n            this.authContext = {};\n        }\n    }\n    getChannelzInfo() {\n        var _a, _b, _c;\n        const sessionSocket = this.session.socket;\n        const remoteAddress = sessionSocket.remoteAddress\n            ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort)\n            : null;\n        const localAddress = sessionSocket.localAddress\n            ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort)\n            : null;\n        let tlsInfo;\n        if (this.session.encrypted) {\n            const tlsSocket = sessionSocket;\n            const cipherInfo = tlsSocket.getCipher();\n            const certificate = tlsSocket.getCertificate();\n            const peerCertificate = tlsSocket.getPeerCertificate();\n            tlsInfo = {\n                cipherSuiteStandardName: (_a = cipherInfo.standardName) !== null && _a !== void 0 ? _a : null,\n                cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                localCertificate: certificate && 'raw' in certificate ? certificate.raw : null,\n                remoteCertificate: peerCertificate && 'raw' in peerCertificate\n                    ? peerCertificate.raw\n                    : null,\n            };\n        }\n        else {\n            tlsInfo = null;\n        }\n        const socketInfo = {\n            remoteAddress: remoteAddress,\n            localAddress: localAddress,\n            security: tlsInfo,\n            remoteName: this.remoteName,\n            streamsStarted: this.streamTracker.callsStarted,\n            streamsSucceeded: this.streamTracker.callsSucceeded,\n            streamsFailed: this.streamTracker.callsFailed,\n            messagesSent: this.messagesSent,\n            messagesReceived: this.messagesReceived,\n            keepAlivesSent: this.keepalivesSent,\n            lastLocalStreamCreatedTimestamp: this.streamTracker.lastCallStartedTimestamp,\n            lastRemoteStreamCreatedTimestamp: null,\n            lastMessageSentTimestamp: this.lastMessageSentTimestamp,\n            lastMessageReceivedTimestamp: this.lastMessageReceivedTimestamp,\n            localFlowControlWindow: (_b = this.session.state.localWindowSize) !== null && _b !== void 0 ? _b : null,\n            remoteFlowControlWindow: (_c = this.session.state.remoteWindowSize) !== null && _c !== void 0 ? _c : null,\n        };\n        return socketInfo;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    keepaliveTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'keepalive', '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    flowControlTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, FLOW_CONTROL_TRACER_NAME, '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    internalsTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'transport_internals', '(' +\n            this.channelzRef.id +\n            ') ' +\n            this.subchannelAddressString +\n            ' ' +\n            text);\n    }\n    /**\n     * Indicate to the owner of this object that this transport should no longer\n     * be used. That happens if the connection drops, or if the server sends a\n     * GOAWAY.\n     * @param tooManyPings If true, this was triggered by a GOAWAY with data\n     * indicating that the session was closed becaues the client sent too many\n     * pings.\n     * @returns\n     */\n    reportDisconnectToOwner(tooManyPings) {\n        if (this.disconnectHandled) {\n            return;\n        }\n        this.disconnectHandled = true;\n        this.disconnectListeners.forEach(listener => listener(tooManyPings));\n    }\n    /**\n     * Handle connection drops, but not GOAWAYs.\n     */\n    handleDisconnect() {\n        this.clearKeepaliveTimeout();\n        this.reportDisconnectToOwner(false);\n        for (const call of this.activeCalls) {\n            call.onDisconnect();\n        }\n        // Wait an event loop cycle before destroying the connection\n        setImmediate(() => {\n            this.session.destroy();\n        });\n    }\n    addDisconnectListener(listener) {\n        this.disconnectListeners.push(listener);\n    }\n    canSendPing() {\n        return (!this.session.destroyed &&\n            this.keepaliveTimeMs > 0 &&\n            (this.keepaliveWithoutCalls || this.activeCalls.size > 0));\n    }\n    maybeSendPing() {\n        var _a, _b;\n        if (!this.canSendPing()) {\n            this.pendingSendKeepalivePing = true;\n            return;\n        }\n        if (this.keepaliveTimer) {\n            console.error('keepaliveTimeout is not null');\n            return;\n        }\n        if (this.channelzEnabled) {\n            this.keepalivesSent += 1;\n        }\n        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n        this.keepaliveTimer = setTimeout(() => {\n            this.keepaliveTimer = null;\n            this.keepaliveTrace('Ping timeout passed without response');\n            this.handleDisconnect();\n        }, this.keepaliveTimeoutMs);\n        (_b = (_a = this.keepaliveTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        let pingSendError = '';\n        try {\n            const pingSentSuccessfully = this.session.ping((err, duration, payload) => {\n                this.clearKeepaliveTimeout();\n                if (err) {\n                    this.keepaliveTrace('Ping failed with error ' + err.message);\n                    this.handleDisconnect();\n                }\n                else {\n                    this.keepaliveTrace('Received ping response');\n                    this.maybeStartKeepalivePingTimer();\n                }\n            });\n            if (!pingSentSuccessfully) {\n                pingSendError = 'Ping returned false';\n            }\n        }\n        catch (e) {\n            // grpc/grpc-node#2139\n            pingSendError = (e instanceof Error ? e.message : '') || 'Unknown error';\n        }\n        if (pingSendError) {\n            this.keepaliveTrace('Ping send failed: ' + pingSendError);\n            this.handleDisconnect();\n        }\n    }\n    /**\n     * Starts the keepalive ping timer if appropriate. If the timer already ran\n     * out while there were no active requests, instead send a ping immediately.\n     * If the ping timer is already running or a ping is currently in flight,\n     * instead do nothing and wait for them to resolve.\n     */\n    maybeStartKeepalivePingTimer() {\n        var _a, _b;\n        if (!this.canSendPing()) {\n            return;\n        }\n        if (this.pendingSendKeepalivePing) {\n            this.pendingSendKeepalivePing = false;\n            this.maybeSendPing();\n        }\n        else if (!this.keepaliveTimer) {\n            this.keepaliveTrace('Starting keepalive timer for ' + this.keepaliveTimeMs + 'ms');\n            this.keepaliveTimer = setTimeout(() => {\n                this.keepaliveTimer = null;\n                this.maybeSendPing();\n            }, this.keepaliveTimeMs);\n            (_b = (_a = this.keepaliveTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n        /* Otherwise, there is already either a keepalive timer or a ping pending,\n         * wait for those to resolve. */\n    }\n    /**\n     * Clears whichever keepalive timeout is currently active, if any.\n     */\n    clearKeepaliveTimeout() {\n        if (this.keepaliveTimer) {\n            clearTimeout(this.keepaliveTimer);\n            this.keepaliveTimer = null;\n        }\n    }\n    removeActiveCall(call) {\n        this.activeCalls.delete(call);\n        if (this.activeCalls.size === 0) {\n            this.session.unref();\n        }\n    }\n    addActiveCall(call) {\n        this.activeCalls.add(call);\n        if (this.activeCalls.size === 1) {\n            this.session.ref();\n            if (!this.keepaliveWithoutCalls) {\n                this.maybeStartKeepalivePingTimer();\n            }\n        }\n    }\n    createCall(metadata, host, method, listener, subchannelCallStatsTracker) {\n        const headers = metadata.toHttp2Headers();\n        headers[HTTP2_HEADER_AUTHORITY] = host;\n        headers[HTTP2_HEADER_USER_AGENT] = this.userAgent;\n        headers[HTTP2_HEADER_CONTENT_TYPE] = 'application/grpc';\n        headers[HTTP2_HEADER_METHOD] = 'POST';\n        headers[HTTP2_HEADER_PATH] = method;\n        headers[HTTP2_HEADER_TE] = 'trailers';\n        let http2Stream;\n        /* In theory, if an error is thrown by session.request because session has\n         * become unusable (e.g. because it has received a goaway), this subchannel\n         * should soon see the corresponding close or goaway event anyway and leave\n         * READY. But we have seen reports that this does not happen\n         * (https://github.com/googleapis/nodejs-firestore/issues/1023#issuecomment-653204096)\n         * so for defense in depth, we just discard the session when we see an\n         * error here.\n         */\n        try {\n            http2Stream = this.session.request(headers);\n        }\n        catch (e) {\n            this.handleDisconnect();\n            throw e;\n        }\n        this.flowControlTrace('local window size: ' +\n            this.session.state.localWindowSize +\n            ' remote window size: ' +\n            this.session.state.remoteWindowSize);\n        this.internalsTrace('session.closed=' +\n            this.session.closed +\n            ' session.destroyed=' +\n            this.session.destroyed +\n            ' session.socket.destroyed=' +\n            this.session.socket.destroyed);\n        let eventTracker;\n        // eslint-disable-next-line prefer-const\n        let call;\n        if (this.channelzEnabled) {\n            this.streamTracker.addCallStarted();\n            eventTracker = {\n                addMessageSent: () => {\n                    var _a;\n                    this.messagesSent += 1;\n                    this.lastMessageSentTimestamp = new Date();\n                    (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                addMessageReceived: () => {\n                    var _a;\n                    this.messagesReceived += 1;\n                    this.lastMessageReceivedTimestamp = new Date();\n                    (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                onCallEnd: status => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n                    this.removeActiveCall(call);\n                },\n                onStreamEnd: success => {\n                    var _a;\n                    if (success) {\n                        this.streamTracker.addCallSucceeded();\n                    }\n                    else {\n                        this.streamTracker.addCallFailed();\n                    }\n                    (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n                },\n            };\n        }\n        else {\n            eventTracker = {\n                addMessageSent: () => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                addMessageReceived: () => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                onCallEnd: status => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n                    this.removeActiveCall(call);\n                },\n                onStreamEnd: success => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n                },\n            };\n        }\n        call = new subchannel_call_1.Http2SubchannelCall(http2Stream, eventTracker, listener, this, (0, call_number_1.getNextCallNumber)());\n        this.addActiveCall(call);\n        return call;\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    getPeerName() {\n        return this.subchannelAddressString;\n    }\n    getOptions() {\n        return this.options;\n    }\n    getAuthContext() {\n        return this.authContext;\n    }\n    shutdown() {\n        this.session.close();\n        (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n    }\n}\nclass Http2SubchannelConnector {\n    constructor(channelTarget) {\n        this.channelTarget = channelTarget;\n        this.session = null;\n        this.isShutdown = false;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, (0, uri_parser_1.uriToString)(this.channelTarget) + ' ' + text);\n    }\n    createSession(secureConnectResult, address, options) {\n        if (this.isShutdown) {\n            return Promise.reject();\n        }\n        if (secureConnectResult.socket.closed) {\n            return Promise.reject('Connection closed before starting HTTP/2 handshake');\n        }\n        return new Promise((resolve, reject) => {\n            var _a, _b, _c, _d, _e, _f, _g;\n            let remoteName = null;\n            let realTarget = this.channelTarget;\n            if ('grpc.http_connect_target' in options) {\n                const parsedTarget = (0, uri_parser_1.parseUri)(options['grpc.http_connect_target']);\n                if (parsedTarget) {\n                    realTarget = parsedTarget;\n                    remoteName = (0, uri_parser_1.uriToString)(parsedTarget);\n                }\n            }\n            const scheme = secureConnectResult.secure ? 'https' : 'http';\n            const targetPath = (0, resolver_1.getDefaultAuthority)(realTarget);\n            const closeHandler = () => {\n                var _a;\n                (_a = this.session) === null || _a === void 0 ? void 0 : _a.destroy();\n                this.session = null;\n                // Leave time for error event to happen before rejecting\n                setImmediate(() => {\n                    if (!reportedError) {\n                        reportedError = true;\n                        reject(`${errorMessage.trim()} (${new Date().toISOString()})`);\n                    }\n                });\n            };\n            const errorHandler = (error) => {\n                var _a;\n                (_a = this.session) === null || _a === void 0 ? void 0 : _a.destroy();\n                errorMessage = error.message;\n                this.trace('connection failed with error ' + errorMessage);\n                if (!reportedError) {\n                    reportedError = true;\n                    reject(`${errorMessage} (${new Date().toISOString()})`);\n                }\n            };\n            const sessionOptions = {\n                createConnection: (authority, option) => {\n                    return secureConnectResult.socket;\n                },\n                settings: {\n                    initialWindowSize: (_d = (_a = options['grpc-node.flow_control_window']) !== null && _a !== void 0 ? _a : (_c = (_b = http2.getDefaultSettings) === null || _b === void 0 ? void 0 : _b.call(http2)) === null || _c === void 0 ? void 0 : _c.initialWindowSize) !== null && _d !== void 0 ? _d : 65535,\n                }\n            };\n            const session = http2.connect(`${scheme}://${targetPath}`, sessionOptions);\n            // Prepare window size configuration for remoteSettings handler\n            const defaultWin = (_g = (_f = (_e = http2.getDefaultSettings) === null || _e === void 0 ? void 0 : _e.call(http2)) === null || _f === void 0 ? void 0 : _f.initialWindowSize) !== null && _g !== void 0 ? _g : 65535; // 65 535 B\n            const connWin = options['grpc-node.flow_control_window'];\n            this.session = session;\n            let errorMessage = 'Failed to connect';\n            let reportedError = false;\n            session.unref();\n            session.once('remoteSettings', () => {\n                var _a;\n                // Send WINDOW_UPDATE now to avoid 65 KB start-window stall.\n                if (connWin && connWin > defaultWin) {\n                    try {\n                        // Node  14.18\n                        session.setLocalWindowSize(connWin);\n                    }\n                    catch (_b) {\n                        // Older Node: bump by the delta\n                        const delta = connWin - ((_a = session.state.localWindowSize) !== null && _a !== void 0 ? _a : defaultWin);\n                        if (delta > 0)\n                            session.incrementWindowSize(delta);\n                    }\n                }\n                session.removeAllListeners();\n                secureConnectResult.socket.removeListener('close', closeHandler);\n                secureConnectResult.socket.removeListener('error', errorHandler);\n                resolve(new Http2Transport(session, address, options, remoteName));\n                this.session = null;\n            });\n            session.once('close', closeHandler);\n            session.once('error', errorHandler);\n            secureConnectResult.socket.once('close', closeHandler);\n            secureConnectResult.socket.once('error', errorHandler);\n        });\n    }\n    tcpConnect(address, options) {\n        return (0, http_proxy_1.getProxiedConnection)(address, options).then(proxiedSocket => {\n            if (proxiedSocket) {\n                return proxiedSocket;\n            }\n            else {\n                return new Promise((resolve, reject) => {\n                    const closeCallback = () => {\n                        reject(new Error('Socket closed'));\n                    };\n                    const errorCallback = (error) => {\n                        reject(error);\n                    };\n                    const socket = net.connect(address, () => {\n                        socket.removeListener('close', closeCallback);\n                        socket.removeListener('error', errorCallback);\n                        resolve(socket);\n                    });\n                    socket.once('close', closeCallback);\n                    socket.once('error', errorCallback);\n                });\n            }\n        });\n    }\n    async connect(address, secureConnector, options) {\n        if (this.isShutdown) {\n            return Promise.reject();\n        }\n        let tcpConnection = null;\n        let secureConnectResult = null;\n        const addressString = (0, subchannel_address_1.subchannelAddressToString)(address);\n        try {\n            this.trace(addressString + ' Waiting for secureConnector to be ready');\n            await secureConnector.waitForReady();\n            this.trace(addressString + ' secureConnector is ready');\n            tcpConnection = await this.tcpConnect(address, options);\n            tcpConnection.setNoDelay();\n            this.trace(addressString + ' Established TCP connection');\n            secureConnectResult = await secureConnector.connect(tcpConnection);\n            this.trace(addressString + ' Established secure connection');\n            return this.createSession(secureConnectResult, address, options);\n        }\n        catch (e) {\n            tcpConnection === null || tcpConnection === void 0 ? void 0 : tcpConnection.destroy();\n            secureConnectResult === null || secureConnectResult === void 0 ? void 0 : secureConnectResult.socket.destroy();\n            throw e;\n        }\n    }\n    shutdown() {\n        var _a;\n        this.isShutdown = true;\n        (_a = this.session) === null || _a === void 0 ? void 0 : _a.close();\n        this.session = null;\n    }\n}\nexports.Http2SubchannelConnector = Http2SubchannelConnector;\n//# sourceMappingURL=transport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdHJhbnNwb3J0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDO0FBQ2hDLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixjQUFjLG1CQUFPLENBQUMsZ0JBQUs7QUFDM0IsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsc0dBQWE7QUFDekMscUJBQXFCLG1CQUFPLENBQUMsd0dBQWM7QUFDM0MsZ0JBQWdCLG1CQUFPLENBQUMsa0dBQVc7QUFDbkMsbUJBQW1CLG1CQUFPLENBQUMsb0dBQVk7QUFDdkMsNkJBQTZCLG1CQUFPLENBQUMsd0hBQXNCO0FBQzNELHFCQUFxQixtQkFBTyxDQUFDLHdHQUFjO0FBQzNDLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QiwwQkFBMEIsbUJBQU8sQ0FBQyxrSEFBbUI7QUFDckQsc0JBQXNCLG1CQUFPLENBQUMsMEdBQWU7QUFDN0M7QUFDQTtBQUNBLHNCQUFzQixrSUFBcUM7QUFDM0QsUUFBUSx1SUFBdUk7QUFDL0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxQkFBcUIsR0FBRyx5QkFBeUI7QUFDbkY7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixjQUFjLEdBQUcseUJBQXlCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTyxLQUFLLFdBQVc7QUFDcEU7QUFDQSxtT0FBbU87QUFDbk87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90cmFuc3BvcnQuanM/ZDI4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMyBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDb25uZWN0b3IgPSB2b2lkIDA7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IHRsc18xID0gcmVxdWlyZShcInRsc1wiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgaHR0cF9wcm94eV8xID0gcmVxdWlyZShcIi4vaHR0cF9wcm94eVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbmV0ID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfY2FsbF8xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1jYWxsXCIpO1xuY29uc3QgY2FsbF9udW1iZXJfMSA9IHJlcXVpcmUoXCIuL2NhbGwtbnVtYmVyXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAndHJhbnNwb3J0JztcbmNvbnN0IEZMT1dfQ09OVFJPTF9UUkFDRVJfTkFNRSA9ICd0cmFuc3BvcnRfZmxvd2N0cmwnO1xuY29uc3QgY2xpZW50VmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jb25zdCB7IEhUVFAyX0hFQURFUl9BVVRIT1JJVFksIEhUVFAyX0hFQURFUl9DT05URU5UX1RZUEUsIEhUVFAyX0hFQURFUl9NRVRIT0QsIEhUVFAyX0hFQURFUl9QQVRILCBIVFRQMl9IRUFERVJfVEUsIEhUVFAyX0hFQURFUl9VU0VSX0FHRU5ULCB9ID0gaHR0cDIuY29uc3RhbnRzO1xuY29uc3QgS0VFUEFMSVZFX1RJTUVPVVRfTVMgPSAyMDAwMDtcbmNvbnN0IHRvb01hbnlQaW5nc0RhdGEgPSBCdWZmZXIuZnJvbSgndG9vX21hbnlfcGluZ3MnLCAnYXNjaWknKTtcbmNsYXNzIEh0dHAyVHJhbnNwb3J0IHtcbiAgICBjb25zdHJ1Y3RvcihzZXNzaW9uLCBzdWJjaGFubmVsQWRkcmVzcywgb3B0aW9ucywgXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgcmVtb3RlIHNlcnZlciwgaWYgaXQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBzdWJjaGFubmVsXG4gICAgICogYWRkcmVzcywgaS5lLiBpZiBjb25uZWN0aW5nIHRocm91Z2ggYW4gSFRUUCBDT05ORUNUIHByb3h5LlxuICAgICAqL1xuICAgIHJlbW90ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5yZW1vdGVOYW1lID0gcmVtb3RlTmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWVyIHJlZmVyZW5jZSBpbmRpY2F0aW5nIHdoZW4gdG8gc2VuZCB0aGUgbmV4dCBwaW5nIG9yIHdoZW4gdGhlIG1vc3QgcmVjZW50IHBpbmcgd2lsbCBiZSBjb25zaWRlcmVkIGxvc3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBrZWVwYWxpdmUgdGltZXIgcmFuIG91dCB3aGlsZSB0aGVyZSB3ZXJlIG5vIGFjdGl2ZVxuICAgICAgICAgKiBjYWxscywgYW5kIGEgcGluZyBzaG91bGQgYmUgc2VudCB0aGUgbmV4dCB0aW1lIGEgY2FsbCBzdGFydHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZUNhbGxzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0SGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlc1NlbnQgPSAwO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzU2VudCA9IDA7XG4gICAgICAgIHRoaXMubWVzc2FnZXNSZWNlaXZlZCA9IDA7XG4gICAgICAgIHRoaXMubGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgLyogUG9wdWxhdGUgc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgYW5kIGNoYW5uZWx6UmVmIGJlZm9yZSBkb2luZyBhbnl0aGluZ1xuICAgICAgICAgKiBlbHNlLCBiZWNhdXNlIHRoZXkgYXJlIHVzZWQgaW4gdGhlIHRyYWNlIG1ldGhvZHMuICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoc3ViY2hhbm5lbEFkZHJlc3MpO1xuICAgICAgICBpZiAob3B0aW9uc1snZ3JwYy5lbmFibGVfY2hhbm5lbHonXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQpKHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcsICgpID0+IHRoaXMuZ2V0Q2hhbm5lbHpJbmZvKCksIHRoaXMuY2hhbm5lbHpFbmFibGVkKTtcbiAgICAgICAgLy8gQnVpbGQgdXNlci1hZ2VudCBzdHJpbmcuXG4gICAgICAgIHRoaXMudXNlckFnZW50ID0gW1xuICAgICAgICAgICAgb3B0aW9uc1snZ3JwYy5wcmltYXJ5X3VzZXJfYWdlbnQnXSxcbiAgICAgICAgICAgIGBncnBjLW5vZGUtanMvJHtjbGllbnRWZXJzaW9ufWAsXG4gICAgICAgICAgICBvcHRpb25zWydncnBjLnNlY29uZGFyeV91c2VyX2FnZW50J10sXG4gICAgICAgIF1cbiAgICAgICAgICAgIC5maWx0ZXIoZSA9PiBlKVxuICAgICAgICAgICAgLmpvaW4oJyAnKTsgLy8gcmVtb3ZlIGZhbHNleSB2YWx1ZXMgZmlyc3RcbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV90aW1lX21zJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVvdXRfbXMnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZW91dE1zID0gS0VFUEFMSVZFX1RJTUVPVVRfTVM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV9wZXJtaXRfd2l0aG91dF9jYWxscycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgPVxuICAgICAgICAgICAgICAgIG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3Blcm1pdF93aXRob3V0X2NhbGxzJ10gPT09IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb24ub25jZSgnY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdzZXNzaW9uIGNsb3NlZCcpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLm9uY2UoJ2dvYXdheScsIChlcnJvckNvZGUsIGxhc3RTdHJlYW1JRCwgb3BhcXVlRGF0YSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvb01hbnlQaW5ncyA9IGZhbHNlO1xuICAgICAgICAgICAgLyogU2VlIHRoZSBsYXN0IHBhcmFncmFwaCBvZlxuICAgICAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvcHJvcG9zYWwvYmxvYi9tYXN0ZXIvQTgtY2xpZW50LXNpZGUta2VlcGFsaXZlLm1kI2Jhc2ljLWtlZXBhbGl2ZSAqL1xuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfRU5IQU5DRV9ZT1VSX0NBTE0gJiZcbiAgICAgICAgICAgICAgICBvcGFxdWVEYXRhICYmXG4gICAgICAgICAgICAgICAgb3BhcXVlRGF0YS5lcXVhbHModG9vTWFueVBpbmdzRGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0b29NYW55UGluZ3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBjbG9zZWQgYnkgR09BV0FZIHdpdGggY29kZSAnICtcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUgK1xuICAgICAgICAgICAgICAgICcgYW5kIGRhdGEgJyArXG4gICAgICAgICAgICAgICAgKG9wYXF1ZURhdGEgPT09IG51bGwgfHwgb3BhcXVlRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3BhcXVlRGF0YS50b1N0cmluZygpKSk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydERpc2Nvbm5lY3RUb093bmVyKHRvb01hbnlQaW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLm9uY2UoJ2Vycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvciAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlc3Npb24uc29ja2V0Lm9uY2UoJ2Nsb3NlJywgKGhhZEVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdjb25uZWN0aW9uIGNsb3NlZC4gaGFkRXJyb3I9JyArIGhhZEVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGxvZ2dpbmcuaXNUcmFjZXJFbmFibGVkKFRSQUNFUl9OQU1FKSkge1xuICAgICAgICAgICAgc2Vzc2lvbi5vbigncmVtb3RlU2V0dGluZ3MnLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCduZXcgc2V0dGluZ3MgcmVjZWl2ZWQnICtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuc2Vzc2lvbiAhPT0gc2Vzc2lvbiA/ICcgb24gdGhlIG9sZCBjb25uZWN0aW9uJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uKCdsb2NhbFNldHRpbmdzJywgKHNldHRpbmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnbG9jYWwgc2V0dGluZ3MgYWNrbm93bGVkZ2VkIGJ5IHJlbW90ZScgK1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5zZXNzaW9uICE9PSBzZXNzaW9uID8gJyBvbiB0aGUgb2xkIGNvbm5lY3Rpb24nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBTdGFydCB0aGUga2VlcGFsaXZlIHRpbWVyIGxhc3QsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlciB0cmFjZSBsb2dzLFxuICAgICAgICAgKiB3aGljaCBzaG91bGQgb25seSBoYXBwZW4gYWZ0ZXIgZXZlcnl0aGluZyBlbHNlIGlzIHNldCB1cC4gKi9cbiAgICAgICAgaWYgKHRoaXMua2VlcGFsaXZlV2l0aG91dENhbGxzKSB7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vzc2lvbi5zb2NrZXQgaW5zdGFuY2VvZiB0bHNfMS5UTFNTb2NrZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aENvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0U2VjdXJpdHlUeXBlOiAnc3NsJyxcbiAgICAgICAgICAgICAgICBzc2xQZWVyQ2VydGlmaWNhdGU6IHNlc3Npb24uc29ja2V0LmdldFBlZXJDZXJ0aWZpY2F0ZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hdXRoQ29udGV4dCA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoYW5uZWx6SW5mbygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IHNlc3Npb25Tb2NrZXQgPSB0aGlzLnNlc3Npb24uc29ja2V0O1xuICAgICAgICBjb25zdCByZW1vdGVBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICA/ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKShzZXNzaW9uU29ja2V0LnJlbW90ZUFkZHJlc3MsIHNlc3Npb25Tb2NrZXQucmVtb3RlUG9ydClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY29uc3QgbG9jYWxBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQubG9jYWxBZGRyZXNzLCBzZXNzaW9uU29ja2V0LmxvY2FsUG9ydClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgbGV0IHRsc0luZm87XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSBzZXNzaW9uU29ja2V0O1xuICAgICAgICAgICAgY29uc3QgY2lwaGVySW5mbyA9IHRsc1NvY2tldC5nZXRDaXBoZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNlcnRpZmljYXRlID0gdGxzU29ja2V0LmdldENlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBwZWVyQ2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICB0bHNJbmZvID0ge1xuICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlU3RhbmRhcmROYW1lOiAoX2EgPSBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCxcbiAgICAgICAgICAgICAgICBjaXBoZXJTdWl0ZU90aGVyTmFtZTogY2lwaGVySW5mby5zdGFuZGFyZE5hbWUgPyBudWxsIDogY2lwaGVySW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIGxvY2FsQ2VydGlmaWNhdGU6IGNlcnRpZmljYXRlICYmICdyYXcnIGluIGNlcnRpZmljYXRlID8gY2VydGlmaWNhdGUucmF3IDogbnVsbCxcbiAgICAgICAgICAgICAgICByZW1vdGVDZXJ0aWZpY2F0ZTogcGVlckNlcnRpZmljYXRlICYmICdyYXcnIGluIHBlZXJDZXJ0aWZpY2F0ZVxuICAgICAgICAgICAgICAgICAgICA/IHBlZXJDZXJ0aWZpY2F0ZS5yYXdcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRsc0luZm8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvY2tldEluZm8gPSB7XG4gICAgICAgICAgICByZW1vdGVBZGRyZXNzOiByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICBzZWN1cml0eTogdGxzSW5mbyxcbiAgICAgICAgICAgIHJlbW90ZU5hbWU6IHRoaXMucmVtb3RlTmFtZSxcbiAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiB0aGlzLnN0cmVhbVRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgc3RyZWFtc1N1Y2NlZWRlZDogdGhpcy5zdHJlYW1UcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogdGhpcy5zdHJlYW1UcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbWVzc2FnZXNTZW50OiB0aGlzLm1lc3NhZ2VzU2VudCxcbiAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IHRoaXMubWVzc2FnZXNSZWNlaXZlZCxcbiAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiB0aGlzLmtlZXBhbGl2ZXNTZW50LFxuICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogdGhpcy5zdHJlYW1UcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IHRoaXMubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IChfYiA9IHRoaXMuc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICByZW1vdGVGbG93Q29udHJvbFdpbmRvdzogKF9jID0gdGhpcy5zZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzb2NrZXRJbmZvO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAga2VlcGFsaXZlVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ2tlZXBhbGl2ZScsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIGZsb3dDb250cm9sVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgRkxPV19DT05UUk9MX1RSQUNFUl9OQU1FLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICBpbnRlcm5hbHNUcmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAndHJhbnNwb3J0X2ludGVybmFscycsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIHRvIHRoZSBvd25lciBvZiB0aGlzIG9iamVjdCB0aGF0IHRoaXMgdHJhbnNwb3J0IHNob3VsZCBubyBsb25nZXJcbiAgICAgKiBiZSB1c2VkLiBUaGF0IGhhcHBlbnMgaWYgdGhlIGNvbm5lY3Rpb24gZHJvcHMsIG9yIGlmIHRoZSBzZXJ2ZXIgc2VuZHMgYVxuICAgICAqIEdPQVdBWS5cbiAgICAgKiBAcGFyYW0gdG9vTWFueVBpbmdzIElmIHRydWUsIHRoaXMgd2FzIHRyaWdnZXJlZCBieSBhIEdPQVdBWSB3aXRoIGRhdGFcbiAgICAgKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHNlc3Npb24gd2FzIGNsb3NlZCBiZWNhdWVzIHRoZSBjbGllbnQgc2VudCB0b28gbWFueVxuICAgICAqIHBpbmdzLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcmVwb3J0RGlzY29ubmVjdFRvT3duZXIodG9vTWFueVBpbmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RIYW5kbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNjb25uZWN0SGFuZGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKHRvb01hbnlQaW5ncykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgY29ubmVjdGlvbiBkcm9wcywgYnV0IG5vdCBHT0FXQVlzLlxuICAgICAqL1xuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgIHRoaXMucmVwb3J0RGlzY29ubmVjdFRvT3duZXIoZmFsc2UpO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy5hY3RpdmVDYWxscykge1xuICAgICAgICAgICAgY2FsbC5vbkRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXYWl0IGFuIGV2ZW50IGxvb3AgY3ljbGUgYmVmb3JlIGRlc3Ryb3lpbmcgdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGREaXNjb25uZWN0TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgICBjYW5TZW5kUGluZygpIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5zZXNzaW9uLmRlc3Ryb3llZCAmJlxuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPiAwICYmXG4gICAgICAgICAgICAodGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgfHwgdGhpcy5hY3RpdmVDYWxscy5zaXplID4gMCkpO1xuICAgIH1cbiAgICBtYXliZVNlbmRQaW5nKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU2VuZEtlZXBhbGl2ZVBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdrZWVwYWxpdmVUaW1lb3V0IGlzIG5vdCBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZXNTZW50ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU2VuZGluZyBwaW5nIHdpdGggdGltZW91dCAnICsgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgKyAnbXMnKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHRpbWVvdXQgcGFzc2VkIHdpdGhvdXQgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMua2VlcGFsaXZlVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIGxldCBwaW5nU2VuZEVycm9yID0gJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwaW5nU2VudFN1Y2Nlc3NmdWxseSA9IHRoaXMuc2Vzc2lvbi5waW5nKChlcnIsIGR1cmF0aW9uLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgZmFpbGVkIHdpdGggZXJyb3IgJyArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdSZWNlaXZlZCBwaW5nIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwaW5nU2VudFN1Y2Nlc3NmdWxseSkge1xuICAgICAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAnUGluZyByZXR1cm5lZCBmYWxzZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGdycGMvZ3JwYy1ub2RlIzIxMzlcbiAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogJycpIHx8ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGluZ1NlbmRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyBzZW5kIGZhaWxlZDogJyArIHBpbmdTZW5kRXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBrZWVwYWxpdmUgcGluZyB0aW1lciBpZiBhcHByb3ByaWF0ZS4gSWYgdGhlIHRpbWVyIGFscmVhZHkgcmFuXG4gICAgICogb3V0IHdoaWxlIHRoZXJlIHdlcmUgbm8gYWN0aXZlIHJlcXVlc3RzLCBpbnN0ZWFkIHNlbmQgYSBwaW5nIGltbWVkaWF0ZWx5LlxuICAgICAqIElmIHRoZSBwaW5nIHRpbWVyIGlzIGFscmVhZHkgcnVubmluZyBvciBhIHBpbmcgaXMgY3VycmVudGx5IGluIGZsaWdodCxcbiAgICAgKiBpbnN0ZWFkIGRvIG5vdGhpbmcgYW5kIHdhaXQgZm9yIHRoZW0gdG8gcmVzb2x2ZS5cbiAgICAgKi9cbiAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZykge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU2VuZEtlZXBhbGl2ZVBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTZW5kUGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTdGFydGluZyBrZWVwYWxpdmUgdGltZXIgZm9yICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVNcyArICdtcycpO1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTZW5kUGluZygpO1xuICAgICAgICAgICAgfSwgdGhpcy5rZWVwYWxpdmVUaW1lTXMpO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5rZWVwYWxpdmVUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBPdGhlcndpc2UsIHRoZXJlIGlzIGFscmVhZHkgZWl0aGVyIGEga2VlcGFsaXZlIHRpbWVyIG9yIGEgcGluZyBwZW5kaW5nLFxuICAgICAgICAgKiB3YWl0IGZvciB0aG9zZSB0byByZXNvbHZlLiAqL1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgd2hpY2hldmVyIGtlZXBhbGl2ZSB0aW1lb3V0IGlzIGN1cnJlbnRseSBhY3RpdmUsIGlmIGFueS5cbiAgICAgKi9cbiAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZWVwYWxpdmVUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVBY3RpdmVDYWxsKGNhbGwpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVDYWxscy5kZWxldGUoY2FsbCk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUNhbGxzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi51bnJlZigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEFjdGl2ZUNhbGwoY2FsbCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUNhbGxzLmFkZChjYWxsKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ2FsbHMuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlZigpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscykge1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0YWRhdGEsIGhvc3QsIG1ldGhvZCwgbGlzdGVuZXIsIHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBtZXRhZGF0YS50b0h0dHAySGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9BVVRIT1JJVFldID0gaG9zdDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfVVNFUl9BR0VOVF0gPSB0aGlzLnVzZXJBZ2VudDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFXSA9ICdhcHBsaWNhdGlvbi9ncnBjJztcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfTUVUSE9EXSA9ICdQT1NUJztcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfUEFUSF0gPSBtZXRob2Q7XG4gICAgICAgIGhlYWRlcnNbSFRUUDJfSEVBREVSX1RFXSA9ICd0cmFpbGVycyc7XG4gICAgICAgIGxldCBodHRwMlN0cmVhbTtcbiAgICAgICAgLyogSW4gdGhlb3J5LCBpZiBhbiBlcnJvciBpcyB0aHJvd24gYnkgc2Vzc2lvbi5yZXF1ZXN0IGJlY2F1c2Ugc2Vzc2lvbiBoYXNcbiAgICAgICAgICogYmVjb21lIHVudXNhYmxlIChlLmcuIGJlY2F1c2UgaXQgaGFzIHJlY2VpdmVkIGEgZ29hd2F5KSwgdGhpcyBzdWJjaGFubmVsXG4gICAgICAgICAqIHNob3VsZCBzb29uIHNlZSB0aGUgY29ycmVzcG9uZGluZyBjbG9zZSBvciBnb2F3YXkgZXZlbnQgYW55d2F5IGFuZCBsZWF2ZVxuICAgICAgICAgKiBSRUFEWS4gQnV0IHdlIGhhdmUgc2VlbiByZXBvcnRzIHRoYXQgdGhpcyBkb2VzIG5vdCBoYXBwZW5cbiAgICAgICAgICogKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL25vZGVqcy1maXJlc3RvcmUvaXNzdWVzLzEwMjMjaXNzdWVjb21tZW50LTY1MzIwNDA5NilcbiAgICAgICAgICogc28gZm9yIGRlZmVuc2UgaW4gZGVwdGgsIHdlIGp1c3QgZGlzY2FyZCB0aGUgc2Vzc2lvbiB3aGVuIHdlIHNlZSBhblxuICAgICAgICAgKiBlcnJvciBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGh0dHAyU3RyZWFtID0gdGhpcy5zZXNzaW9uLnJlcXVlc3QoaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsb3dDb250cm9sVHJhY2UoJ2xvY2FsIHdpbmRvdyBzaXplOiAnICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUgK1xuICAgICAgICAgICAgJyByZW1vdGUgd2luZG93IHNpemU6ICcgK1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpO1xuICAgICAgICB0aGlzLmludGVybmFsc1RyYWNlKCdzZXNzaW9uLmNsb3NlZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5jbG9zZWQgK1xuICAgICAgICAgICAgJyBzZXNzaW9uLmRlc3Ryb3llZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95ZWQgK1xuICAgICAgICAgICAgJyBzZXNzaW9uLnNvY2tldC5kZXN0cm95ZWQ9JyArXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc29ja2V0LmRlc3Ryb3llZCk7XG4gICAgICAgIGxldCBldmVudFRyYWNrZXI7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgbGV0IGNhbGw7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICBldmVudFRyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZVNlbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzU2VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLmFkZE1lc3NhZ2VTZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhZGRNZXNzYWdlUmVjZWl2ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzUmVjZWl2ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIub25DYWxsRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlciwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBY3RpdmVDYWxsKGNhbGwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdHJlYW1FbmQ6IHN1Y2Nlc3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vblN0cmVhbUVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRUcmFja2VyID0ge1xuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VTZW50OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVNlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VSZWNlaXZlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLmFkZE1lc3NhZ2VSZWNlaXZlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DYWxsRW5kOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLm9uQ2FsbEVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlQ2FsbChjYWxsKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3RyZWFtRW5kOiBzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vblN0cmVhbUVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhbGwgPSBuZXcgc3ViY2hhbm5lbF9jYWxsXzEuSHR0cDJTdWJjaGFubmVsQ2FsbChodHRwMlN0cmVhbSwgZXZlbnRUcmFja2VyLCBsaXN0ZW5lciwgdGhpcywgKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCkpO1xuICAgICAgICB0aGlzLmFkZEFjdGl2ZUNhbGwoY2FsbCk7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGdldFBlZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZztcbiAgICB9XG4gICAgZ2V0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhDb250ZXh0O1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgfVxufVxuY2xhc3MgSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTaHV0ZG93biA9IGZhbHNlO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy5jaGFubmVsVGFyZ2V0KSArICcgJyArIHRleHQpO1xuICAgIH1cbiAgICBjcmVhdGVTZXNzaW9uKHNlY3VyZUNvbm5lY3RSZXN1bHQsIGFkZHJlc3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0ZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdDb25uZWN0aW9uIGNsb3NlZCBiZWZvcmUgc3RhcnRpbmcgSFRUUC8yIGhhbmRzaGFrZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgICAgICBsZXQgcmVtb3RlTmFtZSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgcmVhbFRhcmdldCA9IHRoaXMuY2hhbm5lbFRhcmdldDtcbiAgICAgICAgICAgIGlmICgnZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0JyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkVGFyZ2V0ID0gKDAsIHVyaV9wYXJzZXJfMS5wYXJzZVVyaSkob3B0aW9uc1snZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0J10pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFRhcmdldCA9IHBhcnNlZFRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlTmFtZSA9ICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHBhcnNlZFRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2NoZW1lID0gc2VjdXJlQ29ubmVjdFJlc3VsdC5zZWN1cmUgPyAnaHR0cHMnIDogJ2h0dHAnO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGF0aCA9ICgwLCByZXNvbHZlcl8xLmdldERlZmF1bHRBdXRob3JpdHkpKHJlYWxUYXJnZXQpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBMZWF2ZSB0aW1lIGZvciBlcnJvciBldmVudCB0byBoYXBwZW4gYmVmb3JlIHJlamVjdGluZ1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVwb3J0ZWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0ZWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoYCR7ZXJyb3JNZXNzYWdlLnRyaW0oKX0gKCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdjb25uZWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yICcgKyBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmICghcmVwb3J0ZWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGAke2Vycm9yTWVzc2FnZX0gKCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlQ29ubmVjdGlvbjogKGF1dGhvcml0eSwgb3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWN1cmVDb25uZWN0UmVzdWx0LnNvY2tldDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxXaW5kb3dTaXplOiAoX2QgPSAoX2EgPSBvcHRpb25zWydncnBjLW5vZGUuZmxvd19jb250cm9sX3dpbmRvdyddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoX2MgPSAoX2IgPSBodHRwMi5nZXREZWZhdWx0U2V0dGluZ3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGh0dHAyKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmluaXRpYWxXaW5kb3dTaXplKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiA2NTUzNSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGh0dHAyLmNvbm5lY3QoYCR7c2NoZW1lfTovLyR7dGFyZ2V0UGF0aH1gLCBzZXNzaW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBQcmVwYXJlIHdpbmRvdyBzaXplIGNvbmZpZ3VyYXRpb24gZm9yIHJlbW90ZVNldHRpbmdzIGhhbmRsZXJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXaW4gPSAoX2cgPSAoX2YgPSAoX2UgPSBodHRwMi5nZXREZWZhdWx0U2V0dGluZ3MpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKGh0dHAyKSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmluaXRpYWxXaW5kb3dTaXplKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiA2NTUzNTsgLy8gNjUgNTM1IEJcbiAgICAgICAgICAgIGNvbnN0IGNvbm5XaW4gPSBvcHRpb25zWydncnBjLW5vZGUuZmxvd19jb250cm9sX3dpbmRvdyddO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnRmFpbGVkIHRvIGNvbm5lY3QnO1xuICAgICAgICAgICAgbGV0IHJlcG9ydGVkRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlc3Npb24udW5yZWYoKTtcbiAgICAgICAgICAgIHNlc3Npb24ub25jZSgncmVtb3RlU2V0dGluZ3MnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8vIFNlbmQgV0lORE9XX1VQREFURSBub3cgdG8gYXZvaWQgNjUgS0Igc3RhcnQtd2luZG93IHN0YWxsLlxuICAgICAgICAgICAgICAgIGlmIChjb25uV2luICYmIGNvbm5XaW4gPiBkZWZhdWx0V2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb2RlIOKJpSAxNC4xOFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5zZXRMb2NhbFdpbmRvd1NpemUoY29ubldpbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbGRlciBOb2RlOiBidW1wIGJ5IHRoZSBkZWx0YVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBjb25uV2luIC0gKChfYSA9IHNlc3Npb24uc3RhdGUubG9jYWxXaW5kb3dTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0V2luKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YSA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5pbmNyZW1lbnRXaW5kb3dTaXplKGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsb3NlSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBIdHRwMlRyYW5zcG9ydChzZXNzaW9uLCBhZGRyZXNzLCBvcHRpb25zLCByZW1vdGVOYW1lKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbmNlKCdjbG9zZScsIGNsb3NlSGFuZGxlcik7XG4gICAgICAgICAgICBzZXNzaW9uLm9uY2UoJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgICAgIHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0Lm9uY2UoJ2Nsb3NlJywgY2xvc2VIYW5kbGVyKTtcbiAgICAgICAgICAgIHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0Lm9uY2UoJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRjcENvbm5lY3QoYWRkcmVzcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gKDAsIGh0dHBfcHJveHlfMS5nZXRQcm94aWVkQ29ubmVjdGlvbikoYWRkcmVzcywgb3B0aW9ucykudGhlbihwcm94aWVkU29ja2V0ID0+IHtcbiAgICAgICAgICAgIGlmIChwcm94aWVkU29ja2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3hpZWRTb2NrZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9zZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignU29ja2V0IGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JDYWxsYmFjayA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV0LmNvbm5lY3QoYWRkcmVzcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzb2NrZXQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uY2UoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5vbmNlKCdlcnJvcicsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdChhZGRyZXNzLCBzZWN1cmVDb25uZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0ZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRjcENvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBsZXQgc2VjdXJlQ29ubmVjdFJlc3VsdCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGFkZHJlc3NTdHJpbmcgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKGFkZHJlc3NTdHJpbmcgKyAnIFdhaXRpbmcgZm9yIHNlY3VyZUNvbm5lY3RvciB0byBiZSByZWFkeScpO1xuICAgICAgICAgICAgYXdhaXQgc2VjdXJlQ29ubmVjdG9yLndhaXRGb3JSZWFkeSgpO1xuICAgICAgICAgICAgdGhpcy50cmFjZShhZGRyZXNzU3RyaW5nICsgJyBzZWN1cmVDb25uZWN0b3IgaXMgcmVhZHknKTtcbiAgICAgICAgICAgIHRjcENvbm5lY3Rpb24gPSBhd2FpdCB0aGlzLnRjcENvbm5lY3QoYWRkcmVzcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0Y3BDb25uZWN0aW9uLnNldE5vRGVsYXkoKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoYWRkcmVzc1N0cmluZyArICcgRXN0YWJsaXNoZWQgVENQIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgIHNlY3VyZUNvbm5lY3RSZXN1bHQgPSBhd2FpdCBzZWN1cmVDb25uZWN0b3IuY29ubmVjdCh0Y3BDb25uZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoYWRkcmVzc1N0cmluZyArICcgRXN0YWJsaXNoZWQgc2VjdXJlIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlc3Npb24oc2VjdXJlQ29ubmVjdFJlc3VsdCwgYWRkcmVzcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRjcENvbm5lY3Rpb24gPT09IG51bGwgfHwgdGNwQ29ubmVjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGNwQ29ubmVjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICBzZWN1cmVDb25uZWN0UmVzdWx0ID09PSBudWxsIHx8IHNlY3VyZUNvbm5lY3RSZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5pc1NodXRkb3duID0gdHJ1ZTtcbiAgICAgICAgKF9hID0gdGhpcy5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLkh0dHAyU3ViY2hhbm5lbENvbm5lY3RvciA9IEh0dHAyU3ViY2hhbm5lbENvbm5lY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zcG9ydC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/transport.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js":
/*!************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parseUri = parseUri;\nexports.splitHostPort = splitHostPort;\nexports.combineHostPort = combineHostPort;\nexports.uriToString = uriToString;\n/*\n * The groups correspond to URI parts as follows:\n * 1. scheme\n * 2. authority\n * 3. path\n */\nconst URI_REGEX = /^(?:([A-Za-z0-9+.-]+):)?(?:\\/\\/([^/]*)\\/)?(.+)$/;\nfunction parseUri(uriString) {\n    const parsedUri = URI_REGEX.exec(uriString);\n    if (parsedUri === null) {\n        return null;\n    }\n    return {\n        scheme: parsedUri[1],\n        authority: parsedUri[2],\n        path: parsedUri[3],\n    };\n}\nconst NUMBER_REGEX = /^\\d+$/;\nfunction splitHostPort(path) {\n    if (path.startsWith('[')) {\n        const hostEnd = path.indexOf(']');\n        if (hostEnd === -1) {\n            return null;\n        }\n        const host = path.substring(1, hostEnd);\n        /* Only an IPv6 address should be in bracketed notation, and an IPv6\n         * address should have at least one colon */\n        if (host.indexOf(':') === -1) {\n            return null;\n        }\n        if (path.length > hostEnd + 1) {\n            if (path[hostEnd + 1] === ':') {\n                const portString = path.substring(hostEnd + 2);\n                if (NUMBER_REGEX.test(portString)) {\n                    return {\n                        host: host,\n                        port: +portString,\n                    };\n                }\n                else {\n                    return null;\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return {\n                host,\n            };\n        }\n    }\n    else {\n        const splitPath = path.split(':');\n        /* Exactly one colon means that this is host:port. Zero colons means that\n         * there is no port. And multiple colons means that this is a bare IPv6\n         * address with no port */\n        if (splitPath.length === 2) {\n            if (NUMBER_REGEX.test(splitPath[1])) {\n                return {\n                    host: splitPath[0],\n                    port: +splitPath[1],\n                };\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return {\n                host: path,\n            };\n        }\n    }\n}\nfunction combineHostPort(hostPort) {\n    if (hostPort.port === undefined) {\n        return hostPort.host;\n    }\n    else {\n        // Only an IPv6 host should include a colon\n        if (hostPort.host.includes(':')) {\n            return `[${hostPort.host}]:${hostPort.port}`;\n        }\n        else {\n            return `${hostPort.host}:${hostPort.port}`;\n        }\n    }\n}\nfunction uriToString(uri) {\n    let result = '';\n    if (uri.scheme !== undefined) {\n        result += uri.scheme + ':';\n    }\n    if (uri.authority !== undefined) {\n        result += '//' + uri.authority + '/';\n    }\n    result += uri.path;\n    return result;\n}\n//# sourceMappingURL=uri-parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdXJpLXBhcnNlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixxQkFBcUI7QUFDckIsdUJBQXVCO0FBQ3ZCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsY0FBYyxJQUFJLGNBQWM7QUFDdkQ7QUFDQTtBQUNBLHNCQUFzQixjQUFjLEdBQUcsY0FBYztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdXJpLXBhcnNlci5qcz9lZmFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIwIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlVXJpID0gcGFyc2VVcmk7XG5leHBvcnRzLnNwbGl0SG9zdFBvcnQgPSBzcGxpdEhvc3RQb3J0O1xuZXhwb3J0cy5jb21iaW5lSG9zdFBvcnQgPSBjb21iaW5lSG9zdFBvcnQ7XG5leHBvcnRzLnVyaVRvU3RyaW5nID0gdXJpVG9TdHJpbmc7XG4vKlxuICogVGhlIGdyb3VwcyBjb3JyZXNwb25kIHRvIFVSSSBwYXJ0cyBhcyBmb2xsb3dzOlxuICogMS4gc2NoZW1lXG4gKiAyLiBhdXRob3JpdHlcbiAqIDMuIHBhdGhcbiAqL1xuY29uc3QgVVJJX1JFR0VYID0gL14oPzooW0EtWmEtejAtOSsuLV0rKTopPyg/OlxcL1xcLyhbXi9dKilcXC8pPyguKykkLztcbmZ1bmN0aW9uIHBhcnNlVXJpKHVyaVN0cmluZykge1xuICAgIGNvbnN0IHBhcnNlZFVyaSA9IFVSSV9SRUdFWC5leGVjKHVyaVN0cmluZyk7XG4gICAgaWYgKHBhcnNlZFVyaSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NoZW1lOiBwYXJzZWRVcmlbMV0sXG4gICAgICAgIGF1dGhvcml0eTogcGFyc2VkVXJpWzJdLFxuICAgICAgICBwYXRoOiBwYXJzZWRVcmlbM10sXG4gICAgfTtcbn1cbmNvbnN0IE5VTUJFUl9SRUdFWCA9IC9eXFxkKyQvO1xuZnVuY3Rpb24gc3BsaXRIb3N0UG9ydChwYXRoKSB7XG4gICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnWycpKSB7XG4gICAgICAgIGNvbnN0IGhvc3RFbmQgPSBwYXRoLmluZGV4T2YoJ10nKTtcbiAgICAgICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob3N0ID0gcGF0aC5zdWJzdHJpbmcoMSwgaG9zdEVuZCk7XG4gICAgICAgIC8qIE9ubHkgYW4gSVB2NiBhZGRyZXNzIHNob3VsZCBiZSBpbiBicmFja2V0ZWQgbm90YXRpb24sIGFuZCBhbiBJUHY2XG4gICAgICAgICAqIGFkZHJlc3Mgc2hvdWxkIGhhdmUgYXQgbGVhc3Qgb25lIGNvbG9uICovXG4gICAgICAgIGlmIChob3N0LmluZGV4T2YoJzonKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IGhvc3RFbmQgKyAxKSB7XG4gICAgICAgICAgICBpZiAocGF0aFtob3N0RW5kICsgMV0gPT09ICc6Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRTdHJpbmcgPSBwYXRoLnN1YnN0cmluZyhob3N0RW5kICsgMik7XG4gICAgICAgICAgICAgICAgaWYgKE5VTUJFUl9SRUdFWC50ZXN0KHBvcnRTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiBob3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogK3BvcnRTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaG9zdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHNwbGl0UGF0aCA9IHBhdGguc3BsaXQoJzonKTtcbiAgICAgICAgLyogRXhhY3RseSBvbmUgY29sb24gbWVhbnMgdGhhdCB0aGlzIGlzIGhvc3Q6cG9ydC4gWmVybyBjb2xvbnMgbWVhbnMgdGhhdFxuICAgICAgICAgKiB0aGVyZSBpcyBubyBwb3J0LiBBbmQgbXVsdGlwbGUgY29sb25zIG1lYW5zIHRoYXQgdGhpcyBpcyBhIGJhcmUgSVB2NlxuICAgICAgICAgKiBhZGRyZXNzIHdpdGggbm8gcG9ydCAqL1xuICAgICAgICBpZiAoc3BsaXRQYXRoLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgaWYgKE5VTUJFUl9SRUdFWC50ZXN0KHNwbGl0UGF0aFsxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBob3N0OiBzcGxpdFBhdGhbMF0sXG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6ICtzcGxpdFBhdGhbMV0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBob3N0OiBwYXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbWJpbmVIb3N0UG9ydChob3N0UG9ydCkge1xuICAgIGlmIChob3N0UG9ydC5wb3J0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhvc3RQb3J0Lmhvc3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBPbmx5IGFuIElQdjYgaG9zdCBzaG91bGQgaW5jbHVkZSBhIGNvbG9uXG4gICAgICAgIGlmIChob3N0UG9ydC5ob3N0LmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgICAgIHJldHVybiBgWyR7aG9zdFBvcnQuaG9zdH1dOiR7aG9zdFBvcnQucG9ydH1gO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke2hvc3RQb3J0Lmhvc3R9OiR7aG9zdFBvcnQucG9ydH1gO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdXJpVG9TdHJpbmcodXJpKSB7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGlmICh1cmkuc2NoZW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ICs9IHVyaS5zY2hlbWUgKyAnOic7XG4gICAgfVxuICAgIGlmICh1cmkuYXV0aG9yaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ICs9ICcvLycgKyB1cmkuYXV0aG9yaXR5ICsgJy8nO1xuICAgIH1cbiAgICByZXN1bHQgKz0gdXJpLnBhdGg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVyaS1wYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/uri-parser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/index.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/index.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * @license\n * Copyright 2018 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.loadFileDescriptorSetFromObject = exports.loadFileDescriptorSetFromBuffer = exports.fromJSON = exports.loadSync = exports.load = exports.IdempotencyLevel = exports.isAnyExtension = exports.Long = void 0;\nconst camelCase = __webpack_require__(/*! lodash.camelcase */ \"(rsc)/./node_modules/lodash.camelcase/index.js\");\nconst Protobuf = __webpack_require__(/*! protobufjs */ \"(rsc)/./node_modules/protobufjs/index.js\");\nconst descriptor = __webpack_require__(/*! protobufjs/ext/descriptor */ \"(rsc)/./node_modules/protobufjs/ext/descriptor/index.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/util.js\");\nconst Long = __webpack_require__(/*! long */ \"(rsc)/./node_modules/long/umd/index.js\");\nexports.Long = Long;\nfunction isAnyExtension(obj) {\n    return ('@type' in obj) && (typeof obj['@type'] === 'string');\n}\nexports.isAnyExtension = isAnyExtension;\nvar IdempotencyLevel;\n(function (IdempotencyLevel) {\n    IdempotencyLevel[\"IDEMPOTENCY_UNKNOWN\"] = \"IDEMPOTENCY_UNKNOWN\";\n    IdempotencyLevel[\"NO_SIDE_EFFECTS\"] = \"NO_SIDE_EFFECTS\";\n    IdempotencyLevel[\"IDEMPOTENT\"] = \"IDEMPOTENT\";\n})(IdempotencyLevel = exports.IdempotencyLevel || (exports.IdempotencyLevel = {}));\nconst descriptorOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    defaults: true,\n    oneofs: true,\n    json: true,\n};\nfunction joinName(baseName, name) {\n    if (baseName === '') {\n        return name;\n    }\n    else {\n        return baseName + '.' + name;\n    }\n}\nfunction isHandledReflectionObject(obj) {\n    return (obj instanceof Protobuf.Service ||\n        obj instanceof Protobuf.Type ||\n        obj instanceof Protobuf.Enum);\n}\nfunction isNamespaceBase(obj) {\n    return obj instanceof Protobuf.Namespace || obj instanceof Protobuf.Root;\n}\nfunction getAllHandledReflectionObjects(obj, parentName) {\n    const objName = joinName(parentName, obj.name);\n    if (isHandledReflectionObject(obj)) {\n        return [[objName, obj]];\n    }\n    else {\n        if (isNamespaceBase(obj) && typeof obj.nested !== 'undefined') {\n            return Object.keys(obj.nested)\n                .map(name => {\n                return getAllHandledReflectionObjects(obj.nested[name], objName);\n            })\n                .reduce((accumulator, currentValue) => accumulator.concat(currentValue), []);\n        }\n    }\n    return [];\n}\nfunction createDeserializer(cls, options) {\n    return function deserialize(argBuf) {\n        return cls.toObject(cls.decode(argBuf), options);\n    };\n}\nfunction createSerializer(cls) {\n    return function serialize(arg) {\n        if (Array.isArray(arg)) {\n            throw new Error(`Failed to serialize message: expected object with ${cls.name} structure, got array instead`);\n        }\n        const message = cls.fromObject(arg);\n        return cls.encode(message).finish();\n    };\n}\nfunction mapMethodOptions(options) {\n    return (options || []).reduce((obj, item) => {\n        for (const [key, value] of Object.entries(item)) {\n            switch (key) {\n                case 'uninterpreted_option':\n                    obj.uninterpreted_option.push(item.uninterpreted_option);\n                    break;\n                default:\n                    obj[key] = value;\n            }\n        }\n        return obj;\n    }, {\n        deprecated: false,\n        idempotency_level: IdempotencyLevel.IDEMPOTENCY_UNKNOWN,\n        uninterpreted_option: [],\n    });\n}\nfunction createMethodDefinition(method, serviceName, options, fileDescriptors) {\n    /* This is only ever called after the corresponding root.resolveAll(), so we\n     * can assume that the resolved request and response types are non-null */\n    const requestType = method.resolvedRequestType;\n    const responseType = method.resolvedResponseType;\n    return {\n        path: '/' + serviceName + '/' + method.name,\n        requestStream: !!method.requestStream,\n        responseStream: !!method.responseStream,\n        requestSerialize: createSerializer(requestType),\n        requestDeserialize: createDeserializer(requestType, options),\n        responseSerialize: createSerializer(responseType),\n        responseDeserialize: createDeserializer(responseType, options),\n        // TODO(murgatroid99): Find a better way to handle this\n        originalName: camelCase(method.name),\n        requestType: createMessageDefinition(requestType, options, fileDescriptors),\n        responseType: createMessageDefinition(responseType, options, fileDescriptors),\n        options: mapMethodOptions(method.parsedOptions),\n    };\n}\nfunction createServiceDefinition(service, name, options, fileDescriptors) {\n    const def = {};\n    for (const method of service.methodsArray) {\n        def[method.name] = createMethodDefinition(method, name, options, fileDescriptors);\n    }\n    return def;\n}\nfunction createMessageDefinition(message, options, fileDescriptors) {\n    const messageDescriptor = message.toDescriptor('proto3');\n    return {\n        format: 'Protocol Buffer 3 DescriptorProto',\n        type: messageDescriptor.$type.toObject(messageDescriptor, descriptorOptions),\n        fileDescriptorProtos: fileDescriptors,\n        serialize: createSerializer(message),\n        deserialize: createDeserializer(message, options)\n    };\n}\nfunction createEnumDefinition(enumType, fileDescriptors) {\n    const enumDescriptor = enumType.toDescriptor('proto3');\n    return {\n        format: 'Protocol Buffer 3 EnumDescriptorProto',\n        type: enumDescriptor.$type.toObject(enumDescriptor, descriptorOptions),\n        fileDescriptorProtos: fileDescriptors,\n    };\n}\n/**\n * function createDefinition(obj: Protobuf.Service, name: string, options:\n * Options): ServiceDefinition; function createDefinition(obj: Protobuf.Type,\n * name: string, options: Options): MessageTypeDefinition; function\n * createDefinition(obj: Protobuf.Enum, name: string, options: Options):\n * EnumTypeDefinition;\n */\nfunction createDefinition(obj, name, options, fileDescriptors) {\n    if (obj instanceof Protobuf.Service) {\n        return createServiceDefinition(obj, name, options, fileDescriptors);\n    }\n    else if (obj instanceof Protobuf.Type) {\n        return createMessageDefinition(obj, options, fileDescriptors);\n    }\n    else if (obj instanceof Protobuf.Enum) {\n        return createEnumDefinition(obj, fileDescriptors);\n    }\n    else {\n        throw new Error('Type mismatch in reflection object handling');\n    }\n}\nfunction createPackageDefinition(root, options) {\n    const def = {};\n    root.resolveAll();\n    const descriptorList = root.toDescriptor('proto3').file;\n    const bufferList = descriptorList.map(value => Buffer.from(descriptor.FileDescriptorProto.encode(value).finish()));\n    for (const [name, obj] of getAllHandledReflectionObjects(root, '')) {\n        def[name] = createDefinition(obj, name, options, bufferList);\n    }\n    return def;\n}\nfunction createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options) {\n    options = options || {};\n    const root = Protobuf.Root.fromDescriptor(decodedDescriptorSet);\n    root.resolveAll();\n    return createPackageDefinition(root, options);\n}\n/**\n * Load a .proto file with the specified options.\n * @param filename One or multiple file paths to load. Can be an absolute path\n *     or relative to an include path.\n * @param options.keepCase Preserve field names. The default is to change them\n *     to camel case.\n * @param options.longs The type that should be used to represent `long` values.\n *     Valid options are `Number` and `String`. Defaults to a `Long` object type\n *     from a library.\n * @param options.enums The type that should be used to represent `enum` values.\n *     The only valid option is `String`. Defaults to the numeric value.\n * @param options.bytes The type that should be used to represent `bytes`\n *     values. Valid options are `Array` and `String`. The default is to use\n *     `Buffer`.\n * @param options.defaults Set default values on output objects. Defaults to\n *     `false`.\n * @param options.arrays Set empty arrays for missing array values even if\n *     `defaults` is `false`. Defaults to `false`.\n * @param options.objects Set empty objects for missing object values even if\n *     `defaults` is `false`. Defaults to `false`.\n * @param options.oneofs Set virtual oneof properties to the present field's\n *     name\n * @param options.json Represent Infinity and NaN as strings in float fields,\n *     and automatically decode google.protobuf.Any values.\n * @param options.includeDirs Paths to search for imported `.proto` files.\n */\nfunction load(filename, options) {\n    return (0, util_1.loadProtosWithOptions)(filename, options).then(loadedRoot => {\n        return createPackageDefinition(loadedRoot, options);\n    });\n}\nexports.load = load;\nfunction loadSync(filename, options) {\n    const loadedRoot = (0, util_1.loadProtosWithOptionsSync)(filename, options);\n    return createPackageDefinition(loadedRoot, options);\n}\nexports.loadSync = loadSync;\nfunction fromJSON(json, options) {\n    options = options || {};\n    const loadedRoot = Protobuf.Root.fromJSON(json);\n    loadedRoot.resolveAll();\n    return createPackageDefinition(loadedRoot, options);\n}\nexports.fromJSON = fromJSON;\nfunction loadFileDescriptorSetFromBuffer(descriptorSet, options) {\n    const decodedDescriptorSet = descriptor.FileDescriptorSet.decode(descriptorSet);\n    return createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options);\n}\nexports.loadFileDescriptorSetFromBuffer = loadFileDescriptorSetFromBuffer;\nfunction loadFileDescriptorSetFromObject(descriptorSet, options) {\n    const decodedDescriptorSet = descriptor.FileDescriptorSet.fromObject(descriptorSet);\n    return createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options);\n}\nexports.loadFileDescriptorSetFromObject = loadFileDescriptorSetFromObject;\n(0, util_1.addCommonProtos)();\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9ub2RlX21vZHVsZXMvQGdycGMvcHJvdG8tbG9hZGVyL2J1aWxkL3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUNBQXVDLEdBQUcsdUNBQXVDLEdBQUcsZ0JBQWdCLEdBQUcsZ0JBQWdCLEdBQUcsWUFBWSxHQUFHLHdCQUF3QixHQUFHLHNCQUFzQixHQUFHLFlBQVk7QUFDek0sa0JBQWtCLG1CQUFPLENBQUMsd0VBQWtCO0FBQzVDLGlCQUFpQixtQkFBTyxDQUFDLDREQUFZO0FBQ3JDLG1CQUFtQixtQkFBTyxDQUFDLDBGQUEyQjtBQUN0RCxlQUFlLG1CQUFPLENBQUMsNEhBQVE7QUFDL0IsYUFBYSxtQkFBTyxDQUFDLG9EQUFNO0FBQzNCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsa0RBQWtELHdCQUF3QixLQUFLO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLFVBQVU7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vbm9kZV9tb2R1bGVzL2dvb2dsZS1nYXgvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvbm9kZV9tb2R1bGVzL0BncnBjL3Byb3RvLWxvYWRlci9idWlsZC9zcmMvaW5kZXguanM/ZThjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21PYmplY3QgPSBleHBvcnRzLmxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21CdWZmZXIgPSBleHBvcnRzLmZyb21KU09OID0gZXhwb3J0cy5sb2FkU3luYyA9IGV4cG9ydHMubG9hZCA9IGV4cG9ydHMuSWRlbXBvdGVuY3lMZXZlbCA9IGV4cG9ydHMuaXNBbnlFeHRlbnNpb24gPSBleHBvcnRzLkxvbmcgPSB2b2lkIDA7XG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKFwibG9kYXNoLmNhbWVsY2FzZVwiKTtcbmNvbnN0IFByb3RvYnVmID0gcmVxdWlyZShcInByb3RvYnVmanNcIik7XG5jb25zdCBkZXNjcmlwdG9yID0gcmVxdWlyZShcInByb3RvYnVmanMvZXh0L2Rlc2NyaXB0b3JcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgTG9uZyA9IHJlcXVpcmUoXCJsb25nXCIpO1xuZXhwb3J0cy5Mb25nID0gTG9uZztcbmZ1bmN0aW9uIGlzQW55RXh0ZW5zaW9uKG9iaikge1xuICAgIHJldHVybiAoJ0B0eXBlJyBpbiBvYmopICYmICh0eXBlb2Ygb2JqWydAdHlwZSddID09PSAnc3RyaW5nJyk7XG59XG5leHBvcnRzLmlzQW55RXh0ZW5zaW9uID0gaXNBbnlFeHRlbnNpb247XG52YXIgSWRlbXBvdGVuY3lMZXZlbDtcbihmdW5jdGlvbiAoSWRlbXBvdGVuY3lMZXZlbCkge1xuICAgIElkZW1wb3RlbmN5TGV2ZWxbXCJJREVNUE9URU5DWV9VTktOT1dOXCJdID0gXCJJREVNUE9URU5DWV9VTktOT1dOXCI7XG4gICAgSWRlbXBvdGVuY3lMZXZlbFtcIk5PX1NJREVfRUZGRUNUU1wiXSA9IFwiTk9fU0lERV9FRkZFQ1RTXCI7XG4gICAgSWRlbXBvdGVuY3lMZXZlbFtcIklERU1QT1RFTlRcIl0gPSBcIklERU1QT1RFTlRcIjtcbn0pKElkZW1wb3RlbmN5TGV2ZWwgPSBleHBvcnRzLklkZW1wb3RlbmN5TGV2ZWwgfHwgKGV4cG9ydHMuSWRlbXBvdGVuY3lMZXZlbCA9IHt9KSk7XG5jb25zdCBkZXNjcmlwdG9yT3B0aW9ucyA9IHtcbiAgICBsb25nczogU3RyaW5nLFxuICAgIGVudW1zOiBTdHJpbmcsXG4gICAgYnl0ZXM6IFN0cmluZyxcbiAgICBkZWZhdWx0czogdHJ1ZSxcbiAgICBvbmVvZnM6IHRydWUsXG4gICAganNvbjogdHJ1ZSxcbn07XG5mdW5jdGlvbiBqb2luTmFtZShiYXNlTmFtZSwgbmFtZSkge1xuICAgIGlmIChiYXNlTmFtZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYmFzZU5hbWUgKyAnLicgKyBuYW1lO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzSGFuZGxlZFJlZmxlY3Rpb25PYmplY3Qob2JqKSB7XG4gICAgcmV0dXJuIChvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5TZXJ2aWNlIHx8XG4gICAgICAgIG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlR5cGUgfHxcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgUHJvdG9idWYuRW51bSk7XG59XG5mdW5jdGlvbiBpc05hbWVzcGFjZUJhc2Uob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLk5hbWVzcGFjZSB8fCBvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5Sb290O1xufVxuZnVuY3Rpb24gZ2V0QWxsSGFuZGxlZFJlZmxlY3Rpb25PYmplY3RzKG9iaiwgcGFyZW50TmFtZSkge1xuICAgIGNvbnN0IG9iak5hbWUgPSBqb2luTmFtZShwYXJlbnROYW1lLCBvYmoubmFtZSk7XG4gICAgaWYgKGlzSGFuZGxlZFJlZmxlY3Rpb25PYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gW1tvYmpOYW1lLCBvYmpdXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpc05hbWVzcGFjZUJhc2Uob2JqKSAmJiB0eXBlb2Ygb2JqLm5lc3RlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmoubmVzdGVkKVxuICAgICAgICAgICAgICAgIC5tYXAobmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbEhhbmRsZWRSZWZsZWN0aW9uT2JqZWN0cyhvYmoubmVzdGVkW25hbWVdLCBvYmpOYW1lKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IuY29uY2F0KGN1cnJlbnRWYWx1ZSksIFtdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5mdW5jdGlvbiBjcmVhdGVEZXNlcmlhbGl6ZXIoY2xzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlc2VyaWFsaXplKGFyZ0J1Zikge1xuICAgICAgICByZXR1cm4gY2xzLnRvT2JqZWN0KGNscy5kZWNvZGUoYXJnQnVmKSwgb3B0aW9ucyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlcmlhbGl6ZXIoY2xzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNlcmlhbGl6ZShhcmcpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2VyaWFsaXplIG1lc3NhZ2U6IGV4cGVjdGVkIG9iamVjdCB3aXRoICR7Y2xzLm5hbWV9IHN0cnVjdHVyZSwgZ290IGFycmF5IGluc3RlYWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlID0gY2xzLmZyb21PYmplY3QoYXJnKTtcbiAgICAgICAgcmV0dXJuIGNscy5lbmNvZGUobWVzc2FnZSkuZmluaXNoKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hcE1ldGhvZE9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiAob3B0aW9ucyB8fCBbXSkucmVkdWNlKChvYmosIGl0ZW0pID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbSkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndW5pbnRlcnByZXRlZF9vcHRpb24nOlxuICAgICAgICAgICAgICAgICAgICBvYmoudW5pbnRlcnByZXRlZF9vcHRpb24ucHVzaChpdGVtLnVuaW50ZXJwcmV0ZWRfb3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHtcbiAgICAgICAgZGVwcmVjYXRlZDogZmFsc2UsXG4gICAgICAgIGlkZW1wb3RlbmN5X2xldmVsOiBJZGVtcG90ZW5jeUxldmVsLklERU1QT1RFTkNZX1VOS05PV04sXG4gICAgICAgIHVuaW50ZXJwcmV0ZWRfb3B0aW9uOiBbXSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1ldGhvZERlZmluaXRpb24obWV0aG9kLCBzZXJ2aWNlTmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKSB7XG4gICAgLyogVGhpcyBpcyBvbmx5IGV2ZXIgY2FsbGVkIGFmdGVyIHRoZSBjb3JyZXNwb25kaW5nIHJvb3QucmVzb2x2ZUFsbCgpLCBzbyB3ZVxuICAgICAqIGNhbiBhc3N1bWUgdGhhdCB0aGUgcmVzb2x2ZWQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHlwZXMgYXJlIG5vbi1udWxsICovXG4gICAgY29uc3QgcmVxdWVzdFR5cGUgPSBtZXRob2QucmVzb2x2ZWRSZXF1ZXN0VHlwZTtcbiAgICBjb25zdCByZXNwb25zZVR5cGUgPSBtZXRob2QucmVzb2x2ZWRSZXNwb25zZVR5cGU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aDogJy8nICsgc2VydmljZU5hbWUgKyAnLycgKyBtZXRob2QubmFtZSxcbiAgICAgICAgcmVxdWVzdFN0cmVhbTogISFtZXRob2QucmVxdWVzdFN0cmVhbSxcbiAgICAgICAgcmVzcG9uc2VTdHJlYW06ICEhbWV0aG9kLnJlc3BvbnNlU3RyZWFtLFxuICAgICAgICByZXF1ZXN0U2VyaWFsaXplOiBjcmVhdGVTZXJpYWxpemVyKHJlcXVlc3RUeXBlKSxcbiAgICAgICAgcmVxdWVzdERlc2VyaWFsaXplOiBjcmVhdGVEZXNlcmlhbGl6ZXIocmVxdWVzdFR5cGUsIG9wdGlvbnMpLFxuICAgICAgICByZXNwb25zZVNlcmlhbGl6ZTogY3JlYXRlU2VyaWFsaXplcihyZXNwb25zZVR5cGUpLFxuICAgICAgICByZXNwb25zZURlc2VyaWFsaXplOiBjcmVhdGVEZXNlcmlhbGl6ZXIocmVzcG9uc2VUeXBlLCBvcHRpb25zKSxcbiAgICAgICAgLy8gVE9ETyhtdXJnYXRyb2lkOTkpOiBGaW5kIGEgYmV0dGVyIHdheSB0byBoYW5kbGUgdGhpc1xuICAgICAgICBvcmlnaW5hbE5hbWU6IGNhbWVsQ2FzZShtZXRob2QubmFtZSksXG4gICAgICAgIHJlcXVlc3RUeXBlOiBjcmVhdGVNZXNzYWdlRGVmaW5pdGlvbihyZXF1ZXN0VHlwZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiBjcmVhdGVNZXNzYWdlRGVmaW5pdGlvbihyZXNwb25zZVR5cGUsIG9wdGlvbnMsIGZpbGVEZXNjcmlwdG9ycyksXG4gICAgICAgIG9wdGlvbnM6IG1hcE1ldGhvZE9wdGlvbnMobWV0aG9kLnBhcnNlZE9wdGlvbnMpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTZXJ2aWNlRGVmaW5pdGlvbihzZXJ2aWNlLCBuYW1lLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpIHtcbiAgICBjb25zdCBkZWYgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBzZXJ2aWNlLm1ldGhvZHNBcnJheSkge1xuICAgICAgICBkZWZbbWV0aG9kLm5hbWVdID0gY3JlYXRlTWV0aG9kRGVmaW5pdGlvbihtZXRob2QsIG5hbWUsIG9wdGlvbnMsIGZpbGVEZXNjcmlwdG9ycyk7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlRGVmaW5pdGlvbihtZXNzYWdlLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpIHtcbiAgICBjb25zdCBtZXNzYWdlRGVzY3JpcHRvciA9IG1lc3NhZ2UudG9EZXNjcmlwdG9yKCdwcm90bzMnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXQ6ICdQcm90b2NvbCBCdWZmZXIgMyBEZXNjcmlwdG9yUHJvdG8nLFxuICAgICAgICB0eXBlOiBtZXNzYWdlRGVzY3JpcHRvci4kdHlwZS50b09iamVjdChtZXNzYWdlRGVzY3JpcHRvciwgZGVzY3JpcHRvck9wdGlvbnMpLFxuICAgICAgICBmaWxlRGVzY3JpcHRvclByb3RvczogZmlsZURlc2NyaXB0b3JzLFxuICAgICAgICBzZXJpYWxpemU6IGNyZWF0ZVNlcmlhbGl6ZXIobWVzc2FnZSksXG4gICAgICAgIGRlc2VyaWFsaXplOiBjcmVhdGVEZXNlcmlhbGl6ZXIobWVzc2FnZSwgb3B0aW9ucylcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRW51bURlZmluaXRpb24oZW51bVR5cGUsIGZpbGVEZXNjcmlwdG9ycykge1xuICAgIGNvbnN0IGVudW1EZXNjcmlwdG9yID0gZW51bVR5cGUudG9EZXNjcmlwdG9yKCdwcm90bzMnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmb3JtYXQ6ICdQcm90b2NvbCBCdWZmZXIgMyBFbnVtRGVzY3JpcHRvclByb3RvJyxcbiAgICAgICAgdHlwZTogZW51bURlc2NyaXB0b3IuJHR5cGUudG9PYmplY3QoZW51bURlc2NyaXB0b3IsIGRlc2NyaXB0b3JPcHRpb25zKSxcbiAgICAgICAgZmlsZURlc2NyaXB0b3JQcm90b3M6IGZpbGVEZXNjcmlwdG9ycyxcbiAgICB9O1xufVxuLyoqXG4gKiBmdW5jdGlvbiBjcmVhdGVEZWZpbml0aW9uKG9iajogUHJvdG9idWYuU2VydmljZSwgbmFtZTogc3RyaW5nLCBvcHRpb25zOlxuICogT3B0aW9ucyk6IFNlcnZpY2VEZWZpbml0aW9uOyBmdW5jdGlvbiBjcmVhdGVEZWZpbml0aW9uKG9iajogUHJvdG9idWYuVHlwZSxcbiAqIG5hbWU6IHN0cmluZywgb3B0aW9uczogT3B0aW9ucyk6IE1lc3NhZ2VUeXBlRGVmaW5pdGlvbjsgZnVuY3Rpb25cbiAqIGNyZWF0ZURlZmluaXRpb24ob2JqOiBQcm90b2J1Zi5FbnVtLCBuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IE9wdGlvbnMpOlxuICogRW51bVR5cGVEZWZpbml0aW9uO1xuICovXG5mdW5jdGlvbiBjcmVhdGVEZWZpbml0aW9uKG9iaiwgbmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNlcnZpY2VEZWZpbml0aW9uKG9iaiwgbmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgUHJvdG9idWYuVHlwZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTWVzc2FnZURlZmluaXRpb24ob2JqLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5FbnVtKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbnVtRGVmaW5pdGlvbihvYmosIGZpbGVEZXNjcmlwdG9ycyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1R5cGUgbWlzbWF0Y2ggaW4gcmVmbGVjdGlvbiBvYmplY3QgaGFuZGxpbmcnKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbihyb290LCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGVmID0ge307XG4gICAgcm9vdC5yZXNvbHZlQWxsKCk7XG4gICAgY29uc3QgZGVzY3JpcHRvckxpc3QgPSByb290LnRvRGVzY3JpcHRvcigncHJvdG8zJykuZmlsZTtcbiAgICBjb25zdCBidWZmZXJMaXN0ID0gZGVzY3JpcHRvckxpc3QubWFwKHZhbHVlID0+IEJ1ZmZlci5mcm9tKGRlc2NyaXB0b3IuRmlsZURlc2NyaXB0b3JQcm90by5lbmNvZGUodmFsdWUpLmZpbmlzaCgpKSk7XG4gICAgZm9yIChjb25zdCBbbmFtZSwgb2JqXSBvZiBnZXRBbGxIYW5kbGVkUmVmbGVjdGlvbk9iamVjdHMocm9vdCwgJycpKSB7XG4gICAgICAgIGRlZltuYW1lXSA9IGNyZWF0ZURlZmluaXRpb24ob2JqLCBuYW1lLCBvcHRpb25zLCBidWZmZXJMaXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uRnJvbURlc2NyaXB0b3JTZXQoZGVjb2RlZERlc2NyaXB0b3JTZXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCByb290ID0gUHJvdG9idWYuUm9vdC5mcm9tRGVzY3JpcHRvcihkZWNvZGVkRGVzY3JpcHRvclNldCk7XG4gICAgcm9vdC5yZXNvbHZlQWxsKCk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uKHJvb3QsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBMb2FkIGEgLnByb3RvIGZpbGUgd2l0aCB0aGUgc3BlY2lmaWVkIG9wdGlvbnMuXG4gKiBAcGFyYW0gZmlsZW5hbWUgT25lIG9yIG11bHRpcGxlIGZpbGUgcGF0aHMgdG8gbG9hZC4gQ2FuIGJlIGFuIGFic29sdXRlIHBhdGhcbiAqICAgICBvciByZWxhdGl2ZSB0byBhbiBpbmNsdWRlIHBhdGguXG4gKiBAcGFyYW0gb3B0aW9ucy5rZWVwQ2FzZSBQcmVzZXJ2ZSBmaWVsZCBuYW1lcy4gVGhlIGRlZmF1bHQgaXMgdG8gY2hhbmdlIHRoZW1cbiAqICAgICB0byBjYW1lbCBjYXNlLlxuICogQHBhcmFtIG9wdGlvbnMubG9uZ3MgVGhlIHR5cGUgdGhhdCBzaG91bGQgYmUgdXNlZCB0byByZXByZXNlbnQgYGxvbmdgIHZhbHVlcy5cbiAqICAgICBWYWxpZCBvcHRpb25zIGFyZSBgTnVtYmVyYCBhbmQgYFN0cmluZ2AuIERlZmF1bHRzIHRvIGEgYExvbmdgIG9iamVjdCB0eXBlXG4gKiAgICAgZnJvbSBhIGxpYnJhcnkuXG4gKiBAcGFyYW0gb3B0aW9ucy5lbnVtcyBUaGUgdHlwZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHJlcHJlc2VudCBgZW51bWAgdmFsdWVzLlxuICogICAgIFRoZSBvbmx5IHZhbGlkIG9wdGlvbiBpcyBgU3RyaW5nYC4gRGVmYXVsdHMgdG8gdGhlIG51bWVyaWMgdmFsdWUuXG4gKiBAcGFyYW0gb3B0aW9ucy5ieXRlcyBUaGUgdHlwZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHJlcHJlc2VudCBgYnl0ZXNgXG4gKiAgICAgdmFsdWVzLiBWYWxpZCBvcHRpb25zIGFyZSBgQXJyYXlgIGFuZCBgU3RyaW5nYC4gVGhlIGRlZmF1bHQgaXMgdG8gdXNlXG4gKiAgICAgYEJ1ZmZlcmAuXG4gKiBAcGFyYW0gb3B0aW9ucy5kZWZhdWx0cyBTZXQgZGVmYXVsdCB2YWx1ZXMgb24gb3V0cHV0IG9iamVjdHMuIERlZmF1bHRzIHRvXG4gKiAgICAgYGZhbHNlYC5cbiAqIEBwYXJhbSBvcHRpb25zLmFycmF5cyBTZXQgZW1wdHkgYXJyYXlzIGZvciBtaXNzaW5nIGFycmF5IHZhbHVlcyBldmVuIGlmXG4gKiAgICAgYGRlZmF1bHRzYCBpcyBgZmFsc2VgLiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICogQHBhcmFtIG9wdGlvbnMub2JqZWN0cyBTZXQgZW1wdHkgb2JqZWN0cyBmb3IgbWlzc2luZyBvYmplY3QgdmFsdWVzIGV2ZW4gaWZcbiAqICAgICBgZGVmYXVsdHNgIGlzIGBmYWxzZWAuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKiBAcGFyYW0gb3B0aW9ucy5vbmVvZnMgU2V0IHZpcnR1YWwgb25lb2YgcHJvcGVydGllcyB0byB0aGUgcHJlc2VudCBmaWVsZCdzXG4gKiAgICAgbmFtZVxuICogQHBhcmFtIG9wdGlvbnMuanNvbiBSZXByZXNlbnQgSW5maW5pdHkgYW5kIE5hTiBhcyBzdHJpbmdzIGluIGZsb2F0IGZpZWxkcyxcbiAqICAgICBhbmQgYXV0b21hdGljYWxseSBkZWNvZGUgZ29vZ2xlLnByb3RvYnVmLkFueSB2YWx1ZXMuXG4gKiBAcGFyYW0gb3B0aW9ucy5pbmNsdWRlRGlycyBQYXRocyB0byBzZWFyY2ggZm9yIGltcG9ydGVkIGAucHJvdG9gIGZpbGVzLlxuICovXG5mdW5jdGlvbiBsb2FkKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuICgwLCB1dGlsXzEubG9hZFByb3Rvc1dpdGhPcHRpb25zKShmaWxlbmFtZSwgb3B0aW9ucykudGhlbihsb2FkZWRSb290ID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uKGxvYWRlZFJvb3QsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmZ1bmN0aW9uIGxvYWRTeW5jKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbG9hZGVkUm9vdCA9ICgwLCB1dGlsXzEubG9hZFByb3Rvc1dpdGhPcHRpb25zU3luYykoZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgIHJldHVybiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbihsb2FkZWRSb290LCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubG9hZFN5bmMgPSBsb2FkU3luYztcbmZ1bmN0aW9uIGZyb21KU09OKGpzb24sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBsb2FkZWRSb290ID0gUHJvdG9idWYuUm9vdC5mcm9tSlNPTihqc29uKTtcbiAgICBsb2FkZWRSb290LnJlc29sdmVBbGwoKTtcbiAgICByZXR1cm4gY3JlYXRlUGFja2FnZURlZmluaXRpb24obG9hZGVkUm9vdCwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmZyb21KU09OID0gZnJvbUpTT047XG5mdW5jdGlvbiBsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tQnVmZmVyKGRlc2NyaXB0b3JTZXQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWNvZGVkRGVzY3JpcHRvclNldCA9IGRlc2NyaXB0b3IuRmlsZURlc2NyaXB0b3JTZXQuZGVjb2RlKGRlc2NyaXB0b3JTZXQpO1xuICAgIHJldHVybiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbkZyb21EZXNjcmlwdG9yU2V0KGRlY29kZWREZXNjcmlwdG9yU2V0LCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbUJ1ZmZlciA9IGxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21CdWZmZXI7XG5mdW5jdGlvbiBsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tT2JqZWN0KGRlc2NyaXB0b3JTZXQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWNvZGVkRGVzY3JpcHRvclNldCA9IGRlc2NyaXB0b3IuRmlsZURlc2NyaXB0b3JTZXQuZnJvbU9iamVjdChkZXNjcmlwdG9yU2V0KTtcbiAgICByZXR1cm4gY3JlYXRlUGFja2FnZURlZmluaXRpb25Gcm9tRGVzY3JpcHRvclNldChkZWNvZGVkRGVzY3JpcHRvclNldCwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21PYmplY3QgPSBsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tT2JqZWN0O1xuKDAsIHV0aWxfMS5hZGRDb21tb25Qcm90b3MpKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/util.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/util.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n/**\n * @license\n * Copyright 2018 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.addCommonProtos = exports.loadProtosWithOptionsSync = exports.loadProtosWithOptions = void 0;\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst Protobuf = __webpack_require__(/*! protobufjs */ \"(rsc)/./node_modules/protobufjs/index.js\");\nfunction addIncludePathResolver(root, includePaths) {\n    const originalResolvePath = root.resolvePath;\n    root.resolvePath = (origin, target) => {\n        if (path.isAbsolute(target)) {\n            return target;\n        }\n        for (const directory of includePaths) {\n            const fullPath = path.join(directory, target);\n            try {\n                fs.accessSync(fullPath, fs.constants.R_OK);\n                return fullPath;\n            }\n            catch (err) {\n                continue;\n            }\n        }\n        process.emitWarning(`${target} not found in any of the include paths ${includePaths}`);\n        return originalResolvePath(origin, target);\n    };\n}\nasync function loadProtosWithOptions(filename, options) {\n    const root = new Protobuf.Root();\n    options = options || {};\n    if (!!options.includeDirs) {\n        if (!Array.isArray(options.includeDirs)) {\n            return Promise.reject(new Error('The includeDirs option must be an array'));\n        }\n        addIncludePathResolver(root, options.includeDirs);\n    }\n    const loadedRoot = await root.load(filename, options);\n    loadedRoot.resolveAll();\n    return loadedRoot;\n}\nexports.loadProtosWithOptions = loadProtosWithOptions;\nfunction loadProtosWithOptionsSync(filename, options) {\n    const root = new Protobuf.Root();\n    options = options || {};\n    if (!!options.includeDirs) {\n        if (!Array.isArray(options.includeDirs)) {\n            throw new Error('The includeDirs option must be an array');\n        }\n        addIncludePathResolver(root, options.includeDirs);\n    }\n    const loadedRoot = root.loadSync(filename, options);\n    loadedRoot.resolveAll();\n    return loadedRoot;\n}\nexports.loadProtosWithOptionsSync = loadProtosWithOptionsSync;\n/**\n * Load Google's well-known proto files that aren't exposed by Protobuf.js.\n */\nfunction addCommonProtos() {\n    // Protobuf.js exposes: any, duration, empty, field_mask, struct, timestamp,\n    // and wrappers. compiler/plugin is excluded in Protobuf.js and here.\n    // Using constant strings for compatibility with tools like Webpack\n    const apiDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/api.json */ \"(rsc)/./node_modules/protobufjs/google/protobuf/api.json\");\n    const descriptorDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/descriptor.json */ \"(rsc)/./node_modules/protobufjs/google/protobuf/descriptor.json\");\n    const sourceContextDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/source_context.json */ \"(rsc)/./node_modules/protobufjs/google/protobuf/source_context.json\");\n    const typeDescriptor = __webpack_require__(/*! protobufjs/google/protobuf/type.json */ \"(rsc)/./node_modules/protobufjs/google/protobuf/type.json\");\n    Protobuf.common('api', apiDescriptor.nested.google.nested.protobuf.nested);\n    Protobuf.common('descriptor', descriptorDescriptor.nested.google.nested.protobuf.nested);\n    Protobuf.common('source_context', sourceContextDescriptor.nested.google.nested.protobuf.nested);\n    Protobuf.common('type', typeDescriptor.nested.google.nested.protobuf.nested);\n}\nexports.addCommonProtos = addCommonProtos;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWdheC9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9ub2RlX21vZHVsZXMvQGdycGMvcHJvdG8tbG9hZGVyL2J1aWxkL3NyYy91dGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUIsR0FBRyxpQ0FBaUMsR0FBRyw2QkFBNkI7QUFDM0YsV0FBVyxtQkFBTyxDQUFDLGNBQUk7QUFDdkIsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLGlCQUFpQixtQkFBTyxDQUFDLDREQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVEsd0NBQXdDLGFBQWE7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUJBQU8sQ0FBQyxxR0FBcUM7QUFDdkUsaUNBQWlDLG1CQUFPLENBQUMsbUhBQTRDO0FBQ3JGLG9DQUFvQyxtQkFBTyxDQUFDLDJIQUFnRDtBQUM1RiwyQkFBMkIsbUJBQU8sQ0FBQyx1R0FBc0M7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYi8uL25vZGVfbW9kdWxlcy9nb29nbGUtZ2F4L25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL25vZGVfbW9kdWxlcy9AZ3JwYy9wcm90by1sb2FkZXIvYnVpbGQvc3JjL3V0aWwuanM/ZjM0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFkZENvbW1vblByb3RvcyA9IGV4cG9ydHMubG9hZFByb3Rvc1dpdGhPcHRpb25zU3luYyA9IGV4cG9ydHMubG9hZFByb3Rvc1dpdGhPcHRpb25zID0gdm9pZCAwO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBQcm90b2J1ZiA9IHJlcXVpcmUoXCJwcm90b2J1ZmpzXCIpO1xuZnVuY3Rpb24gYWRkSW5jbHVkZVBhdGhSZXNvbHZlcihyb290LCBpbmNsdWRlUGF0aHMpIHtcbiAgICBjb25zdCBvcmlnaW5hbFJlc29sdmVQYXRoID0gcm9vdC5yZXNvbHZlUGF0aDtcbiAgICByb290LnJlc29sdmVQYXRoID0gKG9yaWdpbiwgdGFyZ2V0KSA9PiB7XG4gICAgICAgIGlmIChwYXRoLmlzQWJzb2x1dGUodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGRpcmVjdG9yeSBvZiBpbmNsdWRlUGF0aHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aC5qb2luKGRpcmVjdG9yeSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZnMuYWNjZXNzU3luYyhmdWxsUGF0aCwgZnMuY29uc3RhbnRzLlJfT0spO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdWxsUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzLmVtaXRXYXJuaW5nKGAke3RhcmdldH0gbm90IGZvdW5kIGluIGFueSBvZiB0aGUgaW5jbHVkZSBwYXRocyAke2luY2x1ZGVQYXRoc31gKTtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVzb2x2ZVBhdGgob3JpZ2luLCB0YXJnZXQpO1xuICAgIH07XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkUHJvdG9zV2l0aE9wdGlvbnMoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByb290ID0gbmV3IFByb3RvYnVmLlJvb3QoKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoISFvcHRpb25zLmluY2x1ZGVEaXJzKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvcHRpb25zLmluY2x1ZGVEaXJzKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignVGhlIGluY2x1ZGVEaXJzIG9wdGlvbiBtdXN0IGJlIGFuIGFycmF5JykpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEluY2x1ZGVQYXRoUmVzb2x2ZXIocm9vdCwgb3B0aW9ucy5pbmNsdWRlRGlycyk7XG4gICAgfVxuICAgIGNvbnN0IGxvYWRlZFJvb3QgPSBhd2FpdCByb290LmxvYWQoZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgIGxvYWRlZFJvb3QucmVzb2x2ZUFsbCgpO1xuICAgIHJldHVybiBsb2FkZWRSb290O1xufVxuZXhwb3J0cy5sb2FkUHJvdG9zV2l0aE9wdGlvbnMgPSBsb2FkUHJvdG9zV2l0aE9wdGlvbnM7XG5mdW5jdGlvbiBsb2FkUHJvdG9zV2l0aE9wdGlvbnNTeW5jKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgcm9vdCA9IG5ldyBQcm90b2J1Zi5Sb290KCk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKCEhb3B0aW9ucy5pbmNsdWRlRGlycykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucy5pbmNsdWRlRGlycykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluY2x1ZGVEaXJzIG9wdGlvbiBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkSW5jbHVkZVBhdGhSZXNvbHZlcihyb290LCBvcHRpb25zLmluY2x1ZGVEaXJzKTtcbiAgICB9XG4gICAgY29uc3QgbG9hZGVkUm9vdCA9IHJvb3QubG9hZFN5bmMoZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgIGxvYWRlZFJvb3QucmVzb2x2ZUFsbCgpO1xuICAgIHJldHVybiBsb2FkZWRSb290O1xufVxuZXhwb3J0cy5sb2FkUHJvdG9zV2l0aE9wdGlvbnNTeW5jID0gbG9hZFByb3Rvc1dpdGhPcHRpb25zU3luYztcbi8qKlxuICogTG9hZCBHb29nbGUncyB3ZWxsLWtub3duIHByb3RvIGZpbGVzIHRoYXQgYXJlbid0IGV4cG9zZWQgYnkgUHJvdG9idWYuanMuXG4gKi9cbmZ1bmN0aW9uIGFkZENvbW1vblByb3RvcygpIHtcbiAgICAvLyBQcm90b2J1Zi5qcyBleHBvc2VzOiBhbnksIGR1cmF0aW9uLCBlbXB0eSwgZmllbGRfbWFzaywgc3RydWN0LCB0aW1lc3RhbXAsXG4gICAgLy8gYW5kIHdyYXBwZXJzLiBjb21waWxlci9wbHVnaW4gaXMgZXhjbHVkZWQgaW4gUHJvdG9idWYuanMgYW5kIGhlcmUuXG4gICAgLy8gVXNpbmcgY29uc3RhbnQgc3RyaW5ncyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRvb2xzIGxpa2UgV2VicGFja1xuICAgIGNvbnN0IGFwaURlc2NyaXB0b3IgPSByZXF1aXJlKCdwcm90b2J1ZmpzL2dvb2dsZS9wcm90b2J1Zi9hcGkuanNvbicpO1xuICAgIGNvbnN0IGRlc2NyaXB0b3JEZXNjcmlwdG9yID0gcmVxdWlyZSgncHJvdG9idWZqcy9nb29nbGUvcHJvdG9idWYvZGVzY3JpcHRvci5qc29uJyk7XG4gICAgY29uc3Qgc291cmNlQ29udGV4dERlc2NyaXB0b3IgPSByZXF1aXJlKCdwcm90b2J1ZmpzL2dvb2dsZS9wcm90b2J1Zi9zb3VyY2VfY29udGV4dC5qc29uJyk7XG4gICAgY29uc3QgdHlwZURlc2NyaXB0b3IgPSByZXF1aXJlKCdwcm90b2J1ZmpzL2dvb2dsZS9wcm90b2J1Zi90eXBlLmpzb24nKTtcbiAgICBQcm90b2J1Zi5jb21tb24oJ2FwaScsIGFwaURlc2NyaXB0b3IubmVzdGVkLmdvb2dsZS5uZXN0ZWQucHJvdG9idWYubmVzdGVkKTtcbiAgICBQcm90b2J1Zi5jb21tb24oJ2Rlc2NyaXB0b3InLCBkZXNjcmlwdG9yRGVzY3JpcHRvci5uZXN0ZWQuZ29vZ2xlLm5lc3RlZC5wcm90b2J1Zi5uZXN0ZWQpO1xuICAgIFByb3RvYnVmLmNvbW1vbignc291cmNlX2NvbnRleHQnLCBzb3VyY2VDb250ZXh0RGVzY3JpcHRvci5uZXN0ZWQuZ29vZ2xlLm5lc3RlZC5wcm90b2J1Zi5uZXN0ZWQpO1xuICAgIFByb3RvYnVmLmNvbW1vbigndHlwZScsIHR5cGVEZXNjcmlwdG9yLm5lc3RlZC5nb29nbGUubmVzdGVkLnByb3RvYnVmLm5lc3RlZCk7XG59XG5leHBvcnRzLmFkZENvbW1vblByb3RvcyA9IGFkZENvbW1vblByb3Rvcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/node_modules/@grpc/proto-loader/build/src/util.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/protos/iam_service.json":
/*!***************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/iam_service.json ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"iam":{"nested":{"v1":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.Cloud.Iam.V1","go_package":"google.golang.org/genproto/googleapis/iam/v1;iam","java_multiple_files":true,"java_outer_classname":"PolicyProto","java_package":"com.google.iam.v1","php_namespace":"Google\\\\Cloud\\\\Iam\\\\V1"},"nested":{"IAMPolicy":{"options":{"(google.api.default_host)":"iam-meta-api.googleapis.com"},"methods":{"SetIamPolicy":{"requestType":"SetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:setIamPolicy","body":"*"}}]},"GetIamPolicy":{"requestType":"GetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:getIamPolicy","body":"*"}}]},"TestIamPermissions":{"requestType":"TestIamPermissionsRequest","responseType":"TestIamPermissionsResponse","options":{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:testIamPermissions","body":"*"}}]}}},"SetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"policy":{"type":"Policy","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"options":{"type":"GetPolicyOptions","id":2}}},"TestIamPermissionsRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"permissions":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"TestIamPermissionsResponse":{"fields":{"permissions":{"rule":"repeated","type":"string","id":1}}},"GetPolicyOptions":{"fields":{"requestedPolicyVersion":{"type":"int32","id":1}}},"Policy":{"fields":{"version":{"type":"int32","id":1},"bindings":{"rule":"repeated","type":"Binding","id":4},"etag":{"type":"bytes","id":3}}},"Binding":{"fields":{"role":{"type":"string","id":1},"members":{"rule":"repeated","type":"string","id":2},"condition":{"type":"google.type.Expr","id":3}}},"PolicyDelta":{"fields":{"bindingDeltas":{"rule":"repeated","type":"BindingDelta","id":1},"auditConfigDeltas":{"rule":"repeated","type":"AuditConfigDelta","id":2}}},"BindingDelta":{"fields":{"action":{"type":"Action","id":1},"role":{"type":"string","id":2},"member":{"type":"string","id":3},"condition":{"type":"google.type.Expr","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"AuditConfigDelta":{"fields":{"action":{"type":"Action","id":1},"service":{"type":"string","id":2},"exemptedMember":{"type":"string","id":3},"logType":{"type":"string","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"logging":{"options":{"csharp_namespace":"Google.Cloud.Iam.V1.Logging","go_package":"google.golang.org/genproto/googleapis/iam/v1/logging;logging","java_multiple_files":true,"java_outer_classname":"AuditDataProto","java_package":"com.google.iam.v1.logging"},"nested":{"AuditData":{"fields":{"policyDelta":{"type":"google.iam.v1.PolicyDelta","id":2}}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/expr;expr","java_multiple_files":true,"java_outer_classname":"ExprProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"Expr":{"fields":{"expression":{"type":"string","id":1},"title":{"type":"string","id":2},"description":{"type":"string","id":3},"location":{"type":"string","id":4}}}}}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/protos/locations.json":
/*!*************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/locations.json ***!
  \*************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"cloud":{"nested":{"location":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/cloud/location;location","java_multiple_files":true,"java_outer_classname":"LocationsProto","java_package":"com.google.cloud.location"},"nested":{"Locations":{"options":{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},"methods":{"ListLocations":{"requestType":"ListLocationsRequest","responseType":"ListLocationsResponse","options":{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations}","additional_bindings":{"get":"/v1/{name=projects/*}/locations"}}}]},"GetLocation":{"requestType":"GetLocationRequest","responseType":"Location","options":{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations/*}","additional_bindings":{"get":"/v1/{name=projects/*/locations/*}"}}}]}}},"ListLocationsRequest":{"fields":{"name":{"type":"string","id":1},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListLocationsResponse":{"fields":{"locations":{"rule":"repeated","type":"Location","id":1},"nextPageToken":{"type":"string","id":2}}},"GetLocationRequest":{"fields":{"name":{"type":"string","id":1}}},"Location":{"fields":{"name":{"type":"string","id":1},"locationId":{"type":"string","id":4},"displayName":{"type":"string","id":5},"labels":{"keyType":"string","type":"string","id":2},"metadata":{"type":"google.protobuf.Any","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}}}}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/protos/operations.json":
/*!**************************************************************!*\
  !*** ./node_modules/google-gax/build/protos/operations.json ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/protos/status.json":
/*!**********************************************************!*\
  !*** ./node_modules/google-gax/build/protos/status.json ***!
  \**********************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails","java_multiple_files":true,"java_outer_classname":"ErrorDetailsProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}},"RetryInfo":{"fields":{"retryDelay":{"type":"google.protobuf.Duration","id":1}}},"DebugInfo":{"fields":{"stackEntries":{"rule":"repeated","type":"string","id":1},"detail":{"type":"string","id":2}}},"QuotaFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"subject":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"ErrorInfo":{"fields":{"reason":{"type":"string","id":1},"domain":{"type":"string","id":2},"metadata":{"keyType":"string","type":"string","id":3}}},"PreconditionFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"type":{"type":"string","id":1},"subject":{"type":"string","id":2},"description":{"type":"string","id":3}}}}},"BadRequest":{"fields":{"fieldViolations":{"rule":"repeated","type":"FieldViolation","id":1}},"nested":{"FieldViolation":{"fields":{"field":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"RequestInfo":{"fields":{"requestId":{"type":"string","id":1},"servingData":{"type":"string","id":2}}},"ResourceInfo":{"fields":{"resourceType":{"type":"string","id":1},"resourceName":{"type":"string","id":2},"owner":{"type":"string","id":3},"description":{"type":"string","id":4}}},"Help":{"fields":{"links":{"rule":"repeated","type":"Link","id":1}},"nested":{"Link":{"fields":{"description":{"type":"string","id":1},"url":{"type":"string","id":2}}}}},"LocalizedMessage":{"fields":{"locale":{"type":"string","id":1},"message":{"type":"string","id":2}}}}}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/iam_policy_service_client_config.json":
/*!*********************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/iam_policy_service_client_config.json ***!
  \*********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"interfaces":{"google.iam.v1.IAMPolicy":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":20000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":20000,"total_timeout_millis":600000}},"methods":{"GetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"SetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"TestIamPermissions":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/locations_client_config.json":
/*!************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/locations_client_config.json ***!
  \************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"interfaces":{"google.cloud.location.Locations":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"ListLocations":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"GetLocation":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/operations_client_config.json":
/*!*************************************************************************!*\
  !*** ./node_modules/google-gax/build/src/operations_client_config.json ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"interfaces":{"google.longrunning.Operations":{"retry_codes":{"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"non_idempotent":[]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":90000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":90000,"total_timeout_millis":600000}},"methods":{"GetOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListOperations":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"CancelOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"DeleteOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"}}}}}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/build/src/protosList.json":
/*!***********************************************************!*\
  !*** ./node_modules/google-gax/build/src/protosList.json ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('["google/api/annotations.proto","google/api/apikeys/v2/apikeys.proto","google/api/apikeys/v2/resources.proto","google/api/auth.proto","google/api/backend.proto","google/api/billing.proto","google/api/client.proto","google/api/cloudquotas/v1/cloudquotas.proto","google/api/cloudquotas/v1/resources.proto","google/api/config_change.proto","google/api/consumer.proto","google/api/context.proto","google/api/control.proto","google/api/distribution.proto","google/api/documentation.proto","google/api/endpoint.proto","google/api/error_reason.proto","google/api/expr/conformance/v1alpha1/conformance_service.proto","google/api/expr/v1alpha1/checked.proto","google/api/expr/v1alpha1/eval.proto","google/api/expr/v1alpha1/explain.proto","google/api/expr/v1alpha1/syntax.proto","google/api/expr/v1alpha1/value.proto","google/api/expr/v1beta1/decl.proto","google/api/expr/v1beta1/eval.proto","google/api/expr/v1beta1/expr.proto","google/api/expr/v1beta1/source.proto","google/api/expr/v1beta1/value.proto","google/api/field_behavior.proto","google/api/field_info.proto","google/api/http.proto","google/api/httpbody.proto","google/api/label.proto","google/api/launch_stage.proto","google/api/log.proto","google/api/logging.proto","google/api/metric.proto","google/api/monitored_resource.proto","google/api/monitoring.proto","google/api/policy.proto","google/api/quota.proto","google/api/resource.proto","google/api/routing.proto","google/api/service.proto","google/api/servicecontrol/v1/check_error.proto","google/api/servicecontrol/v1/distribution.proto","google/api/servicecontrol/v1/http_request.proto","google/api/servicecontrol/v1/log_entry.proto","google/api/servicecontrol/v1/metric_value.proto","google/api/servicecontrol/v1/operation.proto","google/api/servicecontrol/v1/quota_controller.proto","google/api/servicecontrol/v1/service_controller.proto","google/api/servicecontrol/v2/service_controller.proto","google/api/servicemanagement/v1/resources.proto","google/api/servicemanagement/v1/servicemanager.proto","google/api/serviceusage/v1/resources.proto","google/api/serviceusage/v1/serviceusage.proto","google/api/serviceusage/v1beta1/resources.proto","google/api/serviceusage/v1beta1/serviceusage.proto","google/api/source_info.proto","google/api/system_parameter.proto","google/api/usage.proto","google/api/visibility.proto","google/cloud/location/locations.proto","google/iam/v1/iam_policy.proto","google/iam/v1/logging/audit_data.proto","google/iam/v1/options.proto","google/iam/v1/policy.proto","google/logging/type/http_request.proto","google/logging/type/log_severity.proto","google/longrunning/operations.proto","google/monitoring/v3/alert.proto","google/monitoring/v3/alert_service.proto","google/monitoring/v3/common.proto","google/monitoring/v3/dropped_labels.proto","google/monitoring/v3/group.proto","google/monitoring/v3/group_service.proto","google/monitoring/v3/metric.proto","google/monitoring/v3/metric_service.proto","google/monitoring/v3/mutation_record.proto","google/monitoring/v3/notification.proto","google/monitoring/v3/notification_service.proto","google/monitoring/v3/query_service.proto","google/monitoring/v3/service.proto","google/monitoring/v3/service_service.proto","google/monitoring/v3/snooze.proto","google/monitoring/v3/snooze_service.proto","google/monitoring/v3/span_context.proto","google/monitoring/v3/uptime.proto","google/monitoring/v3/uptime_service.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/bridge/message_set.proto","google/protobuf/compiler/plugin.proto","google/protobuf/compiler/ruby/ruby_generated_code.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2_import.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit_legacy.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_implicit.proto","google/protobuf/cpp_features.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/util/json_format.proto","google/protobuf/util/json_format_proto3.proto","google/protobuf/wrappers.proto","google/rpc/code.proto","google/rpc/context/attribute_context.proto","google/rpc/context/audit_context.proto","google/rpc/error_details.proto","google/rpc/http.proto","google/rpc/status.proto","google/type/calendar_period.proto","google/type/color.proto","google/type/date.proto","google/type/datetime.proto","google/type/dayofweek.proto","google/type/decimal.proto","google/type/expr.proto","google/type/fraction.proto","google/type/interval.proto","google/type/latlng.proto","google/type/localized_text.proto","google/type/money.proto","google/type/month.proto","google/type/phone_number.proto","google/type/postal_address.proto","google/type/quaternion.proto","google/type/timeofday.proto"]');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json":
/*!*************************************************************************!*\
  !*** ./node_modules/google-gax/node_modules/@grpc/grpc-js/package.json ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"@grpc/grpc-js","version":"1.14.0","description":"gRPC Library for Node - pure JS implementation","homepage":"https://grpc.io/","repository":"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js","main":"build/src/index.js","engines":{"node":">=12.10.0"},"keywords":[],"author":{"name":"Google Inc."},"types":"build/src/index.d.ts","license":"Apache-2.0","devDependencies":{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0","eslint":"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1","execa":"^2.0.3","gulp":"^4.0.2","gulp-mocha":"^6.0.0","lodash":"^4.17.21","madge":"^5.0.1","mocha-jenkins-reporter":"^0.4.1","ncp":"^2.0.0","pify":"^4.0.1","prettier":"^2.8.8","rimraf":"^3.0.2","semver":"^7.6.0","ts-node":"^10.9.2","typescript":"^5.3.3"},"contributors":[{"name":"Google Inc."}],"scripts":{"build":"npm run compile","clean":"rimraf ./build","compile":"tsc -p .","format":"clang-format -i -style=\\"{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}\\" src/*.ts test/*.ts","lint":"eslint src/*.ts test/*.ts","prepare":"npm run copy-protos && npm run generate-types && npm run generate-test-types && npm run compile","test":"gulp test","check":"npm run lint","fix":"eslint --fix src/*.ts test/*.ts","pretest":"npm run generate-types && npm run generate-test-types && npm run compile","posttest":"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs proto/ proto/xds/ proto/protoc-gen-validate/ -O src/generated/ --grpcLib ../index channelz.proto xds/service/orca/v3/orca.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto echo_service.proto","copy-protos":"node ./copy-protos"},"dependencies":{"@grpc/proto-loader":"^0.8.0","@js-sdsl/ordered-map":"^4.4.2"},"files":["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/**/*.proto","proto/**/LICENSE","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}');

/***/ }),

/***/ "(rsc)/./node_modules/google-gax/package.json":
/*!**********************************************!*\
  !*** ./node_modules/google-gax/package.json ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"google-gax","version":"4.6.1","description":"Google API Extensions","main":"build/src/index.js","types":"build/src/index.d.ts","files":["build/src","build/protos/","!build/src/**/*.map"],"dependencies":{"@grpc/grpc-js":"^1.10.9","@grpc/proto-loader":"^0.7.13","@types/long":"^4.0.0","abort-controller":"^3.0.0","duplexify":"^4.0.0","google-auth-library":"^9.3.0","node-fetch":"^2.7.0","object-hash":"^3.0.0","proto3-json-serializer":"^2.0.2","retry-request":"^7.0.0","uuid":"^9.0.1","protobufjs":"^7.3.2"},"devDependencies":{"@types/uuid":"^9.0.7","@babel/plugin-proposal-private-methods":"^7.18.6","@types/mocha":"^9.0.0","@types/ncp":"^2.0.1","@types/node":"^20.5.0","@types/node-fetch":"^2.6.11","@types/object-hash":"^3.0.0","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/sinon":"^17.0.0","@types/uglify-js":"^3.17.0","c8":"^9.0.0","cheerio":"1.0.0-rc.12","codecov":"^3.1.0","execa":"^5.0.0","glob":"10.4.5","google-proto-files":"^4.2.0","gts":"^5.0.0","jackspeak":"3.4.3","jsdoc":"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0","linkinator":"^4.0.0","lru-cache":"10.4.3","long":"^4.0.0","mkdirp":"^2.0.0","mocha":"^9.0.0","ncp":"^2.0.0","null-loader":"^4.0.0","pdfmake":"0.2.12","protobufjs-cli":"1.1.3","proxyquire":"^2.0.1","pumpify":"^2.0.0","sinon":"^18.0.0","stream-events":"^1.0.4","ts-loader":"^8.0.0","typescript":"^5.1.6","uglify-js":"^3.17.0","walkdir":"^0.4.0","webpack":"^4.0.0","webpack-cli":"^4.0.0"},"scripts":{"docs":"jsdoc -c .jsdoc.js","pretest":"npm run prepare","test":"c8 mocha build/test/unit","lint":"gts check src samples test","clean":"gts clean","compile":"tsc -p . && cp src/*.json build/src && cp -r test/fixtures build/test && cp -r protos build/","compile-operation-protos":"pbjs -t json google/longrunning/operations.proto -p ./protos > protos/operations.json && pbjs -t static-module -r operations_protos google/longrunning/operations.proto -p ./protos > protos/operations.js && pbts protos/operations.js -o protos/operations.d.ts","compile-compute-operations-protos":"pbjs -t json google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.json && pbjs -t static-module -r compute_operations_protos google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.js && pbts protos/compute_operations.js -o protos/compute_operations.d.ts","compile-iam-protos":"pbjs -t json google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.json && pbjs -t static-module -r iam_protos google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.js && pbts protos/iam_service.js -o protos/iam_service.d.ts","compile-location-protos":"pbjs -t json google/cloud/location/locations.proto -p ./protos > protos/locations.json && pbjs -t static-module -r locations_protos google/cloud/location/locations.proto -p ./protos > protos/locations.js && pbts protos/locations.js -o protos/locations.d.ts","compile-status-protos":"pbjs -t json google/rpc/status.proto google/rpc/error_details.proto -p ./protos > protos/status.json","compile-http-protos":"pbjs -t static-module -r http_proto --keep-case google/api/http.proto -p ./protos > protos/http.js && pbts protos/http.js -o protos/http.d.ts","fix":"gts fix","prepare":"npm run compile && cd ../tools && npm i && npm run compile && cd ../gax && pwd && node ../tools/build/src/prepublish.js . && mkdirp build/protos && cp -r protos/* build/protos/ && npm run minify-proto-json","system-test":"c8 mocha build/test/system-test --timeout 600000 && npm run test-application","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","docs-test":"linkinator docs","predocs-test":"npm run docs","browser-test":"cd test/browser-test && npm run prefetch && npm install && npm test","test-application":"cd test/test-application && npm run prefetch && npm install && npm start","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean","update-protos":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/listProtos.js .","minify-proto-json":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/minify.js"},"keywords":["grpc"],"repository":{"type":"git","url":"https://github.com/googleapis/gax-nodejs.git","directory":"gax"},"author":"Google API Authors","license":"Apache-2.0","bugs":{"url":"https://github.com/googleapis/gax-nodejs/issues"},"homepage":"https://github.com/googleapis/gax-nodejs#readme","engines":{"node":">=14"},"browser":"build/src/fallback.js"}');

/***/ })

};
;