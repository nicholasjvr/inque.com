(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{6400:function(e,t,r){Promise.resolve().then(r.bind(r,8451))},8451:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),a=r(2265);async function o(e){return{id:"mock-id",resumableUrl:"mock-url",objectPath:"mock-path"}}async function n(e){return{ok:!0}}async function l(e){let{file:t,resumableUrl:r}=e,s=await fetch(r,{method:"POST",headers:{"x-goog-resumable":"start","Content-Type":t.type}});if(!s.ok)throw Error("Failed to start resumable session");let a=s.headers.get("location");if(!a)throw Error("Missing resumable session URL");let o=0;for(;o<t.size;){let e=Math.min(o+8388608,t.size),r=t.slice(o,e),s=await fetch(a,{method:"PUT",headers:{"Content-Type":t.type,"Content-Range":"bytes ".concat(o,"-").concat(e-1,"/").concat(t.size)},body:r});if(!(308===s.status||s.ok))throw Error("Chunk upload failed at offset ".concat(o));o=e}}function i(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)([]),[i,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1);async function m(){var t,s;let a=null===(s=e.current)||void 0===s?void 0:null===(t=s.files)||void 0===t?void 0:t[0];if(!a){alert("Please select a file");return}c(!0),r(e=>[...e,"Selected: ".concat(a.name," (").concat((a.size/1024/1024).toFixed(2)," MB)")]);try{let{id:e,resumableUrl:t}=await o({name:a.name,size:a.size,mime:a.type||"application/octet-stream"});r(e=>[...e,"Got resumable URL. Uploading…"]),await l({file:a,resumableUrl:t}),r(e=>[...e,"Upload finished. Notifying server…"]),await n(e),r(t=>[...t,"✅ Done! File id=".concat(e)])}catch(e){r(t=>[...t,"❌ Error: ".concat(e instanceof Error?e.message:"Upload failed")])}finally{c(!1)}}let h=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Upload Widget"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Share your creative projects with the community"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-12 text-center transition-colors ".concat(d?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-gray-400"),onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:t=>{t.preventDefault(),t.stopPropagation(),u(!1),t.dataTransfer.files&&t.dataTransfer.files[0]&&e.current&&(e.current.files=t.dataTransfer.files)},children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC1"}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Drop files here or click to browse"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Supports HTML, CSS, JS, and image files up to 100MB"}),(0,s.jsx)("input",{type:"file",ref:e,className:"hidden",accept:".html,.css,.js,.png,.jpg,.jpeg,.gif,.svg"}),(0,s.jsx)("button",{onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.click()},className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"Choose Files"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{onClick:m,disabled:i,className:"px-8 py-3 rounded-lg font-semibold transition-colors ".concat(i?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"," text-white"),children:i?"Uploading...":"Upload Widget"})}),t.length>0&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload Progress"}),(0,s.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm max-h-64 overflow-y-auto",children:t.map((e,t)=>(0,s.jsx)("div",{className:"mb-1",children:e},t))})]})]}),(0,s.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"\uD83D\uDCA1 Upload Tips"}),(0,s.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,s.jsx)("li",{children:"• Include a README.md file to describe your widget"}),(0,s.jsx)("li",{children:"• Use semantic HTML and clean CSS for better accessibility"}),(0,s.jsx)("li",{children:"• Add comments to your code to help other developers"}),(0,s.jsx)("li",{children:"• Test your widget in different browsers before uploading"})]})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6400)}),_N_E=e.O()}]);