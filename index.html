<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://www.google.com/recaptcha/enterprise.js?render=6Ldt0YYrAAAAAKyNgAPO8Te96_m5innDHsSkppQc"></script>
  </head>
  <body>
<!-- Sidebar and overlay -->
<div class="sidebar-overlay"></div>
<nav class="sidebar-nav">
  <div class="sidebar-user-info">
    <div class="sidebar-avatar"></div>
    <div class="sidebar-user-details">
      <span class="sidebar-user-name">Guest</span>
      <span class="sidebar-user-email" style="display: none;">guest@example.com</span>
      <span class="sidebar-user-status"><span class="status-dot guest"></span> Not logged in</span>
    </div>
    <button id="sidebarLoginBtn" class="sidebar-auth-btn">Login</button>
    <span id="sidebarUserActions" style="display:none;">
      <button id="sidebarEditProfileBtn" class="sidebar-auth-btn">Edit Profile</button>
      <button id="sidebarLogoutBtn" class="sidebar-auth-btn">Logout</button>
    </span>
  </div>
  
  <!-- Profile Stats Section -->
  <div class="sidebar-stats" style="display: none;">
    <div class="sidebar-stat-item">
      <span class="stat-label">Level</span>
      <span class="stat-value" id="sidebarLvl">?</span>
    </div>
    <div class="sidebar-stat-item">
      <span class="stat-label">Type</span>
      <span class="stat-value" id="sidebarType">?</span>
    </div>
    <div class="sidebar-stat-item">
      <span class="stat-label">Role</span>
      <span class="stat-value" id="sidebarRole">GUEST</span>
    </div>
  </div>

  <!-- Quick Actions Section -->
  <div class="sidebar-quick-actions">
    <h4 class="sidebar-section-title">Quick Actions</h4>
    <button class="quick-action-btn" data-action="newWidget">
      <span class="quick-action-icon">+</span>
      <span class="quick-action-text">Add Project to Showcase</span>
    </button>
    <button class="quick-action-btn" data-action="shareProfile">
      <span class="quick-action-icon">üì§</span>
      <span class="quick-action-text">Share Profile</span>
    </button>
    <button class="quick-action-btn" data-action="settings">
      <span class="quick-action-icon">‚öôÔ∏è</span>
      <span class="quick-action-text">Settings</span>
    </button>
    <button class="quick-action-btn" data-action="testNotifications">
      <span class="quick-action-icon">üß™</span>
      <span class="quick-action-text">Test Notifications</span>
    </button>
  </div>

  <!-- Notifications Section -->
  <div class="sidebar-notifications">
    <h4 class="sidebar-section-title">
      Notifications
      <span class="notification-badge" id="notificationCount" style="display: none;">0</span>
      <button id="markAllReadBtn" class="mark-all-read-btn" style="display: none;" title="Mark all as read">‚úì</button>
    </h4>
    <div class="notification-list" id="notificationList">
      <div class="notification-item empty-notification">
        <span class="notification-text">No new notifications</span>
      </div>
    </div>
  </div>

  <button class="sidebar-close-btn" aria-label="Close sidebar">&times;</button>
  <a href="assets/users/users.html" class="sidebar-nav-btn">List Users</a>
  <button class="sidebar-nav-btn" data-action="leaveNote">Leave a Note</button>
  <button class="sidebar-nav-btn" data-action="explore">Explore Creations</button>
  <button class="sidebar-nav-btn" data-action="tutorial">My Inventory</button>
</nav>
<header class="site-header">
  <button class="hamburger-menu" aria-label="Open sidebar">&#9776;</button>
  <div id="profile-banner">
    <!-- Profile Avatar Section -->
    <div class="profile-avatar-section">
      <div class="profile-pic-container">
        <div class="profile-status-indicator" id="profileStatusIndicator"></div>
      </div>
      <div class="profile-quick-actions">
        <button class="profile-action-btn" id="editProfileQuickBtn" title="Edit Profile" aria-label="Edit Profile">
          <span class="action-icon">‚úèÔ∏è</span>
        </button>
        <button class="profile-action-btn" id="tutorialBtn" title="Help & Tutorial" aria-label="Help & Tutorial">
          <span class="action-icon">‚ÑπÔ∏è</span>
        </button>
      </div>
    </div>

    <!-- Profile Info Section -->
    <div class="profile-info-section">
      <div class="profile-header">
        <h3 class="profile-name" id="profileName">Welcome</h3>
        <div class="profile-status" id="profileStatus">
          <span class="status-badge guest">Guest</span>
        </div>
      </div>
      
      <p class="profile-bio" id="profileBio">Explore the world of inque</p>
      
      <!-- Profile Stats Row -->
      <div class="profile-stats-row">
        <div class="stat-item">
          <span class="stat-label">Level</span>
          <span class="stat-value" id="profileLvl">?</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Type</span>
          <span class="stat-value" id="profileType">?</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Role</span>
          <span class="stat-value" id="profileRole">GUEST</span>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="profile-navigation">
        <button class="nav-btn primary" data-page="about" title="Learn about inque">
          <span class="nav-icon">üìö</span>
          <span class="nav-text">The Lore</span>
        </button>
        <button class="nav-btn secondary" data-page="explore" title="Explore creations">
          <span class="nav-icon">üîç</span>
          <span class="nav-text">Explore</span>
        </button>
        <button class="nav-btn secondary" data-page="inventory" title="View your items">
          <span class="nav-icon">üéí</span>
          <span class="nav-text">Inventory</span>
        </button>
        <button class="nav-btn secondary" data-page="inventory" title="View your items">
          <span class="nav-icon">üéí</span>
          <span class="nav-text">Blog</span>
        </button>
      </div>
    </div>

    <!-- Collapse/Expand Button -->
    <button id="collapseProfileBtn" class="collapse-profile-btn" aria-label="Toggle profile details">
      <span class="collapse-icon">‚ñº</span>
    </button>
  </div>
</header>

  <main>
      <section class="timeline-nav">
        <div class="timeline-3channel">
            <div class="timeline-row top">
              <!--TO DO: MOVE OPPOSITE DIRECTIONS THAN BOTTOM CHANNE timeline-row bottom-->
              <div class="timeline-event" data-id="1"></div>
              <div class="timeline-event" data-id="3"></div>
              <div class="timeline-event" data-id="5"></div>
              <div class="timeline-event" data-id="5"></div>
              <div class="timeline-event" data-id="5"></div>
            </div>
            <!---Seperator-------------------------------------------------->
            <!--TO DO: ADD SLIDER FORM MOVEMENT-->
            <div class="timeline-row middle">
              <div class="timeline-track"></div>
              <div class="timeline-scrollbar">
                <div class="timeline-scrollbar-handle">
                  <span class="tooltip-text"
                    >Double-click to lock/unlock scroll</span
                  >
                </div>
              </div>
            </div>
            <!---Seperator-------------------------------------------------->
            <!--TO DO: MOVE OPPOSITE DIRECTIONS THAN TOP CHANNEL timeline-row top-->
            <div class="timeline-row bottom">
              <div class="timeline-event" data-id="2"></div>
              <div class="timeline-event" data-id="4"></div>
              <div class="timeline-event" data-id="4"></div>
              <div class="timeline-event" data-id="5"></div>
              <div class="timeline-event" data-id="5"></div>
            </div>
          </div>
        </section>
      </main>
      <footer>
        <p style="color: #aaa; font-size: 0.8rem;">&copy; 2025 inque by nicholas. All rights reserved.</p>
      </footer>

      <script type="module" src="script.js"></script>
      <script src="scripts/script.js"></script>
      <script type="module" src="scripts/canvas.js"></script>
      <script type="module" src="scripts/auth.js"></script>
      <div class="light-cursor"></div>

      <!-- Widget Preview Modal -->
      <div id="widgetModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title">Widget Preview</h2>
            <span class="close-button">&times;</span>
          </div>
          <div class="modal-body">
            <iframe id="widgetFrame" src="" frameborder="0"></iframe>
          </div>
        </div>
      </div>

      <!-- Notification Modal -->
      <div id="notificationModal" class="notification-modal">
        <div class="notification-content">
          <p id="notificationMessage">This is a notification!</p>
          <button class="notification-close-btn">&times;</button>
        </div>
      </div>

      <!-- Collaborative Canvas Modal -->
      <div id="canvasModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title">Collaborative Canvas</h2>
            <span class="close-button canvas-close-button">&times;</span>
          </div>
          <div class="modal-body">
            <canvas id="collabCanvas"></canvas>
            <span class="canvas-tooltip-text"></span>
          </div>
        </div>
      </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
      <div class="modal-content auth-modal-content">
        <div class="modal-header">
          <h2 id="authModalTitle" class="modal-title">Welcome to inque</h2>
          <span class="close-button auth-close-button">&times;</span>
        </div>
        <div class="modal-body">
          <!-- Login Form -->
          <form id="loginForm" class="auth-form">
            <div class="form-group">
              <label for="loginEmail">Email Address</label>
              <input type="email" id="loginEmail" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
              <label for="loginPassword">Password</label>
              <input type="password" id="loginPassword" placeholder="Enter your password" required>
            </div>
            <div class="form-options">
              <label class="checkbox-label">
                <input type="checkbox" id="rememberMe">
                <span class="checkmark"></span>
                Remember me
              </label>
              <a href="#" class="forgot-password">Forgot password?</a>
            </div>
            <button type="submit" class="auth-submit-btn">Sign In</button>
            
            <div class="social-login">
              <div class="divider">
                <span>or continue with</span>
              </div>
              <div class="social-buttons">
                <button type="button" class="social-btn google-btn" id="googleLoginBtn">
                  <span class="social-icon">üîç</span>
                  Google
                </button>
                <button type="button" class="social-btn github-btn" id="githubLoginBtn">
                  <span class="social-icon">üêô</span>
                  GitHub
                </button>
              </div>
            </div>
            
            <p class="auth-switch">
              Don't have an account? <a href="#" id="showSignUp">Create one</a>
            </p>
          </form>

          <!-- Sign Up Form -->
          <form id="signUpForm" class="auth-form" style="display: none;">
            <div class="form-group">
              <label for="signUpEmail">Email Address</label>
              <input type="email" id="signUpEmail" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
              <label for="signUpPassword">Password</label>
              <input type="password" id="signUpPassword" placeholder="Create a password" required>
              <div class="password-strength" id="passwordStrength"></div>
            </div>
            <div class="form-group">
              <label for="confirmPassword">Confirm Password</label>
              <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
            </div>
            <div class="form-options">
              <label class="checkbox-label">
                <input type="checkbox" id="agreeTerms" required>
                <span class="checkmark"></span>
                I agree to the <a href="#" class="terms-link">Terms of Service</a> and <a href="#" class="terms-link">Privacy Policy</a>
              </label>
            </div>
            <button type="submit" class="auth-submit-btn">Create Account</button>
            
            <div class="social-login">
              <div class="divider">
                <span>or sign up with</span>
              </div>
              <div class="social-buttons">
                <button type="button" class="social-btn google-btn" id="googleSignUpBtn">
                  <span class="social-icon">üîç</span>
                  Google
                </button>
                <button type="button" class="social-btn github-btn" id="githubSignUpBtn">
                  <span class="social-icon">üêô</span>
                  GitHub
                </button>
              </div>
            </div>
            
            <p class="auth-switch">
              Already have an account? <a href="#" id="showLogin">Sign in</a>
            </p>
          </form>
        </div>
      </div>
    </div>

  </body>
</html>

<div id="error-toast" class="error-toast">
  <span id="error-toast-message"></span>
  <button id="error-toast-close">&times;</button>
</div>

<!-- Floating button to expand header if collapsed -->
<script>
  // Sidebar open/close logic
  const sidebar = document.querySelector('.sidebar-nav');
  const overlay = document.querySelector('.sidebar-overlay');
  const openBtn = document.querySelector('.hamburger-menu');
  const closeBtn = document.querySelector('.sidebar-close-btn');
  function openSidebar() {
    sidebar.classList.add('open');
    overlay.classList.add('show');
    document.body.style.overflow = 'hidden';
  }
  function closeSidebar() {
    sidebar.classList.remove('open');
    overlay.classList.remove('show');
    document.body.style.overflow = '';
  }
  openBtn.addEventListener('click', openSidebar);
  closeBtn.addEventListener('click', closeSidebar);
  overlay.addEventListener('click', closeSidebar);
  // Swipe gesture for mobile
  let startX = null;
  document.addEventListener('touchstart', function(e) {
    if (e.touches[0].clientX < 30 && !sidebar.classList.contains('open')) {
      startX = e.touches[0].clientX;
    } else if (sidebar.classList.contains('open')) {
      startX = e.touches[0].clientX;
    } else {
      startX = null;
    }
  });
  document.addEventListener('touchmove', function(e) {
    if (startX !== null) {
      let dx = e.touches[0].clientX - startX;
      if (!sidebar.classList.contains('open') && dx > 60) {
        openSidebar();
        startX = null;
      } else if (sidebar.classList.contains('open') && dx < -60) {
        closeSidebar();
        startX = null;
      }
    }
  });
  document.addEventListener('touchend', function() { startX = null; });
</script>

<script>
  // Profile navigation buttons
  const profileNavBtns = document.querySelectorAll('.nav-btn');
  profileNavBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const page = btn.getAttribute('data-page');
      console.log(`Navigating to: ${page}`);
      
      switch(page) {
        case 'about':
          // Navigate to about page
          window.location.href = '/about.html';
          break;
        case 'explore':
          // Navigate to explore page
          window.location.href = '/explore.html';
          break;
        case 'inventory':
          // Navigate to inventory page
          window.location.href = '/inventory.html';
          break;
        default:
          console.log('Unknown page:', page);
      }
    });
  });
</script>

<script>
  // Tutorial button functionality
  const tutorialBtn = document.getElementById('tutorialBtn');
  tutorialBtn.addEventListener('click', () => {
    console.log('Tutorial button clicked');
    // For now, just show an alert. In the future, this will open a comprehensive tutorial
    alert('Tutorial feature coming soon! This will explain everything about inque.');
  });

  // Social media banners functionality
  const socialBanners = document.querySelectorAll('.social-banner');
  socialBanners.forEach(banner => {
    banner.addEventListener('click', () => {
      const platform = banner.getAttribute('data-platform');
      console.log(`Social banner clicked: ${platform}`);
      
      // Define social media URLs (replace with actual URLs)
      const socialUrls = {
        twitter: 'https://twitter.com/inque',
        instagram: 'https://instagram.com/inque',
        discord: 'https://discord.gg/inque',
        youtube: 'https://youtube.com/@inque'
      };
      
      const url = socialUrls[platform];
      if (url) {
        window.open(url, '_blank');
      } else {
        console.log(`No URL defined for ${platform}`);
      }
    });
  });
</script>

<script>
// Profile banner collapse/expand logic
(function() {
  const collapseBtn = document.getElementById('collapseProfileBtn');
  const profileBanner = document.getElementById('profile-banner');
  const collapseIcon = collapseBtn.querySelector('.collapse-icon');
  let collapsed = false;

  if (collapseBtn && profileBanner && collapseIcon) {
    collapseBtn.addEventListener('click', () => {
      collapsed = !collapsed;
      if (collapsed) {
        profileBanner.classList.add('collapsed');
        profileBanner.style.maxHeight = '120px';
        profileBanner.style.overflow = 'hidden';
        collapseBtn.classList.add('collapsed');
        collapseIcon.textContent = '‚ñ≤';
      } else {
        profileBanner.classList.remove('collapsed');
        profileBanner.style.maxHeight = 'none';
        profileBanner.style.overflow = 'visible';
        collapseBtn.classList.remove('collapsed');
        collapseIcon.textContent = '‚ñº';
      }
    });
  }
})();
</script>
