<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Widget Studio - Inque</title>
    <script src="https://www.google.com/recaptcha/enterprise.js?render=6Ldt0YYrAAAAAKyNgAPO8Te96_m5innDHsSkppQc"></script>
    <div id="profileHubContainer"></div>
    <script type="module" crossorigin src="../../assets/widgetStudio-BsvKlbNQ.js"></script>
    <link rel="modulepreload" crossorigin href="../../assets/auth-DH1qQlSb.js">
    <link rel="modulepreload" crossorigin href="../../assets/profile-dashboard-manager-CKqMP8C5.js">
    <link rel="modulepreload" crossorigin href="../../assets/cloud-upload-qx4NH3Ck.js">
    <link rel="modulepreload" crossorigin href="../../assets/css-analyzer-DJZTM973.js">
    <link rel="modulepreload" crossorigin href="../../assets/profile_banner-HbanVse1.js">
    <link rel="stylesheet" crossorigin href="../../assets/profile-dashboard-manager-J6aOG64b.css">
    <link rel="stylesheet" crossorigin href="../../assets/widget_studio-B4gAB3Pv.css">
  </head>
  <body>
    <!-- Navigation Header -->
    <header class="widget-studio-header">
      <div class="header-content">
        <div class="header-left">
          <a href="/pages/profile_dashboard/my-projects.html" class="back-btn">
            <span class="btn-icon">‚Üê</span>
            Yor Profile
          </a>
          <h1 class="page-title">üé® Widget Studio</h1>
        </div>
        <div class="header-right">
          <div class="user-info" id="userInfo">
            <div class="user-avatar" id="userAvatar">
              <span class="avatar-placeholder">üë§</span>
            </div>
            <span class="user-name" id="userName">Loading...</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="widget-studio-main">
      <div class="studio-container">
        <!-- Studio Welcome Section -->
        <div class="studio-welcome">
          <div class="welcome-content">
            <h2>Welcome to Your Widget Studio</h2>
            <p>
              Create, preview, and manage your interactive widgets. Each slot
              can hold a complete project with multiple files.
            </p>
            <button class="onboarding-trigger-btn" id="showOnboardingBtn">
              <span class="btn-icon">üìö</span>
              Widget Upload Guide
            </button>
            <div class="studio-stats">
              <div class="stat-item">
                <span class="stat-number" id="totalWidgets">0</span>
                <span class="stat-label">Total Widgets</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="activeSlots">0</span>
                <span class="stat-label">Active Slots</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="totalFiles">0</span>
                <span class="stat-label">Total Files</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget Slots Grid -->
        <div class="widget-slots-grid">
          <!-- Slot 1 -->
          <div class="widget-slot" data-slot="1">
            <div class="slot-header">
              <h3>Slot 1</h3>
              <span class="slot-status" id="slot1Status">Available</span>
            </div>

            <div class="slot-content">
              <!-- File Upload Area -->
              <div class="file-upload-area" id="uploadArea1">
                <input
                  type="file"
                  class="file-input"
                  data-slot="1"
                  multiple
                  accept=".html,.js,.css,.png,.jpg,.jpeg,.gif,.svg,.json,.webp,.txt,.md"
                  id="fileInput1"
                />
                <div class="upload-placeholder" id="placeholder1">
                  <span class="upload-icon">üìÅ</span>
                  <p>Drop files here or click to upload</p>
                  <span class="upload-hint"
                    >Supports HTML, CSS, JS, images, and more</span
                  >
                </div>
              </div>

              <!-- Selected Files Display -->
              <div
                class="selected-files"
                id="selectedFiles1"
                style="display: none"
              >
                <h4>Selected Files</h4>
                <div class="files-list" id="filesList1"></div>
                <button class="clear-files-btn" data-slot="1">
                  Clear All Files
                </button>
              </div>

              <!-- Widget Information -->
              <div class="widget-info">
                <div class="info-group">
                  <label for="title1">Widget Title</label>
                  <input
                    type="text"
                    class="widget-title"
                    data-slot="1"
                    id="title1"
                    placeholder="Enter widget title"
                  />
                </div>
                <div class="info-group">
                  <label for="description1">Description</label>
                  <textarea
                    class="widget-description"
                    data-slot="1"
                    id="description1"
                    placeholder="Describe your widget"
                    rows="3"
                  ></textarea>
                </div>
                <div class="info-group">
                  <label for="tags1">Tags (optional)</label>
                  <input
                    type="text"
                    class="widget-tags"
                    data-slot="1"
                    id="tags1"
                    placeholder="e.g., game, utility, showcase"
                  />
                </div>
              </div>

              <!-- Slot Actions -->
              <div class="slot-actions">
                <button class="preview-btn" data-slot="1" id="previewBtn1">
                  <span class="btn-icon">üëÅÔ∏è</span>
                  Preview
                </button>
                <button class="upload-btn" data-slot="1" id="uploadBtn1">
                  <span class="btn-icon">üöÄ</span>
                  Upload to Slot 1
                </button>
              </div>

              <!-- Upload Progress -->
              <div class="upload-progress" id="progress1" style="display: none">
                <div class="progress-bar">
                  <div class="progress-fill" id="progressFill1"></div>
                </div>
                <span class="progress-text" id="progressText1">0%</span>
              </div>
            </div>
          </div>

          <!-- Slot 2 -->
          <div class="widget-slot" data-slot="2">
            <div class="slot-header">
              <h3>Slot 2</h3>
              <span class="slot-status" id="slot2Status">Available</span>
            </div>

            <div class="slot-content">
              <!-- File Upload Area -->
              <div class="file-upload-area" id="uploadArea2">
                <input
                  type="file"
                  class="file-input"
                  data-slot="2"
                  multiple
                  accept=".html,.js,.css,.png,.jpg,.jpeg,.gif,.svg,.json,.webp,.txt,.md"
                  id="fileInput2"
                />
                <div class="upload-placeholder" id="placeholder2">
                  <span class="upload-icon">üìÅ</span>
                  <p>Drop files here or click to upload</p>
                  <span class="upload-hint"
                    >Supports HTML, CSS, JS, images, and more</span
                  >
                </div>
              </div>

              <!-- Selected Files Display -->
              <div
                class="selected-files"
                id="selectedFiles2"
                style="display: none"
              >
                <h4>Selected Files</h4>
                <div class="files-list" id="filesList2"></div>
                <button class="clear-files-btn" data-slot="2">
                  Clear All Files
                </button>
              </div>

              <!-- Widget Information -->
              <div class="widget-info">
                <div class="info-group">
                  <label for="title2">Widget Title</label>
                  <input
                    type="text"
                    class="widget-title"
                    data-slot="2"
                    id="title2"
                    placeholder="Enter widget title"
                  />
                </div>
                <div class="info-group">
                  <label for="description2">Description</label>
                  <textarea
                    class="widget-description"
                    data-slot="2"
                    id="description2"
                    placeholder="Describe your widget"
                    rows="3"
                  ></textarea>
                </div>
                <div class="info-group">
                  <label for="tags2">Tags (optional)</label>
                  <input
                    type="text"
                    class="widget-tags"
                    data-slot="2"
                    id="tags2"
                    placeholder="e.g., game, utility, showcase"
                  />
                </div>
              </div>

              <!-- Slot Actions -->
              <div class="slot-actions">
                <button class="preview-btn" data-slot="2" id="previewBtn2">
                  <span class="btn-icon">üëÅÔ∏è</span>
                  Preview
                </button>
                <button class="upload-btn" data-slot="2" id="uploadBtn2">
                  <span class="btn-icon">üöÄ</span>
                  Upload to Slot 2
                </button>
              </div>

              <!-- Upload Progress -->
              <div class="upload-progress" id="progress2" style="display: none">
                <div class="progress-bar">
                  <div class="progress-fill" id="progressFill2"></div>
                </div>
                <span class="progress-text" id="progressText2">0%</span>
              </div>
            </div>
          </div>

          <!-- Slot 3 -->
          <div class="widget-slot" data-slot="3">
            <div class="slot-header">
              <h3>Slot 3</h3>
              <span class="slot-status" id="slot3Status">Available</span>
            </div>

            <div class="slot-content">
              <!-- File Upload Area -->
              <div class="file-upload-area" id="uploadArea3">
                <input
                  type="file"
                  class="file-input"
                  data-slot="3"
                  multiple
                  accept=".html,.js,.css,.png,.jpg,.jpeg,.gif,.svg,.json,.webp,.txt,.md"
                  id="fileInput3"
                />
                <div class="upload-placeholder" id="placeholder3">
                  <span class="upload-icon">üìÅ</span>
                  <p>Drop files here or click to upload</p>
                  <span class="upload-hint"
                    >Supports HTML, CSS, JS, images, and more</span
                  >
                </div>
              </div>

              <!-- Selected Files Display -->
              <div
                class="selected-files"
                id="selectedFiles3"
                style="display: none"
              >
                <h4>Selected Files</h4>
                <div class="files-list" id="filesList3"></div>
                <button class="clear-files-btn" data-slot="3">
                  Clear All Files
                </button>
              </div>

              <!-- Widget Information -->
              <div class="widget-info">
                <div class="info-group">
                  <label for="title2">Widget Title</label>
                  <input
                    type="text"
                    class="widget-title"
                    data-slot="3"
                    id="title3"
                    placeholder="Enter widget title"
                  />
                </div>
                <div class="info-group">
                  <label for="description3">Description</label>
                  <textarea
                    class="widget-description"
                    data-slot="3"
                    id="description3"
                    placeholder="Describe your widget"
                    rows="3"
                  ></textarea>
                </div>
                <div class="info-group">
                  <label for="tags3">Tags (optional)</label>
                  <input
                    type="text"
                    class="widget-tags"
                    data-slot="3"
                    id="tags3"
                    placeholder="e.g., game, utility, showcase"
                  />
                </div>
              </div>

              <!-- Slot Actions -->
              <div class="slot-actions">
                <button class="preview-btn" data-slot="3" id="previewBtn3">
                  <span class="btn-icon">üëÅÔ∏è</span>
                  Preview
                </button>
                <button class="upload-btn" data-slot="3" id="uploadBtn3">
                  <span class="btn-icon">üöÄ</span>
                  Upload to Slot 3
                </button>
              </div>

              <!-- Upload Progress -->
              <div class="upload-progress" id="progress3" style="display: none">
                <div class="progress-bar">
                  <div class="progress-fill" id="progressFill3"></div>
                </div>
                <span class="progress-text" id="progressText3">0%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Studio Actions -->
        <div class="studio-actions">
          <button class="save-all-btn" id="saveAllBtn">
            <span class="btn-icon">üíæ</span>
            Save All Changes
          </button>
          <button class="refresh-btn" id="refreshBtn">
            <span class="btn-icon">üîÑ</span>
            Refresh Studio
          </button>
        </div>
      </div>
    </main>

    <!-- Preview Modal -->
    <div class="preview-modal" id="previewModal">
      <div class="preview-modal-content">
        <div class="preview-modal-header">
          <h3>Widget Preview</h3>
          <button class="preview-modal-close" id="previewModalClose">
            &times;
          </button>
        </div>
        <div class="preview-modal-body" id="previewModalBody">
          <!-- Preview content will be inserted here -->
        </div>
      </div>
    </div>

    <!-- Onboarding Modal -->
    <div class="onboarding-modal" id="onboardingModal" style="display: none">
      <div class="onboarding-modal-content">
        <div class="onboarding-modal-header">
          <h3>üé® Widget Studio Guide</h3>
          <button class="onboarding-modal-close" id="onboardingModalClose">
            &times;
          </button>
        </div>
        <div class="onboarding-modal-body">
          <div class="onboarding-step active" data-step="1">
            <h4>üìÅ File Structure</h4>
            <p>Upload your widget files including:</p>
            <ul>
              <li><strong>HTML file</strong> (index.html or similar)</li>
              <li><strong>CSS files</strong> (styles.css, theme.css, etc.)</li>
              <li>
                <strong>JavaScript files</strong> (script.js, app.js, etc.)
              </li>
              <li><strong>Images & Assets</strong> (png, jpg, svg, etc.)</li>
            </ul>
          </div>

          <div class="onboarding-step" data-step="2">
            <h4>üé® CSS Best Practices</h4>
            <p>For optimal styling results:</p>
            <ul>
              <li>
                <strong>Link CSS files</strong> in your HTML &lt;head&gt;
                section
              </li>
              <li>
                <strong>Use relative paths</strong> for CSS file references
              </li>
              <li>
                <strong>Include all dependencies</strong> (fonts, icons, etc.)
              </li>
              <li>
                <strong>Organize stylesheets</strong> (main.css, components.css)
              </li>
            </ul>
            <div class="code-example">
              <pre><code>&lt;link rel="stylesheet" href="styles.css"&gt;
&lt;link rel="stylesheet" href="components/button.css"&gt;</code></pre>
            </div>
          </div>

          <div class="onboarding-step" data-step="3">
            <h4>üîç CSS Analysis</h4>
            <p>Our AI system will:</p>
            <ul>
              <li><strong>Check CSS dependencies</strong> and missing files</li>
              <li><strong>Detect unused styles</strong> for optimization</li>
              <li>
                <strong>Analyze code quality</strong> and suggest improvements
              </li>
              <li><strong>Optimize CSS</strong> for better performance</li>
            </ul>
          </div>

          <div class="onboarding-step" data-step="4">
            <h4>‚úÖ Ready to Upload!</h4>
            <p>Your widget will be analyzed and optimized automatically:</p>
            <ul>
              <li>‚úÖ CSS files processed and optimized</li>
              <li>‚úÖ Dependencies resolved and validated</li>
              <li>‚úÖ Issues identified and suggestions provided</li>
              <li>‚úÖ Preview available before upload</li>
            </ul>
          </div>
        </div>
        <div class="onboarding-modal-footer">
          <div class="onboarding-progress">
            <span class="progress-dot active" data-step="1"></span>
            <span class="progress-dot" data-step="2"></span>
            <span class="progress-dot" data-step="3"></span>
            <span class="progress-dot" data-step="4"></span>
          </div>
          <div class="onboarding-controls">
            <button
              class="onboarding-btn secondary"
              id="onboardingPrev"
              style="display: none"
            >
              Previous
            </button>
            <button class="onboarding-btn primary" id="onboardingNext">
              Next
            </button>
            <button class="onboarding-btn success" id="onboardingSkip">
              Skip Guide
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script>
      // Onboarding Modal Functionality
      class OnboardingManager {
        constructor() {
          this.currentStep = 1;
          this.totalSteps = 4;
          this.onboardingCompleted =
            localStorage.getItem("widgetStudioOnboarding") === "completed";

          this.init();
        }

        init() {
          if (!this.onboardingCompleted) {
            // Show onboarding after a short delay
            setTimeout(() => {
              this.showOnboarding();
            }, 1000);
          }

          this.setupEventListeners();
        }

        setupEventListeners() {
          // Trigger button
          const showBtn = document.getElementById("showOnboardingBtn");
          if (showBtn) {
            showBtn.addEventListener("click", () => this.showOnboarding());
          }

          // Modal close button
          const closeBtn = document.getElementById("onboardingModalClose");
          if (closeBtn) {
            closeBtn.addEventListener("click", () => this.hideOnboarding());
          }

          // Skip button
          const skipBtn = document.getElementById("onboardingSkip");
          if (skipBtn) {
            skipBtn.addEventListener("click", () => this.completeOnboarding());
          }

          // Next/Previous buttons
          const nextBtn = document.getElementById("onboardingNext");
          const prevBtn = document.getElementById("onboardingPrev");

          if (nextBtn) {
            nextBtn.addEventListener("click", () => this.nextStep());
          }

          if (prevBtn) {
            prevBtn.addEventListener("click", () => this.previousStep());
          }

          // Click outside modal to close
          const modal = document.getElementById("onboardingModal");
          if (modal) {
            modal.addEventListener("click", (e) => {
              if (e.target === modal) {
                this.hideOnboarding();
              }
            });
          }

          // Keyboard navigation
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && modal && modal.style.display !== "none") {
              this.hideOnboarding();
            }
          });
        }

        showOnboarding() {
          const modal = document.getElementById("onboardingModal");
          if (modal) {
            modal.style.display = "flex";
            document.body.style.overflow = "hidden";
            this.currentStep = 1;
            this.updateOnboardingDisplay();
          }
        }

        hideOnboarding() {
          const modal = document.getElementById("onboardingModal");
          if (modal) {
            modal.style.display = "none";
            document.body.style.overflow = "";
          }
        }

        completeOnboarding() {
          localStorage.setItem("widgetStudioOnboarding", "completed");
          this.hideOnboarding();

          // Show welcome message
          const toast = document.createElement("div");
          toast.className = "toast success";
          toast.innerHTML = `
            <span class="toast-message">Welcome to Widget Studio! üé® Your CSS files will be analyzed automatically.</span>
            <button class="toast-close">&times;</button>
          `;
          document.getElementById("toastContainer").appendChild(toast);

          setTimeout(() => toast.remove(), 5000);
        }

        nextStep() {
          if (this.currentStep < this.totalSteps) {
            this.currentStep++;
            this.updateOnboardingDisplay();

            // Complete onboarding on last step
            if (this.currentStep === this.totalSteps) {
              setTimeout(() => this.completeOnboarding(), 500);
            }
          }
        }

        previousStep() {
          if (this.currentStep > 1) {
            this.currentStep--;
            this.updateOnboardingDisplay();
          }
        }

        updateOnboardingDisplay() {
          // Update steps
          const steps = document.querySelectorAll(".onboarding-step");
          steps.forEach((step) => step.classList.remove("active"));
          const currentStepEl = document.querySelector(
            `[data-step="${this.currentStep}"]`
          );
          if (currentStepEl) {
            currentStepEl.classList.add("active");
          }

          // Update progress dots
          const dots = document.querySelectorAll(".progress-dot");
          dots.forEach((dot) => dot.classList.remove("active"));
          const currentDot = document.querySelector(
            `.progress-dot[data-step="${this.currentStep}"]`
          );
          if (currentDot) {
            currentDot.classList.add("active");
          }

          // Update buttons
          const prevBtn = document.getElementById("onboardingPrev");
          const nextBtn = document.getElementById("onboardingNext");
          const skipBtn = document.getElementById("onboardingSkip");

          if (prevBtn) {
            prevBtn.style.display = this.currentStep > 1 ? "block" : "none";
          }

          if (nextBtn) {
            nextBtn.textContent =
              this.currentStep === this.totalSteps ? "Get Started!" : "Next";
          }

          if (skipBtn) {
            skipBtn.style.display =
              this.currentStep === this.totalSteps ? "none" : "block";
          }
        }
      }

      // Initialize onboarding when DOM is ready
      document.addEventListener("DOMContentLoaded", () => {
        new OnboardingManager();
      });
    </script>
  </body>
</html>
